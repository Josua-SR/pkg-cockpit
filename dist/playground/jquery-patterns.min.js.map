{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"jQuery\"","webpack:///../pkg/lib/patterns.js","webpack:///../pkg/playground/jquery-patterns.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","jQuery","clear_errors","sel","find","remove","removeClass","off","display_errors","errors","length","$","isArray","any","forEach","error","target","next","refresh","message","wrapper","parent","is","insertBefore","selectpicker","appendTo","text","addClass","append","hasClass","on","css","field_error","alert","toString","prependTo","console","warn","footer","global_error","DialogWait","promise","handle","this","disabled","clear_wait","data","ctl","removeAttr","display_wait","modal","wait","first","before","cancellation","cancel","close","cancelled","controls","add","not","each","attr","push","apply","always","state","arguments","progress","arg","resize_flex","slider","flex","total","part","isNaN","update_value","children","check_overflow","toggleClass","offsetWidth","scrollWidth","setup_slider","parseFloat","getAttribute","set","v","String","setAttribute","hasAttribute","toLowerCase","ev","offset","left","hitx","offsetX","clientX","outerWidth","width","pageX","trigger","document","fn","dialog","action","Array","slice","window","addEventListener","ready","update_privileged","perm","denied_message","placement","tooltip_element","allowed","options","html","tooltip","show","Error","ex1","ex2","deferred","Deferred","count","interval","setInterval","notify","setTimeout","clearInterval","resolve","reject","operation","delegateTarget","log","parents","addBack","filter","stopPropagation"],"mappings":"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","file":"playground/jquery-patterns.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","module.exports = jQuery;","import $ from 'jquery';\n\n/* Dialog Patterns */\n\nfunction clear_errors(sel) {\n    sel.find(\".dialog-error\").remove();\n    sel.find(\".has-error\").removeClass(\"has-error\");\n    sel.find(\".dialog-wrapper\").off(\".dialog-error\");\n    sel.off(\".dialog-error\");\n}\n\nfunction field_error(target, error) {\n    var wrapper = target.parent();\n    var next, refresh;\n\n    if (!wrapper.is(\".dialog-wrapper\")) {\n        wrapper = $(\"<div class='dialog-wrapper'>\").insertBefore(target);\n\n        /*\n         * Some bootstrap plugins replace html controls with their own\n         * stuff, so we have to account for that here.\n         */\n\n        next = target.next();\n        if (next.is(\".bootstrap-select\") && next.selectpicker) {\n            next.remove();\n            refresh = next.selectpicker;\n        }\n\n        target.remove().appendTo(wrapper);\n\n        if (refresh)\n            refresh.call(target);\n    }\n\n    var message;\n    if (error.message)\n        message = $(\"<div class='dialog-error help-block'>\").text(error.message);\n    wrapper.addClass(\"has-error\").append(message);\n\n    if (!wrapper.hasClass(\"error-keep\")) {\n        wrapper.on(\"keypress.dialog-error change.dialog-error\", function() {\n            wrapper.removeClass(\"has-error\")\n                    .find(\".dialog-error.help-block\")\n                    .css(\"visibility\", \"hidden\");\n        });\n    }\n}\n\nfunction global_error(sel, error) {\n    var alert = $(\"<div class='alert alert-danger dialog-error'>\");\n    var text = error.message || error.toString();\n    alert.text(text);\n    $(\"<span class='fa fa-exclamation-triangle'>\").prependTo(alert);\n\n    /* Always log global dialog errors for easier debugging */\n    console.warn(text);\n\n    var footer = sel.find(\".modal-footer\");\n    if (footer.length)\n        alert.prependTo(footer);\n    else\n        alert.appendTo(sel);\n}\n\nfunction display_errors(sel, errors) {\n    clear_errors(sel);\n\n    /* The list of errors can also be passed as an array */\n    if (errors.length == 1 && $.isArray(errors[0]))\n        errors = errors[0];\n\n    var any = false;\n    errors.forEach(function(error) {\n        var target;\n        if (error) {\n            target = sel.find(error.target);\n\n            /* Errors for a specific field added below that field */\n            if (target && target.length)\n                field_error(target, error);\n            else\n                global_error(sel, error);\n\n            any = true;\n        }\n    });\n\n    if (!any)\n        return;\n\n    /* When dialog is shown again, remove all mods */\n    sel.on(\"show.bs.modal.dialog-error\", function() {\n        clear_errors(sel);\n    });\n}\n\nfunction DialogWait(promise, handle) {\n    this.promise = promise;\n    this.disabled = [];\n    this.handle = handle;\n}\n\nfunction clear_wait(sel) {\n    var data = sel.data(\"dialog-wait\");\n    sel.data(\"dialog-wait\", null);\n\n    sel.find(\".dialog-wait-ct\").remove();\n    sel.find(\".btn\").off(\".dialog-wait\");\n    sel.off(\".dialog-wait\");\n\n    if (data) {\n        data.disabled.forEach(function(ctl) {\n            ctl.removeAttr(\"disabled\");\n        });\n    }\n}\n\nfunction display_wait(sel, promise, handle) {\n    clear_wait(sel);\n\n    if (!promise) {\n        if (handle)\n            sel.modal(\"hide\");\n        return sel;\n    }\n\n    /* Clear all errors in the dialog */\n    if (handle)\n        display_errors(sel, []);\n\n    var wait = $(\"<div class='dialog-wait-ct pull-left'>\");\n    $(\"<div class='spinner spinner-sm'>\").appendTo(wait);\n    var message = $(\"<span>\").appendTo(wait);\n\n    sel.find(\".modal-footer button\").first()\n            .before(wait);\n\n    var data = new DialogWait(promise, handle);\n    sel.data(\"dialog-wait\", data);\n\n    var cancellation = promise.cancel || promise.close;\n    var cancelled = false;\n\n    /* Disable everything and stash previous disabled state */\n    var controls = sel.find(\".form-control\").add(\".btn\", sel);\n    if (cancellation)\n        controls = controls.not(\"[data-dismiss]\").not(\".btn-cancel\");\n    controls.each(function() {\n        var ctl = $(this);\n        if (!ctl.attr(\"disabled\")) {\n            data.disabled.push(ctl);\n            ctl.attr(\"disabled\", \"disabled\");\n        }\n    });\n\n    sel.find(\".btn[data-dismiss], .btn-cancel\").on(\"click.dialog-wait\", function() {\n        cancelled = true;\n        if (cancellation)\n            cancellation.apply(promise);\n        return false;\n    });\n\n    /* When dialog is shown again, remove all mods */\n    sel.on(\"hide.bs.modal.dialog-wait\", function() {\n        clear_wait(sel);\n    });\n\n    /*\n     * There is no way to remove a callback from a promise\n     * so we have to be careful to only react if still\n     * processing the same promise.\n     */\n    function restore() {\n        var state;\n        var data = sel.data(\"dialog-wait\");\n        if (data && data.promise === promise) {\n            clear_wait(sel);\n            state = promise.state();\n            if (cancelled || (state == \"resolved\" && data.handle))\n                sel.modal('hide');\n            else if (state == \"rejected\" && data.handle)\n                display_errors(sel, [ arguments[0] ]);\n        }\n    }\n\n    function update(arg) {\n        var data = sel.data(\"dialog-wait\");\n        if (data && data.promise === promise) {\n            if (typeof arg !== \"string\")\n                arg = \"\";\n            message.text(arg);\n        }\n    }\n\n    promise\n            .always(restore)\n            .progress(update);\n\n    return sel;\n}\n\n$.fn.dialog = function dialog(action /* ... */) {\n    if (action === \"failure\")\n        return display_errors(this, Array.prototype.slice.call(arguments, 1));\n    else if (action === \"wait\")\n        return display_wait(this, arguments[1]);\n    else if (action === \"promise\")\n        return display_wait(this, arguments[1], true);\n    else\n        console.warn(\"unknown dialog action: \" + action);\n};\n\nwindow.addEventListener(\"hashchange\", function() {\n    $(\".modal\").modal(\"hide\");\n});\n\n/* ----------------------------------------------------------------------------\n * Sliders\n *\n * <div class=\"slider\" value=\"0.5\">\n *    <div class=\"slider-bar\">\n *        <div class=\"slider-thumb\"></div>\n *    </div>\n *    <div class=\"slider-bar\">\n *        <!-- optional left overs -->\n *    </div>\n * </div>\n *\n * A slider control. The first div.slider-bar is the one that is resized.\n * The value will be bounded between 0 and 1 as a floating point number.\n *\n * The following div.slider-bar if present is resized to fill the remainder\n * of the slider if not given a specific size. You can put more div.slider-bar\n * inside it to reflect squashing other prevous allocations.\n *\n * If the following div.slider-bar have a width specified, then the\n * slider supports the concept of overflowing. If the slider overflows\n * it will get the .slider-warning class and go a bit red.\n *\n * On document creation any div.slider are automatically turned into\n * Bar graphs.\n *\n * Slider has the following extra read/write properties:\n *\n * .value: the floating point value the slider is set to.\n * .disabled: whether to display slider as disabled and refuse interacton.\n *\n * Slider has this event:\n *\n * on('change'): fired when the slider changes, passes value as additional arg.\n */\n\nfunction resize_flex(slider, flex, total, part) {\n    var value = 0;\n    if (part > total)\n        value = 1;\n    else if (part < 0 || isNaN(part))\n        value = 0;\n    else if (!isNaN(total) && total > 0 && part >= 0)\n        value = (part / total);\n    $(flex).css('width', (value * 100) + \"%\")\n            .next(\"div\")\n            .css('margin-left', $(flex).css('width'));\n\n    /* Set the property and the attribute */\n    slider.value = value;\n}\n\nfunction update_value(slider) {\n    resize_flex(slider, $(slider).children(\"div.slider-bar\")\n            .first()[0], 1, slider.value);\n}\n\nfunction check_overflow(slider) {\n    $(slider).toggleClass(\"slider-warning\",\n                          slider.offsetWidth < slider.scrollWidth);\n}\n\nfunction setup_slider(slider) {\n    $(slider).attr('unselectable', 'on');\n\n    Object.defineProperty(slider, \"value\", {\n        get: function() {\n            return parseFloat(this.getAttribute(\"value\"));\n        },\n        set: function(v) {\n            var s = String(v);\n            if (s != this.getAttribute(\"value\")) {\n                this.setAttribute(\"value\", v);\n                update_value(slider);\n                check_overflow(slider);\n            }\n        }\n    });\n\n    Object.defineProperty(slider, \"disabled\", {\n        get: function() {\n            if (!this.hasAttribute(\"disabled\"))\n                return false;\n            return this.getAttribute(\"disabled\").toLowerCase() != \"false\";\n        },\n        set: function(v) {\n            this.setAttribute(\"disabled\", v ? \"true\" : \"false\");\n        }\n    });\n\n    update_value(slider);\n    check_overflow(slider);\n\n    $(slider).on(\"change\", function() {\n        update_value(slider);\n        $(slider).toggleClass(\"slider-disabled\", slider.disabled);\n    });\n\n    if (slider.disabled)\n        $(slider).addClass(\"slider-disabled\");\n\n    $(slider).on(\"mousedown\", function(ev) {\n        if (slider.disabled)\n            return true; /* default action */\n        var flex;\n        var offset = $(slider).offset().left;\n        if ($(ev.target).hasClass(\"slider-thumb\")) {\n            var hitx = (ev.offsetX || ev.clientX - $(ev.target).offset().left);\n            offset += (hitx - $(ev.target).outerWidth() / 2);\n            flex = $(ev.target).parent()[0];\n        } else {\n            flex = $(slider).children(\"div.slider-bar\")\n                    .first()[0];\n            resize_flex(slider, flex, $(slider).width(), (ev.pageX - offset));\n            $(slider).trigger(\"change\", [slider.value]);\n            check_overflow(slider);\n        }\n\n        $(document)\n                .on(\"mousemove.slider\", function(ev) {\n                    resize_flex(slider, flex, $(slider).width(), (ev.pageX - offset));\n                    $(slider).trigger(\"change\", [slider.value]);\n                    check_overflow(slider);\n                    return false;\n                })\n                .on(\"mouseup.slider\", function(ev) {\n                    $(document)\n                            .off(\"mousemove.slider\")\n                            .off(\"mouseup.slider\");\n                    return false;\n                });\n        return false; /* no default action */\n    });\n}\n\nfunction setup_sliders() {\n    $(\"div.slider\").each(function() {\n        setup_slider(this);\n    });\n}\n\n$.fn.slider = function Slider(action) {\n    var sel = this;\n    if (arguments.length === 0 || action == \"refresh\") {\n        sel.each(function() {\n            setup_slider(this);\n        });\n        return sel;\n    } else {\n        console.warn(\"unknown slider action: \" + action);\n    }\n};\n\n$(document).ready(setup_sliders);\n\n/* -----------------------------------------------------------------------------\n * Privileged UI actions.\n */\n\n// placement is optional, \"top\", \"left\", \"bottom\", \"right\"\n// by default, tooltip is attached to \"this\" element; can be attached to\n// another one with setting \"tooltip_element\" (for <a> links)\n$.fn.update_privileged = function update_privileged(perm, denied_message, placement, tooltip_element) {\n    var allowed = (perm.allowed !== false);\n    var selector = this;\n    if (!tooltip_element)\n        tooltip_element = $(this);\n\n    selector.each(function() {\n        // preserve old title first time to use when allowed\n        // activate tooltip\n        var allowed_key = 'allowed-title';\n        if (typeof $(this).data(allowed_key) === 'undefined' ||\n               $(this).data(allowed_key) === false)\n            $(this).data(allowed_key, $(this).attr('title') || \"\");\n\n        var options = { html: true };\n        if (placement)\n            options['placement'] = placement;\n\n        tooltip_element.tooltip(options);\n\n        if ($(this).hasClass(\"disabled\") === allowed) {\n            $(this).toggleClass(\"disabled\", !allowed);\n            tooltip_element.attr('data-original-title', null);\n\n            if (allowed)\n                tooltip_element.attr('title', $(this).data(allowed_key));\n            else\n                tooltip_element.attr('title', denied_message);\n            tooltip_element.tooltip('fixTitle');\n        }\n        $(this).attr('data-stable', 'yes');\n    });\n\n    return selector;\n};\n","import $ from \"jquery\";\n\nimport \"patterns\";\nimport \"page.css\";\nimport \"listing.less\";\nimport \"timeline.css\";\nimport \"table.css\";\n\n$(function() {\n    $(document).ready(function() {\n        $(\"body\").show();\n    });\n\n    /*\n     * When this dialog button is clicked, we show a global failure message\n     * that is displayed in the dialog itself.\n     */\n    $(\"#error-button\").on(\"click\", function() {\n        $(\"#test-dialog\").dialog('failure', new Error(\"This is a global failure message\"));\n    });\n\n    /*\n     * These are failures targetted at specific fields. Note that we set\n     * selectors on the target property of the exception. Also note how\n     * the .dialog('failure') accepts multiple exceptions as arguments.\n     */\n    $(\"#fields-button\").on(\"click\", function() {\n        var ex1 = new Error(\"This field is invalid\");\n        ex1.target = \"#control-1\";\n        var ex2 = new Error(\"Another problem with this field\");\n        ex2.target = \"#control-2\";\n        $(\"#test-dialog\").dialog('failure', ex1, ex2);\n    });\n\n    /*\n     * Clearing the failures in the dialog is done by passing a null\n     * exception or no exceptions at all.\n     */\n    $(\"#clear-button\").on(\"click\", function() {\n        $(\"#test-dialog\").dialog('failure', null);\n    });\n\n    /*\n     * This is an example of a dialog waiting for a promise to complete.\n     *\n     * If the promise has a .cancel() or .close() method then the Cancel\n     * button in the dialog can be used to cancel the operation.\n     *\n     * In addition if the promise produces progress string information that\n     * info will be shown next to the spinner.\n     */\n    $(\"#wait-button\").on(\"click\", function() {\n        $(\"#test-dialog\").dialog('wait', operation());\n    });\n\n    /* A mock operation, cancellable with progress */\n    function operation() {\n        var deferred = $.Deferred();\n        var count = 0;\n        var interval = window.setInterval(function() {\n            count += 1;\n            deferred.notify(\"Step \" + count);\n        }, 500);\n        window.setTimeout(function() {\n            window.clearInterval(interval);\n            deferred.resolve();\n        }, 5000);\n        var promise = deferred.promise();\n        promise.cancel = function() {\n            window.clearInterval(interval);\n            deferred.notify(\"Cancelling...\");\n            window.setTimeout(function() {\n                deferred.reject();\n            }, 1000);\n        };\n        return promise;\n    }\n\n    /* Select */\n\n    $(\"#control-2\").on(\"click\", \"[value]\", function(ev) {\n        var target = $(this);\n        $(\"span\", ev.delegateTarget).first()\n                .text(target.text());\n        console.log(\"value: \", target.attr(\"value\"));\n    });\n\n    /* Listing clicks */\n\n    $(\"body\")\n            .on(\"click\", \".listing-ct-item:not(.listing-ct-head)\", function(ev) {\n            /* If expanded or can't navigate, collapse - otherwise navigate */\n                if ($(this).parents(\"tbody.open\").length)\n                    $(this).parents(\"tbody.open\")\n                            .toggleClass(\"open\");\n                /* Only proceed if a .btn a li or .timeline-ct was not clicked on */\n                else if ($(ev.target).parents()\n                        .addBack()\n                        .filter(\".btn, a, li, .timeline-ct\").length === 0)\n                    window.alert(\"Navigate to details page\");\n            })\n            .on(\"click\", \"tr.listing-ct-head\", function(ev) {\n            /* Only proceed if a .btn a li or .timeline-ct was not clicked on */\n                if ($(ev.target).parents()\n                        .addBack()\n                        .filter(\".btn, a, li, .timeline-ct\").length === 0)\n                    $(this).parents(\"tbody\")\n                            .toggleClass(\"open\");\n            })\n            .on(\"click\", \".listing-ct-toggle\", function(ev) {\n                $(this).parents(\"tbody\")\n                        .toggleClass(\"open\");\n                ev.stopPropagation();\n            });\n});\n"],"sourceRoot":""}