!function(e){var n={};function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(a,o,function(n){return e[n]}.bind(null,o));return a},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=27)}({2:function(e,n){e.exports=cockpit},27:function(e,n,t){e.exports=t(28)},28:function(e,n,t){"use strict";t.r(n);var a=t(2),o=t.n(a),r=null,d=null,l=null,i=null,c=0,u=null;function s(){var e=document.getElementById("speed");r||d?(e.innerHTML=o.a.format_bytes_per_sec(1e3*c/(Date.now()-i)),console.log(c)):e.innerHTML="";var n=document.getElementById("memory"),t=document.getElementById("pid");u||(u=o.a.script("echo $PPID && cat /proc/$PPID/statm")).then(function(e){var a=e.split("\n");t.innerHTML=a[0],n.innerHTML=a[1],u=null},function(e){n.innerHTML=String(e),u=null})}function f(e){y();var n="echo-sideband"==e.target.id;var t=parseInt(document.getElementById("message").value,10),a=parseInt(document.getElementById("batch").value,10),u=parseInt(document.getElementById("interval").value,10);if(isNaN(t)||isNaN(u)||isNaN(a))window.alert("Bad value");else{var s=document.getElementById.checked,f={payload:"echo"},p=function(e,n){return n?new window.ArrayBuffer(e):new Array(e).join("x")}(t,s);if(i=new Date,c=0,n)s&&(f.binary="raw"),(d=new window.WebSocket(o.a.transport.uri("channel/"+o.a.transport.csrf_token)+"?"+window.btoa(JSON.stringify(f)))).binaryType="arraybuffer",d.onopen=function(){for(var e=0;e<a;e++)d.send(p);l=window.setInterval(function(){for(var e=0;e<a;e++)d.send(p)},u)},d.onmessage=function(e){c+=s?e.data.byteLength:e.data.length},d.onclose=function(e){d&&window.alert("channel closed"),y()};else{s&&(f.binary=!0),(r=o.a.channel(f)).addEventListener("message",function(e,n){c+=n.length}),r.addEventListener("close",function(e,n){n.problem&&window.alert(n.problem),y()});for(var m=0;m<a;m++)r.send(p);l=window.setInterval(function(){for(var e=0;e<a;e++)r.send(p)},u)}}}function p(e){y();var n="read-sideband"==e.target.id,t={payload:"fsread1",path:document.getElementById("read-path").value,max_read_size:107374182400,binary:!n||"raw"};i=Date.now(),c=0,n?((d=new window.WebSocket(o.a.transport.uri("channel/"+o.a.transport.csrf_token)+"?"+window.btoa(JSON.stringify(t)))).binaryType="arraybuffer",d.onmessage=function(e){c+=e.data.byteLength},d.onclose=function(e){d&&window.alert("channel closed"),y()}):((r=o.a.channel(t)).addEventListener("message",function(e,n){c+=n.length}),r.addEventListener("close",function(e,n){n.problem&&window.alert(n.problem),y()}))}function m(e){y();var n,t=document.getElementById("download-path"),a={binary:"raw",max_read_size:107374182400,external:{"content-disposition":'attachment; filename="download"',"content-type":"application/octet-stream"}};0===t.value.indexOf("http")?((n=document.createElement("a")).href=t.value,a.payload="http-stream2",a.address=n.hostname,a.port=parseInt(n.port,10),a.path=n.pathname,a.method="GET"):(a.payload="fsread1",a.path=t.value),console.log("Download",a),i=Date.now(),c=0;var r=new URL(o.a.transport.uri("channel/"+o.a.transport.csrf_token)).pathname,d=window.btoa(JSON.stringify(a));window.open(r+"?"+d)}function y(){s(),r&&r.close(),r=null;var e=d;d=null,e&&e.close(),window.clearInterval(l),l=null}o.a.transport.wait(function(){document.getElementById("echo-normal").addEventListener("click",f),document.getElementById("echo-sideband").addEventListener("click",f),document.getElementById("read-normal").addEventListener("click",p),document.getElementById("read-sideband").addEventListener("click",p),document.getElementById("download-external").addEventListener("click",m),document.getElementById("stop").addEventListener("click",y),window.setInterval(s,500),document.body.style.display="block"})}});
//# sourceMappingURL=speed.min.js.map