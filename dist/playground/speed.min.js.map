{"version":3,"sources":["webpack:///playground/speed.min.js","webpack:///webpack/bootstrap 0247180711265417b506?86c3*****","webpack:///external \"jQuery\"?0cb8****","webpack:///external \"cockpit\"?478e*****","webpack:///../pkg/playground/speed.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","0","6","jQuery","8","cockpit","40","speed","bytes","start","suffix","done","Date","now","$","text","format_bytes_per_sec","generate","length","binary","window","ArrayBuffer","Array","join","normal","empty","parseInt","val","batch","interval","isNaN","alert","prop","options","payload","channel","total","on","event","data","problem","input","i","send","update","setInterval","timer","setTimeout","clearInterval","close","sideband","params","url","transport","uri","csrf_token","ws","WebSocket","btoa","JSON","stringify","binaryType","onopen","onmessage","byteLength","onclose","wait","show"],"mappings":"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","file":"playground/speed.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(40);\n\n\n/***/ },\n\n/***/ 6:\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n\n/***/ 8:\n/***/ function(module, exports) {\n\n\tmodule.exports = cockpit;\n\n/***/ },\n\n/***/ 40:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function() {\n\t    var $ = __webpack_require__(6);\n\t    var cockpit = __webpack_require__(8);\n\t\n\t    function speed(bytes, start, suffix) {\n\t        var done = Date.now();\n\t        suffix = suffix || \"\";\n\t        $(\"#speed\").text(cockpit.format_bytes_per_sec((bytes * 1000) / (done - start)) + suffix);\n\t    }\n\t\n\t    function generate(length, binary) {\n\t        if (binary)\n\t            return new window.ArrayBuffer(length);\n\t        else\n\t            return (new Array(length)).join(\"x\");\n\t    }\n\t\n\t    function normal() {\n\t        $(\"#speed\").empty();\n\t\n\t        var length = parseInt($(\"#message\").val(), 10);\n\t        var batch = parseInt($(\"#batch\").val(), 10);\n\t        var interval = parseInt($(\"#interval\").val(), 10);\n\t\n\t        if (isNaN(length) || isNaN(interval) || isNaN(batch)) {\n\t            window.alert(\"Bad value\");\n\t            return;\n\t        }\n\t\n\t        var binary = $(\"#binary\").prop('checked');\n\t        var options = { payload: \"echo\" };\n\t        if (binary)\n\t            options.binary = true;\n\t        var channel = cockpit.channel(options);\n\t\n\t        var total = 0;\n\t        $(channel).on(\"message\", function(event, data) {\n\t            total += data.length;\n\t        });\n\t\n\t        $(channel).on(\"close\", function(event, options) {\n\t            if (options.problem)\n\t                window.alert(options.problem);\n\t        });\n\t\n\t        var input = generate(length, binary);\n\t        var start = Date.now();\n\t        for (var i = 0; i < batch; i++)\n\t            channel.send(input);\n\t\n\t        var update = window.setInterval(function() {\n\t            speed(total, start, \"...\");\n\t        }, 500);\n\t\n\t        var timer = window.setInterval(function() {\n\t            for (var i = 0; i < batch; i++)\n\t                channel.send(input);\n\t        }, interval);\n\t\n\t        window.setTimeout(function() {\n\t            window.clearInterval(timer);\n\t            window.clearInterval(update);\n\t            channel.close();\n\t            speed(total, start);\n\t        }, 10000);\n\t    }\n\t\n\t    function sideband() {\n\t        $(\"#speed\").empty();\n\t\n\t        var length = parseInt($(\"#message\").val(), 10);\n\t        var batch = parseInt($(\"#batch\").val(), 10);\n\t        var interval = parseInt($(\"#interval\").val(), 10);\n\t\n\t        if (isNaN(length) || isNaN(interval) || isNaN(batch)) {\n\t            window.alert(\"Bad value\");\n\t            return;\n\t        }\n\t\n\t        var binary = $(\"#binary\").prop('checked');\n\t        var params = { payload: \"echo\" };\n\t        if (binary)\n\t            params.binary = \"raw\";\n\t\n\t        var url = cockpit.transport.uri(\"channel/\" + cockpit.transport.csrf_token);\n\t        var ws = new window.WebSocket(url + \"?\" + window.btoa(JSON.stringify(params)));\n\t\n\t        ws.binaryType = 'arraybuffer';\n\t\n\t        var input = generate(length, binary);\n\t        var done = false;\n\t        var start;\n\t        var total = 0;\n\t        var timer;\n\t\n\t        ws.onopen = function() {\n\t            start = new Date();\n\t            for (var i = 0; i < batch; i++)\n\t                ws.send(input);\n\t            timer = window.setInterval(function() {\n\t                for (var i = 0; i < batch; i++)\n\t                    ws.send(input);\n\t            }, interval);\n\t        };\n\t\n\t        ws.onmessage = function(event) {\n\t            if (binary)\n\t                total += event.data.byteLength;\n\t            else\n\t                total += event.data.length;\n\t        };\n\t\n\t        var update = window.setInterval(function() {\n\t            speed(total, start, \"...\");\n\t        }, 500);\n\t\n\t        ws.onclose = function(event) {\n\t            if (!done)\n\t                window.alert(\"channel closed\");\n\t        };\n\t\n\t        window.setTimeout(function() {\n\t            done = true;\n\t            window.clearInterval(timer);\n\t            window.clearInterval(update);\n\t            ws.close();\n\t            speed(total, start);\n\t        }, 10000);\n\t    }\n\t\n\t    cockpit.transport.wait(function() {\n\t        $(\"#normal\").on(\"click\", normal);\n\t        $(\"#sideband\").on(\"click\", sideband);\n\t        $(\"body\").show();\n\t    });\n\t}());\n\n\n/***/ }\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// playground/speed.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 0247180711265417b506","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 6\n// module chunks = 0 1 2 3 5 6 7 8","module.exports = cockpit;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cockpit\"\n// module id = 8\n// module chunks = 0 1 2 3 4 5 6 7 8","'use strict';\n\n(function() {\n    var $ = require(\"jquery\");\n    var cockpit = require(\"cockpit\");\n\n    function speed(bytes, start, suffix) {\n        var done = Date.now();\n        suffix = suffix || \"\";\n        $(\"#speed\").text(cockpit.format_bytes_per_sec((bytes * 1000) / (done - start)) + suffix);\n    }\n\n    function generate(length, binary) {\n        if (binary)\n            return new window.ArrayBuffer(length);\n        else\n            return (new Array(length)).join(\"x\");\n    }\n\n    function normal() {\n        $(\"#speed\").empty();\n\n        var length = parseInt($(\"#message\").val(), 10);\n        var batch = parseInt($(\"#batch\").val(), 10);\n        var interval = parseInt($(\"#interval\").val(), 10);\n\n        if (isNaN(length) || isNaN(interval) || isNaN(batch)) {\n            window.alert(\"Bad value\");\n            return;\n        }\n\n        var binary = $(\"#binary\").prop('checked');\n        var options = { payload: \"echo\" };\n        if (binary)\n            options.binary = true;\n        var channel = cockpit.channel(options);\n\n        var total = 0;\n        $(channel).on(\"message\", function(event, data) {\n            total += data.length;\n        });\n\n        $(channel).on(\"close\", function(event, options) {\n            if (options.problem)\n                window.alert(options.problem);\n        });\n\n        var input = generate(length, binary);\n        var start = Date.now();\n        for (var i = 0; i < batch; i++)\n            channel.send(input);\n\n        var update = window.setInterval(function() {\n            speed(total, start, \"...\");\n        }, 500);\n\n        var timer = window.setInterval(function() {\n            for (var i = 0; i < batch; i++)\n                channel.send(input);\n        }, interval);\n\n        window.setTimeout(function() {\n            window.clearInterval(timer);\n            window.clearInterval(update);\n            channel.close();\n            speed(total, start);\n        }, 10000);\n    }\n\n    function sideband() {\n        $(\"#speed\").empty();\n\n        var length = parseInt($(\"#message\").val(), 10);\n        var batch = parseInt($(\"#batch\").val(), 10);\n        var interval = parseInt($(\"#interval\").val(), 10);\n\n        if (isNaN(length) || isNaN(interval) || isNaN(batch)) {\n            window.alert(\"Bad value\");\n            return;\n        }\n\n        var binary = $(\"#binary\").prop('checked');\n        var params = { payload: \"echo\" };\n        if (binary)\n            params.binary = \"raw\";\n\n        var url = cockpit.transport.uri(\"channel/\" + cockpit.transport.csrf_token);\n        var ws = new window.WebSocket(url + \"?\" + window.btoa(JSON.stringify(params)));\n\n        ws.binaryType = 'arraybuffer';\n\n        var input = generate(length, binary);\n        var done = false;\n        var start;\n        var total = 0;\n        var timer;\n\n        ws.onopen = function() {\n            start = new Date();\n            for (var i = 0; i < batch; i++)\n                ws.send(input);\n            timer = window.setInterval(function() {\n                for (var i = 0; i < batch; i++)\n                    ws.send(input);\n            }, interval);\n        };\n\n        ws.onmessage = function(event) {\n            if (binary)\n                total += event.data.byteLength;\n            else\n                total += event.data.length;\n        };\n\n        var update = window.setInterval(function() {\n            speed(total, start, \"...\");\n        }, 500);\n\n        ws.onclose = function(event) {\n            if (!done)\n                window.alert(\"channel closed\");\n        };\n\n        window.setTimeout(function() {\n            done = true;\n            window.clearInterval(timer);\n            window.clearInterval(update);\n            ws.close();\n            speed(total, start);\n        }, 10000);\n    }\n\n    cockpit.transport.wait(function() {\n        $(\"#normal\").on(\"click\", normal);\n        $(\"#sideband\").on(\"click\", sideband);\n        $(\"body\").show();\n    });\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/playground/speed.js\n// module id = 40\n// module chunks = 6"],"sourceRoot":""}