!function(e) {
    function t(a) {
        if (n[a]) return n[a].exports;
        var o = n[a] = {
            exports: {},
            id: a,
            loaded: !1
        };
        return e[a].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
    }
    var n = {};
    return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
    e.exports = n(5);
}, , , , , function(e, t, n) {
    "use strict";
    !function() {
        function e() {
            function e() {
                var e = a.location.path;
                0 === e.length ? (u.hide(), c.show()) : 1 == e.length ? (c.hide(), u.show("block", e[0])) : 2 == e.length && "mdraid" == e[0] ? (c.hide(), 
                u.show("mdraid", e[1])) : 2 == e.length && "vdo" == e[0] ? (c.hide(), u.show("vdo", e[1])) : 2 == e.length && "vg" == e[0] ? (c.hide(), 
                u.show("vgroup", e[1])) : (console.warn("not a init location: " + e), a.location = ""), 
                t("body").show();
            }
            function n() {
                var e = !d.state || "running" === d.state, n = o.broken_multipath_present === !0;
                t("#multipath-broken").toggle(n && !e);
            }
            var c, u;
            o.init(function() {
                a.translate(), o.features === !1 ? (t("#unsupported").show(), t("body").show()) : (c = r.init(o), 
                u = i.init(o), t(a).on("locationchanged", e), e());
            });
            var d = l.get_multipathd_service();
            t(d).on("changed", n), t(o).on("changed", n), n(), t("#activate-multipath").on("click", function() {
                a.spawn([ "mpathconf", "--enable", "--with_multipathd", "y" ], {
                    superuser: "try"
                }).fail(function(e) {
                    t("#error-popup-title").text(s("Error")), t("#error-popup-message").text(e.toString()), 
                    t("#error-popup").modal("show");
                });
            });
        }
        var t = n(6), a = n(7), o = n(8), r = n(17), i = n(49), l = n(9);
        n(65), n(66), n(67), n(68), n(69);
        var s = a.gettext;
        t(e);
    }();
}, function(e, t) {
    e.exports = jQuery;
}, function(e, t) {
    e.exports = cockpit;
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t) {
            function n(e) {
                i.data = {}, r = [];
                for (var t = 0; t < e.metrics.length; t++) {
                    r[t] = e.metrics[t].instances;
                    for (var n = 0; n < r[t].length; n++) i.data[r[t][n]] = [];
                }
            }
            function a(e) {
                for (var t = !1, n = 0; n < e.length; n++) for (var a = e[n], o = 0; o < a.length; o++) for (var l = a[o], s = 0; s < l.length; s++) null !== l[s] && (t = !0, 
                i.data[r[o][s]][o] = l[s]);
                t && i.dispatchEvent("changed");
            }
            function o() {
                l.close();
            }
            var r, i = {
                data: {},
                close: o
            };
            p.event_target(i);
            var l = p.channel({
                payload: "metrics1",
                source: t || "internal",
                metrics: e
            });
            return f(l).on("closed", function(e, t) {
                console.log("closed", t);
            }), f(l).on("message", function(e, t) {
                var o = JSON.parse(t);
                o.length ? a(o) : n(o);
            }), i;
        }
        function a(e, t) {
            return _.storaged_client.proxy(w + "." + e, x + "/" + t, {
                watch: !0
            });
        }
        function o(e) {
            return _.storaged_client.proxies(w + "." + e, x, {
                watch: !1
            });
        }
        function r() {
            _.storaged_client.watch({
                path_namespace: x
            }), _.mdraids = o("MDRaid"), _.vgroups = o("VolumeGroup"), _.lvols = o("LogicalVolume"), 
            _.drives = o("Drive"), _.drives_ata = o("Drive.Ata"), _.blocks = o("Block"), _.blocks_ptable = o("PartitionTable"), 
            _.blocks_part = o("Partition"), _.blocks_lvm2 = o("Block.LVM2"), _.blocks_pvol = o("PhysicalVolume"), 
            _.blocks_fsys = o("Filesystem"), _.blocks_crypto = o("Encrypted"), _.blocks_swap = o("Swapspace"), 
            _.iscsi_sessions = o("ISCSI.Session"), _.jobs = o("Job");
        }
        function i(e) {
            if (e.Symlinks && e.Symlinks.length) for (var t = 0; t < e.Symlinks.length; t++) if (0 === m.decode_filename(e.Symlinks[t]).indexOf("/dev/disk/by-id/dm-uuid-mpath-")) return !0;
            return !1;
        }
        function l() {
            function e(e, t) {
                _.slashdevs_block[m.decode_filename(t)] = e;
            }
            function t(e, t) {
                return m.block_cmp(_.blocks[e.path], _.blocks[t.path]);
            }
            function n(e) {
                e.Objects && e.Objects.length && e.Objects.forEach(function(t) {
                    _.path_jobs[t] = e;
                    for (var n = m.get_parent(_, t); n; ) t = n, n = m.get_parent(_, t);
                    _.path_jobs[t] = e;
                });
            }
            var a, o, r, l, s, c, u, d;
            _.broken_multipath_present = !1, _.drives_multipath_blocks = {}, _.drives_block = {};
            for (a in _.drives) _.drives_multipath_blocks[a] = [];
            for (a in _.blocks) o = _.blocks[a], _.blocks_part[a] || void 0 === _.drives_multipath_blocks[o.Drive] || (i(o) ? _.drives_block[o.Drive] = o : _.drives_multipath_blocks[o.Drive].push(o));
            for (a in _.drives_multipath_blocks) _.drives_block[a] || 1 != _.drives_multipath_blocks[a].length ? (_.drives_multipath_blocks[a].sort(m.block_cmp), 
            _.drives_block[a] || (_.broken_multipath_present = !0)) : (_.drives_block[a] = _.drives_multipath_blocks[a][0], 
            _.drives_multipath_blocks[a] = []);
            _.mdraids_block = {};
            for (a in _.blocks) o = _.blocks[a], "/" != o.MDRaid && (_.mdraids_block[o.MDRaid] = o);
            _.mdraids_members = {};
            for (a in _.mdraids) _.mdraids_members[a] = [];
            for (a in _.blocks) o = _.blocks[a], void 0 !== _.mdraids_members[o.MDRaidMember] && _.mdraids_members[o.MDRaidMember].push(o);
            for (a in _.mdraids_members) _.mdraids_members[a].sort(m.block_cmp);
            _.slashdevs_block = {};
            for (a in _.blocks) for (o = _.blocks[a], e(o, o.Device), e(o, o.PreferredDevice), 
            d = 0; d < o.Symlinks.length; d++) e(o, o.Symlinks[d]);
            _.uuids_mdraid = {};
            for (a in _.mdraids) r = _.mdraids[a], _.uuids_mdraid[r.UUID] = r;
            _.vgnames_vgroup = {};
            for (a in _.vgroups) l = _.vgroups[a], _.vgnames_vgroup[l.Name] = l;
            _.vgroups_pvols = {};
            for (a in _.vgroups) _.vgroups_pvols[a] = [];
            for (a in _.blocks_pvol) s = _.blocks_pvol[a], void 0 !== _.vgroups_pvols[s.VolumeGroup] && _.vgroups_pvols[s.VolumeGroup].push(s);
            for (a in _.vgroups_pvols) _.vgroups_pvols[a].sort(t);
            _.vgroups_lvols = {};
            for (a in _.vgroups) _.vgroups_lvols[a] = [];
            for (a in _.lvols) c = _.lvols[a], void 0 !== _.vgroups_lvols[c.VolumeGroup] && _.vgroups_lvols[c.VolumeGroup].push(c);
            for (a in _.vgroups_lvols) _.vgroups_lvols[a].sort(function(e, t) {
                return e.Name.localeCompare(t.Name);
            });
            _.lvols_block = {};
            for (a in _.blocks_lvm2) _.lvols_block[_.blocks_lvm2[a].LogicalVolume] = _.blocks[a];
            _.lvols_pool_members = {};
            for (a in _.lvols) "pool" == _.lvols[a].Type && (_.lvols_pool_members[a] = []);
            for (a in _.lvols) c = _.lvols[a], void 0 !== _.lvols_pool_members[c.ThinPool] && _.lvols_pool_members[c.ThinPool].push(c);
            for (a in _.lvols_pool_members) _.lvols_pool_members[a].sort(function(e, t) {
                return e.Name.localeCompare(t.Name);
            });
            _.blocks_cleartext = {};
            for (a in _.blocks) o = _.blocks[a], "/" != o.CryptoBackingDevice && (_.blocks_cleartext[o.CryptoBackingDevice] = o);
            _.blocks_partitions = {};
            for (a in _.blocks_ptable) _.blocks_partitions[a] = [];
            for (a in _.blocks_part) u = _.blocks_part[a], void 0 !== _.blocks_partitions[u.Table] && _.blocks_partitions[u.Table].push(u);
            for (a in _.blocks_partitions) _.blocks_partitions[a].sort(function(e, t) {
                return e.Offset - t.Offset;
            });
            _.path_jobs = {};
            for (a in _.jobs) n(_.jobs[a]);
        }
        function s(e) {
            function t(e, n) {
                var a = e.pop();
                a ? a.wait(function() {
                    t(e, n);
                }) : n();
            }
            function n() {
                return p.spawn([ "date", "+%s" ]).then(function(e) {
                    _.time_offset = 1e3 * parseInt(e, 10) - new Date().getTime();
                });
            }
            function o() {
                return r().then(function(e) {
                    return p.spawn([ "which", "vdo" ], {
                        err: "ignore"
                    }).then(function() {
                        return e.vdo = !0, _.vdo_overlay.start(), e;
                    }, function() {
                        return e;
                    });
                });
            }
            function r() {
                return _.manager.valid ? _.manager.EnableModules ? _.manager.EnableModules(!0).then(function() {
                    var e = p.defer();
                    return _.manager_lvm2 = a("Manager.LVM2", "Manager"), _.manager_iscsi = a("Manager.ISCSI.Initiator", "Manager"), 
                    t([ _.manager_lvm2, _.manager_iscsi ], function() {
                        var t = "no" != y.with_storaged_iscsi_sessions && _.manager_iscsi.valid && _.manager_iscsi.SessionsSupported !== !1;
                        e.resolve({
                            lvm2: _.manager_lvm2.valid,
                            iscsi: t
                        });
                    }), e.promise;
                }, function(e) {
                    return console.warn("Can't enable storaged modules", e.toString()), p.resolve({});
                }) : p.resolve({}) : p.resolve(!1);
            }
            t([ _.manager, _.mdraids, _.vgroups, _.drives, _.blocks, _.blocks_ptable, _.blocks_lvm2, _.blocks_fsys ], function() {
                n().then(function() {
                    o().then(function(t) {
                        _.features = t, e();
                    }), f(_.storaged_client).on("notify", function() {
                        l(), _.dispatchEvent("changed");
                    }), l();
                });
            });
        }
        function c() {
            function e(e) {
                return h.spawn([ v, g ], e, {
                    superuser: "try",
                    err: "message"
                });
            }
            function t(e) {
                var t = e.fields[1];
                return u.fsys_sizes[t] ? u.fsys_sizes[t] : u.fsys_sizes[t] === !1 ? null : (u.fsys_sizes[t] = !1, 
                p.spawn([ "stat", "-f", "-c", "[ %S, %f, %b ]", t ], {
                    err: "message"
                }).done(function(e) {
                    var n = JSON.parse(e);
                    u.fsys_sizes[t] = [ (n[2] - n[1]) * n[0], n[2] * n[0] ], _.dispatchEvent("changed");
                }).fail(function() {
                    u.fsys_sizes[t] = [ 0, 0 ], _.dispatchEvent("changed");
                }), null);
            }
            function n(t, n) {
                return e([ "update", JSON.stringify(t), JSON.stringify(n) ]);
            }
            function a(t) {
                return e([ "add", JSON.stringify(t) ]);
            }
            function o(t) {
                return e([ "remove", JSON.stringify(t) ]);
            }
            function r(t) {
                return e([ "mount", JSON.stringify(t) ]);
            }
            function i(t) {
                return e([ "unmount", JSON.stringify(t) ]);
            }
            function l(t, n) {
                var a = t.map(function(e) {
                    return e.unit;
                });
                return e([ "stop-and-unmount", JSON.stringify(a), JSON.stringify(n) ]);
            }
            function s(t, n) {
                var a = t.map(function(e) {
                    return e.unit;
                });
                return e([ "stop-and-remove", JSON.stringify(a), JSON.stringify(n) ]);
            }
            function c(t) {
                return e([ "users", JSON.stringify(t) ]).then(JSON.parse);
            }
            var u = {
                entries: [],
                fsys_sizes: {},
                get_fsys_size: t,
                entry_users: c,
                update_entry: n,
                add_entry: a,
                remove_entry: o,
                mount_entry: r,
                unmount_entry: i,
                stop_and_unmount_entry: l,
                stop_and_remove_entry: s
            }, d = "";
            return e([ "monitor" ]).stream(function(e) {
                var t;
                d += e, t = d.split("\n"), d = t[t.length - 1], t.length >= 2 && (u.entries = JSON.parse(t[t.length - 2]), 
                u.fsys_sizes = {}, _.dispatchEvent("changed"));
            }).fail(function(e) {
                "closed" != e && console.warn(e);
            }), u;
        }
        function u() {
            function e(e) {
                return p.spawn([ "vdo" ].concat(e), {
                    superuser: !0,
                    err: "message"
                });
            }
            function t(t) {
                l.by_name = {}, l.by_dev = {}, l.by_backing_dev = {}, l.volumes = t.map(function(t, n) {
                    function a(t) {
                        return e(t.concat([ "--name", o ]));
                    }
                    var o = t.name, r = {
                        name: o,
                        broken: t.broken,
                        dev: "/dev/mapper/" + o,
                        backing_dev: t.device,
                        logical_size: t.logical_size,
                        physical_size: t.physical_size,
                        index_mem: t.index_mem,
                        compression: t.compression,
                        deduplication: t.deduplication,
                        activated: t.activated,
                        set_compression: function(e) {
                            return a([ e ? "enableCompression" : "disableCompression" ]);
                        },
                        set_deduplication: function(e) {
                            return a([ e ? "enableDeduplication" : "disableDeduplication" ]);
                        },
                        set_activate: function(e) {
                            return a([ e ? "activate" : "deactivate" ]);
                        },
                        start: function() {
                            return a([ "start" ]);
                        },
                        stop: function() {
                            return a([ "stop" ]);
                        },
                        remove: function() {
                            return a([ "remove" ]);
                        },
                        force_remove: function() {
                            return a([ "remove", "--force" ]);
                        },
                        grow_physical: function() {
                            return a([ "growPhysical" ]);
                        },
                        grow_logical: function(e) {
                            return a([ "growLogical", "--vdoLogicalSize", e + "B" ]);
                        }
                    };
                    return l.by_name[r.name] = r, l.by_dev[r.dev] = r, l.by_backing_dev[r.backing_dev] = r, 
                    r;
                }), _.dispatchEvent("changed");
            }
            function n() {
                var e = "";
                h.spawn([ v, b ], [], {
                    superuser: "try",
                    err: "message"
                }).stream(function(n) {
                    var a;
                    e += n, a = e.split("\n"), e = a[a.length - 1], a.length >= 2 && (l.entries = JSON.parse(a[a.length - 2]), 
                    l.fsys_sizes = {}, f(l).triggerHandler("changed"), t(JSON.parse(a[a.length - 2])));
                }).fail(function(e) {
                    "closed" != e && console.warn(e);
                });
            }
            function a(e, t) {
                var n;
                for (n = 0; n < e.length; n++) {
                    var a = t(e[n]);
                    if (a) return a;
                }
                return null;
            }
            function o(e) {
                function t(e) {
                    return l.by_dev[m.decode_filename(e)];
                }
                return t(e.Device) || a(e.Symlinks, t);
            }
            function r(e) {
                function t(e) {
                    return l.by_backing_dev[m.decode_filename(e)];
                }
                return t(e.Device) || a(e.Symlinks, t);
            }
            function i(t) {
                var n = [ "create", "--name", t.name, "--device", m.decode_filename(t.block.PreferredDevice) ];
                return void 0 !== t.logical_size && n.push("--vdoLogicalSize", t.logical_size + "B"), 
                void 0 !== t.index_mem && n.push("--indexMem", t.index_mem / 1073741824), void 0 !== t.compression && n.push("--compression", t.compression ? "enabled" : "disabled"), 
                void 0 !== t.deduplication && n.push("--deduplication", t.deduplication ? "enabled" : "disabled"), 
                void 0 !== t.emulate_512 && n.push("--emulate512", t.emulate_512 ? "enabled" : "disabled"), 
                void 0 !== t.asynchronous && n.push("--writePolicy", t.asynchronous ? "async" : "sync"), 
                e(n);
            }
            var l = {
                start: n,
                volumes: [],
                by_name: {},
                by_dev: {},
                by_backing_dev: {},
                find_by_block: o,
                find_by_backing_block: r,
                create: i
            };
            return l;
        }
        function d() {
            function e() {
                k = "org.freedesktop.UDisks2", x = "/org/freedesktop/UDisks2", w = "org.freedesktop.UDisks2";
                var e = p.dbus(k), t = e.proxy(w + ".Manager", x + "/Manager", {
                    watch: !0
                });
                return t.wait().then(function() {
                    return t;
                });
            }
            var t = "org.storaged.Storaged", n = "/org/storaged/Storaged", a = "org.storaged.Storaged", o = p.dbus(t), r = o.proxy(a + ".Manager", n + "/Manager", {
                watch: !0
            });
            return r.wait().then(function() {
                return r.valid ? (console.log("Using older 'storaged' API: " + t), k = t, x = n, 
                w = a, r) : e();
            }, e);
        }
        var f = n(6), p = n(7), m = n(9), h = n(13), v = n(14), g = n(15), b = n(16), y = {};
        p.manifests.storage && p.manifests.storage.hacks && (y = p.manifests.storage.hacks);
        var _ = {};
        p.event_target(_);
        var k, x, w;
        _.time_offset = void 0, _.features = void 0, _.storaged_client = void 0, _.call = function(e, t, n, a, o) {
            return _.storaged_client.call(e, w + "." + t, n, a, o);
        }, _.fsys_sizes = t([ {
            name: "mount.used"
        }, {
            name: "mount.total"
        } ]), _.swap_sizes = t([ {
            name: "swapdev.length"
        }, {
            name: "swapdev.free"
        } ], "direct"), _.blockdev_io = t([ {
            name: "block.device.read",
            derive: "rate"
        }, {
            name: "block.device.written",
            derive: "rate"
        } ]), _.older_than = function(e) {
            return m.compare_versions(this.manager.Version, e) < 0;
        }, _.nfs = c(), _.vdo_overlay = u(), _.init = function(e) {
            d().then(function(t) {
                _.storaged_client = t.client, _.manager = t, _.is_old_udisks2 = "org.freedesktop.UDisks2" == k && _.older_than("2.6"), 
                _.is_old_udisks2 && console.log("Using older 'udisks2' implementation: " + t.Version), 
                r(), s(e);
            }, function() {
                _.features = !1, e();
            });
        }, e.exports = _;
    }();
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t) {
            var n = [];
            if (e.blocks_cleartext[t] && n.push(e.blocks_cleartext[t].path), e.blocks_ptable[t] && e.blocks_partitions[t].forEach(function(e) {
                e.IsContainer || n.push(e.path);
            }), e.blocks_part[t] && e.blocks_part[t].IsContainer) {
                var a = e.blocks_part[t].Table;
                e.blocks_partitions[a].forEach(function(e) {
                    e.IsContained && n.push(e.path);
                });
            }
            return e.vgroups[t] && e.vgroups_lvols[t].forEach(function(t) {
                e.lvols_block[t.path] && n.push(e.lvols_block[t.path].path);
            }), n;
        }
        var a = n(7), o = n(10), r = n(12), i = a.gettext, l = a.gettext, s = {};
        s.compare_versions = function(e, t) {
            function n(e) {
                return e.split(".").map(function(e) {
                    return e ? parseInt(e, 10) : 0;
                });
            }
            var a, o = n(e), r = n(t), i = Math.min(o.length, r.length);
            for (a = 0; a < i; a++) if (o[a] != r[a]) return o[a] - r[a];
            return o.length - r.length;
        }, s.hostnamed = a.dbus("org.freedesktop.hostname1").proxy(), s.array_find = function(e, t) {
            for (var n = 0; n < e.length; n++) if (t(e[n])) return e[n];
        }, s.flatten = function(e) {
            return e.length > 0 ? Array.prototype.concat.apply([], e) : [];
        }, s.decode_filename = function(e) {
            return a.utf8_decoder().decode(a.base64_decode(e).slice(0, -1));
        }, s.encode_filename = function(e) {
            return a.base64_encode(a.utf8_encoder().encode(e).concat([ 0 ]));
        }, s.fmt_size = function(e) {
            return a.format_bytes(e, 1024);
        }, s.fmt_size_long = function(e) {
            var t = a.format_bytes(e, 1024), n = a.format_bytes(e, 1e3);
            return t + ", " + n + ", " + e + " " + l("format-bytes", "bytes");
        }, s.fmt_rate = function(e) {
            return a.format_bytes_per_sec(e, 1024);
        }, s.format_temperature = function(e) {
            var t = e - 273.15, n = 9 * t / 5 + 32;
            return t.toFixed(1) + "° C / " + n.toFixed(1) + "° F";
        }, s.format_fsys_usage = function(e, t) {
            var n = "", o = 1024, r = a.format_bytes(t, o, !0);
            return n = " / " + r.join(" "), o = r[1], r = a.format_bytes(e, o, !0), r[0] + n;
        }, s.format_delay = function(e) {
            var t = Math.round(e / 1e3), n = Math.floor(t / 60), a = Math.floor(n / 60);
            t -= 60 * n, n -= 60 * a;
            var o = t + " seconds";
            return n > 0 && (o = n + " minutes, " + o), a > 0 && (o = a + " hours, " + o), o;
        }, s.format_size_and_text = function(e, t) {
            return a.format(i("${size} ${desc}"), {
                size: s.fmt_size(e),
                desc: t
            });
        }, s.validate_lvm2_name = function(e) {
            if ("" === e) return i("Name cannot be empty.");
            if (e.length > 127) return i("Name cannot be longer than 127 characters.");
            var t = e.match(/[^a-zA-Z0-9+._-]/);
            return t ? t[0].search(/\s+/) === -1 ? a.format(i("Name cannot contain the character '$0'."), t[0]) : a.format(i("Name cannot contain whitespace."), t[0]) : void 0;
        }, s.block_name = function(e) {
            return s.decode_filename(e.PreferredDevice);
        }, s.mdraid_name = function(e) {
            if (!e.Name) return "";
            var t = e.Name.split(":");
            return 2 != t.length ? e.Name : void 0 === s.hostnamed.StaticHostname || t[0] == s.hostnamed.StaticHostname ? t[1] : a.format(i("$name (from $host)"), {
                name: t[1],
                host: t[0]
            });
        }, s.lvol_name = function(e) {
            var t;
            return t = i("pool" == e.Type ? "Pool for Thin Logical Volumes" : "/" != e.ThinPool ? "Thin Logical Volume" : "/" != e.Origin ? "Logical Volume (Snapshot)" : "Logical Volume"), 
            o.render('{{Type}} "{{Name}}"', {
                Type: t,
                Name: e.Name
            });
        }, s.drive_name = function(e) {
            var t = [];
            e.Vendor && t.push(e.Vendor), e.Model && t.push(e.Model);
            var n = t.join(" ");
            return e.Serial ? n += " (" + e.Serial + ")" : e.WWN && (n += " (" + e.WWN + ")"), 
            n;
        }, s.get_block_link_parts = function(e, t) {
            for (var n, o, r; ;) if (e.blocks_part[t] && e.blocks_ptable[e.blocks_part[t].Table]) n = !0, 
            t = e.blocks_part[t].Table; else {
                if (!e.blocks[t] || !e.blocks[e.blocks[t].CryptoBackingDevice]) break;
                o = !0, t = e.blocks[t].CryptoBackingDevice;
            }
            e.blocks_lvm2[t] && e.lvols[e.blocks_lvm2[t].LogicalVolume] && (r = !0);
            var l = e.blocks[t];
            if (l) {
                var c, u;
                if (e.mdraids[l.MDRaid]) c = [ "mdraid", e.mdraids[l.MDRaid].UUID ], u = a.format(i("RAID Device $0"), s.mdraid_name(e.mdraids[l.MDRaid])); else if (e.blocks_lvm2[t] && e.lvols[e.blocks_lvm2[t].LogicalVolume] && e.vgroups[e.lvols[e.blocks_lvm2[t].LogicalVolume].VolumeGroup]) {
                    var d = e.vgroups[e.lvols[e.blocks_lvm2[t].LogicalVolume].VolumeGroup].Name;
                    c = [ "vg", d ], u = a.format(i("Volume Group $0"), d);
                } else {
                    var f = e.vdo_overlay.find_by_block(l);
                    f ? (c = [ "vdo", f.name ], u = a.format(i("VDO Device $0"), f.name)) : (c = [ s.block_name(l).replace(/^\/dev\//, "") ], 
                    u = e.drives[l.Drive] ? s.drive_name(e.drives[l.Drive]) : s.block_name(l));
                }
                var p;
                return p = r && o ? i("Encrypted Logical Volume of $0") : n && o ? i("Encrypted Partition of $0") : r ? i("Logical Volume of $0") : n ? i("Partition of $0") : o ? i("Encrypted $0") : "$0", 
                {
                    location: c,
                    format: p,
                    link: u
                };
            }
        }, s.go_to_block = function(e, t) {
            var n = s.get_block_link_parts(e, t);
            a.location.go(n.location);
        }, s.get_partitions = function(e, t) {
            function n(t, o, r) {
                function i(e, t) {
                    t >= 3145728 && h.push({
                        type: "free",
                        start: e,
                        size: t
                    });
                }
                var l, s, c, u, d, f, p = o, m = o + r, h = [];
                for (l = 0; l < a.length; l++) s = e.blocks[a[l].path], c = a[l].Offset, u = a[l].Size, 
                d = a[l].IsContainer, f = a[l].IsContained, null !== s && (0 === t && f || (1 != t || f) && (c < o || c + u > o + r || (i(p, c - p), 
                d ? h.push({
                    type: "container",
                    block: s,
                    size: u,
                    partitions: n(t + 1, c, u)
                }) : h.push({
                    type: "block",
                    block: s
                }), p = c + u)));
                return i(p, m - p), h;
            }
            var a = e.blocks_partitions[t.path];
            return n(0, 0, t.Size);
        }, s.get_available_spaces = function(e) {
            function t(t) {
                function n() {
                    return !!r.IdUsage && !!("LVM2_member" != r.IdType || s && e.vgroups[s.VolumeGroup]);
                }
                function a() {
                    if (!e.drives[r.Drive]) return !1;
                    if (!e.drives_block[r.Drive]) return !0;
                    for (var t = e.drives_multipath_blocks[r.Drive], n = 0; n < t.length; n++) if (t[n] == r) return !0;
                    return !1;
                }
                function o() {
                    return !!e.vdo_overlay.find_by_backing_block(r);
                }
                var r = e.blocks[t], i = e.blocks_ptable[t], l = e.blocks_part[t], s = e.blocks_pvol[t];
                return !(r.HintIgnore || !(r.Size > 0) || n() || a() || o() || i || l && l.IsContainer);
            }
            function n(t) {
                var n = e.blocks[t], o = s.get_block_link_parts(e, t), r = a.format(o.format, o.link);
                return {
                    type: "block",
                    block: n,
                    size: n.Size,
                    desc: r
                };
            }
            function o(t) {
                var n, o, l, c, u = s.get_partitions(e, t);
                for (n in u) o = u[n], "free" == o.type && (l = s.get_block_link_parts(e, t.path), 
                c = a.format(l.format, l.link), r.push({
                    type: "free",
                    block: t,
                    start: o.start,
                    size: o.size,
                    desc: a.format(i("unpartitioned space on $0"), c)
                }));
            }
            var r = Object.keys(e.blocks).filter(t).sort(s.make_block_path_cmp(e)).map(n);
            for (var l in e.blocks_ptable) o(e.blocks[l]);
            return r;
        }, s.available_space_to_option = function(e) {
            return {
                value: e,
                Title: s.format_size_and_text(e.size, e.desc),
                Label: s.block_name(e.block)
            };
        }, s.prepare_available_spaces = function(e, t) {
            function n(t) {
                if ("block" == t.type) return a.resolve(t.block.path);
                if ("free" == t.type) {
                    var n = e.blocks_ptable[t.block.path];
                    return n.CreatePartition(t.start, t.size, "", "", {});
                }
            }
            return a.all(t.map(n));
        }, s.block_cmp = function(e, t) {
            return e.DeviceNumber - t.DeviceNumber;
        }, s.make_block_path_cmp = function(e) {
            return function(t, n) {
                return s.block_cmp(e.blocks[t], e.blocks[n]);
            };
        };
        var c;
        s.get_multipathd_service = function() {
            return c || (c = r.proxy("multipathd")), c;
        }, s.get_parent = function(e, t) {
            return e.blocks_part[t] && e.blocks[e.blocks_part[t].Table] ? e.blocks_part[t].Table : e.blocks[t] && e.blocks[e.blocks[t].CryptoBackingDevice] ? e.blocks[t].CryptoBackingDevice : e.blocks[t] && e.drives[e.blocks[t].Drive] ? e.blocks[t].Drive : e.blocks[t] && e.mdraids[e.blocks[t].MDRaid] ? e.blocks[t].MDRaid : e.blocks_lvm2[t] && e.lvols[e.blocks_lvm2[t].LogicalVolume] ? e.blocks_lvm2[t].LogicalVolume : e.lvols[t] && e.vgroups[e.lvols[t].VolumeGroup] ? e.lvols[t].VolumeGroup : void 0;
        }, s.get_active_usage = function(e, n) {
            function a(n) {
                var o = e.blocks[n], r = e.blocks_fsys[n], i = o && e.mdraids[o.MDRaidMember], l = e.blocks_pvol[n], c = l && e.vgroups[l.VolumeGroup], u = o && e.vdo_overlay.find_by_backing_block(o), d = s.flatten(t(e, n).map(a));
                return r && r.MountPoints.length > 0 && d.push({
                    usage: "mounted",
                    block: o,
                    fsys: r
                }), i && d.push({
                    usage: "mdraid-member",
                    block: o,
                    mdraid: i
                }), c && d.push({
                    usage: "pvol",
                    block: o,
                    pvol: l,
                    vgroup: c
                }), u && d.push({
                    usage: "vdo-backing",
                    block: o,
                    vdo: u
                }), d;
            }
            var o = a(n), r = {
                raw: o,
                Teardown: {
                    Mounts: [],
                    MDRaidMembers: [],
                    PhysicalVolumes: []
                },
                Blocking: {
                    Mounts: [],
                    MDRaidMembers: [],
                    PhysicalVolumes: [],
                    VDOs: []
                }
            };
            return o.forEach(function(e) {
                var t, n;
                "mounted" == e.usage ? r.Teardown.Mounts.push({
                    Name: s.block_name(e.block),
                    MountPoint: s.decode_filename(e.fsys.MountPoints[0])
                }) : "mdraid-member" == e.usage ? (t = {
                    Name: s.block_name(e.block),
                    MDRaid: s.mdraid_name(e.mdraid)
                }, n = s.array_find(e.mdraid.ActiveDevices, function(t) {
                    return t[0] == e.block.path;
                }), n && n[1] < 0 ? r.Teardown.MDRaidMembers.push(t) : r.Blocking.MDRaidMembers.push(t)) : "pvol" == e.usage ? (t = {
                    Name: s.block_name(e.block),
                    VGroup: e.vgroup.Name
                }, e.pvol.FreeSize == e.pvol.Size ? r.Teardown.PhysicalVolumes.push(t) : r.Blocking.PhysicalVolumes.push(t)) : "vdo-backing" == e.usage && (t = {
                    Name: s.block_name(e.block),
                    VDO: e.vdo.name
                }, r.Blocking.VDOs.push(t));
            }), r.Teardown.HasMounts = r.Teardown.Mounts.length > 0, r.Teardown.HasMDRaidMembers = r.Teardown.MDRaidMembers.length > 0, 
            r.Teardown.HasPhysicalVolumes = r.Teardown.PhysicalVolumes.length > 0, r.Teardown.HasMounts || r.Teardown.HasMDRaidMembers || r.Teardown.HasPhysicalVolumes || (r.Teardown = null), 
            r.Blocking.HasMounts = r.Blocking.Mounts.length > 0, r.Blocking.HasMDRaidMembers = r.Blocking.MDRaidMembers.length > 0, 
            r.Blocking.HasPhysicalVolumes = r.Blocking.PhysicalVolumes.length > 0, r.Blocking.HasVDOs = r.Blocking.VDOs.length > 0, 
            r.Blocking.HasMounts || r.Blocking.HasMDRaidMembers || r.Blocking.HasPhysicalVolumes || r.Blocking.HasVDOs || (r.Blocking = null), 
            r;
        }, s.teardown_active_usage = function(e, t) {
            function n(e) {
                return a.all(e.map(function(e) {
                    return e.fsys.Unmount({});
                }));
            }
            function o(e) {
                return a.all(e.map(function(e) {
                    return e.mdraid.RemoveDevice(e.block.path, {
                        wipe: {
                            t: "b",
                            v: !0
                        }
                    });
                }));
            }
            function r(t) {
                function n(t) {
                    var n = e.vgroups[t], o = r[t];
                    return o.length == e.vgroups_pvols[t].length ? n.Delete({
                        "tear-down": {
                            t: "b",
                            v: !0
                        }
                    }) : a.all(o.map(function(e) {
                        return n.RemoveDevice(e.path, !0, {});
                    }));
                }
                var o, r = {};
                t.forEach(function(e) {
                    r[e.vgroup.path] || (r[e.vgroup.path] = []), r[e.vgroup.path].push(e.block);
                });
                for (o in r) n(o);
            }
            return a.all([ n(t.raw.filter(function(e) {
                return "mounted" == e.usage;
            })), o(t.raw.filter(function(e) {
                return "mdraid-member" == e.usage;
            })), r(t.raw.filter(function(e) {
                return "pvol" == e.usage;
            })) ]);
        }, e.exports = s;
    }();
}, function(e, t, n) {
    "use strict";
    function a(e) {
        if (e in i) return i[e];
        var t = document.createElement("div");
        t.innerHTML = e, o.translate(t);
        var n = t.innerHTML;
        return i[e] = n, n;
    }
    var o = n(7), r = n(11), i = {};
    e.exports = o.extend({}, r, {
        render: function(e, t, n) {
            return t || (t = {}), a(r.render(e, t, n));
        },
        to_html: function(e, t, n, o) {
            return t || (t = {}), a(r.to_html(e, t, n, o));
        },
        clearCache: function() {
            return i = {}, r.clearCache();
        }
    });
}, function(e, t, n) {
    var a, o, r;
    /*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
    !function(n, i) {
        "object" == typeof t && t && "string" != typeof t.nodeName ? i(t) : (o = [ t ], 
        a = i, r = "function" == typeof a ? a.apply(t, o) : a, !(void 0 !== r && (e.exports = r)));
    }(this, function(e) {
        function t(e) {
            return "function" == typeof e;
        }
        function n(e) {
            return h(e) ? "array" : typeof e;
        }
        function a(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        }
        function o(e, t) {
            return null != e && "object" == typeof e && t in e;
        }
        function r(e, t) {
            return v.call(e, t);
        }
        function i(e) {
            return !r(g, e);
        }
        function l(e) {
            return String(e).replace(/[&<>"'`=\/]/g, function(e) {
                return b[e];
            });
        }
        function s(t, n) {
            function o() {
                if (g && !b) for (;v.length; ) delete m[v.pop()]; else v = [];
                g = !1, b = !1;
            }
            function r(e) {
                if ("string" == typeof e && (e = e.split(_, 2)), !h(e) || 2 !== e.length) throw new Error("Invalid tags: " + e);
                l = new RegExp(a(e[0]) + "\\s*"), s = new RegExp("\\s*" + a(e[1])), f = new RegExp("\\s*" + a("}" + e[1]));
            }
            if (!t) return [];
            var l, s, f, p = [], m = [], v = [], g = !1, b = !1;
            r(n || e.tags);
            for (var E, S, T, C, O, N, M = new d(t); !M.eos(); ) {
                if (E = M.pos, T = M.scanUntil(l)) for (var P = 0, D = T.length; P < D; ++P) C = T.charAt(P), 
                i(C) ? v.push(m.length) : b = !0, m.push([ "text", C, E, E + 1 ]), E += 1, "\n" === C && o();
                if (!M.scan(l)) break;
                if (g = !0, S = M.scan(w) || "name", M.scan(y), "=" === S ? (T = M.scanUntil(k), 
                M.scan(k), M.scanUntil(s)) : "{" === S ? (T = M.scanUntil(f), M.scan(x), M.scanUntil(s), 
                S = "&") : T = M.scanUntil(s), !M.scan(s)) throw new Error("Unclosed tag at " + M.pos);
                if (O = [ S, T, E, M.pos ], m.push(O), "#" === S || "^" === S) p.push(O); else if ("/" === S) {
                    if (N = p.pop(), !N) throw new Error('Unopened section "' + T + '" at ' + E);
                    if (N[1] !== T) throw new Error('Unclosed section "' + N[1] + '" at ' + E);
                } else "name" === S || "{" === S || "&" === S ? b = !0 : "=" === S && r(T);
            }
            if (N = p.pop()) throw new Error('Unclosed section "' + N[1] + '" at ' + M.pos);
            return u(c(m));
        }
        function c(e) {
            for (var t, n, a = [], o = 0, r = e.length; o < r; ++o) t = e[o], t && ("text" === t[0] && n && "text" === n[0] ? (n[1] += t[1], 
            n[3] = t[3]) : (a.push(t), n = t));
            return a;
        }
        function u(e) {
            for (var t, n, a = [], o = a, r = [], i = 0, l = e.length; i < l; ++i) switch (t = e[i], 
            t[0]) {
              case "#":
              case "^":
                o.push(t), r.push(t), o = t[4] = [];
                break;

              case "/":
                n = r.pop(), n[5] = t[2], o = r.length > 0 ? r[r.length - 1][4] : a;
                break;

              default:
                o.push(t);
            }
            return a;
        }
        function d(e) {
            this.string = e, this.tail = e, this.pos = 0;
        }
        function f(e, t) {
            this.view = e, this.cache = {
                ".": this.view
            }, this.parent = t;
        }
        function p() {
            this.cache = {};
        }
        var m = Object.prototype.toString, h = Array.isArray || function(e) {
            return "[object Array]" === m.call(e);
        }, v = RegExp.prototype.test, g = /\S/, b = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;",
            "`": "&#x60;",
            "=": "&#x3D;"
        }, y = /\s*/, _ = /\s+/, k = /\s*=/, x = /\s*\}/, w = /#|\^|\/|>|\{|&|=|!/;
        d.prototype.eos = function() {
            return "" === this.tail;
        }, d.prototype.scan = function(e) {
            var t = this.tail.match(e);
            if (!t || 0 !== t.index) return "";
            var n = t[0];
            return this.tail = this.tail.substring(n.length), this.pos += n.length, n;
        }, d.prototype.scanUntil = function(e) {
            var t, n = this.tail.search(e);
            switch (n) {
              case -1:
                t = this.tail, this.tail = "";
                break;

              case 0:
                t = "";
                break;

              default:
                t = this.tail.substring(0, n), this.tail = this.tail.substring(n);
            }
            return this.pos += t.length, t;
        }, f.prototype.push = function(e) {
            return new f(e, this);
        }, f.prototype.lookup = function(e) {
            var n, a = this.cache;
            if (a.hasOwnProperty(e)) n = a[e]; else {
                for (var r, i, l = this, s = !1; l; ) {
                    if (e.indexOf(".") > 0) for (n = l.view, r = e.split("."), i = 0; null != n && i < r.length; ) i === r.length - 1 && (s = o(n, r[i])), 
                    n = n[r[i++]]; else n = l.view[e], s = o(l.view, e);
                    if (s) break;
                    l = l.parent;
                }
                a[e] = n;
            }
            return t(n) && (n = n.call(this.view)), n;
        }, p.prototype.clearCache = function() {
            this.cache = {};
        }, p.prototype.parse = function(e, t) {
            var n = this.cache, a = n[e];
            return null == a && (a = n[e] = s(e, t)), a;
        }, p.prototype.render = function(e, t, n) {
            var a = this.parse(e), o = t instanceof f ? t : new f(t);
            return this.renderTokens(a, o, n, e);
        }, p.prototype.renderTokens = function(e, t, n, a) {
            for (var o, r, i, l = "", s = 0, c = e.length; s < c; ++s) i = void 0, o = e[s], 
            r = o[0], "#" === r ? i = this.renderSection(o, t, n, a) : "^" === r ? i = this.renderInverted(o, t, n, a) : ">" === r ? i = this.renderPartial(o, t, n, a) : "&" === r ? i = this.unescapedValue(o, t) : "name" === r ? i = this.escapedValue(o, t) : "text" === r && (i = this.rawValue(o)), 
            void 0 !== i && (l += i);
            return l;
        }, p.prototype.renderSection = function(e, n, a, o) {
            function r(e) {
                return i.render(e, n, a);
            }
            var i = this, l = "", s = n.lookup(e[1]);
            if (s) {
                if (h(s)) for (var c = 0, u = s.length; c < u; ++c) l += this.renderTokens(e[4], n.push(s[c]), a, o); else if ("object" == typeof s || "string" == typeof s || "number" == typeof s) l += this.renderTokens(e[4], n.push(s), a, o); else if (t(s)) {
                    if ("string" != typeof o) throw new Error("Cannot use higher-order sections without the original template");
                    s = s.call(n.view, o.slice(e[3], e[5]), r), null != s && (l += s);
                } else l += this.renderTokens(e[4], n, a, o);
                return l;
            }
        }, p.prototype.renderInverted = function(e, t, n, a) {
            var o = t.lookup(e[1]);
            if (!o || h(o) && 0 === o.length) return this.renderTokens(e[4], t, n, a);
        }, p.prototype.renderPartial = function(e, n, a) {
            if (a) {
                var o = t(a) ? a(e[1]) : a[e[1]];
                return null != o ? this.renderTokens(this.parse(o), n, a, o) : void 0;
            }
        }, p.prototype.unescapedValue = function(e, t) {
            var n = t.lookup(e[1]);
            if (null != n) return n;
        }, p.prototype.escapedValue = function(t, n) {
            var a = n.lookup(t[1]);
            if (null != a) return e.escape(a);
        }, p.prototype.rawValue = function(e) {
            return e[1];
        }, e.name = "mustache.js", e.version = "2.3.0", e.tags = [ "{{", "}}" ];
        var E = new p();
        return e.clearCache = function() {
            return E.clearCache();
        }, e.parse = function(e, t) {
            return E.parse(e, t);
        }, e.render = function(e, t, a) {
            if ("string" != typeof e) throw new TypeError('Invalid template! Template should be a "string" but "' + n(e) + '" was given as the first argument for mustache#render(template, view, partials)');
            return E.render(e, t, a);
        }, e.to_html = function(n, a, o, r) {
            var i = e.render(n, a, o);
            return t(r) ? void r(i) : i;
        }, e.escape = l, e.Scanner = d, e.Context = f, e.Writer = p, e;
    });
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t) {
            e.wait(function() {
                e.valid && t();
            });
        }
        function a(e) {
            i || (r = l.dbus("org.freedesktop.systemd1", {
                superuser: "try"
            }), i = r.proxy("org.freedesktop.systemd1.Manager", "/org/freedesktop/systemd1"), 
            t(i, function() {
                i.Subscribe().fail(function(e) {
                    "org.freedesktop.systemd1.AlreadySubscribed" != e.name && "org.freedesktop.DBus.Error.FileExists" != e.name && console.warn("Subscribing to systemd signals failed", e);
                });
            })), t(i, e);
        }
        function o(e) {
            function n() {
                _.exists = "not-found" != k.LoadState || "inactive" != k.ActiveState, "activating" == k.ActiveState ? _.state = "starting" : "deactivating" == k.ActiveState ? _.state = "stopping" : "active" == k.ActiveState || "reloading" == k.ActiveState ? _.state = "running" : "failed" == k.ActiveState ? _.state = "failed" : "inactive" == k.ActiveState && _.exists ? _.state = "stopped" : _.state = void 0, 
                "enabled" == k.UnitFileState || "linked" == k.UnitFileState ? _.enabled = !0 : "disabled" == k.UnitFileState || "masked" == k.UnitFileState ? _.enabled = !1 : _.enabled = void 0, 
                _.unit = k, _.dispatchEvent("changed"), w.resolve();
            }
            function o() {
                _.service = x, _.dispatchEvent("changed");
            }
            function s() {
                function e(e, t) {
                    r.call(e, "org.freedesktop.DBus.Properties", "GetAll", [ t ]).fail(function(e) {
                        console.log(e);
                    }).done(function(e) {
                        var n = {};
                        for (var a in e[0]) n[a] = e[0][a].v;
                        var o = {};
                        o[t] = n;
                        var i = {};
                        i[k.path] = o, r.notify(i);
                    });
                }
                k && x && (e(k.path, "org.freedesktop.systemd1.Unit"), e(x.path, "org.freedesktop.systemd1.Service"));
            }
            function c(t, n, a, o, r) {
                o == e && s();
            }
            function u(e) {
                w.promise.then(e);
            }
            function d(e, t) {
                return r.call("/org/freedesktop/systemd1", "org.freedesktop.systemd1.Manager", e, t);
            }
            function f(e, t) {
                var n = l.defer();
                return d(e, t).done(function(e) {
                    var t = e[0];
                    E[t] = n;
                }).fail(function(e) {
                    n.reject(e);
                }), n.promise();
            }
            function p(e, t) {
                return d(e, t).then(function() {
                    return d("Reload", []);
                });
            }
            function m() {
                return f("StartUnit", [ e, "replace" ]);
            }
            function h() {
                return f("StopUnit", [ e, "replace" ]);
            }
            function v() {
                return f("RestartUnit", [ e, "replace" ]);
            }
            function g() {
                return f("TryRestartUnit", [ e, "replace" ]);
            }
            function b() {
                return p("EnableUnitFiles", [ [ e ], !1, !1 ]);
            }
            function y() {
                return p("DisableUnitFiles", [ [ e ], !1 ]);
            }
            var _ = {
                exists: null,
                state: null,
                enabled: null,
                wait: u,
                start: m,
                stop: h,
                restart: v,
                tryRestart: g,
                enable: b,
                disable: y
            };
            l.event_target(_);
            var k, x, w = l.defer();
            e.indexOf(".") == -1 && (e += ".service"), a(function() {
                i.LoadUnit(e).done(function(e) {
                    k = r.proxy("org.freedesktop.systemd1.Unit", e), k.addEventListener("changed", n), 
                    t(k, n), x = r.proxy("org.freedesktop.systemd1.Service", e), x.addEventListener("changed", o), 
                    t(x, o);
                }).fail(function(e) {
                    _.exists = !1, _.dispatchEvent("changed");
                });
            }), i.addEventListener("Reloading", function(e, t) {
                t || s();
            }), i.addEventListener("JobNew", c), i.addEventListener("JobRemoved", c);
            var E = {};
            return i.addEventListener("JobRemoved", function(e, t, n, a, o) {
                E[n] && ("done" == o ? E[n].resolve() : E[n].reject(o), delete E[n]);
            }), _;
        }
        var r, i, l = n(7);
        e.exports = {
            proxy: o
        };
    }();
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t, n) {
        var a;
        return a = "string" == typeof e ? e : e.join("\n"), i.default.spawn(l.concat(t), n).input(a);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.spawn = o;
    var r = n(7), i = a(r), l = [ "sh", "-ec", "exec $(which python3 2>/dev/null || which python) $@", "--", "-" ];
}, function(e, t) {
    e.exports = "#\n# This file is part of Cockpit.\n#\n# Copyright (C) 2017 Red Hat, Inc.\n#\n# Cockpit is free software; you can redistribute it and/or modify it\n# under the terms of the GNU Lesser General Public License as published by\n# the Free Software Foundation; either version 2.1 of the License, or\n# (at your option) any later version.\n#\n# Cockpit is distributed in the hope that it will be useful, but\n# WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n# Lesser General Public License for more details.\n#\n# You should have received a copy of the GNU Lesser General Public License\n# along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\nimport os\nimport ctypes\nimport struct\nimport subprocess\nimport traceback\n\nIN_CLOSE_WRITE = 0x00000008\nIN_MOVED_FROM  = 0x00000040\nIN_MOVED_TO    = 0x00000080\nIN_CREATE      = 0x00000100\nIN_DELETE      = 0x00000200\nIN_DELETE_SELF = 0x00000400\nIN_MOVE_SELF   = 0x00000800\nIN_IGNORED     = 0x00008000\n\nclass Inotify:\n    def __init__(self):\n        self._libc = ctypes.CDLL(None, use_errno=True)\n        self._get_errno_func = ctypes.get_errno\n\n        self._libc.inotify_init.argtypes = []\n        self._libc.inotify_init.restype = ctypes.c_int\n        self._libc.inotify_add_watch.argtypes = [ctypes.c_int, ctypes.c_char_p,\n                                                 ctypes.c_uint32]\n        self._libc.inotify_add_watch.restype = ctypes.c_int\n        self._libc.inotify_rm_watch.argtypes = [ctypes.c_int, ctypes.c_int]\n        self._libc.inotify_rm_watch.restype = ctypes.c_int\n\n        self.fd = self._libc.inotify_init()\n\n    def add_watch(self, path, mask):\n        path = ctypes.create_string_buffer(path.encode(sys.getfilesystemencoding()))\n        wd = self._libc.inotify_add_watch(self.fd, path, mask)\n        if wd < 0:\n            sys.stderr.write(\"can't add watch for %s: %s\\n\" % (path, os.strerror(self._get_errno_func())))\n        return wd\n\n    def rem_watch(self, wd):\n        if self._libc.inotify_rm_watch(self.fd, wd) < 0:\n            sys.stderr.write(\"can't remove watch: %s\\n\" % (os.strerror(self._get_errno_func())))\n\n    def process(self, callback):\n        buf = os.read(self.fd, 4096)\n        pos = 0\n        while pos < len(buf):\n            (wd, mask, cookie, name_len) = struct.unpack('iIII', buf[pos:pos+16])\n            pos += 16\n            (name,) = struct.unpack('%ds' % name_len, buf[pos:pos + name_len])\n            pos += name_len\n            callback(wd, mask, name.decode().rstrip('\\0'))\n\n    def run(self, callback):\n        while True:\n            self.process(callback)\n";
}, function(e, t) {
    e.exports = '#! /usr/bin/python\n\n# nfs-mounts   --  Monitor and manage NFS mounts\n#\n# This is similar to how UDisks2 monitors and manages block device\n# mounts, but for NFS.  This might be moved into UDisks2, or not.\n\n# We monitor all NFS remotes listed in /etc/fstab and in /proc/self/mounts.\n# If a entry from mtab is also found in fstab, we report only the\n# fstab entry and mark it is "mounted".\n\nimport select\nimport re\nimport sys\nimport json\nimport errno\n\nclass Watcher:\n    def __init__(self, path):\n        self.inotify = Inotify()\n        self.path = path\n        self.setup()\n\n    def setup(self):\n        self.wd = self.inotify.add_watch(self.path, IN_CLOSE_WRITE)\n\n    def process(self, callback = None):\n        def event(wd, mask, name):\n            if callback:\n                callback()\n            if mask & IN_IGNORED:\n                self.setup()\n        self.inotify.process(event)\n\ndef field_escape(str):\n    return str.replace("\\\\", "\\\\134").replace(" ", "\\\\040").replace("\\t", "\\\\011")\n\ndef field_unescape(str):\n    return re.sub("\\\\\\\\([0-7]{1,3})", lambda m: chr(int(m.group(1), 8)), str)\n\ndef parse_tab(name):\n    entries = [ ]\n    for line in open(name, "r").read().split("\\n"):\n        sline = line.strip()\n        if sline == "" or sline[0] == "#":\n            continue\n        fields = list(map(field_unescape, re.split("[ \\t]+", sline)))\n        if len(fields) > 0 and ":" in fields[0]:\n            entries.append(fields)\n    return entries\n\ndef index_tab(tab):\n    by_remote = { }\n    for t in tab:\n        if not t[0] in by_remote:\n            by_remote[t[0]] = [ ]\n        by_remote[t[0]].append(t)\n    return by_remote\n\ndef modify_tab(name, modify):\n    lines = open(name, "r").read().split("\\n")\n    if len(lines) > 0 and lines[len(lines)-1] == "":\n        del lines[len(lines)-1]\n\n    new_lines = [ ]\n    for line in lines:\n        sline = line.strip()\n        if sline == "" or sline[0] == "#":\n            new_lines.append(line)\n        else:\n            fields = list(map(field_unescape, re.split("[ \\t]+", sline)))\n            if len(fields) > 0 and ":" in fields[0]:\n                new_fields = modify(fields)\n                if new_fields:\n                    if new_fields == fields:\n                        new_lines.append(line)\n                    else:\n                        new_lines.append(" ".join(map(field_escape, new_fields)))\n            else:\n                new_lines.append(line)\n    new_fields = modify(None)\n    if new_fields:\n        new_lines.append(" ".join(map(field_escape, new_fields)))\n\n    f = open(name + ".tmp", "w")\n    f.write("\\n".join(new_lines) + "\\n")\n    f.flush()\n    os.fsync(f.fileno())\n    f.close()\n    os.rename(name + ".tmp", name)\n\nfstab = [ ]\nfstab_by_remote = { }\n\nmtab = [ ]\nmtab_by_remote = { }\n\ndef process_fstab():\n    global fstab, fstab_by_remote\n    fstab = parse_tab("/etc/fstab")\n    fstab_by_remote = index_tab(fstab)\n\ndef process_mtab():\n    global mtab, mtab_by_remote\n    mtab = parse_tab("/proc/self/mounts")\n    mtab_by_remote = index_tab(mtab)\n\ndef find_in_tab(tab_by_remote, fields):\n    for t in tab_by_remote.get(fields[0], [ ]):\n        if t[0] == fields[0] and t[1] == fields[1]:\n            return t\n    return None\n\ndef report():\n    data = [ ]\n    for f in fstab:\n        m = find_in_tab(mtab_by_remote, f)\n        data.append({ "fstab": True, "fields": f, "mounted": m is not None })\n    for m in mtab:\n        if not find_in_tab(fstab_by_remote, m):\n            data.append({ "fstab": False, "fields": m, "mounted": True })\n    sys.stdout.write(json.dumps(data) + "\\n")\n    sys.stdout.flush()\n\ndef monitor():\n    process_mtab()\n    process_fstab()\n    report()\n    fstab_watcher = Watcher("/etc/fstab")\n    mtab_file = open("/proc/self/mounts", "r")\n    while True:\n        (r, w, x) = select.select([ fstab_watcher.inotify.fd ], [ ], [ mtab_file ])\n        if mtab_file in x:\n            process_mtab()\n            report()\n        if fstab_watcher.inotify.fd in r:\n            fstab_watcher.process()\n            process_fstab()\n            report()\n\ndef mkdir_if_necessary(path):\n    if not os.path.exists(path):\n        os.makedirs(path)\n\ndef rmdir_if_empty(path):\n    try:\n        os.rmdir(path)\n    except OSError as e:\n        if e.errno not in [ errno.ENOTEMPTY, errno.ENOTDIR, errno.ENOENT ]:\n            raise\n\ndef update(entry, new_fields):\n    old_fields = entry["fields"]\n    if old_fields[1] != new_fields[1]:\n        mkdir_if_necessary(new_fields[1])\n    if entry["mounted"]:\n        if (new_fields[0] == old_fields[0]\n            and new_fields[1] == old_fields[1]\n            and new_fields[2] == old_fields[2]):\n            remount(new_fields)\n        else:\n            try:\n                unmount(entry)\n                if old_fields[1] != new_fields[1]:\n                    rmdir_if_empty(old_fields[1])\n            except subprocess.CalledProcessError:\n                pass\n            mount({ "fields": new_fields })\n    else:\n        if old_fields[1] != new_fields[1]:\n            rmdir_if_empty(old_fields[1])\n    modify_tab("/etc/fstab", lambda fields: new_fields if fields == old_fields else fields)\n\ndef add(new_fields):\n    mkdir_if_necessary(new_fields[1])\n    mount({ "fields": new_fields })\n    modify_tab("/etc/fstab", lambda fields: new_fields if fields is None else fields)\n\ndef remove(entry):\n    old_fields = entry["fields"]\n    if entry["mounted"]:\n        unmount(entry)\n    rmdir_if_empty(old_fields[1])\n    modify_tab("/etc/fstab", lambda fields: None if fields == old_fields else fields)\n\ndef mount(entry):\n    fields = entry["fields"]\n    mkdir_if_necessary(fields[1])\n    subprocess.check_call([ "mount",\n                            "-t", fields[2],\n                            "-o", fields[3],\n                            fields[0],\n                            fields[1] ])\n\ndef remount(fields):\n    subprocess.check_call([ "mount",\n                            "-o", "remount," + fields[3],\n                            fields[0],\n                            fields[1] ])\n\ndef unmount(entry):\n    subprocess.check_call([ "umount", entry["fields"][1] ])\n\ndef fuser(entry):\n\n    import dbus\n    bus = dbus.SystemBus()\n    systemd_manager = dbus.Interface(bus.get_object(\'org.freedesktop.systemd1\', \'/org/freedesktop/systemd1\'),\n                                     dbus_interface=\'org.freedesktop.systemd1.Manager\')\n\n    if not entry["mounted"]:\n        return [ ]\n\n    mount_point = entry["fields"][1]\n    results = { }\n\n    def check(path, pid):\n        t = os.readlink(path)\n        if t == mount_point or t.startswith(mount_point + "/"):\n            unit = systemd_manager.GetUnitByPID(int(pid))\n            if unit not in results:\n                unit_obj = bus.get_object(\'org.freedesktop.systemd1\', unit)\n                desc = unit_obj.Get("org.freedesktop.systemd1.Unit", "Description",\n                                    dbus_interface="org.freedesktop.DBus.Properties")\n                id = unit_obj.Get("org.freedesktop.systemd1.Unit", "Id",\n                                  dbus_interface="org.freedesktop.DBus.Properties")\n                results[unit] = { "unit": id, "desc": desc }\n            return True\n        return False\n\n    def checkdir(path, pid):\n        for f in os.listdir(path):\n            if check(os.path.join(path, f), pid):\n                return True\n        return False\n\n    my_pid = os.getpid()\n\n    for p in os.listdir("/proc/"):\n        if not p.isdigit():\n            continue\n        if int(p) == my_pid:\n            continue\n        proc = "/proc/%s/" % p\n        try:\n            if check(proc + "exe", p): continue\n            if check(proc + "root", p): continue\n            if check(proc + "cwd", p): continue\n            if checkdir(proc + "fd", p): continue\n            if checkdir(proc + "map_files", p): continue\n        except OSError:\n            pass\n\n    return list(results.values())\n\ndef users(entry):\n    data = fuser(entry)\n    sys.stdout.write(json.dumps(data) + "\\n")\n    sys.stdout.flush()\n\ndef stop_units(units):\n    import dbus\n    bus = dbus.SystemBus()\n    systemd_manager = dbus.Interface(bus.get_object(\'org.freedesktop.systemd1\', \'/org/freedesktop/systemd1\'),\n                                     dbus_interface=\'org.freedesktop.systemd1.Manager\')\n    for u in units:\n        systemd_manager.StopUnit(u, \'replace\')\n\ndef stop_and_unmount(units, entry):\n    stop_units(units)\n    unmount(entry)\n\ndef stop_and_remove(units, entry):\n    stop_units(units)\n    remove(entry)\n\ndef dispatch(argv):\n    if argv[1] == "monitor":\n        monitor()\n    elif argv[1] == "update":\n        update(json.loads(argv[2]), json.loads(argv[3]))\n    elif argv[1] == "add":\n        add(json.loads(argv[2]))\n    elif argv[1] == "remove":\n        remove(json.loads(argv[2]))\n    elif argv[1] == "mount":\n        mount(json.loads(argv[2]))\n    elif argv[1] == "unmount":\n        unmount(json.loads(argv[2]))\n    elif argv[1] == "stop-and-unmount":\n        stop_and_unmount(json.loads(argv[2]), json.loads(argv[3]))\n    elif argv[1] == "stop-and-remove":\n        stop_and_remove(json.loads(argv[2]), json.loads(argv[3]))\n    elif argv[1] == "users":\n        users(json.loads(argv[2]))\n\ntry:\n    dispatch(sys.argv)\nexcept subprocess.CalledProcessError as e:\n    sys.exit(e.returncode)\nexcept Exception as e:\n    sys.stderr.write(str(e) + "\\n")\n    sys.exit(1)\n';
}, function(e, t) {
    e.exports = '#! /usr/bin/python\n\nimport sys, os, time, json\n\nclass Watcher:\n    def __init__(self, path):\n        self.inotify = Inotify()\n        self.path = path\n        self.wd = -1\n        self.setup()\n\n    def setup(self):\n        self.cur_path = self.path\n        self.cur_wait = None\n        while not os.path.exists(self.cur_path):\n            self.cur_wait = os.path.basename(self.cur_path)\n            self.cur_path = os.path.dirname(self.cur_path)\n\n        events = (IN_CREATE |\n                  IN_MOVED_TO |\n                  IN_MOVED_FROM |\n                  IN_CLOSE_WRITE |\n                  IN_MOVE_SELF)\n        self.wd = self.inotify.add_watch(self.cur_path, events)\n\n    def process(self, callback = None):\n        def event(wd, mask, name):\n            want_callback = self.cur_path == self.path\n            if self.cur_wait and name == self.cur_wait:\n                self.inotify.rem_watch(self.wd)\n                self.setup()\n            elif mask & IN_IGNORED:\n                self.setup()\n            want_callback = want_callback or self.cur_path == self.path\n            if want_callback and callback:\n                callback()\n        self.inotify.process(event)\n\n# Temporary patch to address layout changes\nfor dir in sys.path:\n  vdoDir = os.path.join(dir, \'vdo\')\n  if os.path.isdir(vdoDir):\n    sys.path.append(vdoDir)\n    break\n\nfrom statistics import *\nfrom vdomgmnt import *\n\n# Converts NotAvailable to None, recursively, and other things.  The goal is to make OBJ serializable.\ndef wash(obj):\n    if isinstance(obj, NotAvailable):\n        return None\n    elif isinstance(obj, SizeString):\n        return int(obj)\n    elif isinstance(obj, dict):\n        return { key: wash(obj[key]) for key in obj.keys() }\n    elif isinstance(obj, list):\n        return map(wash, obj)\n    else:\n        return obj\n\ndef dump_washed(obj):\n    sys.stdout.write(json.dumps(wash(obj)) + "\\n")\n    sys.stdout.flush()\n\ndef monitor_config():\n    def query():\n        try:\n            conf = Configuration("/etc/vdoconf.yml")\n            return [ { "name": vdo.getName(),\n                       "broken": vdo.unrecoverablePreviousOperationFailure,\n                       "device": vdo.device,\n                       "logical_size": vdo.logicalSize,\n                       "physical_size": vdo.physicalSize,\n                       "index_mem": vdo.indexMemory,\n                       "activated": vdo.activated,\n                       "compression": vdo.enableCompression,\n                       "deduplication": vdo.enableDeduplication }\n                     for vdo in conf.getAllVdos().values() ]\n        except Exception as e:\n            sys.stderr.write(str(e) + "\\n")\n            return [ ]\n\n    def event():\n        dump_washed(query())\n\n    watcher = Watcher("/etc/vdoconf.yml")\n    event()\n    while True:\n        watcher.process(event)\n\ndef monitor_volume(dev):\n\n    monitored_fields = [ \'blockSize\',\n                         \'dataBlocksUsed\', \'overheadBlocksUsed\',\n                         \'logicalBlocksUsed\',\n                         \'usedPercent\', \'savingPercent\'\n    ]\n\n    def sample():\n        try:\n            stats = Samples.assay([ VDOStatistics() ], dev, False).samples[0].sample\n            return { key: stats.get(key) for key in monitored_fields }\n        except Exception as e:\n            # Ignore errors from non-existing devices.  These happen\n            # briefly when a VDO volume is being stopped or deleted\n            # and the monitor hasn\'t been killed yet.\n            if not "[Errno 2]" in str(e):\n                raise\n            return { }\n\n    prev = None\n    while True:\n        data = sample()\n        if data != prev:\n            dump_washed(data)\n        prev = data\n        time.sleep(2)\n\nif len(sys.argv) == 1:\n    monitor_config()\nelse:\n    monitor_volume(sys.argv[1])\n';
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function l(e, t) {
        function n() {
            u.default.render(u.default.createElement(w, {
                client: e,
                jobs: t
            }), o), o.style.display = "block";
        }
        function a() {
            o.style.display = "none";
        }
        var o = document.getElementById("storage");
        return {
            show: n,
            hide: a
        };
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.OverviewSidePanelRow = t.OverviewSidePanel = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }();
    t.init = l;
    var c = n(18), u = a(c), d = n(9), f = n(19), p = n(24), m = n(31), h = n(36), v = n(37), g = n(38), b = n(39), y = n(40), _ = n(41), k = n(42), x = n(43), w = (t.OverviewSidePanel = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), s(t, [ {
            key: "render",
            value: function() {
                return u.default.createElement("div", {
                    className: "panel panel-default",
                    id: this.props.id
                }, u.default.createElement("div", {
                    className: "panel-heading"
                }, u.default.createElement("span", {
                    className: "pull-right"
                }, this.props.actions), u.default.createElement("span", null, this.props.title)), this.props.children.length > 0 ? u.default.createElement("table", {
                    className: "table" + (this.props.hover !== !1 ? " table-hover" : "")
                }, u.default.createElement("tbody", null, this.props.children)) : u.default.createElement("div", {
                    className: "empty-panel-text"
                }, this.props.empty_text));
            }
        } ]), t;
    }(u.default.Component), t.OverviewSidePanelRow = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), s(t, [ {
            key: "render",
            value: function() {
                var e = this, t = function(t) {
                    if (t && 0 === t.button) return e.props.go();
                };
                return u.default.createElement("tr", {
                    "data-testkey": this.props.testkey,
                    onClick: this.props.go ? t : null,
                    className: this.props.highlight ? "highlight-ct" : ""
                }, u.default.createElement("td", {
                    className: "storage-icon"
                }, this.props.kind !== !1 ? u.default.createElement("div", null, u.default.createElement("img", {
                    src: "images/storage-" + (this.props.kind || "disk") + ".png"
                })) : null), u.default.createElement("td", {
                    className: "row"
                }, u.default.createElement("span", {
                    className: "col-md-12 storage-disk-name"
                }, this.props.name), u.default.createElement("br", null), u.default.createElement("span", {
                    className: "col-md-12 col-lg-5 storage-disk-size"
                }, this.props.detail), this.props.stats ? u.default.createElement("span", {
                    className: "col-md-12 col-lg-7"
                }, u.default.createElement("span", null, "R: ", (0, d.fmt_rate)(this.props.stats[0])), "\n", u.default.createElement("span", {
                    className: "rate-gap"
                }), "\n", u.default.createElement("span", null, "W: ", (0, d.fmt_rate)(this.props.stats[1]))) : null), this.props.actions ? u.default.createElement("td", {
                    className: "storage-icon"
                }, this.props.actions) : this.props.client.path_jobs[this.props.job_path] ? u.default.createElement("td", {
                    className: "storage-icon"
                }, u.default.createElement("div", {
                    className: "spinner spinner-sm"
                })) : null);
            }
        } ]), t;
    }(u.default.Component), function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.state = {
                highlight: !1
            }, e.on_client_changed = function() {
                e.setState({});
            }, e;
        }
        return i(t, e), s(t, [ {
            key: "componentDidMount",
            value: function() {
                this.props.client.addEventListener("changed", this.on_client_changed);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.props.client.removeEventListener("changed", this.on_client_changed);
            }
        }, {
            key: "render",
            value: function() {
                var e = this, t = this.props.client;
                return u.default.createElement("div", null, u.default.createElement("div", {
                    className: "col-md-8 col-lg-9 page-ct"
                }, u.default.createElement(f.StoragePlots, {
                    client: t,
                    onHover: function(t) {
                        return e.setState({
                            highlight: t
                        });
                    }
                }), u.default.createElement("br", null), u.default.createElement(p.FilesystemsPanel, {
                    client: t
                }), u.default.createElement(m.NFSPanel, {
                    client: t
                }), u.default.createElement(k.JobsPanel, {
                    client: t
                }), u.default.createElement(x.StorageLogsPanel, null)), u.default.createElement("div", {
                    className: "col-md-4 col-lg-3 storage-sidebar page-ct"
                }, u.default.createElement(h.MDRaidsPanel, {
                    client: t
                }), t.features.lvm2 ? u.default.createElement(v.VGroupsPanel, {
                    client: t
                }) : null, t.features.vdo ? u.default.createElement(g.VDOsPanel, {
                    client: t
                }) : null, t.features.iscsi ? u.default.createElement(b.IscsiPanel, {
                    client: t
                }) : null, u.default.createElement(y.DrivesPanel, {
                    client: t,
                    highlight: this.state.highlight
                }), u.default.createElement(_.OthersPanel, {
                    client: t
                })));
            }
        } ]), t;
    }(u.default.Component));
}, function(e, t, n) {
    /*!
	 * react-lite.js v0.15.39
	 * (c) 2017 Jade Gu
	 * Released under the MIT License.
	 */
    !function(t, n) {
        e.exports = n();
    }(this, function() {
        "use strict";
        function e(e, t, n, a, o) {
            var r = {
                vtype: e,
                type: t,
                props: n,
                refs: Je,
                key: a,
                ref: o
            };
            return e !== $e && e !== We || (r.uid = le()), r;
        }
        function t(e, t, n) {
            var a = e.vtype, o = null;
            return a ? a === Le ? o = s(e, t, n) : a === We ? o = y(e, t, n) : a === $e ? o = h(e, t, n) : a === He && (o = document.createComment("react-text: " + (e.uid || le()))) : o = document.createTextNode(e), 
            o;
        }
        function n(e, t, n, o) {
            var r = e.vtype;
            if (r === We) return _(e, t, n, o);
            if (r === $e) return v(e, t, n, o);
            if (r !== Le) return n;
            var i = e.props[Ve] && e.props[Ve].__html;
            return null != i ? (p(e, t, n, o), c(t, n, o)) : (a(e, t, n, o), p(e, t, n, o)), 
            n;
        }
        function a(e, t, n, a) {
            var l = {
                removes: [],
                updates: [],
                creates: []
            };
            f(l, e, t, n, a), re(l.removes, r), re(l.updates, o), re(l.creates, i);
        }
        function o(e) {
            if (e) {
                var t = e.vnode, n = e.node;
                e.shouldIgnore || (t.vtype ? t.vtype === Le ? p(t, e.newVnode, n, e.parentContext) : t.vtype === $e ? n = v(t, e.newVnode, n, e.parentContext) : t.vtype === We && (n = _(t, e.newVnode, n, e.parentContext)) : n.replaceData(0, n.length, e.newVnode));
                var a = n.parentNode.childNodes[e.index];
                return a !== n && n.parentNode.insertBefore(n, a), n;
            }
        }
        function r(e) {
            l(e.vnode, e.node), e.node.parentNode.removeChild(e.node);
        }
        function i(e) {
            var n = t(e.vnode, e.parentContext, e.parentNode.namespaceURI);
            e.parentNode.insertBefore(n, e.parentNode.childNodes[e.index]);
        }
        function l(e, t) {
            var n = e.vtype;
            n === Le ? m(e, t) : n === We ? k(e, t) : n === $e && g(e, t);
        }
        function s(e, t, n) {
            var a = e.type, o = e.props, r = null;
            "svg" === a || n === Be ? (r = document.createElementNS(Be, a), n = Be) : r = document.createElement(a), 
            c(e, r, t);
            var i = a.indexOf("-") >= 0 || null != o.is;
            return de(r, o, i), null != e.ref && (oe(Ke, e), oe(Ke, r)), r;
        }
        function c(e, n, a) {
            for (var o = n.vchildren = u(e), r = n.namespaceURI, i = 0, l = o.length; i < l; i++) n.appendChild(t(o[i], a, r));
        }
        function u(e) {
            var t = e.props.children, n = [];
            return wt(t) ? re(t, d, n) : d(t, n), n;
        }
        function d(e, t) {
            if (null != e && "boolean" != typeof e) {
                if (!e.vtype) {
                    if (e.toJS) return e = e.toJS(), void (wt(e) ? re(e, d, t) : d(e, t));
                    e = "" + e;
                }
                t[t.length] = e;
            }
        }
        function f(e, t, n, a, o) {
            if (a.vchildren) {
                var r = a.childNodes, i = a.vchildren, l = a.vchildren = u(n), s = i.length, c = l.length;
                if (0 !== s) if (0 !== c) {
                    for (var d = Array(c), p = null, m = null, h = 0; h < s; h++) for (var v = i[h], g = 0; g < c; g++) if (!d[g]) {
                        var b = l[g];
                        if (v === b) {
                            d[g] = {
                                shouldIgnore: z(a),
                                vnode: v,
                                newVnode: b,
                                node: r[h],
                                parentContext: o,
                                index: g
                            }, i[h] = null;
                            break;
                        }
                    }
                    for (var h = 0; h < s; h++) {
                        var y = i[h];
                        if (null !== y) {
                            for (var _ = !0, g = 0; g < c; g++) if (!d[g]) {
                                var k = l[g];
                                if (k.type === y.type && k.key === y.key && k.refs === y.refs) {
                                    d[g] = {
                                        vnode: y,
                                        newVnode: k,
                                        node: r[h],
                                        parentContext: o,
                                        index: g
                                    }, _ = !1;
                                    break;
                                }
                            }
                            _ && (p || (p = []), oe(p, {
                                vnode: y,
                                node: r[h]
                            }));
                        }
                    }
                    for (var h = 0; h < c; h++) {
                        var x = d[h];
                        x ? x.vnode.vtype === Le && f(e, x.vnode, x.newVnode, x.node, x.parentContext) : (m || (m = []), 
                        oe(m, {
                            vnode: l[h],
                            parentNode: a,
                            parentContext: o,
                            index: h
                        }));
                    }
                    p && oe(e.removes, p), m && oe(e.creates, m), oe(e.updates, d);
                } else for (var h = 0; h < s; h++) oe(e.removes, {
                    vnode: i[h],
                    node: r[h]
                }); else if (c > 0) for (var h = 0; h < c; h++) oe(e.creates, {
                    vnode: l[h],
                    parentNode: a,
                    parentContext: o,
                    index: h
                });
            }
        }
        function p(e, t, n) {
            var a = e.type.indexOf("-") >= 0 || null != e.props.is;
            return fe(n, e.props, t.props, a), e.ref !== t.ref && (P(e.refs, e.ref, n), M(t.refs, t.ref, n)), 
            n;
        }
        function m(e, t) {
            var n = (e.props, t.vchildren), a = t.childNodes;
            if (n) for (var o = 0, r = n.length; o < r; o++) l(n[o], a[o]);
            P(e.refs, e.ref, t), t.eventStore = t.vchildren = null;
        }
        function h(e, n, a) {
            var o = b(e, n), r = t(o, n, a);
            return r.cache = r.cache || {}, r.cache[e.uid] = o, r;
        }
        function v(e, t, n, a) {
            var o = e.uid, r = n.cache[o];
            delete n.cache[o];
            var i = b(t, a), l = O(r, i, n, a);
            return l.cache = l.cache || {}, l.cache[t.uid] = i, l !== n && D(l.cache, n.cache, l), 
            l;
        }
        function g(e, t) {
            var n = e.uid, a = t.cache[n];
            delete t.cache[n], l(a, t);
        }
        function b(t, n) {
            var a = t.type, o = t.props, r = x(n, a.contextTypes), i = a(o, r);
            if (i && i.render && (i = i.render()), null === i || i === !1) i = e(He); else if (!i || !i.vtype) throw new Error("@" + a.name + "#render:You may have returned undefined, an array or some other invalid object");
            return i;
        }
        function y(e, n, a) {
            var o = e.type, r = e.props, i = e.uid, l = x(n, o.contextTypes), s = new o(r, l), c = s.$updater, u = s.$cache;
            u.parentContext = n, c.isPending = !0, s.props = s.props || r, s.context = s.context || l, 
            s.componentWillMount && (s.componentWillMount(), s.state = c.getState());
            var d = w(s), f = t(d, E(s, n), a);
            return f.cache = f.cache || {}, f.cache[i] = s, u.vnode = d, u.node = f, u.isMounted = !0, 
            oe(Xe, s), null != e.ref && (oe(Ke, e), oe(Ke, s)), f;
        }
        function _(e, t, n, a) {
            var o = e.uid, r = n.cache[o], i = r.$updater, l = r.$cache, s = t.type, c = t.props, u = x(a, s.contextTypes);
            if (delete n.cache[o], n.cache[t.uid] = r, l.parentContext = a, r.componentWillReceiveProps) {
                var d = !i.isPending;
                d && (i.isPending = !0), r.componentWillReceiveProps(c, u), d && (i.isPending = !1);
            }
            return e.ref !== t.ref && (P(e.refs, e.ref, r), M(t.refs, t.ref, r)), i.emitUpdate(c, u), 
            l.node;
        }
        function k(e, t) {
            var n = e.uid, a = t.cache[n], o = a.$cache;
            delete t.cache[n], P(e.refs, e.ref, a), a.setState = a.forceUpdate = te, a.componentWillUnmount && a.componentWillUnmount(), 
            l(o.vnode, t), delete a.setState, o.isMounted = !1, o.node = o.parentContext = o.vnode = a.refs = a.context = null;
        }
        function x(e, t) {
            var n = {};
            if (!t || !e) return n;
            for (var a in t) t.hasOwnProperty(a) && (n[a] = e[a]);
            return n;
        }
        function w(t, n) {
            Je = t.refs;
            var a = t.render();
            if (null === a || a === !1) a = e(He); else if (!a || !a.vtype) throw new Error("@" + t.constructor.name + "#render:You may have returned undefined, an array or some other invalid object");
            return Je = null, a;
        }
        function E(e, t) {
            if (e.getChildContext) {
                var n = e.getChildContext();
                n && (t = ie(ie({}, t), n));
            }
            return t;
        }
        function S() {
            var e = Xe.length;
            if (e) {
                var t = Xe;
                Xe = [];
                for (var n = -1; e--; ) {
                    var a = t[++n], o = a.$updater;
                    a.componentDidMount && a.componentDidMount(), o.isPending = !1, o.emitUpdate();
                }
            }
        }
        function T() {
            var e = Ke.length;
            if (e) {
                var t = Ke;
                Ke = [];
                for (var n = 0; n < e; n += 2) {
                    var a = t[n], o = t[n + 1];
                    M(a.refs, a.ref, o);
                }
            }
        }
        function C() {
            T(), S();
        }
        function O(e, a, o, r) {
            var i = o;
            return null == a ? (l(e, o), o.parentNode.removeChild(o)) : e.type !== a.type || e.key !== a.key ? (l(e, o), 
            i = t(a, r, o.namespaceURI), o.parentNode.replaceChild(i, o)) : (e !== a || r) && (i = n(e, a, o, r)), 
            i;
        }
        function N() {
            return this;
        }
        function M(e, t, n) {
            null != t && n && (n.nodeName && !n.getDOMNode && (n.getDOMNode = N), ee(t) ? t(n) : e && (e[t] = n));
        }
        function P(e, t, n) {
            null != t && (ee(t) ? t(null) : e && e[t] === n && delete e[t]);
        }
        function D(e, t, n) {
            for (var a in t) if (t.hasOwnProperty(a)) {
                var o = t[a];
                e[a] = o, o.forceUpdate && (o.$cache.node = n);
            }
        }
        function z(e) {
            var t = e.vchildren, n = e.children;
            if (t) for (var a = 0; a < t.length; a++) {
                var o = t[a];
                if ((o.vtype === We || o.vtype === $e) && o.type.contextTypes) return !1;
            }
            if (n) for (var a = 0; a < n.length; a++) if (!z(n[a])) return !1;
            return !0;
        }
        function j(e) {
            this.instance = e, this.pendingStates = [], this.pendingCallbacks = [], this.isPending = !1, 
            this.nextProps = this.nextContext = null, this.clearCallbacks = this.clearCallbacks.bind(this);
        }
        function I(e, t) {
            this.$updater = new j(this), this.$cache = {
                isMounted: !1
            }, this.props = e, this.state = {}, this.refs = {}, this.context = t;
        }
        function A(e, t, n, a, o) {
            var r = !0;
            if (e.shouldComponentUpdate && (r = e.shouldComponentUpdate(t, n, a)), r === !1) return e.props = t, 
            e.state = n, void (e.context = a || {});
            var i = e.$cache;
            i.props = t, i.state = n, i.context = a || {}, e.forceUpdate(o);
        }
        function R(e) {
            return "onDoubleClick" === e ? e = "ondblclick" : "onTouchTap" === e && (e = "onclick"), 
            e.toLowerCase();
        }
        function F(e, t, n) {
            t = R(t);
            var a = e.eventStore || (e.eventStore = {});
            if (a[t] = n, 1 === et[t]) return void (e[t] = U);
            if (ot[t] || (document.addEventListener(t.substr(2), B, !1), ot[t] = !0), tt && t === at) return void e.addEventListener("click", nt, !1);
            e.nodeName;
            "onchange" === t && $(e) && F(e, "oninput", n);
        }
        function V(e, t) {
            t = R(t);
            var n = e.eventStore || (e.eventStore = {});
            if (delete n[t], 1 === et[t]) return void (e[t] = null);
            if (tt && t === at) return void e.removeEventListener("click", nt, !1);
            e.nodeName;
            "onchange" === t && $(e) && delete n.oninput;
        }
        function B(e) {
            var t = e.target, n = e.type, a = "on" + n, o = void 0;
            for (Qe.isPending = !0; t; ) {
                var r = t, i = r.eventStore, l = i && i[a];
                if (l) {
                    if (o || (o = L(e)), o.currentTarget = t, l.call(t, o), o.$cancelBubble) break;
                    t = t.parentNode;
                } else t = t.parentNode;
            }
            Qe.isPending = !1, Qe.batchUpdate();
        }
        function U(e) {
            var t = e.currentTarget || e.target, n = "on" + e.type, a = L(e);
            a.currentTarget = t, Qe.isPending = !0;
            var o = t.eventStore, r = o && o[n];
            r && r.call(t, a), Qe.isPending = !1, Qe.batchUpdate();
        }
        function L(e) {
            var t = {}, n = function() {
                return t.$cancelBubble = !0;
            };
            t.nativeEvent = e, t.persist = te;
            for (var a in e) "function" != typeof e[a] ? t[a] = e[a] : "stopPropagation" === a || "stopImmediatePropagation" === a ? t[a] = n : t[a] = e[a].bind(e);
            return t;
        }
        function $(e) {
            var t = e.nodeName && e.nodeName.toLowerCase();
            return "select" !== t && !("input" === t && "file" === e.type);
        }
        function W(e, t) {
            for (var n in t) t.hasOwnProperty(n) && Y(e, n, t[n]);
        }
        function H(e, t) {
            for (var n in t) t.hasOwnProperty(n) && (e[n] = "");
        }
        function G(e, t, n) {
            if (t !== n) {
                if (!n && t) return void H(e, t);
                if (n && !t) return void W(e, n);
                for (var a in t) n.hasOwnProperty(a) ? n[a] !== t[a] && Y(e, a, n[a]) : e[a] = "";
                for (var a in n) t.hasOwnProperty(a) || Y(e, a, n[a]);
            }
        }
        function q(e, t) {
            return e + t.charAt(0).toUpperCase() + t.substring(1);
        }
        function Y(e, t, n) {
            return !rt[t] && lt.test(n) ? void (e[t] = n + "px") : ("float" === t && (t = "cssFloat"), 
            null != n && "boolean" != typeof n || (n = ""), void (e[t] = n));
        }
        function J(e) {
            var t = e.props, n = e.attrNS, a = e.domAttrs, o = e.domProps;
            for (var r in t) if (t.hasOwnProperty(r)) {
                var i = t[r];
                ft[r] = {
                    attributeName: a.hasOwnProperty(r) ? a[r] : r.toLowerCase(),
                    propertyName: o.hasOwnProperty(r) ? o[r] : r,
                    attributeNamespace: n.hasOwnProperty(r) ? n[r] : null,
                    mustUseProperty: X(i, pt),
                    hasBooleanValue: X(i, mt),
                    hasNumericValue: X(i, ht),
                    hasPositiveNumericValue: X(i, vt),
                    hasOverloadedBooleanValue: X(i, gt)
                };
            }
        }
        function X(e, t) {
            return (e & t) === t;
        }
        function K(e, t, n) {
            var a = ft.hasOwnProperty(t) && ft[t];
            if (a) if (null == n || a.hasBooleanValue && !n || a.hasNumericValue && isNaN(n) || a.hasPositiveNumericValue && n < 1 || a.hasOverloadedBooleanValue && n === !1) Q(e, t); else if (a.mustUseProperty) e[a.propertyName] = n; else {
                var o = a.attributeName, r = a.attributeNamespace;
                r ? e.setAttributeNS(r, o, "" + n) : a.hasBooleanValue || a.hasOverloadedBooleanValue && n === !0 ? e.setAttribute(o, "") : e.setAttribute(o, "" + n);
            } else dt(t) && ut.test(t) && (null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n));
        }
        function Q(e, t) {
            var n = ft.hasOwnProperty(t) && ft[t];
            if (n) if (n.mustUseProperty) {
                var a = n.propertyName;
                n.hasBooleanValue ? e[a] = !1 : e[a] = "";
            } else e.removeAttribute(n.attributeName); else dt(t) && e.removeAttribute(t);
        }
        function Z(e, t, n) {
            var a, o, r = e.options;
            if (t) {
                if (e.multiple = !0, !Array.isArray(n)) throw new Error("The value prop supplied to <select> must be an array if `multiple` is true");
                for (a = {}, o = 0; o < n.length; o++) a["" + n[o]] = !0;
                for (o = 0; o < r.length; o++) {
                    var i = a.hasOwnProperty(r[o].value);
                    r[o].selected !== i && (r[o].selected = i);
                }
            } else {
                if (e.multiple = !1, Array.isArray(n)) throw new Error("The value prop supplied to <select> must be a scalar value if `multiple` is false.");
                for (a = "" + n, o = 0; o < r.length; o++) {
                    var l = r[o];
                    l.value === a ? l.selected || (l.selected = !0) : l.selected && (l.selected = !1);
                }
                r.selectedIndex < 0 && r.length && (r[0].selected = !0);
            }
        }
        function ee(e) {
            return "function" == typeof e;
        }
        function te() {}
        function ne(e) {
            return e;
        }
        function ae(e, t) {
            return function() {
                return e.apply(this, arguments), t.apply(this, arguments);
            };
        }
        function oe(e, t) {
            e[e.length] = t;
        }
        function re(e, t, n) {
            for (var a = e.length, o = -1; a--; ) {
                var r = e[++o];
                wt(r) ? re(r, t, n) : t(r, n);
            }
        }
        function ie(e, t) {
            if (!t) return e;
            for (var n = Object.keys(t), a = n.length; a--; ) e[n[a]] = t[n[a]];
            return e;
        }
        function le() {
            return ++Et;
        }
        function se(e, t, n, a) {
            St.test(t) ? F(e, t, n) : "style" === t ? W(e.style, n) : t === Ve ? n && null != n.__html && (e.innerHTML = n.__html) : a ? null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n) : K(e, t, n);
        }
        function ce(e, t, n, a) {
            St.test(t) ? V(e, t) : "style" === t ? H(e.style, n) : t === Ve ? e.innerHTML = "" : a ? e.removeAttribute(t) : Q(e, t);
        }
        function ue(e, t, n, a, o) {
            if ("value" !== t && "checked" !== t || (a = e[t]), n !== a) return void 0 === n ? void ce(e, t, a, o) : void ("style" === t ? G(e.style, a, n) : se(e, t, n, o));
        }
        function de(e, t, n) {
            var a = "SELECT" === e.nodeName;
            for (var o in t) "children" !== o && (!a || "value" !== o && "defaultValue" !== o ? se(e, o, t[o], n) : Z(e, t.multiple, t[o]));
        }
        function fe(e, t, n, a) {
            var o = "SELECT" === e.nodeName;
            for (var r in t) "children" !== r && (n.hasOwnProperty(r) ? !o || "value" !== r && "defaultValue" !== r ? ue(e, r, n[r], t[r], a) : Z(e, n.multiple, n[r]) : ce(e, r, t[r], a));
            for (var r in n) "children" === r || t.hasOwnProperty(r) || (!o || "value" !== r && "defaultValue" !== r ? se(e, r, n[r], a) : Z(e, n.multiple, n[r]));
        }
        function pe(e) {
            return !(!e || e.nodeType !== Ge && e.nodeType !== qe && e.nodeType !== Ye);
        }
        function me(e, n, a, o) {
            if (!e.vtype) throw new Error("cannot render " + e + " to container");
            if (!pe(n)) throw new Error("container " + n + " is not a DOM element");
            var r = n[Ue] || (n[Ue] = le()), i = Tt[r];
            if (i) return void (i === !0 ? Tt[r] = i = {
                vnode: e,
                callback: a,
                parentContext: o
            } : (i.vnode = e, i.parentContext = o, i.callback = i.callback ? ae(i.callback, a) : a));
            Tt[r] = !0;
            var l = null, s = null;
            if (l = Ct[r]) s = O(l, e, n.firstChild, o); else {
                s = t(e, o, n.namespaceURI);
                for (var c = null; c = n.lastChild; ) n.removeChild(c);
                n.appendChild(s);
            }
            Ct[r] = e;
            var u = Qe.isPending;
            Qe.isPending = !0, C(), i = Tt[r], delete Tt[r];
            var d = null;
            return "object" == typeof i ? d = me(i.vnode, n, i.callback, i.parentContext) : e.vtype === Le ? d = s : e.vtype === We && (d = s.cache[e.uid]), 
            u || (Qe.isPending = !1, Qe.batchUpdate()), a && a.call(d), d;
        }
        function he(e, t, n) {
            return me(e, t, n);
        }
        function ve(e, t, n, a) {
            var o = e.$cache.parentContext;
            return me(t, n, a, o);
        }
        function ge(e) {
            if (!e.nodeName) throw new Error("expect node");
            var t = e[Ue], n = null;
            return !!(n = Ct[t]) && (l(n, e.firstChild), e.removeChild(e.firstChild), delete Ct[t], 
            !0);
        }
        function be(e) {
            if (null == e) return null;
            if (e.nodeName) return e;
            var t = e;
            if (t.getDOMNode && t.$cache.isMounted) return t.getDOMNode();
            throw new Error("findDOMNode can not find Node");
        }
        function ye(t, n, a) {
            var o = null;
            if ("string" == typeof t) o = Le; else {
                if ("function" != typeof t) throw new Error("React.createElement: unexpect type [ " + t + " ]");
                o = t.prototype && t.prototype.isReactComponent ? We : $e;
            }
            var r = null, i = null, l = {};
            if (null != n) for (var s in n) n.hasOwnProperty(s) && ("key" === s ? void 0 !== n.key && (r = "" + n.key) : "ref" === s ? void 0 !== n.ref && (i = n.ref) : l[s] = n[s]);
            var c = t.defaultProps;
            if (c) for (var s in c) void 0 === l[s] && (l[s] = c[s]);
            var u = arguments.length, d = a;
            if (u > 3) {
                d = Array(u - 2);
                for (var f = 2; f < u; f++) d[f - 2] = arguments[f];
            }
            return void 0 !== d && (l.children = d), e(o, t, l, r, i);
        }
        function _e(e) {
            return null != e && !!e.vtype;
        }
        function ke(e, t) {
            for (var n = e.type, a = e.key, o = e.ref, r = ie(ie({
                key: a,
                ref: o
            }, e.props), t), i = arguments.length, l = Array(i > 2 ? i - 2 : 0), s = 2; s < i; s++) l[s - 2] = arguments[s];
            var c = ye.apply(void 0, [ n, r ].concat(l));
            return c.ref === e.ref && (c.refs = e.refs), c;
        }
        function xe(e) {
            var t = function() {
                for (var t = arguments.length, n = Array(t), a = 0; a < t; a++) n[a] = arguments[a];
                return ye.apply(void 0, [ e ].concat(n));
            };
            return t.type = e, t;
        }
        function we(e) {
            if (_e(e)) return e;
            throw new Error("expect only one child");
        }
        function Ee(e, t, n) {
            if (null == e) return e;
            var a = 0;
            if (wt(e)) re(e, function(e) {
                var o = typeof e;
                "undefined" !== o && "boolean" !== o || (e = null), t.call(n, e, a++);
            }); else {
                var o = typeof e;
                "undefined" !== o && "boolean" !== o || (e = null), t.call(n, e, a);
            }
        }
        function Se(e, t, n) {
            if (null == e) return e;
            var a = [], o = {};
            Ee(e, function(e, r) {
                var i = {};
                i.child = t.call(n, e, r) || e, i.isEqual = i.child === e;
                var l = i.key = Oe(e, r);
                o.hasOwnProperty(l) ? o[l] += 1 : o[l] = 0, i.index = o[l], oe(a, i);
            });
            var r = [];
            return a.forEach(function(e) {
                var t = e.child, n = e.key, a = e.index, i = e.isEqual;
                if (null != t && "boolean" != typeof t) {
                    if (!_e(t) || null == n) return void oe(r, t);
                    0 !== o[n] && (n += ":" + a), i || (n = Ne(t.key || "") + "/" + n), t = ke(t, {
                        key: n
                    }), oe(r, t);
                }
            }), r;
        }
        function Te(e) {
            var t = 0;
            return Ee(e, function() {
                t++;
            }), t;
        }
        function Ce(e) {
            return Se(e, ne) || [];
        }
        function Oe(e, t) {
            var n = void 0;
            return n = _e(e) && "string" == typeof e.key ? ".$" + e.key : "." + t.toString(36);
        }
        function Ne(e) {
            return ("" + e).replace(zt, "//");
        }
        function Me(e, t) {
            e.forEach(function(e) {
                e && (wt(e.mixins) && Me(e.mixins, t), t(e));
            });
        }
        function Pe(e, t) {
            for (var n in t) if (t.hasOwnProperty(n)) {
                var a = t[n];
                if ("getInitialState" !== n) {
                    var o = e[n];
                    ee(o) && ee(a) ? e[n] = ae(o, a) : e[n] = a;
                } else oe(e.$getInitialStates, a);
            }
        }
        function De(e, t) {
            t.propTypes && (e.propTypes = e.propTypes || {}, ie(e.propTypes, t.propTypes)), 
            t.contextTypes && (e.contextTypes = e.contextTypes || {}, ie(e.contextTypes, t.contextTypes)), 
            ie(e, t.statics), ee(t.getDefaultProps) && (e.defaultProps = e.defaultProps || {}, 
            ie(e.defaultProps, t.getDefaultProps()));
        }
        function ze(e, t) {
            for (var n in t) t.hasOwnProperty(n) && ee(t[n]) && (e[n] = t[n].bind(e));
        }
        function je() {
            var e = this, t = {}, n = this.setState;
            return this.setState = It, this.$getInitialStates.forEach(function(n) {
                ee(n) && ie(t, n.call(e));
            }), this.setState = n, t;
        }
        function Ie(e) {
            function t(n, a) {
                I.call(this, n, a), this.constructor = t, e.autobind !== !1 && ze(this, t.prototype), 
                this.state = this.getInitialState() || this.state;
            }
            if (!ee(e.render)) throw new Error("createClass: spec.render is not function");
            var n = e.mixins || [], a = n.concat(e);
            e.mixins = null, t.displayName = e.displayName;
            var o = t.prototype = new It();
            return o.$getInitialStates = [], Me(a, function(e) {
                Pe(o, e), De(t, e);
            }), o.getInitialState = je, e.mixins = n, t;
        }
        function Ae(e, t) {
            if (e === t) return !0;
            if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
            var n = Object.keys(e), a = Object.keys(t);
            if (n.length !== a.length) return !1;
            for (var o = 0; o < n.length; o++) if (!t.hasOwnProperty(n[o]) || e[n[o]] !== t[n[o]]) return !1;
            return !0;
        }
        function Re(e, t) {
            I.call(this, e, t);
        }
        function Fe(e, t) {
            return !Ae(this.props, e) || !Ae(this.state, t);
        }
        var Ve = "dangerouslySetInnerHTML", Be = "http://www.w3.org/2000/svg", Ue = "liteid", Le = 2, $e = 3, We = 4, He = 5, Ge = 1, qe = 9, Ye = 11, Je = null, Xe = [], Ke = [], Qe = {
            updaters: [],
            isPending: !1,
            add: function(e) {
                oe(this.updaters, e);
            },
            batchUpdate: function() {
                if (!this.isPending) {
                    this.isPending = !0;
                    for (var e = this.updaters, t = void 0; t = e.pop(); ) t.updateComponent();
                    this.isPending = !1;
                }
            }
        };
        j.prototype = {
            emitUpdate: function(e, t) {
                this.nextProps = e, this.nextContext = t, e || !Qe.isPending ? this.updateComponent() : Qe.add(this);
            },
            updateComponent: function() {
                var e = this.instance, t = this.pendingStates, n = this.nextProps, a = this.nextContext;
                (n || t.length > 0) && (n = n || e.props, a = a || e.context, this.nextProps = this.nextContext = null, 
                A(e, n, this.getState(), a, this.clearCallbacks));
            },
            addState: function(e) {
                e && (oe(this.pendingStates, e), this.isPending || this.emitUpdate());
            },
            replaceState: function(e) {
                var t = this.pendingStates;
                t.pop(), oe(t, [ e ]);
            },
            getState: function() {
                var e = this.instance, t = this.pendingStates, n = e.state, a = e.props;
                return t.length && (n = ie({}, n), t.forEach(function(t) {
                    var o = wt(t);
                    o && (t = t[0]), ee(t) && (t = t.call(e, n, a)), o ? n = ie({}, t) : ie(n, t);
                }), t.length = 0), n;
            },
            clearCallbacks: function() {
                var e = this.pendingCallbacks, t = this.instance;
                e.length > 0 && (this.pendingCallbacks = [], e.forEach(function(e) {
                    return e.call(t);
                }));
            },
            addCallback: function(e) {
                ee(e) && oe(this.pendingCallbacks, e);
            }
        };
        var Ze = {};
        I.prototype = {
            constructor: I,
            isReactComponent: Ze,
            forceUpdate: function(e) {
                var t = this.$updater, n = this.$cache, a = this.props, o = this.state, r = this.context;
                if (n.isMounted) {
                    if (t.isPending) return void t.addState(o);
                    var i = n.props || a, l = n.state || o, s = n.context || r, c = n.parentContext, u = n.node, d = n.vnode;
                    n.props = n.state = n.context = null, t.isPending = !0, this.componentWillUpdate && this.componentWillUpdate(i, l, s), 
                    this.state = l, this.props = i, this.context = s;
                    var f = w(this), p = O(d, f, u, E(this, c));
                    p !== u && (p.cache = p.cache || {}, D(p.cache, u.cache, p)), n.vnode = f, n.node = p, 
                    C(), this.componentDidUpdate && this.componentDidUpdate(a, o, r), e && e.call(this), 
                    t.isPending = !1, t.emitUpdate();
                }
            },
            setState: function(e, t) {
                var n = this.$updater;
                n.addCallback(t), n.addState(e);
            },
            replaceState: function(e, t) {
                var n = this.$updater;
                n.addCallback(t), n.replaceState(e);
            },
            getDOMNode: function() {
                var e = this.$cache.node;
                return e && "#comment" === e.nodeName ? null : e;
            },
            isMounted: function() {
                return this.$cache.isMounted;
            }
        };
        var et = {
            onmousemove: 1,
            ontouchmove: 1,
            onmouseleave: 1,
            onmouseenter: 1,
            onload: 1,
            onunload: 1,
            onscroll: 1,
            onfocus: 1,
            onblur: 1,
            onrowexit: 1,
            onbeforeunload: 1,
            onstop: 1,
            ondragdrop: 1,
            ondragenter: 1,
            ondragexit: 1,
            ondraggesture: 1,
            ondragover: 1,
            oncontextmenu: 1,
            onerror: 1,
            onabort: 1,
            oncanplay: 1,
            oncanplaythrough: 1,
            ondurationchange: 1,
            onemptied: 1,
            onended: 1,
            onloadeddata: 1,
            onloadedmetadata: 1,
            onloadstart: 1,
            onencrypted: 1,
            onpause: 1,
            onplay: 1,
            onplaying: 1,
            onprogress: 1,
            onratechange: 1,
            onseeking: 1,
            onseeked: 1,
            onstalled: 1,
            onsuspend: 1,
            ontimeupdate: 1,
            onvolumechange: 1,
            onwaiting: 1
        }, tt = "ontouchstart" in document, nt = function() {}, at = "onclick", ot = {}, rt = {
            animationIterationCount: 1,
            borderImageOutset: 1,
            borderImageSlice: 1,
            borderImageWidth: 1,
            boxFlex: 1,
            boxFlexGroup: 1,
            boxOrdinalGroup: 1,
            columnCount: 1,
            flex: 1,
            flexGrow: 1,
            flexPositive: 1,
            flexShrink: 1,
            flexNegative: 1,
            flexOrder: 1,
            gridRow: 1,
            gridColumn: 1,
            fontWeight: 1,
            lineClamp: 1,
            lineHeight: 1,
            opacity: 1,
            order: 1,
            orphans: 1,
            tabSize: 1,
            widows: 1,
            zIndex: 1,
            zoom: 1,
            fillOpacity: 1,
            floodOpacity: 1,
            stopOpacity: 1,
            strokeDasharray: 1,
            strokeDashoffset: 1,
            strokeMiterlimit: 1,
            strokeOpacity: 1,
            strokeWidth: 1
        }, it = [ "Webkit", "ms", "Moz", "O" ];
        Object.keys(rt).forEach(function(e) {
            it.forEach(function(t) {
                rt[q(t, e)] = 1;
            });
        });
        var lt = /^-?\d+(\.\d+)?$/, st = ":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD", ct = st + "\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040", ut = new RegExp("^[" + st + "][" + ct + "]*$"), dt = RegExp.prototype.test.bind(new RegExp("^(data|aria)-[" + ct + "]*$")), ft = {}, pt = 1, mt = 4, ht = 8, vt = 24, gt = 32, bt = {
            props: {
                accept: 0,
                acceptCharset: 0,
                accessKey: 0,
                action: 0,
                allowFullScreen: mt,
                allowTransparency: 0,
                alt: 0,
                async: mt,
                autoComplete: 0,
                autoFocus: mt,
                autoPlay: mt,
                capture: mt,
                cellPadding: 0,
                cellSpacing: 0,
                charSet: 0,
                challenge: 0,
                checked: pt | mt,
                cite: 0,
                classID: 0,
                className: 0,
                cols: vt,
                colSpan: 0,
                content: 0,
                contentEditable: 0,
                contextMenu: 0,
                controls: mt,
                coords: 0,
                crossOrigin: 0,
                data: 0,
                dateTime: 0,
                default: mt,
                defaultValue: pt,
                defaultChecked: pt | mt,
                defer: mt,
                dir: 0,
                disabled: mt,
                download: gt,
                draggable: 0,
                encType: 0,
                form: 0,
                formAction: 0,
                formEncType: 0,
                formMethod: 0,
                formNoValidate: mt,
                formTarget: 0,
                frameBorder: 0,
                headers: 0,
                height: 0,
                hidden: mt,
                high: 0,
                href: 0,
                hrefLang: 0,
                htmlFor: 0,
                httpEquiv: 0,
                icon: 0,
                id: 0,
                inputMode: 0,
                integrity: 0,
                is: 0,
                keyParams: 0,
                keyType: 0,
                kind: 0,
                label: 0,
                lang: 0,
                list: 0,
                loop: mt,
                low: 0,
                manifest: 0,
                marginHeight: 0,
                marginWidth: 0,
                max: 0,
                maxLength: 0,
                media: 0,
                mediaGroup: 0,
                method: 0,
                min: 0,
                minLength: 0,
                multiple: pt | mt,
                muted: pt | mt,
                name: 0,
                nonce: 0,
                noValidate: mt,
                open: mt,
                optimum: 0,
                pattern: 0,
                placeholder: 0,
                poster: 0,
                preload: 0,
                profile: 0,
                radioGroup: 0,
                readOnly: mt,
                referrerPolicy: 0,
                rel: 0,
                required: mt,
                reversed: mt,
                role: 0,
                rows: vt,
                rowSpan: ht,
                sandbox: 0,
                scope: 0,
                scoped: mt,
                scrolling: 0,
                seamless: mt,
                selected: pt | mt,
                shape: 0,
                size: vt,
                sizes: 0,
                span: vt,
                spellCheck: 0,
                src: 0,
                srcDoc: 0,
                srcLang: 0,
                srcSet: 0,
                start: ht,
                step: 0,
                style: 0,
                summary: 0,
                tabIndex: 0,
                target: 0,
                title: 0,
                type: 0,
                useMap: 0,
                value: pt,
                width: 0,
                wmode: 0,
                wrap: 0,
                about: 0,
                datatype: 0,
                inlist: 0,
                prefix: 0,
                property: 0,
                playsInline: mt,
                resource: 0,
                typeof: 0,
                vocab: 0,
                autoCapitalize: 0,
                autoCorrect: 0,
                autoSave: 0,
                color: 0,
                itemProp: 0,
                itemScope: mt,
                itemType: 0,
                itemID: 0,
                itemRef: 0,
                results: 0,
                security: 0,
                unselectable: 0
            },
            attrNS: {},
            domAttrs: {
                acceptCharset: "accept-charset",
                className: "class",
                htmlFor: "for",
                httpEquiv: "http-equiv"
            },
            domProps: {}
        }, yt = "http://www.w3.org/1999/xlink", _t = "http://www.w3.org/XML/1998/namespace", kt = {
            accentHeight: "accent-height",
            accumulate: 0,
            additive: 0,
            alignmentBaseline: "alignment-baseline",
            allowReorder: "allowReorder",
            alphabetic: 0,
            amplitude: 0,
            arabicForm: "arabic-form",
            ascent: 0,
            attributeName: "attributeName",
            attributeType: "attributeType",
            autoReverse: "autoReverse",
            azimuth: 0,
            baseFrequency: "baseFrequency",
            baseProfile: "baseProfile",
            baselineShift: "baseline-shift",
            bbox: 0,
            begin: 0,
            bias: 0,
            by: 0,
            calcMode: "calcMode",
            capHeight: "cap-height",
            clip: 0,
            clipPath: "clip-path",
            clipRule: "clip-rule",
            clipPathUnits: "clipPathUnits",
            colorInterpolation: "color-interpolation",
            colorInterpolationFilters: "color-interpolation-filters",
            colorProfile: "color-profile",
            colorRendering: "color-rendering",
            contentScriptType: "contentScriptType",
            contentStyleType: "contentStyleType",
            cursor: 0,
            cx: 0,
            cy: 0,
            d: 0,
            decelerate: 0,
            descent: 0,
            diffuseConstant: "diffuseConstant",
            direction: 0,
            display: 0,
            divisor: 0,
            dominantBaseline: "dominant-baseline",
            dur: 0,
            dx: 0,
            dy: 0,
            edgeMode: "edgeMode",
            elevation: 0,
            enableBackground: "enable-background",
            end: 0,
            exponent: 0,
            externalResourcesRequired: "externalResourcesRequired",
            fill: 0,
            fillOpacity: "fill-opacity",
            fillRule: "fill-rule",
            filter: 0,
            filterRes: "filterRes",
            filterUnits: "filterUnits",
            floodColor: "flood-color",
            floodOpacity: "flood-opacity",
            focusable: 0,
            fontFamily: "font-family",
            fontSize: "font-size",
            fontSizeAdjust: "font-size-adjust",
            fontStretch: "font-stretch",
            fontStyle: "font-style",
            fontVariant: "font-variant",
            fontWeight: "font-weight",
            format: 0,
            from: 0,
            fx: 0,
            fy: 0,
            g1: 0,
            g2: 0,
            glyphName: "glyph-name",
            glyphOrientationHorizontal: "glyph-orientation-horizontal",
            glyphOrientationVertical: "glyph-orientation-vertical",
            glyphRef: "glyphRef",
            gradientTransform: "gradientTransform",
            gradientUnits: "gradientUnits",
            hanging: 0,
            horizAdvX: "horiz-adv-x",
            horizOriginX: "horiz-origin-x",
            ideographic: 0,
            imageRendering: "image-rendering",
            in: 0,
            in2: 0,
            intercept: 0,
            k: 0,
            k1: 0,
            k2: 0,
            k3: 0,
            k4: 0,
            kernelMatrix: "kernelMatrix",
            kernelUnitLength: "kernelUnitLength",
            kerning: 0,
            keyPoints: "keyPoints",
            keySplines: "keySplines",
            keyTimes: "keyTimes",
            lengthAdjust: "lengthAdjust",
            letterSpacing: "letter-spacing",
            lightingColor: "lighting-color",
            limitingConeAngle: "limitingConeAngle",
            local: 0,
            markerEnd: "marker-end",
            markerMid: "marker-mid",
            markerStart: "marker-start",
            markerHeight: "markerHeight",
            markerUnits: "markerUnits",
            markerWidth: "markerWidth",
            mask: 0,
            maskContentUnits: "maskContentUnits",
            maskUnits: "maskUnits",
            mathematical: 0,
            mode: 0,
            numOctaves: "numOctaves",
            offset: 0,
            opacity: 0,
            operator: 0,
            order: 0,
            orient: 0,
            orientation: 0,
            origin: 0,
            overflow: 0,
            overlinePosition: "overline-position",
            overlineThickness: "overline-thickness",
            paintOrder: "paint-order",
            panose1: "panose-1",
            pathLength: "pathLength",
            patternContentUnits: "patternContentUnits",
            patternTransform: "patternTransform",
            patternUnits: "patternUnits",
            pointerEvents: "pointer-events",
            points: 0,
            pointsAtX: "pointsAtX",
            pointsAtY: "pointsAtY",
            pointsAtZ: "pointsAtZ",
            preserveAlpha: "preserveAlpha",
            preserveAspectRatio: "preserveAspectRatio",
            primitiveUnits: "primitiveUnits",
            r: 0,
            radius: 0,
            refX: "refX",
            refY: "refY",
            renderingIntent: "rendering-intent",
            repeatCount: "repeatCount",
            repeatDur: "repeatDur",
            requiredExtensions: "requiredExtensions",
            requiredFeatures: "requiredFeatures",
            restart: 0,
            result: 0,
            rotate: 0,
            rx: 0,
            ry: 0,
            scale: 0,
            seed: 0,
            shapeRendering: "shape-rendering",
            slope: 0,
            spacing: 0,
            specularConstant: "specularConstant",
            specularExponent: "specularExponent",
            speed: 0,
            spreadMethod: "spreadMethod",
            startOffset: "startOffset",
            stdDeviation: "stdDeviation",
            stemh: 0,
            stemv: 0,
            stitchTiles: "stitchTiles",
            stopColor: "stop-color",
            stopOpacity: "stop-opacity",
            strikethroughPosition: "strikethrough-position",
            strikethroughThickness: "strikethrough-thickness",
            string: 0,
            stroke: 0,
            strokeDasharray: "stroke-dasharray",
            strokeDashoffset: "stroke-dashoffset",
            strokeLinecap: "stroke-linecap",
            strokeLinejoin: "stroke-linejoin",
            strokeMiterlimit: "stroke-miterlimit",
            strokeOpacity: "stroke-opacity",
            strokeWidth: "stroke-width",
            surfaceScale: "surfaceScale",
            systemLanguage: "systemLanguage",
            tableValues: "tableValues",
            targetX: "targetX",
            targetY: "targetY",
            textAnchor: "text-anchor",
            textDecoration: "text-decoration",
            textRendering: "text-rendering",
            textLength: "textLength",
            to: 0,
            transform: 0,
            u1: 0,
            u2: 0,
            underlinePosition: "underline-position",
            underlineThickness: "underline-thickness",
            unicode: 0,
            unicodeBidi: "unicode-bidi",
            unicodeRange: "unicode-range",
            unitsPerEm: "units-per-em",
            vAlphabetic: "v-alphabetic",
            vHanging: "v-hanging",
            vIdeographic: "v-ideographic",
            vMathematical: "v-mathematical",
            values: 0,
            vectorEffect: "vector-effect",
            version: 0,
            vertAdvY: "vert-adv-y",
            vertOriginX: "vert-origin-x",
            vertOriginY: "vert-origin-y",
            viewBox: "viewBox",
            viewTarget: "viewTarget",
            visibility: 0,
            widths: 0,
            wordSpacing: "word-spacing",
            writingMode: "writing-mode",
            x: 0,
            xHeight: "x-height",
            x1: 0,
            x2: 0,
            xChannelSelector: "xChannelSelector",
            xlinkActuate: "xlink:actuate",
            xlinkArcrole: "xlink:arcrole",
            xlinkHref: "xlink:href",
            xlinkRole: "xlink:role",
            xlinkShow: "xlink:show",
            xlinkTitle: "xlink:title",
            xlinkType: "xlink:type",
            xmlBase: "xml:base",
            xmlns: 0,
            xmlnsXlink: "xmlns:xlink",
            xmlLang: "xml:lang",
            xmlSpace: "xml:space",
            y: 0,
            y1: 0,
            y2: 0,
            yChannelSelector: "yChannelSelector",
            z: 0,
            zoomAndPan: "zoomAndPan"
        }, xt = {
            props: {},
            attrNS: {
                xlinkActuate: yt,
                xlinkArcrole: yt,
                xlinkHref: yt,
                xlinkRole: yt,
                xlinkShow: yt,
                xlinkTitle: yt,
                xlinkType: yt,
                xmlBase: _t,
                xmlLang: _t,
                xmlSpace: _t
            },
            domAttrs: {},
            domProps: {}
        };
        Object.keys(kt).map(function(e) {
            xt.props[e] = 0, kt[e] && (xt.domAttrs[e] = kt[e]);
        }), J(bt), J(xt);
        var wt = Array.isArray, Et = 0, St = /^on/i;
        Object.freeze || (Object.freeze = ne);
        var Tt = {}, Ct = {}, Ot = Object.freeze({
            render: he,
            unstable_renderSubtreeIntoContainer: ve,
            unmountComponentAtNode: ge,
            findDOMNode: be
        }), Nt = "a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan", Mt = {};
        Nt.split("|").forEach(function(e) {
            Mt[e] = xe(e);
        });
        var Pt = function e() {
            return e;
        };
        Pt.isRequired = Pt;
        var Dt = {
            array: Pt,
            bool: Pt,
            func: Pt,
            number: Pt,
            object: Pt,
            string: Pt,
            any: Pt,
            arrayOf: Pt,
            element: Pt,
            instanceOf: Pt,
            node: Pt,
            objectOf: Pt,
            oneOf: Pt,
            oneOfType: Pt,
            shape: Pt
        }, zt = /\/(?!\/)/g, jt = Object.freeze({
            only: we,
            forEach: Ee,
            map: Se,
            count: Te,
            toArray: Ce
        }), It = function() {};
        It.prototype = I.prototype, Re.prototype = Object.create(I.prototype), Re.prototype.constructor = Re, 
        Re.prototype.isPureReactComponent = !0, Re.prototype.shouldComponentUpdate = Fe;
        var At = ie({
            version: "0.15.1",
            cloneElement: ke,
            isValidElement: _e,
            createElement: ye,
            createFactory: xe,
            Component: I,
            PureComponent: Re,
            createClass: Ie,
            Children: jt,
            PropTypes: Dt,
            DOM: Mt
        }, Ot);
        return At.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = Ot, At;
    });
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.StoragePlots = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(6), p = a(f), m = n(20), h = a(m), v = n(9), g = c.default.gettext, b = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.classes = {}, e.plots = [], e;
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    if (e && !t.controls) {
                        var n = {
                            hasClass: function(e) {
                                return t.classes[e];
                            },
                            addClass: function(e) {
                                t.classes[e] = !0, t.props.onClassesChanged(t.classes);
                            },
                            removeClass: function(e) {
                                delete t.classes[e], t.props.onClassesChanged(t.classes);
                            }
                        };
                        t.controls = h.default.setup_plot_controls(n, (0, p.default)(e), t.plots);
                    }
                }
                var t = this;
                return d.default.createElement("div", {
                    ref: e,
                    id: "storage-graph-toolbar",
                    className: "zoom-controls standard-zoom-controls"
                }, d.default.createElement("div", {
                    className: "dropdown"
                }, d.default.createElement("button", {
                    className: "btn btn-default dropdown-toggle",
                    "data-toggle": "dropdown"
                }, d.default.createElement("span", null), d.default.createElement("div", {
                    className: "caret"
                })), d.default.createElement("ul", {
                    className: "dropdown-menu",
                    role: "menu"
                }, d.default.createElement("li", {
                    role: "presentation"
                }, d.default.createElement("a", {
                    role: "menuitem",
                    tabindex: "-1",
                    "data-action": "goto-now"
                }, g("Go to now"))), d.default.createElement("li", {
                    role: "presentation",
                    className: "divider"
                }), d.default.createElement("li", {
                    role: "presentation"
                }, d.default.createElement("a", {
                    role: "menuitem",
                    tabindex: "-1",
                    "data-range": "300"
                }, g("5 minutes"))), d.default.createElement("li", {
                    role: "presentation"
                }, d.default.createElement("a", {
                    role: "menuitem",
                    tabindex: "-1",
                    "data-range": "3600"
                }, g("1 hour"))), d.default.createElement("li", {
                    role: "presentation"
                }, d.default.createElement("a", {
                    role: "menuitem",
                    tabindex: "-1",
                    "data-range": "21600"
                }, g("6 hours"))), d.default.createElement("li", {
                    role: "presentation"
                }, d.default.createElement("a", {
                    role: "menuitem",
                    tabindex: "-1",
                    "data-range": "86400"
                }, g("1 day"))), d.default.createElement("li", {
                    role: "presentation"
                }, d.default.createElement("a", {
                    role: "menuitem",
                    tabindex: "-1",
                    "data-range": "604800"
                }, g("1 week"))))), "\n", d.default.createElement("button", {
                    className: "btn btn-default",
                    "data-action": "zoom-out"
                }, d.default.createElement("span", {
                    className: "glyphicon glyphicon-zoom-out"
                })), "\n", d.default.createElement("div", {
                    className: "btn-group"
                }, d.default.createElement("button", {
                    className: "btn btn-default fa fa-angle-left",
                    "data-action": "scroll-left"
                }), d.default.createElement("button", {
                    className: "btn btn-default fa fa-angle-right",
                    "data-action": "scroll-right"
                })));
            }
        }, {
            key: "reset",
            value: function(e) {
                this.controls ? this.controls.reset(e) : this.plots = e;
            }
        } ]), t;
    }(d.default.Component), y = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.state = {
                unit: ""
            }, e.on_resize = function() {
                e.setState({});
            }, e;
        }
        return i(t, e), l(t, [ {
            key: "componentDidMount",
            value: function() {
                window.addEventListener("resize", this.on_resize);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                window.removeEventListener("resize", this.on_resize);
            }
        }, {
            key: "render",
            value: function() {
                function e(e) {
                    var t = e.getAxes();
                    t.yaxis.datamax < 1e5 ? t.yaxis.options.max = 1e5 : t.yaxis.options.max = null, 
                    t.yaxis.options.min = 0;
                }
                function t(e) {
                    var t = e.getAxes();
                    o.setState({
                        unit: c.default.format_bytes_per_sec(t.yaxis.max, 1024, !0)[1]
                    });
                }
                function n(e, t) {
                    o.props.onHover && o.props.onHover(t);
                }
                function a(a) {
                    if (a) {
                        if (o.plot && a != o.plot_element && (o.plot.destroy(), o.plot = null), o.plot) return void (a.offsetWidth == o.last_offsetWidth && a.offsetHeight == o.last_offsetHeight || (o.last_offsetWidth = a.offsetWidth, 
                        o.last_offsetHeight = a.offsetHeight, o.plot.resize()));
                        var r = h.default.plot_simple_template();
                        p.default.extend(r.yaxis, {
                            ticks: h.default.memory_ticks,
                            tickFormatter: h.default.format_bytes_per_sec_tick_no_unit
                        }), p.default.extend(r.grid, {
                            hoverable: !0,
                            autoHighlight: !1
                        }), r.setup_hook = e, r.post_hook = t, o.plot = h.default.plot((0, p.default)(a), 300), 
                        o.plot_element = a, o.plot.set_options(r), o.series = o.plot.add_metrics_stacked_instances_series(o.props.data, {}), 
                        o.plot.start_walking(), (0, p.default)(o.series).on("hover", n), o.props.onPlotCreated && o.props.onPlotCreated(o.plot);
                    }
                }
                var o = this;
                if (o.series) for (var r = 0; r < o.props.devs.length; r++) o.series.add_instance(o.props.devs[r]);
                return d.default.createElement("div", {
                    className: "col-sm-6 storage-graph-container"
                }, d.default.createElement("div", null, d.default.createElement("span", {
                    className: "plot-unit"
                }, this.state.unit), d.default.createElement("span", {
                    className: "plot-title"
                }, this.props.title)), d.default.createElement("div", {
                    ref: a,
                    className: "zoomable-plot storage-graph"
                }));
            }
        } ]), t;
    }(d.default.Component);
    t.StoragePlots = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.plots = [], e.state = {
                classes: {}
            }, e;
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                var e = this, t = {
                    direct: "disk.dev.read_bytes",
                    internal: "block.device.read",
                    units: "bytes",
                    derive: "rate",
                    threshold: 1e3
                }, n = {
                    direct: "disk.dev.write_bytes",
                    internal: "block.device.written",
                    units: "bytes",
                    derive: "rate",
                    threshold: 1e3
                }, a = this.props.client, o = [];
                for (var r in a.drives) {
                    var i = a.drives_block[r], l = i && (0, v.decode_filename)(i.Device).replace(/^\/dev\//, "");
                    l && o.push(l);
                }
                var s = function(t) {
                    t && !e.controls && (e.controls = t, e.controls.reset(e.plots));
                }, c = function(t) {
                    e.plots.push(t), e.controls && e.controls.reset(e.plots);
                };
                return d.default.createElement("div", {
                    className: Object.keys(this.state.classes).join(" ")
                }, d.default.createElement(b, {
                    ref: s,
                    onClassesChanged: function(t) {
                        return e.setState({
                            classes: t
                        });
                    }
                }), d.default.createElement("div", {
                    className: "row"
                }, d.default.createElement(y, {
                    devs: o,
                    onHover: this.props.onHover,
                    onPlotCreated: c,
                    title: g("Reading"),
                    data: t
                }), d.default.createElement(y, {
                    devs: o,
                    onHover: this.props.onHover,
                    onPlotCreated: c,
                    title: g("Writing"),
                    data: n
                })));
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e, t, n, a) {
        function r() {
            b.width(g.width()), b.height(g.height());
        }
        function i(e) {
            p ? (p.getAxes().yaxis.options.max = e, u()) : h.yaxis.max = e;
        }
        function l() {
            v = !0, s();
        }
        function s() {
            v && g.width() > 0 && g.height() > 0 ? (p ? d() : (r(), p = o.plot(b, n, h)), y && window.clearInterval(y)) : y || (y = window.setInterval(s, 500));
        }
        function c() {
            v = !1;
        }
        function u() {
            p && v && (p.setData(n), a.setup_hook && a.setup_hook(p), p.setupGrid(), p.draw(), 
            a.post_hook && a.post_hook(p));
        }
        function d() {
            p && v && (r(), b.width() > 0 && b.height() > 0 && p.resize(), u());
        }
        function f() {
            o(m).trigger("destroyed"), o(window).off("resize", d), o(g).empty(), p = null;
        }
        var p, m, h = {
            colors: [ "#0099d3" ],
            legend: {
                show: !1
            },
            series: {
                shadowSize: 0,
                lines: {
                    lineWidth: 0,
                    fill: 1
                }
            },
            xaxis: {
                tickFormatter: function() {
                    return "";
                }
            },
            yaxis: {
                tickFormatter: function() {
                    return "";
                }
            },
            points: {
                radius: 0
            },
            grid: {
                borderWidth: 1,
                aboveData: !0,
                color: "black",
                borderColor: o.color.parse("black").scale("a", .22).toString(),
                labelMargin: 0
            }
        }, v = !1;
        o.extend(!0, h, a);
        var g = o(e), b = o("<div/>"), y = null;
        return g.empty(), g.append(b), o(t).on("notify", u), o(window).on("resize", d), 
        s(), m = {
            start: l,
            stop: c,
            resize: d,
            element: b[0],
            set_yaxis_max: i,
            destroy: f
        };
    }
    var o = n(6), r = n(7);
    n(21), n(22), n(23);
    var i = {}, l = r.gettext;
    i.plot = function(e, t, n) {
        function a() {
            if (0 !== e.height() && 0 !== e.width()) {
                null === O && (O = o.plot(e, C, E)), O.setData(C);
                var t = O.getAxes();
                t.xaxis.options.min = w.beg * x, t.xaxis.options.max = (w.end - 2) * x, E.setup_hook && E.setup_hook(O), 
                t.xaxis.show = !0, t.xaxis.used = !0, t.yaxis.show = !0, t.yaxis.used = !0, O.setupGrid(), 
                O.draw(), E.post_hook && E.post_hook(O);
            }
        }
        function i() {
            N || (N = !0, window.setTimeout(function() {
                N = !1, a();
            }, 0));
        }
        function l() {
            w.walk();
        }
        function s() {
            w.move(w.beg, w.end);
        }
        function c(e, t) {
            O && O.clearSelection(!0), x = 1e3 * Math.ceil(e / 1e3);
            var n;
            n = void 0 !== t ? new Date().getTime() - 1e3 * t : 0;
            var a = -Math.ceil((1e3 * e + n) / x), l = -Math.floor(n / x);
            if (w && w.interval == x) w.move(a, l); else {
                w && w.close(), w = r.grid(x, a, l), M++;
                for (var s = 0; s < T.length; s++) T[s].reset();
                M--, u(), o(w).on("notify", function(e, t, n) {
                    i();
                });
            }
        }
        function u() {
            0 === M && w.sync();
        }
        function d() {
            w.close();
            for (var t = 0; t < T.length; t++) T[t].stop();
            E = {}, T = [], C = [], O = null, o(e).empty(), o(e).data("flot_data", null);
        }
        function f() {
            0 !== e.height() && 0 !== e.width() && (O && O.resize(), i());
        }
        function p(e) {
            E = e, O = null;
        }
        function m() {
            return E;
        }
        function h(e, t) {
            function n() {
                v && v.close();
            }
            function a() {
                C.push(t);
            }
            function l() {
                var e = C.indexOf(t);
                e >= 0 && C.splice(e, 1);
            }
            function s() {
                var e = C.indexOf(t);
                e >= 0 && (C.splice(e, 1), C.push(t));
            }
            function c() {
                n(), l(), i();
            }
            function d(t) {
                return {
                    name: t,
                    units: e.units,
                    derive: e.derive
                };
            }
            function f(e) {
                var t, n;
                if (!e) return 0;
                if (void 0 !== e.length) {
                    for (n = 0, t = 0; t < e.length; t++) n += f(e[t]);
                    return n;
                }
                return e;
            }
            function p() {
                function n() {
                    v.archives && !S.archives && (S.archives = !0, o(S).triggerHandler("changed"));
                }
                v && v.close(), v = r.metrics(x, b);
                var a = w.add(v, []), i = e.factor || 1;
                t.data = w.add(function(e, t, n) {
                    for (var o = 0; o < n; o++) e[t + o] = [ (w.beg + t + o) * x, f(a[t + o]) * i ];
                }), o(v).on("changed", n), n(), u();
            }
            function m(e, n) {
                return !(!n || n.series.data != t.data);
            }
            function h(e) {
                o(g).triggerHandler("hover", [ e ]);
            }
            var v = null, g = {
                options: t,
                move_to_front: s,
                remove: c
            };
            T.push({
                stop: n,
                reset: p,
                hover_hit: m,
                hover: h
            });
            var b = [];
            return e.direct && b.push({
                source: "direct",
                archive_source: "pcp-archive",
                metrics: e.direct.map(d),
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            }), e.internal && b.push({
                source: "internal",
                metrics: e.internal.map(d),
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            }), p(), a(), g;
        }
        function v(e, t) {
            function n() {
                f && f.close();
            }
            function a(t) {
                return {
                    name: t,
                    units: e.units,
                    derive: e.derive
                };
            }
            function i() {
                function e() {
                    f.archives && !S.archives && (S.archives = !0, o(S).triggerHandler("changed"));
                }
                f && f.close(), f = r.metrics(x, m), o(f).on("changed", e), e(), M++;
                for (var t in h) h[t].reset();
                M--, u();
            }
            function l(n, a) {
                function r() {
                    l = w.add(f, [ "a", n ]), s.data = w.add(function(e, t, n) {
                        for (var a = 0; a < n; a++) {
                            var o = (l[t + a] || 0) * c, r = (w.beg + t + a) * x, i = 0;
                            p && (i = p.data[t + a][1] ? p.data[t + a][1] : p.data[t + a][2]), Math.abs(o) > d ? (e[t + a] = [ r, i + o, i ], 
                            e[t + a - 1] && null === e[t + a - 1][1] && (e[t + a - 1][1] = e[t + a - 1][2])) : (e[t + a] = [ r, null, i ], 
                            e[t + a - 1] && null !== e[t + a - 1][1] && (e[t + a - 1][1] = e[t + a - 1][2]));
                        }
                    }), u();
                }
                function i() {
                    w.remove(l), w.remove(s.data);
                    var e = C.indexOf(s);
                    e >= 0 && C.splice(e, 1);
                }
                if (!h[n]) {
                    var l, s = o.extend({
                        selector: a
                    }, t), c = e.factor || 1, d = e.threshold || 0, p = v;
                    v = s, h[n] = s, s.reset = r, s.remove = i, r(), C.push(s);
                }
            }
            function s() {
                for (var e in h) h[e].remove();
                h = {}, v = null;
            }
            function c(e, t) {
                var n, a;
                if (!w) return !1;
                a = Math.round(e.x / x) - w.beg, a < 0 && (a = 0);
                for (n in h) {
                    var o = h[n].data;
                    if (o[a] && o[a][1] && o[a][2] <= e.y && e.y <= o[a][1]) return h[n].selector || n;
                }
                return !1;
            }
            function d(e) {
                o(p).triggerHandler("hover", [ e ]);
            }
            var f = null, p = {
                add_instance: l,
                clear_instances: s
            };
            T.push({
                stop: n,
                reset: i,
                hover_hit: c,
                hover: d
            });
            var m = [];
            e.direct && m.push({
                source: "direct",
                archive_source: "pcp-archive",
                metrics: [ a(e.direct) ],
                metrics_path_names: [ "a" ],
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            }), e.internal && m.push({
                source: "internal",
                metrics: [ a(e.internal) ],
                metrics_path_names: [ "a" ],
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            });
            var h = {}, v = null;
            return i(), p;
        }
        function g(e, t) {
            P != e ? (P && P.hover(!1), P = e, D = t, P && P.hover(D)) : D != t && (D = t, P && P.hover(D));
        }
        function b(e, t, n) {
            for (var a = null, o = !1, r = 0; r < T.length; r++) if (o = T[r].hover_hit(t, n)) {
                a = T[r];
                break;
            }
            g(a, o);
        }
        function y(e) {
            g(null, !1);
        }
        function _(e, t) {
            t && o(S).triggerHandler("zoomstart", []);
        }
        function k(e, t) {
            O.clearSelection(!0), o(S).triggerHandler("zoom", [ (t.xaxis.to - t.xaxis.from) / 1e3, t.xaxis.to / 1e3 ]);
        }
        var x, w, E = {}, S = {}, T = [], C = [], O = null, N = !1, M = 0, P = null, D = !1;
        return o(e).on("plothover", b), o(e).on("mouseleave", y), o(e).on("plotselecting", _), 
        o(e).on("plotselected", k), o(e).data("flot_data", C), c(t, n), o.extend(S, {
            archives: !1,
            start_walking: l,
            stop_walking: s,
            refresh: i,
            reset: c,
            destroy: d,
            resize: f,
            set_options: p,
            get_options: m,
            add_metrics_sum_series: h,
            add_metrics_stacked_instances_series: v
        }), S;
    };
    var s = [ "#006bb4", "#008ff0", "#2daaff", "#69c2ff", "#a5daff", "#e1f3ff", "#00243c", "#004778" ];
    i.plot_simple_template = function() {
        return {
            colors: s,
            legend: {
                show: !1
            },
            series: {
                shadowSize: 0,
                lines: {
                    lineWidth: 2,
                    fill: .4
                }
            },
            xaxis: {
                tickLength: 0,
                mode: "time",
                tickFormatter: i.format_date_tick,
                minTickSize: [ 1, "minute" ],
                reserveSpace: !1
            },
            yaxis: {
                tickColor: "#d1d1d1",
                min: 0
            },
            points: {
                radius: 0
            },
            grid: {
                borderWidth: 1,
                aboveData: !1,
                color: "black",
                borderColor: o.color.parse("black").scale("a", .22).toString(),
                labelMargin: 0
            }
        };
    }, i.memory_ticks = function(e) {
        for (var t = Math.pow(2, Math.ceil(Math.log(e.max / 5) / Math.LN2)), n = [], a = 0; a < e.max; a += t) n.push(a);
        return n;
    };
    var c = [ l("month-name", "Jan"), l("month-name", "Feb"), l("month-name", "Mar"), l("month-name", "Apr"), l("month-name", "May"), l("month-name", "Jun"), l("month-name", "Jul"), l("month-name", "Aug"), l("month-name", "Sep"), l("month-name", "Oct"), l("month-name", "Nov"), l("month-name", "Dec") ];
    i.format_date_tick = function(e, t) {
        function n(e) {
            var t = e.toFixed();
            return 1 == t.length && (t = "0" + t), t;
        }
        var a, o, r = 0, i = 1, l = 2, s = 3, u = t.tickSize[1];
        o = "minute" == u || "hour" == u ? s : "day" == u ? l : "month" == u ? i : r;
        var d = new Date(), f = new Date(t.min);
        a = r, f.getFullYear() == d.getFullYear() && (a = i, f.getMonth() == d.getMonth() && (a = l, 
        f.getDate() == d.getDate() && (a = s))), a > o && (a = o), a == l && (a = i);
        var p = new Date(e), m = " ";
        return r >= a && r <= o && (m += p.getFullYear().toFixed() + " "), i >= a && i <= o && (m += c[p.getMonth()] + " "), 
        l >= a && l <= o && (m += p.getDate().toFixed() + " "), s >= a && s <= o && (m += n(p.getHours()) + ":" + n(p.getMinutes()) + " "), 
        m.substr(0, m.length - 1);
    }, i.bytes_tick_unit = function(e) {
        return r.format_bytes(e.max, 1024, !0)[1];
    }, i.format_bytes_tick_no_unit = function(e, t) {
        return r.format_bytes(e, i.bytes_tick_unit(t), !0)[0];
    }, i.format_bytes_tick = function(e, t) {
        return r.format_bytes(e, 1024);
    }, i.bytes_per_sec_tick_unit = function(e) {
        return r.format_bytes_per_sec(e.max, 1024, !0)[1];
    }, i.format_bytes_per_sec_tick_no_unit = function(e, t) {
        return r.format_bytes_per_sec(e, i.bytes_per_sec_tick_unit(t), !0)[0];
    }, i.format_bytes_per_sec_tick = function(e, t) {
        return r.format_bytes_per_sec(e, 1024);
    }, i.bits_per_sec_tick_unit = function(e) {
        return r.format_bits_per_sec(8 * e.max, 1e3, !0)[1];
    }, i.format_bits_per_sec_tick_no_unit = function(e, t) {
        return r.format_bits_per_sec(8 * e, i.bits_per_sec_tick_unit(t), !0)[0];
    }, i.format_bits_per_sec_tick = function(e, t) {
        return r.format_bits_per_sec(8 * e, 1e3);
    }, i.setup_plot_controls = function(e, t, n) {
        function a() {
            void 0 === p && (n.forEach(function(e) {
                e.stop_walking();
            }), p = new Date().getTime() / 1e3, c());
        }
        function i(e, t) {
            g.push(v), v = e, p = t, d();
        }
        function l() {
            var e = g.pop();
            if (void 0 === e) {
                var t;
                for (t = 0; t < h.length - 1 && !(h[t] > v); t++) ;
                e = h[t];
            }
            void 0 !== p && (p += (e - v) / 2), v = e, d();
        }
        function s(e) {
            var t;
            return e >= 31536e3 ? (t = Math.ceil(e / 31536e3), r.format(r.ngettext("$0 year", "$0 years", t), t)) : e >= 2592e3 ? (t = Math.ceil(e / 2592e3), 
            r.format(r.ngettext("$0 month", "$0 months", t), t)) : e >= 604800 ? (t = Math.ceil(e / 604800), 
            r.format(r.ngettext("$0 week", "$0 weeks", t), t)) : e >= 86400 ? (t = Math.ceil(e / 86400), 
            r.format(r.ngettext("$0 day", "$0 days", t), t)) : e >= 3600 ? (t = Math.ceil(e / 3600), 
            r.format(r.ngettext("$0 hour", "$0 hours", t), t)) : (t = Math.ceil(e / 60), r.format(r.ngettext("$0 minute", "$0 minutes", t), t));
        }
        function c() {
            t.find('[data-action="scroll-right"]').attr("disabled", void 0 === p), t.find('[data-action="zoom-out"]').attr("disabled", v >= h[h.length - 1]);
        }
        function u() {
            var t;
            e.hasClass("show-zoom-controls") && v > m ? (e.addClass("show-zoom-cursor"), t = "x") : (e.removeClass("show-zoom-cursor"), 
            t = null), n.forEach(function(e) {
                var n = e.get_options();
                n.selection && n.selection.mode == t || (n.selection = {
                    mode: t,
                    color: "#d4edfa"
                }, e.set_options(n), e.refresh());
            });
        }
        function d() {
            v < m && (p += (m - v) / 2, v = m), p >= new Date().getTime() / 1e3 - 10 && (p = void 0), 
            t.find(".dropdown-toggle span:first-child").text(s(v)), n.forEach(function(t) {
                function n() {
                    t.archives && (e.addClass("show-zoom-controls"), u());
                }
                t.stop_walking(), t.reset(v, p), t.refresh(), void 0 === p && t.start_walking(), 
                o(t).on("changed", n), n();
            }), c(), u();
        }
        function f(e) {
            void 0 === e && (e = []), n = e, n.forEach(function(e) {
                o(e).on("zoomstart", function(e) {
                    a();
                }), o(e).on("zoom", function(e, t, n) {
                    i(t, n);
                });
            }), d();
        }
        var p, m = 300, h = [ 300, 3600, 21600, 86400, 604800, 2592e3, 31536e3 ], v = 300, g = [];
        return t.find("[data-range]").click(function() {
            g = [], v = parseInt(o(this).attr("data-range"), 10), d();
        }), t.find('[data-action="goto-now"]').click(function() {
            p = void 0, d();
        }), t.find('[data-action="scroll-left"]').click(function() {
            var e = v / 10;
            void 0 === p && (p = new Date().getTime() / 1e3), p -= e, d();
        }), t.find('[data-action="scroll-right"]').click(function() {
            var e = v / 10;
            void 0 !== p && (p += e, d());
        }), t.find('[data-action="zoom-out"]').click(function() {
            l();
        }), f(n), {
            reset: f
        };
    }, i.setup_complicated_plot = function(e, t, n, o) {
        function r(e, t) {
            return e.add(function(e, n, a) {
                for (var o = 0; o < a; o++) e[n + o] = [ o, t[n + o] || 0 ];
            });
        }
        function i(e, t, n) {
            return e.add(function(e, a, o) {
                var r, i, l, s;
                for (r = 0; r < o; r++) l = 0, n && (i = n[a + r], l = i ? i[1] : 0), s = t[a + r] || 0, 
                e[a + r] = [ r, s + l, l ];
            });
        }
        var l = null;
        return n.forEach(function(e, n) {
            o.x_rh_stack_graphs ? e.data = i(t, e.row, l) : e.data = r(t, e.row), l = e.data;
        }), a(e, t, n, o);
    }, e.exports = i;
}, function(e, t) {
    !function(e) {
        e.color = {}, e.color.make = function(t, n, a, o) {
            var r = {};
            return r.r = t || 0, r.g = n || 0, r.b = a || 0, r.a = null != o ? o : 1, r.add = function(e, t) {
                for (var n = 0; n < e.length; ++n) r[e.charAt(n)] += t;
                return r.normalize();
            }, r.scale = function(e, t) {
                for (var n = 0; n < e.length; ++n) r[e.charAt(n)] *= t;
                return r.normalize();
            }, r.toString = function() {
                return r.a >= 1 ? "rgb(" + [ r.r, r.g, r.b ].join(",") + ")" : "rgba(" + [ r.r, r.g, r.b, r.a ].join(",") + ")";
            }, r.normalize = function() {
                function e(e, t, n) {
                    return t < e ? e : t > n ? n : t;
                }
                return r.r = e(0, parseInt(r.r), 255), r.g = e(0, parseInt(r.g), 255), r.b = e(0, parseInt(r.b), 255), 
                r.a = e(0, r.a, 1), r;
            }, r.clone = function() {
                return e.color.make(r.r, r.b, r.g, r.a);
            }, r.normalize();
        }, e.color.extract = function(t, n) {
            var a;
            do {
                if (a = t.css(n).toLowerCase(), "" != a && "transparent" != a) break;
                t = t.parent();
            } while (t.length && !e.nodeName(t.get(0), "body"));
            return "rgba(0, 0, 0, 0)" == a && (a = "transparent"), e.color.parse(a);
        }, e.color.parse = function(n) {
            var a, o = e.color.make;
            if (a = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n)) return o(parseInt(a[1], 10), parseInt(a[2], 10), parseInt(a[3], 10));
            if (a = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n)) return o(parseInt(a[1], 10), parseInt(a[2], 10), parseInt(a[3], 10), parseFloat(a[4]));
            if (a = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n)) return o(2.55 * parseFloat(a[1]), 2.55 * parseFloat(a[2]), 2.55 * parseFloat(a[3]));
            if (a = /rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n)) return o(2.55 * parseFloat(a[1]), 2.55 * parseFloat(a[2]), 2.55 * parseFloat(a[3]), parseFloat(a[4]));
            if (a = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n)) return o(parseInt(a[1], 16), parseInt(a[2], 16), parseInt(a[3], 16));
            if (a = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n)) return o(parseInt(a[1] + a[1], 16), parseInt(a[2] + a[2], 16), parseInt(a[3] + a[3], 16));
            var r = e.trim(n).toLowerCase();
            return "transparent" == r ? o(255, 255, 255, 0) : (a = t[r] || [ 0, 0, 0 ], o(a[0], a[1], a[2]));
        };
        var t = {
            aqua: [ 0, 255, 255 ],
            azure: [ 240, 255, 255 ],
            beige: [ 245, 245, 220 ],
            black: [ 0, 0, 0 ],
            blue: [ 0, 0, 255 ],
            brown: [ 165, 42, 42 ],
            cyan: [ 0, 255, 255 ],
            darkblue: [ 0, 0, 139 ],
            darkcyan: [ 0, 139, 139 ],
            darkgrey: [ 169, 169, 169 ],
            darkgreen: [ 0, 100, 0 ],
            darkkhaki: [ 189, 183, 107 ],
            darkmagenta: [ 139, 0, 139 ],
            darkolivegreen: [ 85, 107, 47 ],
            darkorange: [ 255, 140, 0 ],
            darkorchid: [ 153, 50, 204 ],
            darkred: [ 139, 0, 0 ],
            darksalmon: [ 233, 150, 122 ],
            darkviolet: [ 148, 0, 211 ],
            fuchsia: [ 255, 0, 255 ],
            gold: [ 255, 215, 0 ],
            green: [ 0, 128, 0 ],
            indigo: [ 75, 0, 130 ],
            khaki: [ 240, 230, 140 ],
            lightblue: [ 173, 216, 230 ],
            lightcyan: [ 224, 255, 255 ],
            lightgreen: [ 144, 238, 144 ],
            lightgrey: [ 211, 211, 211 ],
            lightpink: [ 255, 182, 193 ],
            lightyellow: [ 255, 255, 224 ],
            lime: [ 0, 255, 0 ],
            magenta: [ 255, 0, 255 ],
            maroon: [ 128, 0, 0 ],
            navy: [ 0, 0, 128 ],
            olive: [ 128, 128, 0 ],
            orange: [ 255, 165, 0 ],
            pink: [ 255, 192, 203 ],
            purple: [ 128, 0, 128 ],
            violet: [ 128, 0, 128 ],
            red: [ 255, 0, 0 ],
            silver: [ 192, 192, 192 ],
            white: [ 255, 255, 255 ],
            yellow: [ 255, 255, 0 ]
        };
    }(jQuery), function(e) {
        function t(t, n) {
            var a = n.children("." + t)[0];
            if (null == a && (a = document.createElement("canvas"), a.className = t, e(a).css({
                direction: "ltr",
                position: "absolute",
                left: 0,
                top: 0
            }).appendTo(n), !a.getContext)) {
                if (!window.G_vmlCanvasManager) throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");
                a = window.G_vmlCanvasManager.initElement(a);
            }
            this.element = a;
            var o = this.context = a.getContext("2d"), r = window.devicePixelRatio || 1, i = o.webkitBackingStorePixelRatio || o.mozBackingStorePixelRatio || o.msBackingStorePixelRatio || o.oBackingStorePixelRatio || o.backingStorePixelRatio || 1;
            this.pixelRatio = r / i, this.resize(n.width(), n.height()), this.textContainer = null, 
            this.text = {}, this._textCache = {};
        }
        function n(n, o, r, i) {
            function l(e, t) {
                t = [ ve ].concat(t);
                for (var n = 0; n < e.length; ++n) e[n].apply(this, t);
            }
            function s() {
                for (var n = {
                    Canvas: t
                }, a = 0; a < i.length; ++a) {
                    var o = i[a];
                    o.init(ve, n), o.options && e.extend(!0, oe, o.options);
                }
            }
            function c(t) {
                e.extend(!0, oe, t), t && t.colors && (oe.colors = t.colors), null == oe.xaxis.color && (oe.xaxis.color = e.color.parse(oe.grid.color).scale("a", .22).toString()), 
                null == oe.yaxis.color && (oe.yaxis.color = e.color.parse(oe.grid.color).scale("a", .22).toString()), 
                null == oe.xaxis.tickColor && (oe.xaxis.tickColor = oe.grid.tickColor || oe.xaxis.color), 
                null == oe.yaxis.tickColor && (oe.yaxis.tickColor = oe.grid.tickColor || oe.yaxis.color), 
                null == oe.grid.borderColor && (oe.grid.borderColor = oe.grid.color), null == oe.grid.tickColor && (oe.grid.tickColor = e.color.parse(oe.grid.color).scale("a", .22).toString());
                var a, o, r, i = n.css("font-size"), s = i ? +i.replace("px", "") : 13, c = {
                    style: n.css("font-style"),
                    size: Math.round(.8 * s),
                    variant: n.css("font-variant"),
                    weight: n.css("font-weight"),
                    family: n.css("font-family")
                };
                for (r = oe.xaxes.length || 1, a = 0; a < r; ++a) o = oe.xaxes[a], o && !o.tickColor && (o.tickColor = o.color), 
                o = e.extend(!0, {}, oe.xaxis, o), oe.xaxes[a] = o, o.font && (o.font = e.extend({}, c, o.font), 
                o.font.color || (o.font.color = o.color), o.font.lineHeight || (o.font.lineHeight = Math.round(1.15 * o.font.size)));
                for (r = oe.yaxes.length || 1, a = 0; a < r; ++a) o = oe.yaxes[a], o && !o.tickColor && (o.tickColor = o.color), 
                o = e.extend(!0, {}, oe.yaxis, o), oe.yaxes[a] = o, o.font && (o.font = e.extend({}, c, o.font), 
                o.font.color || (o.font.color = o.color), o.font.lineHeight || (o.font.lineHeight = Math.round(1.15 * o.font.size)));
                for (oe.xaxis.noTicks && null == oe.xaxis.ticks && (oe.xaxis.ticks = oe.xaxis.noTicks), 
                oe.yaxis.noTicks && null == oe.yaxis.ticks && (oe.yaxis.ticks = oe.yaxis.noTicks), 
                oe.x2axis && (oe.xaxes[1] = e.extend(!0, {}, oe.xaxis, oe.x2axis), oe.xaxes[1].position = "top", 
                null == oe.x2axis.min && (oe.xaxes[1].min = null), null == oe.x2axis.max && (oe.xaxes[1].max = null)), 
                oe.y2axis && (oe.yaxes[1] = e.extend(!0, {}, oe.yaxis, oe.y2axis), oe.yaxes[1].position = "right", 
                null == oe.y2axis.min && (oe.yaxes[1].min = null), null == oe.y2axis.max && (oe.yaxes[1].max = null)), 
                oe.grid.coloredAreas && (oe.grid.markings = oe.grid.coloredAreas), oe.grid.coloredAreasColor && (oe.grid.markingsColor = oe.grid.coloredAreasColor), 
                oe.lines && e.extend(!0, oe.series.lines, oe.lines), oe.points && e.extend(!0, oe.series.points, oe.points), 
                oe.bars && e.extend(!0, oe.series.bars, oe.bars), null != oe.shadowSize && (oe.series.shadowSize = oe.shadowSize), 
                null != oe.highlightColor && (oe.series.highlightColor = oe.highlightColor), a = 0; a < oe.xaxes.length; ++a) v(ue, a + 1).options = oe.xaxes[a];
                for (a = 0; a < oe.yaxes.length; ++a) v(de, a + 1).options = oe.yaxes[a];
                for (var u in he) oe.hooks[u] && oe.hooks[u].length && (he[u] = he[u].concat(oe.hooks[u]));
                l(he.processOptions, [ oe ]);
            }
            function u(e) {
                ae = d(e), g(), b();
            }
            function d(t) {
                for (var n = [], a = 0; a < t.length; ++a) {
                    var o = e.extend(!0, {}, oe.series);
                    null != t[a].data ? (o.data = t[a].data, delete t[a].data, e.extend(!0, o, t[a]), 
                    t[a].data = o.data) : o.data = t[a], n.push(o);
                }
                return n;
            }
            function f(e, t) {
                var n = e[t + "axis"];
                return "object" == typeof n && (n = n.n), "number" != typeof n && (n = 1), n;
            }
            function p() {
                return e.grep(ue.concat(de), function(e) {
                    return e;
                });
            }
            function m(e) {
                var t, n, a = {};
                for (t = 0; t < ue.length; ++t) n = ue[t], n && n.used && (a["x" + n.n] = n.c2p(e.left));
                for (t = 0; t < de.length; ++t) n = de[t], n && n.used && (a["y" + n.n] = n.c2p(e.top));
                return void 0 !== a.x1 && (a.x = a.x1), void 0 !== a.y1 && (a.y = a.y1), a;
            }
            function h(e) {
                var t, n, a, o = {};
                for (t = 0; t < ue.length; ++t) if (n = ue[t], n && n.used && (a = "x" + n.n, null == e[a] && 1 == n.n && (a = "x"), 
                null != e[a])) {
                    o.left = n.p2c(e[a]);
                    break;
                }
                for (t = 0; t < de.length; ++t) if (n = de[t], n && n.used && (a = "y" + n.n, null == e[a] && 1 == n.n && (a = "y"), 
                null != e[a])) {
                    o.top = n.p2c(e[a]);
                    break;
                }
                return o;
            }
            function v(t, n) {
                return t[n - 1] || (t[n - 1] = {
                    n: n,
                    direction: t == ue ? "x" : "y",
                    options: e.extend(!0, {}, t == ue ? oe.xaxis : oe.yaxis)
                }), t[n - 1];
            }
            function g() {
                var t, n = ae.length, a = -1;
                for (t = 0; t < ae.length; ++t) {
                    var o = ae[t].color;
                    null != o && (n--, "number" == typeof o && o > a && (a = o));
                }
                n <= a && (n = a + 1);
                var r, i = [], l = oe.colors, s = l.length, c = 0;
                for (t = 0; t < n; t++) r = e.color.parse(l[t % s] || "#666"), t % s == 0 && t && (c = c >= 0 ? c < .5 ? -c - .2 : 0 : -c), 
                i[t] = r.scale("rgb", 1 + c);
                var u, d = 0;
                for (t = 0; t < ae.length; ++t) {
                    if (u = ae[t], null == u.color ? (u.color = i[d].toString(), ++d) : "number" == typeof u.color && (u.color = i[u.color].toString()), 
                    null == u.lines.show) {
                        var p, m = !0;
                        for (p in u) if (u[p] && u[p].show) {
                            m = !1;
                            break;
                        }
                        m && (u.lines.show = !0);
                    }
                    null == u.lines.zero && (u.lines.zero = !!u.lines.fill), u.xaxis = v(ue, f(u, "x")), 
                    u.yaxis = v(de, f(u, "y"));
                }
            }
            function b() {
                function t(e, t, n) {
                    t < e.datamin && t != -b && (e.datamin = t), n > e.datamax && n != b && (e.datamax = n);
                }
                var n, a, o, r, i, s, c, u, d, f, m, h, v = Number.POSITIVE_INFINITY, g = Number.NEGATIVE_INFINITY, b = Number.MAX_VALUE;
                for (e.each(p(), function(e, t) {
                    t.datamin = v, t.datamax = g, t.used = !1;
                }), n = 0; n < ae.length; ++n) i = ae[n], i.datapoints = {
                    points: []
                }, l(he.processRawData, [ i, i.data, i.datapoints ]);
                for (n = 0; n < ae.length; ++n) {
                    if (i = ae[n], m = i.data, h = i.datapoints.format, !h) {
                        if (h = [], h.push({
                            x: !0,
                            number: !0,
                            required: !0
                        }), h.push({
                            y: !0,
                            number: !0,
                            required: !0
                        }), i.bars.show || i.lines.show && i.lines.fill) {
                            var y = !!(i.bars.show && i.bars.zero || i.lines.show && i.lines.zero);
                            h.push({
                                y: !0,
                                number: !0,
                                required: !1,
                                defaultValue: 0,
                                autoscale: y
                            }), i.bars.horizontal && (delete h[h.length - 1].y, h[h.length - 1].x = !0);
                        }
                        i.datapoints.format = h;
                    }
                    if (null == i.datapoints.pointsize) {
                        i.datapoints.pointsize = h.length, c = i.datapoints.pointsize, s = i.datapoints.points;
                        var _ = i.lines.show && i.lines.steps;
                        for (i.xaxis.used = i.yaxis.used = !0, a = o = 0; a < m.length; ++a, o += c) {
                            f = m[a];
                            var k = null == f;
                            if (!k) for (r = 0; r < c; ++r) u = f[r], d = h[r], d && (d.number && null != u && (u = +u, 
                            isNaN(u) ? u = null : u == 1 / 0 ? u = b : u == -(1 / 0) && (u = -b)), null == u && (d.required && (k = !0), 
                            null != d.defaultValue && (u = d.defaultValue))), s[o + r] = u;
                            if (k) for (r = 0; r < c; ++r) u = s[o + r], null != u && (d = h[r], d.autoscale !== !1 && (d.x && t(i.xaxis, u, u), 
                            d.y && t(i.yaxis, u, u))), s[o + r] = null; else if (_ && o > 0 && null != s[o - c] && s[o - c] != s[o] && s[o - c + 1] != s[o + 1]) {
                                for (r = 0; r < c; ++r) s[o + c + r] = s[o + r];
                                s[o + 1] = s[o - c + 1], o += c;
                            }
                        }
                    }
                }
                for (n = 0; n < ae.length; ++n) i = ae[n], l(he.processDatapoints, [ i, i.datapoints ]);
                for (n = 0; n < ae.length; ++n) {
                    i = ae[n], s = i.datapoints.points, c = i.datapoints.pointsize, h = i.datapoints.format;
                    var x = v, w = v, E = g, S = g;
                    for (a = 0; a < s.length; a += c) if (null != s[a]) for (r = 0; r < c; ++r) u = s[a + r], 
                    d = h[r], d && d.autoscale !== !1 && u != b && u != -b && (d.x && (u < x && (x = u), 
                    u > E && (E = u)), d.y && (u < w && (w = u), u > S && (S = u)));
                    if (i.bars.show) {
                        var T;
                        switch (i.bars.align) {
                          case "left":
                            T = 0;
                            break;

                          case "right":
                            T = -i.bars.barWidth;
                            break;

                          default:
                            T = -i.bars.barWidth / 2;
                        }
                        i.bars.horizontal ? (w += T, S += T + i.bars.barWidth) : (x += T, E += T + i.bars.barWidth);
                    }
                    t(i.xaxis, x, E), t(i.yaxis, w, S);
                }
                e.each(p(), function(e, t) {
                    t.datamin == v && (t.datamin = null), t.datamax == g && (t.datamax = null);
                });
            }
            function y() {
                n.css("padding", 0).children().filter(function() {
                    return !e(this).hasClass("flot-overlay") && !e(this).hasClass("flot-base");
                }).remove(), "static" == n.css("position") && n.css("position", "relative"), re = new t("flot-base", n), 
                ie = new t("flot-overlay", n), se = re.context, ce = ie.context, le = e(ie.element).unbind();
                var a = n.data("plot");
                a && (a.shutdown(), ie.clear()), n.data("plot", ve);
            }
            function _() {
                oe.grid.hoverable && (le.mousemove(H), le.bind("mouseleave", G)), oe.grid.clickable && le.click(q), 
                l(he.bindEvents, [ le ]);
            }
            function k() {
                be && clearTimeout(be), le.unbind("mousemove", H), le.unbind("mouseleave", G), le.unbind("click", q), 
                l(he.shutdown, [ le ]);
            }
            function x(e) {
                function t(e) {
                    return e;
                }
                var n, a, o = e.options.transform || t, r = e.options.inverseTransform;
                "x" == e.direction ? (n = e.scale = pe / Math.abs(o(e.max) - o(e.min)), a = Math.min(o(e.max), o(e.min))) : (n = e.scale = me / Math.abs(o(e.max) - o(e.min)), 
                n = -n, a = Math.max(o(e.max), o(e.min))), o == t ? e.p2c = function(e) {
                    return (e - a) * n;
                } : e.p2c = function(e) {
                    return (o(e) - a) * n;
                }, r ? e.c2p = function(e) {
                    return r(a + e / n);
                } : e.c2p = function(e) {
                    return a + e / n;
                };
            }
            function w(e) {
                for (var t = e.options, n = e.ticks || [], a = t.labelWidth || 0, o = t.labelHeight || 0, r = a || ("x" == e.direction ? Math.floor(re.width / (n.length || 1)) : null), i = e.direction + "Axis " + e.direction + e.n + "Axis", l = "flot-" + e.direction + "-axis flot-" + e.direction + e.n + "-axis " + i, s = t.font || "flot-tick-label tickLabel", c = 0; c < n.length; ++c) {
                    var u = n[c];
                    if (u.label) {
                        var d = re.getTextInfo(l, u.label, s, null, r);
                        a = Math.max(a, d.width), o = Math.max(o, d.height);
                    }
                }
                e.labelWidth = t.labelWidth || a, e.labelHeight = t.labelHeight || o;
            }
            function E(t) {
                var n = t.labelWidth, a = t.labelHeight, o = t.options.position, r = "x" === t.direction, i = t.options.tickLength, l = oe.grid.axisMargin, s = oe.grid.labelMargin, c = !0, u = !0, d = !0, f = !1;
                e.each(r ? ue : de, function(e, n) {
                    n && (n.show || n.reserveSpace) && (n === t ? f = !0 : n.options.position === o && (f ? u = !1 : c = !1), 
                    f || (d = !1));
                }), u && (l = 0), null == i && (i = d ? "full" : 5), isNaN(+i) || (s += +i), r ? (a += s, 
                "bottom" == o ? (fe.bottom += a + l, t.box = {
                    top: re.height - fe.bottom,
                    height: a
                }) : (t.box = {
                    top: fe.top + l,
                    height: a
                }, fe.top += a + l)) : (n += s, "left" == o ? (t.box = {
                    left: fe.left + l,
                    width: n
                }, fe.left += n + l) : (fe.right += n + l, t.box = {
                    left: re.width - fe.right,
                    width: n
                })), t.position = o, t.tickLength = i, t.box.padding = s, t.innermost = c;
            }
            function S(e) {
                "x" == e.direction ? (e.box.left = fe.left - e.labelWidth / 2, e.box.width = re.width - fe.left - fe.right + e.labelWidth) : (e.box.top = fe.top - e.labelHeight / 2, 
                e.box.height = re.height - fe.bottom - fe.top + e.labelHeight);
            }
            function T() {
                var t, n = oe.grid.minBorderMargin;
                if (null == n) for (n = 0, t = 0; t < ae.length; ++t) n = Math.max(n, 2 * (ae[t].points.radius + ae[t].points.lineWidth / 2));
                var a = {
                    left: n,
                    right: n,
                    top: n,
                    bottom: n
                };
                e.each(p(), function(e, t) {
                    t.reserveSpace && t.ticks && t.ticks.length && ("x" === t.direction ? (a.left = Math.max(a.left, t.labelWidth / 2), 
                    a.right = Math.max(a.right, t.labelWidth / 2)) : (a.bottom = Math.max(a.bottom, t.labelHeight / 2), 
                    a.top = Math.max(a.top, t.labelHeight / 2)));
                }), fe.left = Math.ceil(Math.max(a.left, fe.left)), fe.right = Math.ceil(Math.max(a.right, fe.right)), 
                fe.top = Math.ceil(Math.max(a.top, fe.top)), fe.bottom = Math.ceil(Math.max(a.bottom, fe.bottom));
            }
            function C() {
                var t, n = p(), a = oe.grid.show;
                for (var o in fe) {
                    var r = oe.grid.margin || 0;
                    fe[o] = "number" == typeof r ? r : r[o] || 0;
                }
                l(he.processOffset, [ fe ]);
                for (var o in fe) "object" == typeof oe.grid.borderWidth ? fe[o] += a ? oe.grid.borderWidth[o] : 0 : fe[o] += a ? oe.grid.borderWidth : 0;
                if (e.each(n, function(e, t) {
                    var n = t.options;
                    t.show = null == n.show ? t.used : n.show, t.reserveSpace = null == n.reserveSpace ? t.show : n.reserveSpace, 
                    O(t);
                }), a) {
                    var i = e.grep(n, function(e) {
                        return e.show || e.reserveSpace;
                    });
                    for (e.each(i, function(e, t) {
                        N(t), M(t), P(t, t.ticks), w(t);
                    }), t = i.length - 1; t >= 0; --t) E(i[t]);
                    T(), e.each(i, function(e, t) {
                        S(t);
                    });
                }
                pe = re.width - fe.left - fe.right, me = re.height - fe.bottom - fe.top, e.each(n, function(e, t) {
                    x(t);
                }), a && A(), $();
            }
            function O(e) {
                var t = e.options, n = +(null != t.min ? t.min : e.datamin), a = +(null != t.max ? t.max : e.datamax), o = a - n;
                if (0 == o) {
                    var r = 0 == a ? 1 : .01;
                    null == t.min && (n -= r), null != t.max && null == t.min || (a += r);
                } else {
                    var i = t.autoscaleMargin;
                    null != i && (null == t.min && (n -= o * i, n < 0 && null != e.datamin && e.datamin >= 0 && (n = 0)), 
                    null == t.max && (a += o * i, a > 0 && null != e.datamax && e.datamax <= 0 && (a = 0)));
                }
                e.min = n, e.max = a;
            }
            function N(t) {
                var n, o = t.options;
                n = "number" == typeof o.ticks && o.ticks > 0 ? o.ticks : .3 * Math.sqrt("x" == t.direction ? re.width : re.height);
                var r = (t.max - t.min) / n, i = -Math.floor(Math.log(r) / Math.LN10), l = o.tickDecimals;
                null != l && i > l && (i = l);
                var s, c = Math.pow(10, -i), u = r / c;
                if (u < 1.5 ? s = 1 : u < 3 ? (s = 2, u > 2.25 && (null == l || i + 1 <= l) && (s = 2.5, 
                ++i)) : s = u < 7.5 ? 5 : 10, s *= c, null != o.minTickSize && s < o.minTickSize && (s = o.minTickSize), 
                t.delta = r, t.tickDecimals = Math.max(0, null != l ? l : i), t.tickSize = o.tickSize || s, 
                "time" == o.mode && !t.tickGenerator) throw new Error("Time mode requires the flot.time plugin.");
                if (t.tickGenerator || (t.tickGenerator = function(e) {
                    var t, n = [], o = a(e.min, e.tickSize), r = 0, i = Number.NaN;
                    do t = i, i = o + r * e.tickSize, n.push(i), ++r; while (i < e.max && i != t);
                    return n;
                }, t.tickFormatter = function(e, t) {
                    var n = t.tickDecimals ? Math.pow(10, t.tickDecimals) : 1, a = "" + Math.round(e * n) / n;
                    if (null != t.tickDecimals) {
                        var o = a.indexOf("."), r = o == -1 ? 0 : a.length - o - 1;
                        if (r < t.tickDecimals) return (r ? a : a + ".") + ("" + n).substr(1, t.tickDecimals - r);
                    }
                    return a;
                }), e.isFunction(o.tickFormatter) && (t.tickFormatter = function(e, t) {
                    return "" + o.tickFormatter(e, t);
                }), null != o.alignTicksWithAxis) {
                    var d = ("x" == t.direction ? ue : de)[o.alignTicksWithAxis - 1];
                    if (d && d.used && d != t) {
                        var f = t.tickGenerator(t);
                        if (f.length > 0 && (null == o.min && (t.min = Math.min(t.min, f[0])), null == o.max && f.length > 1 && (t.max = Math.max(t.max, f[f.length - 1]))), 
                        t.tickGenerator = function(e) {
                            var t, n, a = [];
                            for (n = 0; n < d.ticks.length; ++n) t = (d.ticks[n].v - d.min) / (d.max - d.min), 
                            t = e.min + t * (e.max - e.min), a.push(t);
                            return a;
                        }, !t.mode && null == o.tickDecimals) {
                            var p = Math.max(0, -Math.floor(Math.log(t.delta) / Math.LN10) + 1), m = t.tickGenerator(t);
                            m.length > 1 && /\..*0$/.test((m[1] - m[0]).toFixed(p)) || (t.tickDecimals = p);
                        }
                    }
                }
            }
            function M(t) {
                var n = t.options.ticks, a = [];
                null == n || "number" == typeof n && n > 0 ? a = t.tickGenerator(t) : n && (a = e.isFunction(n) ? n(t) : n);
                var o, r;
                for (t.ticks = [], o = 0; o < a.length; ++o) {
                    var i = null, l = a[o];
                    "object" == typeof l ? (r = +l[0], l.length > 1 && (i = l[1])) : r = +l, null == i && (i = t.tickFormatter(r, t)), 
                    isNaN(r) || t.ticks.push({
                        v: r,
                        label: i
                    });
                }
            }
            function P(e, t) {
                e.options.autoscaleMargin && t.length > 0 && (null == e.options.min && (e.min = Math.min(e.min, t[0].v)), 
                null == e.options.max && t.length > 1 && (e.max = Math.max(e.max, t[t.length - 1].v)));
            }
            function D() {
                re.clear(), l(he.drawBackground, [ se ]);
                var e = oe.grid;
                e.show && e.backgroundColor && j(), e.show && !e.aboveData && I();
                for (var t = 0; t < ae.length; ++t) l(he.drawSeries, [ se, ae[t] ]), R(ae[t]);
                l(he.draw, [ se ]), e.show && e.aboveData && I(), re.render(), J();
            }
            function z(e, t) {
                for (var n, a, o, r, i = p(), l = 0; l < i.length; ++l) if (n = i[l], n.direction == t && (r = t + n.n + "axis", 
                e[r] || 1 != n.n || (r = t + "axis"), e[r])) {
                    a = e[r].from, o = e[r].to;
                    break;
                }
                if (e[r] || (n = "x" == t ? ue[0] : de[0], a = e[t + "1"], o = e[t + "2"]), null != a && null != o && a > o) {
                    var s = a;
                    a = o, o = s;
                }
                return {
                    from: a,
                    to: o,
                    axis: n
                };
            }
            function j() {
                se.save(), se.translate(fe.left, fe.top), se.fillStyle = ne(oe.grid.backgroundColor, me, 0, "rgba(255, 255, 255, 0)"), 
                se.fillRect(0, 0, pe, me), se.restore();
            }
            function I() {
                var t, n, a, o;
                se.save(), se.translate(fe.left, fe.top);
                var r = oe.grid.markings;
                if (r) for (e.isFunction(r) && (n = ve.getAxes(), n.xmin = n.xaxis.min, n.xmax = n.xaxis.max, 
                n.ymin = n.yaxis.min, n.ymax = n.yaxis.max, r = r(n)), t = 0; t < r.length; ++t) {
                    var i = r[t], l = z(i, "x"), s = z(i, "y");
                    if (null == l.from && (l.from = l.axis.min), null == l.to && (l.to = l.axis.max), 
                    null == s.from && (s.from = s.axis.min), null == s.to && (s.to = s.axis.max), !(l.to < l.axis.min || l.from > l.axis.max || s.to < s.axis.min || s.from > s.axis.max)) {
                        l.from = Math.max(l.from, l.axis.min), l.to = Math.min(l.to, l.axis.max), s.from = Math.max(s.from, s.axis.min), 
                        s.to = Math.min(s.to, s.axis.max);
                        var c = l.from === l.to, u = s.from === s.to;
                        if (!c || !u) if (l.from = Math.floor(l.axis.p2c(l.from)), l.to = Math.floor(l.axis.p2c(l.to)), 
                        s.from = Math.floor(s.axis.p2c(s.from)), s.to = Math.floor(s.axis.p2c(s.to)), c || u) {
                            var d = i.lineWidth || oe.grid.markingsLineWidth, f = d % 2 ? .5 : 0;
                            se.beginPath(), se.strokeStyle = i.color || oe.grid.markingsColor, se.lineWidth = d, 
                            c ? (se.moveTo(l.to + f, s.from), se.lineTo(l.to + f, s.to)) : (se.moveTo(l.from, s.to + f), 
                            se.lineTo(l.to, s.to + f)), se.stroke();
                        } else se.fillStyle = i.color || oe.grid.markingsColor, se.fillRect(l.from, s.to, l.to - l.from, s.from - s.to);
                    }
                }
                n = p(), a = oe.grid.borderWidth;
                for (var m = 0; m < n.length; ++m) {
                    var h, v, g, b, y = n[m], _ = y.box, k = y.tickLength;
                    if (y.show && 0 != y.ticks.length) {
                        for (se.lineWidth = 1, "x" == y.direction ? (h = 0, v = "full" == k ? "top" == y.position ? 0 : me : _.top - fe.top + ("top" == y.position ? _.height : 0)) : (v = 0, 
                        h = "full" == k ? "left" == y.position ? 0 : pe : _.left - fe.left + ("left" == y.position ? _.width : 0)), 
                        y.innermost || (se.strokeStyle = y.options.color, se.beginPath(), g = b = 0, "x" == y.direction ? g = pe + 1 : b = me + 1, 
                        1 == se.lineWidth && ("x" == y.direction ? v = Math.floor(v) + .5 : h = Math.floor(h) + .5), 
                        se.moveTo(h, v), se.lineTo(h + g, v + b), se.stroke()), se.strokeStyle = y.options.tickColor, 
                        se.beginPath(), t = 0; t < y.ticks.length; ++t) {
                            var x = y.ticks[t].v;
                            g = b = 0, isNaN(x) || x < y.min || x > y.max || "full" == k && ("object" == typeof a && a[y.position] > 0 || a > 0) && (x == y.min || x == y.max) || ("x" == y.direction ? (h = y.p2c(x), 
                            b = "full" == k ? -me : k, "top" == y.position && (b = -b)) : (v = y.p2c(x), g = "full" == k ? -pe : k, 
                            "left" == y.position && (g = -g)), 1 == se.lineWidth && ("x" == y.direction ? h = Math.floor(h) + .5 : v = Math.floor(v) + .5), 
                            se.moveTo(h, v), se.lineTo(h + g, v + b));
                        }
                        se.stroke();
                    }
                }
                a && (o = oe.grid.borderColor, "object" == typeof a || "object" == typeof o ? ("object" != typeof a && (a = {
                    top: a,
                    right: a,
                    bottom: a,
                    left: a
                }), "object" != typeof o && (o = {
                    top: o,
                    right: o,
                    bottom: o,
                    left: o
                }), a.top > 0 && (se.strokeStyle = o.top, se.lineWidth = a.top, se.beginPath(), 
                se.moveTo(0 - a.left, 0 - a.top / 2), se.lineTo(pe, 0 - a.top / 2), se.stroke()), 
                a.right > 0 && (se.strokeStyle = o.right, se.lineWidth = a.right, se.beginPath(), 
                se.moveTo(pe + a.right / 2, 0 - a.top), se.lineTo(pe + a.right / 2, me), se.stroke()), 
                a.bottom > 0 && (se.strokeStyle = o.bottom, se.lineWidth = a.bottom, se.beginPath(), 
                se.moveTo(pe + a.right, me + a.bottom / 2), se.lineTo(0, me + a.bottom / 2), se.stroke()), 
                a.left > 0 && (se.strokeStyle = o.left, se.lineWidth = a.left, se.beginPath(), se.moveTo(0 - a.left / 2, me + a.bottom), 
                se.lineTo(0 - a.left / 2, 0), se.stroke())) : (se.lineWidth = a, se.strokeStyle = oe.grid.borderColor, 
                se.strokeRect(-a / 2, -a / 2, pe + a, me + a))), se.restore();
            }
            function A() {
                e.each(p(), function(e, t) {
                    var n, a, o, r, i, l = t.box, s = t.direction + "Axis " + t.direction + t.n + "Axis", c = "flot-" + t.direction + "-axis flot-" + t.direction + t.n + "-axis " + s, u = t.options.font || "flot-tick-label tickLabel";
                    if (re.removeText(c), t.show && 0 != t.ticks.length) for (var d = 0; d < t.ticks.length; ++d) n = t.ticks[d], 
                    !n.label || n.v < t.min || n.v > t.max || ("x" == t.direction ? (r = "center", a = fe.left + t.p2c(n.v), 
                    "bottom" == t.position ? o = l.top + l.padding : (o = l.top + l.height - l.padding, 
                    i = "bottom")) : (i = "middle", o = fe.top + t.p2c(n.v), "left" == t.position ? (a = l.left + l.width - l.padding, 
                    r = "right") : a = l.left + l.padding), re.addText(c, a, o, n.label, u, null, null, r, i));
                });
            }
            function R(e) {
                e.lines.show && F(e), e.bars.show && U(e), e.points.show && V(e);
            }
            function F(e) {
                function t(e, t, n, a, o) {
                    var r = e.points, i = e.pointsize, l = null, s = null;
                    se.beginPath();
                    for (var c = i; c < r.length; c += i) {
                        var u = r[c - i], d = r[c - i + 1], f = r[c], p = r[c + 1];
                        if (null != u && null != f) {
                            if (d <= p && d < o.min) {
                                if (p < o.min) continue;
                                u = (o.min - d) / (p - d) * (f - u) + u, d = o.min;
                            } else if (p <= d && p < o.min) {
                                if (d < o.min) continue;
                                f = (o.min - d) / (p - d) * (f - u) + u, p = o.min;
                            }
                            if (d >= p && d > o.max) {
                                if (p > o.max) continue;
                                u = (o.max - d) / (p - d) * (f - u) + u, d = o.max;
                            } else if (p >= d && p > o.max) {
                                if (d > o.max) continue;
                                f = (o.max - d) / (p - d) * (f - u) + u, p = o.max;
                            }
                            if (u <= f && u < a.min) {
                                if (f < a.min) continue;
                                d = (a.min - u) / (f - u) * (p - d) + d, u = a.min;
                            } else if (f <= u && f < a.min) {
                                if (u < a.min) continue;
                                p = (a.min - u) / (f - u) * (p - d) + d, f = a.min;
                            }
                            if (u >= f && u > a.max) {
                                if (f > a.max) continue;
                                d = (a.max - u) / (f - u) * (p - d) + d, u = a.max;
                            } else if (f >= u && f > a.max) {
                                if (u > a.max) continue;
                                p = (a.max - u) / (f - u) * (p - d) + d, f = a.max;
                            }
                            u == l && d == s || se.moveTo(a.p2c(u) + t, o.p2c(d) + n), l = f, s = p, se.lineTo(a.p2c(f) + t, o.p2c(p) + n);
                        }
                    }
                    se.stroke();
                }
                function n(e, t, n) {
                    for (var a = e.points, o = e.pointsize, r = Math.min(Math.max(0, n.min), n.max), i = 0, l = !1, s = 1, c = 0, u = 0; ;) {
                        if (o > 0 && i > a.length + o) break;
                        i += o;
                        var d = a[i - o], f = a[i - o + s], p = a[i], m = a[i + s];
                        if (l) {
                            if (o > 0 && null != d && null == p) {
                                u = i, o = -o, s = 2;
                                continue;
                            }
                            if (o < 0 && i == c + o) {
                                se.fill(), l = !1, o = -o, s = 1, i = c = u + o;
                                continue;
                            }
                        }
                        if (null != d && null != p) {
                            if (d <= p && d < t.min) {
                                if (p < t.min) continue;
                                f = (t.min - d) / (p - d) * (m - f) + f, d = t.min;
                            } else if (p <= d && p < t.min) {
                                if (d < t.min) continue;
                                m = (t.min - d) / (p - d) * (m - f) + f, p = t.min;
                            }
                            if (d >= p && d > t.max) {
                                if (p > t.max) continue;
                                f = (t.max - d) / (p - d) * (m - f) + f, d = t.max;
                            } else if (p >= d && p > t.max) {
                                if (d > t.max) continue;
                                m = (t.max - d) / (p - d) * (m - f) + f, p = t.max;
                            }
                            if (l || (se.beginPath(), se.moveTo(t.p2c(d), n.p2c(r)), l = !0), f >= n.max && m >= n.max) se.lineTo(t.p2c(d), n.p2c(n.max)), 
                            se.lineTo(t.p2c(p), n.p2c(n.max)); else if (f <= n.min && m <= n.min) se.lineTo(t.p2c(d), n.p2c(n.min)), 
                            se.lineTo(t.p2c(p), n.p2c(n.min)); else {
                                var h = d, v = p;
                                f <= m && f < n.min && m >= n.min ? (d = (n.min - f) / (m - f) * (p - d) + d, f = n.min) : m <= f && m < n.min && f >= n.min && (p = (n.min - f) / (m - f) * (p - d) + d, 
                                m = n.min), f >= m && f > n.max && m <= n.max ? (d = (n.max - f) / (m - f) * (p - d) + d, 
                                f = n.max) : m >= f && m > n.max && f <= n.max && (p = (n.max - f) / (m - f) * (p - d) + d, 
                                m = n.max), d != h && se.lineTo(t.p2c(h), n.p2c(f)), se.lineTo(t.p2c(d), n.p2c(f)), 
                                se.lineTo(t.p2c(p), n.p2c(m)), p != v && (se.lineTo(t.p2c(p), n.p2c(m)), se.lineTo(t.p2c(v), n.p2c(m)));
                            }
                        }
                    }
                }
                se.save(), se.translate(fe.left, fe.top), se.lineJoin = "round";
                var a = e.lines.lineWidth, o = e.shadowSize;
                if (a > 0 && o > 0) {
                    se.lineWidth = o, se.strokeStyle = "rgba(0,0,0,0.1)";
                    var r = Math.PI / 18;
                    t(e.datapoints, Math.sin(r) * (a / 2 + o / 2), Math.cos(r) * (a / 2 + o / 2), e.xaxis, e.yaxis), 
                    se.lineWidth = o / 2, t(e.datapoints, Math.sin(r) * (a / 2 + o / 4), Math.cos(r) * (a / 2 + o / 4), e.xaxis, e.yaxis);
                }
                se.lineWidth = a, se.strokeStyle = e.color;
                var i = L(e.lines, e.color, 0, me);
                i && (se.fillStyle = i, n(e.datapoints, e.xaxis, e.yaxis)), a > 0 && t(e.datapoints, 0, 0, e.xaxis, e.yaxis), 
                se.restore();
            }
            function V(e) {
                function t(e, t, n, a, o, r, i, l) {
                    for (var s = e.points, c = e.pointsize, u = 0; u < s.length; u += c) {
                        var d = s[u], f = s[u + 1];
                        null == d || d < r.min || d > r.max || f < i.min || f > i.max || (se.beginPath(), 
                        d = r.p2c(d), f = i.p2c(f) + a, "circle" == l ? se.arc(d, f, t, 0, o ? Math.PI : 2 * Math.PI, !1) : l(se, d, f, t, o), 
                        se.closePath(), n && (se.fillStyle = n, se.fill()), se.stroke());
                    }
                }
                se.save(), se.translate(fe.left, fe.top);
                var n = e.points.lineWidth, a = e.shadowSize, o = e.points.radius, r = e.points.symbol;
                if (0 == n && (n = 1e-4), n > 0 && a > 0) {
                    var i = a / 2;
                    se.lineWidth = i, se.strokeStyle = "rgba(0,0,0,0.1)", t(e.datapoints, o, null, i + i / 2, !0, e.xaxis, e.yaxis, r), 
                    se.strokeStyle = "rgba(0,0,0,0.2)", t(e.datapoints, o, null, i / 2, !0, e.xaxis, e.yaxis, r);
                }
                se.lineWidth = n, se.strokeStyle = e.color, t(e.datapoints, o, L(e.points, e.color), 0, !1, e.xaxis, e.yaxis, r), 
                se.restore();
            }
            function B(e, t, n, a, o, r, i, l, s, c, u) {
                var d, f, p, m, h, v, g, b, y;
                c ? (b = v = g = !0, h = !1, d = n, f = e, m = t + a, p = t + o, f < d && (y = f, 
                f = d, d = y, h = !0, v = !1)) : (h = v = g = !0, b = !1, d = e + a, f = e + o, 
                p = n, m = t, m < p && (y = m, m = p, p = y, b = !0, g = !1)), f < i.min || d > i.max || m < l.min || p > l.max || (d < i.min && (d = i.min, 
                h = !1), f > i.max && (f = i.max, v = !1), p < l.min && (p = l.min, b = !1), m > l.max && (m = l.max, 
                g = !1), d = i.p2c(d), p = l.p2c(p), f = i.p2c(f), m = l.p2c(m), r && (s.fillStyle = r(p, m), 
                s.fillRect(d, m, f - d, p - m)), u > 0 && (h || v || g || b) && (s.beginPath(), 
                s.moveTo(d, p), h ? s.lineTo(d, m) : s.moveTo(d, m), g ? s.lineTo(f, m) : s.moveTo(f, m), 
                v ? s.lineTo(f, p) : s.moveTo(f, p), b ? s.lineTo(d, p) : s.moveTo(d, p), s.stroke()));
            }
            function U(e) {
                function t(t, n, a, o, r, i) {
                    for (var l = t.points, s = t.pointsize, c = 0; c < l.length; c += s) null != l[c] && B(l[c], l[c + 1], l[c + 2], n, a, o, r, i, se, e.bars.horizontal, e.bars.lineWidth);
                }
                se.save(), se.translate(fe.left, fe.top), se.lineWidth = e.bars.lineWidth, se.strokeStyle = e.color;
                var n;
                switch (e.bars.align) {
                  case "left":
                    n = 0;
                    break;

                  case "right":
                    n = -e.bars.barWidth;
                    break;

                  default:
                    n = -e.bars.barWidth / 2;
                }
                var a = e.bars.fill ? function(t, n) {
                    return L(e.bars, e.color, t, n);
                } : null;
                t(e.datapoints, n, n + e.bars.barWidth, a, e.xaxis, e.yaxis), se.restore();
            }
            function L(t, n, a, o) {
                var r = t.fill;
                if (!r) return null;
                if (t.fillColor) return ne(t.fillColor, a, o, n);
                var i = e.color.parse(n);
                return i.a = "number" == typeof r ? r : .4, i.normalize(), i.toString();
            }
            function $() {
                if (null != oe.legend.container ? e(oe.legend.container).html("") : n.find(".legend").remove(), 
                oe.legend.show) {
                    for (var t, a, o = [], r = [], i = !1, l = oe.legend.labelFormatter, s = 0; s < ae.length; ++s) t = ae[s], 
                    t.label && (a = l ? l(t.label, t) : t.label, a && r.push({
                        label: a,
                        color: t.color
                    }));
                    if (oe.legend.sorted) if (e.isFunction(oe.legend.sorted)) r.sort(oe.legend.sorted); else if ("reverse" == oe.legend.sorted) r.reverse(); else {
                        var c = "descending" != oe.legend.sorted;
                        r.sort(function(e, t) {
                            return e.label == t.label ? 0 : e.label < t.label != c ? 1 : -1;
                        });
                    }
                    for (var s = 0; s < r.length; ++s) {
                        var u = r[s];
                        s % oe.legend.noColumns == 0 && (i && o.push("</tr>"), o.push("<tr>"), i = !0), 
                        o.push('<td class="legendColorBox"><div style="border:1px solid ' + oe.legend.labelBoxBorderColor + ';padding:1px"><div style="width:4px;height:0;border:5px solid ' + u.color + ';overflow:hidden"></div></div></td><td class="legendLabel">' + u.label + "</td>");
                    }
                    if (i && o.push("</tr>"), 0 != o.length) {
                        var d = '<table style="font-size:smaller;color:' + oe.grid.color + '">' + o.join("") + "</table>";
                        if (null != oe.legend.container) e(oe.legend.container).html(d); else {
                            var f = "", p = oe.legend.position, m = oe.legend.margin;
                            null == m[0] && (m = [ m, m ]), "n" == p.charAt(0) ? f += "top:" + (m[1] + fe.top) + "px;" : "s" == p.charAt(0) && (f += "bottom:" + (m[1] + fe.bottom) + "px;"), 
                            "e" == p.charAt(1) ? f += "right:" + (m[0] + fe.right) + "px;" : "w" == p.charAt(1) && (f += "left:" + (m[0] + fe.left) + "px;");
                            var h = e('<div class="legend">' + d.replace('style="', 'style="position:absolute;' + f + ";") + "</div>").appendTo(n);
                            if (0 != oe.legend.backgroundOpacity) {
                                var v = oe.legend.backgroundColor;
                                null == v && (v = oe.grid.backgroundColor, v = v && "string" == typeof v ? e.color.parse(v) : e.color.extract(h, "background-color"), 
                                v.a = 1, v = v.toString());
                                var g = h.children();
                                e('<div style="position:absolute;width:' + g.width() + "px;height:" + g.height() + "px;" + f + "background-color:" + v + ';"> </div>').prependTo(h).css("opacity", oe.legend.backgroundOpacity);
                            }
                        }
                    }
                }
            }
            function W(e, t, n) {
                var a, o, r, i = oe.grid.mouseActiveRadius, l = i * i + 1, s = null;
                for (a = ae.length - 1; a >= 0; --a) if (n(ae[a])) {
                    var c = ae[a], u = c.xaxis, d = c.yaxis, f = c.datapoints.points, p = u.c2p(e), m = d.c2p(t), h = i / u.scale, v = i / d.scale;
                    if (r = c.datapoints.pointsize, u.options.inverseTransform && (h = Number.MAX_VALUE), 
                    d.options.inverseTransform && (v = Number.MAX_VALUE), c.lines.show || c.points.show) for (o = 0; o < f.length; o += r) {
                        var g = f[o], b = f[o + 1];
                        if (null != g && !(g - p > h || g - p < -h || b - m > v || b - m < -v)) {
                            var y = Math.abs(u.p2c(g) - e), _ = Math.abs(d.p2c(b) - t), k = y * y + _ * _;
                            k < l && (l = k, s = [ a, o / r ]);
                        }
                    }
                    if (c.bars.show && !s) {
                        var x, w;
                        switch (c.bars.align) {
                          case "left":
                            x = 0;
                            break;

                          case "right":
                            x = -c.bars.barWidth;
                            break;

                          default:
                            x = -c.bars.barWidth / 2;
                        }
                        for (w = x + c.bars.barWidth, o = 0; o < f.length; o += r) {
                            var g = f[o], b = f[o + 1], E = f[o + 2];
                            null != g && (ae[a].bars.horizontal ? p <= Math.max(E, g) && p >= Math.min(E, g) && m >= b + x && m <= b + w : p >= g + x && p <= g + w && m >= Math.min(E, b) && m <= Math.max(E, b)) && (s = [ a, o / r ]);
                        }
                    }
                }
                return s ? (a = s[0], o = s[1], r = ae[a].datapoints.pointsize, {
                    datapoint: ae[a].datapoints.points.slice(o * r, (o + 1) * r),
                    dataIndex: o,
                    series: ae[a],
                    seriesIndex: a
                }) : null;
            }
            function H(e) {
                oe.grid.hoverable && Y("plothover", e, function(e) {
                    return 0 != e.hoverable;
                });
            }
            function G(e) {
                oe.grid.hoverable && Y("plothover", e, function(e) {
                    return !1;
                });
            }
            function q(e) {
                Y("plotclick", e, function(e) {
                    return 0 != e.clickable;
                });
            }
            function Y(e, t, a) {
                var o = le.offset(), r = t.pageX - o.left - fe.left, i = t.pageY - o.top - fe.top, l = m({
                    left: r,
                    top: i
                });
                l.pageX = t.pageX, l.pageY = t.pageY;
                var s = W(r, i, a);
                if (s && (s.pageX = parseInt(s.series.xaxis.p2c(s.datapoint[0]) + o.left + fe.left, 10), 
                s.pageY = parseInt(s.series.yaxis.p2c(s.datapoint[1]) + o.top + fe.top, 10)), oe.grid.autoHighlight) {
                    for (var c = 0; c < ge.length; ++c) {
                        var u = ge[c];
                        u.auto != e || s && u.series == s.series && u.point[0] == s.datapoint[0] && u.point[1] == s.datapoint[1] || Q(u.series, u.point);
                    }
                    s && K(s.series, s.datapoint, e);
                }
                n.trigger(e, [ l, s ]);
            }
            function J() {
                var e = oe.interaction.redrawOverlayInterval;
                return e == -1 ? void X() : void (be || (be = setTimeout(X, e)));
            }
            function X() {
                be = null, ce.save(), ie.clear(), ce.translate(fe.left, fe.top);
                var e, t;
                for (e = 0; e < ge.length; ++e) t = ge[e], t.series.bars.show ? te(t.series, t.point) : ee(t.series, t.point);
                ce.restore(), l(he.drawOverlay, [ ce ]);
            }
            function K(e, t, n) {
                if ("number" == typeof e && (e = ae[e]), "number" == typeof t) {
                    var a = e.datapoints.pointsize;
                    t = e.datapoints.points.slice(a * t, a * (t + 1));
                }
                var o = Z(e, t);
                o == -1 ? (ge.push({
                    series: e,
                    point: t,
                    auto: n
                }), J()) : n || (ge[o].auto = !1);
            }
            function Q(e, t) {
                if (null == e && null == t) return ge = [], void J();
                if ("number" == typeof e && (e = ae[e]), "number" == typeof t) {
                    var n = e.datapoints.pointsize;
                    t = e.datapoints.points.slice(n * t, n * (t + 1));
                }
                var a = Z(e, t);
                a != -1 && (ge.splice(a, 1), J());
            }
            function Z(e, t) {
                for (var n = 0; n < ge.length; ++n) {
                    var a = ge[n];
                    if (a.series == e && a.point[0] == t[0] && a.point[1] == t[1]) return n;
                }
                return -1;
            }
            function ee(t, n) {
                var a = n[0], o = n[1], r = t.xaxis, i = t.yaxis, l = "string" == typeof t.highlightColor ? t.highlightColor : e.color.parse(t.color).scale("a", .5).toString();
                if (!(a < r.min || a > r.max || o < i.min || o > i.max)) {
                    var s = t.points.radius + t.points.lineWidth / 2;
                    ce.lineWidth = s, ce.strokeStyle = l;
                    var c = 1.5 * s;
                    a = r.p2c(a), o = i.p2c(o), ce.beginPath(), "circle" == t.points.symbol ? ce.arc(a, o, c, 0, 2 * Math.PI, !1) : t.points.symbol(ce, a, o, c, !1), 
                    ce.closePath(), ce.stroke();
                }
            }
            function te(t, n) {
                var a, o = "string" == typeof t.highlightColor ? t.highlightColor : e.color.parse(t.color).scale("a", .5).toString(), r = o;
                switch (t.bars.align) {
                  case "left":
                    a = 0;
                    break;

                  case "right":
                    a = -t.bars.barWidth;
                    break;

                  default:
                    a = -t.bars.barWidth / 2;
                }
                ce.lineWidth = t.bars.lineWidth, ce.strokeStyle = o, B(n[0], n[1], n[2] || 0, a, a + t.bars.barWidth, function() {
                    return r;
                }, t.xaxis, t.yaxis, ce, t.bars.horizontal, t.bars.lineWidth);
            }
            function ne(t, n, a, o) {
                if ("string" == typeof t) return t;
                for (var r = se.createLinearGradient(0, a, 0, n), i = 0, l = t.colors.length; i < l; ++i) {
                    var s = t.colors[i];
                    if ("string" != typeof s) {
                        var c = e.color.parse(o);
                        null != s.brightness && (c = c.scale("rgb", s.brightness)), null != s.opacity && (c.a *= s.opacity), 
                        s = c.toString();
                    }
                    r.addColorStop(i / (l - 1), s);
                }
                return r;
            }
            var ae = [], oe = {
                colors: [ "#edc240", "#afd8f8", "#cb4b4b", "#4da74d", "#9440ed" ],
                legend: {
                    show: !0,
                    noColumns: 1,
                    labelFormatter: null,
                    labelBoxBorderColor: "#ccc",
                    container: null,
                    position: "ne",
                    margin: 5,
                    backgroundColor: null,
                    backgroundOpacity: .85,
                    sorted: null
                },
                xaxis: {
                    show: null,
                    position: "bottom",
                    mode: null,
                    font: null,
                    color: null,
                    tickColor: null,
                    transform: null,
                    inverseTransform: null,
                    min: null,
                    max: null,
                    autoscaleMargin: null,
                    ticks: null,
                    tickFormatter: null,
                    labelWidth: null,
                    labelHeight: null,
                    reserveSpace: null,
                    tickLength: null,
                    alignTicksWithAxis: null,
                    tickDecimals: null,
                    tickSize: null,
                    minTickSize: null
                },
                yaxis: {
                    autoscaleMargin: .02,
                    position: "left"
                },
                xaxes: [],
                yaxes: [],
                series: {
                    points: {
                        show: !1,
                        radius: 3,
                        lineWidth: 2,
                        fill: !0,
                        fillColor: "#ffffff",
                        symbol: "circle"
                    },
                    lines: {
                        lineWidth: 2,
                        fill: !1,
                        fillColor: null,
                        steps: !1
                    },
                    bars: {
                        show: !1,
                        lineWidth: 2,
                        barWidth: 1,
                        fill: !0,
                        fillColor: null,
                        align: "left",
                        horizontal: !1,
                        zero: !0
                    },
                    shadowSize: 3,
                    highlightColor: null
                },
                grid: {
                    show: !0,
                    aboveData: !1,
                    color: "#545454",
                    backgroundColor: null,
                    borderColor: null,
                    tickColor: null,
                    margin: 0,
                    labelMargin: 5,
                    axisMargin: 8,
                    borderWidth: 2,
                    minBorderMargin: null,
                    markings: null,
                    markingsColor: "#f4f4f4",
                    markingsLineWidth: 2,
                    clickable: !1,
                    hoverable: !1,
                    autoHighlight: !0,
                    mouseActiveRadius: 10
                },
                interaction: {
                    redrawOverlayInterval: 1e3 / 60
                },
                hooks: {}
            }, re = null, ie = null, le = null, se = null, ce = null, ue = [], de = [], fe = {
                left: 0,
                right: 0,
                top: 0,
                bottom: 0
            }, pe = 0, me = 0, he = {
                processOptions: [],
                processRawData: [],
                processDatapoints: [],
                processOffset: [],
                drawBackground: [],
                drawSeries: [],
                draw: [],
                bindEvents: [],
                drawOverlay: [],
                shutdown: []
            }, ve = this;
            ve.setData = u, ve.setupGrid = C, ve.draw = D, ve.getPlaceholder = function() {
                return n;
            }, ve.getCanvas = function() {
                return re.element;
            }, ve.getPlotOffset = function() {
                return fe;
            }, ve.width = function() {
                return pe;
            }, ve.height = function() {
                return me;
            }, ve.offset = function() {
                var e = le.offset();
                return e.left += fe.left, e.top += fe.top, e;
            }, ve.getData = function() {
                return ae;
            }, ve.getAxes = function() {
                var t = {};
                return e.each(ue.concat(de), function(e, n) {
                    n && (t[n.direction + (1 != n.n ? n.n : "") + "axis"] = n);
                }), t;
            }, ve.getXAxes = function() {
                return ue;
            }, ve.getYAxes = function() {
                return de;
            }, ve.c2p = m, ve.p2c = h, ve.getOptions = function() {
                return oe;
            }, ve.highlight = K, ve.unhighlight = Q, ve.triggerRedrawOverlay = J, ve.pointOffset = function(e) {
                return {
                    left: parseInt(ue[f(e, "x") - 1].p2c(+e.x) + fe.left, 10),
                    top: parseInt(de[f(e, "y") - 1].p2c(+e.y) + fe.top, 10)
                };
            }, ve.shutdown = k, ve.destroy = function() {
                k(), n.removeData("plot").empty(), ae = [], oe = null, re = null, ie = null, le = null, 
                se = null, ce = null, ue = [], de = [], he = null, ge = [], ve = null;
            }, ve.resize = function() {
                var e = n.width(), t = n.height();
                re.resize(e, t), ie.resize(e, t);
            }, ve.hooks = he, s(ve), c(r), y(), u(o), C(), D(), _();
            var ge = [], be = null;
        }
        function a(e, t) {
            return t * Math.floor(e / t);
        }
        var o = Object.prototype.hasOwnProperty;
        e.fn.detach || (e.fn.detach = function() {
            return this.each(function() {
                this.parentNode && this.parentNode.removeChild(this);
            });
        }), t.prototype.resize = function(e, t) {
            if (e <= 0 || t <= 0) throw new Error("Invalid dimensions for plot, width = " + e + ", height = " + t);
            var n = this.element, a = this.context, o = this.pixelRatio;
            this.width != e && (n.width = e * o, n.style.width = e + "px", this.width = e), 
            this.height != t && (n.height = t * o, n.style.height = t + "px", this.height = t), 
            a.restore(), a.save(), a.scale(o, o);
        }, t.prototype.clear = function() {
            this.context.clearRect(0, 0, this.width, this.height);
        }, t.prototype.render = function() {
            var e = this._textCache;
            for (var t in e) if (o.call(e, t)) {
                var n = this.getTextLayer(t), a = e[t];
                n.hide();
                for (var r in a) if (o.call(a, r)) {
                    var i = a[r];
                    for (var l in i) if (o.call(i, l)) {
                        for (var s, c = i[l].positions, u = 0; s = c[u]; u++) s.active ? s.rendered || (n.append(s.element), 
                        s.rendered = !0) : (c.splice(u--, 1), s.rendered && s.element.detach());
                        0 == c.length && delete i[l];
                    }
                }
                n.show();
            }
        }, t.prototype.getTextLayer = function(t) {
            var n = this.text[t];
            return null == n && (null == this.textContainer && (this.textContainer = e("<div class='flot-text'></div>").css({
                position: "absolute",
                top: 0,
                left: 0,
                bottom: 0,
                right: 0,
                "font-size": "smaller",
                color: "#545454"
            }).insertAfter(this.element)), n = this.text[t] = e("<div></div>").addClass(t).css({
                position: "absolute",
                top: 0,
                left: 0,
                bottom: 0,
                right: 0
            }).appendTo(this.textContainer)), n;
        }, t.prototype.getTextInfo = function(t, n, a, o, r) {
            var i, l, s, c;
            if (n = "" + n, i = "object" == typeof a ? a.style + " " + a.variant + " " + a.weight + " " + a.size + "px/" + a.lineHeight + "px " + a.family : a, 
            l = this._textCache[t], null == l && (l = this._textCache[t] = {}), s = l[i], null == s && (s = l[i] = {}), 
            c = s[n], null == c) {
                var u = e("<div></div>").html(n).css({
                    position: "absolute",
                    "max-width": r,
                    top: -9999
                }).appendTo(this.getTextLayer(t));
                "object" == typeof a ? u.css({
                    font: i,
                    color: a.color
                }) : "string" == typeof a && u.addClass(a), c = s[n] = {
                    width: u.outerWidth(!0),
                    height: u.outerHeight(!0),
                    element: u,
                    positions: []
                }, u.detach();
            }
            return c;
        }, t.prototype.addText = function(e, t, n, a, o, r, i, l, s) {
            var c = this.getTextInfo(e, a, o, r, i), u = c.positions;
            "center" == l ? t -= c.width / 2 : "right" == l && (t -= c.width), "middle" == s ? n -= c.height / 2 : "bottom" == s && (n -= c.height);
            for (var d, f = 0; d = u[f]; f++) if (d.x == t && d.y == n) return void (d.active = !0);
            d = {
                active: !0,
                rendered: !1,
                element: u.length ? c.element.clone() : c.element,
                x: t,
                y: n
            }, u.push(d), d.element.css({
                top: Math.round(n),
                left: Math.round(t),
                "text-align": l
            });
        }, t.prototype.removeText = function(e, t, n, a, r, i) {
            if (null == a) {
                var l = this._textCache[e];
                if (null != l) for (var s in l) if (o.call(l, s)) {
                    var c = l[s];
                    for (var u in c) if (o.call(c, u)) for (var d, f = c[u].positions, p = 0; d = f[p]; p++) d.active = !1;
                }
            } else for (var d, f = this.getTextInfo(e, a, r, i).positions, p = 0; d = f[p]; p++) d.x == t && d.y == n && (d.active = !1);
        }, e.plot = function(t, a, o) {
            var r = new n(e(t), a, o, e.plot.plugins);
            return r;
        }, e.plot.version = "0.8.3", e.plot.plugins = [], e.fn.plot = function(t, n) {
            return this.each(function() {
                e.plot(this, t, n);
            });
        };
    }(jQuery);
}, function(e, t) {
    !function(e) {
        function t(t) {
            function n(e) {
                m.active && (c(e), t.getPlaceholder().trigger("plotselecting", [ r() ]));
            }
            function a(t) {
                1 == t.which && (document.body.focus(), void 0 !== document.onselectstart && null == h.onselectstart && (h.onselectstart = document.onselectstart, 
                document.onselectstart = function() {
                    return !1;
                }), void 0 !== document.ondrag && null == h.ondrag && (h.ondrag = document.ondrag, 
                document.ondrag = function() {
                    return !1;
                }), s(m.first, t), m.active = !0, v = function(e) {
                    o(e);
                }, e(document).one("mouseup", v));
            }
            function o(e) {
                return v = null, void 0 !== document.onselectstart && (document.onselectstart = h.onselectstart), 
                void 0 !== document.ondrag && (document.ondrag = h.ondrag), m.active = !1, c(e), 
                p() ? i() : (t.getPlaceholder().trigger("plotunselected", []), t.getPlaceholder().trigger("plotselecting", [ null ])), 
                !1;
            }
            function r() {
                if (!p()) return null;
                if (!m.show) return null;
                var n = {}, a = m.first, o = m.second;
                return e.each(t.getAxes(), function(e, t) {
                    if (t.used) {
                        var r = t.c2p(a[t.direction]), i = t.c2p(o[t.direction]);
                        n[e] = {
                            from: Math.min(r, i),
                            to: Math.max(r, i)
                        };
                    }
                }), n;
            }
            function i() {
                var e = r();
                t.getPlaceholder().trigger("plotselected", [ e ]), e.xaxis && e.yaxis && t.getPlaceholder().trigger("selected", [ {
                    x1: e.xaxis.from,
                    y1: e.yaxis.from,
                    x2: e.xaxis.to,
                    y2: e.yaxis.to
                } ]);
            }
            function l(e, t, n) {
                return t < e ? e : t > n ? n : t;
            }
            function s(e, n) {
                var a = t.getOptions(), o = t.getPlaceholder().offset(), r = t.getPlotOffset();
                e.x = l(0, n.pageX - o.left - r.left, t.width()), e.y = l(0, n.pageY - o.top - r.top, t.height()), 
                "y" == a.selection.mode && (e.x = e == m.first ? 0 : t.width()), "x" == a.selection.mode && (e.y = e == m.first ? 0 : t.height());
            }
            function c(e) {
                null != e.pageX && (s(m.second, e), p() ? (m.show = !0, t.triggerRedrawOverlay()) : u(!0));
            }
            function u(e) {
                m.show && (m.show = !1, t.triggerRedrawOverlay(), e || t.getPlaceholder().trigger("plotunselected", []));
            }
            function d(e, n) {
                var a, o, r, i, l = t.getAxes();
                for (var s in l) if (a = l[s], a.direction == n && (i = n + a.n + "axis", e[i] || 1 != a.n || (i = n + "axis"), 
                e[i])) {
                    o = e[i].from, r = e[i].to;
                    break;
                }
                if (e[i] || (a = "x" == n ? t.getXAxes()[0] : t.getYAxes()[0], o = e[n + "1"], r = e[n + "2"]), 
                null != o && null != r && o > r) {
                    var c = o;
                    o = r, r = c;
                }
                return {
                    from: o,
                    to: r,
                    axis: a
                };
            }
            function f(e, n) {
                var a, o = t.getOptions();
                "y" == o.selection.mode ? (m.first.x = 0, m.second.x = t.width()) : (a = d(e, "x"), 
                m.first.x = a.axis.p2c(a.from), m.second.x = a.axis.p2c(a.to)), "x" == o.selection.mode ? (m.first.y = 0, 
                m.second.y = t.height()) : (a = d(e, "y"), m.first.y = a.axis.p2c(a.from), m.second.y = a.axis.p2c(a.to)), 
                m.show = !0, t.triggerRedrawOverlay(), !n && p() && i();
            }
            function p() {
                var e = t.getOptions().selection.minSize;
                return Math.abs(m.second.x - m.first.x) >= e && Math.abs(m.second.y - m.first.y) >= e;
            }
            var m = {
                first: {
                    x: -1,
                    y: -1
                },
                second: {
                    x: -1,
                    y: -1
                },
                show: !1,
                active: !1
            }, h = {}, v = null;
            t.clearSelection = u, t.setSelection = f, t.getSelection = r, t.hooks.bindEvents.push(function(e, t) {
                var o = e.getOptions();
                null != o.selection.mode && (t.mousemove(n), t.mousedown(a));
            }), t.hooks.drawOverlay.push(function(t, n) {
                if (m.show && p()) {
                    var a = t.getPlotOffset(), o = t.getOptions();
                    n.save(), n.translate(a.left, a.top);
                    var r = e.color.parse(o.selection.color);
                    n.strokeStyle = r.scale("a", .8).toString(), n.lineWidth = 1, n.lineJoin = o.selection.shape, 
                    n.fillStyle = r.scale("a", .4).toString();
                    var i = Math.min(m.first.x, m.second.x) + .5, l = Math.min(m.first.y, m.second.y) + .5, s = Math.abs(m.second.x - m.first.x) - 1, c = Math.abs(m.second.y - m.first.y) - 1;
                    n.fillRect(i, l, s, c), n.strokeRect(i, l, s, c), n.restore();
                }
            }), t.hooks.shutdown.push(function(t, o) {
                o.unbind("mousemove", n), o.unbind("mousedown", a), v && e(document).unbind("mouseup", v);
            });
        }
        e.plot.plugins.push({
            init: t,
            options: {
                selection: {
                    mode: null,
                    color: "#e8cfac",
                    shape: "round",
                    minSize: 5
                }
            },
            name: "selection",
            version: "1.1"
        });
    }(jQuery);
}, function(e, t) {
    !function(e) {
        function t(e, t) {
            return t * Math.floor(e / t);
        }
        function n(e, t, n, a) {
            if ("function" == typeof e.strftime) return e.strftime(t);
            var o = function(e, t) {
                return e = "" + e, t = "" + (null == t ? "0" : t), 1 == e.length ? t + e : e;
            }, r = [], i = !1, l = e.getHours(), s = l < 12;
            null == n && (n = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]), 
            null == a && (a = [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ]);
            var c;
            c = l > 12 ? l - 12 : 0 == l ? 12 : l;
            for (var u = 0; u < t.length; ++u) {
                var d = t.charAt(u);
                if (i) {
                    switch (d) {
                      case "a":
                        d = "" + a[e.getDay()];
                        break;

                      case "b":
                        d = "" + n[e.getMonth()];
                        break;

                      case "d":
                        d = o(e.getDate());
                        break;

                      case "e":
                        d = o(e.getDate(), " ");
                        break;

                      case "h":
                      case "H":
                        d = o(l);
                        break;

                      case "I":
                        d = o(c);
                        break;

                      case "l":
                        d = o(c, " ");
                        break;

                      case "m":
                        d = o(e.getMonth() + 1);
                        break;

                      case "M":
                        d = o(e.getMinutes());
                        break;

                      case "q":
                        d = "" + (Math.floor(e.getMonth() / 3) + 1);
                        break;

                      case "S":
                        d = o(e.getSeconds());
                        break;

                      case "y":
                        d = o(e.getFullYear() % 100);
                        break;

                      case "Y":
                        d = "" + e.getFullYear();
                        break;

                      case "p":
                        d = s ? "am" : "pm";
                        break;

                      case "P":
                        d = s ? "AM" : "PM";
                        break;

                      case "w":
                        d = "" + e.getDay();
                    }
                    r.push(d), i = !1;
                } else "%" == d ? i = !0 : r.push(d);
            }
            return r.join("");
        }
        function a(e) {
            function t(e, t, n, a) {
                e[t] = function() {
                    return n[a].apply(n, arguments);
                };
            }
            var n = {
                date: e
            };
            void 0 != e.strftime && t(n, "strftime", e, "strftime"), t(n, "getTime", e, "getTime"), 
            t(n, "setTime", e, "setTime");
            for (var a = [ "Date", "Day", "FullYear", "Hours", "Milliseconds", "Minutes", "Month", "Seconds" ], o = 0; o < a.length; o++) t(n, "get" + a[o], e, "getUTC" + a[o]), 
            t(n, "set" + a[o], e, "setUTC" + a[o]);
            return n;
        }
        function o(e, t) {
            if ("browser" == t.timezone) return new Date(e);
            if (t.timezone && "utc" != t.timezone) {
                if ("undefined" != typeof timezoneJS && "undefined" != typeof timezoneJS.Date) {
                    var n = new timezoneJS.Date();
                    return n.setTimezone(t.timezone), n.setTime(e), n;
                }
                return a(new Date(e));
            }
            return a(new Date(e));
        }
        function r(a) {
            a.hooks.processOptions.push(function(a, r) {
                e.each(a.getAxes(), function(e, a) {
                    var r = a.options;
                    "time" == r.mode && (a.tickGenerator = function(e) {
                        var n = [], a = o(e.min, r), i = 0, s = r.tickSize && "quarter" === r.tickSize[1] || r.minTickSize && "quarter" === r.minTickSize[1] ? u : c;
                        null != r.minTickSize && (i = "number" == typeof r.tickSize ? r.tickSize : r.minTickSize[0] * l[r.minTickSize[1]]);
                        for (var d = 0; d < s.length - 1 && !(e.delta < (s[d][0] * l[s[d][1]] + s[d + 1][0] * l[s[d + 1][1]]) / 2 && s[d][0] * l[s[d][1]] >= i); ++d) ;
                        var f = s[d][0], p = s[d][1];
                        if ("year" == p) {
                            if (null != r.minTickSize && "year" == r.minTickSize[1]) f = Math.floor(r.minTickSize[0]); else {
                                var m = Math.pow(10, Math.floor(Math.log(e.delta / l.year) / Math.LN10)), h = e.delta / l.year / m;
                                f = h < 1.5 ? 1 : h < 3 ? 2 : h < 7.5 ? 5 : 10, f *= m;
                            }
                            f < 1 && (f = 1);
                        }
                        e.tickSize = r.tickSize || [ f, p ];
                        var v = e.tickSize[0];
                        p = e.tickSize[1];
                        var g = v * l[p];
                        "second" == p ? a.setSeconds(t(a.getSeconds(), v)) : "minute" == p ? a.setMinutes(t(a.getMinutes(), v)) : "hour" == p ? a.setHours(t(a.getHours(), v)) : "month" == p ? a.setMonth(t(a.getMonth(), v)) : "quarter" == p ? a.setMonth(3 * t(a.getMonth() / 3, v)) : "year" == p && a.setFullYear(t(a.getFullYear(), v)), 
                        a.setMilliseconds(0), g >= l.minute && a.setSeconds(0), g >= l.hour && a.setMinutes(0), 
                        g >= l.day && a.setHours(0), g >= 4 * l.day && a.setDate(1), g >= 2 * l.month && a.setMonth(t(a.getMonth(), 3)), 
                        g >= 2 * l.quarter && a.setMonth(t(a.getMonth(), 6)), g >= l.year && a.setMonth(0);
                        var b, y = 0, _ = Number.NaN;
                        do if (b = _, _ = a.getTime(), n.push(_), "month" == p || "quarter" == p) if (v < 1) {
                            a.setDate(1);
                            var k = a.getTime();
                            a.setMonth(a.getMonth() + ("quarter" == p ? 3 : 1));
                            var x = a.getTime();
                            a.setTime(_ + y * l.hour + (x - k) * v), y = a.getHours(), a.setHours(0);
                        } else a.setMonth(a.getMonth() + v * ("quarter" == p ? 3 : 1)); else "year" == p ? a.setFullYear(a.getFullYear() + v) : a.setTime(_ + g); while (_ < e.max && _ != b);
                        return n;
                    }, a.tickFormatter = function(e, t) {
                        var a = o(e, t.options);
                        if (null != r.timeformat) return n(a, r.timeformat, r.monthNames, r.dayNames);
                        var i, s = t.options.tickSize && "quarter" == t.options.tickSize[1] || t.options.minTickSize && "quarter" == t.options.minTickSize[1], c = t.tickSize[0] * l[t.tickSize[1]], u = t.max - t.min, d = r.twelveHourClock ? " %p" : "", f = r.twelveHourClock ? "%I" : "%H";
                        i = c < l.minute ? f + ":%M:%S" + d : c < l.day ? u < 2 * l.day ? f + ":%M" + d : "%b %d " + f + ":%M" + d : c < l.month ? "%b %d" : s && c < l.quarter || !s && c < l.year ? u < l.year ? "%b" : "%b %Y" : s && c < l.year ? u < l.year ? "Q%q" : "Q%q %Y" : "%Y";
                        var p = n(a, i, r.monthNames, r.dayNames);
                        return p;
                    });
                });
            });
        }
        var i = {
            xaxis: {
                timezone: null,
                timeformat: null,
                twelveHourClock: !1,
                monthNames: null
            }
        }, l = {
            second: 1e3,
            minute: 6e4,
            hour: 36e5,
            day: 864e5,
            month: 2592e6,
            quarter: 7776e6,
            year: 525949.2 * 60 * 1e3
        }, s = [ [ 1, "second" ], [ 2, "second" ], [ 5, "second" ], [ 10, "second" ], [ 30, "second" ], [ 1, "minute" ], [ 2, "minute" ], [ 5, "minute" ], [ 10, "minute" ], [ 30, "minute" ], [ 1, "hour" ], [ 2, "hour" ], [ 4, "hour" ], [ 8, "hour" ], [ 12, "hour" ], [ 1, "day" ], [ 2, "day" ], [ 3, "day" ], [ .25, "month" ], [ .5, "month" ], [ 1, "month" ], [ 2, "month" ] ], c = s.concat([ [ 3, "month" ], [ 6, "month" ], [ 1, "year" ] ]), u = s.concat([ [ 1, "quarter" ], [ 2, "quarter" ], [ 1, "year" ] ]);
        e.plot.plugins.push({
            init: r,
            options: i,
            name: "time",
            version: "1.0"
        }), e.plot.formatDate = n, e.plot.dateGenerator = o;
    }(jQuery);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.FilesystemsPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(25), p = n(9), m = c.default.gettext;
    t.FilesystemsPanel = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.on_fsys_samples = function() {
                e.setState({});
            }, e;
        }
        return i(t, e), l(t, [ {
            key: "componentDidMount",
            value: function() {
                this.props.client.fsys_sizes.addEventListener("changed", this.on_fsys_samples);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.props.client.fsys_sizes.removeEventListener("changed", this.on_fsys_samples);
            }
        }, {
            key: "render",
            value: function() {
                function e(e) {
                    var t = a.blocks[e], n = a.blocks_fsys[e];
                    return n && "filesystem" == t.IdUsage && "mpath_member" != t.IdType && !t.HintIgnore;
                }
                function t(e, t) {
                    var n = a.blocks[e].IdLabel || (0, p.block_name)(a.blocks[e]), o = a.blocks[t].IdLabel || (0, 
                    p.block_name)(a.blocks[t]);
                    return n.localeCompare(o);
                }
                function n(e) {
                    function t(t) {
                        t && 0 === t.button && (0, p.go_to_block)(a, e);
                    }
                    for (var n, o = a.blocks[e], r = a.blocks_fsys[e], i = r.MountPoints.map(p.decode_filename), l = 0; l < i.length && !n; l++) n = a.fsys_sizes.data[i[l]];
                    return d.default.createElement("tr", {
                        onClick: t
                    }, d.default.createElement("td", null, o.IdLabel || (0, p.block_name)(o)), d.default.createElement("td", null, r.MountPoints.length > 0 ? r.MountPoints.map(function(e) {
                        return d.default.createElement("div", null, (0, p.decode_filename)(e));
                    }) : "-"), d.default.createElement("td", null, r.MountPoints.length > 0 ? d.default.createElement(f.StorageUsageBar, {
                        stats: n,
                        critical: .95
                    }) : null), d.default.createElement("td", {
                        className: "usage-text"
                    }, n ? (0, p.format_fsys_usage)(n[0], n[1]) : (0, p.fmt_size)(o.Size)));
                }
                var a = this.props.client, o = Object.keys(a.blocks).filter(e).sort(t).map(n);
                return d.default.createElement("div", {
                    id: "mounts",
                    className: "panel panel-default storage-mounts"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, d.default.createElement("span", null, m("Filesystems"))), d.default.createElement("table", {
                    className: "table table-hover"
                }, d.default.createElement("thead", null, d.default.createElement("tr", null, d.default.createElement("th", {
                    className: "mount-name"
                }, m("Name")), d.default.createElement("th", {
                    className: "mount-point"
                }, m("Mount Point")), d.default.createElement("th", {
                    className: "mount-size-graph"
                }, m("Size")), d.default.createElement("th", {
                    className: "mount-size-number"
                }, " "))), d.default.createElement("tbody", {
                    id: "storage_mounts"
                }, o)));
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function i(e) {
        return function(t) {
            if (t && 0 === t.button) {
                var n = e();
                n && n.fail(function(e) {
                    d("#error-popup-title").text(m("Error")), d("#error-popup-message").text(e.toString()), 
                    d("#error-popup").modal("show");
                }), t.stopPropagation();
            }
        };
    }
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(26), c = n(7), u = n(9), d = n(6), f = n(18), p = n(29).Tooltip, m = c.gettext, h = c.permission({
        admin: !0
    }), v = f.createClass({
        displayName: "StorageControl",
        getInitialState: function() {
            return {
                allowed: h.allowed !== !1
            };
        },
        onPermissionChanged: function() {
            this.setState({
                allowed: h.allowed !== !1
            });
        },
        componentDidMount: function() {
            d(h).on("changed", this.onPermissionChanged);
        },
        componentWillUnmount: function() {
            d(h).off("changed", this.onPermissionChanged);
        },
        render: function() {
            var e = this.props.excuse;
            if (!this.state.allowed) {
                var t = {
                    __html: c.format(m("The user <b>$0</b> is not permitted to manage storage"), h.user ? h.user.name : "")
                };
                e = f.createElement("span", {
                    dangerouslySetInnerHTML: t
                });
            }
            return f.createElement(p, {
                tip: e
            }, this.props.content(e));
        }
    }), g = f.createClass({
        displayName: "StorageButton",
        render: function() {
            var e = this, t = "btn";
            return t += this.props.kind ? " btn-" + this.props.kind : " btn-default", f.createElement(v, {
                excuse: this.props.excuse,
                content: function(n) {
                    return f.createElement("button", {
                        id: e.props.id,
                        onClick: i(e.props.onClick),
                        className: t + (n ? " disabled" : "")
                    }, e.props.children);
                }
            });
        }
    }), b = f.createClass({
        displayName: "StorageLink",
        render: function() {
            var e = this;
            return f.createElement(v, {
                excuse: this.props.excuse,
                content: function(t) {
                    return f.createElement("a", {
                        onClick: i(e.props.onClick),
                        className: t ? " disabled" : ""
                    }, e.props.children);
                }
            });
        }
    }), y = f.createClass({
        displayName: "StorageBlockNavLink",
        render: function() {
            function e(e, t) {
                var n = e.indexOf("$0");
                return n >= 0 ? [ e.slice(0, n), t, e.slice(n + 2) ] : [ e ];
            }
            var t = this, n = t.props.client, a = t.props.block;
            if (!a) return null;
            var o = u.get_block_link_parts(n, a.path), r = f.createElement("a", {
                onClick: function() {
                    c.location.go(o.location);
                }
            }, o.link);
            return f.createElement("span", null, e(o.format, r));
        }
    }), _ = function(e) {
        function t() {
            a(this, t);
            var e = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.state = {
                promise: null
            }, e;
        }
        return r(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    var t = n.props.onChange(e);
                    t && (t.always(function() {
                        n.setState({
                            promise: null
                        });
                    }), t.fail(function(e) {
                        d("#error-popup-title").text(m("Error")), d("#error-popup-message").text(e.toString()), 
                        d("#error-popup").modal("show");
                    })), n.setState({
                        promise: t,
                        promise_goal_state: e
                    });
                }
                var t = this, n = this;
                return f.createElement(v, {
                    excuse: this.props.excuse,
                    content: function(n) {
                        return f.createElement(s.OnOffSwitch, {
                            state: t.state.promise ? t.state.promise_goal_state : t.props.state,
                            enabled: !n && !t.state.promise,
                            onChange: e
                        });
                    }
                });
            }
        } ]), t;
    }(f.Component), k = function(e) {
        function t() {
            return a(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return r(t, e), l(t, [ {
            key: "render",
            value: function() {
                var e = this, t = this.props.actions[this.props.default];
                return f.createElement(v, {
                    excuse: this.props.excuse,
                    content: function(n) {
                        var a = "btn btn-default";
                        return n && (a += " disabled"), f.createElement("div", {
                            className: "btn-group"
                        }, f.createElement("button", {
                            className: a,
                            onClick: i(t.action)
                        }, t.title), f.createElement("button", {
                            className: a + " dropdown-toggle",
                            "data-toggle": "dropdown"
                        }, f.createElement("span", {
                            className: "caret"
                        })), f.createElement("ul", {
                            className: "dropdown-menu action-dropdown-menu",
                            role: "menu"
                        }, e.props.actions.map(function(e) {
                            return f.createElement("li", {
                                className: "presentation"
                            }, f.createElement("a", {
                                role: "menuitem",
                                onClick: i(e.action)
                            }, e.title));
                        })));
                    }
                });
            }
        } ]), t;
    }(f.Component), x = function(e) {
        function t() {
            return a(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return r(t, e), l(t, [ {
            key: "render",
            value: function() {
                var e = this.props.stats, t = e ? e[0] / e[1] : null;
                return f.createElement("div", {
                    className: "progress"
                }, e ? f.createElement("div", {
                    className: "progress-bar" + (t > this.props.critical ? " progress-bar-danger" : ""),
                    style: {
                        width: 100 * t + "%"
                    }
                }) : null);
            }
        } ]), t;
    }(f.Component);
    e.exports = {
        StorageButton: g,
        StorageLink: b,
        StorageBlockNavLink: y,
        StorageOnOff: _,
        StorageMultiAction: k,
        StorageUsageBar: x
    };
}, function(e, t, n) {
    "use strict";
    var a = n(7), o = n(18), r = a.gettext;
    n(27);
    var i = o.createClass({
        displayName: "OnOffSwitch",
        getDefaultProps: function() {
            return {
                captionOff: r("Off"),
                captionOn: r("On"),
                enabled: !0
            };
        },
        handleOnOffClick: function(e, t) {
            t && 0 === t.button && (this.props.onChange && this.props.enabled && this.props.onChange(e), 
            t.stopPropagation());
        },
        render: function() {
            var e = [ "btn" ], t = [ "btn" ];
            this.props.state ? e.push("active") : t.push("active"), this.props.enabled || (e.push("disabled"), 
            t.push("disabled"));
            var n = this.handleOnOffClick.bind(this, !this.props.state);
            return o.createElement("div", {
                className: "btn-group btn-onoff-ct",
                enabled: this.props.enabled
            }, o.createElement("label", {
                className: e.join(" ")
            }, o.createElement("input", {
                type: "radio"
            }), o.createElement("span", {
                onClick: n
            }, this.props.captionOn)), o.createElement("label", {
                className: t.join(" ")
            }, o.createElement("input", {
                type: "radio"
            }), o.createElement("span", {
                onClick: n
            }, this.props.captionOff)));
        }
    });
    e.exports = {
        OnOffSwitch: i
    };
}, function(e, t) {}, , function(e, t, n) {
    "use strict";
    var a = n(18);
    n(30);
    var o = a.createClass({
        displayName: "Tooltip",
        getInitialState: function() {
            return {
                open: !1,
                pos: "top"
            };
        },
        onMouseover: function() {
            this.setState({
                open: !0
            });
        },
        onMouseout: function() {
            this.setState({
                open: !1
            });
        },
        render: function() {
            function e(e) {
                var n = e && e.previousElementSibling;
                if (e && n) {
                    if (e.style.width && e.style.height || !(e.offsetWidth > 0) || (e.style.width = e.offsetWidth + "px", 
                    e.style.height = e.offsetHeight + "px"), e.offsetLeft === -1e4) {
                        for (var a = n.offsetLeft + .5 * n.offsetWidth - .5 * e.offsetWidth, o = n.offsetTop - e.offsetHeight, r = e.getElementsByClassName("tooltip-arrow")[0], i = e.offsetWidth / 2, l = a, s = o, c = n.offsetWidth, u = e.offsetParent; u; ) l += u.offsetLeft, 
                        s += u.offsetTop, c = u.offsetWidth, u = u.offsetParent;
                        var d = 0;
                        l < 0 ? d = -l + 5 : l + e.offsetWidth > c && (d = -(l + e.offsetWidth - c) - 5), 
                        a += d, i -= d, s < 0 && (o = n.offsetTop + n.offsetHeight, t.setState({
                            pos: "bottom"
                        })), e.style.left = a + "px", e.style.top = o + "px", r.style.left = i + "px";
                    }
                    e.style.zIndex = t.state.open ? 2e3 : -2e3;
                }
            }
            var t = this;
            if (!t.props.tip) return t.props.children;
            var n = "tooltip " + t.state.pos;
            return t.state.open && (n += " in"), a.createElement("div", {
                className: "tooltip-ct-outer"
            }, a.createElement("div", {
                className: "tooltip-ct-inner",
                onMouseover: this.onMouseover,
                onMouseout: this.onMouseout
            }, t.props.children), a.createElement("div", {
                ref: e,
                className: n,
                style: {
                    top: 0,
                    left: -1e4
                }
            }, a.createElement("div", {
                className: "tooltip-arrow"
            }), a.createElement("div", {
                className: "tooltip-inner"
            }, t.props.tip)));
        }
    });
    e.exports = {
        Tooltip: o
    };
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function l(e, t, n, a, o, r) {
        function i(e) {
            0 === e.length ? ((0, h.default)("#error-popup-title").text(t), (0, h.default)("#error-popup-message").text(a.toString()), 
            (0, h.default)("#error-popup").modal("show")) : y.default.open({
                Title: t,
                Teardown: {
                    HasUnits: !0,
                    Units: e.map(function(e) {
                        return {
                            Unit: e.unit,
                            Name: e.desc
                        };
                    })
                },
                Fields: [],
                Action: e ? {
                    DangerButton: !0,
                    Title: o,
                    action: function() {
                        return r(e);
                    }
                } : null
            });
        }
        e.nfs.entry_users(n).done(function(e) {
            i(e);
        }).fail(function() {
            i([]);
        });
    }
    function s(e, t) {
        function n(e) {
            if (e.server == r) return !1;
            r = e.server, i && i.resolve(!1);
            var t = d.default.defer();
            return i = t, d.default.spawn([ "showmount", "-e", "--no-headers", r ], {
                err: "message"
            }).done(function(e) {
                if (t == i) {
                    var n = [];
                    e.split("\n").forEach(function(e) {
                        var t = e.split(" ")[0];
                        t && n.push(t);
                    }), t.resolve(n), i = null;
                } else t.resolve(!1);
            }).fail(function(e) {
                console.warn(e), t.resolve([]);
            }), t.promise();
        }
        function a(e) {
            var t = [];
            return e.mount_auto || t.push("noauto"), e.mount_ro && t.push("ro"), e.mount_extra_options !== !1 && (t = t.concat(k.default.parse_options(e.mount_extra_options))), 
            k.default.unparse_options(t);
        }
        function o(o) {
            y.default.open({
                Title: x(t ? "NFS Mount" : "New NFS Mount"),
                Alerts: o ? [ {
                    Message: x("This NFS mount is in use and only its options can be changed.")
                } ] : null,
                Fields: [ {
                    TextInput: "server",
                    Title: x("Server Address"),
                    Value: t ? t.fields[0].split(":")[0] : "",
                    validate: function(e) {
                        if ("" === e) return x("Server cannot be empty.");
                    },
                    disabled: o
                }, {
                    ComboBox: "remote",
                    Title: x("Path on Server"),
                    Value: t ? t.fields[0].split(":")[1] : "",
                    Choices: n,
                    validate: function(e) {
                        return "" === e ? x("Path on server cannot be empty.") : "/" !== e[0] ? x('Path on server must start with "/".') : void 0;
                    },
                    disabled: o
                }, {
                    TextInput: "dir",
                    Title: x("Local Mount Point"),
                    Value: t ? t.fields[1] : "",
                    validate: function(e) {
                        return "" === e ? x("Mount point cannot be empty.") : "/" !== e[0] ? x('Mount point must start with "/".') : void 0;
                    },
                    disabled: o
                }, {
                    RowTitle: x("Mount Options"),
                    CheckBox: "mount_auto",
                    Title: x("Mount at boot"),
                    Value: c
                }, {
                    CheckBox: "mount_ro",
                    Title: x("Mount read only"),
                    Value: u
                }, {
                    CheckBoxText: "mount_extra_options",
                    Title: x("Custom mount option"),
                    Value: "" !== f && f
                } ],
                Action: {
                    Title: x(t ? "Apply" : "Add"),
                    action: function(n) {
                        var o = [ n.server + ":" + n.remote, n.dir, t ? t.fields[2] : "nfs", a(n) || "defaults" ];
                        return t ? e.nfs.update_entry(t, o) : e.nfs.add_entry(o);
                    }
                }
            });
        }
        var r, i, l = t ? t.fields[3] : "defaults", s = k.default.parse_options("defaults" == l ? "" : l), c = !k.default.extract_option(s, "noauto"), u = k.default.extract_option(s, "ro"), f = k.default.unparse_options(s);
        t ? e.nfs.entry_users(t).done(function(e) {
            o(e.length > 0);
        }).fail(function() {
            o(!1);
        }) : o(!1);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.NFSPanel = void 0;
    var c = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), u = n(7), d = a(u), f = n(18), p = a(f), m = n(6), h = a(m), v = n(25), g = n(9), b = n(32), y = a(b), _ = n(35), k = a(_), x = d.default.gettext;
    t.NFSPanel = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.state = {
                armed: !1
            }, e;
        }
        return i(t, e), c(t, [ {
            key: "render",
            value: function() {
                function e(e, t) {
                    t.fail(function(t) {
                        (0, h.default)("#error-popup-title").text(e), (0, h.default)("#error-popup-message").text(t.toString()), 
                        (0, h.default)("#error-popup").modal("show");
                    });
                }
                function t(t) {
                    function n() {
                        e("Could not mount the filesystem", r.nfs.mount_entry(t)), o.setState({
                            armed: !1
                        });
                    }
                    function a() {
                        r.nfs.unmount_entry(t).fail(function(e) {
                            l(r, x("Unable to unmount filesystem"), t, e, x("Stop and unmount"), function(e) {
                                return r.nfs.stop_and_unmount_entry(e, t);
                            });
                        }), o.setState({
                            armed: !1
                        });
                    }
                    function i() {
                        s(r, t), o.setState({
                            armed: !1
                        });
                    }
                    function c() {
                        r.nfs.remove_entry(t).fail(function(e) {
                            l(r, x("Unable to remove mount"), t, e, x("Stop and remove"), function(e) {
                                return r.nfs.stop_and_remove_entry(e, t);
                            });
                        }), o.setState({
                            armed: !1
                        });
                    }
                    var u;
                    t.mounted && (u = r.nfs.get_fsys_size(t));
                    var d = t.fields[0].split(":")[0], f = t.fields[0].split(":")[1];
                    return p.default.createElement("tr", null, p.default.createElement("td", null, d + " " + f), p.default.createElement("td", null, t.fields[1]), o.state.armed ? [ p.default.createElement("td", {
                        className: "text-right"
                    }, t.mounted ? p.default.createElement(v.StorageButton, {
                        onClick: a
                    }, x("Unmount")) : p.default.createElement(v.StorageButton, {
                        onClick: n
                    }, x("Mount")), "\n", t.fstab ? [ p.default.createElement(v.StorageButton, {
                        onClick: i
                    }, p.default.createElement("span", {
                        className: "pficon pficon-edit"
                    })), "\n", p.default.createElement(v.StorageButton, {
                        kind: "danger",
                        onClick: c
                    }, p.default.createElement("span", {
                        className: "pficon pficon-delete"
                    })) ] : null) ] : [ p.default.createElement("td", null, t.mounted ? p.default.createElement(v.StorageUsageBar, {
                        stats: u,
                        critical: .95
                    }) : x("Not mounted")), p.default.createElement("td", {
                        className: "usage-text"
                    }, t.mounted && u ? (0, g.format_fsys_usage)(u[0], u[1]) : "") ]);
                }
                function n() {
                    s(r, null);
                }
                var a = this, o = this, r = this.props.client, i = r.nfs.entries.map(t), c = function(e) {
                    e && 0 === e.button && a.setState({
                        armed: !a.state.armed
                    });
                };
                return p.default.createElement("div", {
                    className: "panel panel-default storage-mounts",
                    id: "nfs-mounts"
                }, p.default.createElement("div", {
                    className: "panel-heading"
                }, p.default.createElement("span", {
                    className: "pull-right"
                }, i.length > 0 ? p.default.createElement("button", {
                    className: "btn btn-default fa fa-check" + (this.state.armed ? " active" : ""),
                    onClick: c
                }) : null, "\n", p.default.createElement(v.StorageButton, {
                    kind: "primary",
                    onClick: n
                }, p.default.createElement("span", {
                    className: "fa fa-plus"
                }))), p.default.createElement("span", null, x("NFS Mounts"))), i.length > 0 ? p.default.createElement("table", {
                    className: "table"
                }, p.default.createElement("thead", null, p.default.createElement("tr", null, p.default.createElement("th", {
                    className: "mount-name"
                }, x("Server")), p.default.createElement("th", {
                    className: "mount-point"
                }, x("Mount Point")), this.state.armed ? [ p.default.createElement("th", {
                    className: "mount-actions"
                }, " ") ] : [ p.default.createElement("th", {
                    className: "mount-size-graph"
                }, x("Size")), p.default.createElement("th", {
                    className: "mount-size-number"
                }, " ") ])), p.default.createElement("tbody", null, i)) : p.default.createElement("div", {
                    className: "empty-panel-text"
                }, x("No NFS mounts set up")));
            }
        } ]), t;
    }(p.default.Component);
}, function(e, t, n) {
    "use strict";
    !function() {
        function t() {
            s = o("#storage-dialog-tmpl").html(), i.parse(s);
        }
        function a(e) {
            function t(e) {
                return !e || 0 === e.length;
            }
            function n(e) {
                var t = o(this).hasClass("collapsed");
                t ? (o(this).removeClass("collapsed"), o(this).find(".fa").removeClass("fa-angle-right").addClass("fa-angle-down")) : (o(this).addClass("collapsed"), 
                o(this).find(".fa").removeClass("fa-angle-down").addClass("fa-angle-right")), k();
            }
            function a(e) {
                var t = o(this), n = o(e.target).parent("tr");
                t.find("tr").removeClass("highlight-ct"), n.addClass("highlight-ct");
            }
            function d(e) {
                if (e.hasClass("disabled")) return !1;
                var t = e.parents(".dropdown");
                t.find("button span").first().text(e.text()), t.val(e.attr("value")), t.find("li.selected").removeClass("selected"), 
                e.addClass("selected"), t.trigger("change", []);
            }
            function f(e) {
                var t = e.Value || e.Max, n = C.find('[data-field="' + e.SizeSlider + '"]'), a = n.find(".size-text"), i = n.find(".size-unit"), l = o("<div class='slider'>").append(o("<div class='slider-bar'>").append(o("<div class='slider-thumb'>")));
                o(l).slider(), n.data("min", e.Min || 0), n.data("max", e.Max), n.data("round", e.Round), 
                n.find(".slider").replaceWith(l), o(l).on("change", p), n.find(".size-text").on("change", m), 
                n.find(".size-unit").on("change", h), l.prop("value", t / e.Max), n.val(t), a.val(r.format_number(t / +i.val()));
            }
            function p(e, t) {
                var n = o(this).parents(".size-slider"), a = n.find(".size-text"), i = n.find(".size-unit"), l = n.data("min"), s = n.data("max"), c = n.data("round");
                t *= s, c && (t = "function" == typeof c ? c(t) : Math.round(t / c) * c), t < l && (t = l), 
                t > s && (t = s), o(this).prop("value", t / s), a.val(r.format_number(t / +i.val())), 
                n.val(t), o(n).trigger("change");
            }
            function m(e) {
                function t(e, t) {
                    var n = r.format_number(t / l), a = +n * l;
                    return e == a && (e = t), e;
                }
                var n = o(this), a = n.parents(".size-slider"), i = a.find(".size-unit"), l = +i.val(), s = a.find(".slider"), c = a.data("min"), u = a.data("max"), d = +n.val() * l;
                d = t(d, u), d = t(d, c), s.prop("value", d / u), a.val(d), o(a).trigger("change");
            }
            function h(e) {
                var t = o(this), n = t.parents(".size-slider"), a = n.find(".size-text");
                a.val(r.format_number(+n.val() / +t.val()));
            }
            function v(e, t) {
                var n = C.find('[data-field="' + e.SizeSlider + '"]'), a = n.find(".size-text"), o = n.find(".size-unit"), i = n.find(".slider");
                "number" == typeof t && (t = {
                    Value: t
                }), void 0 !== t.Max && (e.Max = t.Max, n.data("max", e.Max)), void 0 !== t.Min && (e.Min = t.Min, 
                n.data("min", e.Min)), void 0 !== t.Round && (e.Round = t.Round, n.data("round", e.Round)), 
                void 0 !== t.Value && (i.prop("value", t.Value / e.Max), a.val(r.format_number(t.Value / +o.val())), 
                n.val(t.Value));
            }
            function g(e, t) {
                if ("function" == typeof t) return void o.when(t(_())).then(function(t) {
                    t !== !1 && g(e, t);
                });
                var n = C.find('[data-field="' + e + '"]'), a = n.find("ul");
                a.empty().append(t.map(function(e) {
                    return o("<li>").append(o("<a>").text(e));
                })), n.find(".caret").toggle(t.length > 0);
            }
            function b() {
                O && (N && window.clearTimeout(N), N = window.setTimeout(function() {
                    e.Fields.forEach(function(e) {
                        e.ComboBox && "function" == typeof e.Choices && g(e.ComboBox, e.Choices);
                    });
                }, 500));
            }
            function y(e) {
                return e.TextInput || e.PassInput || e.SelectOne || e.SelectMany || e.SizeInput || e.SizeSlider || e.CheckBox || e.Arrow || e.SelectRow || e.CheckBoxText || e.ComboBox || e.SelectOneOfMany;
            }
            function _() {
                var t = {};
                return e.Fields.forEach(function(e) {
                    var n = y(e), a = C.find('[data-field="' + n + '"]');
                    if (e.TextInput) t[n] = a.val(); else if (e.PassInput) t[n] = a.val(); else if (e.SelectOne) t[n] = a.val(); else if (e.SizeInput) t[n] = 1024 * parseInt(a.val(), 10) * 1024; else if (e.SizeSlider) t[n] = parseInt(a.val(), 10); else if (e.CheckBox) t[n] = a.prop("checked"); else if (e.SelectMany) t[n] = [], 
                    a.find("input").each(function(a, o) {
                        o.checked && t[n].push(e.Options[a].value);
                    }); else if (e.SelectOneOfMany) t[n] = void 0, a.find("input").each(function(a, o) {
                        o.checked && (t[n] = e.Options[a].value);
                    }); else if (e.SelectRow) a.find("tbody tr").each(function(a, r) {
                        o(r).hasClass("highlight-ct") && (t[n] = e.Rows[a].value);
                    }); else if (e.ComboBox) t[n] = a.find("input[type=text]").val(); else if (e.Arrow) t[n] = !a.hasClass("collapsed"); else if (e.CheckBoxText) {
                        var r = a.find("input[type=checkbox]"), i = a.find("input[type=text]");
                        r.prop("checked") ? t[n] = i.val() : t[n] = !1;
                    }
                }), t;
            }
            function k() {
                var t = _();
                e.Fields.forEach(function(e) {
                    if (e.visible) {
                        var n = y(e);
                        M[n] = !e.visible(t), C.find('[data-field="' + n + '"]').parents("tr").toggle(!M[n]);
                    }
                });
            }
            function x(t) {
                e.Fields.forEach(function(e) {
                    e.TextInput && e.update ? C.find('[data-field="' + e.TextInput + '"]').val(e.update(_(), t)) : e.CheckBox && e.update ? C.find('[data-field="' + e.CheckBox + '"]').prop("checked", e.update(_(), t)) : e.SizeSlider && e.update && v(e, e.update(_(), t));
                });
            }
            function w(e, t, n) {
                var a = null;
                return e.SizeSlider && (isNaN(t) && (a = u("Size must be a number")), 0 === t && (a = u("Size cannot be zero")), 
                t < 0 && (a = u("Size cannot be negative")), !e.AllowInfinite && t > e.Max && (a = u("Size is too large")), 
                void 0 !== e.Min && t < e.Min && (a = r.format(u("Size must be at least $0"), l.fmt_size(e.Min)))), 
                e.validate && (a = e.validate(t, n)), a;
            }
            function E() {
                var t = _(), n = [];
                return e.Fields.forEach(function(e) {
                    var a = y(e);
                    if (M[a]) t[a] = void 0; else {
                        var o = w(e, t[a], t);
                        if (o) {
                            var r = new Error(o);
                            r.target = '[data-field="' + a + '"]', n.push(r);
                        }
                    }
                }), C.dialog("failure", n), 0 === n.length ? t : null;
            }
            function S(e) {
                return e.field ? {
                    message: e.message,
                    target: '[data-field="' + e.field + '"]'
                } : e;
            }
            function T() {
                N && window.clearTimeout(N), C.modal("hide");
            }
            e.Fields.forEach(function(e) {
                e.SizeInput && e.Value && (e.ValueMB = (e.Value / 1048576).toFixed(0)), e.SizeSlider && !e.Units && (e.Units = r.get_byte_units(e.Value || e.Max)), 
                (e.SelectMany || e.SelectOneOfMany) && (e.HasOptions = e.Options.length > 0), e.CheckBoxText && (e.Checked = e.Value !== !1);
            }), e.Action && e.Action.Danger && (e.Action.DangerButton = !0), e.HasBody = !t(e.Fields) || !t(e.Alerts) || !t(e.Blocking), 
            c && c.modal("hide");
            var C = o(i.render(s, e));
            o("body").append(C), c = C, C.on("hidden.bs.modal", function() {
                C.remove();
            }), C.find(".dialog-arrow").on("click", n), C.find(".dialog-select-row-table tbody").on("click", a), 
            C.find(".dialog-select-row-table tbody tr:first-child").addClass("highlight-ct"), 
            C.on("click", ".dropdown li[value]", function(e) {
                return d(o(this));
            }), C.find(".dropdown").each(function(e, t) {
                var n;
                o(t).find("li[value]").each(function(e, t) {
                    n && !o(t).attr("selected") || (n = o(t));
                }), d(n);
            }), e.Fields.forEach(function(e) {
                e.SizeSlider && f(e);
            }), C.on("change", ".dialog-checkbox-text input[type=checkbox]", function(e) {
                var t = o(e.target).parents("[data-field]"), n = t.find("input[type=text]");
                n.toggle(e.target.checked);
            }), C.on("click", ".combobox-container .caret", function(e) {
                o(this).parents(".input-group").toggleClass("open");
            }), C.on("click", ".combobox-container li a", function(e) {
                o(this).parents(".input-group").find("input").val(o(this).text()).trigger("change"), 
                o(this).parents(".input-group").removeClass("open");
            });
            var O = !1;
            C.find(".combobox-container .caret").hide(), e.Fields.forEach(function(e) {
                e.ComboBox && ("function" == typeof e.Choices && (O = !0), g(e.ComboBox, e.Choices));
            });
            var N;
            C.on("change", ".available-disks-group .radio input", function(e) {
                var t = o(this).parents(".available-disks-group");
                t.trigger("change");
            });
            var M = {};
            C.on("change input", function(e) {
                k(), b();
                var t = o(e.target).attr("data-field");
                t && x(t);
            }), C.find('button[data-action="cancel"]').on("click", function() {
                T();
            }), C.find('button[data-action="apply"]').on("click", function() {
                var t = E();
                if (null !== t) {
                    var n = e.Action.action(t);
                    n ? (C.dialog("wait", n), n.done(function(e) {
                        T();
                    }).fail(function(n) {
                        e.Action.failure_filter && (n = e.Action.failure_filter(t, n)), n && (n = n.length ? n.map(S) : S(n), 
                        C.dialog("failure", n));
                    })) : T();
                }
            }), k(), C.modal("show");
        }
        var o = n(6), r = n(7), i = n(10), l = n(9);
        n(33), n(34);
        var s, c, u = r.gettext;
        o(t), e.exports = {
            open: a
        };
    }();
}, function(e, t, n) {
    "use strict";
    !function() {
        function e() {
            return y += 1, "unique" + -new Date() + -y;
        }
        function t(e) {
            e.find(".dialog-error").remove(), e.find(".has-error").removeClass("has-error"), 
            e.find(".dialog-wrapper").off(".dialog-error"), e.off(".dialog-error");
        }
        function a(e, t) {
            var n, a, o = e.parent();
            o.is(".dialog-wrapper") || (o = g("<div class='dialog-wrapper'>").insertBefore(e), 
            n = e.next(), n.is(".bootstrap-select") && n.selectpicker && (n.remove(), a = n.selectpicker), 
            e.remove().appendTo(o), a && a.call(e));
            var r;
            t.message && (r = g("<div class='dialog-error help-block'>").text(t.message)), o.addClass("has-error").append(r), 
            o.hasClass("error-keep") || o.on("keypress.dialog-error change.dialog-error", function() {
                o.removeClass("has-error").find(".dialog-error.help-block").css("visibility", "hidden");
            });
        }
        function o(e, t) {
            var n = g("<div class='alert alert-danger dialog-error'>"), a = t.message || t.toString();
            n.text(a), g("<span class='fa fa-exclamation-triangle'>").prependTo(n), console.warn(a);
            var o = e.find(".modal-footer");
            o.length ? n.prependTo(o) : n.appendTo(e);
        }
        function r(e, n) {
            t(e), 1 == n.length && g.isArray(n[0]) && (n = n[0]);
            var r = !1;
            n.forEach(function(t) {
                var n;
                t && (n = e.find(t.target), n && n.length ? a(n, t) : o(e, t), r = !0);
            }), r && e.on("show.bs.modal.dialog-error", function() {
                t(e);
            });
        }
        function i(e, t) {
            this.promise = e, this.disabled = [], this.handle = t;
        }
        function l(e) {
            var t = e.data("dialog-wait");
            e.data("dialog-wait", null), e.find(".dialog-wait-ct").remove(), e.find(".btn").off(".dialog-wait"), 
            e.off(".dialog-wait"), t && t.disabled.forEach(function(e) {
                e.removeAttr("disabled");
            });
        }
        function s(e, t, n) {
            function a() {
                var n, a = e.data("dialog-wait");
                a && a.promise === t && (l(e), n = t.state(), f || "resolved" == n && a.handle ? e.modal("hide") : "rejected" == n && a.handle && r(e, [ arguments[0] ]));
            }
            function o(n) {
                var a = e.data("dialog-wait");
                a && a.promise === t && ("string" != typeof n && (n = ""), c.text(n));
            }
            if (l(e), !t) return n && e.modal("hide"), e;
            n && r(e, []);
            var s = g("<div class='dialog-wait-ct pull-left'>");
            g("<div class='spinner spinner-sm'>").appendTo(s);
            var c = g("<span>").appendTo(s);
            e.find(".modal-footer button").first().before(s);
            var u = new i(t, n);
            e.data("dialog-wait", u);
            var d = t.cancel || t.close, f = !1, p = e.find(".form-control").add(".btn", e);
            return d && (p = p.not("[data-dismiss]").not(".btn-cancel")), p.each(function() {
                var e = g(this);
                e.attr("disabled") || (u.disabled.push(e), e.attr("disabled", "disabled"));
            }), e.find(".btn[data-dismiss], .btn-cancel").on("click.dialog-wait", function() {
                return f = !0, d && d.apply(t), !1;
            }), e.on("hide.bs.modal.dialog-wait", function() {
                l(e);
            }), t.always(a).progress(o), e;
        }
        function c(t) {
            var n = b.gettext || function(e) {
                return e;
            };
            return t = t.find(".btn-onoff-ct").andSelf().filter(".btn-onoff-ct"), t.each(function(t, a) {
                var o, r, i, l = g(a).attr("data-toggle", "buttons").addClass("btn-group"), s = l.onoff("value"), c = l.find(".btn"), u = l.find("input").first().attr("name") || e();
                for (o = c.length; o < 2; o++) r = g('<input type="radio" autocomplete="off">'), 
                i = document.createTextNode(n(0 === o ? "On" : "Off")), l.append(g('<label class="btn">').append(r, i)), 
                c = null;
                c = c || l.find(".btn"), c.find("input").attr("name", u), d(l, !!s);
            }), t;
        }
        function u(e) {
            return e.find(".btn").first().hasClass("active");
        }
        function d(e, t) {
            return e.each(function(e, n) {
                var a = g(n).find(".btn");
                a.first().toggleClass("active", !!t).find("input").prop("checked", !!t), a.last().toggleClass("active", !t).find("input").prop("checked", !t);
            });
        }
        function f(e, t, n, a) {
            var o = 0;
            a > n ? o = 1 : a < 0 || isNaN(a) ? o = 0 : !isNaN(n) && n > 0 && a >= 0 && (o = a / n), 
            g(t).css("width", 100 * o + "%").next("div").css("margin-left", g(t).css("width")), 
            e.value = o;
        }
        function p(e) {
            f(e, g(e).children("div.slider-bar").first()[0], 1, e.value);
        }
        function m(e) {
            g(e).toggleClass("slider-warning", e.offsetWidth < e.scrollWidth);
        }
        function h(e) {
            g(e).attr("unselectable", "on"), Object.defineProperty(e, "value", {
                get: function() {
                    return parseFloat(this.getAttribute("value"));
                },
                set: function(t) {
                    var n = String(t);
                    n != this.getAttribute("value") && (this.setAttribute("value", t), p(e), m(e));
                }
            }), Object.defineProperty(e, "disabled", {
                get: function() {
                    return !!this.hasAttribute("disabled") && "false" != this.getAttribute("disabled").toLowerCase();
                },
                set: function(e) {
                    this.setAttribute("disabled", e ? "true" : "false");
                }
            }), p(e), m(e), g(e).on("change", function() {
                p(e), g(e).toggleClass("slider-disabled", e.disabled);
            }), e.disabled && g(e).addClass("slider-disabled"), g(e).on("mousedown", function(t) {
                if (e.disabled) return !0;
                var n, a = g(e).offset().left;
                if (g(t.target).hasClass("slider-thumb")) {
                    var o = t.offsetX || t.clientX - g(t.target).offset().left;
                    a += o - g(t.target).outerWidth() / 2, n = g(t.target).parent()[0];
                } else n = g(e).children("div.slider-bar").first()[0], f(e, n, g(e).width(), t.pageX - a), 
                g(e).trigger("change", [ e.value ]), m(e);
                return g(document).on("mousemove.slider", function(t) {
                    return f(e, n, g(e).width(), t.pageX - a), g(e).trigger("change", [ e.value ]), 
                    m(e), !1;
                }).on("mouseup.slider", function(e) {
                    return g(document).off("mousemove.slider").off("mouseup.slider"), !1;
                }), !1;
            });
        }
        function v() {
            g("div.slider").each(function() {
                h(this);
            });
        }
        var g = n(6), b = n(7), y = 0;
        g.fn.dialog = function(e) {
            return "failure" === e ? r(this, Array.prototype.slice.call(arguments, 1)) : "wait" === e ? s(this, arguments[1]) : "promise" === e ? s(this, arguments[1], !0) : void console.warn("unknown dialog action: " + e);
        }, window.addEventListener("hashchange", function() {
            g(".modal").modal("hide");
        }), g.fn.onoff = function(e) {
            return 0 === arguments.length || "refresh" == e ? c(this) : "value" === e ? 1 === arguments.length ? u(this) : d(this, arguments[1]) : "disabled" == e ? this.find(".btn").toggleClass("disabled", arguments[1]) : void console.warn("unknown switch action: " + e);
        }, g.fn.slider = function(e) {
            var t = this;
            return 0 === arguments.length || "refresh" == e ? (t.each(function() {
                h(this);
            }), t) : void console.warn("unknown slider action: " + e);
        }, g(document).ready(v), g.fn.update_privileged = function(e, t, n) {
            var a = e.allowed !== !1, o = this;
            return o.each(function() {
                var e = "allowed-title";
                "undefined" != typeof g(this).data(e) && g(this).data(e) !== !1 || g(this).data(e, g(this).attr("title") || "");
                var o = {
                    html: !0
                };
                n && (o.placement = n), g(this).tooltip(o), g(this).hasClass("disabled") === a && (g(this).toggleClass("disabled", !a).attr("data-original-title", null), 
                a ? g(this).attr("title", g(this).data(e)) : g(this).attr("title", t), g(this).tooltip("fixTitle"));
            }), o;
        };
    }();
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e ? e.split(",").map(function(e) {
            return e.trim();
        }).filter(function(e) {
            return "" != e;
        }) : [];
    }
    function o(e) {
        return e.join(",");
    }
    function r(e, t) {
        var n = e.indexOf(t);
        return n >= 0 && (e.splice(n, 1), !0);
    }
    function i(e, t, n, i) {
        i || (i = function() {
            return !0;
        });
        var l = a("defaults" == n ? "" : n), s = !r(l, "noauto"), c = r(l, "ro"), u = o(l);
        return [ {
            SelectOne: "mounting",
            Title: v("Mounting"),
            Options: [ {
                value: "default",
                Title: v("Default"),
                selected: !e
            }, {
                value: "custom",
                Title: v("Custom"),
                selected: e
            } ],
            visible: i
        }, {
            TextInput: "mount_point",
            Title: v("Mount Point"),
            Value: t,
            visible: function(e) {
                return i(e) && "custom" == e.mounting;
            },
            validate: function(e) {
                if ("" == e.trim()) return v("Mount point can not be empty");
            }
        }, {
            RowTitle: v("Mount options"),
            CheckBox: "mount_auto",
            Title: v("Mount at boot"),
            Value: s,
            visible: function(e) {
                return i(e) && "custom" == e.mounting;
            },
            update: function(e, t) {
                return ("crypto_options_auto" != t || 0 != e.crypto_options_auto) && e.mount_auto;
            }
        }, {
            CheckBox: "mount_ro",
            Title: v("Mount read only"),
            Value: c,
            visible: function(e) {
                return i(e) && "custom" == e.mounting;
            },
            update: function(e, t) {
                return "crypto_options_ro" == t && 1 == e.crypto_options_ro || e.mount_ro;
            }
        }, {
            CheckBoxText: "mount_extra_options",
            Title: v("Custom mount options"),
            Value: "" != u && u,
            visible: function(e) {
                return i(e) && "custom" == e.mounting;
            }
        } ];
    }
    function l(e) {
        var t = [];
        return e.mount_auto || t.push("noauto"), e.mount_ro && t.push("ro"), e.mount_extra_options !== !1 && (t = t.concat(a(e.mount_extra_options))), 
        o(t);
    }
    function s(e, t) {
        var n = a(e), i = !r(n, "noauto"), l = r(n, "readonly"), s = o(n);
        return [ {
            RowTitle: v("Encryption Options"),
            CheckBox: "crypto_options_auto",
            Title: v("Unlock at boot"),
            Value: i,
            visible: t
        }, {
            CheckBox: "crypto_options_ro",
            Title: v("Unlock read only"),
            Value: l,
            visible: t
        }, {
            CheckBoxText: "crypto_extra_options",
            Title: v("Custom encryption options"),
            Value: "" != s && s,
            visible: t
        } ];
    }
    function c(e) {
        var t = [];
        return e.crypto_options_auto || t.push("noauto"), e.crypto_options_ro && t.push("readonly"), 
        e.crypto_extra_options !== !1 && (t = t.concat(a(e.crypto_extra_options))), o(t);
    }
    function u(e, t, n, a, o) {
        function r(e) {
            return "luks+xfs" == e.type || "luks+ext4" == e.type;
        }
        function u(e) {
            return "empty" != e.type && "dos-extended" != e.type;
        }
        function m(t) {
            return !e.is_old_udisks2 && r(t);
        }
        function h(t) {
            return !e.is_old_udisks2 && u(t);
        }
        function g(t, n, a, o, r, i, l, s) {
            return e.is_old_udisks2 ? t.CreatePartition(n, a, o, r, i).then(function(t) {
                return e.call(t, "Block", "Format", [ l, s ]).then(function() {
                    return t;
                });
            }) : t.CreatePartitionAndFormat(n, a, o, r, i, l, s);
        }
        function b(t, n) {
            t !== !0 && e.manager.SupportedFilesystems && e.manager.SupportedFilesystems.indexOf(t) == -1 || w.push(n);
        }
        var y, _ = e.blocks[t], k = e.blocks_ptable[t], x = void 0 !== n;
        y = x ? d.format(v("Create partition on $0"), f.block_name(_)) : d.format(v("Format $0"), f.block_name(_));
        var w = [];
        b("xfs", {
            value: "xfs",
            Title: v("XFS - Red Hat Enterprise Linux 7 default")
        }), b("ext4", {
            value: "ext4",
            Title: v("ext4 - Red Hat Enterprise Linux 6 default")
        }), b("xfs", {
            value: "luks+xfs",
            Title: v("Encrypted XFS (LUKS)")
        }), b("ext4", {
            value: "luks+ext4",
            Title: v("Encrypted EXT4 (LUKS)")
        }), b("vfat", {
            value: "vfat",
            Title: v("VFAT - Compatible with all systems and devices")
        }), b("ntfs", {
            value: "ntfs",
            Title: v("NTFS - Compatible with most systems")
        }), b(!0, {
            value: "dos-extended",
            Title: v("Extended Partition"),
            disabled: !(x && o)
        }), b(!0, {
            value: "empty",
            Title: v("No Filesystem")
        }), b(!0, {
            value: "custom",
            Title: v("Custom (Enter filesystem type)")
        });
        var E = f.get_active_usage(e, x ? null : t);
        return E.Blocking ? void p.open({
            Title: d.format(v("$0 is in active use"), f.block_name(_)),
            Blocking: E.Blocking,
            Fields: []
        }) : void p.open({
            Title: y,
            Teardown: E.Teardown,
            Fields: [ {
                SizeSlider: "size",
                Title: v("Size"),
                Value: a,
                Max: a,
                visible: function() {
                    return x;
                }
            }, {
                SelectOne: "erase",
                Title: v("Erase"),
                Options: [ {
                    value: "no",
                    Title: v("Don't overwrite existing data")
                }, {
                    value: "zero",
                    Title: v("Overwrite existing data with zeros")
                } ]
            }, {
                SelectOne: "type",
                Title: v("Type"),
                Options: w
            }, {
                TextInput: "name",
                Title: v("Name"),
                visible: u
            }, {
                TextInput: "custom",
                Title: v("Filesystem type"),
                visible: function(e) {
                    return "custom" == e.type;
                }
            }, {
                PassInput: "passphrase",
                Title: v("Passphrase"),
                validate: function(e) {
                    if ("" === e) return v("Passphrase cannot be empty");
                },
                visible: r
            }, {
                PassInput: "passphrase2",
                Title: v("Confirm passphrase"),
                validate: function(e, t) {
                    if (e != t.passphrase) return v("Passphrases do not match");
                },
                visible: r
            }, {
                CheckBox: "store_passphrase",
                Title: v("Store passphrase"),
                visible: m
            } ].concat(s("", m)).concat(i(!1, "", "", h)),
            Action: {
                Title: v(x ? "Create partition" : "Format"),
                Danger: x ? null : v("Formatting a storage device will erase all data on it."),
                action: function(t) {
                    function a() {
                        return x ? "dos-extended" == t.type ? k.CreatePartition(n, t.size, "0x05", "", {}) : "empty" == t.type ? k.CreatePartition(n, t.size, "", "", {}) : g(k, n, t.size, "", "", {}, t.type, o) : _.Format(t.type, o);
                    }
                    "custom" == t.type && (t.type = t.custom);
                    var o = {
                        "no-block": {
                            t: "b",
                            v: !0
                        },
                        "dry-run-first": {
                            t: "b",
                            v: !0
                        },
                        "tear-down": {
                            t: "b",
                            v: !0
                        }
                    };
                    "no" != t.erase && (o.erase = {
                        t: "s",
                        v: t.erase
                    }), t.name && (o.label = {
                        t: "s",
                        v: t.name
                    }), e.vdo_overlay.find_by_block(_) && (o["no-discard"] = {
                        t: "b",
                        v: !0
                    });
                    var i = [], s = l(t);
                    "custom" == t.mounting && i.push([ "fstab", {
                        dir: {
                            t: "ay",
                            v: f.encode_filename(t.mount_point)
                        },
                        type: {
                            t: "ay",
                            v: f.encode_filename("auto")
                        },
                        opts: {
                            t: "ay",
                            v: f.encode_filename(s || "defaults")
                        },
                        freq: {
                            t: "i",
                            v: 0
                        },
                        passno: {
                            t: "i",
                            v: 0
                        },
                        "track-parents": {
                            t: "b",
                            v: !0
                        }
                    } ]);
                    var u = c(t);
                    if (r(t)) {
                        t.type = t.type.replace("luks+", ""), o["encrypt.passphrase"] = {
                            t: "s",
                            v: t.passphrase
                        };
                        var d = {
                            options: {
                                t: "ay",
                                v: f.encode_filename(u)
                            },
                            "track-parents": {
                                t: "b",
                                v: !0
                            }
                        };
                        t.store_passphrase ? d["passphrase-contents"] = {
                            t: "ay",
                            v: f.encode_filename(t.passphrase)
                        } : d["passphrase-contents"] = {
                            t: "ay",
                            v: f.encode_filename("")
                        }, i.push([ "crypttab", d ]);
                    }
                    return i.length > 0 && (o["config-items"] = {
                        t: "a(sa{sv})",
                        v: i
                    }), f.teardown_active_usage(e, E).then(a);
                }
            }
        });
    }
    var d = n(7), f = n(9), p = n(32), m = n(18), h = n(25), v = d.gettext, g = m.createClass({
        displayName: "FormatButton",
        onClick: function() {
            u(this.props.client, this.props.block.path);
        },
        render: function() {
            return m.createElement(h.StorageButton, {
                onClick: this.onClick,
                excuse: this.props.block.ReadOnly ? v("Device is read-only") : null
            }, v("Format"));
        }
    });
    e.exports = {
        parse_options: a,
        unparse_options: o,
        extract_option: r,
        mounting_dialog_fields: i,
        mounting_dialog_options: l,
        crypto_options_dialog_fields: s,
        crypto_options_dialog_options: c,
        format_dialog: u,
        FormatButton: g
    };
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.MDRaidsPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(17), p = n(9), m = n(25), h = n(32), v = a(h), g = c.default.gettext;
    t.MDRaidsPanel = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e() {
                    v.default.open({
                        Title: g("Create RAID Device"),
                        Fields: [ {
                            TextInput: "name",
                            Title: g("Name")
                        }, {
                            SelectOne: "level",
                            Title: g("RAID Level"),
                            Options: [ {
                                value: "raid0",
                                Title: g("RAID 0 (Stripe)")
                            }, {
                                value: "raid1",
                                Title: g("RAID 1 (Mirror)")
                            }, {
                                value: "raid4",
                                Title: g("RAID 4 (Dedicated Parity)")
                            }, {
                                value: "raid5",
                                Title: g("RAID 5 (Distributed Parity)"),
                                selected: !0
                            }, {
                                value: "raid6",
                                Title: g("RAID 6 (Double Distributed Parity)")
                            }, {
                                value: "raid10",
                                Title: g("RAID 10 (Stripe of Mirrors)")
                            } ]
                        }, {
                            SelectOne: "chunk",
                            Title: g("Chunk Size"),
                            Options: [ {
                                value: "4",
                                Title: g("4 KiB")
                            }, {
                                value: "8",
                                Title: g("8 KiB")
                            }, {
                                value: "16",
                                Title: g("16 KiB")
                            }, {
                                value: "32",
                                Title: g("32 KiB")
                            }, {
                                value: "64",
                                Title: g("64 KiB")
                            }, {
                                value: "128",
                                Title: g("128 KiB")
                            }, {
                                value: "512",
                                Title: g("512 KiB"),
                                selected: !0
                            }, {
                                value: "1024",
                                Title: g("1 MiB")
                            }, {
                                value: "2048",
                                Title: g("2 MiB")
                            } ],
                            visible: function(e) {
                                return "raid1" != e.level;
                            }
                        }, {
                            SelectMany: "disks",
                            Title: g("Disks"),
                            Options: (0, p.get_available_spaces)(a).map(p.available_space_to_option),
                            EmptyWarning: g("No disks are available."),
                            validate: function(e, t) {
                                var n = "raid6" == t.level ? 4 : 2;
                                if (e.length < n) return c.default.format(g("At least $0 disks are needed."), n);
                            }
                        } ],
                        Action: {
                            Title: g("Create"),
                            action: function(e) {
                                return (0, p.prepare_available_spaces)(a, e.disks).then(function() {
                                    var t = Array.prototype.slice.call(arguments);
                                    return a.manager.MDRaidCreate(t, e.level, e.name, 1024 * (e.chunk || 0), {});
                                });
                            }
                        }
                    });
                }
                function t(e, t) {
                    return a.mdraids[e].Name.localeCompare(a.mdraids[t].Name);
                }
                function n(e) {
                    var t = a.mdraids[e];
                    return d.default.createElement(f.OverviewSidePanelRow, {
                        client: a,
                        kind: "array",
                        name: (0, p.mdraid_name)(t),
                        detail: (0, p.fmt_size)(t.Size),
                        go: function() {
                            return c.default.location.go([ "mdraid", t.UUID ]);
                        },
                        job_path: e
                    });
                }
                var a = this.props.client, o = Object.keys(a.mdraids).sort(t).map(n), r = d.default.createElement(m.StorageButton, {
                    kind: "primary",
                    onClick: e,
                    id: "create-mdraid"
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                }));
                return d.default.createElement(f.OverviewSidePanel, {
                    id: "mdraids",
                    title: g("RAID Devices"),
                    empty_text: g("No storage set up as RAID"),
                    actions: r
                }, o);
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.VGroupsPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(17), p = n(9), m = n(25), h = n(32), v = a(h), g = c.default.gettext;
    t.VGroupsPanel = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e() {
                    function e(e) {
                        for (var t in a.vgroups) if (a.vgroups[t].Name == e) return a.vgroups[t];
                        return null;
                    }
                    for (var t, n = 0; n < 1e3 && (t = "vgroup" + n.toFixed(), e(t)); n++) ;
                    v.default.open({
                        Title: g("Create Volume Group"),
                        Fields: [ {
                            TextInput: "name",
                            Title: g("Name"),
                            Value: t,
                            validate: p.validate_lvm2_name
                        }, {
                            SelectMany: "disks",
                            Title: g("Disks"),
                            Options: (0, p.get_available_spaces)(a).map(p.available_space_to_option),
                            EmptyWarning: g("No disks are available."),
                            validate: function(e) {
                                if (0 === e.length) return g("At least one disk is needed.");
                            }
                        } ],
                        Action: {
                            Title: g("Create"),
                            action: function(e) {
                                return (0, p.prepare_available_spaces)(a, e.disks).then(function() {
                                    var t = Array.prototype.slice.call(arguments);
                                    return a.manager_lvm2.VolumeGroupCreate(e.name, t, {});
                                });
                            }
                        }
                    });
                }
                function t(e, t) {
                    return a.vgroups[e].Name.localeCompare(a.vgroups[t].Name);
                }
                function n(e) {
                    var t = a.vgroups[e];
                    return d.default.createElement(f.OverviewSidePanelRow, {
                        client: a,
                        kind: "array",
                        name: t.Name,
                        detail: (0, p.fmt_size)(t.Size),
                        go: function() {
                            return c.default.location.go([ "vg", t.Name ]);
                        },
                        job_path: e
                    });
                }
                var a = this.props.client, o = Object.keys(a.vgroups).sort(t).map(n), r = d.default.createElement(m.StorageButton, {
                    kind: "primary",
                    onClick: e,
                    id: "create-volume-group"
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                }));
                return d.default.createElement(f.OverviewSidePanel, {
                    id: "vgroups",
                    title: g("Volume Groups"),
                    empty_text: g("No volume groups created"),
                    actions: r
                }, o);
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.VDOsPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(17), p = n(9), m = n(25), h = n(32), v = a(h), g = c.default.gettext;
    t.VDOsPanel = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e() {
                    for (var e, t = 0; t < 1e3 && (e = "vdo" + t.toFixed(), a.vdo_overlay.by_name[e]); t++) ;
                    var n = (0, p.get_available_spaces)(a).map(p.available_space_to_option);
                    v.default.open({
                        Title: g("Create VDO Device"),
                        Fields: [ {
                            TextInput: "name",
                            Title: g("Name"),
                            Value: e,
                            validate: function(e) {
                                if ("" == e) return g("Name can not be empty.");
                            }
                        }, {
                            SelectOneOfMany: "space",
                            Title: g("Disk"),
                            EmptyWarning: g("No disks are available."),
                            Options: n,
                            validate: function(e) {
                                if (void 0 === e) return g("A disk is needed.");
                            }
                        }, {
                            SizeSlider: "lsize",
                            Title: g("Logical Size"),
                            Max: 3298534883328,
                            Round: 512,
                            Value: 1099511627776,
                            AllowInfinite: !0,
                            update: function(e, t) {
                                return "space" == t ? {
                                    Max: 3 * e.space.size,
                                    Value: e.space.size
                                } : e.lsize;
                            }
                        }, {
                            SizeSlider: "index_mem",
                            Title: g("Index Memory"),
                            Max: 2147483648,
                            Round: function(e) {
                                var t = e < 1073741824 ? 268435456 : 1073741824;
                                return Math.round(e / t) * t;
                            },
                            Value: 268435456,
                            AllowInfinite: !0
                        }, {
                            CheckBox: "compression",
                            Title: g("Compression"),
                            Value: !0,
                            RowTitle: g("Options")
                        }, {
                            CheckBox: "deduplication",
                            Title: g("Deduplication"),
                            Value: !0
                        }, {
                            CheckBox: "asynchronous",
                            Title: g("Transfer data asynchronously"),
                            Value: !1
                        }, {
                            CheckBox: "emulate_512",
                            Title: g("Use 512 Byte emulation"),
                            Value: !1
                        } ],
                        Action: {
                            Title: g("Create"),
                            action: function(e) {
                                return (0, p.prepare_available_spaces)(a, [ e.space ]).then(function(t) {
                                    var n = a.blocks[t];
                                    return c.default.spawn([ "wipefs", "-a", (0, p.decode_filename)(n.PreferredDevice) ], {
                                        superuser: !0,
                                        err: "message"
                                    }).then(function() {
                                        return a.vdo_overlay.create({
                                            name: e.name,
                                            block: n,
                                            logical_size: e.lsize,
                                            index_mem: e.index_mem,
                                            compression: e.compression,
                                            deduplication: e.deduplication,
                                            asynchronous: e.asynchronous,
                                            emulate_512: e.emulate_512
                                        });
                                    });
                                });
                            }
                        }
                    });
                }
                function t(e, t) {
                    return e.name.localeCompare(t.Name);
                }
                function n(e) {
                    var t = a.slashdevs_block[e.dev];
                    return d.default.createElement(f.OverviewSidePanelRow, {
                        client: a,
                        kind: "array",
                        name: e.name,
                        detail: (0, p.fmt_size)(e.logical_size),
                        go: function() {
                            return c.default.location.go([ "vdo", e.name ]);
                        },
                        job_path: t && t.path
                    });
                }
                var a = this.props.client, o = a.vdo_overlay.volumes.sort(t).map(n), r = d.default.createElement(m.StorageButton, {
                    kind: "primary",
                    onClick: e,
                    id: "create-vdo"
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                }));
                return d.default.createElement(f.OverviewSidePanel, {
                    id: "vdos",
                    title: g("VDO Devices"),
                    empty_text: g("No storage set up as VDO"),
                    actions: r
                }, o);
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.IscsiPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(17);
    n(9);
    var p = n(25), m = n(32), h = a(m), v = c.default.gettext;
    t.IscsiPanel = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.state = {
                armed: !1
            }, e;
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e() {
                    h.default.open({
                        Title: v("Add iSCSI Portal"),
                        Fields: [ {
                            TextInput: "address",
                            Title: v("Server Address"),
                            validate: function(e) {
                                if ("" === e) return v("Server address cannot be empty.");
                            }
                        }, {
                            TextInput: "username",
                            Title: v("Username")
                        }, {
                            PassInput: "password",
                            Title: v("Password")
                        } ],
                        Action: {
                            Title: v("Next"),
                            action: function(e) {
                                var t = c.default.defer(), a = {};
                                (e.username || e.password) && (a.username = {
                                    t: "s",
                                    v: e.username
                                }, a.password = {
                                    t: "s",
                                    v: e.password
                                });
                                var o = !1;
                                u.manager_iscsi.call("DiscoverSendTargets", [ e.address, 0, a ]).done(function(a) {
                                    o || (t.resolve(), n(e, a[0]));
                                }).fail(function(e) {
                                    o || t.reject(e);
                                });
                                var r = t.promise();
                                return r.cancel = function() {
                                    o = !0, t.reject();
                                }, r;
                            },
                            failure_filter: function(e, t) {
                                return t ? t.message.indexOf("initiator failed authorization") != -1 ? [ {
                                    field: "username",
                                    message: null
                                }, {
                                    field: "password",
                                    message: v("Invalid username or password")
                                } ] : t.message.indexOf("cannot resolve host name") != -1 ? {
                                    field: "address",
                                    message: v("Unknown host name")
                                } : t.message.indexOf("connection login retries") != -1 ? {
                                    field: "address",
                                    message: v("Unable to reach server")
                                } : t : t;
                            }
                        }
                    });
                }
                function t(e, t) {
                    var n = {
                        "node.startup": {
                            t: "s",
                            v: "automatic"
                        }
                    };
                    return (t.username || t.password) && (n.username = {
                        t: "s",
                        v: t.username
                    }, n.password = {
                        t: "s",
                        v: t.password
                    }), u.manager_iscsi.call("Login", [ e[0], e[1], e[2], e[3], e[4], n ]);
                }
                function n(e, n) {
                    var o = n.map(function(e) {
                        return {
                            Columns: [ e[0], e[2], e[3] ],
                            value: e
                        };
                    });
                    h.default.open({
                        Title: c.default.format(v("Available targets on $0"), e.address),
                        Fields: [ {
                            SelectRow: "target",
                            Title: v("Targets"),
                            Headers: [ v("Name"), v("Address"), v("Port") ],
                            Rows: o
                        } ],
                        Action: {
                            Title: v("Add"),
                            action: function(n) {
                                return t(n.target, e);
                            },
                            failure_filter: function(t, n) {
                                return n.message.indexOf("authorization") == -1 ? n : void a(e, t);
                            }
                        }
                    });
                }
                function a(e, n) {
                    h.default.open({
                        Title: v("Authentication required"),
                        Fields: [ {
                            TextInput: "username",
                            Title: v("Username"),
                            Value: e.username
                        }, {
                            PassInput: "password",
                            Title: v("Password"),
                            Value: e.password
                        } ],
                        Action: {
                            Title: v("Add"),
                            action: function(e) {
                                return t(n.target, e);
                            },
                            failure_filter: function(e, t) {
                                return t.message.indexOf("authorization") != -1 ? [ {
                                    field: "username",
                                    message: null
                                }, {
                                    field: "password",
                                    message: v("Invalid username or password")
                                } ] : t;
                            }
                        }
                    });
                }
                function o() {
                    u.manager_iscsi.call("GetInitiatorName").done(function(e) {
                        var t = e[0];
                        h.default.open({
                            Title: v("Change iSCSI Initiator Name"),
                            Fields: [ {
                                TextInput: "name",
                                Title: v("Name"),
                                Value: t
                            } ],
                            Action: {
                                Title: v("Change"),
                                action: function(e) {
                                    return u.manager_iscsi.call("SetInitiatorName", [ e.name, {} ]);
                                }
                            }
                        });
                    });
                }
                function r(e, t) {
                    var n = u.iscsi_sessions[e], a = u.iscsi_sessions[t], o = n.data.target_name || "", r = a.data.target_name || "";
                    return o.localeCompare(r);
                }
                function i(e) {
                    function t() {
                        return s.setState({
                            armed: !1
                        }), n.Logout({
                            "node.startup": {
                                t: "s",
                                v: "manual"
                            }
                        });
                    }
                    var n = u.iscsi_sessions[e], a = null;
                    return s.state.armed && (a = d.default.createElement(p.StorageButton, {
                        kind: "danger",
                        onClick: t
                    }, d.default.createElement("span", {
                        className: "pficon pficon-delete"
                    }))), d.default.createElement(f.OverviewSidePanelRow, {
                        client: u,
                        kind: "array",
                        name: n.data.target_name || "",
                        detail: n.data.persistent_address + ":" + n.data.persistent_port,
                        actions: a
                    });
                }
                var l = this, s = this, u = this.props.client, m = function(e) {
                    e && 0 === e.button && l.setState({
                        armed: !l.state.armed
                    });
                }, g = Object.keys(u.iscsi_sessions).sort(r).map(i), b = [ g.length > 0 ? d.default.createElement("button", {
                    className: "btn btn-default fa fa-check" + (this.state.armed ? " active" : ""),
                    onClick: m
                }) : null, "\n", d.default.createElement(p.StorageButton, {
                    onClick: o,
                    id: "edit-iscsi"
                }, d.default.createElement("span", {
                    className: "pficon pficon-edit"
                })), "\n", d.default.createElement(p.StorageButton, {
                    kind: "primary",
                    onClick: e,
                    id: "add-iscsi-portal"
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                })) ];
                return d.default.createElement(f.OverviewSidePanel, {
                    id: "iscsi-sessions",
                    title: v("iSCSI Targets"),
                    empty_text: v("No iSCSI targets set up"),
                    hover: !1,
                    actions: b
                }, g);
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.DrivesPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(17), p = n(9), m = c.default.gettext, h = c.default.gettext;
    t.DrivesPanel = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.on_io_samples = function() {
                e.setState({});
            }, e;
        }
        return i(t, e), l(t, [ {
            key: "componentDidMount",
            value: function() {
                this.props.client.blockdev_io.addEventListener("changed", this.on_io_samples);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.props.client.blockdev_io.removeEventListener("changed", this.on_io_samples);
            }
        }, {
            key: "render",
            value: function() {
                function e(e, t) {
                    return o.drives[e].SortKey.localeCompare(o.drives[t].SortKey);
                }
                function t(e) {
                    if (e.MediaRemovable || e.Media) {
                        for (var t = 0; t < e.MediaCompatibility.length; t++) if (0 === e.MediaCompatibility[t].indexOf("optical")) return "optical";
                        return "removable";
                    }
                    return 0 === e.RotationRate ? "ssd" : "hdd";
                }
                function n(e) {
                    var n = o.drives[e], r = o.drives_block[e];
                    if (r || (r = o.drives_multipath_blocks[e][0]), !r) return null;
                    var i, l = (0, p.decode_filename)(r.Device).replace(/^\/dev\//, ""), s = o.blockdev_io.data[l], u = (0, 
                    p.drive_name)(n), m = t(n), v = (0, p.fmt_size)(n.Size);
                    return i = "hdd" == m ? v + " " + h("storage", "Hard Disk") : "ssd" == m ? v + " " + h("storage", "Solid-State Disk") : "removable" == m ? 0 === n.Size ? h("storage", "Removable Drive") : v + " " + h("storage", "Removable Drive") : "optical" == m ? h("storage", "Optical Drive") : 0 === n.Size ? h("storage", "Drive") : v + " " + h("storage", "Drive"), 
                    d.default.createElement(f.OverviewSidePanelRow, {
                        client: o,
                        name: u,
                        detail: i,
                        stats: s,
                        highlight: l == a.highlight,
                        go: function() {
                            return c.default.location.go([ l ]);
                        },
                        job_path: e
                    });
                }
                var a = this.props, o = a.client, r = Object.keys(o.drives).sort(e).map(n);
                return d.default.createElement(f.OverviewSidePanel, {
                    id: "drives",
                    title: m("Drives"),
                    empty_text: m("No drives attached")
                }, r);
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.OthersPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(17), p = n(9), m = c.default.gettext;
    t.OthersPanel = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    var t = n.blocks[e], a = n.blocks_part[e], o = n.blocks_lvm2[e];
                    return !(a && "/" != a.Table || "/" != t.Drive || "/" != t.CryptoBackingDevice || "/" != t.MDRaid || o && "/" != o.LogicalVolume || t.HintIgnore || !(t.Size > 0) || n.vdo_overlay.find_by_block(t));
                }
                function t(e) {
                    var t = n.blocks[e], a = (0, p.block_name)(t), o = a.replace(/^\/dev\//, "");
                    return d.default.createElement(f.OverviewSidePanelRow, {
                        client: n,
                        kind: !1,
                        testkey: o,
                        name: a,
                        detail: c.default.format(m("$0 Block Device"), (0, p.fmt_size)(t.Size)),
                        go: function() {
                            return c.default.location.go([ o ]);
                        },
                        job_path: e
                    });
                }
                var n = this.props.client, a = Object.keys(n.blocks).filter(e).sort((0, p.make_block_path_cmp)(n)).map(t);
                return a.length > 0 ? d.default.createElement(f.OverviewSidePanel, {
                    id: "others",
                    title: m("Other Devices")
                }, a) : null;
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function l(e, t) {
        var n = v[t.Operation];
        n || (n = h("Operation '$operation' on $target"));
        var a = t.Objects.map(function(t) {
            return e.blocks[t] ? (0, m.block_name)(e.blocks[t]) : e.mdraids[t] ? (0, m.mdraid_name)(e.mdraids[t]) : e.vgroups[t] ? e.vgroups[t].Name : e.lvols[t] ? (0, 
            m.lvol_name)(e.lvols[t]) : h("unknown target");
        }).join(", ");
        return u.default.format(n, {
            operation: t.Operation,
            target: a
        });
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.JobsPanel = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), c = n(7), u = a(c), d = n(18), f = a(d), p = n(25), m = n(9), h = u.default.gettext, v = {
        "ata-smart-selftest": h("SMART self-test of $target"),
        "drive-eject": h("Ejecting $target"),
        "encrypted-unlock": h("Unlocking $target"),
        "encrypted-lock": h("Locking $target"),
        "encrypted-modify": h("Modifying $target"),
        "swapspace-start": h("Starting swapspace $target"),
        "swapspace-stop": h("Stopping swapspace $target"),
        "filesystem-mount": h("Mounting $target"),
        "filesystem-unmount": h("Unmounting $target"),
        "filesystem-modify": h("Modifying $target"),
        "format-erase": h("Erasing $target"),
        "format-mkfs": h("Creating filesystem on $target"),
        "loop-setup": h("Setting up loop device $target"),
        "partition-modify": h("Modifying $target"),
        "partition-delete": h("Deleting $target"),
        "partition-create": h("Creating partition $target"),
        cleanup: h("Cleaning up for $target"),
        "ata-secure-erase": h("Securely erasing $target"),
        "ata-enhanced-secure-erase": h("Very securely erasing $target"),
        "md-raid-stop": h("Stopping RAID Device $target"),
        "md-raid-start": h("Starting RAID Device $target"),
        "md-raid-fault-device": h("Marking $target as faulty"),
        "md-raid-remove-device": h("Removing $target from RAID Device"),
        "md-raid-create": h("Creating RAID Device $target"),
        "mdraid-check-job": h("Checking RAID Device $target"),
        "mdraid-repair-job": h("Checking and Repairing RAID Device $target"),
        "mdraid-recover-job": h("Recovering RAID Device $target"),
        "mdraid-sync-job": h("Synchronizing RAID Device $target"),
        "lvm-lvol-delete": h("Deleting $target"),
        "lvm-lvol-activate": h("Activating $target"),
        "lvm-lvol-deactivate": h("Deactivating $target"),
        "lvm-lvol-snapshot": h("Creating snapshot of $target"),
        "lvm-vg-create": h("Creating volume group $target"),
        "lvm-vg-delete": h("Deleting volume group $target"),
        "lvm-vg-add-device": h("Adding physical volume to $target"),
        "lvm-vg-rem-device": h("Removing physical volume from $target"),
        "lvm-vg-empty-device": h("Emptying $target"),
        "lvm-vg-create-volume": h("Creating logical volume $target"),
        "lvm-vg-rename": h("Renaming $target"),
        "lvm-vg-resize": h("Resizing $target")
    }, g = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e() {
                    return t.Cancel({});
                }
                var t = this.props.job, n = null;
                if (t.ExpectedEndTime > 0) {
                    var a = t.ExpectedEndTime / 1e3 - this.props.now;
                    a > 0 && (n = (0, m.format_delay)(a));
                }
                return f.default.createElement("tr", null, f.default.createElement("td", {
                    className: "job-description"
                }, l(this.props.client, t)), f.default.createElement("td", null, t.ProgressValid && (100 * t.Progress).toFixed() + "%"), f.default.createElement("td", null, n), f.default.createElement("td", {
                    className: "job-action"
                }, t.Cancelable ? f.default.createElement(p.StorageButton, {
                    onClick: e
                }, h("Cancel")) : null));
            }
        } ]), t;
    }(f.default.Component);
    t.JobsPanel = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e(e, t) {
                    return a.jobs[e].StartTime - a.jobs[t].StartTime;
                }
                function t(e) {
                    var t = a.jobs[e], n = o - t.StartTime / 1e3;
                    return n >= 2e3 || t.ExpectedEndTime > 0 && t.ExpectedEndTime / 1e3 - o >= 2e3;
                }
                var n = this, a = this.props.client, o = new Date().getTime() + a.time_offset, r = [], i = !1;
                for (var l in a.jobs) t(l) ? r.push(l) : i || (window.setTimeout(function() {
                    n.setState({});
                }, 1e3), i = !0);
                return 0 === r.length ? null : (r = r.sort(e), f.default.createElement("div", {
                    className: "detail-jobs panel panel-default"
                }, f.default.createElement("div", {
                    className: "panel-heading"
                }, h("Jobs")), f.default.createElement("table", {
                    className: "table"
                }, f.default.createElement("tbody", null, r.map(function(e) {
                    return f.default.createElement(g, {
                        client: a,
                        job: a.jobs[e],
                        now: o
                    });
                })))));
            }
        } ]), t;
    }(f.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.StorageLogsPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(44), p = c.default.gettext;
    t.StorageLogsPanel = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                var e = [ "_SYSTEMD_UNIT=storaged.service", "+", "_SYSTEMD_UNIT=udisks2.service", "+", "_SYSTEMD_UNIT=dm-event.service", "+", "_SYSTEMD_UNIT=smartd.service", "+", "_SYSTEMD_UNIT=multipathd.service" ];
                return d.default.createElement(f.LogsPanel, {
                    title: p("Storage Logs"),
                    match: e,
                    max: 10
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function r(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.LogsPanel = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(45), p = c.default.gettext, m = function() {
        function e() {
            i(this, e), this.logs = [];
        }
        return l(e, [ {
            key: "render_line",
            value: function(e, t, n, a, o, r) {
                var i = !1, l = !1;
                return "abrt-notification" === e ? (i = !0, e = r.PROBLEM_BINARY) : t < 4 && (l = !0), 
                d.default.createElement("div", {
                    className: "cockpit-logline"
                }, d.default.createElement("div", {
                    className: "cockpit-log-warning"
                }, l ? d.default.createElement("i", {
                    className: "fa fa-exclamation-triangle"
                }) : null, i ? d.default.createElement("i", {
                    className: "fa fa-times-circle-o"
                }) : null), d.default.createElement("div", {
                    className: "cockpit-log-time"
                }, o), d.default.createElement("span", {
                    className: "cockpit-log-message"
                }, n), a > 1 ? d.default.createElement("div", {
                    className: "cockpit-log-service-container"
                }, d.default.createElement("div", {
                    className: "cockpit-log-service-reduced"
                }, e), d.default.createElement("span", {
                    className: "badge"
                }, a, " ", d.default.createElement("i", {
                    className: "fa fa-caret-right"
                }))) : d.default.createElement("div", {
                    className: "cockpit-log-service"
                }, e));
            }
        }, {
            key: "render_day_header",
            value: function(e) {
                return d.default.createElement("div", {
                    className: "panel-heading"
                }, e);
            }
        }, {
            key: "render_reboot_separator",
            value: function() {
                return d.default.createElement("div", {
                    className: "cockpit-logline"
                }, d.default.createElement("div", {
                    className: "cockpit-log-warning"
                }), d.default.createElement("span", {
                    className: "cockpit-log-message cockpit-logmsg-reboot"
                }, p("Reboot")));
            }
        }, {
            key: "prepend",
            value: function(e) {
                this.logs.unshift(e);
            }
        }, {
            key: "remove_first",
            value: function() {
                this.logs.shift();
            }
        }, {
            key: "limit",
            value: function(e) {
                this.logs.length > e && (this.logs = this.logs.slice(-e));
            }
        } ]), e;
    }();
    t.LogsPanel = function(e) {
        function t() {
            i(this, t);
            var e = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.state = {
                logs: []
            }, e;
        }
        return r(t, e), l(t, [ {
            key: "componentDidMount",
            value: function() {
                var e = this;
                this.journalctl = (0, f.journalctl)(this.props.match, {
                    count: this.props.max
                });
                var t = new m(), n = (0, f.renderer)(t);
                this.journalctl.stream(function(a) {
                    for (var o = 0; o < a.length; o++) n.prepend(a[o]);
                    n.prepend_flush(), t.limit(e.props.max), e.setState({
                        logs: t.logs
                    });
                });
            }
        }, {
            key: "componentDillUnmount",
            value: function() {
                this.journalctl.stop();
            }
        }, {
            key: "render",
            value: function() {
                return d.default.createElement("div", {
                    className: "panel panel-default cockpit-log-panel"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, this.props.title), d.default.createElement("div", {
                    className: "panel-body"
                }, this.state.logs));
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e) {
            function t(e, t, n, a, r, l) {
                var s = {
                    cursor: l.__CURSOR,
                    time: r,
                    message: n,
                    service: e
                };
                return a > 1 && (s.count = a), "abrt-notification" === e ? (s.problem = !0, s.service = l.PROBLEM_BINARY) : t < 4 && (s.warning = !0), 
                o.render(i, s);
            }
            function n() {
                return d;
            }
            function a(e) {
                return o.render(r, {
                    day: e
                });
            }
            function c(e) {
                var t = document.createElement("div");
                return t.innerHTML = e.trim(), t.children[0];
            }
            e.jquery && (e = e[0]), o.parse(r), o.parse(i), o.parse(l);
            var u = s("Reboot"), d = o.render(l, {
                message: u
            });
            return {
                render_line: t,
                render_day_header: a,
                render_reboot_separator: n,
                append: function(t) {
                    "string" == typeof t && (t = c(t)), e.appendChild(t);
                },
                prepend: function(t) {
                    "string" == typeof t && (t = c(t)), e.firstChild ? e.insertBefore(t, e.firstChild) : e.appendChild(t);
                },
                remove_last: function() {
                    e.lastChild && e.removeChild(e.lastChild);
                },
                remove_first: function() {
                    e.firstChild && e.removeChild(e.firstChild);
                }
            };
        }
        var a = n(7), o = n(10), r = n(46), i = n(47), l = n(48), s = a.gettext, c = a.gettext, u = {};
        u.journalctl = function() {
            function e() {
                var e, t;
                if (d.length && u.length > 0) for (e = u, u = [], t = 0; t < d.length; t++) d[t].apply(l, [ e ]); else window.clearInterval(f), 
                f = null;
            }
            var t, n, o = [], r = {
                follow: !0
            };
            for (t = 0; t < arguments.length; t++) if (n = arguments[t], "string" == typeof n) o.push(n); else if ("object" == typeof n) {
                if (!(n instanceof Array)) {
                    a.extend(r, n);
                    break;
                }
                o.push.apply(o, n);
            } else console.warn("journal.journalctl called with invalid argument:", n);
            void 0 === r.count && (r.follow ? r.count = 10 : r.count = null);
            var i = [ "journalctl", "-q", "--output=json" ];
            r.count ? i.push("--lines=" + r.count) : i.push("--no-tail"), r.directory && i.push("--directory=" + r.directory), 
            r.boot ? i.push("--boot=" + r.boot) : void 0 !== r.boot && i.push("--boot"), r.since && i.push("--since=" + r.since), 
            r.until && i.push("--until=" + r.until), r.cursor && i.push("--cursor=" + r.cursor), 
            r.after && i.push("--after=" + r.after), r.reverse ? i.push("--reverse") : r.follow && i.push("--follow"), 
            i.push("--"), i.push.apply(i, o);
            var l, s = new a.defer(), c = "", u = [], d = [], f = null, p = a.spawn(i, {
                host: r.host,
                batch: 8192,
                latency: 300,
                superuser: "try"
            }).stream(function(t) {
                c && (t = c + t), c = "";
                var n = t.split("\n"), a = n.length - 1;
                n.forEach(function(e, t) {
                    if (t == a) c = e; else if (e && 0 !== e.indexOf("-- ")) try {
                        u.push(JSON.parse(e));
                    } catch (t) {
                        console.warn(t, e);
                    }
                }), d.length && null === f && (f = window.setInterval(e, 300));
            }).done(function() {
                e(), s.resolve(u);
            }).fail(function(t) {
                "cancelled" == t.problem || 1 === t.exit_status ? (e(), s.resolve(u)) : s.reject(t);
            }).always(function() {
                window.clearInterval(f);
            });
            return l = s.promise(), l.stream = function(e) {
                return d.push(e), this;
            }, l.stop = function() {
                p.close("cancelled");
            }, l;
        }, u.printable = function(e) {
            return void 0 === e || null === e ? s("[no data]") : "string" == typeof e ? e : void 0 !== e.length ? a.format(s("[$0 bytes of binary data]"), e.length) : s("[binary data]");
        };
        var d = [ c("month-name", "January"), c("month-name", "February"), c("month-name", "March"), c("month-name", "April"), c("month-name", "May"), c("month-name", "June"), c("month-name", "July"), c("month-name", "August"), c("month-name", "September"), c("month-name", "October"), c("month-name", "November"), c("month-name", "December") ];
        u.renderer = function(e) {
            function n(e) {
                var t = {};
                for (var n in e) t[n] = e[n];
                return t;
            }
            function a(e) {
                function t(e) {
                    var t = e.toFixed();
                    return 1 == t.length && (t = "0" + t), t;
                }
                var n = new Date(e.__REALTIME_TIMESTAMP / 1e3);
                return {
                    cursor: e.__CURSOR,
                    full: e,
                    day: d[n.getMonth()] + " " + n.getDate().toFixed() + ", " + n.getFullYear().toFixed(),
                    time: t(n.getHours()) + ":" + t(n.getMinutes()),
                    bootid: e._BOOT_ID,
                    ident: e.SYSLOG_IDENTIFIER || e._COMM,
                    prio: e.PRIORITY,
                    message: u.printable(e.MESSAGE)
                };
            }
            function o(e, t) {
                return e && t && e.day == t.day && e.bootid == t.bootid && e.ident == t.ident && e.prio == t.prio && e.message == t.message;
            }
            function r(e) {
                return h.render_line(e.entry.ident, e.entry.prio, e.entry.message, e.count, e.last_time, e.entry.full);
            }
            function i() {
                v === g && v.entry && (v = n(g));
            }
            function l() {
                v.header_present && (h.remove_first(), v.header_present = !1), v.line_present && (h.remove_first(), 
                v.line_present = !1), v.entry && (h.prepend(r(v)), v.line_present = !0);
            }
            function s(e) {
                var t = a(e);
                o(v.entry, t) ? (v.count += 1, v.first_time = t.time) : (l(), v.entry && (t.bootid != v.entry.bootid && h.prepend(h.render_reboot_separator()), 
                t.day != v.entry.day && h.prepend(h.render_day_header(v.entry.day))), i(), v.entry = t, 
                v.count = 1, v.first_time = v.last_time = t.time, v.line_present = !1);
            }
            function c() {
                l(), v.entry && (h.prepend(h.render_day_header(v.entry.day)), v.header_present = !0);
            }
            function f() {
                g.line_present && (h.remove_last(), g.line_present = !1), g.entry && (h.append(r(g)), 
                g.line_present = !0);
            }
            function p(e) {
                var t = a(e);
                o(g.entry, t) ? (g.count += 1, g.last_time = t.time) : (f(), g.entry && t.day == g.entry.day || (h.append(h.render_day_header(t.day)), 
                g.header_present = !0), g.entry && t.bootid != g.entry.bootid && h.append(h.render_reboot_separator()), 
                i(), g.entry = t, g.count = 1, g.first_time = g.last_time = t.time, g.line_present = !1);
            }
            function m() {
                f();
            }
            var h;
            h = e.render_line ? e : t(e);
            var v, g;
            return v = g = {}, {
                prepend: s,
                prepend_flush: c,
                append: p,
                append_flush: m
            };
        }, u.logbox = function(e, t) {
            function n() {
                for (var e = u.renderer(o); o.firstChild; ) o.removeChild(o.firstChild);
                for (var t = 0; t < a.length; t++) e.prepend(a[t]);
                e.prepend_flush(), a.length > 0 ? o.removeAttribute("hidden") : o.setAttribute("hidden", "hidden");
            }
            var a = [], o = document.createElement("div");
            n();
            var r = u.journalctl(e, {
                count: t
            }).stream(function(e) {
                a = a.concat(e), a.length > t && (a = a.slice(-t)), n();
            }).fail(function(e) {
                o.appendChild(document.createTextNode(e.message)), o.removeAttribute("hidden");
            });
            return r.promise(o);
        }, e.exports = u;
    }();
}, function(e, t) {
    e.exports = '<div class="panel-heading">{{day}}</div>\n';
}, function(e, t) {
    e.exports = '<div class="cockpit-logline" data-cursor="{{cursor}}">\n  <div class="cockpit-log-warning">{{#warning}}\n    <i class="fa fa-exclamation-triangle"></i>\n  {{/warning}}{{#problem}}\n    <i class="fa fa-times-circle-o"></i>\n  {{/problem}}\n  </div>\n  <div class="cockpit-log-time">{{time}}</div>\n  <span class="cockpit-log-message">{{message}}</span>\n  {{! if we have count (repeated messages), show service name and badge - otherwise just the service }}\n  {{#count}}\n  <div class="cockpit-log-service-container">\n    <div class="cockpit-log-service-reduced">{{service}}</div>\n    <span class="badge">{{count}}&#160;<i class="fa fa-caret-right"></i></span>\n  </div>\n  {{/count}}{{^count}}\n  <div class="cockpit-log-service">{{service}}</div>\n  {{/count}}\n</div>\n';
}, function(e, t) {
    e.exports = '<div class="cockpit-logline">\n  {{! placeholders for correct message alignment }}\n  <div class="cockpit-log-warning"></div>\n  <span class="cockpit-log-message cockpit-logmsg-reboot">{{message}}</span>\n</div>\n';
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function l(e) {
        function t(t, n) {
            f.default.render(f.default.createElement(x, {
                client: e,
                type: t,
                name: n
            }), a), a.style.display = "block";
        }
        function n() {
            a.style.display = "none", f.default.unmountComponentAtNode(a);
        }
        var a = document.getElementById("storage-detail");
        return {
            show: t,
            hide: n
        };
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.StdDetailsLayout = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }();
    t.init = l;
    var c = n(7), u = a(c), d = n(18), f = a(d), p = n(9), m = a(p), h = n(50), v = n(61), g = n(62), b = n(63), y = n(64), _ = n(42), k = u.default.gettext, x = (t.StdDetailsLayout = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), s(t, [ {
            key: "render",
            value: function() {
                return this.props.sidebar ? f.default.createElement("div", null, f.default.createElement("div", {
                    id: "detail-header",
                    className: "col-md-12"
                }, this.props.alert, this.props.header), f.default.createElement("div", {
                    id: "detail-sidebar",
                    className: "col-md-4 col-lg-3 col-md-push-8 col-lg-push-9"
                }, this.props.sidebar), f.default.createElement("div", {
                    className: "col-md-8 col-lg-9 col-md-pull-4 col-lg-pull-3"
                }, f.default.createElement("div", {
                    id: "detail-content"
                }, this.props.content), f.default.createElement(_.JobsPanel, {
                    client: this.props.client
                }))) : f.default.createElement("div", null, f.default.createElement("div", {
                    id: "detail-header",
                    className: "col-md-12"
                }, this.props.alert, this.props.header), f.default.createElement("div", {
                    className: "col-md-12"
                }, f.default.createElement("div", {
                    id: "detail-content"
                }, this.props.content), f.default.createElement(_.JobsPanel, {
                    client: this.props.client
                })));
            }
        } ]), t;
    }(f.default.Component), function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.on_client_changed = function() {
                e.setState({});
            }, e;
        }
        return i(t, e), s(t, [ {
            key: "componentDidMount",
            value: function() {
                this.props.client.addEventListener("changed", this.on_client_changed);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.props.client.removeEventListener("changed", this.on_client_changed);
            }
        }, {
            key: "render",
            value: function() {
                function e(e) {
                    e && 0 === e.button && u.default.location.go("/");
                }
                var t = this.props.client, n = null, a = this.props.name;
                if ("block" == this.props.type) {
                    var o = t.slashdevs_block["/dev/" + this.props.name], r = o && t.drives[o.Drive];
                    r ? (a = m.default.drive_name(r), n = f.default.createElement(v.DriveDetails, {
                        client: t,
                        drive: r
                    })) : o && (a = m.default.block_name(o), n = f.default.createElement(h.BlockDetails, {
                        client: t,
                        block: o
                    }));
                } else if ("vgroup" == this.props.type) {
                    var i = t.vgnames_vgroup[this.props.name];
                    i && (a = i.Name, n = f.default.createElement(g.VGroupDetails, {
                        client: t,
                        vgroup: i
                    }));
                } else if ("mdraid" == this.props.type) {
                    var l = t.uuids_mdraid[this.props.name];
                    l && (a = m.default.mdraid_name(l), n = f.default.createElement(b.MDRaidDetails, {
                        client: t,
                        mdraid: l
                    }));
                } else if ("vdo" == this.props.type) {
                    var s = t.vdo_overlay.by_name[this.props.name];
                    s && (a = s.name, n = f.default.createElement(y.VDODetails, {
                        client: t,
                        vdo: s
                    }));
                }
                return n || (n = f.default.createElement("div", {
                    className: "col-md-12"
                }, k("Not found"))), f.default.createElement("div", null, f.default.createElement("div", {
                    className: "col-md-12"
                }, f.default.createElement("ol", {
                    className: "breadcrumb"
                }, f.default.createElement("li", null, f.default.createElement("a", {
                    onClick: e
                }, k("Storage"))), f.default.createElement("li", {
                    className: "active"
                }, a))), n);
            }
        } ]), t;
    }(f.default.Component));
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.BlockDetails = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(9), p = a(f), m = n(49), h = n(51), v = a(h), g = c.default.gettext;
    t.BlockDetails = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                var e = this.props.block, t = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, g("Block")), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, d.default.createElement("tr", null, d.default.createElement("td", null, g("storage", "Capacity")), d.default.createElement("td", null, p.default.fmt_size_long(e.Size))), d.default.createElement("tr", null, d.default.createElement("td", null, g("storage", "Device File")), d.default.createElement("td", null, p.default.block_name(e)))))), n = d.default.createElement(v.default.Block, {
                    client: this.props.client,
                    block: e
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    client: this.props.client,
                    header: t,
                    content: n
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e, t) {
        function n(n) {
            for (var a = e.vgroups_lvols[t.path], o = 0; o < a.length; o++) if (a[o].Name == n) return a[o];
            return null;
        }
        for (var a, o = 0; o < 1e3 && (a = "lvol" + o.toFixed(), n(a)); o++) ;
        return a;
    }
    function o(e, t, n) {
        function o(e, t) {
            return e.indexOf(t, e.length - t.length) !== -1;
        }
        function r(t, n) {
            I.push({
                name: t,
                renderer: n,
                data: {
                    client: e,
                    block: p,
                    lvol: _
                }
            });
        }
        function i() {
            var t = _ && e.vgroups[_.VolumeGroup];
            t && v.open({
                Title: j("Create Thin Volume"),
                Fields: [ {
                    TextInput: "name",
                    Title: j("Name"),
                    Value: a(e, t),
                    validate: g.validate_lvm2_name
                }, {
                    SizeSlider: "size",
                    Title: j("Size"),
                    Value: _.Size,
                    Max: 3 * _.Size,
                    AllowInfinite: !0,
                    Round: t.ExtentSize
                } ],
                Action: {
                    Title: j("Create"),
                    action: function(e) {
                        return t.CreateThinVolume(e.name, e.size, _.path, {});
                    }
                }
            });
        }
        function l(e, t, n) {
            R.push(b.createElement(x, {
                onClick: t,
                excuse: n
            }, e));
        }
        function s() {
            var t = e.blocks_crypto[p.path];
            if (t) return t.Lock({});
        }
        function c() {
            var t = e.blocks_crypto[p.path];
            if (t) return p.GetSecretConfiguration({}).then(function(e) {
                for (var n = 0; n < e.length; n++) if ("crypttab" == e[n][0] && e[n][1]["passphrase-contents"] && g.decode_filename(e[n][1]["passphrase-contents"].v)) return t.Unlock("", {});
                v.open({
                    Title: j("Unlock"),
                    Fields: [ {
                        PassInput: "passphrase",
                        Title: j("Passphrase")
                    } ],
                    Action: {
                        Title: j("Unlock"),
                        action: function(e) {
                            return t.Unlock(e.passphrase, {});
                        }
                    }
                });
            });
        }
        function u() {
            return _.Activate({});
        }
        function d() {
            return _.Deactivate({});
        }
        function f() {
            var n;
            p && (n = e.blocks_part[p.path]);
            var a, o;
            if (_ ? (a = g.lvol_name(_), o = j("Deleting a logical volume will delete all data in it.")) : n && (a = g.block_name(p), 
            o = j("Deleting a partition will delete all data in it.")), a) {
                var r = g.get_active_usage(e, t.path);
                if (r.Blocking) return void v.open({
                    Title: h.format(j("$0 is in active use"), a),
                    Blocking: r.Blocking,
                    Fields: []
                });
                v.open({
                    Title: h.format(j("Please confirm deletion of $0"), a),
                    Teardown: r.Teardown,
                    Fields: [],
                    Action: {
                        Danger: o,
                        Title: j("Delete"),
                        action: function() {
                            return g.teardown_active_usage(e, r).then(function() {
                                return _ ? _.Delete({
                                    "tear-down": {
                                        t: "b",
                                        v: !0
                                    }
                                }) : n ? n.Delete({
                                    "tear-down": {
                                        t: "b",
                                        v: !0
                                    }
                                }) : void 0;
                            });
                        }
                    }
                });
            }
        }
        var p = o(t.iface, ".Block") ? t : null, m = p && e.blocks_lvm2[p.path], y = p && e.blocks_pvol[p.path], _ = o(t.iface, ".LogicalVolume") ? t : m && e.lvols[m.LogicalVolume], k = p && "filesystem" == p.IdUsage, w = p && "crypto" == p.IdUsage, I = [], A = null;
        _ && ("pool" == _.Type ? (r(j("Pool"), C), A = b.createElement(x, {
            onClick: i
        }, j("Create Thin Volume"))) : r(j("Volume"), T)), n && r(j("Partition"), P), k ? r(j("Filesystem"), E) : w ? r(j("Encryption"), S) : p && "raid" == p.IdUsage && "LVM2_member" == p.IdType || y && e.vgroups[y.VolumeGroup] ? r(j("Physical Volume"), O) : p && "raid" == p.IdUsage || p && e.mdraids[p.MDRaidMember] ? r(j("RAID Member"), N) : p && e.vdo_overlay.find_by_backing_block(p) ? r(j("VDO Backing"), M) : p && "other" == p.IdUsage && "swap" == p.IdType ? r(j("Swap"), D) : p && r(j("Unrecognized Data"), z);
        var R = [];
        if (w && (e.blocks_cleartext[p.path] ? l(j("Lock"), s) : l(j("Unlock"), c)), _ && (_.Active ? l(j("Deactivate"), d) : l(j("Activate"), u)), 
        n || _) {
            var F = null;
            e.is_old_udisks2 && w && e.blocks_cleartext[p.path] && (F = j("Can't delete while unlocked")), 
            l(j("Delete"), f, F);
        }
        return {
            renderers: I,
            actions: [ b.createElement("div", null, R) ],
            row_action: A
        };
    }
    function r(e, t) {
        var n, a = e.blocks_pvol[t.path];
        if ("filesystem" == t.IdUsage) n = h.format(I("storage-id-desc", "$0 File System"), t.IdType); else if ("raid" == t.IdUsage) if (a && e.vgroups[a.VolumeGroup]) {
            var o = e.vgroups[a.VolumeGroup];
            n = h.format(j("Physical volume of $0"), o.Name);
        } else if (e.mdraids[t.MDRaidMember]) {
            var r = e.mdraids[t.MDRaidMember];
            n = h.format(j("Member of RAID Device $0"), g.mdraid_name(r));
        } else n = j("LVM2_member" == t.IdType ? "Physical Volume" : "Member of RAID Device"); else n = "crypto" == t.IdUsage ? I("storage-id-desc", "Encrypted data") : "other" == t.IdUsage ? "swap" == t.IdType ? I("storage-id-desc", "Swap Space") : I("storage-id-desc", "Other Data") : e.vdo_overlay.find_by_backing_block(t) ? I("storage-id-desc", "VDO Backing") : I("storage-id-desc", "Unrecognized Data");
        return {
            size: t.Size,
            text: n
        };
    }
    function i(e, t, n, a, o, r, i, l) {
        var s = null;
        l && (s = b.createElement("span", {
            className: "spinner spinner-sm spinner-inline",
            style: {
                visibility: e.path_jobs[l] ? "visible" : "hidden"
            }
        })), i.row_action && (s = s ? b.createElement("span", null, s, i.row_action) : i.row_action);
        var c = [ b.createElement("span", {
            className: "content-level-" + n
        }, g.format_size_and_text(r.size, r.text)), {
            name: o,
            header: !0
        }, {
            name: s,
            tight: !0
        } ];
        t.push(b.createElement(y.ListingRow, {
            key: a,
            columns: c,
            tabRenderers: i.renderers,
            listingActions: i.actions
        }));
    }
    function l(e, t, n, a, l) {
        var s, u, d;
        "crypto" == a.IdUsage && (d = e.blocks_cleartext[a.path]), u = o(e, a, l), s = r(e, a), 
        i(e, t, n, a.path, g.block_name(a), s, u, a.path), d && c(e, t, n + 1, d);
    }
    function s(e, t, n, a) {
        function r(n, o, r) {
            function i() {
                k.format_dialog(e, a.path, o, r, f && n <= d);
            }
            var l = b.createElement(x, {
                onClick: i
            }, j("Create Partition")), s = [ b.createElement("span", {
                className: "content-level-" + n
            }, g.format_size_and_text(r, j("Free Space"))), "", {
                element: l,
                tight: !0
            } ];
            t.push(b.createElement(y.ListingRow, {
                columns: s
            }));
        }
        function s(n, a) {
            var r = {
                size: a.size,
                text: j("Extended Partition")
            }, l = o(e, a.block, !0);
            i(e, t, n, a.block.path, g.block_name(a.block), r, l, a.block.path), c(n + 1, a.partitions);
        }
        function c(n, a) {
            var o, i;
            for (o = 0; o < a.length; o++) i = a[o], "free" == i.type ? r(n, i.start, i.size) : "container" == i.type ? s(n, i) : l(e, t, n, i.block, !0);
        }
        var u = e.blocks_ptable[a.path], d = n, f = "dos" == u.Type;
        c(n, g.get_partitions(e, a));
    }
    function c(e, t, n, a) {
        e.blocks_ptable[a.path] ? s(e, t, n, a) : l(e, t, n, a, null);
    }
    function u(e, t) {
        var n = [];
        return c(e, n, 0, t), n;
    }
    function d(e, t, n) {
        function a() {
            var n = g.get_active_usage(e, t.path);
            return n.Blocking ? void v.open({
                Title: h.format(j("$0 is in active use"), g.block_name(t)),
                Blocking: n.Blocking,
                Fields: []
            }) : void v.open({
                Title: h.format(j("Format Disk $0"), g.block_name(t)),
                Teardown: n.Teardown,
                Fields: [ {
                    SelectOne: "erase",
                    Title: j("Erase"),
                    Options: [ {
                        value: "no",
                        Title: j("Don't overwrite existing data")
                    }, {
                        value: "zero",
                        Title: j("Overwrite existing data with zeros")
                    } ]
                }, {
                    SelectOne: "type",
                    Title: j("Partitioning"),
                    Options: [ {
                        value: "dos",
                        Title: j("Compatible with all systems and devices (MBR)")
                    }, {
                        value: "gpt",
                        Title: j("Compatible with modern system and hard disks > 2TB (GPT)"),
                        selected: !0
                    }, {
                        value: "empty",
                        Title: j("No partitioning")
                    } ]
                } ],
                Action: {
                    Title: j("Format"),
                    Danger: j("Formatting a disk will erase all data on it."),
                    action: function(a) {
                        var o = {
                            "no-block": {
                                t: "b",
                                v: !0
                            },
                            "tear-down": {
                                t: "b",
                                v: !0
                            }
                        };
                        return "no" != a.erase && (o.erase = {
                            t: "s",
                            v: a.erase
                        }), g.teardown_active_usage(e, n).then(function() {
                            return t.Format(a.type, o);
                        });
                    }
                }
            });
        }
        if (!t) return null;
        if (0 === t.Size) return null;
        var o = null;
        return n && (o = b.createElement("div", {
            className: "pull-right"
        }, b.createElement(x, {
            onClick: a,
            excuse: t.ReadOnly ? j("Device is read-only") : null
        }, j("Create partition table")))), b.createElement(y.Listing, {
            title: j("Content"),
            actions: o
        }, u(e, t));
    }
    function f(e, t, n, a, r) {
        var c, u;
        e.blocks_ptable[a.path] ? (u = {
            size: a.Size,
            text: r.Name
        }, c = o(e, a, !1), i(e, t, n, r.Name, g.block_name(a), u, c, a.path), s(e, t, n + 1, a)) : l(e, t, n, a, !1);
    }
    function p(e, t, n, a) {
        var r, l, s;
        "pool" == a.Type ? (l = {
            size: a.Size,
            text: j("Pool for Thin Volumes")
        }, r = o(e, a, !1), i(e, t, n, a.Name, a.Name, l, r, !1), e.lvols_pool_members[a.path].forEach(function(a) {
            p(e, t, n + 1, a);
        })) : (s = e.lvols_block[a.path], s ? f(e, t, n, s, a) : (l = {
            size: a.Size,
            text: j(a.Active ? "Unsupported volume" : "Inactive volume")
        }, r = o(e, a, !1), i(e, t, n, a.Name, a.Name, l, r, !1)));
    }
    function m(e, t) {
        var n = [];
        return (e.vgroups_lvols[t.path] || []).forEach(function(t) {
            "/" == t.ThinPool && p(e, n, 0, t);
        }), n;
    }
    var h = n(7), v = n(32), g = n(9), b = n(18), y = n(52), _ = n(25), k = n(35), x = _.StorageButton, w = _.StorageLink, E = n(54).FilesystemTab, S = n(55).CryptoTab, T = n(56).BlockVolTab, C = n(56).PoolVolTab, O = n(57).PVolTab, N = n(57).MDRaidMemberTab, M = n(57).VDOBackingTab, P = n(58).PartitionTab, D = n(59).SwapTab, z = n(60).UnrecognizedTab, j = h.gettext, I = h.gettext, A = b.createClass({
        displayName: "Block",
        render: function() {
            return d(this.props.client, this.props.block, this.props.allow_partitions !== !1);
        }
    }), R = b.createClass({
        displayName: "VGroup",
        render: function() {
            function e() {
                0 != n.FreeSize && v.open({
                    Title: j("Create Logical Volume"),
                    Fields: [ {
                        TextInput: "name",
                        Title: j("Name"),
                        Value: a(t.props.client, n),
                        validate: g.validate_lvm2_name
                    }, {
                        SelectOne: "purpose",
                        Title: j("Purpose"),
                        Options: [ {
                            value: "block",
                            Title: j("Block device for filesystems"),
                            selected: !0
                        }, {
                            value: "pool",
                            Title: j("Pool for thinly provisioned volumes")
                        } ]
                    }, {
                        SizeSlider: "size",
                        Title: j("Size"),
                        Max: n.FreeSize,
                        Round: n.ExtentSize
                    } ],
                    Action: {
                        Title: j("Create"),
                        action: function(e) {
                            return "block" == e.purpose ? n.CreatePlainVolume(e.name, e.size, {}) : "pool" == e.purpose ? n.CreateThinPoolVolume(e.name, e.size, {}) : void 0;
                        }
                    }
                });
            }
            var t = this, n = this.props.vgroup, o = 0 == n.FreeSize && j("No free space"), r = b.createElement("div", {
                className: "pull-right"
            }, b.createElement(w, {
                onClick: e,
                excuse: o
            }, b.createElement("span", {
                className: "pficon pficon-add-circle-o"
            }), " ", j("Create new Logical Volume")));
            return b.createElement(y.Listing, {
                title: "Logical Volumes",
                actions: r,
                emptyCaption: j("No Logical Volumes")
            }, m(t.props.client, n));
        }
    });
    e.exports = {
        Block: A,
        VGroup: R
    };
}, function(e, t, n) {
    "use strict";
    var a = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && (e[a] = n[a]);
        }
        return e;
    }, o = n(18);
    n(53);
    var r = o.createClass({
        displayName: "ListingRow",
        propTypes: {
            rowId: o.PropTypes.string,
            columns: o.PropTypes.array.isRequired,
            tabRenderers: o.PropTypes.array,
            navigateToItem: o.PropTypes.func,
            listingDetail: o.PropTypes.node,
            listingActions: o.PropTypes.arrayOf(o.PropTypes.node),
            selectChanged: o.PropTypes.func,
            selected: o.PropTypes.bool,
            initiallyExpanded: o.PropTypes.bool,
            initiallyActiveTab: o.PropTypes.bool
        },
        getDefaultProps: function() {
            return {
                tabRenderers: [],
                navigateToItem: null
            };
        },
        getInitialState: function() {
            return {
                expanded: this.props.initiallyExpanded,
                activeTab: this.props.initiallyActiveTab ? this.props.initiallyActiveTab : 0,
                loadedTabs: {},
                selected: this.props.selected
            };
        },
        handleNavigateClick: function(e) {
            e && 0 === e.button && this.props.navigateToItem();
        },
        handleExpandClick: function(e) {
            if (e && 0 === e.button) {
                var t = !this.state.expanded && this.props.tabRenderers.length > 0;
                this.setState({
                    expanded: t
                });
                var n = {};
                if (t) {
                    var a, o;
                    for (a = 0; a < this.props.tabRenderers.length; a++) o = "presence" in this.props.tabRenderers[a] ? this.props.tabRenderers[a].presence : "default", 
                    "always" == o && (n[a] = !0);
                    n[this.state.activeTab] = !0;
                }
                this.setState({
                    loadedTabs: n
                }), e.stopPropagation(), e.preventDefault();
            }
        },
        handleSelectClick: function(e) {
            if (e && 0 === e.button) {
                var t = !this.state.selected;
                this.setState({
                    selected: t
                }), this.props.selectChanged && this.props.selectChanged(t), e.stopPropagation(), 
                e.preventDefault();
            }
        },
        handleTabClick: function(e, t) {
            if (t && 0 === t.button) {
                var n = this.state.activeTab, a = "default", o = this.state.loadedTabs;
                n !== e && ("presence" in this.props.tabRenderers[n] && (a = this.props.tabRenderers[n].presence), 
                "onlyActive" == a && delete o[n], o[e] = !0, this.setState({
                    loadedTabs: o,
                    activeTab: e
                })), t.stopPropagation(), t.preventDefault();
            }
        },
        render: function() {
            var e, t = this, n = !!this.props.navigateToItem && !this.state.expanded, r = this.props.columns.map(function(e) {
                return "string" == typeof e || "number" == typeof e || null === e || void 0 === e || e instanceof String || o.isValidElement(e) ? o.createElement("td", null, e) : "header" in e && e.header ? o.createElement("th", null, e.name) : "tight" in e && e.tight ? o.createElement("td", {
                    className: "listing-ct-actions"
                }, e.name || e.element) : o.createElement("td", null, e.name);
            }), i = this.props.tabRenderers.length > 0;
            e = i ? o.createElement("td", {
                className: "listing-ct-toggle",
                onClick: n ? this.handleExpandClick : void 0
            }, o.createElement("i", {
                className: "fa fa-fw"
            })) : o.createElement("td", {
                className: "listing-ct-toggle"
            });
            var l = [ "listing-ct-item" ];
            n || l.push("listing-ct-nonavigate"), i || l.push("listing-ct-noexpand");
            var s, c = !(n || i) && void 0 !== this.state.selected;
            c ? (s = this.handleSelectClick, this.state.selected && l.push("listing-ct-selected")) : s = n ? this.handleNavigateClick : this.handleExpandClick;
            var u = o.createElement("tr", {
                "data-row-id": this.props.rowId,
                className: l.join(" "),
                onClick: s
            }, e, r);
            if (this.state.expanded) {
                var d, f, p, m, h = this.props.tabRenderers.map(function(e, n) {
                    return o.createElement("li", {
                        key: n,
                        className: n === t.state.activeTab ? "active" : ""
                    }, o.createElement("a", {
                        href: "#",
                        onClick: t.handleTabClick.bind(t, n)
                    }, e.name));
                }), v = [];
                for (d = 0; d < this.props.tabRenderers.length; d++) f = this.props.tabRenderers[d].renderer, 
                p = this.props.tabRenderers[d].data, (d === this.state.activeTab || d in this.state.loadedTabs) && (m = o.createElement(f, a({
                    key: this.props.tabRenderers[d].name,
                    hidden: d !== this.state.activeTab
                }, p)), d === this.state.activeTab ? v.push(o.createElement("div", {
                    className: "listing-ct-body",
                    key: d
                }, m)) : v.push(o.createElement("div", {
                    className: "listing-ct-body",
                    key: d,
                    hidden: !0
                }, m)));
                var g;
                return "listingDetail" in this.props && (g = o.createElement("span", {
                    className: "listing-ct-caption"
                }, this.props.listingDetail)), o.createElement("tbody", {
                    className: "open"
                }, u, o.createElement("tr", {
                    className: "listing-ct-panel"
                }, o.createElement("td", {
                    colSpan: r.length + (e ? 1 : 0)
                }, o.createElement("div", {
                    className: "listing-ct-head"
                }, o.createElement("div", {
                    className: "listing-ct-actions"
                }, g, this.props.listingActions), o.createElement("ul", {
                    className: "nav nav-tabs nav-tabs-pf"
                }, h)), v)));
            }
            return o.createElement("tbody", null, u, o.createElement("tr", {
                className: "listing-ct-panel"
            }));
        }
    }), i = o.createClass({
        displayName: "Listing",
        propTypes: {
            title: o.PropTypes.string.isRequired,
            fullWidth: o.PropTypes.bool,
            emptyCaption: o.PropTypes.string.isRequired,
            columnTitles: o.PropTypes.arrayOf(o.PropTypes.string),
            actions: o.PropTypes.arrayOf(o.PropTypes.node)
        },
        getDefaultProps: function() {
            return {
                fullWidth: !0,
                columnTitles: [],
                actions: []
            };
        },
        render: function() {
            var e = [ "listing", "listing-ct" ];
            this.props.fullWidth && e.push("listing-ct-wide");
            var t, n, a;
            this.props.children && 0 !== this.props.children.length ? this.props.columnTitles.length ? (a = !1, 
            this.props.children.forEach(function(e) {
                void 0 !== e.props.selected && (a = !0);
            }), a && this.props.children.forEach(function(e) {
                void 0 === e.props.selected && (e.props.selected = !1);
            }), n = o.createElement("tr", null, o.createElement("th", {
                className: "listing-ct-toggle"
            }), this.props.columnTitles.map(function(e) {
                return o.createElement("th", null, e);
            }))) : n = o.createElement("tr", null) : (t = "listing-ct-empty", n = o.createElement("tr", null, o.createElement("td", null, this.props.emptyCaption)));
            var r;
            return (this.props.title || this.props.actions && this.props.actions.length > 0) && (r = o.createElement("caption", {
                className: "cockpit-caption"
            }, this.props.title, this.props.actions)), o.createElement("table", {
                className: e.join(" ")
            }, r, o.createElement("thead", {
                className: t
            }, n), this.props.children);
        }
    });
    e.exports = {
        ListingRow: r,
        Listing: i
    };
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    var a = n(7), o = n(32), r = n(9), i = n(6), l = n(18), s = n(25), c = n(35), u = s.StorageButton, d = s.StorageLink, f = c.FormatButton, p = a.gettext, m = l.createClass({
        displayName: "FilesystemTab",
        onSamplesChanged: function() {
            this.setState({});
        },
        componentDidMount: function() {
            i(this.props.client.fsys_sizes).on("changed", this.onSamplesChanged);
        },
        componentWillUnmount: function() {
            i(this.props.client.fsys_sizes).off("changed", this.onSamplesChanged);
        },
        render: function() {
            function e() {
                o.open({
                    Title: p("Filesystem Name"),
                    Fields: [ {
                        TextInput: "name",
                        Title: p("Name"),
                        Value: v.IdLabel
                    } ],
                    Action: {
                        Title: p("Apply"),
                        action: function(e) {
                            return g.SetLabel(e.name, {});
                        }
                    }
                });
            }
            function t(e, t, n) {
                var a = null;
                return e && (a = [ "fstab", {
                    dir: {
                        t: "ay",
                        v: r.encode_filename(t)
                    },
                    type: {
                        t: "ay",
                        v: r.encode_filename("auto")
                    },
                    opts: {
                        t: "ay",
                        v: r.encode_filename(n || "defaults")
                    },
                    freq: {
                        t: "i",
                        v: 0
                    },
                    passno: {
                        t: "i",
                        v: 0
                    },
                    "track-parents": {
                        t: "b",
                        v: !0
                    }
                } ]), !k && a ? v.AddConfigurationItem(a, {}) : k && !a ? v.RemoveConfigurationItem(k, {}) : k && a && (t != x || n != w) ? v.UpdateConfigurationItem(k, a, {}) : void 0;
            }
            function n() {
                o.open({
                    Title: p("Filesystem Mounting"),
                    Fields: c.mounting_dialog_fields(!!k, x, w),
                    Action: {
                        Title: p("Apply"),
                        action: function(e) {
                            return t("custom" == e.mounting, e.mount_point, c.mounting_dialog_options(e));
                        }
                    }
                });
            }
            function i() {
                return g.Mount({});
            }
            function s() {
                return g.Unmount({});
            }
            var m, h = this, v = h.props.block, g = v && h.props.client.blocks_fsys[v.path], b = g && g.MountPoints.length > 0;
            if (b) {
                var y = r.decode_filename(g.MountPoints[0]), _ = h.props.client.fsys_sizes.data[y];
                m = _ ? a.format(p("$0 of $1"), r.fmt_size(_[0]), r.fmt_size(_[1])) : p("Unknown");
            } else m = "-";
            var k, x, w;
            k = r.array_find(v.Configuration, function(e) {
                return "fstab" == e[0];
            }), k && (x = r.decode_filename(k[1].dir.v), w = r.decode_filename(k[1].opts.v).split(",").filter(function(e) {
                return 0 !== e.indexOf("x-parent");
            }).join(","));
            var E = g ? g.MountPoints.map(r.decode_filename) : [];
            return l.createElement("div", null, l.createElement("div", {
                className: "tab-actions"
            }, l.createElement(f, {
                client: this.props.client,
                block: this.props.block
            })), l.createElement("table", {
                className: "info-table-ct"
            }, l.createElement("tr", null, l.createElement("td", null, p("Name")), l.createElement("td", null, l.createElement(d, {
                onClick: e
            }, this.props.block.IdLabel || "-"))), h.props.client.is_old_udisks2 ? null : l.createElement("tr", null, l.createElement("td", null, p("Mount Point")), l.createElement("td", null, l.createElement(d, {
                onClick: n
            }, x || p("(default)")), b ? null : l.createElement(u, {
                onClick: i
            }, p("Mount")))), w ? l.createElement("tr", null, l.createElement("td", null, p("Mount Options")), l.createElement("td", null, l.createElement(d, {
                onClick: n
            }, w))) : null, E.length > 0 || h.props.client.is_old_udisks2 ? l.createElement("tr", null, l.createElement("td", null, p("Mounted At")), l.createElement("td", null, E.join(", "), E.length > 0 ? l.createElement(u, {
                onClick: s
            }, p("Unmount")) : l.createElement(u, {
                onClick: i
            }, p("Mount")))) : null, l.createElement("tr", null, l.createElement("td", null, p("Used")), l.createElement("td", null, m))));
        }
    });
    e.exports = {
        FilesystemTab: m
    };
}, function(e, t, n) {
    "use strict";
    var a = n(7), o = n(32), r = n(9), i = n(6), l = n(18), s = n(25), c = n(35), u = s.StorageButton, d = s.StorageLink, f = c.FormatButton, p = a.gettext, m = l.createClass({
        displayName: "CryptoTab",
        render: function() {
            function e(e) {
                function t() {
                    return a[1]["track-parents"] = {
                        t: "b",
                        v: !0
                    }, n ? h.UpdateConfigurationItem(n, a, {}) : h.AddConfigurationItem(a, {});
                }
                var n, a;
                h.GetSecretConfiguration({}).done(function(o) {
                    n = r.array_find(o, function(e) {
                        return "crypttab" == e[0];
                    }), a = [ "crypttab", n ? i.extend({}, n[1]) : {} ], a[1]["passphrase-contents"] || (a[1]["passphrase-contents"] = {
                        t: "ay",
                        v: r.encode_filename("")
                    }), e(a[1], t);
                });
            }
            function t() {
                e(function(e, t) {
                    o.open({
                        Title: p("Stored Passphrase"),
                        Fields: [ {
                            PassInput: "passphrase",
                            Title: p("Stored Passphrase"),
                            Value: e && e["passphrase-contents"] ? r.decode_filename(e["passphrase-contents"].v) : ""
                        } ],
                        Action: {
                            Title: p("Apply"),
                            action: function(n) {
                                return e["passphrase-contents"] = {
                                    t: "ay",
                                    v: r.encode_filename(n.passphrase)
                                }, delete e["passphrase-path"], t();
                            }
                        }
                    });
                });
            }
            function n() {
                e(function(e, t) {
                    o.open({
                        Title: p("Encryption Options"),
                        Fields: c.crypto_options_dialog_fields(s),
                        Action: {
                            Title: p("Apply"),
                            action: function(n) {
                                return e.options = {
                                    t: "ay",
                                    v: r.encode_filename(c.crypto_options_dialog_options(n))
                                }, t();
                            }
                        }
                    });
                });
            }
            var a, s, m = this, h = m.props.block;
            return a = r.array_find(h.Configuration, function(e) {
                return "crypttab" == e[0];
            }), a && (s = r.decode_filename(a[1].options.v).split(",").filter(function(e) {
                return 0 !== e.indexOf("x-parent");
            }).join(",")), l.createElement("div", null, l.createElement("div", {
                className: "tab-actions"
            }, l.createElement(f, {
                client: this.props.client,
                block: this.props.block
            })), l.createElement("table", {
                className: "info-table-ct"
            }, m.props.client.is_old_udisks2 ? null : l.createElement("tr", null, l.createElement("td", null, p("Stored passphrase")), l.createElement("td", null, l.createElement(u, {
                onClick: t
            }, p("Edit")))), m.props.client.is_old_udisks2 ? null : l.createElement("tr", null, l.createElement("td", null, p("Options")), l.createElement("td", null, l.createElement(d, {
                onClick: n
            }, s || p("(none)"))))));
        }
    });
    e.exports = {
        CryptoTab: m
    };
}, function(e, t, n) {
    "use strict";
    function a(e) {
        i.open({
            Title: p("Rename Logical Volume"),
            Fields: [ {
                TextInput: "name",
                Title: p("Name"),
                Value: e.Name
            } ],
            Action: {
                Title: p("Rename"),
                action: function(t) {
                    return e.Rename(t.name, {});
                }
            }
        });
    }
    function o(e, t) {
        var n = e.lvols_block[t.path], a = e.vgroups[t.VolumeGroup], o = e.lvols[t.ThinPool];
        i.open({
            Title: p("Resize Logical Volume"),
            Fields: [ {
                SizeSlider: "size",
                Title: p("Size"),
                Value: t.Size,
                Max: o ? 3 * o.Size : t.Size + a.FreeSize,
                AllowInfinite: !!o,
                Round: a.ExtentSize
            }, {
                CheckBox: "fsys",
                Title: p("Resize Filesystem"),
                Value: n && "filesystem" == n.IdUsage,
                visible: function() {
                    return "block" == t.Type;
                }
            } ],
            Action: {
                Title: p("Resize"),
                action: function(e) {
                    function a(e) {
                        return s.Deferred().reject({
                            message: e
                        }).promise();
                    }
                    var o = n && "filesystem" == n.IdUsage;
                    if (!o && e.size < t.Size) return a(p("This logical volume cannot be made smaller."));
                    var r = {};
                    return o && (r.resize_fsys = {
                        t: "b",
                        v: o
                    }), t.Resize(e.size, r);
                }
            }
        });
    }
    var r = n(7), i = n(32), l = n(9), s = n(6), c = n(18), u = n(25), d = u.StorageButton, f = u.StorageLink, p = r.gettext, m = c.createClass({
        displayName: "BlockVolTab",
        render: function() {
            function e() {
                i.open({
                    Title: p("Create Snapshot"),
                    Fields: [ {
                        TextInput: "name",
                        Title: p("Name"),
                        validate: l.validate_lvm2_name
                    }, {
                        SizeSlider: "size",
                        Title: p("Size"),
                        Value: .2 * s.Size,
                        Max: s.Size,
                        Round: u.ExtentSize,
                        visible: function() {
                            return "/" == s.ThinPool;
                        }
                    } ],
                    Action: {
                        Title: p("Create"),
                        action: function(e) {
                            return s.CreateSnapshot(e.name, e.size || 0, {});
                        }
                    }
                });
            }
            function t() {
                a(s);
            }
            function n() {
                o(r.props.client, s);
            }
            var r = this, s = r.props.lvol, u = r.props.client.vgroups[s.VolumeGroup];
            return c.createElement("div", null, c.createElement("div", {
                className: "tab-actions"
            }, c.createElement(d, {
                onClick: e
            }, p("Create Snapshot"))), c.createElement("table", {
                className: "info-table-ct"
            }, c.createElement("tr", null, c.createElement("td", null, p("Name")), c.createElement("td", null, c.createElement(f, {
                onClick: t
            }, this.props.lvol.Name))), c.createElement("tr", null, c.createElement("td", null, p("Size")), c.createElement("td", null, c.createElement(f, {
                onClick: n
            }, l.fmt_size(this.props.lvol.Size))))));
        }
    }), h = c.createClass({
        displayName: "PoolVolTab",
        render: function() {
            function e(e) {
                return (100 * e).toFixed(0) + "%";
            }
            function t() {
                a(r.props.lvol);
            }
            function n() {
                o(r.props.client, r.props.lvol);
            }
            var r = this;
            return c.createElement("div", null, c.createElement("table", {
                className: "info-table-ct"
            }, c.createElement("tr", null, c.createElement("td", null, p("Name")), c.createElement("td", null, c.createElement(f, {
                onClick: t
            }, this.props.lvol.Name))), c.createElement("tr", null, c.createElement("td", null, p("Size")), c.createElement("td", null, c.createElement(f, {
                onClick: n
            }, l.fmt_size(this.props.lvol.Size)))), c.createElement("tr", null, c.createElement("td", null, p("Data Used")), c.createElement("td", null, e(this.props.lvol.DataAllocatedRatio))), c.createElement("tr", null, c.createElement("td", null, p("Metadata Used")), c.createElement("td", null, e(this.props.lvol.MetadataAllocatedRatio)))));
        }
    });
    e.exports = {
        BlockVolTab: m,
        PoolVolTab: h
    };
}, function(e, t, n) {
    "use strict";
    var a = n(7), o = n(9), r = n(18), i = n(35), l = i.FormatButton, s = a.gettext, c = r.createClass({
        displayName: "PVolTab",
        render: function() {
            var e = this.props.client.blocks_pvol[this.props.block.path], t = e && this.props.client.vgroups[e.VolumeGroup];
            return r.createElement("div", null, r.createElement("div", {
                className: "tab-actions"
            }, r.createElement(l, {
                client: this.props.client,
                block: this.props.block
            })), r.createElement("table", {
                className: "info-table-ct"
            }, r.createElement("tr", null, r.createElement("td", null, s("Volume Group")), r.createElement("td", null, t ? r.createElement("a", {
                onClick: function() {
                    return a.location.go([ "vg", t.Name ]);
                }
            }, t.Name) : "-")), r.createElement("tr", null, r.createElement("td", null, s("Free")), r.createElement("td", null, e ? o.fmt_size(e.FreeSize) : "-"))));
        }
    }), u = r.createClass({
        displayName: "MDRaidMemberTab",
        render: function() {
            var e = this.props.client.mdraids[this.props.block.MDRaidMember];
            return r.createElement("div", null, r.createElement("div", {
                className: "tab-actions"
            }, r.createElement(l, {
                client: this.props.client,
                block: this.props.block
            })), r.createElement("table", {
                className: "info-table-ct"
            }, r.createElement("tr", null, r.createElement("td", null, s("RAID Device")), r.createElement("td", null, e ? r.createElement("a", {
                onClick: function() {
                    return a.location.go([ "mdraid", e.UUID ]);
                }
            }, o.mdraid_name(e)) : "-"))));
        }
    }), d = r.createClass({
        displayName: "VDOBackingTab",
        render: function() {
            var e = this.props.client.vdo_overlay.find_by_backing_block(this.props.block);
            return r.createElement("div", null, r.createElement("div", {
                className: "tab-actions"
            }, r.createElement(l, {
                client: this.props.client,
                block: this.props.block
            })), r.createElement("table", {
                className: "info-table-ct"
            }, r.createElement("tr", null, r.createElement("td", null, s("VDO Device")), r.createElement("td", null, e ? r.createElement("a", {
                onClick: function() {
                    return a.location.go([ "vdo", e.name ]);
                }
            }, e.name) : "-"))));
        }
    });
    e.exports = {
        PVolTab: c,
        MDRaidMemberTab: u,
        VDOBackingTab: d
    };
}, function(e, t, n) {
    "use strict";
    var a = n(7), o = n(9), r = n(18), i = a.gettext, l = r.createClass({
        displayName: "PartitionTab",
        render: function() {
            var e = this.props.client.blocks_part[this.props.block.path];
            return r.createElement("div", null, r.createElement("table", {
                className: "info-table-ct"
            }, r.createElement("tr", null, r.createElement("td", null, i("Name")), r.createElement("td", null, e.Name || "-")), r.createElement("tr", null, r.createElement("td", null, i("Size")), r.createElement("td", null, o.fmt_size(e.Size))), r.createElement("tr", null, r.createElement("td", null, i("UUID")), r.createElement("td", null, e.UUID)), r.createElement("tr", null, r.createElement("td", null, i("Type")), r.createElement("td", null, e.Type))));
        }
    });
    e.exports = {
        PartitionTab: l
    };
}, function(e, t, n) {
    "use strict";
    var a = n(7), o = n(9), r = n(6), i = n(18), l = n(25), s = n(35), c = l.StorageButton, u = s.FormatButton, d = a.gettext, f = i.createClass({
        displayName: "SwapTab",
        onSamplesChanged: function() {
            this.setState({});
        },
        componentDidMount: function() {
            r(this.props.client.swap_sizes).on("changed", this.onSamplesChanged);
        },
        componentWillUnmount: function() {
            r(this.props.client.swap_sizes).off("changed", this.onSamplesChanged);
        },
        render: function() {
            function e() {
                if (r) return r.Start({});
            }
            function t() {
                if (r) return r.Stop({});
            }
            var n, a = this, r = a.props.client.blocks_swap[a.props.block.path], l = r && r.Active;
            if (l) {
                var s = a.props.client.swap_sizes.data[o.decode_filename(a.props.block.Device)];
                n = s ? o.fmt_size(s[0] - s[1]) : d("Unknown");
            } else n = "-";
            return i.createElement("div", null, i.createElement("div", {
                className: "tab-actions"
            }, l ? i.createElement(c, {
                onClick: t
            }, d("Stop")) : i.createElement(c, {
                onClick: e
            }, d("Start")), i.createElement(u, {
                client: this.props.client,
                block: this.props.block
            })), i.createElement("table", {
                className: "info-table-ct"
            }, i.createElement("tr", null, i.createElement("td", null, d("Used")), i.createElement("td", null, n))));
        }
    });
    e.exports = {
        SwapTab: f
    };
}, function(e, t, n) {
    "use strict";
    var a = n(7), o = n(18), r = n(35), i = r.FormatButton, l = a.gettext, s = o.createClass({
        displayName: "UnrecognizedTab",
        render: function() {
            return o.createElement("div", null, o.createElement("div", {
                className: "tab-actions"
            }, o.createElement(i, {
                client: this.props.client,
                block: this.props.block
            })), o.createElement("table", {
                className: "info-table-ct"
            }, o.createElement("tr", null, o.createElement("td", null, l("Usage")), o.createElement("td", null, this.props.block.IdUsage || "-")), o.createElement("tr", null, o.createElement("td", null, l("Type")), o.createElement("td", null, this.props.block.IdType || "-"))));
        }
    });
    e.exports = {
        UnrecognizedTab: s
    };
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.DriveDetails = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(9), p = a(f), m = n(49), h = n(51), v = a(h), g = c.default.gettext;
    t.DriveDetails = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e(e, t) {
                    return t ? d.default.createElement("tr", null, d.default.createElement("td", null, e), d.default.createElement("td", null, t)) : null;
                }
                var t = this.props.client, n = this.props.drive, a = t.drives_ata[n.path], o = n && t.drives_block[n.path], r = n && t.drives_multipath_blocks[n.path], i = null;
                a && (i = d.default.createElement("tr", null, d.default.createElement("td", null, g("storage", "Assessment")), d.default.createElement("td", null, a.SmartFailing ? d.default.createElement("span", {
                    className: "cockpit-disk-failing"
                }, g("DISK IS FAILING")) : d.default.createElement("span", null, g("Disk is OK")), a.SmartTemperature > 0 ? d.default.createElement("span", null, "(", p.default.format_temperature(a.SmartTemperature), ")") : null)));
                var l = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, g("Drive")), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, e(g("storage", "Model"), n.Model), e(g("storage", "Firmware Version"), n.Revision), e(g("storage", "Serial Number"), n.Serial), e(g("storage", "World Wide Name"), n.WWN), e(g("storage", "Capacity"), n.Size ? p.default.fmt_size_long(n.Size) : g("No media inserted")), i, e(g("storage", "Device File"), o ? p.default.block_name(o) : "-"), r.length > 0 && e(g("storage", "Multipathed Devices"), r.map(p.default.block_name).join(" "))))), s = d.default.createElement(v.default.Block, {
                    client: this.props.client,
                    block: o
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    client: this.props.client,
                    header: l,
                    content: s
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.VGroupDetails = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(9), p = a(f), m = n(49), h = n(51), v = a(h), g = n(25), b = n(32), y = a(b), _ = c.default.gettext, k = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    var t = e.block;
                    o.blocks_part[t.path] && (t = o.blocks[o.blocks_part[t.path].Table]);
                    var n = t && o.blocks_lvm2[t.path] && o.lvols[o.blocks_lvm2[t.path].LogicalVolume];
                    return !n || n.VolumeGroup != r.path;
                }
                function t() {
                    y.default.open({
                        Title: _("Add Disks"),
                        Fields: [ {
                            SelectMany: "disks",
                            Title: _("Disks"),
                            Options: p.default.get_available_spaces(o).filter(e).map(p.default.available_space_to_option),
                            EmptyWarning: _("No disks are available."),
                            validate: function(e) {
                                if (0 === e.length) return _("At least one disk is needed.");
                            }
                        } ],
                        Action: {
                            Title: _("Add"),
                            action: function(e) {
                                return p.default.prepare_available_spaces(o, e.disks).then(function() {
                                    var e = Array.prototype.slice.call(arguments);
                                    return c.default.all(e.map(function(e) {
                                        return r.AddDevice(e, {});
                                    }));
                                });
                            }
                        }
                    });
                }
                function n(e) {
                    function t() {
                        return r.RemoveDevice(e.path, !0, {});
                    }
                    function n() {
                        return r.EmptyDevice(e.path, {}).then(function() {
                            r.RemoveDevice(e.path, !0, {});
                        });
                    }
                    var a = null, l = null;
                    return 1 === i.length ? l = _("The last physical volume of a volume group cannot be removed.") : e.FreeSize < e.Size ? e.Size <= r.FreeSize ? a = n : l = c.default.format(_("There is not enough free space elsewhere to remove this physical volume. At least $0 more free space is needed."), p.default.fmt_size(e.Size - r.FreeSize)) : a = t, 
                    d.default.createElement("tr", null, d.default.createElement("td", {
                        className: "storage-icon"
                    }, d.default.createElement("div", null, d.default.createElement("img", {
                        src: "images/storage-disk.png"
                    }))), d.default.createElement("td", null, d.default.createElement(g.StorageBlockNavLink, {
                        client: o,
                        block: o.blocks[e.path]
                    }), d.default.createElement("br", null), d.default.createElement("span", null, c.default.format(_("$0, $1 free"), p.default.fmt_size(e.Size), p.default.fmt_size(e.FreeSize)))), d.default.createElement("td", {
                        className: "storage-action"
                    }, d.default.createElement(g.StorageButton, {
                        onClick: a,
                        excuse: l
                    }, d.default.createElement("span", {
                        className: "fa fa-minus"
                    }))));
                }
                var a = this, o = a.props.client, r = a.props.vgroup, i = o.vgroups_pvols[r.path] || [];
                return d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, d.default.createElement("span", null, _("Physical Volumes")), d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageButton, {
                    onClick: t
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                })))), d.default.createElement("table", {
                    className: "table"
                }, d.default.createElement("tbody", null, i.map(n))));
            }
        } ]), t;
    }(d.default.Component);
    t.VGroupDetails = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.poll_timer = null, e;
        }
        return i(t, e), l(t, [ {
            key: "ensurePolling",
            value: function(e) {
                var t = this;
                e && null === this.poll_timer ? this.poll_timer = window.setInterval(function() {
                    t.props.vgroup.Poll();
                }, 2e3) : e || null === this.poll_timer || (window.clearInterval(this.poll_timer), 
                this.poll_timer = null);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.ensurePolling(!1);
            }
        }, {
            key: "render",
            value: function() {
                function e() {
                    var e = c.default.location;
                    y.default.open({
                        Title: _("Rename Volume Group"),
                        Fields: [ {
                            TextInput: "name",
                            Title: _("Name"),
                            Value: a.Name,
                            validate: p.default.validate_lvm2_name
                        } ],
                        Action: {
                            Title: _("Rename"),
                            action: function(t) {
                                return a.Rename(t.name, {}).done(function() {
                                    e.go([ "vg", t.name ]);
                                });
                            }
                        }
                    });
                }
                function t() {
                    var e = c.default.location, t = p.default.get_active_usage(n, a.path);
                    return t.Blocking ? void y.default.open({
                        Title: c.default.format(_("$0 is in active use"), a.Name),
                        Blocking: t.Blocking,
                        Fields: []
                    }) : void y.default.open({
                        Title: c.default.format(_("Please confirm deletion of $0"), a.Name),
                        Teardown: t.Teardown,
                        Fields: [],
                        Action: {
                            Danger: _("Deleting a volume group will erase all data on it."),
                            Title: _("Delete"),
                            action: function() {
                                return p.default.teardown_active_usage(n, t).then(function() {
                                    return a.Delete(!0, {
                                        "tear-down": {
                                            t: "b",
                                            v: !0
                                        }
                                    }).done(function() {
                                        e.go("/");
                                    });
                                });
                            }
                        }
                    });
                }
                var n = this.props.client, a = this.props.vgroup;
                this.ensurePolling(a.NeedsPolling);
                var o = [ {
                    title: _("Rename"),
                    action: e
                }, {
                    title: _("Delete"),
                    action: t
                } ], r = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, c.default.format(_("Volume Group $0"), a.Name), d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageMultiAction, {
                    actions: o,
                    default: 0
                }))), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "UUID")), d.default.createElement("td", null, a.UUID)), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Capacity")), d.default.createElement("td", null, p.default.fmt_size_long(a.Size)))))), i = d.default.createElement(k, {
                    client: this.props.client,
                    vgroup: a
                }), l = d.default.createElement(v.default.VGroup, {
                    client: this.props.client,
                    vgroup: a
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    client: this.props.client,
                    header: r,
                    sidebar: i,
                    content: l
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.MDRaidDetails = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), s = n(7), c = a(s), u = n(18), d = a(u), f = n(9), p = a(f), m = n(49), h = n(51), v = a(h), g = n(25), b = n(32), y = a(b), _ = c.default.gettext, k = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    var t = e.block;
                    return o.blocks_part[t.path] && (t = o.blocks[o.blocks_part[t.path].Table]), t && t.MDRaid != r.path;
                }
                function t() {
                    y.default.open({
                        Title: _("Add Disks"),
                        Fields: [ {
                            SelectMany: "disks",
                            Title: _("Disks"),
                            Options: p.default.get_available_spaces(o).filter(e).map(p.default.available_space_to_option),
                            EmptyWarning: _("No disks are available."),
                            validate: function(e) {
                                if (0 === e.length) return _("At least one disk is needed.");
                            }
                        } ],
                        Action: {
                            Title: _("Add"),
                            action: function(e) {
                                return p.default.prepare_available_spaces(o, e.disks).then(function() {
                                    var e = Array.prototype.slice.call(arguments);
                                    return c.default.all(e.map(function(e) {
                                        return r.AddDevice(e, {});
                                    }));
                                });
                            }
                        }
                    });
                }
                function n(e) {
                    function t(e) {
                        return {
                            faulty: _("FAILED"),
                            in_sync: _("In Sync"),
                            spare: _(a[1] < 0 ? "Spare" : "Recovering"),
                            write_mostly: _("Write-mostly"),
                            blocked: _("Blocked")
                        }[e] || c.default.format(_("Unknown ($0)"), e);
                    }
                    function n() {
                        return r.RemoveDevice(e.path, {
                            wipe: {
                                t: "b",
                                v: !0
                            }
                        });
                    }
                    var a = p.default.array_find(r.ActiveDevices, function(t) {
                        return t[0] == e.path;
                    }), m = a && a[1] >= 0 && a[1].toString(), h = a && a[2].map(t).join(", "), v = a && a[2].indexOf("in_sync") >= 0, b = a && a[2].indexOf("spare") >= 0 && a[1] >= 0, y = !1;
                    return f ? v && u > 0 || b ? y = _("This disk cannot be removed while the device is recovering.") : v && s < 1 ? y = _("A spare disk needs to be added first before this disk can be removed.") : i.length <= 1 && (y = _("The last disk of a RAID device cannot be removed.")) : y = _("The RAID device must be running in order to remove disks."), 
                    d.default.createElement("tr", null, d.default.createElement("td", {
                        className: "storage-icon"
                    }, d.default.createElement("div", null, d.default.createElement("img", {
                        src: "images/storage-disk.png"
                    }))), d.default.createElement("td", null, m ? m : "-", " ", d.default.createElement(g.StorageBlockNavLink, {
                        client: o,
                        block: e
                    }), d.default.createElement("br", null), d.default.createElement("span", {
                        className: "state"
                    }, h)), l ? d.default.createElement("td", {
                        className: "storage-action"
                    }, d.default.createElement(g.StorageButton, {
                        onClick: n,
                        excuse: y
                    }, d.default.createElement("span", {
                        className: "fa fa-minus"
                    }))) : null);
                }
                var a = this, o = a.props.client, r = a.props.mdraid, i = o.mdraids_members[r.path] || [], l = "raid0" != r.Level, s = 0, u = 0;
                r.ActiveDevices.forEach(function(e) {
                    e[2].indexOf("spare") >= 0 && (e[1] < 0 ? s += 1 : u += 1);
                });
                var f = r.Running;
                void 0 === f && (f = r.ActiveDevices && r.ActiveDevices.length > 0);
                var m = !1;
                return f || (m = _("The RAID device must be running in order to add spare disks.")), 
                d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, d.default.createElement("span", null, _("Disks")), l ? d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageButton, {
                    onClick: t,
                    excuse: m
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                }))) : null), d.default.createElement("table", {
                    className: "table"
                }, d.default.createElement("tbody", null, i.map(n))));
            }
        } ]), t;
    }(d.default.Component);
    t.MDRaidDetails = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), l(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    return {
                        raid0: _("RAID 0"),
                        raid1: _("RAID 1"),
                        raid4: _("RAID 4"),
                        raid5: _("RAID 5"),
                        raid6: _("RAID 6"),
                        raid10: _("RAID 10")
                    }[e] || c.default.format(_("RAID ($0)"), e);
                }
                function t(e) {
                    return s.SetBitmapLocation(p.default.encode_filename(e ? "internal" : "none"), {});
                }
                function n() {
                    return s.Start({
                        "start-degraded": {
                            t: "b",
                            v: !0
                        }
                    });
                }
                function a() {
                    return s.Stop({});
                }
                function o() {
                    return s.RequestSyncAction("repair", {});
                }
                function r() {
                    return s.RequestSyncAction("idle", {});
                }
                function i() {
                    function e() {
                        function e() {
                            return c.default.all(l.mdraids_members[s.path].map(function(e) {
                                return e.Format("empty", {});
                            }));
                        }
                        return s.Delete ? s.Delete({
                            "tear-down": {
                                t: "b",
                                v: !0
                            }
                        }) : s.ActiveDevices && s.ActiveDevices.length > 0 ? s.Stop({}).then(e) : e();
                    }
                    var t = c.default.location, n = p.default.get_active_usage(l, u ? u.path : "");
                    return n.Blocking ? void y.default.open({
                        Title: c.default.format(_("$0 is in active use"), p.default.mdraid_name(s)),
                        Blocking: n.Blocking,
                        Fields: []
                    }) : void y.default.open({
                        Title: c.default.format(_("Please confirm deletion of $0"), p.default.mdraid_name(s)),
                        Teardown: n.Teardown,
                        Fields: [],
                        Action: {
                            Title: _("Delete"),
                            Danger: _("Deleting a RAID device will erase all data on it."),
                            action: function() {
                                return p.default.teardown_active_usage(l, n).then(e).then(function() {
                                    t.go("/");
                                });
                            }
                        }
                    });
                }
                var l = this.props.client, s = this.props.mdraid, u = s && l.mdraids_block[s.path], f = e(s.Level);
                s.NumDevices > 0 && (f += ", " + c.default.format(_("$0 Disks"), s.NumDevices)), 
                s.ChunkSize > 0 && (f += ", " + c.default.format(_("$0 Chunk Size"), p.default.fmt_size(s.ChunkSize)));
                var h = null;
                if (s.BitmapLocation) {
                    var b = "none" != p.default.decode_filename(s.BitmapLocation);
                    h = d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Bitmap")), d.default.createElement("td", null, d.default.createElement(g.StorageOnOff, {
                        state: b,
                        onChange: t
                    })));
                }
                var x = null;
                if (s.Degraded > 0) {
                    var w = c.default.format(c.default.ngettext("$0 disk is missing", "$0 disks are missing", s.Degraded), s.Degraded);
                    x = d.default.createElement("div", {
                        className: "alert alert-danger"
                    }, d.default.createElement("span", {
                        className: "pficon pficon-error-circle-o"
                    }), d.default.createElement("span", null, _("The RAID Array is in a degraded state")), " - ", w);
                }
                var E = s.Running;
                void 0 === E && (E = s.ActiveDevices && s.ActiveDevices.length > 0);
                var S = [ {
                    title: _("Start"),
                    action: n
                }, {
                    title: _("Stop"),
                    action: a
                }, {
                    title: _("Start Scrubbing"),
                    action: o
                }, {
                    title: _("Stop Scrubbing"),
                    action: r
                }, {
                    title: _("Delete"),
                    action: i
                } ], T = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, c.default.format(_("RAID Device $0"), p.default.mdraid_name(s)), d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageMultiAction, {
                    actions: S,
                    default: E ? 1 : 0
                }))), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Device")), d.default.createElement("td", null, u ? p.default.decode_filename(u.PreferredDevice) : "-")), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "UUID")), d.default.createElement("td", null, s.UUID)), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Capacity")), d.default.createElement("td", null, p.default.fmt_size_long(s.Size))), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "RAID Level")), d.default.createElement("td", null, f)), h, d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "State")), d.default.createElement("td", null, _(E ? "Running" : "Not running")))))), C = d.default.createElement(k, {
                    client: this.props.client,
                    mdraid: s
                }), O = d.default.createElement(v.default.Block, {
                    client: this.props.client,
                    block: u
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    client: this.props.client,
                    alert: x,
                    header: T,
                    sidebar: C,
                    content: O
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function a(e) {
        if (e && e.__esModule) return e;
        var t = {};
        if (null != e) for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
        return t.default = e, t;
    }
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function i(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function l(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function s(e, t) {
        function n() {
            var o = t();
            o && (e.removeEventListener("changed", n), a.resolve(o));
        }
        var a = d.default.defer();
        return e.addEventListener("changed", n), n(), a.promise();
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.VDODetails = void 0;
    var c = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var a = t[n];
                a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), 
                Object.defineProperty(e, a.key, a);
            }
        }
        return function(t, n, a) {
            return n && e(t.prototype, n), a && e(t, a), t;
        };
    }(), u = n(7), d = o(u), f = n(18), p = o(f), m = n(9), h = n(32), v = o(h), g = n(49), b = n(51), y = o(b), _ = n(25), k = n(13), x = a(k), w = n(14), E = o(w), S = n(16), T = o(S), C = d.default.gettext;
    t.VDODetails = function(e) {
        function t() {
            r(this, t);
            var e = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.poll_path = null, e.state = {
                stats: null
            }, e;
        }
        return l(t, e), c(t, [ {
            key: "ensure_polling",
            value: function(e) {
                var t = this, n = "";
                this.poll_path !== e && (this.poll_path && (this.poll_process.close(), this.setState({
                    stats: null
                })), e && (this.poll_process = x.spawn([ E.default, T.default ], [ e ], {
                    superuser: !0
                }).stream(function(e) {
                    n += e;
                    var a = n.split("\n");
                    n = a[a.length - 1], a.length >= 2 && t.setState({
                        stats: JSON.parse(a[a.length - 2])
                    });
                })), this.poll_path = e);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.ensure_polling(null);
            }
        }, {
            key: "render",
            value: function() {
                function e() {
                    var e = d.default.location;
                    return i.force_remove().then(function() {
                        e.go("/");
                    });
                }
                function t() {
                    var e = (0, m.get_active_usage)(r, l ? l.path : "/");
                    return e.Blocking ? void v.default.open({
                        Title: d.default.format(C("$0 is in active use"), i.name),
                        Fields: [],
                        Blocking: e.Blocking
                    }) : e.Teardown ? void v.default.open({
                        Title: d.default.format(C("Please confirm stopping of $0"), i.name),
                        Teardown: e.Teardown,
                        Fields: [],
                        Action: {
                            Title: C("Stop"),
                            action: function() {
                                return (0, m.teardown_active_usage)(r, e).then(function() {
                                    return i.stop();
                                });
                            }
                        }
                    }) : i.stop();
                }
                function n() {
                    function e() {
                        return l ? l.Format("empty", {
                            "tear-down": {
                                t: "b",
                                v: !0
                            }
                        }) : i.start().then(function() {
                            s(r, function() {
                                return r.slashdevs_block[i.dev];
                            }).then(function(e) {
                                return e.Format("empty", {
                                    "tear-down": {
                                        t: "b",
                                        v: !0
                                    }
                                });
                            });
                        });
                    }
                    var t = (0, m.get_active_usage)(r, l ? l.path : "/");
                    return t.Blocking ? void v.default.open({
                        Title: d.default.format(C("$0 is in active use"), i.name),
                        Fields: [],
                        Blocking: t.Blocking
                    }) : void v.default.open({
                        Title: d.default.format(C("Please confirm deletion of $0"), i.name),
                        Teardown: t.Teardown,
                        Fields: [],
                        Action: {
                            Title: C("Delete"),
                            Danger: C("Deleting a VDO device will erase all data on it."),
                            action: function() {
                                return (0, m.teardown_active_usage)(r, t).then(function() {
                                    return e().then(function() {
                                        var e = d.default.location;
                                        return i.remove().then(function() {
                                            e.go("/");
                                        });
                                    });
                                });
                            }
                        }
                    });
                }
                function a() {
                    v.default.open({
                        Title: d.default.format(C("Grow logical size of $0"), i.name),
                        Fields: [ {
                            SizeSlider: "lsize",
                            Title: C("Logical Size"),
                            Max: 5 * i.logical_size,
                            Min: i.logical_size,
                            Round: 512,
                            Value: i.logical_size,
                            AllowInfinite: !0
                        } ],
                        Action: {
                            Title: C("Grow"),
                            action: function(e) {
                                if (e.lsize > i.logical_size) return i.grow_logical(e.lsize).then(function() {
                                    if (l && "filesystem" == l.IdUsage) return d.default.spawn([ "fsadm", "resize", (0, 
                                    m.decode_filename)(l.Device) ], {
                                        superuser: !0
                                    });
                                });
                            }
                        }
                    });
                }
                function o(e) {
                    return e || 0 == e ? e + "%" : "--";
                }
                var r = this.props.client, i = this.props.vdo, l = r.slashdevs_block[i.dev], c = r.slashdevs_block[i.backing_dev];
                if (i.broken) {
                    var u = p.default.createElement("div", {
                        className: "alert alert-danger"
                    }, p.default.createElement("div", {
                        className: "pull-right"
                    }, p.default.createElement(_.StorageButton, {
                        onClick: e
                    }, C("Remove device"))), p.default.createElement("span", {
                        className: "pficon pficon-error-circle-o"
                    }), p.default.createElement("strong", null, C("The creation of this VDO device did not finish and the device can't be used.")));
                    return p.default.createElement(g.StdDetailsLayout, {
                        client: this.props.client,
                        alert: u
                    });
                }
                this.ensure_polling(l ? i.dev : null);
                var f = null;
                c && c.Size > i.physical_size && (f = p.default.createElement("div", {
                    className: "alert alert-warning"
                }, p.default.createElement("div", {
                    className: "pull-right"
                }, p.default.createElement(_.StorageButton, {
                    onClick: i.grow_physical
                }, C("Grow to take all space"))), p.default.createElement("span", {
                    className: "pficon pficon-warning-triangle-o"
                }), p.default.createElement("strong", null, C("This VDO device does not use all of its backing device.")), "  ", p.default.createElement("span", null, d.default.format(C("Only $0 of $1 are used."), (0, 
                m.fmt_size)(i.physical_size), (0, m.fmt_size)(c.Size)))));
                var h = [ {
                    title: C("Start"),
                    action: i.start
                }, {
                    title: C("Stop"),
                    action: t
                }, {
                    title: C("Delete"),
                    action: n
                } ], b = this.state.stats, k = p.default.createElement("div", {
                    className: "panel panel-default"
                }, p.default.createElement("div", {
                    className: "panel-heading"
                }, d.default.format(C("VDO Device $0"), i.name), p.default.createElement("span", {
                    className: "pull-right"
                }, p.default.createElement(_.StorageMultiAction, {
                    actions: h,
                    default: l ? 1 : 0
                }))), p.default.createElement("div", {
                    className: "panel-body"
                }, p.default.createElement("table", {
                    className: "info-table-ct"
                }, p.default.createElement("tr", null, p.default.createElement("td", null, C("Device File")), p.default.createElement("td", null, i.dev)), p.default.createElement("tr", null, p.default.createElement("td", null, C("Backing Device")), p.default.createElement("td", null, c ? p.default.createElement(_.StorageBlockNavLink, {
                    client: r,
                    block: c
                }) : i.backing_dev)), p.default.createElement("tr", null, p.default.createElement("td", null, C("Physical")), p.default.createElement("td", null, b ? d.default.format(C("$0 data + $1 overhead used of $2 ($3)"), (0, 
                m.fmt_size)(b.dataBlocksUsed * b.blockSize), (0, m.fmt_size)(b.overheadBlocksUsed * b.blockSize), (0, 
                m.fmt_size)(i.physical_size), o(b.usedPercent)) : (0, m.fmt_size)(i.physical_size))), p.default.createElement("tr", null, p.default.createElement("td", null, C("Logical")), p.default.createElement("td", null, b ? d.default.format(C("$0 used of $1 ($2 saved)"), (0, 
                m.fmt_size)(b.logicalBlocksUsed * b.blockSize), (0, m.fmt_size)(i.logical_size), o(b.savingPercent)) : (0, 
                m.fmt_size)(i.logical_size), "  ", p.default.createElement(_.StorageButton, {
                    onClick: a
                }, C("Grow")))), p.default.createElement("tr", null, p.default.createElement("td", null, C("Index Memory")), p.default.createElement("td", null, (0, 
                m.fmt_size)(1024 * i.index_mem * 1024 * 1024))), p.default.createElement("tr", null, p.default.createElement("td", null, C("Compression")), p.default.createElement("td", null, p.default.createElement(_.StorageOnOff, {
                    state: i.compression,
                    onChange: function() {
                        return i.set_compression(!i.compression);
                    }
                }))), p.default.createElement("tr", null, p.default.createElement("td", null, C("Deduplication")), p.default.createElement("td", null, p.default.createElement(_.StorageOnOff, {
                    state: i.deduplication,
                    onChange: function() {
                        return i.set_deduplication(!i.deduplication);
                    }
                })))))), x = p.default.createElement(y.default.Block, {
                    client: r,
                    block: l,
                    allow_partitions: !1
                });
                return p.default.createElement(g.StdDetailsLayout, {
                    client: this.props.client,
                    alert: f,
                    header: k,
                    content: x
                });
            }
        } ]), t;
    }(p.default.Component);
}, function(e, t) {}, function(e, t) {}, function(e, t) {}, function(e, t) {}, function(e, t) {} ]);
//# sourceMappingURL=storage.min.js.map