!function(e) {
    function t(o) {
        if (n[o]) return n[o].exports;
        var r = n[o] = {
            exports: {},
            id: o,
            loaded: !1
        };
        return e[o].call(r.exports, r, r.exports, t), r.loaded = !0, r.exports;
    }
    var n = {};
    return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
    e.exports = n(5);
}, , , , , function(e, t, n) {
    "use strict";
    !function() {
        function e() {
            function e() {
                var e = o.location.path;
                0 === e.length ? (f.hide(), d.show()) : 1 == e.length ? (d.hide(), f.show("block", e[0])) : 2 == e.length && "mdraid" == e[0] ? (d.hide(), 
                f.show("mdraid", e[1])) : 2 == e.length && "vg" == e[0] ? (d.hide(), f.show("vgroup", e[1])) : (console.warn("not a init location: " + e), 
                o.location = ""), t("body").show();
            }
            function n() {
                var e = !p.state || "running" === p.state, n = r.broken_multipath_present === !0;
                t("#multipath-broken").toggle(n && !e);
            }
            var u, d, f;
            t("body").on("click", "[data-goto-block]", function() {
                o.location.go([ t(this).attr("data-goto-block") ]);
            }), t("body").on("click", "[data-goto-mdraid]", function() {
                o.location.go([ "mdraid", t(this).attr("data-goto-mdraid") ]);
            }), t("body").on("click", "[data-goto-vgroup]", function() {
                o.location.go([ "vg", t(this).attr("data-goto-vgroup") ]);
            }), l.init_arming_zones(t("body")), r.init(function() {
                o.translate(), r.features === !1 ? (t("#unsupported").show(), t("body").show()) : (u = i.init(r), 
                d = a.init(r, u), f = s.init(r, u), t(o).on("locationchanged", e), e());
            });
            var p = l.get_multipathd_service();
            t(p).on("changed", n), t(r).on("changed", n), n(), t("#activate-multipath").on("click", function() {
                o.spawn([ "mpathconf", "--enable", "--with_multipathd", "y" ], {
                    superuser: "try"
                }).fail(function(e) {
                    t("#error-popup-title").text(c("Error")), t("#error-popup-message").text(e.toString()), 
                    t("#error-popup").modal("show");
                });
            });
        }
        var t = n(6), o = n(7), r = n(8), i = n(16), a = n(17), s = n(31), l = n(9);
        n(54), n(55), n(56), n(57), n(58);
        var c = o.gettext;
        t(e);
    }();
}, function(e, t) {
    e.exports = jQuery;
}, function(e, t) {
    e.exports = cockpit;
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t) {
            function n(e) {
                a.data = {}, i = [];
                for (var t = 0; t < e.metrics.length; t++) {
                    i[t] = e.metrics[t].instances;
                    for (var n = 0; n < i[t].length; n++) a.data[i[t][n]] = [];
                }
            }
            function o(e) {
                for (var t = !1, n = 0; n < e.length; n++) for (var o = e[n], r = 0; r < o.length; r++) for (var s = o[r], l = 0; l < s.length; l++) null !== s[l] && (t = !0, 
                a.data[i[r][l]][r] = s[l]);
                t && d(a).triggerHandler("changed");
            }
            function r() {
                s.close();
            }
            var i, a = {
                data: {},
                close: r
            }, s = f.channel({
                payload: "metrics1",
                source: t || "internal",
                metrics: e
            });
            return d(s).on("closed", function(e, t) {
                console.log("closed", t);
            }), d(s).on("message", function(e, t) {
                var r = JSON.parse(t);
                r.length ? o(r) : n(r);
            }), a;
        }
        function o(e, t) {
            return b.storaged_client.proxy(k + "." + e, _ + "/" + t, {
                watch: !0
            });
        }
        function r(e) {
            return b.storaged_client.proxies(k + "." + e, _, {
                watch: !1
            });
        }
        function i() {
            b.storaged_client.watch({
                path_namespace: _
            }), b.mdraids = r("MDRaid"), b.vgroups = r("VolumeGroup"), b.lvols = r("LogicalVolume"), 
            b.drives = r("Drive"), b.drives_ata = r("Drive.Ata"), b.blocks = r("Block"), b.blocks_ptable = r("PartitionTable"), 
            b.blocks_part = r("Partition"), b.blocks_lvm2 = r("Block.LVM2"), b.blocks_pvol = r("PhysicalVolume"), 
            b.blocks_fsys = r("Filesystem"), b.blocks_crypto = r("Encrypted"), b.blocks_swap = r("Swapspace"), 
            b.iscsi_sessions = r("ISCSI.Session"), b.jobs = r("Job");
        }
        function a(e) {
            if (e.Symlinks && e.Symlinks.length) for (var t = 0; t < e.Symlinks.length; t++) if (0 === p.decode_filename(e.Symlinks[t]).indexOf("/dev/disk/by-id/dm-uuid-mpath-")) return !0;
            return !1;
        }
        function s() {
            function e(e, t) {
                b.slashdevs_block[p.decode_filename(t).replace(/^\/dev\//, "")] = e;
            }
            function t(e, t) {
                return p.block_cmp(b.blocks[e.path], b.blocks[t.path]);
            }
            function n(e) {
                e.Objects.forEach(function(t) {
                    b.path_jobs[t] = e;
                    for (var n = p.get_parent(b, t); n; ) t = n, n = p.get_parent(b, t);
                    b.path_jobs[t] = e;
                });
            }
            var o, r, i, s, l, c, u, d;
            b.broken_multipath_present = !1, b.drives_multipath_blocks = {}, b.drives_block = {};
            for (o in b.drives) b.drives_multipath_blocks[o] = [];
            for (o in b.blocks) r = b.blocks[o], b.blocks_part[o] || void 0 === b.drives_multipath_blocks[r.Drive] || (a(r) ? b.drives_block[r.Drive] = r : b.drives_multipath_blocks[r.Drive].push(r));
            for (o in b.drives_multipath_blocks) b.drives_block[o] || 1 != b.drives_multipath_blocks[o].length ? (b.drives_multipath_blocks[o].sort(p.block_cmp), 
            b.drives_block[o] || (b.broken_multipath_present = !0)) : (b.drives_block[o] = b.drives_multipath_blocks[o][0], 
            b.drives_multipath_blocks[o] = []);
            b.mdraids_block = {};
            for (o in b.blocks) r = b.blocks[o], "/" != r.MDRaid && (b.mdraids_block[r.MDRaid] = r);
            b.mdraids_members = {};
            for (o in b.mdraids) b.mdraids_members[o] = [];
            for (o in b.blocks) r = b.blocks[o], void 0 !== b.mdraids_members[r.MDRaidMember] && b.mdraids_members[r.MDRaidMember].push(r);
            for (o in b.mdraids_members) b.mdraids_members[o].sort(p.block_cmp);
            b.slashdevs_block = {};
            for (o in b.blocks) for (r = b.blocks[o], e(r, r.Device), e(r, r.PreferredDevice), 
            d = 0; d < r.Symlinks.length; d++) e(r, r.Symlinks[d]);
            b.uuids_mdraid = {};
            for (o in b.mdraids) i = b.mdraids[o], b.uuids_mdraid[i.UUID] = i;
            b.vgnames_vgroup = {};
            for (o in b.vgroups) s = b.vgroups[o], b.vgnames_vgroup[s.Name] = s;
            b.vgroups_pvols = {};
            for (o in b.vgroups) b.vgroups_pvols[o] = [];
            for (o in b.blocks_pvol) l = b.blocks_pvol[o], void 0 !== b.vgroups_pvols[l.VolumeGroup] && b.vgroups_pvols[l.VolumeGroup].push(l);
            for (o in b.vgroups_pvols) b.vgroups_pvols[o].sort(t);
            b.vgroups_lvols = {};
            for (o in b.vgroups) b.vgroups_lvols[o] = [];
            for (o in b.lvols) c = b.lvols[o], void 0 !== b.vgroups_lvols[c.VolumeGroup] && b.vgroups_lvols[c.VolumeGroup].push(c);
            for (o in b.vgroups_lvols) b.vgroups_lvols[o].sort(function(e, t) {
                return e.Name.localeCompare(t.Name);
            });
            b.lvols_block = {};
            for (o in b.blocks_lvm2) b.lvols_block[b.blocks_lvm2[o].LogicalVolume] = b.blocks[o];
            b.lvols_pool_members = {};
            for (o in b.lvols) "pool" == b.lvols[o].Type && (b.lvols_pool_members[o] = []);
            for (o in b.lvols) c = b.lvols[o], void 0 !== b.lvols_pool_members[c.ThinPool] && b.lvols_pool_members[c.ThinPool].push(c);
            for (o in b.lvols_pool_members) b.lvols_pool_members[o].sort(function(e, t) {
                return e.Name.localeCompare(t.Name);
            });
            b.blocks_cleartext = {};
            for (o in b.blocks) r = b.blocks[o], "/" != r.CryptoBackingDevice && (b.blocks_cleartext[r.CryptoBackingDevice] = r);
            b.blocks_partitions = {};
            for (o in b.blocks_ptable) b.blocks_partitions[o] = [];
            for (o in b.blocks_part) u = b.blocks_part[o], void 0 !== b.blocks_partitions[u.Table] && b.blocks_partitions[u.Table].push(u);
            for (o in b.blocks_partitions) b.blocks_partitions[o].sort(function(e, t) {
                return e.Offset - t.Offset;
            });
            b.path_jobs = {};
            for (o in b.jobs) n(b.jobs[o]);
        }
        function l(e) {
            function t(e, n) {
                var o = e.pop();
                o ? o.wait(function() {
                    t(e, n);
                }) : n();
            }
            function n() {
                return f.spawn([ "date", "+%s" ]).then(function(e) {
                    b.time_offset = 1e3 * parseInt(e, 10) - new Date().getTime();
                });
            }
            function r() {
                return b.manager.valid ? b.manager.EnableModules ? b.manager.EnableModules(!0).then(function() {
                    var e = f.defer();
                    return b.manager_lvm2 = o("Manager.LVM2", "Manager"), b.manager_iscsi = o("Manager.ISCSI.Initiator", "Manager"), 
                    t([ b.manager_lvm2, b.manager_iscsi ], function() {
                        var t = "no" != g.with_storaged_iscsi_sessions && b.manager_iscsi.valid && b.manager_iscsi.SessionsSupported !== !1;
                        e.resolve({
                            lvm2: b.manager_lvm2.valid,
                            iscsi: t
                        });
                    }), e.promise;
                }, function(e) {
                    return console.warn("Can't enable storaged modules", e.toString()), f.resolve({});
                }) : f.resolve({}) : f.resolve(!1);
            }
            t([ b.manager, b.mdraids, b.vgroups, b.drives, b.blocks, b.blocks_ptable, b.blocks_lvm2, b.blocks_fsys ], function() {
                n().then(function() {
                    r().then(function(t) {
                        b.features = t, e();
                    }), d(b.storaged_client).on("notify", function() {
                        s(), b.dispatchEvent("changed");
                    }), s();
                });
            });
        }
        function c() {
            function e(e) {
                return m.spawn([ h, v ], e, {
                    superuser: "try",
                    err: "message"
                });
            }
            function t(e) {
                var t = e.fields[1];
                return u.fsys_sizes[t] ? u.fsys_sizes[t] : u.fsys_sizes[t] === !1 ? null : (u.fsys_sizes[t] = !1, 
                f.spawn([ "stat", "-f", "-c", "[ %S, %f, %b ]", t ], {
                    err: "message"
                }).done(function(e) {
                    var n = JSON.parse(e);
                    u.fsys_sizes[t] = [ (n[2] - n[1]) * n[0], n[2] * n[0] ], d(u).triggerHandler("changed");
                }).fail(function() {
                    u.fsys_sizes[t] = [ 0, 0 ], d(u).triggerHandler("changed");
                }), null);
            }
            function n(t, n) {
                return e([ "update", JSON.stringify(t), JSON.stringify(n) ]);
            }
            function o(t) {
                return e([ "add", JSON.stringify(t) ]);
            }
            function r(t) {
                return e([ "remove", JSON.stringify(t) ]);
            }
            function i(t) {
                return e([ "mount", JSON.stringify(t) ]);
            }
            function a(t) {
                return e([ "unmount", JSON.stringify(t) ]);
            }
            function s(t, n) {
                var o = t.map(function(e) {
                    return e.unit;
                });
                return e([ "stop-and-unmount", JSON.stringify(o), JSON.stringify(n) ]);
            }
            function l(t, n) {
                var o = t.map(function(e) {
                    return e.unit;
                });
                return e([ "stop-and-remove", JSON.stringify(o), JSON.stringify(n) ]);
            }
            function c(t) {
                return e([ "users", JSON.stringify(t) ]).then(JSON.parse);
            }
            var u = {
                entries: [],
                fsys_sizes: {},
                get_fsys_size: t,
                entry_users: c,
                update_entry: n,
                add_entry: o,
                remove_entry: r,
                mount_entry: i,
                unmount_entry: a,
                stop_and_unmount_entry: s,
                stop_and_remove_entry: l
            }, p = "";
            return e([ "monitor" ]).stream(function(e) {
                var t;
                p += e, t = p.split("\n"), p = t[t.length - 1], t.length >= 2 && (u.entries = JSON.parse(t[t.length - 2]), 
                u.fsys_sizes = {}, d(u).triggerHandler("changed"));
            }).fail(function(e) {
                "closed" != e && console.warn(e);
            }), u;
        }
        function u() {
            function e() {
                y = "org.freedesktop.UDisks2", _ = "/org/freedesktop/UDisks2", k = "org.freedesktop.UDisks2";
                var e = f.dbus(y), t = e.proxy(k + ".Manager", _ + "/Manager", {
                    watch: !0
                });
                return t.wait().then(function() {
                    return t;
                });
            }
            var t = "org.storaged.Storaged", n = "/org/storaged/Storaged", o = "org.storaged.Storaged", r = f.dbus(t), i = r.proxy(o + ".Manager", n + "/Manager", {
                watch: !0
            });
            return i.wait().then(function() {
                return i.valid ? (console.log("Using older 'storaged' API: " + t), y = t, _ = n, 
                k = o, i) : e();
            }, e);
        }
        var d = n(6), f = n(7), p = n(9), m = n(13), h = n(14), v = n(15), g = {};
        f.manifests.storage && f.manifests.storage.hacks && (g = f.manifests.storage.hacks);
        var b = {};
        f.event_target(b);
        var y, _, k;
        b.time_offset = void 0, b.features = void 0, b.storaged_client = void 0, b.call = function(e, t, n, o, r) {
            return b.storaged_client.call(e, k + "." + t, n, o, r);
        }, b.fsys_sizes = t([ {
            name: "mount.used"
        }, {
            name: "mount.total"
        } ]), b.swap_sizes = t([ {
            name: "swapdev.length"
        }, {
            name: "swapdev.free"
        } ], "direct"), b.blockdev_io = t([ {
            name: "block.device.read",
            derive: "rate"
        }, {
            name: "block.device.written",
            derive: "rate"
        } ]), b.older_than = function(e) {
            return p.compare_versions(this.manager.Version, e) < 0;
        }, b.nfs = c(), b.init = function(e) {
            u().then(function(t) {
                b.storaged_client = t.client, b.manager = t, b.is_old_udisks2 = "org.freedesktop.UDisks2" == y && b.older_than("2.6"), 
                b.is_old_udisks2 && console.log("Using older 'udisks2' implementation: " + t.Version), 
                i(), l(e);
            }, function() {
                b.features = !1, e();
            });
        }, e.exports = b;
    }();
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t) {
            var n = [];
            if (e.blocks_cleartext[t] && n.push(e.blocks_cleartext[t].path), e.blocks_ptable[t] && e.blocks_partitions[t].forEach(function(e) {
                e.IsContainer || n.push(e.path);
            }), e.blocks_part[t] && e.blocks_part[t].IsContainer) {
                var o = e.blocks_part[t].Table;
                e.blocks_partitions[o].forEach(function(e) {
                    e.IsContained && n.push(e.path);
                });
            }
            return e.vgroups[t] && e.vgroups_lvols[t].forEach(function(t) {
                e.lvols_block[t.path] && n.push(e.lvols_block[t.path].path);
            }), n;
        }
        function o(e, t, n) {
            var r, i, a, s, l, c, u, d;
            if (n > 0) {
                if (e.nodeType != t.nodeType || e.nodeName != t.nodeName || 1 != e.nodeType && 3 != e.nodeType) return void e.parentNode.replaceChild(t.parentNode.removeChild(t), e);
                if (3 == e.nodeType) return void (e.nodeValue != t.nodeValue && (e.nodeValue = t.nodeValue));
            }
            if (1 == e.nodeType) {
                if (n > 0) {
                    for (d = {}, c = e.attributes, l = c.length - 1; l >= 0; l--) d[c[l].name] = c[l].value;
                    for (l = t.attributes.length - 1; l >= 0; l--) u = t.attributes[l], d[u.name] !== u.value && e.setAttribute(u.name, u.value), 
                    delete d[u.name];
                    for (l in d) e.removeAttribute(l);
                }
                for (r = e.firstChild, i = t.firstChild; ;) {
                    for (a = r, s = i; a && 1 != a.nodeType && 3 != a.nodeType; ) a = a.nextSibling;
                    for (;s && 1 != s.nodeType && 3 != s.nodeType; ) s = s.nextSibling;
                    if (!a && !s) break;
                    a ? s ? (r = a.nextSibling, i = s.nextSibling, o(a, s, (n || 0) + 1)) : (r = a.nextSibling, 
                    i = null, e.removeChild(a)) : (r = null, i = s.nextSibling, e.appendChild(t.removeChild(s)));
                }
            }
        }
        var r = n(6), i = n(7), a = n(10), s = n(12), l = i.gettext, c = i.gettext, u = {};
        u.compare_versions = function(e, t) {
            function n(e) {
                return e.split(".").map(function(e) {
                    return e ? parseInt(e, 10) : 0;
                });
            }
            var o, r = n(e), i = n(t), a = Math.min(r.length, i.length);
            for (o = 0; o < a; o++) if (r[o] != i[o]) return r[o] - i[o];
            return r.length - i.length;
        }, u.hostnamed = i.dbus("org.freedesktop.hostname1").proxy(), u.array_find = function(e, t) {
            for (var n = 0; n < e.length; n++) if (t(e[n])) return e[n];
        }, u.flatten = function(e) {
            return e.length > 0 ? Array.prototype.concat.apply([], e) : [];
        }, u.decode_filename = function(e) {
            return i.utf8_decoder().decode(i.base64_decode(e).slice(0, -1));
        }, u.encode_filename = function(e) {
            return i.base64_encode(i.utf8_encoder().encode(e).concat([ 0 ]));
        }, u.fmt_size = function(e) {
            return i.format_bytes(e, 1024);
        }, u.fmt_size_long = function(e) {
            var t = i.format_bytes(e, 1024), n = i.format_bytes(e, 1e3);
            return t + ", " + n + ", " + e + " " + c("format-bytes", "bytes");
        }, u.fmt_rate = function(e) {
            return i.format_bytes_per_sec(e, 1024);
        }, u.format_temperature = function(e) {
            var t = e - 273.15, n = 9 * t / 5 + 32;
            return t.toFixed(1) + "° C / " + n.toFixed(1) + "° F";
        }, u.format_fsys_usage = function(e, t) {
            var n = "", o = 1024, r = i.format_bytes(t, o, !0);
            return n = " / " + r.join(" "), o = r[1], r = i.format_bytes(e, o, !0), r[0] + n;
        }, u.format_delay = function(e) {
            var t = Math.round(e / 1e3), n = Math.floor(t / 60), o = Math.floor(n / 60);
            t -= 60 * n, n -= 60 * o;
            var r = t + " seconds";
            return n > 0 && (r = n + " minutes, " + r), o > 0 && (r = o + " hours, " + r), r;
        }, u.format_size_and_text = function(e, t) {
            return i.format(l("${size} ${desc}"), {
                size: u.fmt_size(e),
                desc: t
            });
        }, u.validate_lvm2_name = function(e) {
            if ("" === e) return l("Name cannot be empty.");
            if (e.length > 127) return l("Name cannot be longer than 127 characters.");
            var t = e.match(/[^a-zA-Z0-9+._-]/);
            return t ? t[0].search(/\s+/) === -1 ? i.format(l("Name cannot contain the character '$0'."), t[0]) : i.format(l("Name cannot contain whitespace."), t[0]) : void 0;
        }, u.block_name = function(e) {
            return u.decode_filename(e.PreferredDevice);
        }, u.mdraid_name = function(e) {
            if (!e.Name) return "";
            var t = e.Name.split(":");
            return 2 != t.length ? e.Name : void 0 === u.hostnamed.StaticHostname || t[0] == u.hostnamed.StaticHostname ? t[1] : i.format(l("$name (from $host)"), {
                name: t[1],
                host: t[0]
            });
        }, u.lvol_name = function(e) {
            var t;
            return t = l("pool" == e.Type ? "Pool for Thin Logical Volumes" : "/" != e.ThinPool ? "Thin Logical Volume" : "/" != e.Origin ? "Logical Volume (Snapshot)" : "Logical Volume"), 
            a.render('{{Type}} "{{Name}}"', {
                Type: t,
                Name: e.Name
            });
        }, u.drive_name = function(e) {
            var t = [];
            e.Vendor && t.push(e.Vendor), e.Model && t.push(e.Model);
            var n = t.join(" ");
            return e.Serial ? n += " (" + e.Serial + ")" : e.WWN && (n += " (" + e.WWN + ")"), 
            n;
        }, u.get_block_link_target = function(e, t) {
            function n(e) {
                return s && r ? i.format(l("<span>Encrypted Logical Volume of $0</span>"), e) : o && r ? i.format(l("<span>Encrypted Partition of $0</span>"), e) : s ? i.format(l("<span>Logical Volume of $0</span>"), e) : o ? i.format(l("<span>Partition of $0</span>"), e) : r ? i.format(l("<span>Encrypted $0</span>"), e) : e;
            }
            for (var o, r, s; ;) if (e.blocks_part[t] && e.blocks_ptable[e.blocks_part[t].Table]) o = !0, 
            t = e.blocks_part[t].Table; else {
                if (!e.blocks[t] || !e.blocks[e.blocks[t].CryptoBackingDevice]) break;
                r = !0, t = e.blocks[t].CryptoBackingDevice;
            }
            e.blocks_lvm2[t] && e.lvols[e.blocks_lvm2[t].LogicalVolume] && (s = !0);
            var c = e.blocks[t];
            if (c) {
                var d, f, p;
                return e.mdraids[c.MDRaid] ? (d = "mdraid", f = e.mdraids[c.MDRaid].UUID, p = i.format(l("RAID Device $0"), u.mdraid_name(e.mdraids[c.MDRaid]))) : e.blocks_lvm2[t] && e.lvols[e.blocks_lvm2[t].LogicalVolume] && e.vgroups[e.lvols[e.blocks_lvm2[t].LogicalVolume].VolumeGroup] ? (d = "vgroup", 
                f = e.vgroups[e.lvols[e.blocks_lvm2[t].LogicalVolume].VolumeGroup].Name, p = i.format(l("Volume Group $0"), f)) : (d = "block", 
                f = u.block_name(c).replace(/^\/dev\//, ""), p = e.drives[c.Drive] ? u.drive_name(e.drives[c.Drive]) : u.block_name(c)), 
                {
                    type: d,
                    target: f,
                    html: n(a.render('<a data-goto-{{type}}="{{target}}">{{name}}</a>', {
                        type: d,
                        target: f,
                        name: p
                    }))
                };
            }
        }, u.get_partitions = function(e, t) {
            function n(t, r, i) {
                function a(e, t) {
                    t >= 3145728 && h.push({
                        type: "free",
                        start: e,
                        size: t
                    });
                }
                var s, l, c, u, d, f, p = r, m = r + i, h = [];
                for (s = 0; s < o.length; s++) l = e.blocks[o[s].path], c = o[s].Offset, u = o[s].Size, 
                d = o[s].IsContainer, f = o[s].IsContained, null !== l && (0 === t && f || (1 != t || f) && (c < r || c + u > r + i || (a(p, c - p), 
                d ? h.push({
                    type: "container",
                    block: l,
                    size: u,
                    partitions: n(t + 1, c, u)
                }) : h.push({
                    type: "block",
                    block: l
                }), p = c + u)));
                return a(p, m - p), h;
            }
            var o = e.blocks_partitions[t.path];
            return n(0, 0, t.Size);
        }, u.get_available_spaces = function(e) {
            function t(t) {
                function n() {
                    return !!r.IdUsage && !!("LVM2_member" != r.IdType || s && e.vgroups[s.VolumeGroup]);
                }
                function o() {
                    if (!e.drives[r.Drive]) return !1;
                    if (!e.drives_block[r.Drive]) return !0;
                    for (var t = e.drives_multipath_blocks[r.Drive], n = 0; n < t.length; n++) if (t[n] == r) return !0;
                    return !1;
                }
                var r = e.blocks[t], i = e.blocks_ptable[t], a = e.blocks_part[t], s = e.blocks_pvol[t];
                return !(r.HintIgnore || !(r.Size > 0) || n() || o() || i || a && a.IsContainer);
            }
            function n(t) {
                var n = e.blocks[t], o = u.get_block_link_target(e, t), i = r("<div>").html(o.html).text();
                return {
                    type: "block",
                    block: n,
                    size: n.Size,
                    desc: i
                };
            }
            function o(t) {
                var n, o, s, c, d = u.get_partitions(e, t);
                for (n in d) o = d[n], "free" == o.type && (s = u.get_block_link_target(e, t.path), 
                c = r("<div>").html(s.html).text(), a.push({
                    type: "free",
                    block: t,
                    start: o.start,
                    size: o.size,
                    desc: i.format(l("unpartitioned space on $0"), c)
                }));
            }
            var a = Object.keys(e.blocks).filter(t).sort(u.make_block_path_cmp(e)).map(n);
            for (var s in e.blocks_ptable) o(e.blocks[s]);
            return a;
        }, u.available_space_to_option = function(e) {
            return {
                value: e,
                Title: u.format_size_and_text(e.size, e.desc),
                Label: u.block_name(e.block)
            };
        }, u.prepare_available_spaces = function(e, t) {
            function n(t) {
                if ("block" == t.type) return i.resolve(t.block.path);
                if ("free" == t.type) {
                    var n = e.blocks_ptable[t.block.path];
                    return n.CreatePartition(t.start, t.size, "", "", {});
                }
            }
            return i.all(t.map(n));
        }, u.block_cmp = function(e, t) {
            return e.DeviceNumber - t.DeviceNumber;
        }, u.make_block_path_cmp = function(e) {
            return function(t, n) {
                return u.block_cmp(e.blocks[t], e.blocks[n]);
            };
        };
        var d;
        u.get_multipathd_service = function() {
            return d || (d = s.proxy("multipathd")), d;
        }, u.init_arming_zones = function(e) {
            e.on("click", "button.arm-button", function() {
                var e = r(this).hasClass("active");
                r(this).toggleClass("active", !e), r(this).parents(".arming-zone").toggleClass("armed", !e);
            });
        }, u.reset_arming_zone = function(e) {
            var t = e.parents(".arming-zone"), n = t.find(".arm-button");
            n.removeClass("active"), t.removeClass("armed");
        }, u.get_parent = function(e, t) {
            return e.blocks_part[t] && e.blocks[e.blocks_part[t].Table] ? e.blocks_part[t].Table : e.blocks[t] && e.blocks[e.blocks[t].CryptoBackingDevice] ? e.blocks[t].CryptoBackingDevice : e.blocks[t] && e.drives[e.blocks[t].Drive] ? e.blocks[t].Drive : e.blocks[t] && e.mdraids[e.blocks[t].MDRaid] ? e.blocks[t].MDRaid : e.blocks_lvm2[t] && e.lvols[e.blocks_lvm2[t].LogicalVolume] ? e.blocks_lvm2[t].LogicalVolume : e.lvols[t] && e.vgroups[e.lvols[t].VolumeGroup] ? e.lvols[t].VolumeGroup : void 0;
        }, u.get_active_usage = function(e, n) {
            function o(n) {
                var r = e.blocks[n], i = e.blocks_fsys[n], a = r && e.mdraids[r.MDRaidMember], s = e.blocks_pvol[n], l = s && e.vgroups[s.VolumeGroup], c = u.flatten(t(e, n).map(o));
                return i && i.MountPoints.length > 0 && c.push({
                    usage: "mounted",
                    block: r,
                    fsys: i
                }), a && c.push({
                    usage: "mdraid-member",
                    block: r,
                    mdraid: a
                }), l && c.push({
                    usage: "pvol",
                    block: r,
                    pvol: s,
                    vgroup: l
                }), c;
            }
            var r = o(n), i = {
                raw: r,
                Teardown: {
                    Mounts: [],
                    MDRaidMembers: [],
                    PhysicalVolumes: []
                },
                Blocking: {
                    Mounts: [],
                    MDRaidMembers: [],
                    PhysicalVolumes: []
                }
            };
            return r.forEach(function(e) {
                var t, n;
                "mounted" == e.usage ? i.Teardown.Mounts.push({
                    Name: u.block_name(e.block),
                    MountPoint: u.decode_filename(e.fsys.MountPoints[0])
                }) : "mdraid-member" == e.usage ? (t = {
                    Name: u.block_name(e.block),
                    MDRaid: u.mdraid_name(e.mdraid)
                }, n = u.array_find(e.mdraid.ActiveDevices, function(t) {
                    return t[0] == e.block.path;
                }), n && n[1] < 0 ? i.Teardown.MDRaidMembers.push(t) : i.Blocking.MDRaidMembers.push(t)) : "pvol" == e.usage && (t = {
                    Name: u.block_name(e.block),
                    VGroup: e.vgroup.Name
                }, e.pvol.FreeSize == e.pvol.Size ? i.Teardown.PhysicalVolumes.push(t) : i.Blocking.PhysicalVolumes.push(t));
            }), i.Teardown.HasMounts = i.Teardown.Mounts.length > 0, i.Teardown.HasMDRaidMembers = i.Teardown.MDRaidMembers.length > 0, 
            i.Teardown.HasPhysicalVolumes = i.Teardown.PhysicalVolumes.length > 0, i.Blocking.HasMounts = i.Blocking.Mounts.length > 0, 
            i.Blocking.HasMDRaidMembers = i.Blocking.MDRaidMembers.length > 0, i.Blocking.HasPhysicalVolumes = i.Blocking.PhysicalVolumes.length > 0, 
            i.Blocking.HasMounts || i.Blocking.HasMDRaidMembers || i.Blocking.HasPhysicalVolumes || (i.Blocking = null), 
            i;
        }, u.teardown_active_usage = function(e, t) {
            function n(e) {
                return i.all(e.map(function(e) {
                    return e.fsys.Unmount({});
                }));
            }
            function o(e) {
                return i.all(e.map(function(e) {
                    return e.mdraid.RemoveDevice(e.block.path, {
                        wipe: {
                            t: "b",
                            v: !0
                        }
                    });
                }));
            }
            function r(t) {
                function n(t) {
                    var n = e.vgroups[t], o = r[t];
                    return o.length == e.vgroups_pvols[t].length ? n.Delete({
                        "tear-down": {
                            t: "b",
                            v: !0
                        }
                    }) : i.all(o.map(function(e) {
                        return n.RemoveDevice(e.path, !0, {});
                    }));
                }
                var o, r = {};
                t.forEach(function(e) {
                    r[e.vgroup.path] || (r[e.vgroup.path] = []), r[e.vgroup.path].push(e.block);
                });
                for (o in r) n(o);
            }
            return i.all([ n(t.raw.filter(function(e) {
                return "mounted" == e.usage;
            })), o(t.raw.filter(function(e) {
                return "mdraid-member" == e.usage;
            })), r(t.raw.filter(function(e) {
                return "pvol" == e.usage;
            })) ]);
        }, r.fn.amend = function(e, t) {
            return this.each(function() {
                var t = r("<div>").html(e);
                o(this, t[0], 0);
            }), this;
        }, u.hide = function(e) {
            var t = document.querySelector("#storage-detail");
            t.setAttribute("hidden", "");
        }, u.show_soon = function e(t, n) {
            var o = document.querySelector(t);
            if (o.hasAttribute("hidden")) {
                var r = o.getAttribute("hidden");
                n ? (o.removeAttribute("hidden"), window.clearTimeout(parseInt(r, 10))) : r || (r = window.setTimeout(function() {
                    e(t, !0);
                }, 2e3), o.setAttribute("hidden", String(r)));
            }
        }, e.exports = u;
    }();
}, function(e, t, n) {
    "use strict";
    function o(e) {
        if (e in a) return a[e];
        var t = document.createElement("div");
        t.innerHTML = e, r.translate(t);
        var n = t.innerHTML;
        return a[e] = n, n;
    }
    var r = n(7), i = n(11), a = {};
    e.exports = r.extend({}, i, {
        render: function(e, t, n) {
            return o(i.render(e, t, n));
        },
        to_html: function(e, t, n, r) {
            return o(i.to_html(e, t, n, r));
        },
        clearCache: function() {
            return a = {}, i.clearCache();
        }
    });
}, function(e, t, n) {
    var o, r;
    /*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
    !function(i, a) {
        if ("object" == typeof t && t) a(t); else {
            var s = {};
            a(s), o = s, r = "function" == typeof o ? o.call(t, n, t, e) : o, !(void 0 !== r && (e.exports = r));
        }
    }(this, function(e) {
        function t(e, t) {
            return p.call(e, t);
        }
        function n(e) {
            return !t(m, e);
        }
        function o(e) {
            return "function" == typeof e;
        }
        function r(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        }
        function i(e) {
            return String(e).replace(/[&<>"'\/]/g, function(e) {
                return g[e];
            });
        }
        function a(e) {
            if (!v(e) || 2 !== e.length) throw new Error("Invalid tags: " + e);
            return [ new RegExp(r(e[0]) + "\\s*"), new RegExp("\\s*" + r(e[1])) ];
        }
        function s(t, o) {
            function i() {
                if (S && !C) for (;E.length; ) delete T[E.pop()]; else E = [];
                S = !1, C = !1;
            }
            o = o || e.tags, t = t || "", "string" == typeof o && (o = o.split(y));
            for (var s, d, f, p, m, h, v = a(o), g = new u(t), w = [], T = [], E = [], S = !1, C = !1; !g.eos(); ) {
                if (s = g.pos, f = g.scanUntil(v[0])) for (var M = 0, N = f.length; M < N; ++M) p = f.charAt(M), 
                n(p) ? E.push(T.length) : C = !0, T.push([ "text", p, s, s + 1 ]), s += 1, "\n" === p && i();
                if (!g.scan(v[0])) break;
                if (S = !0, d = g.scan(x) || "name", g.scan(b), "=" === d ? (f = g.scanUntil(_), 
                g.scan(_), g.scanUntil(v[1])) : "{" === d ? (f = g.scanUntil(new RegExp("\\s*" + r("}" + o[1]))), 
                g.scan(k), g.scanUntil(v[1]), d = "&") : f = g.scanUntil(v[1]), !g.scan(v[1])) throw new Error("Unclosed tag at " + g.pos);
                if (m = [ d, f, s, g.pos ], T.push(m), "#" === d || "^" === d) w.push(m); else if ("/" === d) {
                    if (h = w.pop(), !h) throw new Error('Unopened section "' + f + '" at ' + s);
                    if (h[1] !== f) throw new Error('Unclosed section "' + h[1] + '" at ' + s);
                } else "name" === d || "{" === d || "&" === d ? C = !0 : "=" === d && (v = a(o = f.split(y)));
            }
            if (h = w.pop()) throw new Error('Unclosed section "' + h[1] + '" at ' + g.pos);
            return c(l(T));
        }
        function l(e) {
            for (var t, n, o = [], r = 0, i = e.length; r < i; ++r) t = e[r], t && ("text" === t[0] && n && "text" === n[0] ? (n[1] += t[1], 
            n[3] = t[3]) : (o.push(t), n = t));
            return o;
        }
        function c(e) {
            for (var t, n, o = [], r = o, i = [], a = 0, s = e.length; a < s; ++a) switch (t = e[a], 
            t[0]) {
              case "#":
              case "^":
                r.push(t), i.push(t), r = t[4] = [];
                break;

              case "/":
                n = i.pop(), n[5] = t[2], r = i.length > 0 ? i[i.length - 1][4] : o;
                break;

              default:
                r.push(t);
            }
            return o;
        }
        function u(e) {
            this.string = e, this.tail = e, this.pos = 0;
        }
        function d(e, t) {
            this.view = null == e ? {} : e, this.cache = {
                ".": this.view
            }, this.parent = t;
        }
        function f() {
            this.cache = {};
        }
        var p = RegExp.prototype.test, m = /\S/, h = Object.prototype.toString, v = Array.isArray || function(e) {
            return "[object Array]" === h.call(e);
        }, g = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;"
        }, b = /\s*/, y = /\s+/, _ = /\s*=/, k = /\s*\}/, x = /#|\^|\/|>|\{|&|=|!/;
        u.prototype.eos = function() {
            return "" === this.tail;
        }, u.prototype.scan = function(e) {
            var t = this.tail.match(e);
            if (t && 0 === t.index) {
                var n = t[0];
                return this.tail = this.tail.substring(n.length), this.pos += n.length, n;
            }
            return "";
        }, u.prototype.scanUntil = function(e) {
            var t, n = this.tail.search(e);
            switch (n) {
              case -1:
                t = this.tail, this.tail = "";
                break;

              case 0:
                t = "";
                break;

              default:
                t = this.tail.substring(0, n), this.tail = this.tail.substring(n);
            }
            return this.pos += t.length, t;
        }, d.prototype.push = function(e) {
            return new d(e, this);
        }, d.prototype.lookup = function(e) {
            var t;
            if (e in this.cache) t = this.cache[e]; else {
                for (var n = this; n; ) {
                    if (e.indexOf(".") > 0) {
                        t = n.view;
                        for (var r = e.split("."), i = 0; null != t && i < r.length; ) t = t[r[i++]];
                    } else t = n.view[e];
                    if (null != t) break;
                    n = n.parent;
                }
                this.cache[e] = t;
            }
            return o(t) && (t = t.call(this.view)), t;
        }, f.prototype.clearCache = function() {
            this.cache = {};
        }, f.prototype.parse = function(e, t) {
            var n = this.cache, o = n[e];
            return null == o && (o = n[e] = s(e, t)), o;
        }, f.prototype.render = function(e, t, n) {
            var o = this.parse(e), r = t instanceof d ? t : new d(t);
            return this.renderTokens(o, r, n, e);
        }, f.prototype.renderTokens = function(t, n, r, i) {
            function a(e) {
                return u.render(e, n, r);
            }
            for (var s, l, c = "", u = this, d = 0, f = t.length; d < f; ++d) switch (s = t[d], 
            s[0]) {
              case "#":
                if (l = n.lookup(s[1]), !l) continue;
                if (v(l)) for (var p = 0, m = l.length; p < m; ++p) c += this.renderTokens(s[4], n.push(l[p]), r, i); else if ("object" == typeof l || "string" == typeof l) c += this.renderTokens(s[4], n.push(l), r, i); else if (o(l)) {
                    if ("string" != typeof i) throw new Error("Cannot use higher-order sections without the original template");
                    l = l.call(n.view, i.slice(s[3], s[5]), a), null != l && (c += l);
                } else c += this.renderTokens(s[4], n, r, i);
                break;

              case "^":
                l = n.lookup(s[1]), (!l || v(l) && 0 === l.length) && (c += this.renderTokens(s[4], n, r, i));
                break;

              case ">":
                if (!r) continue;
                l = o(r) ? r(s[1]) : r[s[1]], null != l && (c += this.renderTokens(this.parse(l), n, r, l));
                break;

              case "&":
                l = n.lookup(s[1]), null != l && (c += l);
                break;

              case "name":
                l = n.lookup(s[1]), null != l && (c += e.escape(l));
                break;

              case "text":
                c += s[1];
            }
            return c;
        }, e.name = "mustache.js", e.version = "0.8.1", e.tags = [ "{{", "}}" ];
        var w = new f();
        e.clearCache = function() {
            return w.clearCache();
        }, e.parse = function(e, t) {
            return w.parse(e, t);
        }, e.render = function(e, t, n) {
            return w.render(e, t, n);
        }, e.to_html = function(t, n, r, i) {
            var a = e.render(t, n, r);
            return o(i) ? void i(a) : a;
        }, e.escape = i, e.Scanner = u, e.Context = d, e.Writer = f;
    });
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t) {
            e.wait(function() {
                e.valid && t();
            });
        }
        function o(e) {
            a || (i = s.dbus("org.freedesktop.systemd1", {
                superuser: "try"
            }), a = i.proxy("org.freedesktop.systemd1.Manager", "/org/freedesktop/systemd1"), 
            t(a, function() {
                a.Subscribe().fail(function(e) {
                    "org.freedesktop.systemd1.AlreadySubscribed" != e.name && "org.freedesktop.DBus.Error.FileExists" != e.name && console.warn("Subscribing to systemd signals failed", e);
                });
            })), t(a, e);
        }
        function r(e) {
            function n() {
                _.exists = "not-found" != k.LoadState || "inactive" != k.ActiveState, "activating" == k.ActiveState ? _.state = "starting" : "deactivating" == k.ActiveState ? _.state = "stopping" : "active" == k.ActiveState || "reloading" == k.ActiveState ? _.state = "running" : "failed" == k.ActiveState ? _.state = "failed" : "inactive" == k.ActiveState && _.exists ? _.state = "stopped" : _.state = void 0, 
                "enabled" == k.UnitFileState || "linked" == k.UnitFileState ? _.enabled = !0 : "disabled" == k.UnitFileState || "masked" == k.UnitFileState ? _.enabled = !1 : _.enabled = void 0, 
                _.unit = k, _.dispatchEvent("changed"), w.resolve();
            }
            function r() {
                _.service = x, _.dispatchEvent("changed");
            }
            function l() {
                function e(e, t) {
                    i.call(e, "org.freedesktop.DBus.Properties", "GetAll", [ t ]).fail(function(e) {
                        console.log(e);
                    }).done(function(e) {
                        var n = {};
                        for (var o in e[0]) n[o] = e[0][o].v;
                        var r = {};
                        r[t] = n;
                        var a = {};
                        a[k.path] = r, i.notify(a);
                    });
                }
                k && x && (e(k.path, "org.freedesktop.systemd1.Unit"), e(x.path, "org.freedesktop.systemd1.Service"));
            }
            function c(t, n, o, r, i) {
                r == e && l();
            }
            function u(e) {
                w.promise.then(e);
            }
            function d(e, t) {
                return i.call("/org/freedesktop/systemd1", "org.freedesktop.systemd1.Manager", e, t);
            }
            function f(e, t) {
                var n = s.defer();
                return d(e, t).done(function(e) {
                    var t = e[0];
                    T[t] = n;
                }).fail(function(e) {
                    n.reject(e);
                }), n.promise();
            }
            function p(e, t) {
                return d(e, t).then(function() {
                    return d("Reload", []);
                });
            }
            function m() {
                return f("StartUnit", [ e, "replace" ]);
            }
            function h() {
                return f("StopUnit", [ e, "replace" ]);
            }
            function v() {
                return f("RestartUnit", [ e, "replace" ]);
            }
            function g() {
                return f("TryRestartUnit", [ e, "replace" ]);
            }
            function b() {
                return p("EnableUnitFiles", [ [ e ], !1, !1 ]);
            }
            function y() {
                return p("DisableUnitFiles", [ [ e ], !1 ]);
            }
            var _ = {
                exists: null,
                state: null,
                enabled: null,
                wait: u,
                start: m,
                stop: h,
                restart: v,
                tryRestart: g,
                enable: b,
                disable: y
            };
            s.event_target(_);
            var k, x, w = s.defer();
            e.indexOf(".") == -1 && (e += ".service"), o(function() {
                a.LoadUnit(e).done(function(e) {
                    k = i.proxy("org.freedesktop.systemd1.Unit", e), k.addEventListener("changed", n), 
                    t(k, n), x = i.proxy("org.freedesktop.systemd1.Service", e), x.addEventListener("changed", r), 
                    t(x, r);
                }).fail(function(e) {
                    _.exists = !1, _.dispatchEvent("changed");
                });
            }), a.addEventListener("Reloading", function(e, t) {
                t || l();
            }), a.addEventListener("JobNew", c), a.addEventListener("JobRemoved", c);
            var T = {};
            return a.addEventListener("JobRemoved", function(e, t, n, o, r) {
                T[n] && ("done" == r ? T[n].resolve() : T[n].reject(r), delete T[n]);
            }), _;
        }
        var i, a, s = n(7);
        e.exports = {
            proxy: r
        };
    }();
}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t, n) {
        var o;
        return o = "string" == typeof e ? e : e.join("\n"), a.default.spawn(s.concat(t), n).input(o);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.spawn = r;
    var i = n(7), a = o(i), s = [ "sh", "-ec", "exec $(which python3 2>/dev/null || which python) $@", "--", "-" ];
}, function(e, t) {
    e.exports = "#\n# This file is part of Cockpit.\n#\n# Copyright (C) 2017 Red Hat, Inc.\n#\n# Cockpit is free software; you can redistribute it and/or modify it\n# under the terms of the GNU Lesser General Public License as published by\n# the Free Software Foundation; either version 2.1 of the License, or\n# (at your option) any later version.\n#\n# Cockpit is distributed in the hope that it will be useful, but\n# WITHOUT ANY WARRANTY; without even the implied warranty of\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n# Lesser General Public License for more details.\n#\n# You should have received a copy of the GNU Lesser General Public License\n# along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\nimport os\nimport ctypes\nimport struct\nimport subprocess\nimport traceback\n\nIN_CLOSE_WRITE = 0x00000008\nIN_MOVED_FROM  = 0x00000040\nIN_MOVED_TO    = 0x00000080\nIN_CREATE      = 0x00000100\nIN_DELETE      = 0x00000200\nIN_DELETE_SELF = 0x00000400\nIN_MOVE_SELF   = 0x00000800\nIN_IGNORED     = 0x00008000\n\nclass Inotify:\n    def __init__(self):\n        self._libc = ctypes.CDLL(None, use_errno=True)\n        self._get_errno_func = ctypes.get_errno\n\n        self._libc.inotify_init.argtypes = []\n        self._libc.inotify_init.restype = ctypes.c_int\n        self._libc.inotify_add_watch.argtypes = [ctypes.c_int, ctypes.c_char_p,\n                                                 ctypes.c_uint32]\n        self._libc.inotify_add_watch.restype = ctypes.c_int\n        self._libc.inotify_rm_watch.argtypes = [ctypes.c_int, ctypes.c_int]\n        self._libc.inotify_rm_watch.restype = ctypes.c_int\n\n        self.fd = self._libc.inotify_init()\n\n    def add_watch(self, path, mask):\n        path = ctypes.create_string_buffer(path.encode(sys.getfilesystemencoding()))\n        wd = self._libc.inotify_add_watch(self.fd, path, mask)\n        if wd < 0:\n            sys.stderr.write(\"can't add watch for %s: %s\\n\" % (path, os.strerror(self._get_errno_func())))\n        return wd\n\n    def rem_watch(self, wd):\n        if self._libc.inotify_rm_watch(self.fd, wd) < 0:\n            sys.stderr.write(\"can't remove watch: %s\\n\" % (os.strerror(self._get_errno_func())))\n\n    def process(self, callback):\n        buf = os.read(self.fd, 4096)\n        pos = 0\n        while pos < len(buf):\n            (wd, mask, cookie, name_len) = struct.unpack('iIII', buf[pos:pos+16])\n            pos += 16\n            (name,) = struct.unpack('%ds' % name_len, buf[pos:pos + name_len])\n            pos += name_len\n            callback(wd, mask, name.decode().rstrip('\\0'))\n\n    def run(self, callback):\n        while True:\n            self.process(callback)\n";
}, function(e, t) {
    e.exports = '#! /usr/bin/python\n\n# nfs-mounts   --  Monitor and manage NFS mounts\n#\n# This is similar to how UDisks2 monitors and manages block device\n# mounts, but for NFS.  This might be moved into UDisks2, or not.\n\n# We monitor all NFS remotes listed in /etc/fstab and in /proc/self/mounts.\n# If a entry from mtab is also found in fstab, we report only the\n# fstab entry and mark it is "mounted".\n\nimport select\nimport re\nimport sys\nimport json\nimport errno\n\nclass Watcher:\n    def __init__(self, path):\n        self.inotify = Inotify()\n        self.path = path\n        self.setup()\n\n    def setup(self):\n        self.wd = self.inotify.add_watch(self.path, IN_CLOSE_WRITE)\n\n    def process(self, callback = None):\n        def event(wd, mask, name):\n            if callback:\n                callback()\n            if mask & IN_IGNORED:\n                self.setup()\n        self.inotify.process(event)\n\ndef field_escape(str):\n    return str.replace("\\\\", "\\\\134").replace(" ", "\\\\040").replace("\\t", "\\\\011")\n\ndef field_unescape(str):\n    return re.sub("\\\\\\\\([0-7]{1,3})", lambda m: chr(int(m.group(1), 8)), str)\n\ndef parse_tab(name):\n    entries = [ ]\n    for line in open(name, "r").read().split("\\n"):\n        sline = line.strip()\n        if sline == "" or sline[0] == "#":\n            continue\n        fields = list(map(field_unescape, re.split("[ \\t]+", sline)))\n        if len(fields) > 0 and ":" in fields[0]:\n            entries.append(fields)\n    return entries\n\ndef index_tab(tab):\n    by_remote = { }\n    for t in tab:\n        if not t[0] in by_remote:\n            by_remote[t[0]] = [ ]\n        by_remote[t[0]].append(t)\n    return by_remote\n\ndef modify_tab(name, modify):\n    lines = open(name, "r").read().split("\\n")\n    if len(lines) > 0 and lines[len(lines)-1] == "":\n        del lines[len(lines)-1]\n\n    new_lines = [ ]\n    for line in lines:\n        sline = line.strip()\n        if sline == "" or sline[0] == "#":\n            new_lines.append(line)\n        else:\n            fields = list(map(field_unescape, re.split("[ \\t]+", sline)))\n            if len(fields) > 0 and ":" in fields[0]:\n                new_fields = modify(fields)\n                if new_fields:\n                    if new_fields == fields:\n                        new_lines.append(line)\n                    else:\n                        new_lines.append(" ".join(map(field_escape, new_fields)))\n            else:\n                new_lines.append(line)\n    new_fields = modify(None)\n    if new_fields:\n        new_lines.append(" ".join(map(field_escape, new_fields)))\n\n    f = open(name + ".tmp", "w")\n    f.write("\\n".join(new_lines) + "\\n")\n    f.flush()\n    os.fsync(f.fileno())\n    f.close()\n    os.rename(name + ".tmp", name)\n\nfstab = [ ]\nfstab_by_remote = { }\n\nmtab = [ ]\nmtab_by_remote = { }\n\ndef process_fstab():\n    global fstab, fstab_by_remote\n    fstab = parse_tab("/etc/fstab")\n    fstab_by_remote = index_tab(fstab)\n\ndef process_mtab():\n    global mtab, mtab_by_remote\n    mtab = parse_tab("/proc/self/mounts")\n    mtab_by_remote = index_tab(mtab)\n\ndef find_in_tab(tab_by_remote, fields):\n    for t in tab_by_remote.get(fields[0], [ ]):\n        if t[0] == fields[0] and t[1] == fields[1]:\n            return t\n    return None\n\ndef report():\n    data = [ ]\n    for f in fstab:\n        m = find_in_tab(mtab_by_remote, f)\n        data.append({ "fstab": True, "fields": f, "mounted": m is not None })\n    for m in mtab:\n        if not find_in_tab(fstab_by_remote, m):\n            data.append({ "fstab": False, "fields": m, "mounted": True })\n    sys.stdout.write(json.dumps(data) + "\\n")\n    sys.stdout.flush()\n\ndef monitor():\n    process_mtab()\n    process_fstab()\n    report()\n    fstab_watcher = Watcher("/etc/fstab")\n    mtab_file = open("/proc/self/mounts", "r")\n    while True:\n        (r, w, x) = select.select([ fstab_watcher.inotify.fd ], [ ], [ mtab_file ])\n        if mtab_file in x:\n            process_mtab()\n            report()\n        if fstab_watcher.inotify.fd in r:\n            fstab_watcher.process()\n            process_fstab()\n            report()\n\ndef mkdir_if_necessary(path):\n    if not os.path.exists(path):\n        os.makedirs(path)\n\ndef rmdir_if_empty(path):\n    try:\n        os.rmdir(path)\n    except OSError as e:\n        if e.errno not in [ errno.ENOTEMPTY, errno.ENOTDIR, errno.ENOENT ]:\n            raise\n\ndef update(entry, new_fields):\n    old_fields = entry["fields"]\n    if old_fields[1] != new_fields[1]:\n        mkdir_if_necessary(new_fields[1])\n    if entry["mounted"]:\n        if (new_fields[0] == old_fields[0]\n            and new_fields[1] == old_fields[1]\n            and new_fields[2] == old_fields[2]):\n            remount(new_fields)\n        else:\n            try:\n                unmount(entry)\n                if old_fields[1] != new_fields[1]:\n                    rmdir_if_empty(old_fields[1])\n            except subprocess.CalledProcessError:\n                pass\n            mount({ "fields": new_fields })\n    else:\n        if old_fields[1] != new_fields[1]:\n            rmdir_if_empty(old_fields[1])\n    modify_tab("/etc/fstab", lambda fields: new_fields if fields == old_fields else fields)\n\ndef add(new_fields):\n    mkdir_if_necessary(new_fields[1])\n    mount({ "fields": new_fields })\n    modify_tab("/etc/fstab", lambda fields: new_fields if fields is None else fields)\n\ndef remove(entry):\n    old_fields = entry["fields"]\n    if entry["mounted"]:\n        unmount(entry)\n    rmdir_if_empty(old_fields[1])\n    modify_tab("/etc/fstab", lambda fields: None if fields == old_fields else fields)\n\ndef mount(entry):\n    fields = entry["fields"]\n    mkdir_if_necessary(fields[1])\n    subprocess.check_call([ "mount",\n                            "-t", fields[2],\n                            "-o", fields[3],\n                            fields[0],\n                            fields[1] ])\n\ndef remount(fields):\n    subprocess.check_call([ "mount",\n                            "-o", "remount," + fields[3],\n                            fields[0],\n                            fields[1] ])\n\ndef unmount(entry):\n    subprocess.check_call([ "umount", entry["fields"][1] ])\n\ndef fuser(entry):\n\n    import dbus\n    bus = dbus.SystemBus()\n    systemd_manager = dbus.Interface(bus.get_object(\'org.freedesktop.systemd1\', \'/org/freedesktop/systemd1\'),\n                                     dbus_interface=\'org.freedesktop.systemd1.Manager\')\n\n    if not entry["mounted"]:\n        return [ ]\n\n    mount_point = entry["fields"][1]\n    results = { }\n\n    def check(path, pid):\n        t = os.readlink(path)\n        if t == mount_point or t.startswith(mount_point + "/"):\n            unit = systemd_manager.GetUnitByPID(int(pid))\n            if unit not in results:\n                unit_obj = bus.get_object(\'org.freedesktop.systemd1\', unit)\n                desc = unit_obj.Get("org.freedesktop.systemd1.Unit", "Description",\n                                    dbus_interface="org.freedesktop.DBus.Properties")\n                id = unit_obj.Get("org.freedesktop.systemd1.Unit", "Id",\n                                  dbus_interface="org.freedesktop.DBus.Properties")\n                results[unit] = { "unit": id, "desc": desc }\n            return True\n        return False\n\n    def checkdir(path, pid):\n        for f in os.listdir(path):\n            if check(os.path.join(path, f), pid):\n                return True\n        return False\n\n    my_pid = os.getpid()\n\n    for p in os.listdir("/proc/"):\n        if not p.isdigit():\n            continue\n        if int(p) == my_pid:\n            continue\n        proc = "/proc/%s/" % p\n        try:\n            if check(proc + "exe", p): continue\n            if check(proc + "root", p): continue\n            if check(proc + "cwd", p): continue\n            if checkdir(proc + "fd", p): continue\n            if checkdir(proc + "map_files", p): continue\n        except OSError:\n            pass\n\n    return list(results.values())\n\ndef users(entry):\n    data = fuser(entry)\n    sys.stdout.write(json.dumps(data) + "\\n")\n    sys.stdout.flush()\n\ndef stop_units(units):\n    import dbus\n    bus = dbus.SystemBus()\n    systemd_manager = dbus.Interface(bus.get_object(\'org.freedesktop.systemd1\', \'/org/freedesktop/systemd1\'),\n                                     dbus_interface=\'org.freedesktop.systemd1.Manager\')\n    for u in units:\n        systemd_manager.StopUnit(u, \'replace\')\n\ndef stop_and_unmount(units, entry):\n    stop_units(units)\n    unmount(entry)\n\ndef stop_and_remove(units, entry):\n    stop_units(units)\n    remove(entry)\n\ndef dispatch(argv):\n    if argv[1] == "monitor":\n        monitor()\n    elif argv[1] == "update":\n        update(json.loads(argv[2]), json.loads(argv[3]))\n    elif argv[1] == "add":\n        add(json.loads(argv[2]))\n    elif argv[1] == "remove":\n        remove(json.loads(argv[2]))\n    elif argv[1] == "mount":\n        mount(json.loads(argv[2]))\n    elif argv[1] == "unmount":\n        unmount(json.loads(argv[2]))\n    elif argv[1] == "stop-and-unmount":\n        stop_and_unmount(json.loads(argv[2]), json.loads(argv[3]))\n    elif argv[1] == "stop-and-remove":\n        stop_and_remove(json.loads(argv[2]), json.loads(argv[3]))\n    elif argv[1] == "users":\n        users(json.loads(argv[2]))\n\ntry:\n    dispatch(sys.argv)\nexcept subprocess.CalledProcessError as e:\n    sys.exit(e.returncode)\nexcept Exception as e:\n    sys.stderr.write(str(e) + "\\n")\n    sys.exit(1)\n';
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e) {
            function t(t) {
                function n(e) {
                    o(t).find('[data-job-object="' + e + '"]').css("visibility", "visible");
                }
                function r(t) {
                    n(t);
                    var o = a.get_parent(e, t);
                    o && r(o);
                }
                function i(e) {
                    if (e && e.length) for (var t = 0; t < e.length; t++) r(e[t]);
                }
                var s;
                o(t).find("[data-job-object]").css("visibility", "hidden");
                for (s in e.jobs) i(e.jobs[s].Objects);
            }
            function n() {
                function t(t) {
                    var n = c[t.Operation];
                    n || (n = s("Operation '$operation' on $target"));
                    var o = t.Objects.map(function(t) {
                        return e.blocks[t] ? a.block_name(e.blocks[t]) : e.mdraids[t] ? a.mdraid_name(e.mdraids[t]) : e.vgroups[t] ? e.vgroups[t].Name : e.lvols[t] ? a.lvol_name(e.lvols[t]) : s("unknown target");
                    }).join(", ");
                    return r.format(n, {
                        operation: t.Operation,
                        target: o
                    });
                }
                function n(t) {
                    return e.jobs[t];
                }
                function o(e, t) {
                    return n(e).StartTime - n(t).StartTime;
                }
                function i(e) {
                    var t = n(e), o = u - t.StartTime / 1e3;
                    return o >= 2e3 || t.ExpectedEndTime > 0 && t.ExpectedEndTime / 1e3 - u >= 2e3;
                }
                function l(e) {
                    var o = n(e), r = null;
                    if (o.ExpectedEndTime > 0) {
                        var i = o.ExpectedEndTime / 1e3 - u;
                        i > 0 && (r = a.format_delay(i));
                    }
                    return {
                        path: e,
                        dbus: o,
                        Description: t(o),
                        Progress: o.ProgressValid && (100 * o.Progress).toFixed() + "%",
                        RemainingTime: r,
                        Cancelable: o.Cancelable
                    };
                }
                var c = {
                    "ata-smart-selftest": s("SMART self-test of $target"),
                    "drive-eject": s("Ejecting $target"),
                    "encrypted-unlock": s("Unlocking $target"),
                    "encrypted-lock": s("Locking $target"),
                    "encrypted-modify": s("Modifying $target"),
                    "swapspace-start": s("Starting swapspace $target"),
                    "swapspace-stop": s("Stopping swapspace $target"),
                    "filesystem-mount": s("Mounting $target"),
                    "filesystem-unmount": s("Unmounting $target"),
                    "filesystem-modify": s("Modifying $target"),
                    "format-erase": s("Erasing $target"),
                    "format-mkfs": s("Creating filesystem on $target"),
                    "loop-setup": s("Setting up loop device $target"),
                    "partition-modify": s("Modifying $target"),
                    "partition-delete": s("Deleting $target"),
                    "partition-create": s("Creating partition $target"),
                    cleanup: s("Cleaning up for $target"),
                    "ata-secure-erase": s("Securely erasing $target"),
                    "ata-enhanced-secure-erase": s("Very securely erasing $target"),
                    "md-raid-stop": s("Stopping RAID Device $target"),
                    "md-raid-start": s("Starting RAID Device $target"),
                    "md-raid-fault-device": s("Marking $target as faulty"),
                    "md-raid-remove-device": s("Removing $target from RAID Device"),
                    "md-raid-create": s("Creating RAID Device $target"),
                    "mdraid-check-job": s("Checking RAID Device $target"),
                    "mdraid-repair-job": s("Checking and Repairing RAID Device $target"),
                    "mdraid-recover-job": s("Recovering RAID Device $target"),
                    "mdraid-sync-job": s("Synchronizing RAID Device $target"),
                    "lvm-lvol-delete": s("Deleting $target"),
                    "lvm-lvol-activate": s("Activating $target"),
                    "lvm-lvol-deactivate": s("Deactivating $target"),
                    "lvm-lvol-snapshot": s("Creating snapshot of $target"),
                    "lvm-vg-create": s("Creating volume group $target"),
                    "lvm-vg-delete": s("Deleting volume group $target"),
                    "lvm-vg-add-device": s("Adding physical volume to $target"),
                    "lvm-vg-rem-device": s("Removing physical volume from $target"),
                    "lvm-vg-empty-device": s("Emptying $target"),
                    "lvm-vg-create-volume": s("Creating logical volume $target"),
                    "lvm-vg-rename": s("Renaming $target"),
                    "lvm-vg-resize": s("Resizing $target")
                }, u = new Date().getTime() + e.time_offset;
                return Object.keys(e.jobs).filter(i).sort(o).map(l);
            }
            function l() {
                var e = n();
                return i.render(c, {
                    Jobs: e,
                    HasJobs: e.length > 0
                });
            }
            var c = o("#jobs-tmpl").html();
            return i.parse(c), o(e.jobs).on("added removed changed", function() {
                t("body");
            }), {
                update: t,
                query: n,
                render: l
            };
        }
        var o = n(6), r = n(7), i = n(10), a = n(9), s = r.gettext;
        e.exports = {
            init: t
        };
    }();
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t) {
            function n() {
                function n(t, n) {
                    return e.mdraids[t].Name.localeCompare(e.mdraids[n].Name);
                }
                function r(t) {
                    var n = e.mdraids[t];
                    return {
                        path: t,
                        UUID: n.UUID,
                        Size: l.fmt_size(n.Size),
                        Name: l.mdraid_name(n)
                    };
                }
                var a = Object.keys(e.mdraids).sort(n).map(r);
                o("#mdraids").amend(i.render(F, {
                    MDRaids: a,
                    HasMDRaids: a.length > 0
                })), u.update(), t.update("#mdraids");
            }
            function p() {
                function n(t, n) {
                    return e.vgroups[t].Name.localeCompare(e.vgroups[n].Name);
                }
                function r(t) {
                    var n = e.vgroups[t];
                    return {
                        path: t,
                        Size: l.fmt_size(n.Size),
                        Name: n.Name
                    };
                }
                var a = Object.keys(e.vgroups).sort(n).map(r);
                o("#vgroups").amend(i.render(j, {
                    VGroups: a,
                    HasVGroups: a.length > 0
                })), u.update(), t.update("#vgroups");
            }
            function m() {
                function t(e, t) {
                    return e.Name.localeCompare(t.Name);
                }
                function n(t) {
                    var n = e.iscsi_sessions[t];
                    return {
                        path: t,
                        Name: n.data.target_name || "",
                        Tpgt: n.data.tpgt,
                        Address: n.data.persistent_address,
                        Port: n.data.persistent_port
                    };
                }
                var r = Object.keys(e.iscsi_sessions).map(n).sort(t);
                o("#iscsi-sessions").amend(i.render(U, {
                    Sessions: r,
                    HasSessions: r.length > 0
                })), u.update();
            }
            function h() {
                function n(t, n) {
                    return e.drives[t].SortKey.localeCompare(e.drives[n].SortKey);
                }
                function r(e) {
                    if (e.MediaRemovable || e.Media) {
                        for (var t = 0; t < e.MediaCompatibility.length; t++) if (0 === e.MediaCompatibility[t].indexOf("optical")) return "optical";
                        return "removable";
                    }
                    return 0 === e.RotationRate ? "ssd" : "hdd";
                }
                function a(t) {
                    var n = e.drives[t], o = e.drives_block[t];
                    if (o || (o = e.drives_multipath_blocks[t][0]), o) {
                        var i, a = l.decode_filename(o.Device).replace(/^\/dev\//, ""), s = e.blockdev_io.data[a], c = l.drive_name(n), u = r(n), d = l.fmt_size(n.Size);
                        return i = "hdd" == u ? d + " " + f("storage", "Hard Disk") : "ssd" == u ? d + " " + f("storage", "Solid-State Disk") : "removable" == u ? 0 === n.Size ? f("storage", "Removable Drive") : d + " " + f("storage", "Removable Drive") : "optical" == u ? f("storage", "Optical Drive") : 0 === n.Size ? f("storage", "Drive") : d + " " + f("storage", "Drive"), 
                        {
                            path: t,
                            dev: a,
                            Name: c,
                            Classification: u,
                            Description: i,
                            ReadRate: s && l.fmt_rate(s[0]),
                            WriteRate: s && l.fmt_rate(s[1]),
                            Highlight: a == L
                        };
                    }
                }
                var s = Object.keys(e.drives).sort(n).map(a);
                o("#drives").amend(i.render(V, {
                    Drives: s,
                    HasDrives: s.length > 0
                })), u.update(), t.update("#drives");
                for (var c in s) s[c] && s[c].dev && (I.add_instance(s[c].dev), R.add_instance(s[c].dev));
            }
            function v() {
                function t(t) {
                    var n = e.blocks[t], o = e.blocks_part[t], r = e.blocks_lvm2[t];
                    return !(o && "/" != o.Table || "/" != n.Drive || "/" != n.CryptoBackingDevice || "/" != n.MDRaid || r && "/" != r.LogicalVolume || n.HintIgnore || !(n.Size > 0));
                }
                function n(t) {
                    var n = e.blocks[t], o = l.block_name(n);
                    return {
                        path: t,
                        dev: o.replace(/^\/dev\//, ""),
                        Name: o,
                        Description: r.format(d("$0 Block Device"), l.fmt_size(n.Size))
                    };
                }
                var a = Object.keys(e.blocks).filter(t).sort(l.make_block_path_cmp(e)).map(n);
                o("#others").amend(i.render(B, {
                    Others: a,
                    HasOthers: a.length > 0
                })), u.update();
            }
            function g() {
                function n(t) {
                    var n = e.blocks[t], o = e.blocks_fsys[t];
                    return o && "filesystem" == n.IdUsage && "mpath_member" != n.IdType && !n.HintIgnore;
                }
                function r(t, n) {
                    return e.blocks[t].IdLabel.localeCompare(e.blocks[n]).IdLabel;
                }
                function a(t) {
                    for (var n, o = e.blocks[t], r = e.blocks_fsys[t], i = r.MountPoints.map(l.decode_filename), a = 0; a < i.length && !n; a++) n = e.fsys_sizes.data[i[a]];
                    return {
                        LinkTarget: l.get_block_link_target(e, t),
                        Name: o.IdLabel || l.block_name(o),
                        DeviceSize: l.fmt_size(o.Size),
                        UsageText: n ? l.format_fsys_usage(n[0], n[1]) : null,
                        UsagePercent: n ? n[0] / n[1] * 100 : null,
                        UsageCritical: n && n[0] > .95 * n[1],
                        MountPoints: r.MountPoints.map(l.decode_filename),
                        IsMounted: r.MountPoints.length > 0
                    };
                }
                var s = Object.keys(e.blocks).filter(n).sort(r).map(a);
                o("#mounts").amend(i.render($, {
                    Mounts: s,
                    HasMounts: s.length > 0
                })), o("#mounts [data-width]").each(function() {
                    o(this).css("width", o(this).attr("data-width"));
                }), u.update(), t.update("#mounts");
            }
            function b() {
                function t(t, n) {
                    var o;
                    return t.mounted && (o = e.nfs.get_fsys_size(t)), {
                        Server: t.fields[0].split(":")[0],
                        RemoteDir: t.fields[0].split(":")[1],
                        UsageText: o ? l.format_fsys_usage(o[0], o[1]) : null,
                        UsagePercent: o ? o[0] / o[1] * 100 : null,
                        UsageCritical: o && o[0] > .95 * o[1],
                        MountPoint: t.fields[1],
                        IsMounted: t.mounted,
                        CanEdit: t.fstab,
                        action_arg: n
                    };
                }
                var n = e.nfs.entries.map(t), r = o("#nfs-mounts .nfs-arm-button").hasClass("active");
                o("#nfs-mounts").amend(i.render(W, {
                    armed: r,
                    Mounts: n,
                    HasMounts: n.length > 0
                })), o("#nfs-mounts [data-width]").each(function() {
                    o(this).css("width", o(this).attr("data-width"));
                });
            }
            function y() {
                o("#nfs-mounts .nfs-arm-button").removeClass("active"), b();
            }
            function _(e, t) {
                t.fail(function(t, n) {
                    o("#error-popup-title").text(e), o("#error-popup-message").text(t.toString()), o("#error-popup").modal("show");
                });
            }
            function k(t, n, r, i, a) {
                function s(e) {
                    0 === e.length ? (o("#error-popup-title").text(t), o("#error-popup-message").text(r.toString()), 
                    o("#error-popup").modal("show")) : c.open({
                        Title: t,
                        Teardown: {
                            HasUnits: !0,
                            Units: e.map(function(e) {
                                return {
                                    Unit: e.unit,
                                    Name: e.desc
                                };
                            })
                        },
                        Fields: [],
                        Action: e ? {
                            DangerButton: !0,
                            Title: i,
                            action: function() {
                                return a(e);
                            }
                        } : null
                    });
                }
                e.nfs.entry_users(n).done(function(e) {
                    s(e);
                }).fail(function(e) {
                    s([]);
                });
            }
            function x(t) {
                function n(e) {
                    if (e.server == i) return !1;
                    i = e.server, a && a.resolve(!1);
                    var t = r.defer();
                    return a = t, r.spawn([ "showmount", "-e", "--no-headers", i ], {
                        err: "message"
                    }).done(function(e) {
                        if (t == a) {
                            var n = [];
                            e.split("\n").forEach(function(e) {
                                var t = e.split(" ")[0];
                                t && n.push(t);
                            }), t.resolve(n), a = null;
                        } else t.resolve(!1);
                    }).fail(function(e) {
                        console.warn(e), t.resolve([]);
                    }), t.promise();
                }
                function o(o) {
                    c.open({
                        Title: d(t ? "NFS Mount" : "New NFS Mount"),
                        Alerts: o ? [ {
                            Message: d("This NFS mount is in use and only its options can be changed.")
                        } ] : null,
                        Fields: [ {
                            TextInput: "server",
                            Title: d("Server Address"),
                            Value: t ? t.fields[0].split(":")[0] : "",
                            validate: function(e) {
                                if ("" === e) return d("Server cannot be empty.");
                            },
                            disabled: o
                        }, {
                            ComboBox: "remote",
                            Title: d("Path on Server"),
                            Value: t ? t.fields[0].split(":")[1] : "",
                            Choices: n,
                            validate: function(e) {
                                return "" === e ? d("Path on server cannot be empty.") : "/" !== e[0] ? d('Path on server must start with "/".') : void 0;
                            },
                            disabled: o
                        }, {
                            TextInput: "dir",
                            Title: d("Local Mount Point"),
                            Value: t ? t.fields[1] : "",
                            validate: function(e) {
                                return "" === e ? d("Mount point cannot be empty.") : "/" !== e[0] ? d('Mount point must start with "/".') : void 0;
                            },
                            disabled: o
                        }, {
                            TextInput: "opts",
                            Title: d("Mount Options"),
                            Value: t ? t.fields[3] : "defaults",
                            validate: function(e) {
                                if ("" === e) return d("Options cannot be empty.");
                            }
                        } ],
                        Action: {
                            Title: d(t ? "Apply" : "Add"),
                            action: function(n) {
                                var o = [ n.server + ":" + n.remote, n.dir, t ? t.fields[2] : "nfs", n.opts ];
                                return t ? e.nfs.update_entry(t, o) : e.nfs.add_entry(o);
                            }
                        }
                    });
                }
                var i, a;
                t ? e.nfs.entry_users(t).done(function(e) {
                    o(e.length > 0);
                }).fail(function() {
                    o(!1);
                }) : o(!1);
            }
            function w() {
                o("#jobs").amend(t.render()), u.update();
            }
            function T(e) {
                var t = e.getAxes();
                t.yaxis.datamax < 1e5 ? t.yaxis.options.max = 1e5 : t.yaxis.options.max = null, 
                t.yaxis.options.min = 0;
            }
            function E(e) {
                return function(t) {
                    var n = t.getAxes();
                    o(e).text(a.bytes_per_sec_tick_unit(n.yaxis));
                };
            }
            function S(e, t) {
                L = t, h();
            }
            function C() {
                c.open({
                    Title: d("Add iSCSI Portal"),
                    Fields: [ {
                        TextInput: "address",
                        Title: d("Server Address"),
                        validate: function(e) {
                            if ("" === e) return d("Server address cannot be empty.");
                        }
                    }, {
                        TextInput: "username",
                        Title: d("Username")
                    }, {
                        PassInput: "password",
                        Title: d("Password")
                    } ],
                    Action: {
                        Title: d("Next"),
                        action: function(t, n) {
                            var r = o.Deferred(), i = {};
                            (t.username || t.password) && (i.username = {
                                t: "s",
                                v: t.username
                            }, i.password = {
                                t: "s",
                                v: t.password
                            });
                            var a = !1;
                            e.manager_iscsi.call("DiscoverSendTargets", [ t.address, 0, i ]).done(function(e) {
                                a || (r.resolve(), N(t, e[0]));
                            }).fail(function(e) {
                                a || r.reject(e);
                            });
                            var s = r.promise();
                            return s.cancel = function() {
                                a = !0, r.reject();
                            }, s;
                        },
                        failure_filter: function(e, t) {
                            return t ? t.message.indexOf("initiator failed authorization") != -1 ? [ {
                                field: "username",
                                message: null
                            }, {
                                field: "password",
                                message: d("Invalid username or password")
                            } ] : t.message.indexOf("cannot resolve host name") != -1 ? {
                                field: "address",
                                message: d("Unknown host name")
                            } : t.message.indexOf("connection login retries") != -1 ? {
                                field: "address",
                                message: d("Unable to reach server")
                            } : t : t;
                        }
                    }
                });
            }
            function M(t, n) {
                var o = {
                    "node.startup": {
                        t: "s",
                        v: "automatic"
                    }
                };
                return (n.username || n.password) && (o.username = {
                    t: "s",
                    v: n.username
                }, o.password = {
                    t: "s",
                    v: n.password
                }), e.manager_iscsi.call("Login", [ t[0], t[1], t[2], t[3], t[4], o ]);
            }
            function N(e, t) {
                var n = t.map(function(e) {
                    return {
                        Columns: [ e[0], e[2], e[3] ],
                        value: e
                    };
                });
                c.open({
                    Title: r.format(d("Available targets on $0"), e.address),
                    Fields: [ {
                        SelectRow: "target",
                        Title: d("Targets"),
                        Headers: [ d("Name"), d("Address"), d("Port") ],
                        Rows: n
                    } ],
                    Action: {
                        Title: d("Add"),
                        action: function(t) {
                            return M(t.target, e);
                        },
                        failure_filter: function(t, n) {
                            return n.message.indexOf("authorization") == -1 ? n : void D(e, t);
                        }
                    }
                });
            }
            function D(e, t) {
                c.open({
                    Title: d("Authentication required"),
                    Fields: [ {
                        TextInput: "username",
                        Title: d("Username"),
                        Value: e.username
                    }, {
                        PassInput: "password",
                        Title: d("Password"),
                        Value: e.password
                    } ],
                    Action: {
                        Title: d("Add"),
                        action: function(e) {
                            return M(t.target, e);
                        },
                        failure_filter: function(e, t) {
                            return t.message.indexOf("authorization") != -1 ? [ {
                                field: "username",
                                message: null
                            }, {
                                field: "password",
                                message: d("Invalid username or password")
                            } ] : t;
                        }
                    }
                });
            }
            function z(t) {
                var n = e.iscsi_sessions[t];
                if (n) {
                    var r = {
                        "node.startup": {
                            t: "s",
                            v: "manual"
                        }
                    };
                    n.Logout(r).fail(function(e) {
                        o("#error-popup-title").text(d("Error")), o("#error-popup-message").text(e.toString()), 
                        o("#error-popup").modal("show");
                    });
                }
            }
            function O() {
                e.manager_iscsi.call("GetInitiatorName").done(function(t) {
                    var n = t[0];
                    c.open({
                        Title: d("Change iSCSI Initiator Name"),
                        Fields: [ {
                            TextInput: "name",
                            Title: d("Name"),
                            Value: n
                        } ],
                        Action: {
                            Title: d("Change"),
                            action: function(t) {
                                return e.manager_iscsi.call("SetInitiatorName", [ t.name, {} ]);
                            }
                        }
                    });
                });
            }
            function P() {
                o("#storage").hide();
            }
            function A() {
                o("#storage").show(), Y.resize(), K.resize();
            }
            var I, R;
            o("#vgroups").toggle(e.features.lvm2), o("#iscsi-sessions").toggle(e.features.iscsi);
            var F = o("#mdraids-tmpl").html();
            i.parse(F), o(e).on("changed", n);
            var j = o("#vgroups-tmpl").html();
            i.parse(j), o(e).on("changed", p);
            var U = o("#iscsi-sessions-tmpl").html();
            i.parse(U), o(e).on("changed", m);
            var V = o("#drives-tmpl").html();
            i.parse(V);
            var L;
            o(e).on("changed", h), o(e.blockdev_io).on("changed", h);
            var B = o("#others-tmpl").html();
            i.parse(B), o(e).on("changed", v);
            var $ = o("#mounts-tmpl").html();
            i.parse($), o(e).on("changed", g), o(e.fsys_sizes).on("changed", g);
            var W = o("#nfs-mounts-tmpl").html();
            i.parse(W);
            var H = o("#nfs-users-tmpl").html();
            i.parse(H), o("#storage").on("click", "#nfs-mounts .nfs-arm-button", function(e) {
                o(this).toggleClass("active"), b();
            }), o("#storage").on("click", '[data-action="mount-mount"]', function() {
                var t = o(this).attr("data-arg"), n = e.nfs.entries[t];
                return _("Could not mount the filesystem", e.nfs.mount_entry(n)), y(), !1;
            }), o("#storage").on("click", '[data-action="mount-unmount"]', function() {
                var t = o(this).attr("data-arg"), n = e.nfs.entries[t];
                return e.nfs.unmount_entry(n).fail(function(t) {
                    k(d("Unable to unmount filesystem"), n, t, d("Stop and unmount"), function(t) {
                        return e.nfs.stop_and_unmount_entry(t, n);
                    });
                }), y(), !1;
            }), o("#storage").on("click", '[data-action="mount-edit"]', function() {
                var t = o(this).attr("data-arg"), n = e.nfs.entries[t];
                return n && x(n), y(), !1;
            }), o("#storage").on("click", '[data-action="mount-add"]', function() {
                return x(null), !1;
            }), o("#storage").on("click", '[data-action="mount-remove"]', function() {
                var t = o(this).attr("data-arg"), n = e.nfs.entries[t];
                return e.nfs.remove_entry(n).fail(function(t) {
                    k(d("Unable to remove mount"), n, t, d("Stop and remove"), function(t) {
                        return e.nfs.stop_and_remove_entry(t, n);
                    });
                }), y(), !1;
            }), o(e.nfs).on("changed", b), o(e).on("changed", w);
            var G = {
                direct: "disk.dev.read_bytes",
                internal: "block.device.read",
                units: "bytes",
                derive: "rate",
                threshold: 1e3
            }, q = a.plot_simple_template();
            o.extend(q.yaxis, {
                ticks: a.memory_ticks,
                tickFormatter: a.format_bytes_per_sec_tick_no_unit
            }), o.extend(q.grid, {
                hoverable: !0,
                autoHighlight: !1
            }), q.setup_hook = T, q.post_hook = E("#storage-reading-unit");
            var Y = a.plot(o("#storage-reading-graph"), 300);
            Y.set_options(q), I = Y.add_metrics_stacked_instances_series(G, {}), Y.start_walking(), 
            o(I).on("hover", S);
            var J = {
                direct: "disk.dev.write_bytes",
                internal: "block.device.written",
                units: "bytes",
                derive: "rate",
                threshold: 1e3
            }, X = a.plot_simple_template();
            o.extend(X.yaxis, {
                ticks: a.memory_ticks,
                tickFormatter: a.format_bytes_per_sec_tick_no_unit
            }), o.extend(X.grid, {
                hoverable: !0,
                autoHighlight: !1
            }), X.setup_hook = T, X.post_hook = E("#storage-writing-unit");
            var K = a.plot(o("#storage-writing-graph"), 300);
            K.set_options(X), R = K.add_metrics_stacked_instances_series(J, {}), K.start_walking(), 
            o(R).on("hover", S), o(window).on("resize", function() {
                Y.resize(), K.resize();
            });
            var Q = a.setup_plot_controls(o("#storage"), o("#storage-graph-toolbar"));
            return Q.reset([ Y, K ]), n(), p(), m(), h(), v(), g(), b(), w(), o("#storage-log").append(s.logbox([ "_SYSTEMD_UNIT=storaged.service", "+", "_SYSTEMD_UNIT=udisks2.service", "+", "_SYSTEMD_UNIT=dm-event.service", "+", "_SYSTEMD_UNIT=smartd.service", "+", "_SYSTEMD_UNIT=multipathd.service" ], 10)), 
            o("#create-mdraid").on("click", function() {
                c.open({
                    Title: d("Create RAID Device"),
                    Fields: [ {
                        TextInput: "name",
                        Title: d("Name")
                    }, {
                        SelectOne: "level",
                        Title: d("RAID Level"),
                        Options: [ {
                            value: "raid0",
                            Title: d("RAID 0 (Stripe)")
                        }, {
                            value: "raid1",
                            Title: d("RAID 1 (Mirror)")
                        }, {
                            value: "raid4",
                            Title: d("RAID 4 (Dedicated Parity)")
                        }, {
                            value: "raid5",
                            Title: d("RAID 5 (Distributed Parity)"),
                            selected: !0
                        }, {
                            value: "raid6",
                            Title: d("RAID 6 (Double Distributed Parity)")
                        }, {
                            value: "raid10",
                            Title: d("RAID 10 (Stripe of Mirrors)")
                        } ]
                    }, {
                        SelectOne: "chunk",
                        Title: d("Chunk Size"),
                        Options: [ {
                            value: "4",
                            Title: d("4 KiB")
                        }, {
                            value: "8",
                            Title: d("8 KiB")
                        }, {
                            value: "16",
                            Title: d("16 KiB")
                        }, {
                            value: "32",
                            Title: d("32 KiB")
                        }, {
                            value: "64",
                            Title: d("64 KiB")
                        }, {
                            value: "128",
                            Title: d("128 KiB")
                        }, {
                            value: "512",
                            Title: d("512 KiB"),
                            selected: !0
                        }, {
                            value: "1024",
                            Title: d("1 MiB")
                        }, {
                            value: "2048",
                            Title: d("2 MiB")
                        } ],
                        visible: function(e) {
                            return "raid1" != e.level;
                        }
                    }, {
                        SelectMany: "disks",
                        Title: d("Disks"),
                        Options: l.get_available_spaces(e).map(l.available_space_to_option),
                        EmptyWarning: d("No disks are available."),
                        validate: function(e, t) {
                            var n = "raid6" == t.level ? 4 : 2;
                            if (e.length < n) return r.format(d("At least $0 disks are needed."), n);
                        }
                    } ],
                    Action: {
                        Title: d("Create"),
                        action: function(t) {
                            return l.prepare_available_spaces(e, t.disks).then(function() {
                                var n = Array.prototype.slice.call(arguments);
                                return e.manager.MDRaidCreate(n, t.level, t.name, 1024 * (t.chunk || 0), {});
                            });
                        }
                    }
                });
            }), o("#create-volume-group").on("click", function() {
                function t(t) {
                    for (var n in e.vgroups) if (e.vgroups[n].Name == t) return e.vgroups[n];
                    return null;
                }
                for (var n, o = 0; o < 1e3 && (n = "vgroup" + o.toFixed(), t(n)); o++) ;
                c.open({
                    Title: d("Create Volume Group"),
                    Fields: [ {
                        TextInput: "name",
                        Title: d("Name"),
                        Value: n,
                        validate: l.validate_lvm2_name
                    }, {
                        SelectMany: "disks",
                        Title: d("Disks"),
                        Options: l.get_available_spaces(e).map(l.available_space_to_option),
                        EmptyWarning: d("No disks are available."),
                        validate: function(e) {
                            if (0 === e.length) return d("At least one disk is needed.");
                        }
                    } ],
                    Action: {
                        Title: d("Create"),
                        action: function(t, n) {
                            return l.prepare_available_spaces(e, t.disks).then(function() {
                                var n = Array.prototype.slice.call(arguments);
                                return e.manager_lvm2.VolumeGroupCreate(t.name, n, {});
                            });
                        }
                    }
                });
            }), o("#storage").on("click", '[data-action="add-iscsi-portal"]', function() {
                C();
            }), o("#storage").on("click", '[data-action="edit-iscsi"]', function() {
                O();
            }), o("#storage").on("click", "[data-iscsi-session-remove]", function() {
                l.reset_arming_zone(o(this)), z(o(this).attr("data-iscsi-session-remove"));
            }), {
                show: A,
                hide: P
            };
        }
        var o = n(6), r = n(7), i = n(10), a = n(18), s = n(22), l = n(9), c = n(26), u = n(30), d = r.gettext, f = r.gettext;
        e.exports = {
            init: t
        };
    }();
}, function(e, t, n) {
    "use strict";
    function o(e, t, n, o) {
        function i() {
            b.width(g.width()), b.height(g.height());
        }
        function a(e) {
            p ? (p.getAxes().yaxis.options.max = e, u()) : h.yaxis.max = e;
        }
        function s() {
            v = !0, l();
        }
        function l() {
            v && g.width() > 0 && g.height() > 0 ? (p ? d() : (i(), p = r.plot(b, n, h)), y && window.clearInterval(y)) : y || (y = window.setInterval(l, 500));
        }
        function c() {
            v = !1;
        }
        function u() {
            p && v && (p.setData(n), o.setup_hook && o.setup_hook(p), p.setupGrid(), p.draw(), 
            o.post_hook && o.post_hook(p));
        }
        function d() {
            p && v && (i(), b.width() > 0 && b.height() > 0 && p.resize(), u());
        }
        function f() {
            r(m).trigger("destroyed"), r(window).off("resize", d), r(g).empty(), p = null;
        }
        var p, m, h = {
            colors: [ "#0099d3" ],
            legend: {
                show: !1
            },
            series: {
                shadowSize: 0,
                lines: {
                    lineWidth: 0,
                    fill: 1
                }
            },
            xaxis: {
                tickFormatter: function() {
                    return "";
                }
            },
            yaxis: {
                tickFormatter: function() {
                    return "";
                }
            },
            points: {
                radius: 0
            },
            grid: {
                borderWidth: 1,
                aboveData: !0,
                color: "black",
                borderColor: r.color.parse("black").scale("a", .22).toString(),
                labelMargin: 0
            }
        }, v = !1;
        r.extend(!0, h, o);
        var g = r(e), b = r("<div/>"), y = null;
        return g.empty(), g.append(b), r(t).on("notify", u), r(window).on("resize", d), 
        l(), m = {
            start: s,
            stop: c,
            resize: d,
            element: b[0],
            set_yaxis_max: a,
            destroy: f
        };
    }
    var r = n(6), i = n(7);
    n(19), n(20), n(21);
    var a = {}, s = i.gettext;
    a.plot = function(e, t, n) {
        function o() {
            if (0 !== e.height() && 0 !== e.width()) {
                null === M && (M = r.plot(e, C, T)), M.setData(C);
                var t = M.getAxes();
                t.xaxis.options.min = w.beg * x, t.xaxis.options.max = (w.end - 2) * x, T.setup_hook && T.setup_hook(M), 
                t.xaxis.show = !0, t.xaxis.used = !0, t.yaxis.show = !0, t.yaxis.used = !0, M.setupGrid(), 
                M.draw(), T.post_hook && T.post_hook(M);
            }
        }
        function a() {
            N || (N = !0, window.setTimeout(function() {
                N = !1, o();
            }, 0));
        }
        function s() {
            w.walk();
        }
        function l() {
            w.move(w.beg, w.end);
        }
        function c(e, t) {
            M && M.clearSelection(!0), x = 1e3 * Math.ceil(e / 1e3);
            var n;
            n = void 0 !== t ? new Date().getTime() - 1e3 * t : 0;
            var o = -Math.ceil((1e3 * e + n) / x), s = -Math.floor(n / x);
            if (w && w.interval == x) w.move(o, s); else {
                w && w.close(), w = i.grid(x, o, s), D++;
                for (var l = 0; l < S.length; l++) S[l].reset();
                D--, u(), r(w).on("notify", function(e, t, n) {
                    a();
                });
            }
        }
        function u() {
            0 === D && w.sync();
        }
        function d() {
            w.close();
            for (var t = 0; t < S.length; t++) S[t].stop();
            T = {}, S = [], C = [], M = null, r(e).empty(), r(e).data("flot_data", null);
        }
        function f() {
            0 !== e.height() && 0 !== e.width() && (M && M.resize(), a());
        }
        function p(e) {
            T = e, M = null;
        }
        function m() {
            return T;
        }
        function h(e, t) {
            function n() {
                v && v.close();
            }
            function o() {
                C.push(t);
            }
            function s() {
                var e = C.indexOf(t);
                e >= 0 && C.splice(e, 1);
            }
            function l() {
                var e = C.indexOf(t);
                e >= 0 && (C.splice(e, 1), C.push(t));
            }
            function c() {
                n(), s(), a();
            }
            function d(t) {
                return {
                    name: t,
                    units: e.units,
                    derive: e.derive
                };
            }
            function f(e) {
                var t, n;
                if (!e) return 0;
                if (void 0 !== e.length) {
                    for (n = 0, t = 0; t < e.length; t++) n += f(e[t]);
                    return n;
                }
                return e;
            }
            function p() {
                function n() {
                    v.archives && !E.archives && (E.archives = !0, r(E).triggerHandler("changed"));
                }
                v && v.close(), v = i.metrics(x, b);
                var o = w.add(v, []), a = e.factor || 1;
                t.data = w.add(function(e, t, n) {
                    for (var r = 0; r < n; r++) e[t + r] = [ (w.beg + t + r) * x, f(o[t + r]) * a ];
                }), r(v).on("changed", n), n(), u();
            }
            function m(e, n) {
                return !(!n || n.series.data != t.data);
            }
            function h(e) {
                r(g).triggerHandler("hover", [ e ]);
            }
            var v = null, g = {
                options: t,
                move_to_front: l,
                remove: c
            };
            S.push({
                stop: n,
                reset: p,
                hover_hit: m,
                hover: h
            });
            var b = [];
            return e.direct && b.push({
                source: "direct",
                archive_source: "pcp-archive",
                metrics: e.direct.map(d),
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            }), e.internal && b.push({
                source: "internal",
                metrics: e.internal.map(d),
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            }), p(), o(), g;
        }
        function v(e, t) {
            function n() {
                f && f.close();
            }
            function o(t) {
                return {
                    name: t,
                    units: e.units,
                    derive: e.derive
                };
            }
            function a() {
                function e() {
                    f.archives && !E.archives && (E.archives = !0, r(E).triggerHandler("changed"));
                }
                f && f.close(), f = i.metrics(x, m), r(f).on("changed", e), e(), D++;
                for (var t in h) h[t].reset();
                D--, u();
            }
            function s(n, o) {
                function i() {
                    s = w.add(f, [ "a", n ]), l.data = w.add(function(e, t, n) {
                        for (var o = 0; o < n; o++) {
                            var r = (s[t + o] || 0) * c, i = (w.beg + t + o) * x, a = 0;
                            p && (a = p.data[t + o][1] ? p.data[t + o][1] : p.data[t + o][2]), Math.abs(r) > d ? (e[t + o] = [ i, a + r, a ], 
                            e[t + o - 1] && null === e[t + o - 1][1] && (e[t + o - 1][1] = e[t + o - 1][2])) : (e[t + o] = [ i, null, a ], 
                            e[t + o - 1] && null !== e[t + o - 1][1] && (e[t + o - 1][1] = e[t + o - 1][2]));
                        }
                    }), u();
                }
                function a() {
                    w.remove(s), w.remove(l.data);
                    var e = C.indexOf(l);
                    e >= 0 && C.splice(e, 1);
                }
                if (!h[n]) {
                    var s, l = r.extend({
                        selector: o
                    }, t), c = e.factor || 1, d = e.threshold || 0, p = v;
                    v = l, h[n] = l, l.reset = i, l.remove = a, i(), C.push(l);
                }
            }
            function l() {
                for (var e in h) h[e].remove();
                h = {}, v = null;
            }
            function c(e, t) {
                var n, o;
                if (!w) return !1;
                o = Math.round(e.x / x) - w.beg, o < 0 && (o = 0);
                for (n in h) {
                    var r = h[n].data;
                    if (r[o] && r[o][1] && r[o][2] <= e.y && e.y <= r[o][1]) return h[n].selector || n;
                }
                return !1;
            }
            function d(e) {
                r(p).triggerHandler("hover", [ e ]);
            }
            var f = null, p = {
                add_instance: s,
                clear_instances: l
            };
            S.push({
                stop: n,
                reset: a,
                hover_hit: c,
                hover: d
            });
            var m = [];
            e.direct && m.push({
                source: "direct",
                archive_source: "pcp-archive",
                metrics: [ o(e.direct) ],
                metrics_path_names: [ "a" ],
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            }), e.internal && m.push({
                source: "internal",
                metrics: [ o(e.internal) ],
                metrics_path_names: [ "a" ],
                instances: e.instances,
                "omit-instances": e["omit-instances"],
                host: e.host
            });
            var h = {}, v = null;
            return a(), p;
        }
        function g(e, t) {
            z != e ? (z && z.hover(!1), z = e, O = t, z && z.hover(O)) : O != t && (O = t, z && z.hover(O));
        }
        function b(e, t, n) {
            for (var o = null, r = !1, i = 0; i < S.length; i++) if (r = S[i].hover_hit(t, n)) {
                o = S[i];
                break;
            }
            g(o, r);
        }
        function y(e) {
            g(null, !1);
        }
        function _(e, t) {
            t && r(E).triggerHandler("zoomstart", []);
        }
        function k(e, t) {
            M.clearSelection(!0), r(E).triggerHandler("zoom", [ (t.xaxis.to - t.xaxis.from) / 1e3, t.xaxis.to / 1e3 ]);
        }
        var x, w, T = {}, E = {}, S = [], C = [], M = null, N = !1, D = 0, z = null, O = !1;
        return r(e).on("plothover", b), r(e).on("mouseleave", y), r(e).on("plotselecting", _), 
        r(e).on("plotselected", k), r(e).data("flot_data", C), c(t, n), r.extend(E, {
            archives: !1,
            start_walking: s,
            stop_walking: l,
            refresh: a,
            reset: c,
            destroy: d,
            resize: f,
            set_options: p,
            get_options: m,
            add_metrics_sum_series: h,
            add_metrics_stacked_instances_series: v
        }), E;
    };
    var l = [ "#006bb4", "#008ff0", "#2daaff", "#69c2ff", "#a5daff", "#e1f3ff", "#00243c", "#004778" ];
    a.plot_simple_template = function() {
        return {
            colors: l,
            legend: {
                show: !1
            },
            series: {
                shadowSize: 0,
                lines: {
                    lineWidth: 2,
                    fill: .4
                }
            },
            xaxis: {
                tickLength: 0,
                mode: "time",
                tickFormatter: a.format_date_tick,
                minTickSize: [ 1, "minute" ],
                reserveSpace: !1
            },
            yaxis: {
                tickColor: "#d1d1d1",
                min: 0
            },
            points: {
                radius: 0
            },
            grid: {
                borderWidth: 1,
                aboveData: !1,
                color: "black",
                borderColor: r.color.parse("black").scale("a", .22).toString(),
                labelMargin: 0
            }
        };
    }, a.memory_ticks = function(e) {
        for (var t = Math.pow(2, Math.ceil(Math.log(e.max / 5) / Math.LN2)), n = [], o = 0; o < e.max; o += t) n.push(o);
        return n;
    };
    var c = [ s("month-name", "Jan"), s("month-name", "Feb"), s("month-name", "Mar"), s("month-name", "Apr"), s("month-name", "May"), s("month-name", "Jun"), s("month-name", "Jul"), s("month-name", "Aug"), s("month-name", "Sep"), s("month-name", "Oct"), s("month-name", "Nov"), s("month-name", "Dec") ];
    a.format_date_tick = function(e, t) {
        function n(e) {
            var t = e.toFixed();
            return 1 == t.length && (t = "0" + t), t;
        }
        var o, r, i = 0, a = 1, s = 2, l = 3, u = t.tickSize[1];
        r = "minute" == u || "hour" == u ? l : "day" == u ? s : "month" == u ? a : i;
        var d = new Date(), f = new Date(t.min);
        o = i, f.getFullYear() == d.getFullYear() && (o = a, f.getMonth() == d.getMonth() && (o = s, 
        f.getDate() == d.getDate() && (o = l))), o > r && (o = r), o == s && (o = a);
        var p = new Date(e), m = " ";
        return i >= o && i <= r && (m += p.getFullYear().toFixed() + " "), a >= o && a <= r && (m += c[p.getMonth()] + " "), 
        s >= o && s <= r && (m += p.getDate().toFixed() + " "), l >= o && l <= r && (m += n(p.getHours()) + ":" + n(p.getMinutes()) + " "), 
        m.substr(0, m.length - 1);
    }, a.bytes_tick_unit = function(e) {
        return i.format_bytes(e.max, 1024, !0)[1];
    }, a.format_bytes_tick_no_unit = function(e, t) {
        return i.format_bytes(e, a.bytes_tick_unit(t), !0)[0];
    }, a.format_bytes_tick = function(e, t) {
        return i.format_bytes(e, 1024);
    }, a.bytes_per_sec_tick_unit = function(e) {
        return i.format_bytes_per_sec(e.max, 1024, !0)[1];
    }, a.format_bytes_per_sec_tick_no_unit = function(e, t) {
        return i.format_bytes_per_sec(e, a.bytes_per_sec_tick_unit(t), !0)[0];
    }, a.format_bytes_per_sec_tick = function(e, t) {
        return i.format_bytes_per_sec(e, 1024);
    }, a.bits_per_sec_tick_unit = function(e) {
        return i.format_bits_per_sec(8 * e.max, 1e3, !0)[1];
    }, a.format_bits_per_sec_tick_no_unit = function(e, t) {
        return i.format_bits_per_sec(8 * e, a.bits_per_sec_tick_unit(t), !0)[0];
    }, a.format_bits_per_sec_tick = function(e, t) {
        return i.format_bits_per_sec(8 * e, 1e3);
    }, a.setup_plot_controls = function(e, t, n) {
        function o() {
            void 0 === p && (n.forEach(function(e) {
                e.stop_walking();
            }), p = new Date().getTime() / 1e3, c());
        }
        function a(e, t) {
            g.push(v), v = e, p = t, d();
        }
        function s() {
            var e = g.pop();
            if (void 0 === e) {
                var t;
                for (t = 0; t < h.length - 1 && !(h[t] > v); t++) ;
                e = h[t];
            }
            void 0 !== p && (p += (e - v) / 2), v = e, d();
        }
        function l(e) {
            var t;
            return e >= 31536e3 ? (t = Math.ceil(e / 31536e3), i.format(i.ngettext("$0 year", "$0 years", t), t)) : e >= 2592e3 ? (t = Math.ceil(e / 2592e3), 
            i.format(i.ngettext("$0 month", "$0 months", t), t)) : e >= 604800 ? (t = Math.ceil(e / 604800), 
            i.format(i.ngettext("$0 week", "$0 weeks", t), t)) : e >= 86400 ? (t = Math.ceil(e / 86400), 
            i.format(i.ngettext("$0 day", "$0 days", t), t)) : e >= 3600 ? (t = Math.ceil(e / 3600), 
            i.format(i.ngettext("$0 hour", "$0 hours", t), t)) : (t = Math.ceil(e / 60), i.format(i.ngettext("$0 minute", "$0 minutes", t), t));
        }
        function c() {
            t.find('[data-action="scroll-right"]').attr("disabled", void 0 === p), t.find('[data-action="zoom-out"]').attr("disabled", v >= h[h.length - 1]);
        }
        function u() {
            var t;
            e.hasClass("show-zoom-controls") && v > m ? (e.addClass("show-zoom-cursor"), t = "x") : (e.removeClass("show-zoom-cursor"), 
            t = null), n.forEach(function(e) {
                var n = e.get_options();
                n.selection && n.selection.mode == t || (n.selection = {
                    mode: t,
                    color: "#d4edfa"
                }, e.set_options(n), e.refresh());
            });
        }
        function d() {
            v < m && (p += (m - v) / 2, v = m), p >= new Date().getTime() / 1e3 - 10 && (p = void 0), 
            t.find(".dropdown-toggle span:first-child").text(l(v)), n.forEach(function(t) {
                function n() {
                    t.archives && (e.addClass("show-zoom-controls"), u());
                }
                t.stop_walking(), t.reset(v, p), t.refresh(), void 0 === p && t.start_walking(), 
                r(t).on("changed", n), n();
            }), c(), u();
        }
        function f(e) {
            void 0 === e && (e = []), n = e, n.forEach(function(e) {
                r(e).on("zoomstart", function(e) {
                    o();
                }), r(e).on("zoom", function(e, t, n) {
                    a(t, n);
                });
            }), d();
        }
        var p, m = 300, h = [ 300, 3600, 21600, 86400, 604800, 2592e3, 31536e3 ], v = 300, g = [];
        return t.find("[data-range]").click(function() {
            g = [], v = parseInt(r(this).attr("data-range"), 10), d();
        }), t.find('[data-action="goto-now"]').click(function() {
            p = void 0, d();
        }), t.find('[data-action="scroll-left"]').click(function() {
            var e = v / 10;
            void 0 === p && (p = new Date().getTime() / 1e3), p -= e, d();
        }), t.find('[data-action="scroll-right"]').click(function() {
            var e = v / 10;
            void 0 !== p && (p += e, d());
        }), t.find('[data-action="zoom-out"]').click(function() {
            s();
        }), f(n), {
            reset: f
        };
    }, a.setup_complicated_plot = function(e, t, n, r) {
        function i(e, t) {
            return e.add(function(e, n, o) {
                for (var r = 0; r < o; r++) e[n + r] = [ r, t[n + r] || 0 ];
            });
        }
        function a(e, t, n) {
            return e.add(function(e, o, r) {
                var i, a, s, l;
                for (i = 0; i < r; i++) s = 0, n && (a = n[o + i], s = a ? a[1] : 0), l = t[o + i] || 0, 
                e[o + i] = [ i, l + s, s ];
            });
        }
        var s = null;
        return n.forEach(function(e, n) {
            r.x_rh_stack_graphs ? e.data = a(t, e.row, s) : e.data = i(t, e.row), s = e.data;
        }), o(e, t, n, r);
    }, e.exports = a;
}, function(e, t) {
    !function(e) {
        e.color = {}, e.color.make = function(t, n, o, r) {
            var i = {};
            return i.r = t || 0, i.g = n || 0, i.b = o || 0, i.a = null != r ? r : 1, i.add = function(e, t) {
                for (var n = 0; n < e.length; ++n) i[e.charAt(n)] += t;
                return i.normalize();
            }, i.scale = function(e, t) {
                for (var n = 0; n < e.length; ++n) i[e.charAt(n)] *= t;
                return i.normalize();
            }, i.toString = function() {
                return i.a >= 1 ? "rgb(" + [ i.r, i.g, i.b ].join(",") + ")" : "rgba(" + [ i.r, i.g, i.b, i.a ].join(",") + ")";
            }, i.normalize = function() {
                function e(e, t, n) {
                    return t < e ? e : t > n ? n : t;
                }
                return i.r = e(0, parseInt(i.r), 255), i.g = e(0, parseInt(i.g), 255), i.b = e(0, parseInt(i.b), 255), 
                i.a = e(0, i.a, 1), i;
            }, i.clone = function() {
                return e.color.make(i.r, i.b, i.g, i.a);
            }, i.normalize();
        }, e.color.extract = function(t, n) {
            var o;
            do {
                if (o = t.css(n).toLowerCase(), "" != o && "transparent" != o) break;
                t = t.parent();
            } while (t.length && !e.nodeName(t.get(0), "body"));
            return "rgba(0, 0, 0, 0)" == o && (o = "transparent"), e.color.parse(o);
        }, e.color.parse = function(n) {
            var o, r = e.color.make;
            if (o = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n)) return r(parseInt(o[1], 10), parseInt(o[2], 10), parseInt(o[3], 10));
            if (o = /rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n)) return r(parseInt(o[1], 10), parseInt(o[2], 10), parseInt(o[3], 10), parseFloat(o[4]));
            if (o = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n)) return r(2.55 * parseFloat(o[1]), 2.55 * parseFloat(o[2]), 2.55 * parseFloat(o[3]));
            if (o = /rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n)) return r(2.55 * parseFloat(o[1]), 2.55 * parseFloat(o[2]), 2.55 * parseFloat(o[3]), parseFloat(o[4]));
            if (o = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n)) return r(parseInt(o[1], 16), parseInt(o[2], 16), parseInt(o[3], 16));
            if (o = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n)) return r(parseInt(o[1] + o[1], 16), parseInt(o[2] + o[2], 16), parseInt(o[3] + o[3], 16));
            var i = e.trim(n).toLowerCase();
            return "transparent" == i ? r(255, 255, 255, 0) : (o = t[i] || [ 0, 0, 0 ], r(o[0], o[1], o[2]));
        };
        var t = {
            aqua: [ 0, 255, 255 ],
            azure: [ 240, 255, 255 ],
            beige: [ 245, 245, 220 ],
            black: [ 0, 0, 0 ],
            blue: [ 0, 0, 255 ],
            brown: [ 165, 42, 42 ],
            cyan: [ 0, 255, 255 ],
            darkblue: [ 0, 0, 139 ],
            darkcyan: [ 0, 139, 139 ],
            darkgrey: [ 169, 169, 169 ],
            darkgreen: [ 0, 100, 0 ],
            darkkhaki: [ 189, 183, 107 ],
            darkmagenta: [ 139, 0, 139 ],
            darkolivegreen: [ 85, 107, 47 ],
            darkorange: [ 255, 140, 0 ],
            darkorchid: [ 153, 50, 204 ],
            darkred: [ 139, 0, 0 ],
            darksalmon: [ 233, 150, 122 ],
            darkviolet: [ 148, 0, 211 ],
            fuchsia: [ 255, 0, 255 ],
            gold: [ 255, 215, 0 ],
            green: [ 0, 128, 0 ],
            indigo: [ 75, 0, 130 ],
            khaki: [ 240, 230, 140 ],
            lightblue: [ 173, 216, 230 ],
            lightcyan: [ 224, 255, 255 ],
            lightgreen: [ 144, 238, 144 ],
            lightgrey: [ 211, 211, 211 ],
            lightpink: [ 255, 182, 193 ],
            lightyellow: [ 255, 255, 224 ],
            lime: [ 0, 255, 0 ],
            magenta: [ 255, 0, 255 ],
            maroon: [ 128, 0, 0 ],
            navy: [ 0, 0, 128 ],
            olive: [ 128, 128, 0 ],
            orange: [ 255, 165, 0 ],
            pink: [ 255, 192, 203 ],
            purple: [ 128, 0, 128 ],
            violet: [ 128, 0, 128 ],
            red: [ 255, 0, 0 ],
            silver: [ 192, 192, 192 ],
            white: [ 255, 255, 255 ],
            yellow: [ 255, 255, 0 ]
        };
    }(jQuery), function(e) {
        function t(t, n) {
            var o = n.children("." + t)[0];
            if (null == o && (o = document.createElement("canvas"), o.className = t, e(o).css({
                direction: "ltr",
                position: "absolute",
                left: 0,
                top: 0
            }).appendTo(n), !o.getContext)) {
                if (!window.G_vmlCanvasManager) throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");
                o = window.G_vmlCanvasManager.initElement(o);
            }
            this.element = o;
            var r = this.context = o.getContext("2d"), i = window.devicePixelRatio || 1, a = r.webkitBackingStorePixelRatio || r.mozBackingStorePixelRatio || r.msBackingStorePixelRatio || r.oBackingStorePixelRatio || r.backingStorePixelRatio || 1;
            this.pixelRatio = i / a, this.resize(n.width(), n.height()), this.textContainer = null, 
            this.text = {}, this._textCache = {};
        }
        function n(n, r, i, a) {
            function s(e, t) {
                t = [ ve ].concat(t);
                for (var n = 0; n < e.length; ++n) e[n].apply(this, t);
            }
            function l() {
                for (var n = {
                    Canvas: t
                }, o = 0; o < a.length; ++o) {
                    var r = a[o];
                    r.init(ve, n), r.options && e.extend(!0, re, r.options);
                }
            }
            function c(t) {
                e.extend(!0, re, t), t && t.colors && (re.colors = t.colors), null == re.xaxis.color && (re.xaxis.color = e.color.parse(re.grid.color).scale("a", .22).toString()), 
                null == re.yaxis.color && (re.yaxis.color = e.color.parse(re.grid.color).scale("a", .22).toString()), 
                null == re.xaxis.tickColor && (re.xaxis.tickColor = re.grid.tickColor || re.xaxis.color), 
                null == re.yaxis.tickColor && (re.yaxis.tickColor = re.grid.tickColor || re.yaxis.color), 
                null == re.grid.borderColor && (re.grid.borderColor = re.grid.color), null == re.grid.tickColor && (re.grid.tickColor = e.color.parse(re.grid.color).scale("a", .22).toString());
                var o, r, i, a = n.css("font-size"), l = a ? +a.replace("px", "") : 13, c = {
                    style: n.css("font-style"),
                    size: Math.round(.8 * l),
                    variant: n.css("font-variant"),
                    weight: n.css("font-weight"),
                    family: n.css("font-family")
                };
                for (i = re.xaxes.length || 1, o = 0; o < i; ++o) r = re.xaxes[o], r && !r.tickColor && (r.tickColor = r.color), 
                r = e.extend(!0, {}, re.xaxis, r), re.xaxes[o] = r, r.font && (r.font = e.extend({}, c, r.font), 
                r.font.color || (r.font.color = r.color), r.font.lineHeight || (r.font.lineHeight = Math.round(1.15 * r.font.size)));
                for (i = re.yaxes.length || 1, o = 0; o < i; ++o) r = re.yaxes[o], r && !r.tickColor && (r.tickColor = r.color), 
                r = e.extend(!0, {}, re.yaxis, r), re.yaxes[o] = r, r.font && (r.font = e.extend({}, c, r.font), 
                r.font.color || (r.font.color = r.color), r.font.lineHeight || (r.font.lineHeight = Math.round(1.15 * r.font.size)));
                for (re.xaxis.noTicks && null == re.xaxis.ticks && (re.xaxis.ticks = re.xaxis.noTicks), 
                re.yaxis.noTicks && null == re.yaxis.ticks && (re.yaxis.ticks = re.yaxis.noTicks), 
                re.x2axis && (re.xaxes[1] = e.extend(!0, {}, re.xaxis, re.x2axis), re.xaxes[1].position = "top", 
                null == re.x2axis.min && (re.xaxes[1].min = null), null == re.x2axis.max && (re.xaxes[1].max = null)), 
                re.y2axis && (re.yaxes[1] = e.extend(!0, {}, re.yaxis, re.y2axis), re.yaxes[1].position = "right", 
                null == re.y2axis.min && (re.yaxes[1].min = null), null == re.y2axis.max && (re.yaxes[1].max = null)), 
                re.grid.coloredAreas && (re.grid.markings = re.grid.coloredAreas), re.grid.coloredAreasColor && (re.grid.markingsColor = re.grid.coloredAreasColor), 
                re.lines && e.extend(!0, re.series.lines, re.lines), re.points && e.extend(!0, re.series.points, re.points), 
                re.bars && e.extend(!0, re.series.bars, re.bars), null != re.shadowSize && (re.series.shadowSize = re.shadowSize), 
                null != re.highlightColor && (re.series.highlightColor = re.highlightColor), o = 0; o < re.xaxes.length; ++o) v(ue, o + 1).options = re.xaxes[o];
                for (o = 0; o < re.yaxes.length; ++o) v(de, o + 1).options = re.yaxes[o];
                for (var u in he) re.hooks[u] && re.hooks[u].length && (he[u] = he[u].concat(re.hooks[u]));
                s(he.processOptions, [ re ]);
            }
            function u(e) {
                oe = d(e), g(), b();
            }
            function d(t) {
                for (var n = [], o = 0; o < t.length; ++o) {
                    var r = e.extend(!0, {}, re.series);
                    null != t[o].data ? (r.data = t[o].data, delete t[o].data, e.extend(!0, r, t[o]), 
                    t[o].data = r.data) : r.data = t[o], n.push(r);
                }
                return n;
            }
            function f(e, t) {
                var n = e[t + "axis"];
                return "object" == typeof n && (n = n.n), "number" != typeof n && (n = 1), n;
            }
            function p() {
                return e.grep(ue.concat(de), function(e) {
                    return e;
                });
            }
            function m(e) {
                var t, n, o = {};
                for (t = 0; t < ue.length; ++t) n = ue[t], n && n.used && (o["x" + n.n] = n.c2p(e.left));
                for (t = 0; t < de.length; ++t) n = de[t], n && n.used && (o["y" + n.n] = n.c2p(e.top));
                return void 0 !== o.x1 && (o.x = o.x1), void 0 !== o.y1 && (o.y = o.y1), o;
            }
            function h(e) {
                var t, n, o, r = {};
                for (t = 0; t < ue.length; ++t) if (n = ue[t], n && n.used && (o = "x" + n.n, null == e[o] && 1 == n.n && (o = "x"), 
                null != e[o])) {
                    r.left = n.p2c(e[o]);
                    break;
                }
                for (t = 0; t < de.length; ++t) if (n = de[t], n && n.used && (o = "y" + n.n, null == e[o] && 1 == n.n && (o = "y"), 
                null != e[o])) {
                    r.top = n.p2c(e[o]);
                    break;
                }
                return r;
            }
            function v(t, n) {
                return t[n - 1] || (t[n - 1] = {
                    n: n,
                    direction: t == ue ? "x" : "y",
                    options: e.extend(!0, {}, t == ue ? re.xaxis : re.yaxis)
                }), t[n - 1];
            }
            function g() {
                var t, n = oe.length, o = -1;
                for (t = 0; t < oe.length; ++t) {
                    var r = oe[t].color;
                    null != r && (n--, "number" == typeof r && r > o && (o = r));
                }
                n <= o && (n = o + 1);
                var i, a = [], s = re.colors, l = s.length, c = 0;
                for (t = 0; t < n; t++) i = e.color.parse(s[t % l] || "#666"), t % l == 0 && t && (c = c >= 0 ? c < .5 ? -c - .2 : 0 : -c), 
                a[t] = i.scale("rgb", 1 + c);
                var u, d = 0;
                for (t = 0; t < oe.length; ++t) {
                    if (u = oe[t], null == u.color ? (u.color = a[d].toString(), ++d) : "number" == typeof u.color && (u.color = a[u.color].toString()), 
                    null == u.lines.show) {
                        var p, m = !0;
                        for (p in u) if (u[p] && u[p].show) {
                            m = !1;
                            break;
                        }
                        m && (u.lines.show = !0);
                    }
                    null == u.lines.zero && (u.lines.zero = !!u.lines.fill), u.xaxis = v(ue, f(u, "x")), 
                    u.yaxis = v(de, f(u, "y"));
                }
            }
            function b() {
                function t(e, t, n) {
                    t < e.datamin && t != -b && (e.datamin = t), n > e.datamax && n != b && (e.datamax = n);
                }
                var n, o, r, i, a, l, c, u, d, f, m, h, v = Number.POSITIVE_INFINITY, g = Number.NEGATIVE_INFINITY, b = Number.MAX_VALUE;
                for (e.each(p(), function(e, t) {
                    t.datamin = v, t.datamax = g, t.used = !1;
                }), n = 0; n < oe.length; ++n) a = oe[n], a.datapoints = {
                    points: []
                }, s(he.processRawData, [ a, a.data, a.datapoints ]);
                for (n = 0; n < oe.length; ++n) {
                    if (a = oe[n], m = a.data, h = a.datapoints.format, !h) {
                        if (h = [], h.push({
                            x: !0,
                            number: !0,
                            required: !0
                        }), h.push({
                            y: !0,
                            number: !0,
                            required: !0
                        }), a.bars.show || a.lines.show && a.lines.fill) {
                            var y = !!(a.bars.show && a.bars.zero || a.lines.show && a.lines.zero);
                            h.push({
                                y: !0,
                                number: !0,
                                required: !1,
                                defaultValue: 0,
                                autoscale: y
                            }), a.bars.horizontal && (delete h[h.length - 1].y, h[h.length - 1].x = !0);
                        }
                        a.datapoints.format = h;
                    }
                    if (null == a.datapoints.pointsize) {
                        a.datapoints.pointsize = h.length, c = a.datapoints.pointsize, l = a.datapoints.points;
                        var _ = a.lines.show && a.lines.steps;
                        for (a.xaxis.used = a.yaxis.used = !0, o = r = 0; o < m.length; ++o, r += c) {
                            f = m[o];
                            var k = null == f;
                            if (!k) for (i = 0; i < c; ++i) u = f[i], d = h[i], d && (d.number && null != u && (u = +u, 
                            isNaN(u) ? u = null : u == 1 / 0 ? u = b : u == -(1 / 0) && (u = -b)), null == u && (d.required && (k = !0), 
                            null != d.defaultValue && (u = d.defaultValue))), l[r + i] = u;
                            if (k) for (i = 0; i < c; ++i) u = l[r + i], null != u && (d = h[i], d.autoscale !== !1 && (d.x && t(a.xaxis, u, u), 
                            d.y && t(a.yaxis, u, u))), l[r + i] = null; else if (_ && r > 0 && null != l[r - c] && l[r - c] != l[r] && l[r - c + 1] != l[r + 1]) {
                                for (i = 0; i < c; ++i) l[r + c + i] = l[r + i];
                                l[r + 1] = l[r - c + 1], r += c;
                            }
                        }
                    }
                }
                for (n = 0; n < oe.length; ++n) a = oe[n], s(he.processDatapoints, [ a, a.datapoints ]);
                for (n = 0; n < oe.length; ++n) {
                    a = oe[n], l = a.datapoints.points, c = a.datapoints.pointsize, h = a.datapoints.format;
                    var x = v, w = v, T = g, E = g;
                    for (o = 0; o < l.length; o += c) if (null != l[o]) for (i = 0; i < c; ++i) u = l[o + i], 
                    d = h[i], d && d.autoscale !== !1 && u != b && u != -b && (d.x && (u < x && (x = u), 
                    u > T && (T = u)), d.y && (u < w && (w = u), u > E && (E = u)));
                    if (a.bars.show) {
                        var S;
                        switch (a.bars.align) {
                          case "left":
                            S = 0;
                            break;

                          case "right":
                            S = -a.bars.barWidth;
                            break;

                          default:
                            S = -a.bars.barWidth / 2;
                        }
                        a.bars.horizontal ? (w += S, E += S + a.bars.barWidth) : (x += S, T += S + a.bars.barWidth);
                    }
                    t(a.xaxis, x, T), t(a.yaxis, w, E);
                }
                e.each(p(), function(e, t) {
                    t.datamin == v && (t.datamin = null), t.datamax == g && (t.datamax = null);
                });
            }
            function y() {
                n.css("padding", 0).children().filter(function() {
                    return !e(this).hasClass("flot-overlay") && !e(this).hasClass("flot-base");
                }).remove(), "static" == n.css("position") && n.css("position", "relative"), ie = new t("flot-base", n), 
                ae = new t("flot-overlay", n), le = ie.context, ce = ae.context, se = e(ae.element).unbind();
                var o = n.data("plot");
                o && (o.shutdown(), ae.clear()), n.data("plot", ve);
            }
            function _() {
                re.grid.hoverable && (se.mousemove(H), se.bind("mouseleave", G)), re.grid.clickable && se.click(q), 
                s(he.bindEvents, [ se ]);
            }
            function k() {
                be && clearTimeout(be), se.unbind("mousemove", H), se.unbind("mouseleave", G), se.unbind("click", q), 
                s(he.shutdown, [ se ]);
            }
            function x(e) {
                function t(e) {
                    return e;
                }
                var n, o, r = e.options.transform || t, i = e.options.inverseTransform;
                "x" == e.direction ? (n = e.scale = pe / Math.abs(r(e.max) - r(e.min)), o = Math.min(r(e.max), r(e.min))) : (n = e.scale = me / Math.abs(r(e.max) - r(e.min)), 
                n = -n, o = Math.max(r(e.max), r(e.min))), r == t ? e.p2c = function(e) {
                    return (e - o) * n;
                } : e.p2c = function(e) {
                    return (r(e) - o) * n;
                }, i ? e.c2p = function(e) {
                    return i(o + e / n);
                } : e.c2p = function(e) {
                    return o + e / n;
                };
            }
            function w(e) {
                for (var t = e.options, n = e.ticks || [], o = t.labelWidth || 0, r = t.labelHeight || 0, i = o || ("x" == e.direction ? Math.floor(ie.width / (n.length || 1)) : null), a = e.direction + "Axis " + e.direction + e.n + "Axis", s = "flot-" + e.direction + "-axis flot-" + e.direction + e.n + "-axis " + a, l = t.font || "flot-tick-label tickLabel", c = 0; c < n.length; ++c) {
                    var u = n[c];
                    if (u.label) {
                        var d = ie.getTextInfo(s, u.label, l, null, i);
                        o = Math.max(o, d.width), r = Math.max(r, d.height);
                    }
                }
                e.labelWidth = t.labelWidth || o, e.labelHeight = t.labelHeight || r;
            }
            function T(t) {
                var n = t.labelWidth, o = t.labelHeight, r = t.options.position, i = "x" === t.direction, a = t.options.tickLength, s = re.grid.axisMargin, l = re.grid.labelMargin, c = !0, u = !0, d = !0, f = !1;
                e.each(i ? ue : de, function(e, n) {
                    n && (n.show || n.reserveSpace) && (n === t ? f = !0 : n.options.position === r && (f ? u = !1 : c = !1), 
                    f || (d = !1));
                }), u && (s = 0), null == a && (a = d ? "full" : 5), isNaN(+a) || (l += +a), i ? (o += l, 
                "bottom" == r ? (fe.bottom += o + s, t.box = {
                    top: ie.height - fe.bottom,
                    height: o
                }) : (t.box = {
                    top: fe.top + s,
                    height: o
                }, fe.top += o + s)) : (n += l, "left" == r ? (t.box = {
                    left: fe.left + s,
                    width: n
                }, fe.left += n + s) : (fe.right += n + s, t.box = {
                    left: ie.width - fe.right,
                    width: n
                })), t.position = r, t.tickLength = a, t.box.padding = l, t.innermost = c;
            }
            function E(e) {
                "x" == e.direction ? (e.box.left = fe.left - e.labelWidth / 2, e.box.width = ie.width - fe.left - fe.right + e.labelWidth) : (e.box.top = fe.top - e.labelHeight / 2, 
                e.box.height = ie.height - fe.bottom - fe.top + e.labelHeight);
            }
            function S() {
                var t, n = re.grid.minBorderMargin;
                if (null == n) for (n = 0, t = 0; t < oe.length; ++t) n = Math.max(n, 2 * (oe[t].points.radius + oe[t].points.lineWidth / 2));
                var o = {
                    left: n,
                    right: n,
                    top: n,
                    bottom: n
                };
                e.each(p(), function(e, t) {
                    t.reserveSpace && t.ticks && t.ticks.length && ("x" === t.direction ? (o.left = Math.max(o.left, t.labelWidth / 2), 
                    o.right = Math.max(o.right, t.labelWidth / 2)) : (o.bottom = Math.max(o.bottom, t.labelHeight / 2), 
                    o.top = Math.max(o.top, t.labelHeight / 2)));
                }), fe.left = Math.ceil(Math.max(o.left, fe.left)), fe.right = Math.ceil(Math.max(o.right, fe.right)), 
                fe.top = Math.ceil(Math.max(o.top, fe.top)), fe.bottom = Math.ceil(Math.max(o.bottom, fe.bottom));
            }
            function C() {
                var t, n = p(), o = re.grid.show;
                for (var r in fe) {
                    var i = re.grid.margin || 0;
                    fe[r] = "number" == typeof i ? i : i[r] || 0;
                }
                s(he.processOffset, [ fe ]);
                for (var r in fe) "object" == typeof re.grid.borderWidth ? fe[r] += o ? re.grid.borderWidth[r] : 0 : fe[r] += o ? re.grid.borderWidth : 0;
                if (e.each(n, function(e, t) {
                    var n = t.options;
                    t.show = null == n.show ? t.used : n.show, t.reserveSpace = null == n.reserveSpace ? t.show : n.reserveSpace, 
                    M(t);
                }), o) {
                    var a = e.grep(n, function(e) {
                        return e.show || e.reserveSpace;
                    });
                    for (e.each(a, function(e, t) {
                        N(t), D(t), z(t, t.ticks), w(t);
                    }), t = a.length - 1; t >= 0; --t) T(a[t]);
                    S(), e.each(a, function(e, t) {
                        E(t);
                    });
                }
                pe = ie.width - fe.left - fe.right, me = ie.height - fe.bottom - fe.top, e.each(n, function(e, t) {
                    x(t);
                }), o && R(), $();
            }
            function M(e) {
                var t = e.options, n = +(null != t.min ? t.min : e.datamin), o = +(null != t.max ? t.max : e.datamax), r = o - n;
                if (0 == r) {
                    var i = 0 == o ? 1 : .01;
                    null == t.min && (n -= i), null != t.max && null == t.min || (o += i);
                } else {
                    var a = t.autoscaleMargin;
                    null != a && (null == t.min && (n -= r * a, n < 0 && null != e.datamin && e.datamin >= 0 && (n = 0)), 
                    null == t.max && (o += r * a, o > 0 && null != e.datamax && e.datamax <= 0 && (o = 0)));
                }
                e.min = n, e.max = o;
            }
            function N(t) {
                var n, r = t.options;
                n = "number" == typeof r.ticks && r.ticks > 0 ? r.ticks : .3 * Math.sqrt("x" == t.direction ? ie.width : ie.height);
                var i = (t.max - t.min) / n, a = -Math.floor(Math.log(i) / Math.LN10), s = r.tickDecimals;
                null != s && a > s && (a = s);
                var l, c = Math.pow(10, -a), u = i / c;
                if (u < 1.5 ? l = 1 : u < 3 ? (l = 2, u > 2.25 && (null == s || a + 1 <= s) && (l = 2.5, 
                ++a)) : l = u < 7.5 ? 5 : 10, l *= c, null != r.minTickSize && l < r.minTickSize && (l = r.minTickSize), 
                t.delta = i, t.tickDecimals = Math.max(0, null != s ? s : a), t.tickSize = r.tickSize || l, 
                "time" == r.mode && !t.tickGenerator) throw new Error("Time mode requires the flot.time plugin.");
                if (t.tickGenerator || (t.tickGenerator = function(e) {
                    var t, n = [], r = o(e.min, e.tickSize), i = 0, a = Number.NaN;
                    do t = a, a = r + i * e.tickSize, n.push(a), ++i; while (a < e.max && a != t);
                    return n;
                }, t.tickFormatter = function(e, t) {
                    var n = t.tickDecimals ? Math.pow(10, t.tickDecimals) : 1, o = "" + Math.round(e * n) / n;
                    if (null != t.tickDecimals) {
                        var r = o.indexOf("."), i = r == -1 ? 0 : o.length - r - 1;
                        if (i < t.tickDecimals) return (i ? o : o + ".") + ("" + n).substr(1, t.tickDecimals - i);
                    }
                    return o;
                }), e.isFunction(r.tickFormatter) && (t.tickFormatter = function(e, t) {
                    return "" + r.tickFormatter(e, t);
                }), null != r.alignTicksWithAxis) {
                    var d = ("x" == t.direction ? ue : de)[r.alignTicksWithAxis - 1];
                    if (d && d.used && d != t) {
                        var f = t.tickGenerator(t);
                        if (f.length > 0 && (null == r.min && (t.min = Math.min(t.min, f[0])), null == r.max && f.length > 1 && (t.max = Math.max(t.max, f[f.length - 1]))), 
                        t.tickGenerator = function(e) {
                            var t, n, o = [];
                            for (n = 0; n < d.ticks.length; ++n) t = (d.ticks[n].v - d.min) / (d.max - d.min), 
                            t = e.min + t * (e.max - e.min), o.push(t);
                            return o;
                        }, !t.mode && null == r.tickDecimals) {
                            var p = Math.max(0, -Math.floor(Math.log(t.delta) / Math.LN10) + 1), m = t.tickGenerator(t);
                            m.length > 1 && /\..*0$/.test((m[1] - m[0]).toFixed(p)) || (t.tickDecimals = p);
                        }
                    }
                }
            }
            function D(t) {
                var n = t.options.ticks, o = [];
                null == n || "number" == typeof n && n > 0 ? o = t.tickGenerator(t) : n && (o = e.isFunction(n) ? n(t) : n);
                var r, i;
                for (t.ticks = [], r = 0; r < o.length; ++r) {
                    var a = null, s = o[r];
                    "object" == typeof s ? (i = +s[0], s.length > 1 && (a = s[1])) : i = +s, null == a && (a = t.tickFormatter(i, t)), 
                    isNaN(i) || t.ticks.push({
                        v: i,
                        label: a
                    });
                }
            }
            function z(e, t) {
                e.options.autoscaleMargin && t.length > 0 && (null == e.options.min && (e.min = Math.min(e.min, t[0].v)), 
                null == e.options.max && t.length > 1 && (e.max = Math.max(e.max, t[t.length - 1].v)));
            }
            function O() {
                ie.clear(), s(he.drawBackground, [ le ]);
                var e = re.grid;
                e.show && e.backgroundColor && A(), e.show && !e.aboveData && I();
                for (var t = 0; t < oe.length; ++t) s(he.drawSeries, [ le, oe[t] ]), F(oe[t]);
                s(he.draw, [ le ]), e.show && e.aboveData && I(), ie.render(), J();
            }
            function P(e, t) {
                for (var n, o, r, i, a = p(), s = 0; s < a.length; ++s) if (n = a[s], n.direction == t && (i = t + n.n + "axis", 
                e[i] || 1 != n.n || (i = t + "axis"), e[i])) {
                    o = e[i].from, r = e[i].to;
                    break;
                }
                if (e[i] || (n = "x" == t ? ue[0] : de[0], o = e[t + "1"], r = e[t + "2"]), null != o && null != r && o > r) {
                    var l = o;
                    o = r, r = l;
                }
                return {
                    from: o,
                    to: r,
                    axis: n
                };
            }
            function A() {
                le.save(), le.translate(fe.left, fe.top), le.fillStyle = ne(re.grid.backgroundColor, me, 0, "rgba(255, 255, 255, 0)"), 
                le.fillRect(0, 0, pe, me), le.restore();
            }
            function I() {
                var t, n, o, r;
                le.save(), le.translate(fe.left, fe.top);
                var i = re.grid.markings;
                if (i) for (e.isFunction(i) && (n = ve.getAxes(), n.xmin = n.xaxis.min, n.xmax = n.xaxis.max, 
                n.ymin = n.yaxis.min, n.ymax = n.yaxis.max, i = i(n)), t = 0; t < i.length; ++t) {
                    var a = i[t], s = P(a, "x"), l = P(a, "y");
                    if (null == s.from && (s.from = s.axis.min), null == s.to && (s.to = s.axis.max), 
                    null == l.from && (l.from = l.axis.min), null == l.to && (l.to = l.axis.max), !(s.to < s.axis.min || s.from > s.axis.max || l.to < l.axis.min || l.from > l.axis.max)) {
                        s.from = Math.max(s.from, s.axis.min), s.to = Math.min(s.to, s.axis.max), l.from = Math.max(l.from, l.axis.min), 
                        l.to = Math.min(l.to, l.axis.max);
                        var c = s.from === s.to, u = l.from === l.to;
                        if (!c || !u) if (s.from = Math.floor(s.axis.p2c(s.from)), s.to = Math.floor(s.axis.p2c(s.to)), 
                        l.from = Math.floor(l.axis.p2c(l.from)), l.to = Math.floor(l.axis.p2c(l.to)), c || u) {
                            var d = a.lineWidth || re.grid.markingsLineWidth, f = d % 2 ? .5 : 0;
                            le.beginPath(), le.strokeStyle = a.color || re.grid.markingsColor, le.lineWidth = d, 
                            c ? (le.moveTo(s.to + f, l.from), le.lineTo(s.to + f, l.to)) : (le.moveTo(s.from, l.to + f), 
                            le.lineTo(s.to, l.to + f)), le.stroke();
                        } else le.fillStyle = a.color || re.grid.markingsColor, le.fillRect(s.from, l.to, s.to - s.from, l.from - l.to);
                    }
                }
                n = p(), o = re.grid.borderWidth;
                for (var m = 0; m < n.length; ++m) {
                    var h, v, g, b, y = n[m], _ = y.box, k = y.tickLength;
                    if (y.show && 0 != y.ticks.length) {
                        for (le.lineWidth = 1, "x" == y.direction ? (h = 0, v = "full" == k ? "top" == y.position ? 0 : me : _.top - fe.top + ("top" == y.position ? _.height : 0)) : (v = 0, 
                        h = "full" == k ? "left" == y.position ? 0 : pe : _.left - fe.left + ("left" == y.position ? _.width : 0)), 
                        y.innermost || (le.strokeStyle = y.options.color, le.beginPath(), g = b = 0, "x" == y.direction ? g = pe + 1 : b = me + 1, 
                        1 == le.lineWidth && ("x" == y.direction ? v = Math.floor(v) + .5 : h = Math.floor(h) + .5), 
                        le.moveTo(h, v), le.lineTo(h + g, v + b), le.stroke()), le.strokeStyle = y.options.tickColor, 
                        le.beginPath(), t = 0; t < y.ticks.length; ++t) {
                            var x = y.ticks[t].v;
                            g = b = 0, isNaN(x) || x < y.min || x > y.max || "full" == k && ("object" == typeof o && o[y.position] > 0 || o > 0) && (x == y.min || x == y.max) || ("x" == y.direction ? (h = y.p2c(x), 
                            b = "full" == k ? -me : k, "top" == y.position && (b = -b)) : (v = y.p2c(x), g = "full" == k ? -pe : k, 
                            "left" == y.position && (g = -g)), 1 == le.lineWidth && ("x" == y.direction ? h = Math.floor(h) + .5 : v = Math.floor(v) + .5), 
                            le.moveTo(h, v), le.lineTo(h + g, v + b));
                        }
                        le.stroke();
                    }
                }
                o && (r = re.grid.borderColor, "object" == typeof o || "object" == typeof r ? ("object" != typeof o && (o = {
                    top: o,
                    right: o,
                    bottom: o,
                    left: o
                }), "object" != typeof r && (r = {
                    top: r,
                    right: r,
                    bottom: r,
                    left: r
                }), o.top > 0 && (le.strokeStyle = r.top, le.lineWidth = o.top, le.beginPath(), 
                le.moveTo(0 - o.left, 0 - o.top / 2), le.lineTo(pe, 0 - o.top / 2), le.stroke()), 
                o.right > 0 && (le.strokeStyle = r.right, le.lineWidth = o.right, le.beginPath(), 
                le.moveTo(pe + o.right / 2, 0 - o.top), le.lineTo(pe + o.right / 2, me), le.stroke()), 
                o.bottom > 0 && (le.strokeStyle = r.bottom, le.lineWidth = o.bottom, le.beginPath(), 
                le.moveTo(pe + o.right, me + o.bottom / 2), le.lineTo(0, me + o.bottom / 2), le.stroke()), 
                o.left > 0 && (le.strokeStyle = r.left, le.lineWidth = o.left, le.beginPath(), le.moveTo(0 - o.left / 2, me + o.bottom), 
                le.lineTo(0 - o.left / 2, 0), le.stroke())) : (le.lineWidth = o, le.strokeStyle = re.grid.borderColor, 
                le.strokeRect(-o / 2, -o / 2, pe + o, me + o))), le.restore();
            }
            function R() {
                e.each(p(), function(e, t) {
                    var n, o, r, i, a, s = t.box, l = t.direction + "Axis " + t.direction + t.n + "Axis", c = "flot-" + t.direction + "-axis flot-" + t.direction + t.n + "-axis " + l, u = t.options.font || "flot-tick-label tickLabel";
                    if (ie.removeText(c), t.show && 0 != t.ticks.length) for (var d = 0; d < t.ticks.length; ++d) n = t.ticks[d], 
                    !n.label || n.v < t.min || n.v > t.max || ("x" == t.direction ? (i = "center", o = fe.left + t.p2c(n.v), 
                    "bottom" == t.position ? r = s.top + s.padding : (r = s.top + s.height - s.padding, 
                    a = "bottom")) : (a = "middle", r = fe.top + t.p2c(n.v), "left" == t.position ? (o = s.left + s.width - s.padding, 
                    i = "right") : o = s.left + s.padding), ie.addText(c, o, r, n.label, u, null, null, i, a));
                });
            }
            function F(e) {
                e.lines.show && j(e), e.bars.show && L(e), e.points.show && U(e);
            }
            function j(e) {
                function t(e, t, n, o, r) {
                    var i = e.points, a = e.pointsize, s = null, l = null;
                    le.beginPath();
                    for (var c = a; c < i.length; c += a) {
                        var u = i[c - a], d = i[c - a + 1], f = i[c], p = i[c + 1];
                        if (null != u && null != f) {
                            if (d <= p && d < r.min) {
                                if (p < r.min) continue;
                                u = (r.min - d) / (p - d) * (f - u) + u, d = r.min;
                            } else if (p <= d && p < r.min) {
                                if (d < r.min) continue;
                                f = (r.min - d) / (p - d) * (f - u) + u, p = r.min;
                            }
                            if (d >= p && d > r.max) {
                                if (p > r.max) continue;
                                u = (r.max - d) / (p - d) * (f - u) + u, d = r.max;
                            } else if (p >= d && p > r.max) {
                                if (d > r.max) continue;
                                f = (r.max - d) / (p - d) * (f - u) + u, p = r.max;
                            }
                            if (u <= f && u < o.min) {
                                if (f < o.min) continue;
                                d = (o.min - u) / (f - u) * (p - d) + d, u = o.min;
                            } else if (f <= u && f < o.min) {
                                if (u < o.min) continue;
                                p = (o.min - u) / (f - u) * (p - d) + d, f = o.min;
                            }
                            if (u >= f && u > o.max) {
                                if (f > o.max) continue;
                                d = (o.max - u) / (f - u) * (p - d) + d, u = o.max;
                            } else if (f >= u && f > o.max) {
                                if (u > o.max) continue;
                                p = (o.max - u) / (f - u) * (p - d) + d, f = o.max;
                            }
                            u == s && d == l || le.moveTo(o.p2c(u) + t, r.p2c(d) + n), s = f, l = p, le.lineTo(o.p2c(f) + t, r.p2c(p) + n);
                        }
                    }
                    le.stroke();
                }
                function n(e, t, n) {
                    for (var o = e.points, r = e.pointsize, i = Math.min(Math.max(0, n.min), n.max), a = 0, s = !1, l = 1, c = 0, u = 0; ;) {
                        if (r > 0 && a > o.length + r) break;
                        a += r;
                        var d = o[a - r], f = o[a - r + l], p = o[a], m = o[a + l];
                        if (s) {
                            if (r > 0 && null != d && null == p) {
                                u = a, r = -r, l = 2;
                                continue;
                            }
                            if (r < 0 && a == c + r) {
                                le.fill(), s = !1, r = -r, l = 1, a = c = u + r;
                                continue;
                            }
                        }
                        if (null != d && null != p) {
                            if (d <= p && d < t.min) {
                                if (p < t.min) continue;
                                f = (t.min - d) / (p - d) * (m - f) + f, d = t.min;
                            } else if (p <= d && p < t.min) {
                                if (d < t.min) continue;
                                m = (t.min - d) / (p - d) * (m - f) + f, p = t.min;
                            }
                            if (d >= p && d > t.max) {
                                if (p > t.max) continue;
                                f = (t.max - d) / (p - d) * (m - f) + f, d = t.max;
                            } else if (p >= d && p > t.max) {
                                if (d > t.max) continue;
                                m = (t.max - d) / (p - d) * (m - f) + f, p = t.max;
                            }
                            if (s || (le.beginPath(), le.moveTo(t.p2c(d), n.p2c(i)), s = !0), f >= n.max && m >= n.max) le.lineTo(t.p2c(d), n.p2c(n.max)), 
                            le.lineTo(t.p2c(p), n.p2c(n.max)); else if (f <= n.min && m <= n.min) le.lineTo(t.p2c(d), n.p2c(n.min)), 
                            le.lineTo(t.p2c(p), n.p2c(n.min)); else {
                                var h = d, v = p;
                                f <= m && f < n.min && m >= n.min ? (d = (n.min - f) / (m - f) * (p - d) + d, f = n.min) : m <= f && m < n.min && f >= n.min && (p = (n.min - f) / (m - f) * (p - d) + d, 
                                m = n.min), f >= m && f > n.max && m <= n.max ? (d = (n.max - f) / (m - f) * (p - d) + d, 
                                f = n.max) : m >= f && m > n.max && f <= n.max && (p = (n.max - f) / (m - f) * (p - d) + d, 
                                m = n.max), d != h && le.lineTo(t.p2c(h), n.p2c(f)), le.lineTo(t.p2c(d), n.p2c(f)), 
                                le.lineTo(t.p2c(p), n.p2c(m)), p != v && (le.lineTo(t.p2c(p), n.p2c(m)), le.lineTo(t.p2c(v), n.p2c(m)));
                            }
                        }
                    }
                }
                le.save(), le.translate(fe.left, fe.top), le.lineJoin = "round";
                var o = e.lines.lineWidth, r = e.shadowSize;
                if (o > 0 && r > 0) {
                    le.lineWidth = r, le.strokeStyle = "rgba(0,0,0,0.1)";
                    var i = Math.PI / 18;
                    t(e.datapoints, Math.sin(i) * (o / 2 + r / 2), Math.cos(i) * (o / 2 + r / 2), e.xaxis, e.yaxis), 
                    le.lineWidth = r / 2, t(e.datapoints, Math.sin(i) * (o / 2 + r / 4), Math.cos(i) * (o / 2 + r / 4), e.xaxis, e.yaxis);
                }
                le.lineWidth = o, le.strokeStyle = e.color;
                var a = B(e.lines, e.color, 0, me);
                a && (le.fillStyle = a, n(e.datapoints, e.xaxis, e.yaxis)), o > 0 && t(e.datapoints, 0, 0, e.xaxis, e.yaxis), 
                le.restore();
            }
            function U(e) {
                function t(e, t, n, o, r, i, a, s) {
                    for (var l = e.points, c = e.pointsize, u = 0; u < l.length; u += c) {
                        var d = l[u], f = l[u + 1];
                        null == d || d < i.min || d > i.max || f < a.min || f > a.max || (le.beginPath(), 
                        d = i.p2c(d), f = a.p2c(f) + o, "circle" == s ? le.arc(d, f, t, 0, r ? Math.PI : 2 * Math.PI, !1) : s(le, d, f, t, r), 
                        le.closePath(), n && (le.fillStyle = n, le.fill()), le.stroke());
                    }
                }
                le.save(), le.translate(fe.left, fe.top);
                var n = e.points.lineWidth, o = e.shadowSize, r = e.points.radius, i = e.points.symbol;
                if (0 == n && (n = 1e-4), n > 0 && o > 0) {
                    var a = o / 2;
                    le.lineWidth = a, le.strokeStyle = "rgba(0,0,0,0.1)", t(e.datapoints, r, null, a + a / 2, !0, e.xaxis, e.yaxis, i), 
                    le.strokeStyle = "rgba(0,0,0,0.2)", t(e.datapoints, r, null, a / 2, !0, e.xaxis, e.yaxis, i);
                }
                le.lineWidth = n, le.strokeStyle = e.color, t(e.datapoints, r, B(e.points, e.color), 0, !1, e.xaxis, e.yaxis, i), 
                le.restore();
            }
            function V(e, t, n, o, r, i, a, s, l, c, u) {
                var d, f, p, m, h, v, g, b, y;
                c ? (b = v = g = !0, h = !1, d = n, f = e, m = t + o, p = t + r, f < d && (y = f, 
                f = d, d = y, h = !0, v = !1)) : (h = v = g = !0, b = !1, d = e + o, f = e + r, 
                p = n, m = t, m < p && (y = m, m = p, p = y, b = !0, g = !1)), f < a.min || d > a.max || m < s.min || p > s.max || (d < a.min && (d = a.min, 
                h = !1), f > a.max && (f = a.max, v = !1), p < s.min && (p = s.min, b = !1), m > s.max && (m = s.max, 
                g = !1), d = a.p2c(d), p = s.p2c(p), f = a.p2c(f), m = s.p2c(m), i && (l.fillStyle = i(p, m), 
                l.fillRect(d, m, f - d, p - m)), u > 0 && (h || v || g || b) && (l.beginPath(), 
                l.moveTo(d, p), h ? l.lineTo(d, m) : l.moveTo(d, m), g ? l.lineTo(f, m) : l.moveTo(f, m), 
                v ? l.lineTo(f, p) : l.moveTo(f, p), b ? l.lineTo(d, p) : l.moveTo(d, p), l.stroke()));
            }
            function L(e) {
                function t(t, n, o, r, i, a) {
                    for (var s = t.points, l = t.pointsize, c = 0; c < s.length; c += l) null != s[c] && V(s[c], s[c + 1], s[c + 2], n, o, r, i, a, le, e.bars.horizontal, e.bars.lineWidth);
                }
                le.save(), le.translate(fe.left, fe.top), le.lineWidth = e.bars.lineWidth, le.strokeStyle = e.color;
                var n;
                switch (e.bars.align) {
                  case "left":
                    n = 0;
                    break;

                  case "right":
                    n = -e.bars.barWidth;
                    break;

                  default:
                    n = -e.bars.barWidth / 2;
                }
                var o = e.bars.fill ? function(t, n) {
                    return B(e.bars, e.color, t, n);
                } : null;
                t(e.datapoints, n, n + e.bars.barWidth, o, e.xaxis, e.yaxis), le.restore();
            }
            function B(t, n, o, r) {
                var i = t.fill;
                if (!i) return null;
                if (t.fillColor) return ne(t.fillColor, o, r, n);
                var a = e.color.parse(n);
                return a.a = "number" == typeof i ? i : .4, a.normalize(), a.toString();
            }
            function $() {
                if (null != re.legend.container ? e(re.legend.container).html("") : n.find(".legend").remove(), 
                re.legend.show) {
                    for (var t, o, r = [], i = [], a = !1, s = re.legend.labelFormatter, l = 0; l < oe.length; ++l) t = oe[l], 
                    t.label && (o = s ? s(t.label, t) : t.label, o && i.push({
                        label: o,
                        color: t.color
                    }));
                    if (re.legend.sorted) if (e.isFunction(re.legend.sorted)) i.sort(re.legend.sorted); else if ("reverse" == re.legend.sorted) i.reverse(); else {
                        var c = "descending" != re.legend.sorted;
                        i.sort(function(e, t) {
                            return e.label == t.label ? 0 : e.label < t.label != c ? 1 : -1;
                        });
                    }
                    for (var l = 0; l < i.length; ++l) {
                        var u = i[l];
                        l % re.legend.noColumns == 0 && (a && r.push("</tr>"), r.push("<tr>"), a = !0), 
                        r.push('<td class="legendColorBox"><div style="border:1px solid ' + re.legend.labelBoxBorderColor + ';padding:1px"><div style="width:4px;height:0;border:5px solid ' + u.color + ';overflow:hidden"></div></div></td><td class="legendLabel">' + u.label + "</td>");
                    }
                    if (a && r.push("</tr>"), 0 != r.length) {
                        var d = '<table style="font-size:smaller;color:' + re.grid.color + '">' + r.join("") + "</table>";
                        if (null != re.legend.container) e(re.legend.container).html(d); else {
                            var f = "", p = re.legend.position, m = re.legend.margin;
                            null == m[0] && (m = [ m, m ]), "n" == p.charAt(0) ? f += "top:" + (m[1] + fe.top) + "px;" : "s" == p.charAt(0) && (f += "bottom:" + (m[1] + fe.bottom) + "px;"), 
                            "e" == p.charAt(1) ? f += "right:" + (m[0] + fe.right) + "px;" : "w" == p.charAt(1) && (f += "left:" + (m[0] + fe.left) + "px;");
                            var h = e('<div class="legend">' + d.replace('style="', 'style="position:absolute;' + f + ";") + "</div>").appendTo(n);
                            if (0 != re.legend.backgroundOpacity) {
                                var v = re.legend.backgroundColor;
                                null == v && (v = re.grid.backgroundColor, v = v && "string" == typeof v ? e.color.parse(v) : e.color.extract(h, "background-color"), 
                                v.a = 1, v = v.toString());
                                var g = h.children();
                                e('<div style="position:absolute;width:' + g.width() + "px;height:" + g.height() + "px;" + f + "background-color:" + v + ';"> </div>').prependTo(h).css("opacity", re.legend.backgroundOpacity);
                            }
                        }
                    }
                }
            }
            function W(e, t, n) {
                var o, r, i, a = re.grid.mouseActiveRadius, s = a * a + 1, l = null;
                for (o = oe.length - 1; o >= 0; --o) if (n(oe[o])) {
                    var c = oe[o], u = c.xaxis, d = c.yaxis, f = c.datapoints.points, p = u.c2p(e), m = d.c2p(t), h = a / u.scale, v = a / d.scale;
                    if (i = c.datapoints.pointsize, u.options.inverseTransform && (h = Number.MAX_VALUE), 
                    d.options.inverseTransform && (v = Number.MAX_VALUE), c.lines.show || c.points.show) for (r = 0; r < f.length; r += i) {
                        var g = f[r], b = f[r + 1];
                        if (null != g && !(g - p > h || g - p < -h || b - m > v || b - m < -v)) {
                            var y = Math.abs(u.p2c(g) - e), _ = Math.abs(d.p2c(b) - t), k = y * y + _ * _;
                            k < s && (s = k, l = [ o, r / i ]);
                        }
                    }
                    if (c.bars.show && !l) {
                        var x, w;
                        switch (c.bars.align) {
                          case "left":
                            x = 0;
                            break;

                          case "right":
                            x = -c.bars.barWidth;
                            break;

                          default:
                            x = -c.bars.barWidth / 2;
                        }
                        for (w = x + c.bars.barWidth, r = 0; r < f.length; r += i) {
                            var g = f[r], b = f[r + 1], T = f[r + 2];
                            null != g && (oe[o].bars.horizontal ? p <= Math.max(T, g) && p >= Math.min(T, g) && m >= b + x && m <= b + w : p >= g + x && p <= g + w && m >= Math.min(T, b) && m <= Math.max(T, b)) && (l = [ o, r / i ]);
                        }
                    }
                }
                return l ? (o = l[0], r = l[1], i = oe[o].datapoints.pointsize, {
                    datapoint: oe[o].datapoints.points.slice(r * i, (r + 1) * i),
                    dataIndex: r,
                    series: oe[o],
                    seriesIndex: o
                }) : null;
            }
            function H(e) {
                re.grid.hoverable && Y("plothover", e, function(e) {
                    return 0 != e.hoverable;
                });
            }
            function G(e) {
                re.grid.hoverable && Y("plothover", e, function(e) {
                    return !1;
                });
            }
            function q(e) {
                Y("plotclick", e, function(e) {
                    return 0 != e.clickable;
                });
            }
            function Y(e, t, o) {
                var r = se.offset(), i = t.pageX - r.left - fe.left, a = t.pageY - r.top - fe.top, s = m({
                    left: i,
                    top: a
                });
                s.pageX = t.pageX, s.pageY = t.pageY;
                var l = W(i, a, o);
                if (l && (l.pageX = parseInt(l.series.xaxis.p2c(l.datapoint[0]) + r.left + fe.left, 10), 
                l.pageY = parseInt(l.series.yaxis.p2c(l.datapoint[1]) + r.top + fe.top, 10)), re.grid.autoHighlight) {
                    for (var c = 0; c < ge.length; ++c) {
                        var u = ge[c];
                        u.auto != e || l && u.series == l.series && u.point[0] == l.datapoint[0] && u.point[1] == l.datapoint[1] || Q(u.series, u.point);
                    }
                    l && K(l.series, l.datapoint, e);
                }
                n.trigger(e, [ s, l ]);
            }
            function J() {
                var e = re.interaction.redrawOverlayInterval;
                return e == -1 ? void X() : void (be || (be = setTimeout(X, e)));
            }
            function X() {
                be = null, ce.save(), ae.clear(), ce.translate(fe.left, fe.top);
                var e, t;
                for (e = 0; e < ge.length; ++e) t = ge[e], t.series.bars.show ? te(t.series, t.point) : ee(t.series, t.point);
                ce.restore(), s(he.drawOverlay, [ ce ]);
            }
            function K(e, t, n) {
                if ("number" == typeof e && (e = oe[e]), "number" == typeof t) {
                    var o = e.datapoints.pointsize;
                    t = e.datapoints.points.slice(o * t, o * (t + 1));
                }
                var r = Z(e, t);
                r == -1 ? (ge.push({
                    series: e,
                    point: t,
                    auto: n
                }), J()) : n || (ge[r].auto = !1);
            }
            function Q(e, t) {
                if (null == e && null == t) return ge = [], void J();
                if ("number" == typeof e && (e = oe[e]), "number" == typeof t) {
                    var n = e.datapoints.pointsize;
                    t = e.datapoints.points.slice(n * t, n * (t + 1));
                }
                var o = Z(e, t);
                o != -1 && (ge.splice(o, 1), J());
            }
            function Z(e, t) {
                for (var n = 0; n < ge.length; ++n) {
                    var o = ge[n];
                    if (o.series == e && o.point[0] == t[0] && o.point[1] == t[1]) return n;
                }
                return -1;
            }
            function ee(t, n) {
                var o = n[0], r = n[1], i = t.xaxis, a = t.yaxis, s = "string" == typeof t.highlightColor ? t.highlightColor : e.color.parse(t.color).scale("a", .5).toString();
                if (!(o < i.min || o > i.max || r < a.min || r > a.max)) {
                    var l = t.points.radius + t.points.lineWidth / 2;
                    ce.lineWidth = l, ce.strokeStyle = s;
                    var c = 1.5 * l;
                    o = i.p2c(o), r = a.p2c(r), ce.beginPath(), "circle" == t.points.symbol ? ce.arc(o, r, c, 0, 2 * Math.PI, !1) : t.points.symbol(ce, o, r, c, !1), 
                    ce.closePath(), ce.stroke();
                }
            }
            function te(t, n) {
                var o, r = "string" == typeof t.highlightColor ? t.highlightColor : e.color.parse(t.color).scale("a", .5).toString(), i = r;
                switch (t.bars.align) {
                  case "left":
                    o = 0;
                    break;

                  case "right":
                    o = -t.bars.barWidth;
                    break;

                  default:
                    o = -t.bars.barWidth / 2;
                }
                ce.lineWidth = t.bars.lineWidth, ce.strokeStyle = r, V(n[0], n[1], n[2] || 0, o, o + t.bars.barWidth, function() {
                    return i;
                }, t.xaxis, t.yaxis, ce, t.bars.horizontal, t.bars.lineWidth);
            }
            function ne(t, n, o, r) {
                if ("string" == typeof t) return t;
                for (var i = le.createLinearGradient(0, o, 0, n), a = 0, s = t.colors.length; a < s; ++a) {
                    var l = t.colors[a];
                    if ("string" != typeof l) {
                        var c = e.color.parse(r);
                        null != l.brightness && (c = c.scale("rgb", l.brightness)), null != l.opacity && (c.a *= l.opacity), 
                        l = c.toString();
                    }
                    i.addColorStop(a / (s - 1), l);
                }
                return i;
            }
            var oe = [], re = {
                colors: [ "#edc240", "#afd8f8", "#cb4b4b", "#4da74d", "#9440ed" ],
                legend: {
                    show: !0,
                    noColumns: 1,
                    labelFormatter: null,
                    labelBoxBorderColor: "#ccc",
                    container: null,
                    position: "ne",
                    margin: 5,
                    backgroundColor: null,
                    backgroundOpacity: .85,
                    sorted: null
                },
                xaxis: {
                    show: null,
                    position: "bottom",
                    mode: null,
                    font: null,
                    color: null,
                    tickColor: null,
                    transform: null,
                    inverseTransform: null,
                    min: null,
                    max: null,
                    autoscaleMargin: null,
                    ticks: null,
                    tickFormatter: null,
                    labelWidth: null,
                    labelHeight: null,
                    reserveSpace: null,
                    tickLength: null,
                    alignTicksWithAxis: null,
                    tickDecimals: null,
                    tickSize: null,
                    minTickSize: null
                },
                yaxis: {
                    autoscaleMargin: .02,
                    position: "left"
                },
                xaxes: [],
                yaxes: [],
                series: {
                    points: {
                        show: !1,
                        radius: 3,
                        lineWidth: 2,
                        fill: !0,
                        fillColor: "#ffffff",
                        symbol: "circle"
                    },
                    lines: {
                        lineWidth: 2,
                        fill: !1,
                        fillColor: null,
                        steps: !1
                    },
                    bars: {
                        show: !1,
                        lineWidth: 2,
                        barWidth: 1,
                        fill: !0,
                        fillColor: null,
                        align: "left",
                        horizontal: !1,
                        zero: !0
                    },
                    shadowSize: 3,
                    highlightColor: null
                },
                grid: {
                    show: !0,
                    aboveData: !1,
                    color: "#545454",
                    backgroundColor: null,
                    borderColor: null,
                    tickColor: null,
                    margin: 0,
                    labelMargin: 5,
                    axisMargin: 8,
                    borderWidth: 2,
                    minBorderMargin: null,
                    markings: null,
                    markingsColor: "#f4f4f4",
                    markingsLineWidth: 2,
                    clickable: !1,
                    hoverable: !1,
                    autoHighlight: !0,
                    mouseActiveRadius: 10
                },
                interaction: {
                    redrawOverlayInterval: 1e3 / 60
                },
                hooks: {}
            }, ie = null, ae = null, se = null, le = null, ce = null, ue = [], de = [], fe = {
                left: 0,
                right: 0,
                top: 0,
                bottom: 0
            }, pe = 0, me = 0, he = {
                processOptions: [],
                processRawData: [],
                processDatapoints: [],
                processOffset: [],
                drawBackground: [],
                drawSeries: [],
                draw: [],
                bindEvents: [],
                drawOverlay: [],
                shutdown: []
            }, ve = this;
            ve.setData = u, ve.setupGrid = C, ve.draw = O, ve.getPlaceholder = function() {
                return n;
            }, ve.getCanvas = function() {
                return ie.element;
            }, ve.getPlotOffset = function() {
                return fe;
            }, ve.width = function() {
                return pe;
            }, ve.height = function() {
                return me;
            }, ve.offset = function() {
                var e = se.offset();
                return e.left += fe.left, e.top += fe.top, e;
            }, ve.getData = function() {
                return oe;
            }, ve.getAxes = function() {
                var t = {};
                return e.each(ue.concat(de), function(e, n) {
                    n && (t[n.direction + (1 != n.n ? n.n : "") + "axis"] = n);
                }), t;
            }, ve.getXAxes = function() {
                return ue;
            }, ve.getYAxes = function() {
                return de;
            }, ve.c2p = m, ve.p2c = h, ve.getOptions = function() {
                return re;
            }, ve.highlight = K, ve.unhighlight = Q, ve.triggerRedrawOverlay = J, ve.pointOffset = function(e) {
                return {
                    left: parseInt(ue[f(e, "x") - 1].p2c(+e.x) + fe.left, 10),
                    top: parseInt(de[f(e, "y") - 1].p2c(+e.y) + fe.top, 10)
                };
            }, ve.shutdown = k, ve.destroy = function() {
                k(), n.removeData("plot").empty(), oe = [], re = null, ie = null, ae = null, se = null, 
                le = null, ce = null, ue = [], de = [], he = null, ge = [], ve = null;
            }, ve.resize = function() {
                var e = n.width(), t = n.height();
                ie.resize(e, t), ae.resize(e, t);
            }, ve.hooks = he, l(ve), c(i), y(), u(r), C(), O(), _();
            var ge = [], be = null;
        }
        function o(e, t) {
            return t * Math.floor(e / t);
        }
        var r = Object.prototype.hasOwnProperty;
        e.fn.detach || (e.fn.detach = function() {
            return this.each(function() {
                this.parentNode && this.parentNode.removeChild(this);
            });
        }), t.prototype.resize = function(e, t) {
            if (e <= 0 || t <= 0) throw new Error("Invalid dimensions for plot, width = " + e + ", height = " + t);
            var n = this.element, o = this.context, r = this.pixelRatio;
            this.width != e && (n.width = e * r, n.style.width = e + "px", this.width = e), 
            this.height != t && (n.height = t * r, n.style.height = t + "px", this.height = t), 
            o.restore(), o.save(), o.scale(r, r);
        }, t.prototype.clear = function() {
            this.context.clearRect(0, 0, this.width, this.height);
        }, t.prototype.render = function() {
            var e = this._textCache;
            for (var t in e) if (r.call(e, t)) {
                var n = this.getTextLayer(t), o = e[t];
                n.hide();
                for (var i in o) if (r.call(o, i)) {
                    var a = o[i];
                    for (var s in a) if (r.call(a, s)) {
                        for (var l, c = a[s].positions, u = 0; l = c[u]; u++) l.active ? l.rendered || (n.append(l.element), 
                        l.rendered = !0) : (c.splice(u--, 1), l.rendered && l.element.detach());
                        0 == c.length && delete a[s];
                    }
                }
                n.show();
            }
        }, t.prototype.getTextLayer = function(t) {
            var n = this.text[t];
            return null == n && (null == this.textContainer && (this.textContainer = e("<div class='flot-text'></div>").css({
                position: "absolute",
                top: 0,
                left: 0,
                bottom: 0,
                right: 0,
                "font-size": "smaller",
                color: "#545454"
            }).insertAfter(this.element)), n = this.text[t] = e("<div></div>").addClass(t).css({
                position: "absolute",
                top: 0,
                left: 0,
                bottom: 0,
                right: 0
            }).appendTo(this.textContainer)), n;
        }, t.prototype.getTextInfo = function(t, n, o, r, i) {
            var a, s, l, c;
            if (n = "" + n, a = "object" == typeof o ? o.style + " " + o.variant + " " + o.weight + " " + o.size + "px/" + o.lineHeight + "px " + o.family : o, 
            s = this._textCache[t], null == s && (s = this._textCache[t] = {}), l = s[a], null == l && (l = s[a] = {}), 
            c = l[n], null == c) {
                var u = e("<div></div>").html(n).css({
                    position: "absolute",
                    "max-width": i,
                    top: -9999
                }).appendTo(this.getTextLayer(t));
                "object" == typeof o ? u.css({
                    font: a,
                    color: o.color
                }) : "string" == typeof o && u.addClass(o), c = l[n] = {
                    width: u.outerWidth(!0),
                    height: u.outerHeight(!0),
                    element: u,
                    positions: []
                }, u.detach();
            }
            return c;
        }, t.prototype.addText = function(e, t, n, o, r, i, a, s, l) {
            var c = this.getTextInfo(e, o, r, i, a), u = c.positions;
            "center" == s ? t -= c.width / 2 : "right" == s && (t -= c.width), "middle" == l ? n -= c.height / 2 : "bottom" == l && (n -= c.height);
            for (var d, f = 0; d = u[f]; f++) if (d.x == t && d.y == n) return void (d.active = !0);
            d = {
                active: !0,
                rendered: !1,
                element: u.length ? c.element.clone() : c.element,
                x: t,
                y: n
            }, u.push(d), d.element.css({
                top: Math.round(n),
                left: Math.round(t),
                "text-align": s
            });
        }, t.prototype.removeText = function(e, t, n, o, i, a) {
            if (null == o) {
                var s = this._textCache[e];
                if (null != s) for (var l in s) if (r.call(s, l)) {
                    var c = s[l];
                    for (var u in c) if (r.call(c, u)) for (var d, f = c[u].positions, p = 0; d = f[p]; p++) d.active = !1;
                }
            } else for (var d, f = this.getTextInfo(e, o, i, a).positions, p = 0; d = f[p]; p++) d.x == t && d.y == n && (d.active = !1);
        }, e.plot = function(t, o, r) {
            var i = new n(e(t), o, r, e.plot.plugins);
            return i;
        }, e.plot.version = "0.8.3", e.plot.plugins = [], e.fn.plot = function(t, n) {
            return this.each(function() {
                e.plot(this, t, n);
            });
        };
    }(jQuery);
}, function(e, t) {
    !function(e) {
        function t(t) {
            function n(e) {
                m.active && (c(e), t.getPlaceholder().trigger("plotselecting", [ i() ]));
            }
            function o(t) {
                1 == t.which && (document.body.focus(), void 0 !== document.onselectstart && null == h.onselectstart && (h.onselectstart = document.onselectstart, 
                document.onselectstart = function() {
                    return !1;
                }), void 0 !== document.ondrag && null == h.ondrag && (h.ondrag = document.ondrag, 
                document.ondrag = function() {
                    return !1;
                }), l(m.first, t), m.active = !0, v = function(e) {
                    r(e);
                }, e(document).one("mouseup", v));
            }
            function r(e) {
                return v = null, void 0 !== document.onselectstart && (document.onselectstart = h.onselectstart), 
                void 0 !== document.ondrag && (document.ondrag = h.ondrag), m.active = !1, c(e), 
                p() ? a() : (t.getPlaceholder().trigger("plotunselected", []), t.getPlaceholder().trigger("plotselecting", [ null ])), 
                !1;
            }
            function i() {
                if (!p()) return null;
                if (!m.show) return null;
                var n = {}, o = m.first, r = m.second;
                return e.each(t.getAxes(), function(e, t) {
                    if (t.used) {
                        var i = t.c2p(o[t.direction]), a = t.c2p(r[t.direction]);
                        n[e] = {
                            from: Math.min(i, a),
                            to: Math.max(i, a)
                        };
                    }
                }), n;
            }
            function a() {
                var e = i();
                t.getPlaceholder().trigger("plotselected", [ e ]), e.xaxis && e.yaxis && t.getPlaceholder().trigger("selected", [ {
                    x1: e.xaxis.from,
                    y1: e.yaxis.from,
                    x2: e.xaxis.to,
                    y2: e.yaxis.to
                } ]);
            }
            function s(e, t, n) {
                return t < e ? e : t > n ? n : t;
            }
            function l(e, n) {
                var o = t.getOptions(), r = t.getPlaceholder().offset(), i = t.getPlotOffset();
                e.x = s(0, n.pageX - r.left - i.left, t.width()), e.y = s(0, n.pageY - r.top - i.top, t.height()), 
                "y" == o.selection.mode && (e.x = e == m.first ? 0 : t.width()), "x" == o.selection.mode && (e.y = e == m.first ? 0 : t.height());
            }
            function c(e) {
                null != e.pageX && (l(m.second, e), p() ? (m.show = !0, t.triggerRedrawOverlay()) : u(!0));
            }
            function u(e) {
                m.show && (m.show = !1, t.triggerRedrawOverlay(), e || t.getPlaceholder().trigger("plotunselected", []));
            }
            function d(e, n) {
                var o, r, i, a, s = t.getAxes();
                for (var l in s) if (o = s[l], o.direction == n && (a = n + o.n + "axis", e[a] || 1 != o.n || (a = n + "axis"), 
                e[a])) {
                    r = e[a].from, i = e[a].to;
                    break;
                }
                if (e[a] || (o = "x" == n ? t.getXAxes()[0] : t.getYAxes()[0], r = e[n + "1"], i = e[n + "2"]), 
                null != r && null != i && r > i) {
                    var c = r;
                    r = i, i = c;
                }
                return {
                    from: r,
                    to: i,
                    axis: o
                };
            }
            function f(e, n) {
                var o, r = t.getOptions();
                "y" == r.selection.mode ? (m.first.x = 0, m.second.x = t.width()) : (o = d(e, "x"), 
                m.first.x = o.axis.p2c(o.from), m.second.x = o.axis.p2c(o.to)), "x" == r.selection.mode ? (m.first.y = 0, 
                m.second.y = t.height()) : (o = d(e, "y"), m.first.y = o.axis.p2c(o.from), m.second.y = o.axis.p2c(o.to)), 
                m.show = !0, t.triggerRedrawOverlay(), !n && p() && a();
            }
            function p() {
                var e = t.getOptions().selection.minSize;
                return Math.abs(m.second.x - m.first.x) >= e && Math.abs(m.second.y - m.first.y) >= e;
            }
            var m = {
                first: {
                    x: -1,
                    y: -1
                },
                second: {
                    x: -1,
                    y: -1
                },
                show: !1,
                active: !1
            }, h = {}, v = null;
            t.clearSelection = u, t.setSelection = f, t.getSelection = i, t.hooks.bindEvents.push(function(e, t) {
                var r = e.getOptions();
                null != r.selection.mode && (t.mousemove(n), t.mousedown(o));
            }), t.hooks.drawOverlay.push(function(t, n) {
                if (m.show && p()) {
                    var o = t.getPlotOffset(), r = t.getOptions();
                    n.save(), n.translate(o.left, o.top);
                    var i = e.color.parse(r.selection.color);
                    n.strokeStyle = i.scale("a", .8).toString(), n.lineWidth = 1, n.lineJoin = r.selection.shape, 
                    n.fillStyle = i.scale("a", .4).toString();
                    var a = Math.min(m.first.x, m.second.x) + .5, s = Math.min(m.first.y, m.second.y) + .5, l = Math.abs(m.second.x - m.first.x) - 1, c = Math.abs(m.second.y - m.first.y) - 1;
                    n.fillRect(a, s, l, c), n.strokeRect(a, s, l, c), n.restore();
                }
            }), t.hooks.shutdown.push(function(t, r) {
                r.unbind("mousemove", n), r.unbind("mousedown", o), v && e(document).unbind("mouseup", v);
            });
        }
        e.plot.plugins.push({
            init: t,
            options: {
                selection: {
                    mode: null,
                    color: "#e8cfac",
                    shape: "round",
                    minSize: 5
                }
            },
            name: "selection",
            version: "1.1"
        });
    }(jQuery);
}, function(e, t) {
    !function(e) {
        function t(e, t) {
            return t * Math.floor(e / t);
        }
        function n(e, t, n, o) {
            if ("function" == typeof e.strftime) return e.strftime(t);
            var r = function(e, t) {
                return e = "" + e, t = "" + (null == t ? "0" : t), 1 == e.length ? t + e : e;
            }, i = [], a = !1, s = e.getHours(), l = s < 12;
            null == n && (n = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ]), 
            null == o && (o = [ "Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat" ]);
            var c;
            c = s > 12 ? s - 12 : 0 == s ? 12 : s;
            for (var u = 0; u < t.length; ++u) {
                var d = t.charAt(u);
                if (a) {
                    switch (d) {
                      case "a":
                        d = "" + o[e.getDay()];
                        break;

                      case "b":
                        d = "" + n[e.getMonth()];
                        break;

                      case "d":
                        d = r(e.getDate());
                        break;

                      case "e":
                        d = r(e.getDate(), " ");
                        break;

                      case "h":
                      case "H":
                        d = r(s);
                        break;

                      case "I":
                        d = r(c);
                        break;

                      case "l":
                        d = r(c, " ");
                        break;

                      case "m":
                        d = r(e.getMonth() + 1);
                        break;

                      case "M":
                        d = r(e.getMinutes());
                        break;

                      case "q":
                        d = "" + (Math.floor(e.getMonth() / 3) + 1);
                        break;

                      case "S":
                        d = r(e.getSeconds());
                        break;

                      case "y":
                        d = r(e.getFullYear() % 100);
                        break;

                      case "Y":
                        d = "" + e.getFullYear();
                        break;

                      case "p":
                        d = l ? "am" : "pm";
                        break;

                      case "P":
                        d = l ? "AM" : "PM";
                        break;

                      case "w":
                        d = "" + e.getDay();
                    }
                    i.push(d), a = !1;
                } else "%" == d ? a = !0 : i.push(d);
            }
            return i.join("");
        }
        function o(e) {
            function t(e, t, n, o) {
                e[t] = function() {
                    return n[o].apply(n, arguments);
                };
            }
            var n = {
                date: e
            };
            void 0 != e.strftime && t(n, "strftime", e, "strftime"), t(n, "getTime", e, "getTime"), 
            t(n, "setTime", e, "setTime");
            for (var o = [ "Date", "Day", "FullYear", "Hours", "Milliseconds", "Minutes", "Month", "Seconds" ], r = 0; r < o.length; r++) t(n, "get" + o[r], e, "getUTC" + o[r]), 
            t(n, "set" + o[r], e, "setUTC" + o[r]);
            return n;
        }
        function r(e, t) {
            if ("browser" == t.timezone) return new Date(e);
            if (t.timezone && "utc" != t.timezone) {
                if ("undefined" != typeof timezoneJS && "undefined" != typeof timezoneJS.Date) {
                    var n = new timezoneJS.Date();
                    return n.setTimezone(t.timezone), n.setTime(e), n;
                }
                return o(new Date(e));
            }
            return o(new Date(e));
        }
        function i(o) {
            o.hooks.processOptions.push(function(o, i) {
                e.each(o.getAxes(), function(e, o) {
                    var i = o.options;
                    "time" == i.mode && (o.tickGenerator = function(e) {
                        var n = [], o = r(e.min, i), a = 0, l = i.tickSize && "quarter" === i.tickSize[1] || i.minTickSize && "quarter" === i.minTickSize[1] ? u : c;
                        null != i.minTickSize && (a = "number" == typeof i.tickSize ? i.tickSize : i.minTickSize[0] * s[i.minTickSize[1]]);
                        for (var d = 0; d < l.length - 1 && !(e.delta < (l[d][0] * s[l[d][1]] + l[d + 1][0] * s[l[d + 1][1]]) / 2 && l[d][0] * s[l[d][1]] >= a); ++d) ;
                        var f = l[d][0], p = l[d][1];
                        if ("year" == p) {
                            if (null != i.minTickSize && "year" == i.minTickSize[1]) f = Math.floor(i.minTickSize[0]); else {
                                var m = Math.pow(10, Math.floor(Math.log(e.delta / s.year) / Math.LN10)), h = e.delta / s.year / m;
                                f = h < 1.5 ? 1 : h < 3 ? 2 : h < 7.5 ? 5 : 10, f *= m;
                            }
                            f < 1 && (f = 1);
                        }
                        e.tickSize = i.tickSize || [ f, p ];
                        var v = e.tickSize[0];
                        p = e.tickSize[1];
                        var g = v * s[p];
                        "second" == p ? o.setSeconds(t(o.getSeconds(), v)) : "minute" == p ? o.setMinutes(t(o.getMinutes(), v)) : "hour" == p ? o.setHours(t(o.getHours(), v)) : "month" == p ? o.setMonth(t(o.getMonth(), v)) : "quarter" == p ? o.setMonth(3 * t(o.getMonth() / 3, v)) : "year" == p && o.setFullYear(t(o.getFullYear(), v)), 
                        o.setMilliseconds(0), g >= s.minute && o.setSeconds(0), g >= s.hour && o.setMinutes(0), 
                        g >= s.day && o.setHours(0), g >= 4 * s.day && o.setDate(1), g >= 2 * s.month && o.setMonth(t(o.getMonth(), 3)), 
                        g >= 2 * s.quarter && o.setMonth(t(o.getMonth(), 6)), g >= s.year && o.setMonth(0);
                        var b, y = 0, _ = Number.NaN;
                        do if (b = _, _ = o.getTime(), n.push(_), "month" == p || "quarter" == p) if (v < 1) {
                            o.setDate(1);
                            var k = o.getTime();
                            o.setMonth(o.getMonth() + ("quarter" == p ? 3 : 1));
                            var x = o.getTime();
                            o.setTime(_ + y * s.hour + (x - k) * v), y = o.getHours(), o.setHours(0);
                        } else o.setMonth(o.getMonth() + v * ("quarter" == p ? 3 : 1)); else "year" == p ? o.setFullYear(o.getFullYear() + v) : o.setTime(_ + g); while (_ < e.max && _ != b);
                        return n;
                    }, o.tickFormatter = function(e, t) {
                        var o = r(e, t.options);
                        if (null != i.timeformat) return n(o, i.timeformat, i.monthNames, i.dayNames);
                        var a, l = t.options.tickSize && "quarter" == t.options.tickSize[1] || t.options.minTickSize && "quarter" == t.options.minTickSize[1], c = t.tickSize[0] * s[t.tickSize[1]], u = t.max - t.min, d = i.twelveHourClock ? " %p" : "", f = i.twelveHourClock ? "%I" : "%H";
                        a = c < s.minute ? f + ":%M:%S" + d : c < s.day ? u < 2 * s.day ? f + ":%M" + d : "%b %d " + f + ":%M" + d : c < s.month ? "%b %d" : l && c < s.quarter || !l && c < s.year ? u < s.year ? "%b" : "%b %Y" : l && c < s.year ? u < s.year ? "Q%q" : "Q%q %Y" : "%Y";
                        var p = n(o, a, i.monthNames, i.dayNames);
                        return p;
                    });
                });
            });
        }
        var a = {
            xaxis: {
                timezone: null,
                timeformat: null,
                twelveHourClock: !1,
                monthNames: null
            }
        }, s = {
            second: 1e3,
            minute: 6e4,
            hour: 36e5,
            day: 864e5,
            month: 2592e6,
            quarter: 7776e6,
            year: 525949.2 * 60 * 1e3
        }, l = [ [ 1, "second" ], [ 2, "second" ], [ 5, "second" ], [ 10, "second" ], [ 30, "second" ], [ 1, "minute" ], [ 2, "minute" ], [ 5, "minute" ], [ 10, "minute" ], [ 30, "minute" ], [ 1, "hour" ], [ 2, "hour" ], [ 4, "hour" ], [ 8, "hour" ], [ 12, "hour" ], [ 1, "day" ], [ 2, "day" ], [ 3, "day" ], [ .25, "month" ], [ .5, "month" ], [ 1, "month" ], [ 2, "month" ] ], c = l.concat([ [ 3, "month" ], [ 6, "month" ], [ 1, "year" ] ]), u = l.concat([ [ 1, "quarter" ], [ 2, "quarter" ], [ 1, "year" ] ]);
        e.plot.plugins.push({
            init: i,
            options: a,
            name: "time",
            version: "1.0"
        }), e.plot.formatDate = n, e.plot.dateGenerator = r;
    }(jQuery);
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e) {
            function t(e, t, n, o, i, s) {
                var l = {
                    cursor: s.__CURSOR,
                    time: i,
                    message: n,
                    service: e
                };
                return o > 1 && (l.count = o), "abrt-notification" === e ? (l.problem = !0, l.service = s.PROBLEM_BINARY) : t < 4 && (l.warning = !0), 
                r.render(a, l);
            }
            function n() {
                return d;
            }
            function o(e) {
                return r.render(i, {
                    day: e
                });
            }
            function c(e) {
                var t = document.createElement("div");
                return t.innerHTML = e.trim(), t.children[0];
            }
            e.jquery && (e = e[0]), r.parse(i), r.parse(a), r.parse(s);
            var u = l("Reboot"), d = r.render(s, {
                message: u
            });
            return {
                render_line: t,
                render_day_header: o,
                render_reboot_separator: n,
                append: function(t) {
                    "string" == typeof t && (t = c(t)), e.appendChild(t);
                },
                prepend: function(t) {
                    "string" == typeof t && (t = c(t)), e.firstChild ? e.insertBefore(t, e.firstChild) : e.appendChild(t);
                },
                remove_last: function() {
                    e.lastChild && e.removeChild(e.lastChild);
                },
                remove_first: function() {
                    e.firstChild && e.removeChild(e.firstChild);
                }
            };
        }
        var o = n(7), r = n(10), i = n(23), a = n(24), s = n(25), l = o.gettext, c = o.gettext, u = {};
        u.journalctl = function() {
            function e() {
                var e, t;
                if (d.length && u.length > 0) for (e = u, u = [], t = 0; t < d.length; t++) d[t].apply(s, [ e ]); else window.clearInterval(f), 
                f = null;
            }
            var t, n, r = [], i = {
                follow: !0
            };
            for (t = 0; t < arguments.length; t++) if (n = arguments[t], "string" == typeof n) r.push(n); else if ("object" == typeof n) {
                if (!(n instanceof Array)) {
                    o.extend(i, n);
                    break;
                }
                r.push.apply(r, n);
            } else console.warn("journal.journalctl called with invalid argument:", n);
            void 0 === i.count && (i.follow ? i.count = 10 : i.count = null);
            var a = [ "journalctl", "-q", "--output=json" ];
            i.count ? a.push("--lines=" + i.count) : a.push("--no-tail"), i.directory && a.push("--directory=" + i.directory), 
            i.boot ? a.push("--boot=" + i.boot) : void 0 !== i.boot && a.push("--boot"), i.since && a.push("--since=" + i.since), 
            i.until && a.push("--until=" + i.until), i.cursor && a.push("--cursor=" + i.cursor), 
            i.after && a.push("--after=" + i.after), i.reverse ? a.push("--reverse") : i.follow && a.push("--follow"), 
            a.push("--"), a.push.apply(a, r);
            var s, l = new o.defer(), c = "", u = [], d = [], f = null, p = o.spawn(a, {
                host: i.host,
                batch: 8192,
                latency: 300,
                superuser: "try"
            }).stream(function(t) {
                c && (t = c + t), c = "";
                var n = t.split("\n"), o = n.length - 1;
                n.forEach(function(e, t) {
                    if (t == o) c = e; else if (e && 0 !== e.indexOf("-- ")) try {
                        u.push(JSON.parse(e));
                    } catch (t) {
                        console.warn(t, e);
                    }
                }), d.length && null === f && (f = window.setInterval(e, 300));
            }).done(function() {
                e(), l.resolve(u);
            }).fail(function(t) {
                "cancelled" == t.problem || 1 === t.exit_status ? (e(), l.resolve(u)) : l.reject(t);
            }).always(function() {
                window.clearInterval(f);
            });
            return s = l.promise(), s.stream = function(e) {
                return d.push(e), this;
            }, s.stop = function() {
                p.close("cancelled");
            }, s;
        }, u.printable = function(e) {
            return void 0 === e || null === e ? l("[no data]") : "string" == typeof e ? e : void 0 !== e.length ? o.format(l("[$0 bytes of binary data]"), e.length) : l("[binary data]");
        };
        var d = [ c("month-name", "January"), c("month-name", "February"), c("month-name", "March"), c("month-name", "April"), c("month-name", "May"), c("month-name", "June"), c("month-name", "July"), c("month-name", "August"), c("month-name", "September"), c("month-name", "October"), c("month-name", "November"), c("month-name", "December") ];
        u.renderer = function(e) {
            function n(e) {
                var t = {};
                for (var n in e) t[n] = e[n];
                return t;
            }
            function o(e) {
                function t(e) {
                    var t = e.toFixed();
                    return 1 == t.length && (t = "0" + t), t;
                }
                var n = new Date(e.__REALTIME_TIMESTAMP / 1e3);
                return {
                    cursor: e.__CURSOR,
                    full: e,
                    day: d[n.getMonth()] + " " + n.getDate().toFixed() + ", " + n.getFullYear().toFixed(),
                    time: t(n.getHours()) + ":" + t(n.getMinutes()),
                    bootid: e._BOOT_ID,
                    ident: e.SYSLOG_IDENTIFIER || e._COMM,
                    prio: e.PRIORITY,
                    message: u.printable(e.MESSAGE)
                };
            }
            function r(e, t) {
                return e && t && e.day == t.day && e.bootid == t.bootid && e.ident == t.ident && e.prio == t.prio && e.message == t.message;
            }
            function i(e) {
                return h.render_line(e.entry.ident, e.entry.prio, e.entry.message, e.count, e.last_time, e.entry.full);
            }
            function a() {
                v === g && v.entry && (v = n(g));
            }
            function s() {
                v.header_present && (h.remove_first(), v.header_present = !1), v.line_present && (h.remove_first(), 
                v.line_present = !1), v.entry && (h.prepend(i(v)), v.line_present = !0);
            }
            function l(e) {
                var t = o(e);
                r(v.entry, t) ? (v.count += 1, v.first_time = t.time) : (s(), v.entry && (t.bootid != v.entry.bootid && h.prepend(h.render_reboot_separator()), 
                t.day != v.entry.day && h.prepend(h.render_day_header(v.entry.day))), a(), v.entry = t, 
                v.count = 1, v.first_time = v.last_time = t.time, v.line_present = !1);
            }
            function c() {
                s(), v.entry && (h.prepend(h.render_day_header(v.entry.day)), v.header_present = !0);
            }
            function f() {
                g.line_present && (h.remove_last(), g.line_present = !1), g.entry && (h.append(i(g)), 
                g.line_present = !0);
            }
            function p(e) {
                var t = o(e);
                r(g.entry, t) ? (g.count += 1, g.last_time = t.time) : (f(), g.entry && t.day == g.entry.day || (h.append(h.render_day_header(t.day)), 
                g.header_present = !0), g.entry && t.bootid != g.entry.bootid && h.append(h.render_reboot_separator()), 
                a(), g.entry = t, g.count = 1, g.first_time = g.last_time = t.time, g.line_present = !1);
            }
            function m() {
                f();
            }
            var h;
            h = e.render_line ? e : t(e);
            var v, g;
            return v = g = {}, {
                prepend: l,
                prepend_flush: c,
                append: p,
                append_flush: m
            };
        }, u.logbox = function(e, t) {
            function n() {
                for (var e = u.renderer(r); r.firstChild; ) r.removeChild(r.firstChild);
                for (var t = 0; t < o.length; t++) e.prepend(o[t]);
                e.prepend_flush(), o.length > 0 ? r.removeAttribute("hidden") : r.setAttribute("hidden", "hidden");
            }
            var o = [], r = document.createElement("div");
            n();
            var i = u.journalctl(e, {
                count: t
            }).stream(function(e) {
                o = o.concat(e), o.length > t && (o = o.slice(-t)), n();
            }).fail(function(e) {
                r.appendChild(document.createTextNode(e.message)), r.removeAttribute("hidden");
            });
            return i.promise(r);
        }, e.exports = u;
    }();
}, function(e, t) {
    e.exports = '<div class="panel-heading">{{day}}</div>\n';
}, function(e, t) {
    e.exports = '<div class="cockpit-logline" data-cursor="{{cursor}}">\n  <div class="cockpit-log-warning">{{#warning}}\n    <i class="fa fa-exclamation-triangle"></i>\n  {{/warning}}{{#problem}}\n    <i class="fa fa-times-circle-o"></i>\n  {{/problem}}\n  </div>\n  <div class="cockpit-log-time">{{time}}</div>\n  <span class="cockpit-log-message">{{message}}</span>\n  {{! if we have count (repeated messages), show service name and badge - otherwise just the service }}\n  {{#count}}\n  <div class="cockpit-log-service-container">\n    <div class="cockpit-log-service-reduced">{{service}}</div>\n    <span class="badge">{{count}}&#160;<i class="fa fa-caret-right"></i></span>\n  </div>\n  {{/count}}{{^count}}\n  <div class="cockpit-log-service">{{service}}</div>\n  {{/count}}\n</div>\n';
}, function(e, t) {
    e.exports = '<div class="cockpit-logline">\n  {{! placeholders for correct message alignment }}\n  <div class="cockpit-log-warning"></div>\n  <span class="cockpit-log-message cockpit-logmsg-reboot">{{message}}</span>\n</div>\n';
}, function(e, t, n) {
    "use strict";
    !function() {
        function t() {
            s = r("#storage-dialog-tmpl").html(), a.parse(s);
        }
        function o(e) {
            function t(e) {
                return !e || 0 === e.length;
            }
            function n(e) {
                var t = r(this).hasClass("collapsed");
                t ? (r(this).removeClass("collapsed"), r(this).find(".fa").removeClass("fa-angle-right").addClass("fa-angle-down")) : (r(this).addClass("collapsed"), 
                r(this).find(".fa").removeClass("fa-angle-down").addClass("fa-angle-right")), _();
            }
            function o(e) {
                var t = r(this), n = r(e.target).parent("tr");
                t.find("tr").removeClass("highlight-ct"), n.addClass("highlight-ct");
            }
            function u(e) {
                if (e.hasClass("disabled")) return !1;
                var t = e.parents(".dropdown");
                t.find("button span").first().text(e.text()), t.val(e.attr("value")), t.find("li.selected").removeClass("selected"), 
                e.addClass("selected"), t.trigger("change", []);
            }
            function d(e) {
                var t = e.Value || e.Max, n = S.find('[data-field="' + e.SizeSlider + '"]'), o = n.find(".size-text"), a = n.find(".size-unit"), s = r("<div class='slider'>").append(r("<div class='slider-bar'>").append(r("<div class='slider-thumb'>")));
                r(s).slider(), n.data("max", e.Max), n.data("round", e.Round), n.find(".slider").replaceWith(s), 
                r(s).on("change", f), n.find(".size-text").on("change", p), n.find(".size-unit").on("change", m), 
                s.prop("value", t / e.Max), n.val(t), o.val(i.format_number(t / +a.val()));
            }
            function f(e, t) {
                var n = r(this).parents(".size-slider"), o = n.find(".size-text"), a = n.find(".size-unit"), s = n.data("max"), l = n.data("round");
                t *= s, l && (t = Math.round(t / l) * l), t < 0 && (t = 0), t > s && (t = s), o.val(i.format_number(t / +a.val())), 
                n.val(t), r(n).trigger("change");
            }
            function p(e) {
                var t = r(this), n = t.parents(".size-slider"), o = n.find(".size-unit"), a = +o.val(), s = n.find(".slider"), l = n.data("max"), c = +t.val() * a, u = i.format_number(l / a), d = +u * a;
                c == d && (c = l), s.prop("value", c / l), n.val(c), r(n).trigger("change");
            }
            function m(e) {
                var t = r(this), n = t.parents(".size-slider"), o = n.find(".size-text");
                o.val(i.format_number(+n.val() / +t.val()));
            }
            function h(e, t) {
                var n = S.find('[data-field="' + e.SizeSlider + '"]'), o = n.find(".size-text"), r = n.find(".size-unit"), a = n.find(".slider");
                "number" == typeof t && (t = {
                    Value: t
                }), void 0 !== t.Max && (e.Max = t.Max, n.data("max", e.Max)), void 0 !== t.Round && (e.Round = t.Round, 
                n.data("round", e.Round)), void 0 !== t.Value && (a.prop("value", t.Value / e.Max), 
                o.val(i.format_number(t.Value / +r.val())), n.val(t.Value));
            }
            function v(e, t) {
                if ("function" == typeof t) return void r.when(t(y())).then(function(t) {
                    t !== !1 && v(e, t);
                });
                var n = S.find('[data-field="' + e + '"]'), o = n.find("ul");
                o.empty().append(t.map(function(e) {
                    return r("<li>").append(r("<a>").text(e));
                })), n.find(".caret").toggle(t.length > 0);
            }
            function g() {
                C && (M && window.clearTimeout(M), M = window.setTimeout(function() {
                    e.Fields.forEach(function(e) {
                        e.ComboBox && "function" == typeof e.Choices && v(e.ComboBox, e.Choices);
                    });
                }, 500));
            }
            function b(e) {
                return e.TextInput || e.PassInput || e.SelectOne || e.SelectMany || e.SizeInput || e.SizeSlider || e.CheckBox || e.Arrow || e.SelectRow || e.CheckBoxText || e.ComboBox;
            }
            function y() {
                var t = {};
                return e.Fields.forEach(function(e) {
                    var n = b(e), o = S.find('[data-field="' + n + '"]');
                    if (e.TextInput) t[n] = o.val(); else if (e.PassInput) t[n] = o.val(); else if (e.SelectOne) t[n] = o.val(); else if (e.SizeInput) t[n] = 1024 * parseInt(o.val(), 10) * 1024; else if (e.SizeSlider) t[n] = parseInt(o.val(), 10); else if (e.CheckBox) t[n] = o.prop("checked"); else if (e.SelectMany) t[n] = [], 
                    o.find("input").each(function(o, r) {
                        r.checked && t[n].push(e.Options[o].value);
                    }); else if (e.SelectRow) o.find("tbody tr").each(function(o, i) {
                        r(i).hasClass("highlight-ct") && (t[n] = e.Rows[o].value);
                    }); else if (e.ComboBox) t[n] = o.find("input[type=text]").val(); else if (e.Arrow) t[n] = !o.hasClass("collapsed"); else if (e.CheckBoxText) {
                        var i = o.find("input[type=checkbox]"), a = o.find("input[type=text]");
                        i.prop("checked") ? t[n] = a.val() : t[n] = !1;
                    }
                }), t;
            }
            function _() {
                var t = y();
                e.Fields.forEach(function(e) {
                    if (e.visible) {
                        var n = b(e);
                        N[n] = !e.visible(t), S.find('[data-field="' + n + '"]').parents("tr").toggle(!N[n]);
                    }
                });
            }
            function k(t) {
                e.Fields.forEach(function(e) {
                    e.TextInput && e.update ? S.find('[data-field="' + e.TextInput + '"]').val(e.update(y(), t)) : e.CheckBox && e.update ? S.find('[data-field="' + e.CheckBox + '"]').prop("checked", e.update(y(), t)) : e.SizeSlider && e.update && h(e, e.update(y(), t));
                });
            }
            function x(e, t, n) {
                var o = null;
                return e.SizeSlider && (isNaN(t) && (o = c("Size must be a number")), 0 === t && (o = c("Size cannot be zero")), 
                t < 0 && (o = c("Size cannot be negative")), !e.AllowInfinite && t > e.Max && (o = c("Size is too large"))), 
                e.validate && (o = e.validate(t, n)), o;
            }
            function w() {
                var t = y(), n = [];
                return e.Fields.forEach(function(e) {
                    var o = b(e);
                    if (N[o]) t[o] = void 0; else {
                        var r = x(e, t[o], t);
                        if (r) {
                            var i = new Error(r);
                            i.target = '[data-field="' + o + '"]', n.push(i);
                        }
                    }
                }), S.dialog("failure", n), 0 === n.length ? t : null;
            }
            function T(e) {
                return e.field ? {
                    message: e.message,
                    target: '[data-field="' + e.field + '"]'
                } : e;
            }
            function E() {
                M && window.clearTimeout(M), S.modal("hide");
            }
            e.Fields.forEach(function(e) {
                e.SizeInput && e.Value && (e.ValueMB = (e.Value / 1048576).toFixed(0)), e.SizeSlider && !e.Units && (e.Units = i.get_byte_units(e.Value || e.Max)), 
                e.SelectMany && (e.HasOptions = e.Options.length > 0), e.CheckBoxText && (e.Checked = e.Value !== !1);
            }), e.Action && e.Action.Danger && (e.Action.DangerButton = !0), e.HasBody = !t(e.Fields) || !t(e.Alerts) || !t(e.Blocking), 
            l && l.modal("hide");
            var S = r(a.render(s, e));
            r("body").append(S), l = S, S.on("hidden.bs.modal", function() {
                S.remove();
            }), S.find(".dialog-arrow").on("click", n), S.find(".dialog-select-row-table tbody").on("click", o), 
            S.find(".dialog-select-row-table tbody tr:first-child").addClass("highlight-ct"), 
            S.on("click", ".dropdown li[value]", function(e) {
                return u(r(this));
            }), S.find(".dropdown").each(function(e, t) {
                var n;
                r(t).find("li[value]").each(function(e, t) {
                    n && !r(t).attr("selected") || (n = r(t));
                }), u(n);
            }), e.Fields.forEach(function(e) {
                e.SizeSlider && d(e);
            }), S.on("change", ".dialog-checkbox-text input[type=checkbox]", function(e) {
                var t = r(e.target).parents("[data-field]"), n = t.find("input[type=text]");
                n.toggle(e.target.checked);
            }), S.on("click", ".combobox-container .caret", function(e) {
                r(this).parents(".input-group").toggleClass("open");
            }), S.on("click", ".combobox-container li a", function(e) {
                r(this).parents(".input-group").find("input").val(r(this).text()).trigger("change"), 
                r(this).parents(".input-group").removeClass("open");
            });
            var C = !1;
            S.find(".combobox-container .caret").hide(), e.Fields.forEach(function(e) {
                e.ComboBox && ("function" == typeof e.Choices && (C = !0), v(e.ComboBox, e.Choices));
            });
            var M, N = {};
            S.on("change input", function(e) {
                _(), g();
                var t = r(e.target).attr("data-field");
                t && k(t);
            }), S.find('button[data-action="cancel"]').on("click", function() {
                E();
            }), S.find('button[data-action="apply"]').on("click", function() {
                var t = w();
                if (null !== t) {
                    var n = e.Action.action(t);
                    n ? (S.dialog("wait", n), n.done(function(e) {
                        E();
                    }).fail(function(n) {
                        e.Action.failure_filter && (n = e.Action.failure_filter(t, n)), n && (n = n.length ? n.map(T) : T(n), 
                        S.dialog("failure", n));
                    })) : E();
                }
            }), _(), S.modal("show");
        }
        var r = n(6), i = n(7), a = n(10);
        n(27), n(28);
        var s, l, c = i.gettext;
        r(t), e.exports = {
            open: o
        };
    }();
}, function(e, t, n) {
    "use strict";
    !function() {
        function e() {
            return y += 1, "unique" + -new Date() + -y;
        }
        function t(e) {
            e.find(".dialog-error").remove(), e.find(".has-error").removeClass("has-error"), 
            e.find(".dialog-wrapper").off(".dialog-error"), e.off(".dialog-error");
        }
        function o(e, t) {
            var n, o, r = e.parent();
            r.is(".dialog-wrapper") || (r = g("<div class='dialog-wrapper'>").insertBefore(e), 
            n = e.next(), n.is(".bootstrap-select") && n.selectpicker && (n.remove(), o = n.selectpicker), 
            e.remove().appendTo(r), o && o.call(e));
            var i;
            t.message && (i = g("<div class='dialog-error help-block'>").text(t.message)), r.addClass("has-error").append(i), 
            r.hasClass("error-keep") || r.on("keypress.dialog-error change.dialog-error", function() {
                r.removeClass("has-error").find(".dialog-error.help-block").css("visibility", "hidden");
            });
        }
        function r(e, t) {
            var n = g("<div class='alert alert-danger dialog-error'>"), o = t.message || t.toString();
            n.text(o), g("<span class='fa fa-exclamation-triangle'>").prependTo(n), console.warn(o);
            var r = e.find(".modal-footer");
            r.length ? n.prependTo(r) : n.appendTo(e);
        }
        function i(e, n) {
            t(e), 1 == n.length && g.isArray(n[0]) && (n = n[0]);
            var i = !1;
            n.forEach(function(t) {
                var n;
                t && (n = e.find(t.target), n && n.length ? o(n, t) : r(e, t), i = !0);
            }), i && e.on("show.bs.modal.dialog-error", function() {
                t(e);
            });
        }
        function a(e, t) {
            this.promise = e, this.disabled = [], this.handle = t;
        }
        function s(e) {
            var t = e.data("dialog-wait");
            e.data("dialog-wait", null), e.find(".dialog-wait-ct").remove(), e.find(".btn").off(".dialog-wait"), 
            e.off(".dialog-wait"), t && t.disabled.forEach(function(e) {
                e.removeAttr("disabled");
            });
        }
        function l(e, t, n) {
            function o() {
                var n, o = e.data("dialog-wait");
                o && o.promise === t && (s(e), n = t.state(), f || "resolved" == n && o.handle ? e.modal("hide") : "rejected" == n && o.handle && i(e, [ arguments[0] ]));
            }
            function r(n) {
                var o = e.data("dialog-wait");
                o && o.promise === t && ("string" != typeof n && (n = ""), c.text(n));
            }
            if (s(e), !t) return n && e.modal("hide"), e;
            n && i(e, []);
            var l = g("<div class='dialog-wait-ct pull-left'>");
            g("<div class='spinner spinner-sm'>").appendTo(l);
            var c = g("<span>").appendTo(l);
            e.find(".modal-footer button").first().before(l);
            var u = new a(t, n);
            e.data("dialog-wait", u);
            var d = t.cancel || t.close, f = !1, p = e.find(".form-control").add(".btn", e);
            return d && (p = p.not("[data-dismiss]").not(".btn-cancel")), p.each(function() {
                var e = g(this);
                e.attr("disabled") || (u.disabled.push(e), e.attr("disabled", "disabled"));
            }), e.find(".btn[data-dismiss], .btn-cancel").on("click.dialog-wait", function() {
                return f = !0, d && d.apply(t), !1;
            }), e.on("hide.bs.modal.dialog-wait", function() {
                s(e);
            }), t.always(o).progress(r), e;
        }
        function c(t) {
            var n = b.gettext || function(e) {
                return e;
            };
            return t = t.find(".btn-onoff-ct").andSelf().filter(".btn-onoff-ct"), t.each(function(t, o) {
                var r, i, a, s = g(o).attr("data-toggle", "buttons").addClass("btn-group"), l = s.onoff("value"), c = s.find(".btn"), u = s.find("input").first().attr("name") || e();
                for (r = c.length; r < 2; r++) i = g('<input type="radio" autocomplete="off">'), 
                a = document.createTextNode(n(0 === r ? "On" : "Off")), s.append(g('<label class="btn">').append(i, a)), 
                c = null;
                c = c || s.find(".btn"), c.find("input").attr("name", u), d(s, !!l);
            }), t;
        }
        function u(e) {
            return e.find(".btn").first().hasClass("active");
        }
        function d(e, t) {
            return e.each(function(e, n) {
                var o = g(n).find(".btn");
                o.first().toggleClass("active", !!t).find("input").prop("checked", !!t), o.last().toggleClass("active", !t).find("input").prop("checked", !t);
            });
        }
        function f(e, t, n, o) {
            var r = 0;
            o > n ? r = 1 : o < 0 || isNaN(o) ? r = 0 : !isNaN(n) && n > 0 && o >= 0 && (r = o / n), 
            g(t).css("width", 100 * r + "%").next("div").css("margin-left", g(t).css("width")), 
            e.value = r;
        }
        function p(e) {
            f(e, g(e).children("div.slider-bar").first()[0], 1, e.value);
        }
        function m(e) {
            g(e).toggleClass("slider-warning", e.offsetWidth < e.scrollWidth);
        }
        function h(e) {
            g(e).attr("unselectable", "on"), Object.defineProperty(e, "value", {
                get: function() {
                    return parseFloat(this.getAttribute("value"));
                },
                set: function(t) {
                    var n = String(t);
                    n != this.getAttribute("value") && (this.setAttribute("value", t), p(e), m(e));
                }
            }), Object.defineProperty(e, "disabled", {
                get: function() {
                    return !!this.hasAttribute("disabled") && "false" != this.getAttribute("disabled").toLowerCase();
                },
                set: function(e) {
                    this.setAttribute("disabled", e ? "true" : "false");
                }
            }), p(e), m(e), g(e).on("change", function() {
                p(e), g(e).toggleClass("slider-disabled", e.disabled);
            }), e.disabled && g(e).addClass("slider-disabled"), g(e).on("mousedown", function(t) {
                if (e.disabled) return !0;
                var n, o = g(e).offset().left;
                if (g(t.target).hasClass("slider-thumb")) {
                    var r = t.offsetX || t.clientX - g(t.target).offset().left;
                    o += r - g(t.target).outerWidth() / 2, n = g(t.target).parent()[0];
                } else n = g(e).children("div.slider-bar").first()[0], f(e, n, g(e).width(), t.pageX - o), 
                g(e).trigger("change", [ e.value ]), m(e);
                return g(document).on("mousemove.slider", function(t) {
                    return f(e, n, g(e).width(), t.pageX - o), g(e).trigger("change", [ e.value ]), 
                    m(e), !1;
                }).on("mouseup.slider", function(e) {
                    return g(document).off("mousemove.slider").off("mouseup.slider"), !1;
                }), !1;
            });
        }
        function v() {
            g("div.slider").each(function() {
                h(this);
            });
        }
        var g = n(6), b = n(7), y = 0;
        g.fn.dialog = function(e) {
            return "failure" === e ? i(this, Array.prototype.slice.call(arguments, 1)) : "wait" === e ? l(this, arguments[1]) : "promise" === e ? l(this, arguments[1], !0) : void console.warn("unknown dialog action: " + e);
        }, window.addEventListener("hashchange", function() {
            g(".modal").modal("hide");
        }), g.fn.onoff = function(e) {
            return 0 === arguments.length || "refresh" == e ? c(this) : "value" === e ? 1 === arguments.length ? u(this) : d(this, arguments[1]) : "disabled" == e ? this.find(".btn").toggleClass("disabled", arguments[1]) : void console.warn("unknown switch action: " + e);
        }, g.fn.slider = function(e) {
            var t = this;
            return 0 === arguments.length || "refresh" == e ? (t.each(function() {
                h(this);
            }), t) : void console.warn("unknown slider action: " + e);
        }, g(document).ready(v), g.fn.update_privileged = function(e, t, n) {
            var o = e.allowed !== !1, r = this;
            return r.each(function() {
                var e = "allowed-title";
                "undefined" != typeof g(this).data(e) && g(this).data(e) !== !1 || g(this).data(e, g(this).attr("title") || "");
                var r = {
                    html: !0
                };
                n && (r.placement = n), g(this).tooltip(r), g(this).hasClass("disabled") === o && (g(this).toggleClass("disabled", !o).attr("data-original-title", null), 
                o ? g(this).attr("title", g(this).data(e)) : g(this).attr("title", t), g(this).tooltip("fixTitle"));
            }), r;
        };
    }();
}, function(e, t) {}, , function(e, t, n) {
    "use strict";
    !function() {
        function t(e, t, n) {
            var o = e.allowed !== !1;
            r(t).each(function() {
                var e = "allowed-title";
                "undefined" != typeof r(this).data(e) && r(this).data(e) !== !1 || r(this).data(e, r(this).attr("title") || ""), 
                r(this).tooltip({
                    html: !0
                }), r(this).hasClass("disabled") === o && (r(this).toggleClass("disabled", !o).attr("data-original-title", null), 
                o ? r(this).attr("title", r(this).data(e)) : r(this).attr("title", n), r(this).tooltip("fixTitle"));
            });
        }
        function o() {
            t(s, ".storage-privileged", i.format(a("The user <b>$0</b> is not permitted to manage storage"), s.user ? s.user.name : ""));
        }
        var r = n(6), i = n(7), a = i.gettext, s = i.permission({
            admin: !0
        });
        r(s).on("changed", o), e.exports = {
            permission: s,
            update: o
        };
    }();
}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function i(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function s(e, t) {
        function n(n, o) {
            f.default.render(f.default.createElement(k, {
                client: e,
                jobs: t,
                type: n,
                name: o
            }), r), r.style.display = "block";
        }
        function o() {
            r.style.display = "none", f.default.unmountComponentAtNode(r);
        }
        var r = document.getElementById("storage-detail");
        return {
            show: n,
            hide: o
        };
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.StdDetailsLayout = void 0;
    var l = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                Object.defineProperty(e, o.key, o);
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t;
        };
    }();
    t.init = s;
    var c = n(7), u = o(c), d = n(32), f = o(d), p = n(9), m = o(p), h = n(33), v = n(50), g = n(51), b = n(52), y = n(53), _ = u.default.gettext, k = (t.StdDetailsLayout = function(e) {
        function t() {
            return r(this, t), i(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return a(t, e), l(t, [ {
            key: "render",
            value: function() {
                return this.props.sidebar ? f.default.createElement("div", null, f.default.createElement("div", {
                    id: "detail-header",
                    className: "col-md-12"
                }, this.props.alert, this.props.header), f.default.createElement("div", {
                    id: "detail-sidebar",
                    className: "col-md-4 col-lg-3 col-md-push-8 col-lg-push-9"
                }, this.props.sidebar), f.default.createElement("div", {
                    className: "col-md-8 col-lg-9 col-md-pull-4 col-lg-pull-3"
                }, f.default.createElement("div", {
                    id: "detail-content"
                }, this.props.content), f.default.createElement(y.Jobs, {
                    jobs: this.props.jobs
                }))) : f.default.createElement("div", null, f.default.createElement("div", {
                    id: "detail-header",
                    className: "col-md-12"
                }, this.props.alert, this.props.header), f.default.createElement("div", {
                    className: "col-md-12"
                }, f.default.createElement("div", {
                    id: "detail-content"
                }, this.props.content), f.default.createElement(y.Jobs, {
                    jobs: this.props.jobs
                })));
            }
        } ]), t;
    }(f.default.Component), function(e) {
        function t() {
            r(this, t);
            var e = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.on_client_changed = function() {
                e.setState({});
            }, e;
        }
        return a(t, e), l(t, [ {
            key: "componentDidMount",
            value: function() {
                this.props.client.addEventListener("changed", this.on_client_changed);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.props.client.removeEventListener("changed", this.on_client_changed);
            }
        }, {
            key: "render",
            value: function() {
                function e(e) {
                    e && 0 === e.button && u.default.location.go("/");
                }
                var t = this.props.client, n = this.props.jobs, o = null, r = this.props.name;
                if ("block" == this.props.type) {
                    var i = t.slashdevs_block[this.props.name], a = i && t.drives[i.Drive];
                    a ? (r = m.default.drive_name(a), o = f.default.createElement(v.DriveDetails, {
                        client: t,
                        jobs: n,
                        drive: a
                    })) : i && (r = m.default.block_name(i), o = f.default.createElement(h.BlockDetails, {
                        client: t,
                        jobs: n,
                        block: i
                    }));
                } else if ("vgroup" == this.props.type) {
                    var s = t.vgnames_vgroup[this.props.name];
                    s && (r = s.Name, o = f.default.createElement(g.VGroupDetails, {
                        client: t,
                        jobs: n,
                        vgroup: s
                    }));
                } else if ("mdraid" == this.props.type) {
                    var l = t.uuids_mdraid[this.props.name];
                    l && (r = m.default.mdraid_name(l), o = f.default.createElement(b.MDRaidDetails, {
                        client: t,
                        jobs: n,
                        mdraid: l
                    }));
                }
                return o || (o = f.default.createElement("div", {
                    className: "col-md-12"
                }, _("Not found"))), f.default.createElement("div", null, f.default.createElement("div", {
                    className: "col-md-12"
                }, f.default.createElement("ol", {
                    className: "breadcrumb"
                }, f.default.createElement("li", null, f.default.createElement("a", {
                    onClick: e
                }, _("Storage"))), f.default.createElement("li", {
                    className: "active"
                }, r))), o);
            }
        } ]), t;
    }(f.default.Component));
}, function(e, t, n) {
    /*!
	 * react-lite.js v0.15.39
	 * (c) 2017 Jade Gu
	 * Released under the MIT License.
	 */
    !function(t, n) {
        e.exports = n();
    }(this, function() {
        "use strict";
        function e(e, t, n, o, r) {
            var i = {
                vtype: e,
                type: t,
                props: n,
                refs: Je,
                key: o,
                ref: r
            };
            return e !== $e && e !== We || (i.uid = se()), i;
        }
        function t(e, t, n) {
            var o = e.vtype, r = null;
            return o ? o === Be ? r = l(e, t, n) : o === We ? r = y(e, t, n) : o === $e ? r = h(e, t, n) : o === He && (r = document.createComment("react-text: " + (e.uid || se()))) : r = document.createTextNode(e), 
            r;
        }
        function n(e, t, n, r) {
            var i = e.vtype;
            if (i === We) return _(e, t, n, r);
            if (i === $e) return v(e, t, n, r);
            if (i !== Be) return n;
            var a = e.props[Ue] && e.props[Ue].__html;
            return null != a ? (p(e, t, n, r), c(t, n, r)) : (o(e, t, n, r), p(e, t, n, r)), 
            n;
        }
        function o(e, t, n, o) {
            var s = {
                removes: [],
                updates: [],
                creates: []
            };
            f(s, e, t, n, o), ie(s.removes, i), ie(s.updates, r), ie(s.creates, a);
        }
        function r(e) {
            if (e) {
                var t = e.vnode, n = e.node;
                e.shouldIgnore || (t.vtype ? t.vtype === Be ? p(t, e.newVnode, n, e.parentContext) : t.vtype === $e ? n = v(t, e.newVnode, n, e.parentContext) : t.vtype === We && (n = _(t, e.newVnode, n, e.parentContext)) : n.replaceData(0, n.length, e.newVnode));
                var o = n.parentNode.childNodes[e.index];
                return o !== n && n.parentNode.insertBefore(n, o), n;
            }
        }
        function i(e) {
            s(e.vnode, e.node), e.node.parentNode.removeChild(e.node);
        }
        function a(e) {
            var n = t(e.vnode, e.parentContext, e.parentNode.namespaceURI);
            e.parentNode.insertBefore(n, e.parentNode.childNodes[e.index]);
        }
        function s(e, t) {
            var n = e.vtype;
            n === Be ? m(e, t) : n === We ? k(e, t) : n === $e && g(e, t);
        }
        function l(e, t, n) {
            var o = e.type, r = e.props, i = null;
            "svg" === o || n === Ve ? (i = document.createElementNS(Ve, o), n = Ve) : i = document.createElement(o), 
            c(e, i, t);
            var a = o.indexOf("-") >= 0 || null != r.is;
            return de(i, r, a), null != e.ref && (re(Ke, e), re(Ke, i)), i;
        }
        function c(e, n, o) {
            for (var r = n.vchildren = u(e), i = n.namespaceURI, a = 0, s = r.length; a < s; a++) n.appendChild(t(r[a], o, i));
        }
        function u(e) {
            var t = e.props.children, n = [];
            return wt(t) ? ie(t, d, n) : d(t, n), n;
        }
        function d(e, t) {
            if (null != e && "boolean" != typeof e) {
                if (!e.vtype) {
                    if (e.toJS) return e = e.toJS(), void (wt(e) ? ie(e, d, t) : d(e, t));
                    e = "" + e;
                }
                t[t.length] = e;
            }
        }
        function f(e, t, n, o, r) {
            if (o.vchildren) {
                var i = o.childNodes, a = o.vchildren, s = o.vchildren = u(n), l = a.length, c = s.length;
                if (0 !== l) if (0 !== c) {
                    for (var d = Array(c), p = null, m = null, h = 0; h < l; h++) for (var v = a[h], g = 0; g < c; g++) if (!d[g]) {
                        var b = s[g];
                        if (v === b) {
                            d[g] = {
                                shouldIgnore: P(o),
                                vnode: v,
                                newVnode: b,
                                node: i[h],
                                parentContext: r,
                                index: g
                            }, a[h] = null;
                            break;
                        }
                    }
                    for (var h = 0; h < l; h++) {
                        var y = a[h];
                        if (null !== y) {
                            for (var _ = !0, g = 0; g < c; g++) if (!d[g]) {
                                var k = s[g];
                                if (k.type === y.type && k.key === y.key && k.refs === y.refs) {
                                    d[g] = {
                                        vnode: y,
                                        newVnode: k,
                                        node: i[h],
                                        parentContext: r,
                                        index: g
                                    }, _ = !1;
                                    break;
                                }
                            }
                            _ && (p || (p = []), re(p, {
                                vnode: y,
                                node: i[h]
                            }));
                        }
                    }
                    for (var h = 0; h < c; h++) {
                        var x = d[h];
                        x ? x.vnode.vtype === Be && f(e, x.vnode, x.newVnode, x.node, x.parentContext) : (m || (m = []), 
                        re(m, {
                            vnode: s[h],
                            parentNode: o,
                            parentContext: r,
                            index: h
                        }));
                    }
                    p && re(e.removes, p), m && re(e.creates, m), re(e.updates, d);
                } else for (var h = 0; h < l; h++) re(e.removes, {
                    vnode: a[h],
                    node: i[h]
                }); else if (c > 0) for (var h = 0; h < c; h++) re(e.creates, {
                    vnode: s[h],
                    parentNode: o,
                    parentContext: r,
                    index: h
                });
            }
        }
        function p(e, t, n) {
            var o = e.type.indexOf("-") >= 0 || null != e.props.is;
            return fe(n, e.props, t.props, o), e.ref !== t.ref && (z(e.refs, e.ref, n), D(t.refs, t.ref, n)), 
            n;
        }
        function m(e, t) {
            var n = (e.props, t.vchildren), o = t.childNodes;
            if (n) for (var r = 0, i = n.length; r < i; r++) s(n[r], o[r]);
            z(e.refs, e.ref, t), t.eventStore = t.vchildren = null;
        }
        function h(e, n, o) {
            var r = b(e, n), i = t(r, n, o);
            return i.cache = i.cache || {}, i.cache[e.uid] = r, i;
        }
        function v(e, t, n, o) {
            var r = e.uid, i = n.cache[r];
            delete n.cache[r];
            var a = b(t, o), s = M(i, a, n, o);
            return s.cache = s.cache || {}, s.cache[t.uid] = a, s !== n && O(s.cache, n.cache, s), 
            s;
        }
        function g(e, t) {
            var n = e.uid, o = t.cache[n];
            delete t.cache[n], s(o, t);
        }
        function b(t, n) {
            var o = t.type, r = t.props, i = x(n, o.contextTypes), a = o(r, i);
            if (a && a.render && (a = a.render()), null === a || a === !1) a = e(He); else if (!a || !a.vtype) throw new Error("@" + o.name + "#render:You may have returned undefined, an array or some other invalid object");
            return a;
        }
        function y(e, n, o) {
            var r = e.type, i = e.props, a = e.uid, s = x(n, r.contextTypes), l = new r(i, s), c = l.$updater, u = l.$cache;
            u.parentContext = n, c.isPending = !0, l.props = l.props || i, l.context = l.context || s, 
            l.componentWillMount && (l.componentWillMount(), l.state = c.getState());
            var d = w(l), f = t(d, T(l, n), o);
            return f.cache = f.cache || {}, f.cache[a] = l, u.vnode = d, u.node = f, u.isMounted = !0, 
            re(Xe, l), null != e.ref && (re(Ke, e), re(Ke, l)), f;
        }
        function _(e, t, n, o) {
            var r = e.uid, i = n.cache[r], a = i.$updater, s = i.$cache, l = t.type, c = t.props, u = x(o, l.contextTypes);
            if (delete n.cache[r], n.cache[t.uid] = i, s.parentContext = o, i.componentWillReceiveProps) {
                var d = !a.isPending;
                d && (a.isPending = !0), i.componentWillReceiveProps(c, u), d && (a.isPending = !1);
            }
            return e.ref !== t.ref && (z(e.refs, e.ref, i), D(t.refs, t.ref, i)), a.emitUpdate(c, u), 
            s.node;
        }
        function k(e, t) {
            var n = e.uid, o = t.cache[n], r = o.$cache;
            delete t.cache[n], z(e.refs, e.ref, o), o.setState = o.forceUpdate = te, o.componentWillUnmount && o.componentWillUnmount(), 
            s(r.vnode, t), delete o.setState, r.isMounted = !1, r.node = r.parentContext = r.vnode = o.refs = o.context = null;
        }
        function x(e, t) {
            var n = {};
            if (!t || !e) return n;
            for (var o in t) t.hasOwnProperty(o) && (n[o] = e[o]);
            return n;
        }
        function w(t, n) {
            Je = t.refs;
            var o = t.render();
            if (null === o || o === !1) o = e(He); else if (!o || !o.vtype) throw new Error("@" + t.constructor.name + "#render:You may have returned undefined, an array or some other invalid object");
            return Je = null, o;
        }
        function T(e, t) {
            if (e.getChildContext) {
                var n = e.getChildContext();
                n && (t = ae(ae({}, t), n));
            }
            return t;
        }
        function E() {
            var e = Xe.length;
            if (e) {
                var t = Xe;
                Xe = [];
                for (var n = -1; e--; ) {
                    var o = t[++n], r = o.$updater;
                    o.componentDidMount && o.componentDidMount(), r.isPending = !1, r.emitUpdate();
                }
            }
        }
        function S() {
            var e = Ke.length;
            if (e) {
                var t = Ke;
                Ke = [];
                for (var n = 0; n < e; n += 2) {
                    var o = t[n], r = t[n + 1];
                    D(o.refs, o.ref, r);
                }
            }
        }
        function C() {
            S(), E();
        }
        function M(e, o, r, i) {
            var a = r;
            return null == o ? (s(e, r), r.parentNode.removeChild(r)) : e.type !== o.type || e.key !== o.key ? (s(e, r), 
            a = t(o, i, r.namespaceURI), r.parentNode.replaceChild(a, r)) : (e !== o || i) && (a = n(e, o, r, i)), 
            a;
        }
        function N() {
            return this;
        }
        function D(e, t, n) {
            null != t && n && (n.nodeName && !n.getDOMNode && (n.getDOMNode = N), ee(t) ? t(n) : e && (e[t] = n));
        }
        function z(e, t, n) {
            null != t && (ee(t) ? t(null) : e && e[t] === n && delete e[t]);
        }
        function O(e, t, n) {
            for (var o in t) if (t.hasOwnProperty(o)) {
                var r = t[o];
                e[o] = r, r.forceUpdate && (r.$cache.node = n);
            }
        }
        function P(e) {
            var t = e.vchildren, n = e.children;
            if (t) for (var o = 0; o < t.length; o++) {
                var r = t[o];
                if ((r.vtype === We || r.vtype === $e) && r.type.contextTypes) return !1;
            }
            if (n) for (var o = 0; o < n.length; o++) if (!P(n[o])) return !1;
            return !0;
        }
        function A(e) {
            this.instance = e, this.pendingStates = [], this.pendingCallbacks = [], this.isPending = !1, 
            this.nextProps = this.nextContext = null, this.clearCallbacks = this.clearCallbacks.bind(this);
        }
        function I(e, t) {
            this.$updater = new A(this), this.$cache = {
                isMounted: !1
            }, this.props = e, this.state = {}, this.refs = {}, this.context = t;
        }
        function R(e, t, n, o, r) {
            var i = !0;
            if (e.shouldComponentUpdate && (i = e.shouldComponentUpdate(t, n, o)), i === !1) return e.props = t, 
            e.state = n, void (e.context = o || {});
            var a = e.$cache;
            a.props = t, a.state = n, a.context = o || {}, e.forceUpdate(r);
        }
        function F(e) {
            return "onDoubleClick" === e ? e = "ondblclick" : "onTouchTap" === e && (e = "onclick"), 
            e.toLowerCase();
        }
        function j(e, t, n) {
            t = F(t);
            var o = e.eventStore || (e.eventStore = {});
            if (o[t] = n, 1 === et[t]) return void (e[t] = L);
            if (rt[t] || (document.addEventListener(t.substr(2), V, !1), rt[t] = !0), tt && t === ot) return void e.addEventListener("click", nt, !1);
            e.nodeName;
            "onchange" === t && $(e) && j(e, "oninput", n);
        }
        function U(e, t) {
            t = F(t);
            var n = e.eventStore || (e.eventStore = {});
            if (delete n[t], 1 === et[t]) return void (e[t] = null);
            if (tt && t === ot) return void e.removeEventListener("click", nt, !1);
            e.nodeName;
            "onchange" === t && $(e) && delete n.oninput;
        }
        function V(e) {
            var t = e.target, n = e.type, o = "on" + n, r = void 0;
            for (Qe.isPending = !0; t; ) {
                var i = t, a = i.eventStore, s = a && a[o];
                if (s) {
                    if (r || (r = B(e)), r.currentTarget = t, s.call(t, r), r.$cancelBubble) break;
                    t = t.parentNode;
                } else t = t.parentNode;
            }
            Qe.isPending = !1, Qe.batchUpdate();
        }
        function L(e) {
            var t = e.currentTarget || e.target, n = "on" + e.type, o = B(e);
            o.currentTarget = t, Qe.isPending = !0;
            var r = t.eventStore, i = r && r[n];
            i && i.call(t, o), Qe.isPending = !1, Qe.batchUpdate();
        }
        function B(e) {
            var t = {}, n = function() {
                return t.$cancelBubble = !0;
            };
            t.nativeEvent = e, t.persist = te;
            for (var o in e) "function" != typeof e[o] ? t[o] = e[o] : "stopPropagation" === o || "stopImmediatePropagation" === o ? t[o] = n : t[o] = e[o].bind(e);
            return t;
        }
        function $(e) {
            var t = e.nodeName && e.nodeName.toLowerCase();
            return "select" !== t && !("input" === t && "file" === e.type);
        }
        function W(e, t) {
            for (var n in t) t.hasOwnProperty(n) && Y(e, n, t[n]);
        }
        function H(e, t) {
            for (var n in t) t.hasOwnProperty(n) && (e[n] = "");
        }
        function G(e, t, n) {
            if (t !== n) {
                if (!n && t) return void H(e, t);
                if (n && !t) return void W(e, n);
                for (var o in t) n.hasOwnProperty(o) ? n[o] !== t[o] && Y(e, o, n[o]) : e[o] = "";
                for (var o in n) t.hasOwnProperty(o) || Y(e, o, n[o]);
            }
        }
        function q(e, t) {
            return e + t.charAt(0).toUpperCase() + t.substring(1);
        }
        function Y(e, t, n) {
            return !it[t] && st.test(n) ? void (e[t] = n + "px") : ("float" === t && (t = "cssFloat"), 
            null != n && "boolean" != typeof n || (n = ""), void (e[t] = n));
        }
        function J(e) {
            var t = e.props, n = e.attrNS, o = e.domAttrs, r = e.domProps;
            for (var i in t) if (t.hasOwnProperty(i)) {
                var a = t[i];
                ft[i] = {
                    attributeName: o.hasOwnProperty(i) ? o[i] : i.toLowerCase(),
                    propertyName: r.hasOwnProperty(i) ? r[i] : i,
                    attributeNamespace: n.hasOwnProperty(i) ? n[i] : null,
                    mustUseProperty: X(a, pt),
                    hasBooleanValue: X(a, mt),
                    hasNumericValue: X(a, ht),
                    hasPositiveNumericValue: X(a, vt),
                    hasOverloadedBooleanValue: X(a, gt)
                };
            }
        }
        function X(e, t) {
            return (e & t) === t;
        }
        function K(e, t, n) {
            var o = ft.hasOwnProperty(t) && ft[t];
            if (o) if (null == n || o.hasBooleanValue && !n || o.hasNumericValue && isNaN(n) || o.hasPositiveNumericValue && n < 1 || o.hasOverloadedBooleanValue && n === !1) Q(e, t); else if (o.mustUseProperty) e[o.propertyName] = n; else {
                var r = o.attributeName, i = o.attributeNamespace;
                i ? e.setAttributeNS(i, r, "" + n) : o.hasBooleanValue || o.hasOverloadedBooleanValue && n === !0 ? e.setAttribute(r, "") : e.setAttribute(r, "" + n);
            } else dt(t) && ut.test(t) && (null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n));
        }
        function Q(e, t) {
            var n = ft.hasOwnProperty(t) && ft[t];
            if (n) if (n.mustUseProperty) {
                var o = n.propertyName;
                n.hasBooleanValue ? e[o] = !1 : e[o] = "";
            } else e.removeAttribute(n.attributeName); else dt(t) && e.removeAttribute(t);
        }
        function Z(e, t, n) {
            var o, r, i = e.options;
            if (t) {
                if (e.multiple = !0, !Array.isArray(n)) throw new Error("The value prop supplied to <select> must be an array if `multiple` is true");
                for (o = {}, r = 0; r < n.length; r++) o["" + n[r]] = !0;
                for (r = 0; r < i.length; r++) {
                    var a = o.hasOwnProperty(i[r].value);
                    i[r].selected !== a && (i[r].selected = a);
                }
            } else {
                if (e.multiple = !1, Array.isArray(n)) throw new Error("The value prop supplied to <select> must be a scalar value if `multiple` is false.");
                for (o = "" + n, r = 0; r < i.length; r++) {
                    var s = i[r];
                    s.value === o ? s.selected || (s.selected = !0) : s.selected && (s.selected = !1);
                }
                i.selectedIndex < 0 && i.length && (i[0].selected = !0);
            }
        }
        function ee(e) {
            return "function" == typeof e;
        }
        function te() {}
        function ne(e) {
            return e;
        }
        function oe(e, t) {
            return function() {
                return e.apply(this, arguments), t.apply(this, arguments);
            };
        }
        function re(e, t) {
            e[e.length] = t;
        }
        function ie(e, t, n) {
            for (var o = e.length, r = -1; o--; ) {
                var i = e[++r];
                wt(i) ? ie(i, t, n) : t(i, n);
            }
        }
        function ae(e, t) {
            if (!t) return e;
            for (var n = Object.keys(t), o = n.length; o--; ) e[n[o]] = t[n[o]];
            return e;
        }
        function se() {
            return ++Tt;
        }
        function le(e, t, n, o) {
            Et.test(t) ? j(e, t, n) : "style" === t ? W(e.style, n) : t === Ue ? n && null != n.__html && (e.innerHTML = n.__html) : o ? null == n ? e.removeAttribute(t) : e.setAttribute(t, "" + n) : K(e, t, n);
        }
        function ce(e, t, n, o) {
            Et.test(t) ? U(e, t) : "style" === t ? H(e.style, n) : t === Ue ? e.innerHTML = "" : o ? e.removeAttribute(t) : Q(e, t);
        }
        function ue(e, t, n, o, r) {
            if ("value" !== t && "checked" !== t || (o = e[t]), n !== o) return void 0 === n ? void ce(e, t, o, r) : void ("style" === t ? G(e.style, o, n) : le(e, t, n, r));
        }
        function de(e, t, n) {
            var o = "SELECT" === e.nodeName;
            for (var r in t) "children" !== r && (!o || "value" !== r && "defaultValue" !== r ? le(e, r, t[r], n) : Z(e, t.multiple, t[r]));
        }
        function fe(e, t, n, o) {
            var r = "SELECT" === e.nodeName;
            for (var i in t) "children" !== i && (n.hasOwnProperty(i) ? !r || "value" !== i && "defaultValue" !== i ? ue(e, i, n[i], t[i], o) : Z(e, n.multiple, n[i]) : ce(e, i, t[i], o));
            for (var i in n) "children" === i || t.hasOwnProperty(i) || (!r || "value" !== i && "defaultValue" !== i ? le(e, i, n[i], o) : Z(e, n.multiple, n[i]));
        }
        function pe(e) {
            return !(!e || e.nodeType !== Ge && e.nodeType !== qe && e.nodeType !== Ye);
        }
        function me(e, n, o, r) {
            if (!e.vtype) throw new Error("cannot render " + e + " to container");
            if (!pe(n)) throw new Error("container " + n + " is not a DOM element");
            var i = n[Le] || (n[Le] = se()), a = St[i];
            if (a) return void (a === !0 ? St[i] = a = {
                vnode: e,
                callback: o,
                parentContext: r
            } : (a.vnode = e, a.parentContext = r, a.callback = a.callback ? oe(a.callback, o) : o));
            St[i] = !0;
            var s = null, l = null;
            if (s = Ct[i]) l = M(s, e, n.firstChild, r); else {
                l = t(e, r, n.namespaceURI);
                for (var c = null; c = n.lastChild; ) n.removeChild(c);
                n.appendChild(l);
            }
            Ct[i] = e;
            var u = Qe.isPending;
            Qe.isPending = !0, C(), a = St[i], delete St[i];
            var d = null;
            return "object" == typeof a ? d = me(a.vnode, n, a.callback, a.parentContext) : e.vtype === Be ? d = l : e.vtype === We && (d = l.cache[e.uid]), 
            u || (Qe.isPending = !1, Qe.batchUpdate()), o && o.call(d), d;
        }
        function he(e, t, n) {
            return me(e, t, n);
        }
        function ve(e, t, n, o) {
            var r = e.$cache.parentContext;
            return me(t, n, o, r);
        }
        function ge(e) {
            if (!e.nodeName) throw new Error("expect node");
            var t = e[Le], n = null;
            return !!(n = Ct[t]) && (s(n, e.firstChild), e.removeChild(e.firstChild), delete Ct[t], 
            !0);
        }
        function be(e) {
            if (null == e) return null;
            if (e.nodeName) return e;
            var t = e;
            if (t.getDOMNode && t.$cache.isMounted) return t.getDOMNode();
            throw new Error("findDOMNode can not find Node");
        }
        function ye(t, n, o) {
            var r = null;
            if ("string" == typeof t) r = Be; else {
                if ("function" != typeof t) throw new Error("React.createElement: unexpect type [ " + t + " ]");
                r = t.prototype && t.prototype.isReactComponent ? We : $e;
            }
            var i = null, a = null, s = {};
            if (null != n) for (var l in n) n.hasOwnProperty(l) && ("key" === l ? void 0 !== n.key && (i = "" + n.key) : "ref" === l ? void 0 !== n.ref && (a = n.ref) : s[l] = n[l]);
            var c = t.defaultProps;
            if (c) for (var l in c) void 0 === s[l] && (s[l] = c[l]);
            var u = arguments.length, d = o;
            if (u > 3) {
                d = Array(u - 2);
                for (var f = 2; f < u; f++) d[f - 2] = arguments[f];
            }
            return void 0 !== d && (s.children = d), e(r, t, s, i, a);
        }
        function _e(e) {
            return null != e && !!e.vtype;
        }
        function ke(e, t) {
            for (var n = e.type, o = e.key, r = e.ref, i = ae(ae({
                key: o,
                ref: r
            }, e.props), t), a = arguments.length, s = Array(a > 2 ? a - 2 : 0), l = 2; l < a; l++) s[l - 2] = arguments[l];
            var c = ye.apply(void 0, [ n, i ].concat(s));
            return c.ref === e.ref && (c.refs = e.refs), c;
        }
        function xe(e) {
            var t = function() {
                for (var t = arguments.length, n = Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                return ye.apply(void 0, [ e ].concat(n));
            };
            return t.type = e, t;
        }
        function we(e) {
            if (_e(e)) return e;
            throw new Error("expect only one child");
        }
        function Te(e, t, n) {
            if (null == e) return e;
            var o = 0;
            if (wt(e)) ie(e, function(e) {
                var r = typeof e;
                "undefined" !== r && "boolean" !== r || (e = null), t.call(n, e, o++);
            }); else {
                var r = typeof e;
                "undefined" !== r && "boolean" !== r || (e = null), t.call(n, e, o);
            }
        }
        function Ee(e, t, n) {
            if (null == e) return e;
            var o = [], r = {};
            Te(e, function(e, i) {
                var a = {};
                a.child = t.call(n, e, i) || e, a.isEqual = a.child === e;
                var s = a.key = Me(e, i);
                r.hasOwnProperty(s) ? r[s] += 1 : r[s] = 0, a.index = r[s], re(o, a);
            });
            var i = [];
            return o.forEach(function(e) {
                var t = e.child, n = e.key, o = e.index, a = e.isEqual;
                if (null != t && "boolean" != typeof t) {
                    if (!_e(t) || null == n) return void re(i, t);
                    0 !== r[n] && (n += ":" + o), a || (n = Ne(t.key || "") + "/" + n), t = ke(t, {
                        key: n
                    }), re(i, t);
                }
            }), i;
        }
        function Se(e) {
            var t = 0;
            return Te(e, function() {
                t++;
            }), t;
        }
        function Ce(e) {
            return Ee(e, ne) || [];
        }
        function Me(e, t) {
            var n = void 0;
            return n = _e(e) && "string" == typeof e.key ? ".$" + e.key : "." + t.toString(36);
        }
        function Ne(e) {
            return ("" + e).replace(Pt, "//");
        }
        function De(e, t) {
            e.forEach(function(e) {
                e && (wt(e.mixins) && De(e.mixins, t), t(e));
            });
        }
        function ze(e, t) {
            for (var n in t) if (t.hasOwnProperty(n)) {
                var o = t[n];
                if ("getInitialState" !== n) {
                    var r = e[n];
                    ee(r) && ee(o) ? e[n] = oe(r, o) : e[n] = o;
                } else re(e.$getInitialStates, o);
            }
        }
        function Oe(e, t) {
            t.propTypes && (e.propTypes = e.propTypes || {}, ae(e.propTypes, t.propTypes)), 
            t.contextTypes && (e.contextTypes = e.contextTypes || {}, ae(e.contextTypes, t.contextTypes)), 
            ae(e, t.statics), ee(t.getDefaultProps) && (e.defaultProps = e.defaultProps || {}, 
            ae(e.defaultProps, t.getDefaultProps()));
        }
        function Pe(e, t) {
            for (var n in t) t.hasOwnProperty(n) && ee(t[n]) && (e[n] = t[n].bind(e));
        }
        function Ae() {
            var e = this, t = {}, n = this.setState;
            return this.setState = It, this.$getInitialStates.forEach(function(n) {
                ee(n) && ae(t, n.call(e));
            }), this.setState = n, t;
        }
        function Ie(e) {
            function t(n, o) {
                I.call(this, n, o), this.constructor = t, e.autobind !== !1 && Pe(this, t.prototype), 
                this.state = this.getInitialState() || this.state;
            }
            if (!ee(e.render)) throw new Error("createClass: spec.render is not function");
            var n = e.mixins || [], o = n.concat(e);
            e.mixins = null, t.displayName = e.displayName;
            var r = t.prototype = new It();
            return r.$getInitialStates = [], De(o, function(e) {
                ze(r, e), Oe(t, e);
            }), r.getInitialState = Ae, e.mixins = n, t;
        }
        function Re(e, t) {
            if (e === t) return !0;
            if ("object" != typeof e || null === e || "object" != typeof t || null === t) return !1;
            var n = Object.keys(e), o = Object.keys(t);
            if (n.length !== o.length) return !1;
            for (var r = 0; r < n.length; r++) if (!t.hasOwnProperty(n[r]) || e[n[r]] !== t[n[r]]) return !1;
            return !0;
        }
        function Fe(e, t) {
            I.call(this, e, t);
        }
        function je(e, t) {
            return !Re(this.props, e) || !Re(this.state, t);
        }
        var Ue = "dangerouslySetInnerHTML", Ve = "http://www.w3.org/2000/svg", Le = "liteid", Be = 2, $e = 3, We = 4, He = 5, Ge = 1, qe = 9, Ye = 11, Je = null, Xe = [], Ke = [], Qe = {
            updaters: [],
            isPending: !1,
            add: function(e) {
                re(this.updaters, e);
            },
            batchUpdate: function() {
                if (!this.isPending) {
                    this.isPending = !0;
                    for (var e = this.updaters, t = void 0; t = e.pop(); ) t.updateComponent();
                    this.isPending = !1;
                }
            }
        };
        A.prototype = {
            emitUpdate: function(e, t) {
                this.nextProps = e, this.nextContext = t, e || !Qe.isPending ? this.updateComponent() : Qe.add(this);
            },
            updateComponent: function() {
                var e = this.instance, t = this.pendingStates, n = this.nextProps, o = this.nextContext;
                (n || t.length > 0) && (n = n || e.props, o = o || e.context, this.nextProps = this.nextContext = null, 
                R(e, n, this.getState(), o, this.clearCallbacks));
            },
            addState: function(e) {
                e && (re(this.pendingStates, e), this.isPending || this.emitUpdate());
            },
            replaceState: function(e) {
                var t = this.pendingStates;
                t.pop(), re(t, [ e ]);
            },
            getState: function() {
                var e = this.instance, t = this.pendingStates, n = e.state, o = e.props;
                return t.length && (n = ae({}, n), t.forEach(function(t) {
                    var r = wt(t);
                    r && (t = t[0]), ee(t) && (t = t.call(e, n, o)), r ? n = ae({}, t) : ae(n, t);
                }), t.length = 0), n;
            },
            clearCallbacks: function() {
                var e = this.pendingCallbacks, t = this.instance;
                e.length > 0 && (this.pendingCallbacks = [], e.forEach(function(e) {
                    return e.call(t);
                }));
            },
            addCallback: function(e) {
                ee(e) && re(this.pendingCallbacks, e);
            }
        };
        var Ze = {};
        I.prototype = {
            constructor: I,
            isReactComponent: Ze,
            forceUpdate: function(e) {
                var t = this.$updater, n = this.$cache, o = this.props, r = this.state, i = this.context;
                if (n.isMounted) {
                    if (t.isPending) return void t.addState(r);
                    var a = n.props || o, s = n.state || r, l = n.context || i, c = n.parentContext, u = n.node, d = n.vnode;
                    n.props = n.state = n.context = null, t.isPending = !0, this.componentWillUpdate && this.componentWillUpdate(a, s, l), 
                    this.state = s, this.props = a, this.context = l;
                    var f = w(this), p = M(d, f, u, T(this, c));
                    p !== u && (p.cache = p.cache || {}, O(p.cache, u.cache, p)), n.vnode = f, n.node = p, 
                    C(), this.componentDidUpdate && this.componentDidUpdate(o, r, i), e && e.call(this), 
                    t.isPending = !1, t.emitUpdate();
                }
            },
            setState: function(e, t) {
                var n = this.$updater;
                n.addCallback(t), n.addState(e);
            },
            replaceState: function(e, t) {
                var n = this.$updater;
                n.addCallback(t), n.replaceState(e);
            },
            getDOMNode: function() {
                var e = this.$cache.node;
                return e && "#comment" === e.nodeName ? null : e;
            },
            isMounted: function() {
                return this.$cache.isMounted;
            }
        };
        var et = {
            onmousemove: 1,
            ontouchmove: 1,
            onmouseleave: 1,
            onmouseenter: 1,
            onload: 1,
            onunload: 1,
            onscroll: 1,
            onfocus: 1,
            onblur: 1,
            onrowexit: 1,
            onbeforeunload: 1,
            onstop: 1,
            ondragdrop: 1,
            ondragenter: 1,
            ondragexit: 1,
            ondraggesture: 1,
            ondragover: 1,
            oncontextmenu: 1,
            onerror: 1,
            onabort: 1,
            oncanplay: 1,
            oncanplaythrough: 1,
            ondurationchange: 1,
            onemptied: 1,
            onended: 1,
            onloadeddata: 1,
            onloadedmetadata: 1,
            onloadstart: 1,
            onencrypted: 1,
            onpause: 1,
            onplay: 1,
            onplaying: 1,
            onprogress: 1,
            onratechange: 1,
            onseeking: 1,
            onseeked: 1,
            onstalled: 1,
            onsuspend: 1,
            ontimeupdate: 1,
            onvolumechange: 1,
            onwaiting: 1
        }, tt = "ontouchstart" in document, nt = function() {}, ot = "onclick", rt = {}, it = {
            animationIterationCount: 1,
            borderImageOutset: 1,
            borderImageSlice: 1,
            borderImageWidth: 1,
            boxFlex: 1,
            boxFlexGroup: 1,
            boxOrdinalGroup: 1,
            columnCount: 1,
            flex: 1,
            flexGrow: 1,
            flexPositive: 1,
            flexShrink: 1,
            flexNegative: 1,
            flexOrder: 1,
            gridRow: 1,
            gridColumn: 1,
            fontWeight: 1,
            lineClamp: 1,
            lineHeight: 1,
            opacity: 1,
            order: 1,
            orphans: 1,
            tabSize: 1,
            widows: 1,
            zIndex: 1,
            zoom: 1,
            fillOpacity: 1,
            floodOpacity: 1,
            stopOpacity: 1,
            strokeDasharray: 1,
            strokeDashoffset: 1,
            strokeMiterlimit: 1,
            strokeOpacity: 1,
            strokeWidth: 1
        }, at = [ "Webkit", "ms", "Moz", "O" ];
        Object.keys(it).forEach(function(e) {
            at.forEach(function(t) {
                it[q(t, e)] = 1;
            });
        });
        var st = /^-?\d+(\.\d+)?$/, lt = ":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD", ct = lt + "\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040", ut = new RegExp("^[" + lt + "][" + ct + "]*$"), dt = RegExp.prototype.test.bind(new RegExp("^(data|aria)-[" + ct + "]*$")), ft = {}, pt = 1, mt = 4, ht = 8, vt = 24, gt = 32, bt = {
            props: {
                accept: 0,
                acceptCharset: 0,
                accessKey: 0,
                action: 0,
                allowFullScreen: mt,
                allowTransparency: 0,
                alt: 0,
                async: mt,
                autoComplete: 0,
                autoFocus: mt,
                autoPlay: mt,
                capture: mt,
                cellPadding: 0,
                cellSpacing: 0,
                charSet: 0,
                challenge: 0,
                checked: pt | mt,
                cite: 0,
                classID: 0,
                className: 0,
                cols: vt,
                colSpan: 0,
                content: 0,
                contentEditable: 0,
                contextMenu: 0,
                controls: mt,
                coords: 0,
                crossOrigin: 0,
                data: 0,
                dateTime: 0,
                default: mt,
                defaultValue: pt,
                defaultChecked: pt | mt,
                defer: mt,
                dir: 0,
                disabled: mt,
                download: gt,
                draggable: 0,
                encType: 0,
                form: 0,
                formAction: 0,
                formEncType: 0,
                formMethod: 0,
                formNoValidate: mt,
                formTarget: 0,
                frameBorder: 0,
                headers: 0,
                height: 0,
                hidden: mt,
                high: 0,
                href: 0,
                hrefLang: 0,
                htmlFor: 0,
                httpEquiv: 0,
                icon: 0,
                id: 0,
                inputMode: 0,
                integrity: 0,
                is: 0,
                keyParams: 0,
                keyType: 0,
                kind: 0,
                label: 0,
                lang: 0,
                list: 0,
                loop: mt,
                low: 0,
                manifest: 0,
                marginHeight: 0,
                marginWidth: 0,
                max: 0,
                maxLength: 0,
                media: 0,
                mediaGroup: 0,
                method: 0,
                min: 0,
                minLength: 0,
                multiple: pt | mt,
                muted: pt | mt,
                name: 0,
                nonce: 0,
                noValidate: mt,
                open: mt,
                optimum: 0,
                pattern: 0,
                placeholder: 0,
                poster: 0,
                preload: 0,
                profile: 0,
                radioGroup: 0,
                readOnly: mt,
                referrerPolicy: 0,
                rel: 0,
                required: mt,
                reversed: mt,
                role: 0,
                rows: vt,
                rowSpan: ht,
                sandbox: 0,
                scope: 0,
                scoped: mt,
                scrolling: 0,
                seamless: mt,
                selected: pt | mt,
                shape: 0,
                size: vt,
                sizes: 0,
                span: vt,
                spellCheck: 0,
                src: 0,
                srcDoc: 0,
                srcLang: 0,
                srcSet: 0,
                start: ht,
                step: 0,
                style: 0,
                summary: 0,
                tabIndex: 0,
                target: 0,
                title: 0,
                type: 0,
                useMap: 0,
                value: pt,
                width: 0,
                wmode: 0,
                wrap: 0,
                about: 0,
                datatype: 0,
                inlist: 0,
                prefix: 0,
                property: 0,
                playsInline: mt,
                resource: 0,
                typeof: 0,
                vocab: 0,
                autoCapitalize: 0,
                autoCorrect: 0,
                autoSave: 0,
                color: 0,
                itemProp: 0,
                itemScope: mt,
                itemType: 0,
                itemID: 0,
                itemRef: 0,
                results: 0,
                security: 0,
                unselectable: 0
            },
            attrNS: {},
            domAttrs: {
                acceptCharset: "accept-charset",
                className: "class",
                htmlFor: "for",
                httpEquiv: "http-equiv"
            },
            domProps: {}
        }, yt = "http://www.w3.org/1999/xlink", _t = "http://www.w3.org/XML/1998/namespace", kt = {
            accentHeight: "accent-height",
            accumulate: 0,
            additive: 0,
            alignmentBaseline: "alignment-baseline",
            allowReorder: "allowReorder",
            alphabetic: 0,
            amplitude: 0,
            arabicForm: "arabic-form",
            ascent: 0,
            attributeName: "attributeName",
            attributeType: "attributeType",
            autoReverse: "autoReverse",
            azimuth: 0,
            baseFrequency: "baseFrequency",
            baseProfile: "baseProfile",
            baselineShift: "baseline-shift",
            bbox: 0,
            begin: 0,
            bias: 0,
            by: 0,
            calcMode: "calcMode",
            capHeight: "cap-height",
            clip: 0,
            clipPath: "clip-path",
            clipRule: "clip-rule",
            clipPathUnits: "clipPathUnits",
            colorInterpolation: "color-interpolation",
            colorInterpolationFilters: "color-interpolation-filters",
            colorProfile: "color-profile",
            colorRendering: "color-rendering",
            contentScriptType: "contentScriptType",
            contentStyleType: "contentStyleType",
            cursor: 0,
            cx: 0,
            cy: 0,
            d: 0,
            decelerate: 0,
            descent: 0,
            diffuseConstant: "diffuseConstant",
            direction: 0,
            display: 0,
            divisor: 0,
            dominantBaseline: "dominant-baseline",
            dur: 0,
            dx: 0,
            dy: 0,
            edgeMode: "edgeMode",
            elevation: 0,
            enableBackground: "enable-background",
            end: 0,
            exponent: 0,
            externalResourcesRequired: "externalResourcesRequired",
            fill: 0,
            fillOpacity: "fill-opacity",
            fillRule: "fill-rule",
            filter: 0,
            filterRes: "filterRes",
            filterUnits: "filterUnits",
            floodColor: "flood-color",
            floodOpacity: "flood-opacity",
            focusable: 0,
            fontFamily: "font-family",
            fontSize: "font-size",
            fontSizeAdjust: "font-size-adjust",
            fontStretch: "font-stretch",
            fontStyle: "font-style",
            fontVariant: "font-variant",
            fontWeight: "font-weight",
            format: 0,
            from: 0,
            fx: 0,
            fy: 0,
            g1: 0,
            g2: 0,
            glyphName: "glyph-name",
            glyphOrientationHorizontal: "glyph-orientation-horizontal",
            glyphOrientationVertical: "glyph-orientation-vertical",
            glyphRef: "glyphRef",
            gradientTransform: "gradientTransform",
            gradientUnits: "gradientUnits",
            hanging: 0,
            horizAdvX: "horiz-adv-x",
            horizOriginX: "horiz-origin-x",
            ideographic: 0,
            imageRendering: "image-rendering",
            in: 0,
            in2: 0,
            intercept: 0,
            k: 0,
            k1: 0,
            k2: 0,
            k3: 0,
            k4: 0,
            kernelMatrix: "kernelMatrix",
            kernelUnitLength: "kernelUnitLength",
            kerning: 0,
            keyPoints: "keyPoints",
            keySplines: "keySplines",
            keyTimes: "keyTimes",
            lengthAdjust: "lengthAdjust",
            letterSpacing: "letter-spacing",
            lightingColor: "lighting-color",
            limitingConeAngle: "limitingConeAngle",
            local: 0,
            markerEnd: "marker-end",
            markerMid: "marker-mid",
            markerStart: "marker-start",
            markerHeight: "markerHeight",
            markerUnits: "markerUnits",
            markerWidth: "markerWidth",
            mask: 0,
            maskContentUnits: "maskContentUnits",
            maskUnits: "maskUnits",
            mathematical: 0,
            mode: 0,
            numOctaves: "numOctaves",
            offset: 0,
            opacity: 0,
            operator: 0,
            order: 0,
            orient: 0,
            orientation: 0,
            origin: 0,
            overflow: 0,
            overlinePosition: "overline-position",
            overlineThickness: "overline-thickness",
            paintOrder: "paint-order",
            panose1: "panose-1",
            pathLength: "pathLength",
            patternContentUnits: "patternContentUnits",
            patternTransform: "patternTransform",
            patternUnits: "patternUnits",
            pointerEvents: "pointer-events",
            points: 0,
            pointsAtX: "pointsAtX",
            pointsAtY: "pointsAtY",
            pointsAtZ: "pointsAtZ",
            preserveAlpha: "preserveAlpha",
            preserveAspectRatio: "preserveAspectRatio",
            primitiveUnits: "primitiveUnits",
            r: 0,
            radius: 0,
            refX: "refX",
            refY: "refY",
            renderingIntent: "rendering-intent",
            repeatCount: "repeatCount",
            repeatDur: "repeatDur",
            requiredExtensions: "requiredExtensions",
            requiredFeatures: "requiredFeatures",
            restart: 0,
            result: 0,
            rotate: 0,
            rx: 0,
            ry: 0,
            scale: 0,
            seed: 0,
            shapeRendering: "shape-rendering",
            slope: 0,
            spacing: 0,
            specularConstant: "specularConstant",
            specularExponent: "specularExponent",
            speed: 0,
            spreadMethod: "spreadMethod",
            startOffset: "startOffset",
            stdDeviation: "stdDeviation",
            stemh: 0,
            stemv: 0,
            stitchTiles: "stitchTiles",
            stopColor: "stop-color",
            stopOpacity: "stop-opacity",
            strikethroughPosition: "strikethrough-position",
            strikethroughThickness: "strikethrough-thickness",
            string: 0,
            stroke: 0,
            strokeDasharray: "stroke-dasharray",
            strokeDashoffset: "stroke-dashoffset",
            strokeLinecap: "stroke-linecap",
            strokeLinejoin: "stroke-linejoin",
            strokeMiterlimit: "stroke-miterlimit",
            strokeOpacity: "stroke-opacity",
            strokeWidth: "stroke-width",
            surfaceScale: "surfaceScale",
            systemLanguage: "systemLanguage",
            tableValues: "tableValues",
            targetX: "targetX",
            targetY: "targetY",
            textAnchor: "text-anchor",
            textDecoration: "text-decoration",
            textRendering: "text-rendering",
            textLength: "textLength",
            to: 0,
            transform: 0,
            u1: 0,
            u2: 0,
            underlinePosition: "underline-position",
            underlineThickness: "underline-thickness",
            unicode: 0,
            unicodeBidi: "unicode-bidi",
            unicodeRange: "unicode-range",
            unitsPerEm: "units-per-em",
            vAlphabetic: "v-alphabetic",
            vHanging: "v-hanging",
            vIdeographic: "v-ideographic",
            vMathematical: "v-mathematical",
            values: 0,
            vectorEffect: "vector-effect",
            version: 0,
            vertAdvY: "vert-adv-y",
            vertOriginX: "vert-origin-x",
            vertOriginY: "vert-origin-y",
            viewBox: "viewBox",
            viewTarget: "viewTarget",
            visibility: 0,
            widths: 0,
            wordSpacing: "word-spacing",
            writingMode: "writing-mode",
            x: 0,
            xHeight: "x-height",
            x1: 0,
            x2: 0,
            xChannelSelector: "xChannelSelector",
            xlinkActuate: "xlink:actuate",
            xlinkArcrole: "xlink:arcrole",
            xlinkHref: "xlink:href",
            xlinkRole: "xlink:role",
            xlinkShow: "xlink:show",
            xlinkTitle: "xlink:title",
            xlinkType: "xlink:type",
            xmlBase: "xml:base",
            xmlns: 0,
            xmlnsXlink: "xmlns:xlink",
            xmlLang: "xml:lang",
            xmlSpace: "xml:space",
            y: 0,
            y1: 0,
            y2: 0,
            yChannelSelector: "yChannelSelector",
            z: 0,
            zoomAndPan: "zoomAndPan"
        }, xt = {
            props: {},
            attrNS: {
                xlinkActuate: yt,
                xlinkArcrole: yt,
                xlinkHref: yt,
                xlinkRole: yt,
                xlinkShow: yt,
                xlinkTitle: yt,
                xlinkType: yt,
                xmlBase: _t,
                xmlLang: _t,
                xmlSpace: _t
            },
            domAttrs: {},
            domProps: {}
        };
        Object.keys(kt).map(function(e) {
            xt.props[e] = 0, kt[e] && (xt.domAttrs[e] = kt[e]);
        }), J(bt), J(xt);
        var wt = Array.isArray, Tt = 0, Et = /^on/i;
        Object.freeze || (Object.freeze = ne);
        var St = {}, Ct = {}, Mt = Object.freeze({
            render: he,
            unstable_renderSubtreeIntoContainer: ve,
            unmountComponentAtNode: ge,
            findDOMNode: be
        }), Nt = "a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan", Dt = {};
        Nt.split("|").forEach(function(e) {
            Dt[e] = xe(e);
        });
        var zt = function e() {
            return e;
        };
        zt.isRequired = zt;
        var Ot = {
            array: zt,
            bool: zt,
            func: zt,
            number: zt,
            object: zt,
            string: zt,
            any: zt,
            arrayOf: zt,
            element: zt,
            instanceOf: zt,
            node: zt,
            objectOf: zt,
            oneOf: zt,
            oneOfType: zt,
            shape: zt
        }, Pt = /\/(?!\/)/g, At = Object.freeze({
            only: we,
            forEach: Te,
            map: Ee,
            count: Se,
            toArray: Ce
        }), It = function() {};
        It.prototype = I.prototype, Fe.prototype = Object.create(I.prototype), Fe.prototype.constructor = Fe, 
        Fe.prototype.isPureReactComponent = !0, Fe.prototype.shouldComponentUpdate = je;
        var Rt = ae({
            version: "0.15.1",
            cloneElement: ke,
            isValidElement: _e,
            createElement: ye,
            createFactory: xe,
            Component: I,
            PureComponent: Fe,
            createClass: Ie,
            Children: At,
            PropTypes: Ot,
            DOM: Dt
        }, Mt);
        return Rt.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = Mt, Rt;
    });
}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function i(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.BlockDetails = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                Object.defineProperty(e, o.key, o);
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t;
        };
    }(), l = n(7), c = o(l), u = n(32), d = o(u), f = n(9), p = o(f), m = n(31), h = n(34), v = o(h), g = c.default.gettext;
    t.BlockDetails = function(e) {
        function t() {
            return r(this, t), i(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return a(t, e), s(t, [ {
            key: "render",
            value: function() {
                var e = this.props.block, t = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, g("Block")), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, d.default.createElement("tr", null, d.default.createElement("td", null, g("storage", "Capacity")), d.default.createElement("td", null, p.default.fmt_size_long(e.Size))), d.default.createElement("tr", null, d.default.createElement("td", null, g("storage", "Device File")), d.default.createElement("td", null, p.default.block_name(e)))))), n = d.default.createElement(v.default.Block, {
                    client: this.props.client,
                    block: e
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    jobs: this.props.jobs,
                    header: t,
                    content: n
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function o(e, t) {
        function n(n) {
            for (var o = e.vgroups_lvols[t.path], r = 0; r < o.length; r++) if (o[r].Name == n) return o[r];
            return null;
        }
        for (var o, r = 0; r < 1e3 && (o = "lvol" + r.toFixed(), n(o)); r++) ;
        return o;
    }
    function r(e, t, n) {
        function r(e, t) {
            return e.indexOf(t, e.length - t.length) !== -1;
        }
        function i(t, n) {
            A.push({
                name: t,
                renderer: n,
                data: {
                    client: e,
                    block: p,
                    lvol: _
                }
            });
        }
        function a() {
            var t = _ && e.vgroups[_.VolumeGroup];
            t && v.open({
                Title: P("Create Thin Volume"),
                Fields: [ {
                    TextInput: "name",
                    Title: P("Name"),
                    Value: o(e, t),
                    validate: g.validate_lvm2_name
                }, {
                    SizeSlider: "size",
                    Title: P("Size"),
                    Value: _.Size,
                    Max: 3 * _.Size,
                    AllowInfinite: !0,
                    Round: t.ExtentSize
                } ],
                Action: {
                    Title: P("Create"),
                    action: function(e) {
                        return t.CreateThinVolume(e.name, e.size, _.path, {});
                    }
                }
            });
        }
        function s(e, t, n) {
            R.push(b.createElement(x, {
                onClick: t,
                excuse: n
            }, e));
        }
        function l() {
            var t = e.blocks_crypto[p.path];
            if (t) return t.Lock({});
        }
        function c() {
            var t = e.blocks_crypto[p.path];
            if (t) return p.GetSecretConfiguration({}).then(function(e) {
                for (var n = 0; n < e.length; n++) if ("crypttab" == e[n][0] && e[n][1]["passphrase-contents"] && g.decode_filename(e[n][1]["passphrase-contents"].v)) return t.Unlock("", {});
                v.open({
                    Title: P("Unlock"),
                    Fields: [ {
                        PassInput: "passphrase",
                        Title: P("Passphrase")
                    } ],
                    Action: {
                        Title: P("Unlock"),
                        action: function(e) {
                            return t.Unlock(e.passphrase, {});
                        }
                    }
                });
            });
        }
        function u() {
            return _.Activate({});
        }
        function d() {
            return _.Deactivate({});
        }
        function f() {
            var n;
            p && (n = e.blocks_part[p.path]);
            var o, r;
            if (_ ? (o = g.lvol_name(_), r = P("Deleting a logical volume will delete all data in it.")) : n && (o = g.block_name(p), 
            r = P("Deleting a partition will delete all data in it.")), o) {
                var i = g.get_active_usage(e, t.path);
                if (i.Blocking) return void v.open({
                    Title: h.format(P("$0 is in active use"), o),
                    Blocking: i.Blocking,
                    Fields: []
                });
                v.open({
                    Title: h.format(P("Please confirm deletion of $0"), o),
                    Teardown: i.Teardown,
                    Fields: [],
                    Action: {
                        Danger: r,
                        Title: P("Delete"),
                        action: function() {
                            return g.teardown_active_usage(e, i).then(function() {
                                return _ ? _.Delete({
                                    "tear-down": {
                                        t: "b",
                                        v: !0
                                    }
                                }) : n ? n.Delete({
                                    "tear-down": {
                                        t: "b",
                                        v: !0
                                    }
                                }) : void 0;
                            });
                        }
                    }
                });
            }
        }
        var p = r(t.iface, ".Block") ? t : null, m = p && e.blocks_lvm2[p.path], y = p && e.blocks_pvol[p.path], _ = r(t.iface, ".LogicalVolume") ? t : m && e.lvols[m.LogicalVolume], k = p && "filesystem" == p.IdUsage, w = p && "crypto" == p.IdUsage, A = [], I = null;
        _ && ("pool" == _.Type ? (i(P("Pool"), C), I = b.createElement(x, {
            onClick: a
        }, P("Create Thin Volume"))) : i(P("Volume"), S)), n && i(P("Partition"), D), k ? i(P("Filesystem"), T) : w ? i(P("Encryption"), E) : p && "raid" == p.IdUsage && "LVM2_member" == p.IdType || y && e.vgroups[y.VolumeGroup] ? i(P("Physical Volume"), M) : p && "raid" == p.IdUsage || p && e.mdraids[p.MDRaidMember] ? i(P("RAID Member"), N) : p && "other" == p.IdUsage && "swap" == p.IdType ? i(P("Swap"), z) : p && i(P("Unrecognized Data"), O);
        var R = [];
        if (w && (e.blocks_cleartext[p.path] ? s(P("Lock"), l) : s(P("Unlock"), c)), _ && (_.Active ? s(P("Deactivate"), d) : s(P("Activate"), u)), 
        n || _) {
            var F = null;
            e.is_old_udisks2 && w && e.blocks_cleartext[p.path] && (F = P("Can't delete while unlocked")), 
            s(P("Delete"), f, F);
        }
        return {
            renderers: A,
            actions: [ b.createElement("div", null, R) ],
            row_action: I
        };
    }
    function i(e, t) {
        var n, o = e.blocks_pvol[t.path];
        if ("filesystem" == t.IdUsage) n = h.format(A("storage-id-desc", "$0 File System"), t.IdType); else if ("raid" == t.IdUsage) if (o && e.vgroups[o.VolumeGroup]) {
            var r = e.vgroups[o.VolumeGroup];
            n = h.format(P("Physical volume of $0"), r.Name);
        } else if (e.mdraids[t.MDRaidMember]) {
            var i = e.mdraids[t.MDRaidMember];
            n = h.format(P("Member of RAID Device $0"), g.mdraid_name(i));
        } else n = P("LVM2_member" == t.IdType ? "Physical Volume" : "Member of RAID Device"); else n = "crypto" == t.IdUsage ? A("storage-id-desc", "Encrypted data") : "other" == t.IdUsage ? "swap" == t.IdType ? A("storage-id-desc", "Swap Space") : A("storage-id-desc", "Other Data") : A("storage-id-desc", "Unrecognized Data");
        return {
            size: t.Size,
            text: n
        };
    }
    function a(e, t, n, o, r, i, a, s) {
        var l = null;
        s && (l = b.createElement("span", {
            className: "spinner spinner-sm spinner-inline",
            style: {
                visibility: e.path_jobs[s] ? "visible" : "hidden"
            }
        })), a.row_action && (l = l ? b.createElement("span", null, l, a.row_action) : a.row_action);
        var c = [ b.createElement("span", {
            className: "content-level-" + n
        }, g.format_size_and_text(i.size, i.text)), {
            name: r,
            header: !0
        }, {
            name: l,
            tight: !0
        } ];
        t.push(b.createElement(y.ListingRow, {
            key: o,
            columns: c,
            tabRenderers: a.renderers,
            listingActions: a.actions
        }));
    }
    function s(e, t, n, o, s) {
        var l, u, d;
        "crypto" == o.IdUsage && (d = e.blocks_cleartext[o.path]), u = r(e, o, s), l = i(e, o), 
        a(e, t, n, o.path, g.block_name(o), l, u, o.path), d && c(e, t, n + 1, d);
    }
    function l(e, t, n, o) {
        function i(n, r, i) {
            function a() {
                k.format_dialog(e, o.path, r, i, f && n <= d);
            }
            var s = b.createElement(x, {
                onClick: a
            }, P("Create Partition")), l = [ b.createElement("span", {
                className: "content-level-" + n
            }, g.format_size_and_text(i, P("Free Space"))), "", {
                element: s,
                tight: !0
            } ];
            t.push(b.createElement(y.ListingRow, {
                columns: l
            }));
        }
        function l(n, o) {
            var i = {
                size: o.size,
                text: P("Extended Partition")
            }, s = r(e, o.block, !0);
            a(e, t, n, o.block.path, g.block_name(o.block), i, s, o.block.path), c(n + 1, o.partitions);
        }
        function c(n, o) {
            var r, a;
            for (r = 0; r < o.length; r++) a = o[r], "free" == a.type ? i(n, a.start, a.size) : "container" == a.type ? l(n, a) : s(e, t, n, a.block, !0);
        }
        var u = e.blocks_ptable[o.path], d = n, f = "dos" == u.Type;
        c(n, g.get_partitions(e, o));
    }
    function c(e, t, n, o) {
        e.blocks_ptable[o.path] ? l(e, t, n, o) : s(e, t, n, o, null);
    }
    function u(e, t) {
        var n = [];
        return c(e, n, 0, t), n;
    }
    function d(e, t) {
        function n() {
            var n = g.get_active_usage(e, t.path);
            return n.Blocking ? void v.open({
                Title: h.format(P("$0 is in active use"), g.block_name(t)),
                Blocking: n.Blocking,
                Fields: []
            }) : void v.open({
                Title: h.format(P("Format Disk $0"), g.block_name(t)),
                Teardown: n.Teardown,
                Fields: [ {
                    SelectOne: "erase",
                    Title: P("Erase"),
                    Options: [ {
                        value: "no",
                        Title: P("Don't overwrite existing data")
                    }, {
                        value: "zero",
                        Title: P("Overwrite existing data with zeros")
                    } ]
                }, {
                    SelectOne: "type",
                    Title: P("Partitioning"),
                    Options: [ {
                        value: "dos",
                        Title: P("Compatible with all systems and devices (MBR)")
                    }, {
                        value: "gpt",
                        Title: P("Compatible with modern system and hard disks > 2TB (GPT)"),
                        selected: !0
                    }, {
                        value: "empty",
                        Title: P("No partitioning")
                    } ]
                } ],
                Action: {
                    Title: P("Format"),
                    Danger: P("Formatting a disk will erase all data on it."),
                    action: function(o) {
                        var r = {
                            "no-block": {
                                t: "b",
                                v: !0
                            },
                            "tear-down": {
                                t: "b",
                                v: !0
                            }
                        };
                        return "no" != o.erase && (r.erase = {
                            t: "s",
                            v: o.erase
                        }), g.teardown_active_usage(e, n).then(function() {
                            return t.Format(o.type, r);
                        });
                    }
                }
            });
        }
        if (!t) return null;
        if (0 === t.Size) return null;
        var o = b.createElement("div", {
            className: "pull-right"
        }, b.createElement(x, {
            onClick: n,
            excuse: t.ReadOnly ? P("Device is read-only") : null
        }, P("Create partition table")));
        return b.createElement(y.Listing, {
            title: P("Content"),
            actions: o
        }, u(e, t));
    }
    function f(e, t, n, o, i) {
        var c, u;
        e.blocks_ptable[o.path] ? (u = {
            size: o.Size,
            text: i.Name
        }, c = r(e, o, !1), a(e, t, n, i.Name, g.block_name(o), u, c, o.path), l(e, t, n + 1, o)) : s(e, t, n, o, !1);
    }
    function p(e, t, n, o) {
        var i, s, l;
        "pool" == o.Type ? (s = {
            size: o.Size,
            text: P("Pool for Thin Volumes")
        }, i = r(e, o, !1), a(e, t, n, o.Name, o.Name, s, i, !1), e.lvols_pool_members[o.path].forEach(function(o) {
            p(e, t, n + 1, o);
        })) : (l = e.lvols_block[o.path], l ? f(e, t, n, l, o) : (s = {
            size: o.Size,
            text: P(o.Active ? "Unsupported volume" : "Inactive volume")
        }, i = r(e, o, !1), a(e, t, n, o.Name, o.Name, s, i, !1)));
    }
    function m(e, t) {
        var n = [];
        return (e.vgroups_lvols[t.path] || []).forEach(function(t) {
            "/" == t.ThinPool && p(e, n, 0, t);
        }), n;
    }
    var h = n(7), v = n(26), g = n(9), b = n(32), y = n(35), _ = n(37), k = n(42), x = _.StorageButton, w = _.StorageLink, T = n(43).FilesystemTab, E = n(44).CryptoTab, S = n(45).BlockVolTab, C = n(45).PoolVolTab, M = n(46).PVolTab, N = n(46).MDRaidMemberTab, D = n(47).PartitionTab, z = n(48).SwapTab, O = n(49).UnrecognizedTab, P = h.gettext, A = h.gettext, I = b.createClass({
        displayName: "Block",
        render: function() {
            return d(this.props.client, this.props.block);
        }
    }), R = b.createClass({
        displayName: "VGroup",
        render: function() {
            function e() {
                0 != n.FreeSize && v.open({
                    Title: P("Create Logical Volume"),
                    Fields: [ {
                        TextInput: "name",
                        Title: P("Name"),
                        Value: o(t.props.client, n),
                        validate: g.validate_lvm2_name
                    }, {
                        SelectOne: "purpose",
                        Title: P("Purpose"),
                        Options: [ {
                            value: "block",
                            Title: P("Block device for filesystems"),
                            selected: !0
                        }, {
                            value: "pool",
                            Title: P("Pool for thinly provisioned volumes")
                        } ]
                    }, {
                        SizeSlider: "size",
                        Title: P("Size"),
                        Max: n.FreeSize,
                        Round: n.ExtentSize
                    } ],
                    Action: {
                        Title: P("Create"),
                        action: function(e) {
                            return "block" == e.purpose ? n.CreatePlainVolume(e.name, e.size, {}) : "pool" == e.purpose ? n.CreateThinPoolVolume(e.name, e.size, {}) : void 0;
                        }
                    }
                });
            }
            var t = this, n = this.props.vgroup, r = 0 == n.FreeSize && P("No free space"), i = b.createElement("div", {
                className: "pull-right"
            }, b.createElement(w, {
                onClick: e,
                excuse: r
            }, b.createElement("span", {
                className: "pficon pficon-add-circle-o"
            }), " ", P("Create new Logical Volume")));
            return b.createElement(y.Listing, {
                title: "Logical Volumes",
                actions: i,
                emptyCaption: P("No Logical Volumes")
            }, m(t.props.client, n));
        }
    });
    e.exports = {
        Block: I,
        VGroup: R
    };
}, function(e, t, n) {
    "use strict";
    var o = Object.assign || function(e) {
        for (var t = 1; t < arguments.length; t++) {
            var n = arguments[t];
            for (var o in n) Object.prototype.hasOwnProperty.call(n, o) && (e[o] = n[o]);
        }
        return e;
    }, r = n(32);
    n(36);
    var i = r.createClass({
        displayName: "ListingRow",
        propTypes: {
            rowId: r.PropTypes.string,
            columns: r.PropTypes.array.isRequired,
            tabRenderers: r.PropTypes.array,
            navigateToItem: r.PropTypes.func,
            listingDetail: r.PropTypes.node,
            listingActions: r.PropTypes.arrayOf(r.PropTypes.node),
            selectChanged: r.PropTypes.func,
            selected: r.PropTypes.bool,
            initiallyExpanded: r.PropTypes.bool,
            initiallyActiveTab: r.PropTypes.bool
        },
        getDefaultProps: function() {
            return {
                tabRenderers: [],
                navigateToItem: null
            };
        },
        getInitialState: function() {
            return {
                expanded: this.props.initiallyExpanded,
                activeTab: this.props.initiallyActiveTab ? this.props.initiallyActiveTab : 0,
                loadedTabs: {},
                selected: this.props.selected
            };
        },
        handleNavigateClick: function(e) {
            e && 0 === e.button && this.props.navigateToItem();
        },
        handleExpandClick: function(e) {
            if (e && 0 === e.button) {
                var t = !this.state.expanded && this.props.tabRenderers.length > 0;
                this.setState({
                    expanded: t
                });
                var n = {};
                if (t) {
                    var o, r;
                    for (o = 0; o < this.props.tabRenderers.length; o++) r = "presence" in this.props.tabRenderers[o] ? this.props.tabRenderers[o].presence : "default", 
                    "always" == r && (n[o] = !0);
                    n[this.state.activeTab] = !0;
                }
                this.setState({
                    loadedTabs: n
                }), e.stopPropagation(), e.preventDefault();
            }
        },
        handleSelectClick: function(e) {
            if (e && 0 === e.button) {
                var t = !this.state.selected;
                this.setState({
                    selected: t
                }), this.props.selectChanged && this.props.selectChanged(t), e.stopPropagation(), 
                e.preventDefault();
            }
        },
        handleTabClick: function(e, t) {
            if (t && 0 === t.button) {
                var n = this.state.activeTab, o = "default", r = this.state.loadedTabs;
                n !== e && ("presence" in this.props.tabRenderers[n] && (o = this.props.tabRenderers[n].presence), 
                "onlyActive" == o && delete r[n], r[e] = !0, this.setState({
                    loadedTabs: r,
                    activeTab: e
                })), t.stopPropagation(), t.preventDefault();
            }
        },
        render: function() {
            var e, t = this, n = !!this.props.navigateToItem && !this.state.expanded, i = this.props.columns.map(function(e) {
                return "string" == typeof e || "number" == typeof e || null === e || void 0 === e || e instanceof String || r.isValidElement(e) ? r.createElement("td", null, e) : "header" in e && e.header ? r.createElement("th", null, e.name) : "tight" in e && e.tight ? r.createElement("td", {
                    className: "listing-ct-actions"
                }, e.name || e.element) : r.createElement("td", null, e.name);
            }), a = this.props.tabRenderers.length > 0;
            e = a ? r.createElement("td", {
                className: "listing-ct-toggle",
                onClick: n ? this.handleExpandClick : void 0
            }, r.createElement("i", {
                className: "fa fa-fw"
            })) : r.createElement("td", {
                className: "listing-ct-toggle"
            });
            var s = [ "listing-ct-item" ];
            n || s.push("listing-ct-nonavigate"), a || s.push("listing-ct-noexpand");
            var l, c = !(n || a) && void 0 !== this.state.selected;
            c ? (l = this.handleSelectClick, this.state.selected && s.push("listing-ct-selected")) : l = n ? this.handleNavigateClick : this.handleExpandClick;
            var u = r.createElement("tr", {
                "data-row-id": this.props.rowId,
                className: s.join(" "),
                onClick: l
            }, e, i);
            if (this.state.expanded) {
                var d, f, p, m, h = this.props.tabRenderers.map(function(e, n) {
                    return r.createElement("li", {
                        key: n,
                        className: n === t.state.activeTab ? "active" : ""
                    }, r.createElement("a", {
                        href: "#",
                        onClick: t.handleTabClick.bind(t, n)
                    }, e.name));
                }), v = [];
                for (d = 0; d < this.props.tabRenderers.length; d++) f = this.props.tabRenderers[d].renderer, 
                p = this.props.tabRenderers[d].data, (d === this.state.activeTab || d in this.state.loadedTabs) && (m = r.createElement(f, o({
                    key: this.props.tabRenderers[d].name,
                    hidden: d !== this.state.activeTab
                }, p)), d === this.state.activeTab ? v.push(r.createElement("div", {
                    className: "listing-ct-body",
                    key: d
                }, m)) : v.push(r.createElement("div", {
                    className: "listing-ct-body",
                    key: d,
                    hidden: !0
                }, m)));
                var g;
                return "listingDetail" in this.props && (g = r.createElement("span", {
                    className: "listing-ct-caption"
                }, this.props.listingDetail)), r.createElement("tbody", {
                    className: "open"
                }, u, r.createElement("tr", {
                    className: "listing-ct-panel"
                }, r.createElement("td", {
                    colSpan: i.length + (e ? 1 : 0)
                }, r.createElement("div", {
                    className: "listing-ct-head"
                }, r.createElement("div", {
                    className: "listing-ct-actions"
                }, g, this.props.listingActions), r.createElement("ul", {
                    className: "nav nav-tabs nav-tabs-pf"
                }, h)), v)));
            }
            return r.createElement("tbody", null, u, r.createElement("tr", {
                className: "listing-ct-panel"
            }));
        }
    }), a = r.createClass({
        displayName: "Listing",
        propTypes: {
            title: r.PropTypes.string.isRequired,
            fullWidth: r.PropTypes.bool,
            emptyCaption: r.PropTypes.string.isRequired,
            columnTitles: r.PropTypes.arrayOf(r.PropTypes.string),
            actions: r.PropTypes.arrayOf(r.PropTypes.node)
        },
        getDefaultProps: function() {
            return {
                fullWidth: !0,
                columnTitles: [],
                actions: []
            };
        },
        render: function() {
            var e = [ "listing", "listing-ct" ];
            this.props.fullWidth && e.push("listing-ct-wide");
            var t, n, o;
            this.props.children && 0 !== this.props.children.length ? this.props.columnTitles.length ? (o = !1, 
            this.props.children.forEach(function(e) {
                void 0 !== e.props.selected && (o = !0);
            }), o && this.props.children.forEach(function(e) {
                void 0 === e.props.selected && (e.props.selected = !1);
            }), n = r.createElement("tr", null, r.createElement("th", {
                className: "listing-ct-toggle"
            }), this.props.columnTitles.map(function(e) {
                return r.createElement("th", null, e);
            }))) : n = r.createElement("tr", null) : (t = "listing-ct-empty", n = r.createElement("tr", null, r.createElement("td", null, this.props.emptyCaption)));
            var i;
            return (this.props.title || this.props.actions && this.props.actions.length > 0) && (i = r.createElement("caption", {
                className: "cockpit-caption"
            }, this.props.title, this.props.actions)), r.createElement("table", {
                className: e.join(" ")
            }, i, r.createElement("thead", {
                className: t
            }, n), this.props.children);
        }
    });
    e.exports = {
        ListingRow: i,
        Listing: a
    };
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    function o(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function r(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function i(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    function a(e) {
        return function(t) {
            if (t && 0 === t.button) {
                var n = e();
                n && n.fail(function(e) {
                    f("#error-popup-title").text(h("Error")), f("#error-popup-message").text(e.toString()), 
                    f("#error-popup").modal("show");
                }), t.stopPropagation();
            }
        };
    }
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                Object.defineProperty(e, o.key, o);
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t;
        };
    }(), l = n(38), c = n(7), u = n(30).permission, d = n(9), f = n(6), p = n(32), m = n(40).Tooltip, h = c.gettext, v = p.createClass({
        displayName: "StorageControl",
        getInitialState: function() {
            return {
                allowed: u.allowed !== !1
            };
        },
        onPermissionChanged: function() {
            this.setState({
                allowed: u.allowed !== !1
            });
        },
        componentDidMount: function() {
            f(u).on("changed", this.onPermissionChanged);
        },
        componentWillUnmount: function() {
            f(u).off("changed", this.onPermissionChanged);
        },
        render: function() {
            var e = this.props.excuse;
            if (!this.state.allowed) {
                var t = {
                    __html: c.format(h("The user <b>$0</b> is not permitted to manage storage"), u.user ? u.user.name : "")
                };
                e = p.createElement("span", {
                    dangerouslySetInnerHTML: t
                });
            }
            return p.createElement(m, {
                tip: e
            }, this.props.content(e));
        }
    }), g = p.createClass({
        displayName: "StorageButton",
        render: function() {
            var e = this;
            return p.createElement(v, {
                excuse: this.props.excuse,
                content: function(t) {
                    return p.createElement("button", {
                        onClick: a(e.props.onClick),
                        className: "btn btn-default" + (t ? " disabled" : "")
                    }, e.props.children);
                }
            });
        }
    }), b = p.createClass({
        displayName: "StorageLink",
        render: function() {
            var e = this;
            return p.createElement(v, {
                excuse: this.props.excuse,
                content: function(t) {
                    return p.createElement("a", {
                        onClick: a(e.props.onClick),
                        className: t ? " disabled" : ""
                    }, e.props.children);
                }
            });
        }
    }), y = p.createClass({
        displayName: "StorageBlockNavLink",
        render: function() {
            function e(e, t) {
                var n = e.indexOf("$0");
                return n >= 0 ? [ e.slice(0, n), t, e.slice(n + 2) ] : [ e ];
            }
            var t = this, n = t.props.client, o = t.props.block;
            if (o) {
                for (var r, i, a, s = o.path; ;) if (n.blocks_part[s] && n.blocks_ptable[n.blocks_part[s].Table]) r = !0, 
                s = n.blocks_part[s].Table; else {
                    if (!n.blocks[s] || !n.blocks[n.blocks[s].CryptoBackingDevice]) break;
                    i = !0, s = n.blocks[s].CryptoBackingDevice;
                }
                o = n.blocks[s], n.blocks_lvm2[s] && n.lvols[n.blocks_lvm2[s].LogicalVolume] && (a = !0);
                var l, u;
                if (n.mdraids[o.MDRaid]) l = c.format(h("RAID Device $0"), d.mdraid_name(n.mdraids[o.MDRaid])), 
                u = function() {
                    c.location.go([ "mdraid", n.mdraids[o.MDRaid].UUID ]);
                }; else if (n.blocks_lvm2[s] && n.lvols[n.blocks_lvm2[s].LogicalVolume] && n.vgroups[n.lvols[n.blocks_lvm2[s].LogicalVolume].VolumeGroup]) {
                    var f = n.vgroups[n.lvols[n.blocks_lvm2[s].LogicalVolume].VolumeGroup].Name;
                    l = c.format(h("Volume Group $0"), f), u = function() {
                        console.location.go([ "vg", f ]);
                    };
                } else l = n.drives[o.Drive] ? d.drive_name(n.drives[o.Drive]) : d.block_name(o), 
                u = function() {
                    c.location.go([ d.block_name(o).replace(/^\/dev\//, "") ]);
                };
                var m = p.createElement("a", {
                    onClick: u
                }, l);
                return a && i ? p.createElement("span", null, e(h("Encrypted Logical Volume of $0"), m)) : r && i ? p.createElement("span", null, e(h("Encrypted Partition of $0"), m)) : a ? p.createElement("span", null, e(h("Logical Volume of $0"), m)) : r ? p.createElement("span", null, e(h("Partition of $0"), m)) : i ? p.createElement("span", null, e(h("Encrypted $0"), m)) : m;
            }
        }
    }), _ = function(e) {
        function t() {
            o(this, t);
            var e = r(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.state = {
                promise: null
            }, e;
        }
        return i(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    var t = n.props.onChange(e);
                    t && (t.always(function() {
                        n.setState({
                            promise: null
                        });
                    }), t.fail(function(e) {
                        f("#error-popup-title").text(h("Error")), f("#error-popup-message").text(e.toString()), 
                        f("#error-popup").modal("show");
                    })), n.setState({
                        promise: t,
                        promise_goal_state: e
                    });
                }
                var t = this, n = this;
                return p.createElement(v, {
                    excuse: this.props.excuse,
                    content: function(n) {
                        return p.createElement(l.OnOffSwitch, {
                            state: t.state.promise ? t.state.promise_goal_state : t.props.state,
                            enabled: !n && !t.state.promise,
                            onChange: e
                        });
                    }
                });
            }
        } ]), t;
    }(p.Component), k = function(e) {
        function t() {
            return o(this, t), r(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return i(t, e), s(t, [ {
            key: "render",
            value: function() {
                var e = this, t = this.props.actions[this.props.default];
                return p.createElement(v, {
                    excuse: this.props.excuse,
                    content: function(n) {
                        var o = "btn btn-default";
                        return n && (o += " disabled"), p.createElement("div", {
                            className: "btn-group"
                        }, p.createElement("button", {
                            className: o,
                            onClick: a(t.action)
                        }, t.title), p.createElement("button", {
                            className: o + " dropdown-toggle",
                            "data-toggle": "dropdown"
                        }, p.createElement("span", {
                            className: "caret"
                        })), p.createElement("ul", {
                            className: "dropdown-menu action-dropdown-menu",
                            role: "menu"
                        }, e.props.actions.map(function(e) {
                            return p.createElement("li", {
                                className: "presentation"
                            }, p.createElement("a", {
                                role: "menuitem",
                                onClick: a(e.action)
                            }, e.title));
                        })));
                    }
                });
            }
        } ]), t;
    }(p.Component);
    e.exports = {
        StorageButton: g,
        StorageLink: b,
        StorageBlockNavLink: y,
        StorageOnOff: _,
        StorageMultiAction: k
    };
}, function(e, t, n) {
    "use strict";
    var o = n(7), r = n(32), i = o.gettext;
    n(39);
    var a = r.createClass({
        displayName: "OnOffSwitch",
        getDefaultProps: function() {
            return {
                captionOff: i("Off"),
                captionOn: i("On"),
                enabled: !0
            };
        },
        handleOnOffClick: function(e, t) {
            t && 0 === t.button && (this.props.onChange && this.props.enabled && this.props.onChange(e), 
            t.stopPropagation());
        },
        render: function() {
            var e = [ "btn" ], t = [ "btn" ];
            this.props.state ? e.push("active") : t.push("active"), this.props.enabled || (e.push("disabled"), 
            t.push("disabled"));
            var n = this.handleOnOffClick.bind(this, !this.props.state);
            return r.createElement("div", {
                className: "btn-group btn-onoff-ct",
                enabled: this.props.enabled
            }, r.createElement("label", {
                className: e.join(" ")
            }, r.createElement("input", {
                type: "radio"
            }), r.createElement("span", {
                onClick: n
            }, this.props.captionOn)), r.createElement("label", {
                className: t.join(" ")
            }, r.createElement("input", {
                type: "radio"
            }), r.createElement("span", {
                onClick: n
            }, this.props.captionOff)));
        }
    });
    e.exports = {
        OnOffSwitch: a
    };
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    var o = n(32);
    n(41);
    var r = o.createClass({
        displayName: "Tooltip",
        getInitialState: function() {
            return {
                open: !1,
                pos: "top"
            };
        },
        onMouseover: function() {
            this.setState({
                open: !0
            });
        },
        onMouseout: function() {
            this.setState({
                open: !1
            });
        },
        render: function() {
            function e(e) {
                var n = e && e.previousElementSibling;
                if (e && n) {
                    if (e.style.width && e.style.height || !(e.offsetWidth > 0) || (e.style.width = e.offsetWidth + "px", 
                    e.style.height = e.offsetHeight + "px"), e.offsetLeft === -1e4) {
                        for (var o = n.offsetLeft + .5 * n.offsetWidth - .5 * e.offsetWidth, r = n.offsetTop - e.offsetHeight, i = e.getElementsByClassName("tooltip-arrow")[0], a = e.offsetWidth / 2, s = o, l = r, c = n.offsetWidth, u = e.offsetParent; u; ) s += u.offsetLeft, 
                        l += u.offsetTop, c = u.offsetWidth, u = u.offsetParent;
                        var d = 0;
                        s < 0 ? d = -s + 5 : s + e.offsetWidth > c && (d = -(s + e.offsetWidth - c) - 5), 
                        o += d, a -= d, l < 0 && (r = n.offsetTop + n.offsetHeight, t.setState({
                            pos: "bottom"
                        })), e.style.left = o + "px", e.style.top = r + "px", i.style.left = a + "px";
                    }
                    e.style.zIndex = t.state.open ? 2e3 : -2e3;
                }
            }
            var t = this;
            if (!t.props.tip) return t.props.children;
            var n = "tooltip " + t.state.pos;
            return t.state.open && (n += " in"), o.createElement("div", {
                className: "tooltip-ct-outer"
            }, o.createElement("div", {
                className: "tooltip-ct-inner",
                onMouseover: this.onMouseover,
                onMouseout: this.onMouseout
            }, t.props.children), o.createElement("div", {
                ref: e,
                className: n,
                style: {
                    top: 0,
                    left: -1e4
                }
            }, o.createElement("div", {
                className: "tooltip-arrow"
            }), o.createElement("div", {
                className: "tooltip-inner"
            }, t.props.tip)));
        }
    });
    e.exports = {
        Tooltip: r
    };
}, function(e, t) {}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e ? e.split(",").map(function(e) {
            return e.trim();
        }).filter(function(e) {
            return "" != e;
        }) : [];
    }
    function r(e) {
        return e.join(",");
    }
    function i(e, t) {
        var n = e.indexOf(t);
        return n >= 0 && (e.splice(n, 1), !0);
    }
    function a(e, t, n, a) {
        a || (a = function() {
            return !0;
        });
        var s = o("defaults" == n ? "" : n), l = !i(s, "noauto"), c = i(s, "ro"), u = r(s);
        return [ {
            SelectOne: "mounting",
            Title: v("Mounting"),
            Options: [ {
                value: "default",
                Title: v("Default"),
                selected: !e
            }, {
                value: "custom",
                Title: v("Custom"),
                selected: e
            } ],
            visible: a
        }, {
            TextInput: "mount_point",
            Title: v("Mount Point"),
            Value: t,
            visible: function(e) {
                return a(e) && "custom" == e.mounting;
            },
            validate: function(e) {
                if ("" == e.trim()) return v("Mount point can not be empty");
            }
        }, {
            RowTitle: v("Mount options"),
            CheckBox: "mount_auto",
            Title: v("Mount at boot"),
            Value: l,
            visible: function(e) {
                return a(e) && "custom" == e.mounting;
            },
            update: function(e, t) {
                return ("crypto_options_auto" != t || 0 != e.crypto_options_auto) && e.mount_auto;
            }
        }, {
            CheckBox: "mount_ro",
            Title: v("Mount read only"),
            Value: c,
            visible: function(e) {
                return a(e) && "custom" == e.mounting;
            },
            update: function(e, t) {
                return "crypto_options_ro" == t && 1 == e.crypto_options_ro || e.mount_ro;
            }
        }, {
            CheckBoxText: "mount_extra_options",
            Title: v("Custom mount options"),
            Value: "" != u && u,
            visible: function(e) {
                return a(e) && "custom" == e.mounting;
            }
        } ];
    }
    function s(e) {
        var t = [];
        return e.mount_auto || t.push("noauto"), e.mount_ro && t.push("ro"), e.mount_extra_options !== !1 && (t = t.concat(o(e.mount_extra_options))), 
        r(t);
    }
    function l(e, t) {
        var n = o(e), a = !i(n, "noauto"), s = i(n, "readonly"), l = r(n);
        return [ {
            RowTitle: v("Encryption Options"),
            CheckBox: "crypto_options_auto",
            Title: v("Unlock at boot"),
            Value: a,
            visible: t
        }, {
            CheckBox: "crypto_options_ro",
            Title: v("Unlock read only"),
            Value: s,
            visible: t
        }, {
            CheckBoxText: "crypto_extra_options",
            Title: v("Custom encryption options"),
            Value: "" != l && l,
            visible: t
        } ];
    }
    function c(e) {
        var t = [];
        return e.crypto_options_auto || t.push("noauto"), e.crypto_options_ro && t.push("readonly"), 
        e.crypto_extra_options !== !1 && (t = t.concat(o(e.crypto_extra_options))), r(t);
    }
    function u(e, t, n, o, r) {
        function i(e) {
            return "luks+xfs" == e.type || "luks+ext4" == e.type;
        }
        function u(e) {
            return "empty" != e.type && "dos-extended" != e.type;
        }
        function m(t) {
            return !e.is_old_udisks2 && i(t);
        }
        function h(t) {
            return !e.is_old_udisks2 && u(t);
        }
        function g(t, n, o, r, i, a, s, l) {
            return e.is_old_udisks2 ? t.CreatePartition(n, o, r, i, a).then(function(t) {
                return e.call(t, "Block", "Format", [ s, l ]).then(function() {
                    return t;
                });
            }) : t.CreatePartitionAndFormat(n, o, r, i, a, s, l);
        }
        function b(t, n) {
            t !== !0 && e.manager.SupportedFilesystems && e.manager.SupportedFilesystems.indexOf(t) == -1 || w.push(n);
        }
        var y, _ = e.blocks[t], k = e.blocks_ptable[t], x = void 0 !== n;
        y = x ? d.format(v("Create partition on $0"), f.block_name(_)) : d.format(v("Format $0"), f.block_name(_));
        var w = [];
        b("xfs", {
            value: "xfs",
            Title: v("XFS - Red Hat Enterprise Linux 7 default")
        }), b("ext4", {
            value: "ext4",
            Title: v("ext4 - Red Hat Enterprise Linux 6 default")
        }), b("xfs", {
            value: "luks+xfs",
            Title: v("Encrypted XFS (LUKS)")
        }), b("ext4", {
            value: "luks+ext4",
            Title: v("Encrypted EXT4 (LUKS)")
        }), b("vfat", {
            value: "vfat",
            Title: v("VFAT - Compatible with all systems and devices")
        }), b("ntfs", {
            value: "ntfs",
            Title: v("NTFS - Compatible with most systems")
        }), b(!0, {
            value: "dos-extended",
            Title: v("Extended Partition"),
            disabled: !(x && r)
        }), b(!0, {
            value: "empty",
            Title: v("No Filesystem")
        }), b(!0, {
            value: "custom",
            Title: v("Custom (Enter filesystem type)")
        });
        var T = f.get_active_usage(e, x ? null : t);
        return T.Blocking ? void p.open({
            Title: d.format(v("$0 is in active use"), f.block_name(_)),
            Blocking: T.Blocking,
            Fields: []
        }) : void p.open({
            Title: y,
            Teardown: T.Teardown,
            Fields: [ {
                SizeSlider: "size",
                Title: v("Size"),
                Value: o,
                Max: o,
                visible: function() {
                    return x;
                }
            }, {
                SelectOne: "erase",
                Title: v("Erase"),
                Options: [ {
                    value: "no",
                    Title: v("Don't overwrite existing data")
                }, {
                    value: "zero",
                    Title: v("Overwrite existing data with zeros")
                } ]
            }, {
                SelectOne: "type",
                Title: v("Type"),
                Options: w
            }, {
                TextInput: "name",
                Title: v("Name"),
                visible: u
            }, {
                TextInput: "custom",
                Title: v("Filesystem type"),
                visible: function(e) {
                    return "custom" == e.type;
                }
            }, {
                PassInput: "passphrase",
                Title: v("Passphrase"),
                validate: function(e) {
                    if ("" === e) return v("Passphrase cannot be empty");
                },
                visible: i
            }, {
                PassInput: "passphrase2",
                Title: v("Confirm passphrase"),
                validate: function(e, t) {
                    if (e != t.passphrase) return v("Passphrases do not match");
                },
                visible: i
            }, {
                CheckBox: "store_passphrase",
                Title: v("Store passphrase"),
                visible: m
            } ].concat(l("", m)).concat(a(!1, "", "", h)),
            Action: {
                Title: v(x ? "Create partition" : "Format"),
                Danger: x ? null : v("Formatting a storage device will erase all data on it."),
                action: function(t) {
                    function o() {
                        return x ? "dos-extended" == t.type ? k.CreatePartition(n, t.size, "0x05", "", {}) : "empty" == t.type ? k.CreatePartition(n, t.size, "", "", {}) : g(k, n, t.size, "", "", {}, t.type, r) : _.Format(t.type, r);
                    }
                    "custom" == t.type && (t.type = t.custom);
                    var r = {
                        "no-block": {
                            t: "b",
                            v: !0
                        },
                        "dry-run-first": {
                            t: "b",
                            v: !0
                        },
                        "tear-down": {
                            t: "b",
                            v: !0
                        }
                    };
                    "no" != t.erase && (r.erase = {
                        t: "s",
                        v: t.erase
                    }), t.name && (r.label = {
                        t: "s",
                        v: t.name
                    });
                    var a = [], l = s(t);
                    "custom" == t.mounting && a.push([ "fstab", {
                        dir: {
                            t: "ay",
                            v: f.encode_filename(t.mount_point)
                        },
                        type: {
                            t: "ay",
                            v: f.encode_filename("auto")
                        },
                        opts: {
                            t: "ay",
                            v: f.encode_filename(l || "defaults")
                        },
                        freq: {
                            t: "i",
                            v: 0
                        },
                        passno: {
                            t: "i",
                            v: 0
                        },
                        "track-parents": {
                            t: "b",
                            v: !0
                        }
                    } ]);
                    var u = c(t);
                    if (i(t)) {
                        t.type = t.type.replace("luks+", ""), r["encrypt.passphrase"] = {
                            t: "s",
                            v: t.passphrase
                        };
                        var d = {
                            options: {
                                t: "ay",
                                v: f.encode_filename(u)
                            },
                            "track-parents": {
                                t: "b",
                                v: !0
                            }
                        };
                        t.store_passphrase ? d["passphrase-contents"] = {
                            t: "ay",
                            v: f.encode_filename(t.passphrase)
                        } : d["passphrase-contents"] = {
                            t: "ay",
                            v: f.encode_filename("")
                        }, a.push([ "crypttab", d ]);
                    }
                    return a.length > 0 && (r["config-items"] = {
                        t: "a(sa{sv})",
                        v: a
                    }), f.teardown_active_usage(e, T).then(o);
                }
            }
        });
    }
    var d = n(7), f = n(9), p = n(26), m = n(32), h = n(37), v = d.gettext, g = m.createClass({
        displayName: "FormatButton",
        onClick: function() {
            u(this.props.client, this.props.block.path);
        },
        render: function() {
            return m.createElement(h.StorageButton, {
                onClick: this.onClick,
                excuse: this.props.block.ReadOnly ? v("Device is read-only") : null
            }, v("Format"));
        }
    });
    e.exports = {
        mounting_dialog_fields: a,
        mounting_dialog_options: s,
        crypto_options_dialog_fields: l,
        crypto_options_dialog_options: c,
        format_dialog: u,
        FormatButton: g
    };
}, function(e, t, n) {
    "use strict";
    var o = n(7), r = n(26), i = n(9), a = n(6), s = n(32), l = n(37), c = n(42), u = l.StorageButton, d = l.StorageLink, f = c.FormatButton, p = o.gettext, m = s.createClass({
        displayName: "FilesystemTab",
        onSamplesChanged: function() {
            this.setState({});
        },
        componentDidMount: function() {
            a(this.props.client.fsys_sizes).on("changed", this.onSamplesChanged);
        },
        componentWillUnmount: function() {
            a(this.props.client.fsys_sizes).off("changed", this.onSamplesChanged);
        },
        render: function() {
            function e() {
                r.open({
                    Title: p("Filesystem Name"),
                    Fields: [ {
                        TextInput: "name",
                        Title: p("Name"),
                        Value: v.IdLabel
                    } ],
                    Action: {
                        Title: p("Apply"),
                        action: function(e) {
                            return g.SetLabel(e.name, {});
                        }
                    }
                });
            }
            function t(e, t, n) {
                var o = null;
                return e && (o = [ "fstab", {
                    dir: {
                        t: "ay",
                        v: i.encode_filename(t)
                    },
                    type: {
                        t: "ay",
                        v: i.encode_filename("auto")
                    },
                    opts: {
                        t: "ay",
                        v: i.encode_filename(n || "defaults")
                    },
                    freq: {
                        t: "i",
                        v: 0
                    },
                    passno: {
                        t: "i",
                        v: 0
                    },
                    "track-parents": {
                        t: "b",
                        v: !0
                    }
                } ]), !k && o ? v.AddConfigurationItem(o, {}) : k && !o ? v.RemoveConfigurationItem(k, {}) : k && o && (t != x || n != w) ? v.UpdateConfigurationItem(k, o, {}) : void 0;
            }
            function n() {
                r.open({
                    Title: p("Filesystem Mounting"),
                    Fields: c.mounting_dialog_fields(!!k, x, w),
                    Action: {
                        Title: p("Apply"),
                        action: function(e) {
                            return t("custom" == e.mounting, e.mount_point, c.mounting_dialog_options(e));
                        }
                    }
                });
            }
            function a() {
                return g.Mount({});
            }
            function l() {
                return g.Unmount({});
            }
            var m, h = this, v = h.props.block, g = v && h.props.client.blocks_fsys[v.path], b = g && g.MountPoints.length > 0;
            if (b) {
                var y = i.decode_filename(g.MountPoints[0]), _ = h.props.client.fsys_sizes.data[y];
                m = _ ? o.format(p("$0 of $1"), i.fmt_size(_[0]), i.fmt_size(_[1])) : p("Unknown");
            } else m = "-";
            var k, x, w;
            k = i.array_find(v.Configuration, function(e) {
                return "fstab" == e[0];
            }), k && (x = i.decode_filename(k[1].dir.v), w = i.decode_filename(k[1].opts.v).split(",").filter(function(e) {
                return 0 !== e.indexOf("x-parent");
            }).join(","));
            var T = g ? g.MountPoints.map(i.decode_filename) : [];
            return s.createElement("div", null, s.createElement("div", {
                className: "tab-actions"
            }, s.createElement(f, {
                client: this.props.client,
                block: this.props.block
            })), s.createElement("table", {
                className: "info-table-ct"
            }, s.createElement("tr", null, s.createElement("td", null, p("Name")), s.createElement("td", null, s.createElement(d, {
                onClick: e
            }, this.props.block.IdLabel || "-"))), h.props.client.is_old_udisks2 ? null : s.createElement("tr", null, s.createElement("td", null, p("Mount Point")), s.createElement("td", null, s.createElement(d, {
                onClick: n
            }, x || p("(default)")), b ? null : s.createElement(u, {
                onClick: a
            }, p("Mount")))), w ? s.createElement("tr", null, s.createElement("td", null, p("Mount Options")), s.createElement("td", null, s.createElement(d, {
                onClick: n
            }, w))) : null, T.length > 0 || h.props.client.is_old_udisks2 ? s.createElement("tr", null, s.createElement("td", null, p("Mounted At")), s.createElement("td", null, T.join(", "), T.length > 0 ? s.createElement(u, {
                onClick: l
            }, p("Unmount")) : s.createElement(u, {
                onClick: a
            }, p("Mount")))) : null, s.createElement("tr", null, s.createElement("td", null, p("Used")), s.createElement("td", null, m))));
        }
    });
    e.exports = {
        FilesystemTab: m
    };
}, function(e, t, n) {
    "use strict";
    var o = n(7), r = n(26), i = n(9), a = n(6), s = n(32), l = n(37), c = n(42), u = l.StorageButton, d = l.StorageLink, f = c.FormatButton, p = o.gettext, m = s.createClass({
        displayName: "CryptoTab",
        render: function() {
            function e(e) {
                function t() {
                    return o[1]["track-parents"] = {
                        t: "b",
                        v: !0
                    }, n ? h.UpdateConfigurationItem(n, o, {}) : h.AddConfigurationItem(o, {});
                }
                var n, o;
                h.GetSecretConfiguration({}).done(function(r) {
                    n = i.array_find(r, function(e) {
                        return "crypttab" == e[0];
                    }), o = [ "crypttab", n ? a.extend({}, n[1]) : {} ], o[1]["passphrase-contents"] || (o[1]["passphrase-contents"] = {
                        t: "ay",
                        v: i.encode_filename("")
                    }), e(o[1], t);
                });
            }
            function t() {
                e(function(e, t) {
                    r.open({
                        Title: p("Stored Passphrase"),
                        Fields: [ {
                            PassInput: "passphrase",
                            Title: p("Stored Passphrase"),
                            Value: e && e["passphrase-contents"] ? i.decode_filename(e["passphrase-contents"].v) : ""
                        } ],
                        Action: {
                            Title: p("Apply"),
                            action: function(n) {
                                return e["passphrase-contents"] = {
                                    t: "ay",
                                    v: i.encode_filename(n.passphrase)
                                }, delete e["passphrase-path"], t();
                            }
                        }
                    });
                });
            }
            function n() {
                e(function(e, t) {
                    r.open({
                        Title: p("Encryption Options"),
                        Fields: c.crypto_options_dialog_fields(l),
                        Action: {
                            Title: p("Apply"),
                            action: function(n) {
                                return e.options = {
                                    t: "ay",
                                    v: i.encode_filename(c.crypto_options_dialog_options(n))
                                }, t();
                            }
                        }
                    });
                });
            }
            var o, l, m = this, h = m.props.block;
            return o = i.array_find(h.Configuration, function(e) {
                return "crypttab" == e[0];
            }), o && (l = i.decode_filename(o[1].options.v).split(",").filter(function(e) {
                return 0 !== e.indexOf("x-parent");
            }).join(",")), s.createElement("div", null, s.createElement("div", {
                className: "tab-actions"
            }, s.createElement(f, {
                client: this.props.client,
                block: this.props.block
            })), s.createElement("table", {
                className: "info-table-ct"
            }, m.props.client.is_old_udisks2 ? null : s.createElement("tr", null, s.createElement("td", null, p("Stored passphrase")), s.createElement("td", null, s.createElement(u, {
                onClick: t
            }, p("Edit")))), m.props.client.is_old_udisks2 ? null : s.createElement("tr", null, s.createElement("td", null, p("Options")), s.createElement("td", null, s.createElement(d, {
                onClick: n
            }, l || p("(none)"))))));
        }
    });
    e.exports = {
        CryptoTab: m
    };
}, function(e, t, n) {
    "use strict";
    function o(e) {
        a.open({
            Title: p("Rename Logical Volume"),
            Fields: [ {
                TextInput: "name",
                Title: p("Name"),
                Value: e.Name
            } ],
            Action: {
                Title: p("Rename"),
                action: function(t) {
                    return e.Rename(t.name, {});
                }
            }
        });
    }
    function r(e, t) {
        var n = e.lvols_block[t.path], o = e.vgroups[t.VolumeGroup], r = e.lvols[t.ThinPool];
        a.open({
            Title: p("Resize Logical Volume"),
            Fields: [ {
                SizeSlider: "size",
                Title: p("Size"),
                Value: t.Size,
                Max: r ? 3 * r.Size : t.Size + o.FreeSize,
                AllowInfinite: !!r,
                Round: o.ExtentSize
            }, {
                CheckBox: "fsys",
                Title: p("Resize Filesystem"),
                Value: n && "filesystem" == n.IdUsage,
                visible: function() {
                    return "block" == t.Type;
                }
            } ],
            Action: {
                Title: p("Resize"),
                action: function(e) {
                    function o(e) {
                        return l.Deferred().reject({
                            message: e
                        }).promise();
                    }
                    var r = n && "filesystem" == n.IdUsage;
                    if (!r && e.size < t.Size) return o(p("This logical volume cannot be made smaller."));
                    var i = {};
                    return r && (i.resize_fsys = {
                        t: "b",
                        v: r
                    }), t.Resize(e.size, i);
                }
            }
        });
    }
    var i = n(7), a = n(26), s = n(9), l = n(6), c = n(32), u = n(37), d = u.StorageButton, f = u.StorageLink, p = i.gettext, m = c.createClass({
        displayName: "BlockVolTab",
        render: function() {
            function e() {
                a.open({
                    Title: p("Create Snapshot"),
                    Fields: [ {
                        TextInput: "name",
                        Title: p("Name"),
                        validate: s.validate_lvm2_name
                    }, {
                        SizeSlider: "size",
                        Title: p("Size"),
                        Value: .2 * l.Size,
                        Max: l.Size,
                        Round: u.ExtentSize,
                        visible: function() {
                            return "/" == l.ThinPool;
                        }
                    } ],
                    Action: {
                        Title: p("Create"),
                        action: function(e) {
                            return l.CreateSnapshot(e.name, e.size || 0, {});
                        }
                    }
                });
            }
            function t() {
                o(l);
            }
            function n() {
                r(i.props.client, l);
            }
            var i = this, l = i.props.lvol, u = i.props.client.vgroups[l.VolumeGroup];
            return c.createElement("div", null, c.createElement("div", {
                className: "tab-actions"
            }, c.createElement(d, {
                onClick: e
            }, p("Create Snapshot"))), c.createElement("table", {
                className: "info-table-ct"
            }, c.createElement("tr", null, c.createElement("td", null, p("Name")), c.createElement("td", null, c.createElement(f, {
                onClick: t
            }, this.props.lvol.Name))), c.createElement("tr", null, c.createElement("td", null, p("Size")), c.createElement("td", null, c.createElement(f, {
                onClick: n
            }, s.fmt_size(this.props.lvol.Size))))));
        }
    }), h = c.createClass({
        displayName: "PoolVolTab",
        render: function() {
            function e(e) {
                return (100 * e).toFixed(0) + "%";
            }
            function t() {
                o(i.props.lvol);
            }
            function n() {
                r(i.props.client, i.props.lvol);
            }
            var i = this;
            return c.createElement("div", null, c.createElement("table", {
                className: "info-table-ct"
            }, c.createElement("tr", null, c.createElement("td", null, p("Name")), c.createElement("td", null, c.createElement(f, {
                onClick: t
            }, this.props.lvol.Name))), c.createElement("tr", null, c.createElement("td", null, p("Size")), c.createElement("td", null, c.createElement(f, {
                onClick: n
            }, s.fmt_size(this.props.lvol.Size)))), c.createElement("tr", null, c.createElement("td", null, p("Data Used")), c.createElement("td", null, e(this.props.lvol.DataAllocatedRatio))), c.createElement("tr", null, c.createElement("td", null, p("Metadata Used")), c.createElement("td", null, e(this.props.lvol.MetadataAllocatedRatio)))));
        }
    });
    e.exports = {
        BlockVolTab: m,
        PoolVolTab: h
    };
}, function(e, t, n) {
    "use strict";
    var o = n(7), r = n(9), i = n(32), a = n(42), s = a.FormatButton, l = o.gettext, c = i.createClass({
        displayName: "PVolTab",
        render: function() {
            var e = this.props.client.blocks_pvol[this.props.block.path], t = e && this.props.client.vgroups[e.VolumeGroup];
            return i.createElement("div", null, i.createElement("div", {
                className: "tab-actions"
            }, i.createElement(s, {
                client: this.props.client,
                block: this.props.block
            })), i.createElement("table", {
                className: "info-table-ct"
            }, i.createElement("tr", null, i.createElement("td", null, l("Volume Group")), i.createElement("td", null, t ? i.createElement("a", {
                "data-goto-vgroup": t.Name
            }, t.Name) : "-")), i.createElement("tr", null, i.createElement("td", null, l("Free")), i.createElement("td", null, e ? r.fmt_size(e.FreeSize) : "-"))));
        }
    }), u = i.createClass({
        displayName: "MDRaidMemberTab",
        render: function() {
            var e = this.props.client.mdraids[this.props.block.MDRaidMember];
            return i.createElement("div", null, i.createElement("div", {
                className: "tab-actions"
            }, i.createElement(s, {
                client: this.props.client,
                block: this.props.block
            })), i.createElement("table", {
                className: "info-table-ct"
            }, i.createElement("tr", null, i.createElement("td", null, l("RAID Device")), i.createElement("td", null, e ? i.createElement("a", {
                "data-goto-mdraid": e.UUID
            }, r.mdraid_name(e)) : "-"))));
        }
    });
    e.exports = {
        PVolTab: c,
        MDRaidMemberTab: u
    };
}, function(e, t, n) {
    "use strict";
    var o = n(7), r = n(9), i = n(32), a = o.gettext, s = i.createClass({
        displayName: "PartitionTab",
        render: function() {
            var e = this.props.client.blocks_part[this.props.block.path];
            return i.createElement("div", null, i.createElement("table", {
                className: "info-table-ct"
            }, i.createElement("tr", null, i.createElement("td", null, a("Name")), i.createElement("td", null, e.Name || "-")), i.createElement("tr", null, i.createElement("td", null, a("Size")), i.createElement("td", null, r.fmt_size(e.Size))), i.createElement("tr", null, i.createElement("td", null, a("UUID")), i.createElement("td", null, e.UUID)), i.createElement("tr", null, i.createElement("td", null, a("Type")), i.createElement("td", null, e.Type))));
        }
    });
    e.exports = {
        PartitionTab: s
    };
}, function(e, t, n) {
    "use strict";
    var o = n(7), r = n(9), i = n(6), a = n(32), s = n(37), l = n(42), c = s.StorageButton, u = l.FormatButton, d = o.gettext, f = a.createClass({
        displayName: "SwapTab",
        onSamplesChanged: function() {
            this.setState({});
        },
        componentDidMount: function() {
            i(this.props.client.swap_sizes).on("changed", this.onSamplesChanged);
        },
        componentWillUnmount: function() {
            i(this.props.client.swap_sizes).off("changed", this.onSamplesChanged);
        },
        render: function() {
            function e() {
                if (i) return i.Start({});
            }
            function t() {
                if (i) return i.Stop({});
            }
            var n, o = this, i = o.props.client.blocks_swap[o.props.block.path], s = i && i.Active;
            if (s) {
                var l = o.props.client.swap_sizes.data[r.decode_filename(o.props.block.Device)];
                n = l ? r.fmt_size(l[0] - l[1]) : d("Unknown");
            } else n = "-";
            return a.createElement("div", null, a.createElement("div", {
                className: "tab-actions"
            }, s ? a.createElement(c, {
                onClick: t
            }, d("Stop")) : a.createElement(c, {
                onClick: e
            }, d("Start")), a.createElement(u, {
                client: this.props.client,
                block: this.props.block
            })), a.createElement("table", {
                className: "info-table-ct"
            }, a.createElement("tr", null, a.createElement("td", null, d("Used")), a.createElement("td", null, n))));
        }
    });
    e.exports = {
        SwapTab: f
    };
}, function(e, t, n) {
    "use strict";
    var o = n(7), r = n(32), i = n(42), a = i.FormatButton, s = o.gettext, l = r.createClass({
        displayName: "UnrecognizedTab",
        render: function() {
            return r.createElement("div", null, r.createElement("div", {
                className: "tab-actions"
            }, r.createElement(a, {
                client: this.props.client,
                block: this.props.block
            })), r.createElement("table", {
                className: "info-table-ct"
            }, r.createElement("tr", null, r.createElement("td", null, s("Usage")), r.createElement("td", null, this.props.block.IdUsage || "-")), r.createElement("tr", null, r.createElement("td", null, s("Type")), r.createElement("td", null, this.props.block.IdType || "-"))));
        }
    });
    e.exports = {
        UnrecognizedTab: l
    };
}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function i(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.DriveDetails = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                Object.defineProperty(e, o.key, o);
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t;
        };
    }(), l = n(7), c = o(l), u = n(32), d = o(u), f = n(9), p = o(f), m = n(31), h = n(34), v = o(h), g = c.default.gettext;
    t.DriveDetails = function(e) {
        function t() {
            return r(this, t), i(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return a(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e(e, t) {
                    return t ? d.default.createElement("tr", null, d.default.createElement("td", null, e), d.default.createElement("td", null, t)) : null;
                }
                var t = this.props.client, n = this.props.drive, o = t.drives_ata[n.path], r = n && t.drives_block[n.path], i = n && t.drives_multipath_blocks[n.path], a = null;
                o && (a = d.default.createElement("tr", null, d.default.createElement("td", null, g("storage", "Assessment")), d.default.createElement("td", null, o.SmartFailing ? d.default.createElement("span", {
                    className: "cockpit-disk-failing"
                }, g("DISK IS FAILING")) : d.default.createElement("span", null, g("Disk is OK")), o.SmartTemperature > 0 ? d.default.createElement("span", null, "(", p.default.format_temperature(o.SmartTemperature), ")") : null)));
                var s = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, g("Drive")), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, e(g("storage", "Model"), n.Model), e(g("storage", "Firmware Version"), n.Revision), e(g("storage", "Serial Number"), n.Serial), e(g("storage", "World Wide Name"), n.WWN), e(g("storage", "Capacity"), n.Size ? p.default.fmt_size_long(n.Size) : g("No media inserted")), a, e(g("storage", "Device File"), r ? p.default.block_name(r) : "-"), i.length > 0 && e(g("storage", "Multipathed Devices"), i.map(p.default.block_name).join(" "))))), l = d.default.createElement(v.default.Block, {
                    client: this.props.client,
                    block: r
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    jobs: this.props.jobs,
                    header: s,
                    content: l
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function i(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.VGroupDetails = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                Object.defineProperty(e, o.key, o);
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t;
        };
    }(), l = n(7), c = o(l), u = n(32), d = o(u), f = n(9), p = o(f), m = n(31), h = n(34), v = o(h), g = n(37), b = n(26), y = o(b), _ = c.default.gettext, k = function(e) {
        function t() {
            return r(this, t), i(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return a(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    var t = e.block;
                    r.blocks_part[t.path] && (t = r.blocks[r.blocks_part[t.path].Table]);
                    var n = t && r.blocks_lvm2[t.path] && r.lvols[r.blocks_lvm2[t.path].LogicalVolume];
                    return !n || n.VolumeGroup != i.path;
                }
                function t() {
                    y.default.open({
                        Title: _("Add Disks"),
                        Fields: [ {
                            SelectMany: "disks",
                            Title: _("Disks"),
                            Options: p.default.get_available_spaces(r).filter(e).map(p.default.available_space_to_option),
                            EmptyWarning: _("No disks are available."),
                            validate: function(e) {
                                if (0 === e.length) return _("At least one disk is needed.");
                            }
                        } ],
                        Action: {
                            Title: _("Add"),
                            action: function(e) {
                                return p.default.prepare_available_spaces(r, e.disks).then(function() {
                                    var e = Array.prototype.slice.call(arguments);
                                    return c.default.all(e.map(function(e) {
                                        return i.AddDevice(e, {});
                                    }));
                                });
                            }
                        }
                    });
                }
                function n(e) {
                    function t() {
                        return i.RemoveDevice(e.path, !0, {});
                    }
                    function n() {
                        return i.EmptyDevice(e.path, {}).then(function() {
                            i.RemoveDevice(e.path, !0, {});
                        });
                    }
                    var o = null, s = null;
                    return 1 === a.length ? s = _("The last physical volume of a volume group cannot be removed.") : e.FreeSize < e.Size ? e.Size <= i.FreeSize ? o = n : s = c.default.format(_("There is not enough free space elsewhere to remove this physical volume. At least $0 more free space is needed."), p.default.fmt_size(e.Size - i.FreeSize)) : o = t, 
                    d.default.createElement("tr", null, d.default.createElement("td", {
                        className: "storage-icon"
                    }, d.default.createElement("div", null, d.default.createElement("img", {
                        src: "images/storage-disk.png"
                    }))), d.default.createElement("td", null, d.default.createElement(g.StorageBlockNavLink, {
                        client: r,
                        block: r.blocks[e.path]
                    }), d.default.createElement("br", null), d.default.createElement("span", null, c.default.format(_("$0, $1 free"), p.default.fmt_size(e.Size), p.default.fmt_size(e.FreeSize)))), d.default.createElement("td", {
                        className: "storage-action"
                    }, d.default.createElement(g.StorageButton, {
                        onClick: o,
                        excuse: s
                    }, d.default.createElement("span", {
                        className: "fa fa-minus"
                    }))));
                }
                var o = this, r = o.props.client, i = o.props.vgroup, a = r.vgroups_pvols[i.path] || [];
                return d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, d.default.createElement("span", null, _("Physical Volumes")), d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageButton, {
                    onClick: t
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                })))), d.default.createElement("table", {
                    className: "table"
                }, d.default.createElement("tbody", null, a.map(n))));
            }
        } ]), t;
    }(d.default.Component);
    t.VGroupDetails = function(e) {
        function t() {
            r(this, t);
            var e = i(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
            return e.poll_timer = null, e;
        }
        return a(t, e), s(t, [ {
            key: "ensurePolling",
            value: function(e) {
                var t = this;
                e && null === this.poll_timer ? this.poll_timer = window.setInterval(function() {
                    t.props.vgroup.Poll();
                }, 2e3) : e || null === this.poll_timer || (window.clearInterval(this.poll_timer), 
                this.poll_timer = null);
            }
        }, {
            key: "componentWillUnmount",
            value: function() {
                this.ensurePolling(!1);
            }
        }, {
            key: "render",
            value: function() {
                function e() {
                    var e = c.default.location;
                    y.default.open({
                        Title: _("Rename Volume Group"),
                        Fields: [ {
                            TextInput: "name",
                            Title: _("Name"),
                            Value: o.Name,
                            validate: p.default.validate_lvm2_name
                        } ],
                        Action: {
                            Title: _("Rename"),
                            action: function(t) {
                                return o.Rename(t.name, {}).done(function() {
                                    e.go([ "vg", t.name ]);
                                });
                            }
                        }
                    });
                }
                function t() {
                    var e = c.default.location, t = p.default.get_active_usage(n, o.path);
                    return t.Blocking ? void y.default.open({
                        Title: c.default.format(_("$0 is in active use"), o.Name),
                        Blocking: t.Blocking,
                        Fields: []
                    }) : void y.default.open({
                        Title: c.default.format(_("Please confirm deletion of $0"), o.Name),
                        Teardown: t.Teardown,
                        Fields: [],
                        Action: {
                            Danger: _("Deleting a volume group will erase all data on it."),
                            Title: _("Delete"),
                            action: function() {
                                return p.default.teardown_active_usage(n, t).then(function() {
                                    return o.Delete(!0, {
                                        "tear-down": {
                                            t: "b",
                                            v: !0
                                        }
                                    }).done(function() {
                                        e.go("/");
                                    });
                                });
                            }
                        }
                    });
                }
                var n = this.props.client, o = this.props.vgroup;
                this.ensurePolling(o.NeedsPolling);
                var r = [ {
                    title: _("Rename"),
                    action: e
                }, {
                    title: _("Delete"),
                    action: t
                } ], i = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, c.default.format(_("Volume Group $0"), o.Name), d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageMultiAction, {
                    actions: r,
                    default: 0
                }))), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "UUID")), d.default.createElement("td", null, o.UUID)), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Capacity")), d.default.createElement("td", null, p.default.fmt_size_long(o.Size)))))), a = d.default.createElement(k, {
                    client: this.props.client,
                    vgroup: o
                }), s = d.default.createElement(v.default.VGroup, {
                    client: this.props.client,
                    vgroup: o
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    jobs: this.props.jobs,
                    header: i,
                    sidebar: a,
                    content: s
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function i(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.MDRaidDetails = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                Object.defineProperty(e, o.key, o);
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t;
        };
    }(), l = n(7), c = o(l), u = n(32), d = o(u), f = n(9), p = o(f), m = n(31), h = n(34), v = o(h), g = n(37), b = n(26), y = o(b), _ = c.default.gettext, k = function(e) {
        function t() {
            return r(this, t), i(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return a(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    var t = e.block;
                    return r.blocks_part[t.path] && (t = r.blocks[r.blocks_part[t.path].Table]), t && t.MDRaid != i.path;
                }
                function t() {
                    y.default.open({
                        Title: _("Add Disks"),
                        Fields: [ {
                            SelectMany: "disks",
                            Title: _("Disks"),
                            Options: p.default.get_available_spaces(r).filter(e).map(p.default.available_space_to_option),
                            EmptyWarning: _("No disks are available."),
                            validate: function(e) {
                                if (0 === e.length) return _("At least one disk is needed.");
                            }
                        } ],
                        Action: {
                            Title: _("Add"),
                            action: function(e) {
                                return p.default.prepare_available_spaces(r, e.disks).then(function() {
                                    var e = Array.prototype.slice.call(arguments);
                                    return c.default.all(e.map(function(e) {
                                        return i.AddDevice(e, {});
                                    }));
                                });
                            }
                        }
                    });
                }
                function n(e) {
                    function t(e) {
                        return {
                            faulty: _("FAILED"),
                            in_sync: _("In Sync"),
                            spare: _(o[1] < 0 ? "Spare" : "Recovering"),
                            write_mostly: _("Write-mostly"),
                            blocked: _("Blocked")
                        }[e] || c.default.format(_("Unknown ($0)"), e);
                    }
                    function n() {
                        return i.RemoveDevice(e.path, {
                            wipe: {
                                t: "b",
                                v: !0
                            }
                        });
                    }
                    var o = p.default.array_find(i.ActiveDevices, function(t) {
                        return t[0] == e.path;
                    }), m = o && o[1] >= 0 && o[1].toString(), h = o && o[2].map(t).join(", "), v = o && o[2].indexOf("in_sync") >= 0, b = o && o[2].indexOf("spare") >= 0 && o[1] >= 0, y = !1;
                    return f ? v && u > 0 || b ? y = _("This disk cannot be removed while the device is recovering.") : v && l < 1 ? y = _("A spare disk needs to be added first before this disk can be removed.") : a.length <= 1 && (y = _("The last disk of a RAID device cannot be removed.")) : y = _("The RAID device must be running in order to remove disks."), 
                    d.default.createElement("tr", null, d.default.createElement("td", {
                        className: "storage-icon"
                    }, d.default.createElement("div", null, d.default.createElement("img", {
                        src: "images/storage-disk.png"
                    }))), d.default.createElement("td", null, m ? m : "-", " ", d.default.createElement(g.StorageBlockNavLink, {
                        client: r,
                        block: e
                    }), d.default.createElement("br", null), d.default.createElement("span", {
                        className: "state"
                    }, h)), s ? d.default.createElement("td", {
                        className: "storage-action"
                    }, d.default.createElement(g.StorageButton, {
                        onClick: n,
                        excuse: y
                    }, d.default.createElement("span", {
                        className: "fa fa-minus"
                    }))) : null);
                }
                var o = this, r = o.props.client, i = o.props.mdraid, a = r.mdraids_members[i.path] || [], s = "raid0" != i.Level, l = 0, u = 0;
                i.ActiveDevices.forEach(function(e) {
                    e[2].indexOf("spare") >= 0 && (e[1] < 0 ? l += 1 : u += 1);
                });
                var f = i.Running;
                void 0 === f && (f = i.ActiveDevices && i.ActiveDevices.length > 0);
                var m = !1;
                return f || (m = _("The RAID device must be running in order to add spare disks.")), 
                d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, d.default.createElement("span", null, _("Disks")), s ? d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageButton, {
                    onClick: t,
                    excuse: m
                }, d.default.createElement("span", {
                    className: "fa fa-plus"
                }))) : null), d.default.createElement("table", {
                    className: "table"
                }, d.default.createElement("tbody", null, a.map(n))));
            }
        } ]), t;
    }(d.default.Component);
    t.MDRaidDetails = function(e) {
        function t() {
            return r(this, t), i(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return a(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    return {
                        raid0: _("RAID 0"),
                        raid1: _("RAID 1"),
                        raid4: _("RAID 4"),
                        raid5: _("RAID 5"),
                        raid6: _("RAID 6"),
                        raid10: _("RAID 10")
                    }[e] || c.default.format(_("RAID ($0)"), e);
                }
                function t(e) {
                    return l.SetBitmapLocation(p.default.encode_filename(e ? "internal" : "none"), {});
                }
                function n() {
                    return l.Start({
                        "start-degraded": {
                            t: "b",
                            v: !0
                        }
                    });
                }
                function o() {
                    return l.Stop({});
                }
                function r() {
                    return l.RequestSyncAction("repair", {});
                }
                function i() {
                    return l.RequestSyncAction("idle", {});
                }
                function a() {
                    function e() {
                        function e() {
                            return c.default.all(s.mdraids_members[l.path].map(function(e) {
                                return e.Format("empty", {});
                            }));
                        }
                        return l.Delete ? l.Delete({
                            "tear-down": {
                                t: "b",
                                v: !0
                            }
                        }) : l.ActiveDevices && l.ActiveDevices.length > 0 ? l.Stop({}).then(e) : e();
                    }
                    var t = c.default.location, n = p.default.get_active_usage(s, u ? u.path : "");
                    return n.Blocking ? void y.default.open({
                        Title: c.default.format(_("$0 is in active use"), p.default.mdraid_name(l)),
                        Blocking: n.Blocking,
                        Fields: []
                    }) : void y.default.open({
                        Title: c.default.format(_("Please confirm deletion of $0"), p.default.mdraid_name(l)),
                        Teardown: n.Teardown,
                        Fields: [],
                        Action: {
                            Title: _("Delete"),
                            Danger: _("Deleting a RAID device will erase all data on it."),
                            action: function() {
                                return p.default.teardown_active_usage(s, n).then(e).then(function() {
                                    t.go("/");
                                });
                            }
                        }
                    });
                }
                var s = this.props.client, l = this.props.mdraid, u = l && s.mdraids_block[l.path], f = e(l.Level);
                l.NumDevices > 0 && (f += ", " + c.default.format(_("$0 Disks"), l.NumDevices)), 
                l.ChunkSize > 0 && (f += ", " + c.default.format(_("$0 Chunk Size"), p.default.fmt_size(l.ChunkSize)));
                var h = null;
                if (l.BitmapLocation) {
                    var b = "none" != p.default.decode_filename(l.BitmapLocation);
                    h = d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Bitmap")), d.default.createElement("td", null, d.default.createElement(g.StorageOnOff, {
                        state: b,
                        onChange: t
                    })));
                }
                var x = null;
                if (l.Degraded > 0) {
                    var w = c.default.format(c.default.ngettext("$0 disk is missing", "$0 disks are missing", l.Degraded), l.Degraded);
                    x = d.default.createElement("div", {
                        className: "alert alert-danger"
                    }, d.default.createElement("span", {
                        className: "pficon pficon-error-circle-o"
                    }), d.default.createElement("span", null, _("The RAID Array is in a degraded state")), " - ", w);
                }
                var T = l.Running;
                void 0 === T && (T = l.ActiveDevices && l.ActiveDevices.length > 0);
                var E = [ {
                    title: _("Start"),
                    action: n
                }, {
                    title: _("Stop"),
                    action: o
                }, {
                    title: _("Start Scrubbing"),
                    action: r
                }, {
                    title: _("Stop Scrubbing"),
                    action: i
                }, {
                    title: _("Delete"),
                    action: a
                } ], S = d.default.createElement("div", {
                    className: "panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, c.default.format(_("RAID Device $0"), p.default.mdraid_name(l)), d.default.createElement("span", {
                    className: "pull-right"
                }, d.default.createElement(g.StorageMultiAction, {
                    actions: E,
                    default: T ? 1 : 0
                }))), d.default.createElement("div", {
                    className: "panel-body"
                }, d.default.createElement("table", {
                    className: "info-table-ct"
                }, d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Device")), d.default.createElement("td", null, u ? p.default.decode_filename(u.PreferredDevice) : "-")), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "UUID")), d.default.createElement("td", null, l.UUID)), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "Capacity")), d.default.createElement("td", null, p.default.fmt_size_long(l.Size))), d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "RAID Level")), d.default.createElement("td", null, f)), h, d.default.createElement("tr", null, d.default.createElement("td", null, _("storage", "State")), d.default.createElement("td", null, _(T ? "Running" : "Not running")))))), C = d.default.createElement(k, {
                    client: this.props.client,
                    mdraid: l
                }), M = d.default.createElement(v.default.Block, {
                    client: this.props.client,
                    block: u
                });
                return d.default.createElement(m.StdDetailsLayout, {
                    jobs: this.props.jobs,
                    alert: x,
                    header: S,
                    sidebar: C,
                    content: M
                });
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t, n) {
    "use strict";
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function i(e, t) {
        if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return !t || "object" != typeof t && "function" != typeof t ? e : t;
    }
    function a(e, t) {
        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
        e.prototype = Object.create(t && t.prototype, {
            constructor: {
                value: e,
                enumerable: !1,
                writable: !0,
                configurable: !0
            }
        }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t);
    }
    Object.defineProperty(t, "__esModule", {
        value: !0
    }), t.Jobs = void 0;
    var s = function() {
        function e(e, t) {
            for (var n = 0; n < t.length; n++) {
                var o = t[n];
                o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), 
                Object.defineProperty(e, o.key, o);
            }
        }
        return function(t, n, o) {
            return n && e(t.prototype, n), o && e(t, o), t;
        };
    }(), l = n(7), c = o(l), u = n(32), d = o(u), f = n(37), p = c.default.gettext;
    t.Jobs = function(e) {
        function t() {
            return r(this, t), i(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments));
        }
        return a(t, e), s(t, [ {
            key: "render",
            value: function() {
                function e(e) {
                    function t() {
                        return e.dbus.Cancel({});
                    }
                    return d.default.createElement("tr", null, d.default.createElement("td", {
                        className: "job-description"
                    }, e.Description), d.default.createElement("td", null, e.Progress), d.default.createElement("td", null, e.RemainingTime), d.default.createElement("td", {
                        className: "job-action"
                    }, e.Cancelable ? d.default.createElement(f.StorageButton, {
                        onClick: t
                    }, p("Cancel")) : null));
                }
                var t = this.props.jobs.query();
                return 0 === t.length ? null : d.default.createElement("div", {
                    className: "detail-jobs panel panel-default"
                }, d.default.createElement("div", {
                    className: "panel-heading"
                }, p("Jobs")), d.default.createElement("table", {
                    className: "table"
                }, d.default.createElement("tbody", null, t.map(e))));
            }
        } ]), t;
    }(d.default.Component);
}, function(e, t) {}, function(e, t) {}, function(e, t) {}, function(e, t) {}, function(e, t) {} ]);
//# sourceMappingURL=storage.min.js.map