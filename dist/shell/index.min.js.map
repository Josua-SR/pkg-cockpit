{"version":3,"sources":["webpack:///shell/index.min.js","webpack:///webpack/bootstrap effad7a28597a11bc811","webpack:///../pkg/shell/index.js","webpack:///../pkg/lib/machines.js","webpack:///external \"jQuery\"","webpack:///external \"cockpit\"","webpack:///../pkg/shell/credentials.js","webpack:///../pkg/shell/ssh-file-autocomplete.jsx","webpack:///../~/react-lite/dist/react-lite.js","webpack:///../pkg/lib/cockpit-components-file-autocomplete.jsx","webpack:///../pkg/lib/credentials.js","webpack:///../~/process/browser.js","webpack:///../pkg/lib/credentials-ssh-private-keys.sh","webpack:///../pkg/lib/credentials-ssh-remove-key.sh","webpack:///../pkg/lib/patterns.js","webpack:///../pkg/lib/machine-dialogs.js","webpack:///../pkg/lib/mustache.js","webpack:///../~/mustache/mustache.js","webpack:///../pkg/lib/machine-add.html","webpack:///../pkg/lib/machine-auth-failed.html","webpack:///../pkg/lib/machine-change-auth.html","webpack:///../pkg/lib/machine-change-port.html","webpack:///../pkg/lib/machine-color-picker.html","webpack:///../pkg/lib/machine-invalid-hostkey.html","webpack:///../pkg/lib/machine-not-supported.html","webpack:///../pkg/lib/machine-sync-users.html","webpack:///../pkg/lib/machine-unknown-hostkey.html","webpack:///../pkg/shell/indexes.js","webpack:///../pkg/shell/base_index.js","webpack:///../pkg/shell/active-pages.js","webpack:///../pkg/lib/cockpit-components-dialog.jsx","webpack:///../pkg/shell/active-pages-dialog.jsx","webpack:///../pkg/lib/cockpit-components-listing.jsx","webpack:///../pkg/shell/privileges.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","machis","credentials","mdialogs","indexes","machines","instance","loader","dialogs","new_manager","setup","document","addEventListener","ev","i","visible","altKey","advanced","querySelectorAll","length","style","display","options","brand_sel","logout_sel","oops_sel","language_sel","about_sel","account_sel","user_sel","killer_sel","default_title","privileges","machines_index","generate_session_key","host","session_prefix","Machines","storage","key","storageArea","window","sessionStorage","refresh","JSON","parse","newValue","sync","machine","values","overlay","prop","desired","$","extend","shared","push","emit_ready","self","ready","last","flat","timeout","setTimeout","setItem","stringify","hosts","content","application","events","old_machine","old_conns","connection_string","color","address","generate_connection_string","user","port","label","cockpit","transport","indexOf","replace","location","hostname","avatar","sel","len","triggerHandler","update_session_machine","skey","data","when","update_saved_machine","values_variant","variant","toString","bridge","dbus","bus","superuser","mod","fail","error","console","color_in_use","norm","colors","merge","item","this","localhost","manifests","value","getItem","add_key","host_key","known_hosts","file","known_hosts_path","modify","always","close","add","split_connection_string","unused_color","lookup","on_disk","change","hostnamed","conn_to","ex","warn","all","changes","Object","defineProperty","enumerable","get","sort","m1","m2","localeCompare","keys","parts","addr","user_spot","port_spot","lastIndexOf","substring","parseInt","isNaN","removeEventListener","Loader","session_only","process_session_key","split","connect","load_from_session_storage","session_loaded","k","process_session_machines","state","problem","restarting","checksum","updated","props","proxies","valid","PrettyHostname","StaticHostname","os","OperatingSystemPrettyName","isEmptyObject","kill","disconnect","removed","channels","bridge_dbus","on","whirl","request","open","request_manifest","ajax","url","dataType","cache","done","etag","getResponseHeader","watch_manifests","subscribe","path","interface","member","iface","mamber","args","v","request_hostname","static_hostname","proxy","wait","channel","payload","local","encodeURI","send","off","client","expect_restart","forEach","host_props","wrapped","data_unwrap","prefixedKey","input","div","createElement","getComputedStyle","getPropertyValue","caps","capabilities","inArray","allow_connection_string","has_auth_results","debug","jQuery","hide_add_key","attr","toggleClass","sshFile","remove","getElementById","show_pending","val","body","find","text","addClass","hide","add_custom_key","tr","load","sent_password","message","render","focus","preventDefault","stopPropagation","which","target","parents","removeClass","items","name","onoff","unload","log","show","hasClass","password","old_pass","new_pass","two_pass","undefined","first","click","type","keyCode","li","parent","index","children","eq","popover","keys_instance","row","field","string","rows","table","each","el","clone","append","comment","fingerprint","React","FileAutoComplete","rootElement","unmountComponentAtNode","global","factory","createVnode","vtype","ref","vnode","refs","VSTATELESS","VCOMPONENT","uid","getUid","initVnode","parentContext","namespaceURI","node","VELEMENT","initVelem","initVcomponent","initVstateless","VCOMMENT","createComment","createTextNode","updateVnode","newVnode","updateVcomponent","updateVstateless","oldHtml","HTML_KEY","__html","updateVelem","initVchildren","updateVChildren","patches","removes","updates","creates","diffVchildren","flatEach","applyDestroy","applyUpdate","applyCreate","newNode","shouldIgnore","replaceData","currentNode","parentNode","childNodes","insertBefore","destroyVnode","removeChild","destroyVelem","destroyVcomponent","destroyVstateless","velem","SVGNamespaceURI","createElementNS","isCustomComponent","is","setProps","addItem","pendingRefs","vchildren","getFlattenChildren","appendChild","isArr","collectChild","child","toJS","newVchildren","vchildrenLen","newVchildrenLen","Array","_vnode","j","_newVnode","shouldIgnoreUpdate","_vnode2","shouldRemove","_newVnode2","newVelem","patchProps","detachRef","attachRef","eventStore","vstateless","renderVstateless","newVstateless","compareTwoVnodes","syncCache","componentContext","getContextByTypes","contextTypes","Error","vcomponent","Component","component","updater","$updater","$cache","isPending","context","componentWillMount","getState","renderComponent","getChildContext","isMounted","pendingComponents","newVcomponent","nextProps","componentWillReceiveProps","needToggleIsPending","emitUpdate","setState","forceUpdate","noop","componentWillUnmount","curContext","hasOwnProperty","constructor","clearPendingComponents","components","componentDidMount","clearPendingRefs","list","refValue","clearPending","replaceChild","getDOMNode","refKey","nodeName","isFn","oldCache","vchild","Updater","pendingStates","pendingCallbacks","nextContext","clearCallbacks","bind","shouldUpdate","nextState","callback","shouldComponentUpdate","getEventName","toLowerCase","addEvent","elem","eventType","listener","unbubbleEvents","dispatchUnbubbleEvent","eventTypes","substr","dispatchEvent","inMobile","ON_CLICK_KEY","emptyFunction","supportInputEvent","removeEvent","event","syntheticEvent","updateQueue","_target","createSyntheticEvent","currentTarget","$cancelBubble","batchUpdate","nativeEvent","cancelBubble","persist","setStyle","elemStyle","styles","styleName","setStyleValue","removeStyle","patchStyle","newStyle","prefixKey","prefix","charAt","toUpperCase","styleValue","isUnitlessNumber","RE_NUMBER","test","mergeConfigToProperties","config","attrNS","domAttrs","domProps","propName","propConfig","properties","attributeName","propertyName","attributeNamespace","mustUseProperty","checkMask","MUST_USE_PROPERTY","hasBooleanValue","HAS_BOOLEAN_VALUE","hasNumericValue","HAS_NUMERIC_VALUE","hasPositiveNumericValue","HAS_POSITIVE_NUMERIC_VALUE","hasOverloadedBooleanValue","HAS_OVERLOADED_BOOLEAN_VALUE","bitmask","setPropValue","propInfo","removePropValue","namespace","setAttributeNS","setAttribute","isCustomAttribute","VALID_ATTRIBUTE_NAME_REGEX","removeAttribute","updateSelectOptions","select","multiple","propValue","selectedValue","isArray","selected","option","selectedIndex","obj","identity","pipe","fn1","fn2","apply","arguments","iteratee","a","to","from","setProp","EVENT_KEYS","innerHTML","removeProp","oldValue","patchProp","isSelect","newProps","isValidContainer","nodeType","ELEMENT_NODE_TYPE","DOC_NODE_TYPE","DOCUMENT_FRAGMENT_NODE_TYPE","renderTreeIntoContainer","container","COMPONENT_ID","argsCache","pendingRendering","oldVnode","rootNode","vnodeStore","firstChild","childNode","lastChild","result","unstable_renderSubtreeIntoContainer","parentComponent","subVnode","findDOMNode","prototype","isReactComponent","finalProps","propKey","defaultProps","argsLen","finalChildren","isValidElement","cloneElement","originElem","_len","_key","concat","createFactory","_len2","_key2","only","map","store","keyMap","isEqual","getKey","_ref","escapeUserProvidedKey","count","toArray","userProvidedKeyEscapeRegex","eachMixin","mixins","mixin","combineMixinToProto","proto","curValue","$getInitialStates","combineMixinToClass","propTypes","statics","getDefaultProps","bindContext","source","getInitialState","_this","Facade","createClass","spec","Klass","autobind","specMixins","displayName","shallowEqual","objA","objB","keysA","keysB","PureComponent","shallowCompare","updaters","pop","updateComponent","addState","replaceState","isReplace","addCallback","ReactComponentSymbol","componentWillUpdate","componentDidUpdate","onmousemove","ontouchmove","onmouseleave","onmouseenter","onload","onunload","onscroll","onfocus","onblur","onrowexit","onbeforeunload","onstop","ondragdrop","ondragenter","ondragexit","ondraggesture","ondragover","oncontextmenu","onerror","onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onencrypted","onpause","onplay","onplaying","onprogress","onratechange","onseeking","onseeked","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixes","ATTRIBUTE_NAME_START_CHAR","ATTRIBUTE_NAME_CHAR","RegExp","HTMLDOMPropertyConfig","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","charSet","challenge","checked","cite","classID","className","cols","colSpan","contentEditable","contextMenu","controls","coords","crossOrigin","dateTime","default","defaultValue","defaultChecked","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","inputMode","integrity","keyParams","keyType","kind","lang","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","muted","nonce","noValidate","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","referrerPolicy","rel","required","reversed","role","rowSpan","sandbox","scope","scoped","scrolling","seamless","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","summary","tabIndex","title","useMap","width","wmode","wrap","about","datatype","inlist","property","playsInline","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","xlink","xml","ATTRS","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipRule","clipPathUnits","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillRule","filter","filterRes","filterUnits","floodColor","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","format","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","markerEnd","markerMid","markerStart","markerHeight","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","operator","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","strikethroughPosition","strikethroughThickness","stroke","strokeLinecap","strokeLinejoin","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textRendering","textLength","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","x","xHeight","x1","x2","xChannelSelector","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlns","xmlnsXlink","xmlLang","xmlSpace","y","y1","y2","yChannelSelector","z","zoomAndPan","SVGDOMPropertyConfig","freeze","ReactDOM","tagNames","DOM","tagName","check","isRequired","PropTypes","array","bool","func","number","object","any","arrayOf","element","instanceOf","objectOf","oneOf","oneOfType","Children","create","isPureReactComponent","__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","_","gettext","onChange","updateFiles","directory","directoryFiles","displayFiles","getDirectoryForValue","trim","slice","stateUpdate","updateIfDirectoryChanged","filterFiles","onChangeCallback","onMouseDown","button","selecting","onBlur","timer","clearTimeout","delayedOnChange","finishUpdate","changed","b","sensitivity","inputLength","inputValue","dirLength","matches","showAllOptions","selectItem","innerText","renderError","controlClasses","classes","listItems","data-type","autocomplete","onClick","process","Keys","watch","clearInterval","proc","script","lister","err","blocks","line","parse_key","block","agent_only","parse_info","join","n","home","old_exps","new_exps","bad_exps","dfd","Deferred","buffer","sent_new","failure","reject","promise","spawn","pty","environ","resolve","exit_status","stream","ask_exp","perm_exp","bad_exp","output","remove_key","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","e","runClearTimeout","marker","cachedClearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","run","Item","nextTick","browser","env","argv","versions","addListener","once","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","unique","unique_number","Date","clear_errors","field_error","next","wrapper","selectpicker","appendTo","css","global_error","alert","prependTo","footer","display_errors","errors","DialogWait","handle","clear_wait","ctl","removeAttr","display_wait","restore","cancelled","modal","update","arg","before","cancellation","cancel","not","progress","onoff_refresh","andSelf","buttons","onoff_change","onoff_value","resize_flex","slider","total","part","update_value","check_overflow","offsetWidth","scrollWidth","setup_slider","parseFloat","getAttribute","set","s","String","hasAttribute","left","hitx","offsetX","clientX","outerWidth","pageX","trigger","setup_sliders","fn","dialog","update_privileged","perm","denied_message","placement","allowed","selector","allowed_key","html","tooltip","translate_and_init","tmpl","tmp","old","outerHTML","translated","mustache","full_address","machines_ins","Dialog","codes","address_or_label","change_content","template","error_options","old_instance","current_instance","current_template","AddMachine","SyncUsers","HostKey","ChangeAuth","MachinePort","Simple","promise_callback","success_callback","try_to_connect","conn_options","get_sel","child_selector","ret_txt","set_on_success","set_goal","complete","address_data","context_title","strong","templates","translate","render_error","command","render_template","empty","failure_callback","promise_funcs","dialog_dfd","is_method_supported","methods","MachineColorPicker","selected_color","$div","$pop","div_pos","position","div_width","div_height","pop_width","pop_height","top","existing_error","check_address","evt","search","run_error","add_machine","dfp","msg","host_id_port","port_index","invisible","addresses","limit","color_picker","nearlimit","change_port","update_host","q","then","inner","fp","match_problem","key_host","allow_change","update_available","key_div","have_keys","empty_div","login","change_login_type","stored","toggle","no_password","available","supported","machine_user","default_user","show_password","show_ticket","have_ticket","can_sync","machines.allow_connection_string","sync_link","load_users","perm_failed","blank","t","Transfer","prepared","groups","raw","users","username","members","u","sync_users","needs_auth","remote_options","group","Commit","toggle_button","formated_groups","allows_password","user_list","needs_root","MachineDialogManager","default_codes","troubleshoot","target_id","needs_troubleshoot","render_dialog","render_color_picker","add_tmpl","auth_failed_tmpl","change_auth_tmpl","change_port_tmpl","color_picker_tmpl","invalid_hostkey_tmpl","not_supported_tmpl","sync_users_tmpl","unknown_hosts_tmpl","no-cockpit","not-supported","protocol-error","authentication-not-supported","authentication-failed","no-forwarding","unknown-hostkey","invalid-hostkey","not-found","unknown-host","sync-users","add-machine","auth-failed","change-auth","change-port","color-picker","view","partials","to_html","clearCache","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","isFunction","typeStr","escapeRegExp","hasProperty","testRegExp","re","regExpTest","isWhitespace","nonSpaceRe","escapeHtml","entityMap","parseTemplate","tags","stripSpace","hasTag","nonSpace","spaces","tokens","compileTags","tagsToCompile","spaceRe","openingTagRe","closingTagRe","closingCurlyRe","sections","chr","token","openSection","scanner","Scanner","eos","pos","scanUntil","valueLength","scan","tagRe","whiteRe","equalsRe","curlyRe","nestTokens","squashTokens","lastToken","squashedTokens","numTokens","section","nestedTokens","collector","tail","Context",".","Writer","objectToString","&","<",">","\"","'","/","`","=","match","names","lookupHit","renderTokens","originalTemplate","symbol","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","subRender","escape","defaultWriter","TypeError","phantom_checkpoint","MachinesIndex","index_options","on_ready","show_disconnected","current_frame","watchdog_problem","navigate","reconnect","troubleshooting","retrieve_state","compiled","compile","choose_component","update_navbar","update_frame","jump","menu_items","single_host","dashboards","ordered","shell_embedded","sidebar","wants","default_machine","update_sidebar","links","menu","tools","update_active_machine","active_sel","update_machine_links","showing_sidebar","update_title","suffix","connecting","compat","hash","frame","frames","update_machines","machine_link","prepend","filter_machines","txt","compatibility","shell","mapping","base_index","new_compiled","new_index_from_proto","machines_timer","clear","reload","SimpleIndex","message_queue","messages","pathname","simple_index","documentElement","sink","protocol","component_checksum","pkg","Frames","remove_frame","contentWindow","frame_ready","iframes","new_frame","wind","frameElement","base","Router","perform_jump","control","str","encodeURIComponent","perform_track","on_unload","defaultView","source_by_name","unregister","on_hashchange","on_load","source_by_seed","channel_seed","register","unique_id","default_host","inited","message_handler","forward_command","ArrayBuffer","inject","reply","channel-seed","postMessage","hint","show_oops","closed","credential","Index","encode","with_root","decode","shift","build_navbar","sm","navbar","local_compiled","CompiledComponents","lookup_component_hash","iframe","setup_oops","oops","details","css_content","elt","el_style","el_content","getMatchedCSSRules","setup_brand","os_release","localStorage","setup_logout","logout","setup_language","locales","language","cookie","code","code_to_select","setup_about","info","setup_account","setup_killer","showDialog","setup_user","full_name","router","watchdog","navigator","userAgent","old_onerror","history","current","frame_change","pushState","cal_title","skip_brand_title","ret","follow","zz_value","defineProperties","zz","o","dialogPattern","PagesDialog","gatherIframes","selectionChanged","selectedFrames","splice","dataStore","closePage","f","dialogProps","footerProps","actions","clicked","caption","dialogObj","show_modal_dialog","DialogFooter","cancel_clicked","cancel_caption","static_error","dialog_done","action_in_progress","action_in_progress_promise","action_progress_message","action_canceled","error_message","keyUpHandler","cancel_click","classList","update_progress","action_click","handler","cancel_style","wait_element","actions_disabled","error_element","action_buttons","button_style","button_style_mapping","primary","danger","action_disabled","no_backdrop","activeElement","blur","backdrop","tabindex","updateFooterAndRender","dialogName","origCallback","closeCallback","setFooterProps","listingPattern","Listing","ListingRow","ActivePagesDialogBody","badge","selectCallback","columns","header","rowId","selectChanged","emptyCaption","_extends","assign","tabRenderers","navigateToItem","listingDetail","listingActions","initiallyExpanded","initiallyActiveTab","expanded","activeTab","loadedTabs","handleNavigateClick","handleExpandClick","willBeExpanded","tabIdx","tabPresence","presence","handleSelectClick","handleTabClick","prevTab","prevTabPresence","expandToggle","allowNavigate","headerEntries","itm","tight","allowExpand","listingItemClasses","clickHandler","allowSelect","listingItem","data-row-id","Renderer","rendererData","idx","tabs","renderer","fullWidth","columnTitles","bodyClasses","headerClasses","headerRow","selectableRows","Privileges","drop_privileges","blink","locks","lock","locked","onclick"],"mappings":"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","file":"shell/index.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(10);\n\tmodule.exports = __webpack_require__(46);\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2015 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var machis = __webpack_require__(11);\n\t    var credentials = __webpack_require__(14);\n\t    var mdialogs = __webpack_require__(26);\n\t\n\t    var indexes = __webpack_require__(38);\n\t\n\t    var machines = machis.instance();\n\t    var loader = machis.loader(machines);\n\t    var dialogs = mdialogs.new_manager(machines);\n\t\n\t    credentials.setup();\n\t\n\t    /* When alt is held down we display debugging menu items */\n\t    document.addEventListener(\"click\", function(ev) {\n\t        var i, visible = !!ev.altKey;\n\t        var advanced = document.querySelectorAll(\".navbar-advanced\");\n\t        for (i = 0; i < advanced.length; i++)\n\t            advanced[i].style.display = visible ? \"block\" : \"none\";\n\t    }, true);\n\t\n\t    var options = {\n\t        brand_sel: \"#index-brand\",\n\t        logout_sel: \"#go-logout\",\n\t        oops_sel: \"#navbar-oops\",\n\t        language_sel: \"#display-language\",\n\t        about_sel: \"#about-version\",\n\t        account_sel: \"#go-account\",\n\t        user_sel: \"#content-user-name\",\n\t        killer_sel: \"#active-pages\",\n\t        default_title: \"Cockpit\",\n\t        privileges: __webpack_require__(45).instance(),\n\t    };\n\t\n\t    indexes.machines_index(options, machines, loader, dialogs);\n\t}());\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var $ = __webpack_require__(12);\n\t    var cockpit = __webpack_require__(13);\n\t\n\t    var mod = { };\n\t\n\t    var known_hosts_path = \"/etc/ssh/ssh_known_hosts\";\n\t    /*\n\t     * We share the Machines state between multiple frames. Only\n\t     * one frame has the job of loading the state, usually index.js\n\t     * The Loader code below does all the loading.\n\t     *\n\t     * The data is stored in sessionStorage in a JSON object, like this\n\t     * {\n\t     *    content: name  info dict from bridge's /machines Machines property\n\t     *    overlay: extra data to augment and override on top of content\n\t     * }\n\t     *\n\t     * This uses sessionStorage rather than cockpit.sessionStorage\n\t     * because we don't ever want to write unprefixed keys.\n\t     */\n\t\n\t    var key = cockpit.sessionStorage.prefixedKey(\"v2-machines.json\");\n\t    var session_prefix = cockpit.sessionStorage.prefixedKey(\"v1-session-machine\");\n\t\n\t    function generate_session_key(host) {\n\t        return session_prefix + \"/\" + host;\n\t    }\n\t\n\t    function Machines() {\n\t        var self = this;\n\t\n\t        var flat = null;\n\t        self.ready = false;\n\t\n\t        /* parsed machine data */\n\t        var machines = { };\n\t\n\t        /* Data shared between Machines() instances */\n\t        var last = {\n\t            content: null,\n\t            overlay: {\n\t                localhost: {\n\t                    visible: true,\n\t                    manifests: cockpit.manifests\n\t                }\n\t            }\n\t        };\n\t\n\t        function storage(ev) {\n\t            if (ev.key === key && ev.storageArea === window.sessionStorage)\n\t                refresh(JSON.parse(ev.newValue || \"null\"));\n\t        }\n\t\n\t        window.addEventListener(\"storage\", storage);\n\t\n\t        window.setTimeout(function() {\n\t            var value = window.sessionStorage.getItem(key);\n\t            if (!self.ready && value)\n\t                refresh(JSON.parse(value));\n\t        });\n\t\n\t        var timeout = null;\n\t\n\t        function sync(machine, values, overlay) {\n\t            var desired = $.extend({ }, values || { }, overlay || { });\n\t            var prop;\n\t            for (prop in desired) {\n\t                if (machine[prop] !== desired[prop])\n\t                    machine[prop] = desired[prop];\n\t            }\n\t            for (prop in machine) {\n\t                if (machine[prop] !== desired[prop])\n\t                    delete machine[prop];\n\t            }\n\t            return machine;\n\t        }\n\t\n\t        function refresh(shared, push) {\n\t            if (!shared)\n\t                return;\n\t\n\t            var emit_ready = !self.ready;\n\t\n\t            self.ready = true;\n\t            last = shared;\n\t            flat = null;\n\t\n\t            if (push && !timeout) {\n\t                timeout = window.setTimeout(function() {\n\t                    timeout = null;\n\t                    window.sessionStorage.setItem(key, JSON.stringify(last));\n\t                }, 10);\n\t            }\n\t\n\t            var host, hosts = { };\n\t            var content = shared.content || { };\n\t            var overlay = shared.overlay || { };\n\t            for (host in content)\n\t                hosts[host] = true;\n\t            for (host in overlay)\n\t                hosts[host] = true;\n\t\n\t            var events = [];\n\t\n\t            var machine, application;\n\t            for (host in hosts) {\n\t                var old_machine = machines[host] || { };\n\t                var old_conns = old_machine.connection_string;\n\t\n\t                /* Invert logic for color, always respect what's on disk */\n\t                if (content[host] && content[host].color && overlay[host])\n\t                    delete overlay[host].color;\n\t\n\t                machine = sync(old_machine, content[host], overlay[host]);\n\t\n\t                /* Fill in defaults */\n\t                machine.key = host;\n\t                if (!machine.address)\n\t                    machine.address = host;\n\t\n\t                machine.connection_string = self.generate_connection_string(machine.user,\n\t                                                                            machine.port,\n\t                                                                            machine.address);\n\t\n\t                if (!machine.label) {\n\t                    if (host == \"localhost\" || host == \"localhost.localdomain\") {\n\t                        application = cockpit.transport.application();\n\t                        if (application.indexOf('cockpit+=') === 0)\n\t                            machine.label = application.replace('cockpit+=', '');\n\t                        else\n\t                            machine.label = window.location.hostname;\n\t                    } else {\n\t                        machine.label = host;\n\t                    }\n\t                }\n\t                if (!machine.avatar)\n\t                    machine.avatar = \"../shell/images/server-small.png\";\n\t\n\t                events.push([host in machines ? \"updated\" : \"added\",\n\t                            [machine, host, old_conns]]);\n\t                machines[host] = machine;\n\t            }\n\t\n\t            /* Remove any lost hosts */\n\t            for (host in machines) {\n\t                if (!(host in hosts)) {\n\t                    machine = machines[host];\n\t                    delete machines[host];\n\t                    delete overlay[host];\n\t                    events.push([\"removed\", [machine, host]]);\n\t                }\n\t            }\n\t\n\t            /* Fire off all events */\n\t            var i, sel = $(self), len = events.length;\n\t            for (i = 0; i < len; i++)\n\t                sel.triggerHandler(events[i][0], events[i][1]);\n\t            if (emit_ready)\n\t                $(self).triggerHandler(\"ready\");\n\t        }\n\t\n\t        function update_session_machine(machine, host, values) {\n\t            /* We don't save the whole machine object */\n\t            var skey = generate_session_key(host);\n\t            var data = $.extend({}, machine, values);\n\t            window.sessionStorage.setItem(skey, JSON.stringify(data));\n\t            self.overlay(host, values);\n\t            return cockpit.when([]);\n\t        }\n\t\n\t        function update_saved_machine(host, values) {\n\t            // wrap values in variants for D-Bus call; at least values.port can\n\t            // be int or string, so stringify everything but the \"visible\" boolean\n\t            var values_variant = {};\n\t            for (var prop in values) {\n\t                if (values[prop] !== null) {\n\t                    if (prop == \"visible\")\n\t                        values_variant[prop] = cockpit.variant('b', values[prop]);\n\t                    else\n\t                        values_variant[prop] = cockpit.variant('s', values[prop].toString());\n\t                }\n\t            }\n\t\n\t            // FIXME: investigate re-using the proxy from Loader (runs in different frame/scope)\n\t            var bridge = cockpit.dbus(null, { bus: \"internal\", \"superuser\": \"try\" });\n\t            var mod = bridge.call(\"/machines\", \"cockpit.Machines\", \"Update\", [ \"99-webui.json\", host, values_variant ])\n\t                .fail(function(error) {\n\t                    console.error(\"failed to call cockpit.Machines.Update(): \", error);\n\t                });\n\t\n\t            return mod;\n\t        }\n\t\n\t        self.add_key = function(host_key) {\n\t            var known_hosts = cockpit.file(known_hosts_path, { superuser: \"try\" });\n\t            return known_hosts\n\t                .modify(function(data) {\n\t                    if (!data)\n\t                        data = \"\";\n\t\n\t                    return data + \"\\n\" + host_key;\n\t                })\n\t                .always(function() {\n\t                    known_hosts.close();\n\t                });\n\t        };\n\t\n\t        self.add = function add(connection_string, color) {\n\t            var values = self.split_connection_string(connection_string);\n\t            var host = values['address'];\n\t\n\t            values = $.extend({\n\t                        visible: true,\n\t                        color: color || self.unused_color(),\n\t                    }, values);\n\t\n\t            var machine = self.lookup(host);\n\t            if (machine)\n\t                machine.on_disk = true;\n\t\n\t            return self.change(values['address'], values);\n\t        };\n\t\n\t        self.unused_color = function unused_color() {\n\t            var i, len = mod.colors.length;\n\t            for (i = 0; i < len; i++) {\n\t                if (!color_in_use(mod.colors[i]))\n\t                    return mod.colors[i];\n\t            }\n\t            return \"gray\";\n\t        };\n\t\n\t        function color_in_use(color) {\n\t            var key, machine, norm = mod.colors.parse(color);\n\t            for (key in machines) {\n\t                machine = machines[key];\n\t                if (machine.color && mod.colors.parse(machine.color) == norm)\n\t                    return true;\n\t            }\n\t            return false;\n\t        }\n\t\n\t        function merge(item, values) {\n\t            for (var prop in values) {\n\t                if (values[prop] === null)\n\t                    delete item[prop];\n\t                else\n\t                    item[prop] = values[prop];\n\t            }\n\t        }\n\t\n\t        self.change = function change(host, values) {\n\t            var mod, hostnamed, call;\n\t            var machine = self.lookup(host);\n\t\n\t            if (values.label) {\n\t\n\t                var conn_to = host;\n\t                if (machine)\n\t                    conn_to = machine.connection_string;\n\t\n\t                if (!machine || machine.label !== values.label) {\n\t                    hostnamed = cockpit.dbus(\"org.freedesktop.hostname1\", { host: conn_to });\n\t                    call = hostnamed.call(\"/org/freedesktop/hostname1\", \"org.freedesktop.hostname1\",\n\t                                          \"SetPrettyHostname\", [ values.label, true ])\n\t                        .always(function() {\n\t                            hostnamed.close();\n\t                        })\n\t                        .fail(function(ex) {\n\t                            console.warn(\"couldn't set pretty host name: \" + ex);\n\t                        });\n\t                }\n\t            }\n\t\n\t            if (machine && !machine.on_disk)\n\t                mod = update_session_machine(machine, host, values);\n\t            else\n\t                mod = update_saved_machine(host, values);\n\t\n\t            if (call)\n\t                return cockpit.all(call, mod);\n\t\n\t            return mod;\n\t        };\n\t\n\t        self.data = function data(content) {\n\t            var host, changes = {};\n\t\n\t            for (host in content) {\n\t                changes[host] = $.extend({ }, last.overlay[host] || { });\n\t                merge(changes[host], { on_disk: true });\n\t            }\n\t\n\t            /* It's a full reload, so data not\n\t             * present is no longer from disk\n\t             */\n\t            for (host in machines) {\n\t                if (content && !content[host]) {\n\t                    changes[host] = $.extend({ }, last.overlay[host] || { });\n\t                    merge(changes[host], { on_disk: null });\n\t                }\n\t            }\n\t\n\t            refresh({ content: content,\n\t                      overlay: $.extend({ }, last.overlay, changes) }, true);\n\t        };\n\t\n\t        self.overlay = function overlay(host, values) {\n\t            var changes = { };\n\t            changes[host] = $.extend({ }, last.overlay[host] || { });\n\t            merge(changes[host], values);\n\t            refresh({\n\t                content: last.content,\n\t                overlay: $.extend({ }, last.overlay, changes)\n\t            }, true);\n\t        };\n\t\n\t        Object.defineProperty(self, \"list\", {\n\t            enumerable: true,\n\t            get: function get() {\n\t                var key;\n\t                if (!flat) {\n\t                    flat = [];\n\t                    for (key in machines) {\n\t                        if (machines[key].visible)\n\t                            flat.push(machines[key]);\n\t                    }\n\t                    flat.sort(function(m1, m2) {\n\t                        return m1.label.localeCompare(m2.label);\n\t                    });\n\t                }\n\t                return flat;\n\t            }\n\t        });\n\t\n\t        Object.defineProperty(self, \"addresses\", {\n\t            enumerable: true,\n\t            get: function get() {\n\t                return Object.keys(machines);\n\t            }\n\t        });\n\t\n\t        self.lookup = function lookup(address) {\n\t            var parts = self.split_connection_string(address);\n\t            return machines[parts.address || \"localhost\"] || null;\n\t        };\n\t\n\t        self.generate_connection_string = function (user, port, addr) {\n\t            var address = addr;\n\t            if (user)\n\t                address = user + \"@\" + address;\n\t\n\t            if (port)\n\t                address = address + \":\" + port;\n\t\n\t            return address;\n\t        };\n\t\n\t        self.split_connection_string = function(conn_to) {\n\t            var parts = {};\n\t            var user_spot = -1;\n\t            var port_spot = -1;\n\t\n\t            if (conn_to) {\n\t                user_spot = conn_to.lastIndexOf('@');\n\t                port_spot = conn_to.lastIndexOf(':');\n\t            }\n\t\n\t            if (user_spot > 0) {\n\t                parts.user = conn_to.substring(0, user_spot);\n\t                conn_to = conn_to.substring(user_spot+1);\n\t                port_spot = conn_to.lastIndexOf(':');\n\t            }\n\t\n\t            if (port_spot > -1) {\n\t                var port = parseInt(conn_to.substring(port_spot+1), 10);\n\t                if (!isNaN(port)) {\n\t                    parts.port = port;\n\t                    conn_to = conn_to.substring(0, port_spot);\n\t                }\n\t            }\n\t\n\t            parts.address = conn_to;\n\t            return parts;\n\t        };\n\t\n\t        self.close = function close() {\n\t            window.removeEventListener(\"storage\", storage);\n\t        };\n\t    }\n\t\n\t    function Loader(machines, session_only) {\n\t        var self = this;\n\t\n\t        /* Have we loaded from cockpit session */\n\t        var session_loaded = false;\n\t\n\t        /* echo channels to each machine */\n\t        var channels = { };\n\t\n\t        /* hostnamed proxies to each machine, if hostnamed available */\n\t        var proxies = { };\n\t\n\t        /* clients for the bridge D-Bus API */\n\t        var bridge_dbus = { };\n\t\n\t        function process_session_key(key, value) {\n\t            var host, values, machine;\n\t            var parts = key.split(\"/\");\n\t            if (parts[0] == session_prefix &&\n\t                parts.length === 2) {\n\t                    host = parts[1];\n\t                    if (value) {\n\t                        values = JSON.parse(value);\n\t                        machine = machines.lookup(host);\n\t                        if (!machine || !machine.on_disk)\n\t                            machines.overlay(host, values);\n\t                        else if (!machine.visible)\n\t                            machines.change(host, { visible: true });\n\t                        self.connect(host);\n\t                    }\n\t            }\n\t        }\n\t\n\t        function load_from_session_storage() {\n\t            var i;\n\t            session_loaded = true;\n\t            for (i = 0; i < window.sessionStorage.length; i++) {\n\t                var k = window.sessionStorage.key(i);\n\t                process_session_key(k, window.sessionStorage.getItem(k));\n\t            }\n\t        }\n\t\n\t        function process_session_machines(ev) {\n\t            if (ev.storageArea === window.sessionStorage)\n\t                process_session_key(ev.key || \"\", ev.newValue);\n\t        }\n\t        window.addEventListener(\"storage\", process_session_machines);\n\t\n\t        function state(host, value, problem) {\n\t            var values = { state: value, problem: problem };\n\t            if (value == \"connected\") {\n\t                values.restarting = false;\n\t            } else if (problem) {\n\t                values.manifests = null;\n\t                values.checksum = null;\n\t            }\n\t            machines.overlay(host, values);\n\t        }\n\t\n\t        $(machines).on(\"added\", updated);\n\t        $(machines).on(\"updated\", updated);\n\t        $(machines).on(\"removed\", removed);\n\t\n\t        function updated(ev, machine, host, old_conns) {\n\t            if (!machine) {\n\t                machine = machines.lookup(host);\n\t                if (!machine)\n\t                    return;\n\t            }\n\t\n\t            var props = proxies[host];\n\t            if (!props || !props.valid)\n\t                props = { };\n\t\n\t            var overlay = { };\n\t\n\t            if (!machine.color)\n\t                overlay.color = machines.unused_color();\n\t\n\t            var label = props.PrettyHostname || props.StaticHostname;\n\t            if (label && label !== machine.label)\n\t                overlay.label = label;\n\t\n\t            var os = props.OperatingSystemPrettyName;\n\t            if (os && os != machine.os)\n\t                overlay.os = props.OperatingSystemPrettyName;\n\t\n\t            if (!$.isEmptyObject(overlay))\n\t                machines.overlay(host, overlay);\n\t\n\t            /* Don't automatically reconnect failed machines */\n\t            if (machine.visible) {\n\t                if (old_conns && machine.connection_string != old_conns) {\n\t                    cockpit.kill(old_conns);\n\t                    self.disconnect(host);\n\t                    self.connect(host);\n\t                } else if (!machine.problem) {\n\t                    self.connect(host);\n\t                }\n\t            } else {\n\t                self.disconnect(host);\n\t            }\n\t        }\n\t\n\t        function removed(ev, machine, host) {\n\t            self.disconnect(host);\n\t        }\n\t\n\t        self.connect = function connect(host) {\n\t            var machine = machines.lookup(host);\n\t            if (!machine)\n\t                return;\n\t\n\t            var channel = channels[host];\n\t            if (channel)\n\t                return;\n\t\n\t            var options = {\n\t                host: machine.connection_string,\n\t                payload: \"echo\"\n\t            };\n\t\n\t            if (!machine.on_disk && machine.host_key) {\n\t                options['temp-session'] = false; /* Compatibility option */\n\t                options['session'] = 'shared';\n\t                options['host-key'] = machine.host_key;\n\t            }\n\t\n\t            channel = cockpit.channel(options);\n\t            channels[host] = channel;\n\t\n\t            var local = host === \"localhost\";\n\t\n\t            /* Request is null, and message is true when connected */\n\t            var request = null;\n\t            var open = local;\n\t            var problem = null;\n\t\n\t            var url;\n\t            if (!machine.manifests) {\n\t                if (machine.checksum)\n\t                    url = \"../../\" + machine.checksum + \"/manifests.json\";\n\t                else\n\t                    url = \"../../@\" + encodeURI(machine.connection_string) + \"/manifests.json\";\n\t            }\n\t\n\t            function whirl() {\n\t                if (!request && open)\n\t                    state(host, \"connected\", null);\n\t                else if (!problem)\n\t                    state(host, \"connecting\", null);\n\t            }\n\t\n\t            /* Here we load the machine manifests, and expect them before going to \"connected\" */\n\t            function request_manifest() {\n\t                request = $.ajax({ url: url, dataType: \"json\", cache: true})\n\t                    .done(function(manifests) {\n\t                        var overlay = { manifests: manifests };\n\t                        var etag = request.getResponseHeader(\"ETag\");\n\t                        if (etag) /* and remove quotes */\n\t                            overlay.checksum = etag.replace(/^\"(.+)\"$/, '$1');\n\t                        machines.overlay(host, overlay);\n\t                    })\n\t                    .fail(function(ex) {\n\t                        console.warn(\"failed to load manifests from \" + machine.connection_string + \": \" + ex);\n\t                    })\n\t                    .always(function() {\n\t                        request = null;\n\t                        whirl();\n\t                    });\n\t            }\n\t\n\t            /* Try to get change notifications via the internal\n\t               /packages D-Bus interface of the bridge.  Not all\n\t               bridges support this API, so we still get the first\n\t               version of the manifests via HTTP in request_manifest.\n\t            */\n\t\n\t            function watch_manifests() {\n\t                var dbus = cockpit.dbus(null, { bus: \"internal\",\n\t                                                host: machine.connection_string\n\t                                              });\n\t                bridge_dbus[host] = dbus;\n\t                dbus.subscribe({ path: \"/packages\",\n\t                                 interface: \"org.freedesktop.DBus.Properties\",\n\t                                 member: \"PropertiesChanged\" },\n\t                               function (path, iface, mamber, args) {\n\t                                   if (args[0] == \"cockpit.Packages\") {\n\t                                       if (args[1][\"Manifests\"]) {\n\t                                           var manifests = JSON.parse(args[1][\"Manifests\"].v);\n\t                                           machines.overlay(host, { manifests: manifests });\n\t                                       }\n\t                                   }\n\t                               });\n\t            }\n\t\n\t            function request_hostname() {\n\t                if (!machine.static_hostname) {\n\t                    var proxy = cockpit.dbus(\"org.freedesktop.hostname1\",\n\t                                             { host: machine.connection_string }).proxy();\n\t                    proxies[host] = proxy;\n\t                    proxy.wait(function() {\n\t                        $(proxy).on(\"changed\", function() {\n\t                            updated(null, null, host);\n\t                        });\n\t                        updated(null, null, host);\n\t                    });\n\t                }\n\t            }\n\t\n\t            /* Send a message to the server and get back a message once connected */\n\t            if (!local) {\n\t                channel.send(\"x\");\n\t\n\t                $(channel)\n\t                    .on(\"message\", function() {\n\t                        open = true;\n\t                        if (url)\n\t                            request_manifest();\n\t                        watch_manifests();\n\t                        request_hostname();\n\t                        whirl();\n\t                    })\n\t                .on(\"close\", function(ev, options) {\n\t                    var m = machines.lookup(host);\n\t                    open = false;\n\t                    // reset to clean state when removing machine (orderly disconnect), otherwise mark as failed\n\t                    if (!options.problem && m && !m.visible)\n\t                        state(host, null, null);\n\t                    else\n\t                        state(host, \"failed\", options.problem || \"disconnected\");\n\t                    if (m && m.restarting) {\n\t                        window.setTimeout(function() {\n\t                            self.connect(host);\n\t                        }, 10000);\n\t                    }\n\t                    self.disconnect(host);\n\t                });\n\t            } else {\n\t                if (url)\n\t                    request_manifest();\n\t                watch_manifests();\n\t                request_hostname();\n\t            }\n\t\n\t            /* In case already ready, for example when local */\n\t            whirl();\n\t        };\n\t\n\t        self.disconnect = function disconnect(host) {\n\t            if (host === \"localhost\")\n\t                return;\n\t\n\t            var channel = channels[host];\n\t            delete channels[host];\n\t            if (channel) {\n\t                channel.close();\n\t                $(channel).off();\n\t            }\n\t\n\t            var proxy = proxies[host];\n\t            delete proxies[host];\n\t            if (proxy) {\n\t                proxy.client.close();\n\t                $(proxy).off();\n\t            }\n\t\n\t            var dbus = bridge_dbus[host];\n\t            delete bridge_dbus[host];\n\t            if (dbus) {\n\t                dbus.close();\n\t            }\n\t        };\n\t\n\t        self.expect_restart = function expect_restart(host) {\n\t            var parts = machines.split_connection_string(host);\n\t            machines.overlay(parts.address, { restarting: true,\n\t                                              problem: null });\n\t        };\n\t\n\t        self.close = function close() {\n\t            $(machines).off(\"added\", updated);\n\t            $(machines).off(\"changed\", updated);\n\t            $(machines).off(\"removed\", removed);\n\t            machines = null;\n\t\n\t            window.removeEventListener(\"storage\", process_session_machines);\n\t            var hosts = Object.keys(channels);\n\t            hosts.forEach(self.disconnect);\n\t        };\n\t\n\t        if (!session_only) {\n\t            var proxy = cockpit.dbus(null, { bus: \"internal\" }).proxy(\"cockpit.Machines\", \"/machines\");\n\t            $(proxy).on(\"changed\", function(data) {\n\t                // unwrap variants from D-Bus call\n\t                var wrapped = proxy.Machines;\n\t                var data_unwrap = {};\n\t                var host_props;\n\t                for (var host in wrapped) {\n\t                    host_props = {};\n\t                    for (var prop in wrapped[host])\n\t                        host_props[prop] = wrapped[host][prop].v;\n\t                    data_unwrap[host] = host_props;\n\t                }\n\t\n\t                machines.data(data_unwrap);\n\t                if (!session_loaded)\n\t                    load_from_session_storage();\n\t            });\n\t        } else {\n\t            load_from_session_storage();\n\t            machines.data({});\n\t        }\n\t    }\n\t\n\t    mod.instance = function instance(loader) {\n\t        return new Machines();\n\t    };\n\t\n\t    mod.loader = function loader(machines, session_only) {\n\t        return new Loader(machines, session_only);\n\t    };\n\t\n\t    mod.colors = [\n\t        \"#0099d3\",\n\t        \"#67d300\",\n\t        \"#d39e00\",\n\t        \"#d3007c\",\n\t        \"#00d39f\",\n\t        \"#00d1d3\",\n\t        \"#00618a\",\n\t        \"#4c8a00\",\n\t        \"#8a6600\",\n\t        \"#9b005b\",\n\t        \"#008a55\",\n\t        \"#008a8a\",\n\t        \"#00b9ff\",\n\t        \"#7dff00\",\n\t        \"#ffbe00\",\n\t        \"#ff0096\",\n\t        \"#00ffc0\",\n\t        \"#00fdff\",\n\t        \"#023448\",\n\t        \"#264802\",\n\t        \"#483602\",\n\t        \"#590034\",\n\t        \"#024830\",\n\t        \"#024848\"\n\t    ];\n\t\n\t    mod.colors.parse = function parse_color(input) {\n\t        var div = document.createElement('div');\n\t        div.style.color = input;\n\t        var style = window.getComputedStyle(div, null);\n\t        return style.getPropertyValue(\"color\") || div.style.color;\n\t    };\n\t\n\t    mod.known_hosts_path = known_hosts_path;\n\t\n\t    cockpit.transport.wait(function() {\n\t        var caps = cockpit.transport.options.capabilities || [];\n\t        /* If cockpit-ws is handling ssh, check for each capability. Otherwise\n\t         * the version is new enough that is has them all */\n\t        if ($.inArray(\"ssh\", caps) > -1) {\n\t            mod.allow_connection_string = $.inArray(\"connection-string\", caps) != -1;\n\t            mod.has_auth_results = $.inArray(\"auth-method-results\", caps) != -1;\n\t            known_hosts_path = \"/var/lib/cockpit/known_hosts\";\n\t            mod.known_hosts_path = known_hosts_path;\n\t            console.debug(\"Running against legacy ws with ssh, using legacy file\", known_hosts_path);\n\t        } else {\n\t            mod.allow_connection_string = true;\n\t            mod.has_auth_results = true;\n\t        }\n\t    });\n\t\n\t    module.exports = mod;\n\t}());\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = cockpit;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var sshFile = __webpack_require__(15);\n\t    var credentials = __webpack_require__(20);\n\t    var $ = __webpack_require__(12);\n\t\n\t    __webpack_require__(24);\n\t    __webpack_require__(25);\n\t\n\t    function setup() {\n\t        var keys;\n\t\n\t        function hide_add_key() {\n\t            $(\"tbody.ssh-add-key-body\").attr(\"data-name\", \"\");\n\t            $(\"tbody.ssh-add-key-body\").toggleClass(\"unlock\", false);\n\t            $(\"#credentials-dialog tr.load-custom-key\").toggleClass(\"hidden\", true);\n\t            $(\"#credentials-dialog tr.load-custom-key td\").toggleClass(\"has-error\", false);\n\t            sshFile.remove(document.getElementById('ssh-file-container'));\n\t        }\n\t\n\t        function show_pending(val) {\n\t            var body = $(\"tbody.ssh-add-key-body\");\n\t            body.attr(\"data-name\", val);\n\t            body.find(\"th.credential-label\").text(val);\n\t            body.addClass(\"unlock\");\n\t            body.find(\".alert\").hide();\n\t        }\n\t\n\t        function add_custom_key() {\n\t            var tr = $(\"#credentials-dialog tr.load-custom-key\");\n\t            var val =  tr.find(\"input\").val();\n\t            keys.load(val)\n\t                .done(function () {\n\t                    hide_add_key();\n\t                })\n\t                .fail(function(ex) {\n\t                    if (!ex.sent_password) {\n\t                        tr.find(\"td\").toggleClass(\"has-error\", true);\n\t                        tr.find(\"td div.dialog-error\").text(ex.message);\n\t                    } else {\n\t                        hide_add_key();\n\t                        show_pending(val);\n\t                    }\n\t                });\n\t        }\n\t\n\t        $(\"#credentials-dialog\")\n\t\n\t            /* Show and hide panels */\n\t            .on(\"click\", \"#credential-keys a\", function(ev) {\n\t                hide_add_key();\n\t                sshFile.render(document.getElementById('ssh-file-container'));\n\t                $(\"#credentials-dialog tr.load-custom-key\").toggleClass(\"hidden\", false);\n\t                $(\"#credentials-dialog tr.load-custom-key input\").focus();\n\t                ev.preventDefault();\n\t                ev.stopPropagation();\n\t            })\n\t\n\t            .on(\"click\", \"tr.load-custom-key button\", function(ev) {\n\t                add_custom_key();\n\t                ev.preventDefault();\n\t                ev.stopPropagation();\n\t            })\n\t\n\t            .on(\"keypress\", \"tr.load-custom-key button\", function(ev) {\n\t                 if (ev.which == 13)\n\t                    add_custom_key();\n\t            })\n\t\n\t            .on(\"keypress\", \"tr.load-custom-key input\", function(ev) {\n\t                 if (ev.which == 13) {\n\t                    $(\"#credentials-dialog tr.load-custom-key button\").focus();\n\t                    add_custom_key();\n\t                 }\n\t            })\n\t\n\t            /* Show and hide panels */\n\t            .on(\"click\", \"tr.listing-ct-item\", function(ev) {\n\t                var body;\n\t                hide_add_key();\n\t                if ($(ev.target).parents(\".listing-ct-actions, ul\").length === 0) {\n\t                    body = $(ev.target).parents(\"tbody\");\n\t                    body.toggleClass(\"open\").removeClass(\"unlock\");\n\t                    body.find(\".alert\").hide();\n\t                    ev.preventDefault();\n\t                    ev.stopPropagation();\n\t                }\n\t            })\n\t\n\t            /* Highlighting */\n\t            .on(\"mouseenter\", \".listing-ct-item\", function(ev) {\n\t                $(ev.target).parents(\"tbody\").find(\".listing-ct-item\").addClass(\"highlight-ct\");\n\t            })\n\t            .on(\"mouseleave\", \".listing-ct-item\", function(ev) {\n\t                $(ev.target).parents(\"tbody\").find(\".listing-ct-item\").removeClass(\"highlight-ct\");\n\t            })\n\t\n\t            /* Load and unload keys */\n\t            .on(\"change\", \".btn-group\", function(ev) {\n\t                var body = $(this).parents(\"tbody\");\n\t                var id = body.attr(\"data-id\");\n\t                var key = keys.items[id];\n\t                if (!key || !key.name)\n\t                    return;\n\t\n\t                hide_add_key();\n\t                var value = $(this).onoff(\"value\");\n\t                body.find(\".alert\").hide();\n\t\n\t                /* Key needs to be loaded, show load UI */\n\t                if (value && !key.loaded) {\n\t                    body.addClass(\"open\").addClass(\"unlock\");\n\t\n\t                /* Key needs to be unloaded, do that directly */\n\t                } else if (!value && key.loaded) {\n\t                    keys.unload(key)\n\t                        .done(function(ex) {\n\t                            body.removeClass(\"open\");\n\t                        })\n\t                        .fail(function(ex) {\n\t                            console.log(ex);\n\t                            body.addClass(\"open\").removeClass(\"unlock\");\n\t                            body.find(\".alert\").show().find(\".credential-alert\").text(ex.message);\n\t                        });\n\t                }\n\t            })\n\t\n\t            /* Load key */\n\t            .on(\"click\", \".credential-unlock button\", function(ev) {\n\t                var body = $(this).parents(\"tbody\");\n\t                var id = body.attr(\"data-id\");\n\t                var key = keys.items[id];\n\t                var name;\n\t\n\t                if (key)\n\t                    name = key.name;\n\t                if (body.hasClass(\"ssh-add-key-body\"))\n\t                    name = body.attr(\"data-name\");\n\t\n\t                if (!name)\n\t                    return;\n\t\n\t                body.find(\"input button\").prop(\"disabled\", true);\n\t                body.find(\".alert\").hide();\n\t\n\t                var password = body.find(\".credential-password\").val();\n\t                keys.load(name, password)\n\t                    .always(function(ex) {\n\t                        body.find(\"input button\").prop(\"disabled\", false);\n\t                    })\n\t                    .done(function(ex) {\n\t                        body.find(\".credential-password\").val(\"\");\n\t                        body.removeClass(\"unlock\");\n\t                        hide_add_key();\n\t                        body.find(\".alert\").hide();\n\t                    })\n\t                    .fail(function(ex) {\n\t                        body.find(\".alert\").show().find(\"span\").text(ex.message);\n\t                        console.warn(\"loading key failed: \", ex.message);\n\t                    });\n\t                ev.preventDefault();\n\t                ev.stopPropagation();\n\t            })\n\t\n\t            /* Change key */\n\t            .on(\"click\", \".credential-change\", function(ev) {\n\t                var body = $(this).parents(\"tbody\");\n\t                var id = body.attr(\"data-id\");\n\t                var key = keys.items[id];\n\t                if (!key || !key.name)\n\t                    return;\n\t\n\t                hide_add_key();\n\t\n\t                body.find(\"input button\").prop(\"disabled\", true);\n\t                body.find(\".alert\").hide();\n\t\n\t                var old_pass = body.find(\".credential-old\").val();\n\t                var new_pass = body.find(\".credential-new\").val();\n\t                var two_pass = body.find(\".credential-two\").val();\n\t                if (old_pass === undefined || new_pass === undefined || two_pass === undefined)\n\t                    throw \"invalid password fields\";\n\t\n\t                keys.change(key.name, old_pass, new_pass, two_pass)\n\t                    .always(function(ex) {\n\t                        body.find(\"input button\").prop(\"disabled\", false);\n\t                    })\n\t                    .done(function() {\n\t                        body.find(\".credential-old\").val(\"\");\n\t                        body.find(\".credential-new\").val(\"\");\n\t                        body.find(\".credential-two\").val(\"\");\n\t                        body.find(\"li a\").first().click();\n\t                    })\n\t                    .fail(function(ex) {\n\t                        body.find(\".alert\").show().find(\"span\").text(ex.message);\n\t                    });\n\t                ev.preventDefault();\n\t                ev.stopPropagation();\n\t            })\n\t\n\t            .on(\"change keypress\", \"input\", function(ev) {\n\t                var body = $(this).parents(\"tbody\");\n\t                if (ev.type == \"keypress\" && ev.keyCode == 13)\n\t                    $(this).parents(\"dl\").find(\".btn-primary\").click();\n\t                body.find(\".alert\").hide();\n\t            })\n\t\n\t            /* Change tabs */\n\t            .on(\"click\", \"tr.credential-panel ul > li > a\", function(ev) {\n\t                var li = $(this).parent();\n\t                var index = li.index();\n\t                li.parent().children().removeClass(\"active\");\n\t                li.addClass(\"active\");\n\t                var body = $(this).parents(\"tbody\");\n\t                body.find(\".credential-tab\").hide().eq(index).show();\n\t                body.find(\".alert\").hide();\n\t                ev.preventDefault();\n\t                ev.stopPropagation();\n\t            })\n\t\n\t            /* Popover help */\n\t            .on(\"click\", \"[data-toggle='popover']\", function() {\n\t                $(this).popover('toggle');\n\t            })\n\t\n\t            /* Dialog is hidden */\n\t            .on(\"hide.bs.modal\", function() {\n\t                if (keys) {\n\t                    $(keys).off();\n\t                    keys.close();\n\t                    keys = null;\n\t                }\n\t                hide_add_key();\n\t            })\n\t\n\t            /* Dialog is shown */\n\t            .on(\"show.bs.modal\", function() {\n\t                keys = credentials.keys_instance();\n\t\n\t                $(keys).on(\"changed\", function() {\n\t                    var key, id, row, rows = { };\n\t                    var table = $(\"#credentials-dialog table.credential-listing\");\n\t\n\t                    table.find(\"tbody[data-id]\").each(function(i, el) {\n\t                        row = $(el);\n\t                        rows[row.attr(\"data-id\")] = row;\n\t                    });\n\t\n\t                    var body = table.find(\"tbody.ssh-key-body\").first();\n\t                    for (id in keys.items) {\n\t                        if (!(id in rows)) {\n\t                            row = rows[id] = body.clone();\n\t                            row.attr(\"data-id\", id)\n\t                                .show()\n\t                                .onoff();\n\t                            table.append(row);\n\t                        }\n\t                    }\n\t\n\t                    function text(row, field, string) {\n\t                        var sel = row.find(field);\n\t                        string = string || \"\";\n\t                        if (sel.text() !== string)\n\t                            sel.text(string);\n\t                    }\n\t\n\t                    for (id in rows) {\n\t                        row = rows[id];\n\t                        key = keys.items[id];\n\t                        if (key) {\n\t                            text(row, \".credential-label\", key.name || key.comment);\n\t                            text(row, \".credential-type\", key.type);\n\t                            text(row, \".credential-fingerprint\", key.fingerprint);\n\t                            text(row, \".credential-comment\", key.comment);\n\t                            text(row, \".credential-data\", key.data);\n\t                            row.attr(\"data-name\", key.name)\n\t                                .attr(\"data-loaded\", key.loaded ? \"1\" : \"0\")\n\t                                .find(\".btn-onoff-ct\")\n\t                                    .onoff(\"value\", key.loaded || row.hasClass(\"unlock\"))\n\t                                    .onoff(\"disabled\", !key.name);\n\t                        } else if (id !== \"adding\") {\n\t                            row.remove();\n\t                        }\n\t                    }\n\t                });\n\t            });\n\t    }\n\t\n\t    module.exports = {\n\t        setup: setup\n\t    };\n\t}());\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar React = __webpack_require__(16);\n\t\n\tvar FileAutoComplete = __webpack_require__(17).FileAutoComplete;\n\t\n\tvar render = function render(rootElement) {\n\t    React.render(React.createElement(FileAutoComplete, null), rootElement);\n\t};\n\t\n\tvar remove = function remove(rootElement) {\n\t    React.unmountComponentAtNode(rootElement);\n\t};\n\t\n\tmodule.exports = {\n\t    render: render,\n\t    remove: remove\n\t};\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * react-lite.js v0.15.39\n\t * (c) 2017 Jade Gu\n\t * Released under the MIT License.\n\t */\n\t(function (global, factory) {\n\t   true ? module.exports = factory() :\n\t  typeof define === 'function' && define.amd ? define(factory) :\n\t  global.React = factory();\n\t}(this, function () { 'use strict';\n\t\n\t  var HTML_KEY = 'dangerouslySetInnerHTML';\n\t  var SVGNamespaceURI = 'http://www.w3.org/2000/svg';\n\t  var COMPONENT_ID = 'liteid';\n\t  var VELEMENT = 2;\n\t  var VSTATELESS = 3;\n\t  var VCOMPONENT = 4;\n\t  var VCOMMENT = 5;\n\t  var ELEMENT_NODE_TYPE = 1;\n\t  var DOC_NODE_TYPE = 9;\n\t  var DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\t\n\t  /**\r\n\t   * current stateful component's refs property\r\n\t   * will attach to every vnode created by calling component.render method\r\n\t   */\n\t  var refs = null;\n\t\n\t  function createVnode(vtype, type, props, key, ref) {\n\t      var vnode = {\n\t          vtype: vtype,\n\t          type: type,\n\t          props: props,\n\t          refs: refs,\n\t          key: key,\n\t          ref: ref\n\t      };\n\t      if (vtype === VSTATELESS || vtype === VCOMPONENT) {\n\t          vnode.uid = getUid();\n\t      }\n\t      return vnode;\n\t  }\n\t\n\t  function initVnode(vnode, parentContext, namespaceURI) {\n\t      var vtype = vnode.vtype;\n\t\n\t      var node = null;\n\t      if (!vtype) {\n\t          // init text\n\t          node = document.createTextNode(vnode);\n\t      } else if (vtype === VELEMENT) {\n\t          // init element\n\t          node = initVelem(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VCOMPONENT) {\n\t          // init stateful component\n\t          node = initVcomponent(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VSTATELESS) {\n\t          // init stateless component\n\t          node = initVstateless(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VCOMMENT) {\n\t          // init comment\n\t          node = document.createComment('react-text: ' + (vnode.uid || getUid()));\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function updateVnode(vnode, newVnode, node, parentContext) {\n\t      var vtype = vnode.vtype;\n\t\n\t      if (vtype === VCOMPONENT) {\n\t          return updateVcomponent(vnode, newVnode, node, parentContext);\n\t      }\n\t\n\t      if (vtype === VSTATELESS) {\n\t          return updateVstateless(vnode, newVnode, node, parentContext);\n\t      }\n\t\n\t      // ignore VCOMMENT and other vtypes\n\t      if (vtype !== VELEMENT) {\n\t          return node;\n\t      }\n\t\n\t      var oldHtml = vnode.props[HTML_KEY] && vnode.props[HTML_KEY].__html;\n\t      if (oldHtml != null) {\n\t          updateVelem(vnode, newVnode, node, parentContext);\n\t          initVchildren(newVnode, node, parentContext);\n\t      } else {\n\t          updateVChildren(vnode, newVnode, node, parentContext);\n\t          updateVelem(vnode, newVnode, node, parentContext);\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function updateVChildren(vnode, newVnode, node, parentContext) {\n\t      var patches = {\n\t          removes: [],\n\t          updates: [],\n\t          creates: []\n\t      };\n\t      diffVchildren(patches, vnode, newVnode, node, parentContext);\n\t      flatEach(patches.removes, applyDestroy);\n\t      flatEach(patches.updates, applyUpdate);\n\t      flatEach(patches.creates, applyCreate);\n\t  }\n\t\n\t  function applyUpdate(data) {\n\t      if (!data) {\n\t          return;\n\t      }\n\t      var vnode = data.vnode;\n\t      var newNode = data.node;\n\t\n\t      // update\n\t      if (!data.shouldIgnore) {\n\t          if (!vnode.vtype) {\n\t              newNode.replaceData(0, newNode.length, data.newVnode);\n\t          } else if (vnode.vtype === VELEMENT) {\n\t              updateVelem(vnode, data.newVnode, newNode, data.parentContext);\n\t          } else if (vnode.vtype === VSTATELESS) {\n\t              newNode = updateVstateless(vnode, data.newVnode, newNode, data.parentContext);\n\t          } else if (vnode.vtype === VCOMPONENT) {\n\t              newNode = updateVcomponent(vnode, data.newVnode, newNode, data.parentContext);\n\t          }\n\t      }\n\t\n\t      // re-order\n\t      var currentNode = newNode.parentNode.childNodes[data.index];\n\t      if (currentNode !== newNode) {\n\t          newNode.parentNode.insertBefore(newNode, currentNode);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function applyDestroy(data) {\n\t      destroyVnode(data.vnode, data.node);\n\t      data.node.parentNode.removeChild(data.node);\n\t  }\n\t\n\t  function applyCreate(data) {\n\t      var node = initVnode(data.vnode, data.parentContext, data.parentNode.namespaceURI);\n\t      data.parentNode.insertBefore(node, data.parentNode.childNodes[data.index]);\n\t  }\n\t\n\t  /**\r\n\t   * Only vnode which has props.children need to call destroy function\r\n\t   * to check whether subTree has component that need to call lify-cycle method and release cache.\r\n\t   */\n\t\n\t  function destroyVnode(vnode, node) {\n\t      var vtype = vnode.vtype;\n\t\n\t      if (vtype === VELEMENT) {\n\t          // destroy element\n\t          destroyVelem(vnode, node);\n\t      } else if (vtype === VCOMPONENT) {\n\t          // destroy state component\n\t          destroyVcomponent(vnode, node);\n\t      } else if (vtype === VSTATELESS) {\n\t          // destroy stateless component\n\t          destroyVstateless(vnode, node);\n\t      }\n\t  }\n\t\n\t  function initVelem(velem, parentContext, namespaceURI) {\n\t      var type = velem.type;\n\t      var props = velem.props;\n\t\n\t      var node = null;\n\t\n\t      if (type === 'svg' || namespaceURI === SVGNamespaceURI) {\n\t          node = document.createElementNS(SVGNamespaceURI, type);\n\t          namespaceURI = SVGNamespaceURI;\n\t      } else {\n\t          node = document.createElement(type);\n\t      }\n\t\n\t      initVchildren(velem, node, parentContext);\n\t\n\t      var isCustomComponent = type.indexOf('-') >= 0 || props.is != null;\n\t      setProps(node, props, isCustomComponent);\n\t\n\t      if (velem.ref != null) {\n\t          addItem(pendingRefs, velem);\n\t          addItem(pendingRefs, node);\n\t      }\n\t\n\t      return node;\n\t  }\n\t\n\t  function initVchildren(velem, node, parentContext) {\n\t      var vchildren = node.vchildren = getFlattenChildren(velem);\n\t      var namespaceURI = node.namespaceURI;\n\t      for (var i = 0, len = vchildren.length; i < len; i++) {\n\t          node.appendChild(initVnode(vchildren[i], parentContext, namespaceURI));\n\t      }\n\t  }\n\t\n\t  function getFlattenChildren(vnode) {\n\t      var children = vnode.props.children;\n\t\n\t      var vchildren = [];\n\t      if (isArr(children)) {\n\t          flatEach(children, collectChild, vchildren);\n\t      } else {\n\t          collectChild(children, vchildren);\n\t      }\n\t      return vchildren;\n\t  }\n\t\n\t  function collectChild(child, children) {\n\t      if (child != null && typeof child !== 'boolean') {\n\t          if (!child.vtype) {\n\t              // convert immutablejs data\n\t              if (child.toJS) {\n\t                  child = child.toJS();\n\t                  if (isArr(child)) {\n\t                      flatEach(child, collectChild, children);\n\t                  } else {\n\t                      collectChild(child, children);\n\t                  }\n\t                  return;\n\t              }\n\t              child = '' + child;\n\t          }\n\t          children[children.length] = child;\n\t      }\n\t  }\n\t\n\t  function diffVchildren(patches, vnode, newVnode, node, parentContext) {\n\t      if (!node.vchildren) return; // react-lite hasn't seen this DOM node before\n\t\n\t      var childNodes = node.childNodes;\n\t      var vchildren = node.vchildren;\n\t\n\t      var newVchildren = node.vchildren = getFlattenChildren(newVnode);\n\t      var vchildrenLen = vchildren.length;\n\t      var newVchildrenLen = newVchildren.length;\n\t\n\t      if (vchildrenLen === 0) {\n\t          if (newVchildrenLen > 0) {\n\t              for (var i = 0; i < newVchildrenLen; i++) {\n\t                  addItem(patches.creates, {\n\t                      vnode: newVchildren[i],\n\t                      parentNode: node,\n\t                      parentContext: parentContext,\n\t                      index: i\n\t                  });\n\t              }\n\t          }\n\t          return;\n\t      } else if (newVchildrenLen === 0) {\n\t          for (var i = 0; i < vchildrenLen; i++) {\n\t              addItem(patches.removes, {\n\t                  vnode: vchildren[i],\n\t                  node: childNodes[i]\n\t              });\n\t          }\n\t          return;\n\t      }\n\t\n\t      var updates = Array(newVchildrenLen);\n\t      var removes = null;\n\t      var creates = null;\n\t\n\t      // isEqual\n\t      for (var i = 0; i < vchildrenLen; i++) {\n\t          var _vnode = vchildren[i];\n\t          for (var j = 0; j < newVchildrenLen; j++) {\n\t              if (updates[j]) {\n\t                  continue;\n\t              }\n\t              var _newVnode = newVchildren[j];\n\t              if (_vnode === _newVnode) {\n\t                  updates[j] = {\n\t                      shouldIgnore: shouldIgnoreUpdate(node),\n\t                      vnode: _vnode,\n\t                      newVnode: _newVnode,\n\t                      node: childNodes[i],\n\t                      parentContext: parentContext,\n\t                      index: j\n\t                  };\n\t                  vchildren[i] = null;\n\t                  break;\n\t              }\n\t          }\n\t      }\n\t\n\t      // isSimilar\n\t      for (var i = 0; i < vchildrenLen; i++) {\n\t          var _vnode2 = vchildren[i];\n\t          if (_vnode2 === null) {\n\t              continue;\n\t          }\n\t          var shouldRemove = true;\n\t          for (var j = 0; j < newVchildrenLen; j++) {\n\t              if (updates[j]) {\n\t                  continue;\n\t              }\n\t              var _newVnode2 = newVchildren[j];\n\t              if (_newVnode2.type === _vnode2.type && _newVnode2.key === _vnode2.key && _newVnode2.refs === _vnode2.refs) {\n\t                  updates[j] = {\n\t                      vnode: _vnode2,\n\t                      newVnode: _newVnode2,\n\t                      node: childNodes[i],\n\t                      parentContext: parentContext,\n\t                      index: j\n\t                  };\n\t                  shouldRemove = false;\n\t                  break;\n\t              }\n\t          }\n\t          if (shouldRemove) {\n\t              if (!removes) {\n\t                  removes = [];\n\t              }\n\t              addItem(removes, {\n\t                  vnode: _vnode2,\n\t                  node: childNodes[i]\n\t              });\n\t          }\n\t      }\n\t\n\t      for (var i = 0; i < newVchildrenLen; i++) {\n\t          var item = updates[i];\n\t          if (!item) {\n\t              if (!creates) {\n\t                  creates = [];\n\t              }\n\t              addItem(creates, {\n\t                  vnode: newVchildren[i],\n\t                  parentNode: node,\n\t                  parentContext: parentContext,\n\t                  index: i\n\t              });\n\t          } else if (item.vnode.vtype === VELEMENT) {\n\t              diffVchildren(patches, item.vnode, item.newVnode, item.node, item.parentContext);\n\t          }\n\t      }\n\t\n\t      if (removes) {\n\t          addItem(patches.removes, removes);\n\t      }\n\t      if (creates) {\n\t          addItem(patches.creates, creates);\n\t      }\n\t      addItem(patches.updates, updates);\n\t  }\n\t\n\t  function updateVelem(velem, newVelem, node) {\n\t      var isCustomComponent = velem.type.indexOf('-') >= 0 || velem.props.is != null;\n\t      patchProps(node, velem.props, newVelem.props, isCustomComponent);\n\t      if (velem.ref !== newVelem.ref) {\n\t          detachRef(velem.refs, velem.ref, node);\n\t          attachRef(newVelem.refs, newVelem.ref, node);\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function destroyVelem(velem, node) {\n\t      var props = velem.props;\n\t      var vchildren = node.vchildren;\n\t      var childNodes = node.childNodes;\n\t\n\t      if (vchildren) {\n\t          for (var i = 0, len = vchildren.length; i < len; i++) {\n\t              destroyVnode(vchildren[i], childNodes[i]);\n\t          }\n\t      }\n\t      detachRef(velem.refs, velem.ref, node);\n\t      node.eventStore = node.vchildren = null;\n\t  }\n\t\n\t  function initVstateless(vstateless, parentContext, namespaceURI) {\n\t      var vnode = renderVstateless(vstateless, parentContext);\n\t      var node = initVnode(vnode, parentContext, namespaceURI);\n\t      node.cache = node.cache || {};\n\t      node.cache[vstateless.uid] = vnode;\n\t      return node;\n\t  }\n\t\n\t  function updateVstateless(vstateless, newVstateless, node, parentContext) {\n\t      var uid = vstateless.uid;\n\t      var vnode = node.cache[uid];\n\t      delete node.cache[uid];\n\t      var newVnode = renderVstateless(newVstateless, parentContext);\n\t      var newNode = compareTwoVnodes(vnode, newVnode, node, parentContext);\n\t      newNode.cache = newNode.cache || {};\n\t      newNode.cache[newVstateless.uid] = newVnode;\n\t      if (newNode !== node) {\n\t          syncCache(newNode.cache, node.cache, newNode);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function destroyVstateless(vstateless, node) {\n\t      var uid = vstateless.uid;\n\t      var vnode = node.cache[uid];\n\t      delete node.cache[uid];\n\t      destroyVnode(vnode, node);\n\t  }\n\t\n\t  function renderVstateless(vstateless, parentContext) {\n\t      var factory = vstateless.type;\n\t      var props = vstateless.props;\n\t\n\t      var componentContext = getContextByTypes(parentContext, factory.contextTypes);\n\t      var vnode = factory(props, componentContext);\n\t      if (vnode && vnode.render) {\n\t          vnode = vnode.render();\n\t      }\n\t      if (vnode === null || vnode === false) {\n\t          vnode = createVnode(VCOMMENT);\n\t      } else if (!vnode || !vnode.vtype) {\n\t          throw new Error('@' + factory.name + '#render:You may have returned undefined, an array or some other invalid object');\n\t      }\n\t      return vnode;\n\t  }\n\t\n\t  function initVcomponent(vcomponent, parentContext, namespaceURI) {\n\t      var Component = vcomponent.type;\n\t      var props = vcomponent.props;\n\t      var uid = vcomponent.uid;\n\t\n\t      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n\t      var component = new Component(props, componentContext);\n\t      var updater = component.$updater;\n\t      var cache = component.$cache;\n\t\n\t      cache.parentContext = parentContext;\n\t      updater.isPending = true;\n\t      component.props = component.props || props;\n\t      component.context = component.context || componentContext;\n\t      if (component.componentWillMount) {\n\t          component.componentWillMount();\n\t          component.state = updater.getState();\n\t      }\n\t      var vnode = renderComponent(component);\n\t      var node = initVnode(vnode, getChildContext(component, parentContext), namespaceURI);\n\t      node.cache = node.cache || {};\n\t      node.cache[uid] = component;\n\t      cache.vnode = vnode;\n\t      cache.node = node;\n\t      cache.isMounted = true;\n\t      addItem(pendingComponents, component);\n\t\n\t      if (vcomponent.ref != null) {\n\t          addItem(pendingRefs, vcomponent);\n\t          addItem(pendingRefs, component);\n\t      }\n\t\n\t      return node;\n\t  }\n\t\n\t  function updateVcomponent(vcomponent, newVcomponent, node, parentContext) {\n\t      var uid = vcomponent.uid;\n\t      var component = node.cache[uid];\n\t      var updater = component.$updater;\n\t      var cache = component.$cache;\n\t      var Component = newVcomponent.type;\n\t      var nextProps = newVcomponent.props;\n\t\n\t      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n\t      delete node.cache[uid];\n\t      node.cache[newVcomponent.uid] = component;\n\t      cache.parentContext = parentContext;\n\t      if (component.componentWillReceiveProps) {\n\t          var needToggleIsPending = !updater.isPending;\n\t          if (needToggleIsPending) updater.isPending = true;\n\t          component.componentWillReceiveProps(nextProps, componentContext);\n\t          if (needToggleIsPending) updater.isPending = false;\n\t      }\n\t\n\t      if (vcomponent.ref !== newVcomponent.ref) {\n\t          detachRef(vcomponent.refs, vcomponent.ref, component);\n\t          attachRef(newVcomponent.refs, newVcomponent.ref, component);\n\t      }\n\t\n\t      updater.emitUpdate(nextProps, componentContext);\n\t\n\t      return cache.node;\n\t  }\n\t\n\t  function destroyVcomponent(vcomponent, node) {\n\t      var uid = vcomponent.uid;\n\t      var component = node.cache[uid];\n\t      var cache = component.$cache;\n\t      delete node.cache[uid];\n\t      detachRef(vcomponent.refs, vcomponent.ref, component);\n\t      component.setState = component.forceUpdate = noop;\n\t      if (component.componentWillUnmount) {\n\t          component.componentWillUnmount();\n\t      }\n\t      destroyVnode(cache.vnode, node);\n\t      delete component.setState;\n\t      cache.isMounted = false;\n\t      cache.node = cache.parentContext = cache.vnode = component.refs = component.context = null;\n\t  }\n\t\n\t  function getContextByTypes(curContext, contextTypes) {\n\t      var context = {};\n\t      if (!contextTypes || !curContext) {\n\t          return context;\n\t      }\n\t      for (var key in contextTypes) {\n\t          if (contextTypes.hasOwnProperty(key)) {\n\t              context[key] = curContext[key];\n\t          }\n\t      }\n\t      return context;\n\t  }\n\t\n\t  function renderComponent(component, parentContext) {\n\t      refs = component.refs;\n\t      var vnode = component.render();\n\t      if (vnode === null || vnode === false) {\n\t          vnode = createVnode(VCOMMENT);\n\t      } else if (!vnode || !vnode.vtype) {\n\t          throw new Error('@' + component.constructor.name + '#render:You may have returned undefined, an array or some other invalid object');\n\t      }\n\t      refs = null;\n\t      return vnode;\n\t  }\n\t\n\t  function getChildContext(component, parentContext) {\n\t      if (component.getChildContext) {\n\t          var curContext = component.getChildContext();\n\t          if (curContext) {\n\t              parentContext = extend(extend({}, parentContext), curContext);\n\t          }\n\t      }\n\t      return parentContext;\n\t  }\n\t\n\t  var pendingComponents = [];\n\t  function clearPendingComponents() {\n\t      var len = pendingComponents.length;\n\t      if (!len) {\n\t          return;\n\t      }\n\t      var components = pendingComponents;\n\t      pendingComponents = [];\n\t      var i = -1;\n\t      while (len--) {\n\t          var component = components[++i];\n\t          var updater = component.$updater;\n\t          if (component.componentDidMount) {\n\t              component.componentDidMount();\n\t          }\n\t          updater.isPending = false;\n\t          updater.emitUpdate();\n\t      }\n\t  }\n\t\n\t  var pendingRefs = [];\n\t  function clearPendingRefs() {\n\t      var len = pendingRefs.length;\n\t      if (!len) {\n\t          return;\n\t      }\n\t      var list = pendingRefs;\n\t      pendingRefs = [];\n\t      for (var i = 0; i < len; i += 2) {\n\t          var vnode = list[i];\n\t          var refValue = list[i + 1];\n\t          attachRef(vnode.refs, vnode.ref, refValue);\n\t      }\n\t  }\n\t\n\t  function clearPending() {\n\t      clearPendingRefs();\n\t      clearPendingComponents();\n\t  }\n\t\n\t  function compareTwoVnodes(vnode, newVnode, node, parentContext) {\n\t      var newNode = node;\n\t      if (newVnode == null) {\n\t          // remove\n\t          destroyVnode(vnode, node);\n\t          node.parentNode.removeChild(node);\n\t      } else if (vnode.type !== newVnode.type || vnode.key !== newVnode.key) {\n\t          // replace\n\t          destroyVnode(vnode, node);\n\t          newNode = initVnode(newVnode, parentContext, node.namespaceURI);\n\t          node.parentNode.replaceChild(newNode, node);\n\t      } else if (vnode !== newVnode || parentContext) {\n\t          // same type and same key -> update\n\t          newNode = updateVnode(vnode, newVnode, node, parentContext);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function getDOMNode() {\n\t      return this;\n\t  }\n\t\n\t  function attachRef(refs, refKey, refValue) {\n\t      if (refKey == null || !refValue) {\n\t          return;\n\t      }\n\t      if (refValue.nodeName && !refValue.getDOMNode) {\n\t          // support react v0.13 style: this.refs.myInput.getDOMNode()\n\t          refValue.getDOMNode = getDOMNode;\n\t      }\n\t      if (isFn(refKey)) {\n\t          refKey(refValue);\n\t      } else if (refs) {\n\t          refs[refKey] = refValue;\n\t      }\n\t  }\n\t\n\t  function detachRef(refs, refKey, refValue) {\n\t      if (refKey == null) {\n\t          return;\n\t      }\n\t      if (isFn(refKey)) {\n\t          refKey(null);\n\t      } else if (refs && refs[refKey] === refValue) {\n\t          delete refs[refKey];\n\t      }\n\t  }\n\t\n\t  function syncCache(cache, oldCache, node) {\n\t      for (var key in oldCache) {\n\t          if (!oldCache.hasOwnProperty(key)) {\n\t              continue;\n\t          }\n\t          var value = oldCache[key];\n\t          cache[key] = value;\n\t\n\t          // is component, update component.$cache.node\n\t          if (value.forceUpdate) {\n\t              value.$cache.node = node;\n\t          }\n\t      }\n\t  }\n\t\n\t  function shouldIgnoreUpdate(node) {\n\t      var vchildren = node.vchildren;\n\t      var children = node.children;\n\t\n\t      if (vchildren) {\n\t          for (var i = 0; i < vchildren.length; i++) {\n\t              var vchild = vchildren[i];\n\t              if (vchild.vtype === VCOMPONENT || vchild.vtype === VSTATELESS) {\n\t                  if (vchild.type.contextTypes) {\n\t                      return false;\n\t                  }\n\t              }\n\t          }\n\t      }\n\t\n\t      if (children) {\n\t          for (var i = 0; i < children.length; i++) {\n\t              if (!shouldIgnoreUpdate(children[i])) {\n\t                  return false;\n\t              }\n\t          }\n\t      }\n\t\n\t      return true;\n\t  }\n\t\n\t  var updateQueue = {\n\t  \tupdaters: [],\n\t  \tisPending: false,\n\t  \tadd: function add(updater) {\n\t  \t\taddItem(this.updaters, updater);\n\t  \t},\n\t  \tbatchUpdate: function batchUpdate() {\n\t  \t\tif (this.isPending) {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tthis.isPending = true;\n\t  \t\t/*\r\n\t     each updater.update may add new updater to updateQueue\r\n\t     clear them with a loop\r\n\t     event bubbles from bottom-level to top-level\r\n\t     reverse the updater order can merge some props and state and reduce the refresh times\r\n\t     see Updater.update method below to know why\r\n\t    */\n\t  \t\tvar updaters = this.updaters;\n\t\n\t  \t\tvar updater = undefined;\n\t  \t\twhile (updater = updaters.pop()) {\n\t  \t\t\tupdater.updateComponent();\n\t  \t\t}\n\t  \t\tthis.isPending = false;\n\t  \t}\n\t  };\n\t\n\t  function Updater(instance) {\n\t  \tthis.instance = instance;\n\t  \tthis.pendingStates = [];\n\t  \tthis.pendingCallbacks = [];\n\t  \tthis.isPending = false;\n\t  \tthis.nextProps = this.nextContext = null;\n\t  \tthis.clearCallbacks = this.clearCallbacks.bind(this);\n\t  }\n\t\n\t  Updater.prototype = {\n\t  \temitUpdate: function emitUpdate(nextProps, nextContext) {\n\t  \t\tthis.nextProps = nextProps;\n\t  \t\tthis.nextContext = nextContext;\n\t  \t\t// receive nextProps!! should update immediately\n\t  \t\tnextProps || !updateQueue.isPending ? this.updateComponent() : updateQueue.add(this);\n\t  \t},\n\t  \tupdateComponent: function updateComponent() {\n\t  \t\tvar instance = this.instance;\n\t  \t\tvar pendingStates = this.pendingStates;\n\t  \t\tvar nextProps = this.nextProps;\n\t  \t\tvar nextContext = this.nextContext;\n\t\n\t  \t\tif (nextProps || pendingStates.length > 0) {\n\t  \t\t\tnextProps = nextProps || instance.props;\n\t  \t\t\tnextContext = nextContext || instance.context;\n\t  \t\t\tthis.nextProps = this.nextContext = null;\n\t  \t\t\t// merge the nextProps and nextState and update by one time\n\t  \t\t\tshouldUpdate(instance, nextProps, this.getState(), nextContext, this.clearCallbacks);\n\t  \t\t}\n\t  \t},\n\t  \taddState: function addState(nextState) {\n\t  \t\tif (nextState) {\n\t  \t\t\taddItem(this.pendingStates, nextState);\n\t  \t\t\tif (!this.isPending) {\n\t  \t\t\t\tthis.emitUpdate();\n\t  \t\t\t}\n\t  \t\t}\n\t  \t},\n\t  \treplaceState: function replaceState(nextState) {\n\t  \t\tvar pendingStates = this.pendingStates;\n\t\n\t  \t\tpendingStates.pop();\n\t  \t\t// push special params to point out should replace state\n\t  \t\taddItem(pendingStates, [nextState]);\n\t  \t},\n\t  \tgetState: function getState() {\n\t  \t\tvar instance = this.instance;\n\t  \t\tvar pendingStates = this.pendingStates;\n\t  \t\tvar state = instance.state;\n\t  \t\tvar props = instance.props;\n\t\n\t  \t\tif (pendingStates.length) {\n\t  \t\t\tstate = extend({}, state);\n\t  \t\t\tpendingStates.forEach(function (nextState) {\n\t  \t\t\t\tvar isReplace = isArr(nextState);\n\t  \t\t\t\tif (isReplace) {\n\t  \t\t\t\t\tnextState = nextState[0];\n\t  \t\t\t\t}\n\t  \t\t\t\tif (isFn(nextState)) {\n\t  \t\t\t\t\tnextState = nextState.call(instance, state, props);\n\t  \t\t\t\t}\n\t  \t\t\t\t// replace state\n\t  \t\t\t\tif (isReplace) {\n\t  \t\t\t\t\tstate = extend({}, nextState);\n\t  \t\t\t\t} else {\n\t  \t\t\t\t\textend(state, nextState);\n\t  \t\t\t\t}\n\t  \t\t\t});\n\t  \t\t\tpendingStates.length = 0;\n\t  \t\t}\n\t  \t\treturn state;\n\t  \t},\n\t  \tclearCallbacks: function clearCallbacks() {\n\t  \t\tvar pendingCallbacks = this.pendingCallbacks;\n\t  \t\tvar instance = this.instance;\n\t\n\t  \t\tif (pendingCallbacks.length > 0) {\n\t  \t\t\tthis.pendingCallbacks = [];\n\t  \t\t\tpendingCallbacks.forEach(function (callback) {\n\t  \t\t\t\treturn callback.call(instance);\n\t  \t\t\t});\n\t  \t\t}\n\t  \t},\n\t  \taddCallback: function addCallback(callback) {\n\t  \t\tif (isFn(callback)) {\n\t  \t\t\taddItem(this.pendingCallbacks, callback);\n\t  \t\t}\n\t  \t}\n\t  };\n\t  function Component(props, context) {\n\t  \tthis.$updater = new Updater(this);\n\t  \tthis.$cache = { isMounted: false };\n\t  \tthis.props = props;\n\t  \tthis.state = {};\n\t  \tthis.refs = {};\n\t  \tthis.context = context;\n\t  }\n\t\n\t  var ReactComponentSymbol = {};\n\t\n\t  Component.prototype = {\n\t  \tconstructor: Component,\n\t  \tisReactComponent: ReactComponentSymbol,\n\t  \t// getChildContext: _.noop,\n\t  \t// componentWillUpdate: _.noop,\n\t  \t// componentDidUpdate: _.noop,\n\t  \t// componentWillReceiveProps: _.noop,\n\t  \t// componentWillMount: _.noop,\n\t  \t// componentDidMount: _.noop,\n\t  \t// componentWillUnmount: _.noop,\n\t  \t// shouldComponentUpdate(nextProps, nextState) {\n\t  \t// \treturn true\n\t  \t// },\n\t  \tforceUpdate: function forceUpdate(callback) {\n\t  \t\tvar $updater = this.$updater;\n\t  \t\tvar $cache = this.$cache;\n\t  \t\tvar props = this.props;\n\t  \t\tvar state = this.state;\n\t  \t\tvar context = this.context;\n\t\n\t  \t\tif (!$cache.isMounted) {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\t// if updater is pending, add state to trigger nexttick update\n\t  \t\tif ($updater.isPending) {\n\t  \t\t\t$updater.addState(state);\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tvar nextProps = $cache.props || props;\n\t  \t\tvar nextState = $cache.state || state;\n\t  \t\tvar nextContext = $cache.context || context;\n\t  \t\tvar parentContext = $cache.parentContext;\n\t  \t\tvar node = $cache.node;\n\t  \t\tvar vnode = $cache.vnode;\n\t  \t\t$cache.props = $cache.state = $cache.context = null;\n\t  \t\t$updater.isPending = true;\n\t  \t\tif (this.componentWillUpdate) {\n\t  \t\t\tthis.componentWillUpdate(nextProps, nextState, nextContext);\n\t  \t\t}\n\t  \t\tthis.state = nextState;\n\t  \t\tthis.props = nextProps;\n\t  \t\tthis.context = nextContext;\n\t  \t\tvar newVnode = renderComponent(this);\n\t  \t\tvar newNode = compareTwoVnodes(vnode, newVnode, node, getChildContext(this, parentContext));\n\t  \t\tif (newNode !== node) {\n\t  \t\t\tnewNode.cache = newNode.cache || {};\n\t  \t\t\tsyncCache(newNode.cache, node.cache, newNode);\n\t  \t\t}\n\t  \t\t$cache.vnode = newVnode;\n\t  \t\t$cache.node = newNode;\n\t  \t\tclearPending();\n\t  \t\tif (this.componentDidUpdate) {\n\t  \t\t\tthis.componentDidUpdate(props, state, context);\n\t  \t\t}\n\t  \t\tif (callback) {\n\t  \t\t\tcallback.call(this);\n\t  \t\t}\n\t  \t\t$updater.isPending = false;\n\t  \t\t$updater.emitUpdate();\n\t  \t},\n\t  \tsetState: function setState(nextState, callback) {\n\t  \t\tvar $updater = this.$updater;\n\t\n\t  \t\t$updater.addCallback(callback);\n\t  \t\t$updater.addState(nextState);\n\t  \t},\n\t  \treplaceState: function replaceState(nextState, callback) {\n\t  \t\tvar $updater = this.$updater;\n\t\n\t  \t\t$updater.addCallback(callback);\n\t  \t\t$updater.replaceState(nextState);\n\t  \t},\n\t  \tgetDOMNode: function getDOMNode() {\n\t  \t\tvar node = this.$cache.node;\n\t  \t\treturn node && node.nodeName === '#comment' ? null : node;\n\t  \t},\n\t  \tisMounted: function isMounted() {\n\t  \t\treturn this.$cache.isMounted;\n\t  \t}\n\t  };\n\t\n\t  function shouldUpdate(component, nextProps, nextState, nextContext, callback) {\n\t  \tvar shouldComponentUpdate = true;\n\t  \tif (component.shouldComponentUpdate) {\n\t  \t\tshouldComponentUpdate = component.shouldComponentUpdate(nextProps, nextState, nextContext);\n\t  \t}\n\t  \tif (shouldComponentUpdate === false) {\n\t  \t\tcomponent.props = nextProps;\n\t  \t\tcomponent.state = nextState;\n\t  \t\tcomponent.context = nextContext || {};\n\t  \t\treturn;\n\t  \t}\n\t  \tvar cache = component.$cache;\n\t  \tcache.props = nextProps;\n\t  \tcache.state = nextState;\n\t  \tcache.context = nextContext || {};\n\t  \tcomponent.forceUpdate(callback);\n\t  }\n\t\n\t  // event config\n\t  var unbubbleEvents = {\n\t      /**\r\n\t       * should not bind mousemove in document scope\r\n\t       * even though mousemove event can bubble\r\n\t       */\n\t      onmousemove: 1,\n\t      ontouchmove: 1,\n\t      onmouseleave: 1,\n\t      onmouseenter: 1,\n\t      onload: 1,\n\t      onunload: 1,\n\t      onscroll: 1,\n\t      onfocus: 1,\n\t      onblur: 1,\n\t      onrowexit: 1,\n\t      onbeforeunload: 1,\n\t      onstop: 1,\n\t      ondragdrop: 1,\n\t      ondragenter: 1,\n\t      ondragexit: 1,\n\t      ondraggesture: 1,\n\t      ondragover: 1,\n\t      oncontextmenu: 1,\n\t      onerror: 1,\n\t\n\t      // media event\n\t      onabort: 1,\n\t      oncanplay: 1,\n\t      oncanplaythrough: 1,\n\t      ondurationchange: 1,\n\t      onemptied: 1,\n\t      onended: 1,\n\t      onloadeddata: 1,\n\t      onloadedmetadata: 1,\n\t      onloadstart: 1,\n\t      onencrypted: 1,\n\t      onpause: 1,\n\t      onplay: 1,\n\t      onplaying: 1,\n\t      onprogress: 1,\n\t      onratechange: 1,\n\t      onseeking: 1,\n\t      onseeked: 1,\n\t      onstalled: 1,\n\t      onsuspend: 1,\n\t      ontimeupdate: 1,\n\t      onvolumechange: 1,\n\t      onwaiting: 1\n\t  };\n\t\n\t  function getEventName(key) {\n\t      if (key === 'onDoubleClick') {\n\t          key = 'ondblclick';\n\t      } else if (key === 'onTouchTap') {\n\t          key = 'onclick';\n\t      }\n\t\n\t      return key.toLowerCase();\n\t  }\n\t\n\t  // Mobile Safari does not fire properly bubble click events on\n\t  // non-interactive elements, which means delegated click listeners do not\n\t  // fire. The workaround for this bug involves attaching an empty click\n\t  // listener on the target node.\n\t  var inMobile = ('ontouchstart' in document);\n\t  var emptyFunction = function emptyFunction() {};\n\t  var ON_CLICK_KEY = 'onclick';\n\t\n\t  var eventTypes = {};\n\t\n\t  function addEvent(elem, eventType, listener) {\n\t      eventType = getEventName(eventType);\n\t\n\t      var eventStore = elem.eventStore || (elem.eventStore = {});\n\t      eventStore[eventType] = listener;\n\t\n\t      if (unbubbleEvents[eventType] === 1) {\n\t          elem[eventType] = dispatchUnbubbleEvent;\n\t          return;\n\t      } else if (!eventTypes[eventType]) {\n\t          // onclick -> click\n\t          document.addEventListener(eventType.substr(2), dispatchEvent, false);\n\t          eventTypes[eventType] = true;\n\t      }\n\t\n\t      if (inMobile && eventType === ON_CLICK_KEY) {\n\t          elem.addEventListener('click', emptyFunction, false);\n\t          return;\n\t      }\n\t\n\t      var nodeName = elem.nodeName;\n\t\n\t      if (eventType === 'onchange' && supportInputEvent(elem)) {\n\t          addEvent(elem, 'oninput', listener);\n\t      }\n\t  }\n\t\n\t  function removeEvent(elem, eventType) {\n\t      eventType = getEventName(eventType);\n\t\n\t      var eventStore = elem.eventStore || (elem.eventStore = {});\n\t      delete eventStore[eventType];\n\t\n\t      if (unbubbleEvents[eventType] === 1) {\n\t          elem[eventType] = null;\n\t          return;\n\t      } else if (inMobile && eventType === ON_CLICK_KEY) {\n\t          elem.removeEventListener('click', emptyFunction, false);\n\t          return;\n\t      }\n\t\n\t      var nodeName = elem.nodeName;\n\t\n\t      if (eventType === 'onchange' && supportInputEvent(elem)) {\n\t          delete eventStore['oninput'];\n\t      }\n\t  }\n\t\n\t  function dispatchEvent(event) {\n\t      var target = event.target;\n\t      var type = event.type;\n\t\n\t      var eventType = 'on' + type;\n\t      var syntheticEvent = undefined;\n\t\n\t      updateQueue.isPending = true;\n\t      while (target) {\n\t          var _target = target;\n\t          var eventStore = _target.eventStore;\n\t\n\t          var listener = eventStore && eventStore[eventType];\n\t          if (!listener) {\n\t              target = target.parentNode;\n\t              continue;\n\t          }\n\t          if (!syntheticEvent) {\n\t              syntheticEvent = createSyntheticEvent(event);\n\t          }\n\t          syntheticEvent.currentTarget = target;\n\t          listener.call(target, syntheticEvent);\n\t          if (syntheticEvent.$cancelBubble) {\n\t              break;\n\t          }\n\t          target = target.parentNode;\n\t      }\n\t      updateQueue.isPending = false;\n\t      updateQueue.batchUpdate();\n\t  }\n\t\n\t  function dispatchUnbubbleEvent(event) {\n\t      var target = event.currentTarget || event.target;\n\t      var eventType = 'on' + event.type;\n\t      var syntheticEvent = createSyntheticEvent(event);\n\t\n\t      syntheticEvent.currentTarget = target;\n\t      updateQueue.isPending = true;\n\t\n\t      var eventStore = target.eventStore;\n\t\n\t      var listener = eventStore && eventStore[eventType];\n\t      if (listener) {\n\t          listener.call(target, syntheticEvent);\n\t      }\n\t\n\t      updateQueue.isPending = false;\n\t      updateQueue.batchUpdate();\n\t  }\n\t\n\t  function createSyntheticEvent(nativeEvent) {\n\t      var syntheticEvent = {};\n\t      var cancelBubble = function cancelBubble() {\n\t          return syntheticEvent.$cancelBubble = true;\n\t      };\n\t      syntheticEvent.nativeEvent = nativeEvent;\n\t      syntheticEvent.persist = noop;\n\t      for (var key in nativeEvent) {\n\t          if (typeof nativeEvent[key] !== 'function') {\n\t              syntheticEvent[key] = nativeEvent[key];\n\t          } else if (key === 'stopPropagation' || key === 'stopImmediatePropagation') {\n\t              syntheticEvent[key] = cancelBubble;\n\t          } else {\n\t              syntheticEvent[key] = nativeEvent[key].bind(nativeEvent);\n\t          }\n\t      }\n\t      return syntheticEvent;\n\t  }\n\t\n\t  function supportInputEvent(elem) {\n\t      var nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n\t      return nodeName !== 'select' && !(nodeName === 'input' && elem.type === 'file');\n\t  }\n\t\n\t  function setStyle(elemStyle, styles) {\n\t      for (var styleName in styles) {\n\t          if (styles.hasOwnProperty(styleName)) {\n\t              setStyleValue(elemStyle, styleName, styles[styleName]);\n\t          }\n\t      }\n\t  }\n\t\n\t  function removeStyle(elemStyle, styles) {\n\t      for (var styleName in styles) {\n\t          if (styles.hasOwnProperty(styleName)) {\n\t              elemStyle[styleName] = '';\n\t          }\n\t      }\n\t  }\n\t\n\t  function patchStyle(elemStyle, style, newStyle) {\n\t      if (style === newStyle) {\n\t          return;\n\t      }\n\t      if (!newStyle && style) {\n\t          removeStyle(elemStyle, style);\n\t          return;\n\t      } else if (newStyle && !style) {\n\t          setStyle(elemStyle, newStyle);\n\t          return;\n\t      }\n\t\n\t      for (var key in style) {\n\t          if (newStyle.hasOwnProperty(key)) {\n\t              if (newStyle[key] !== style[key]) {\n\t                  setStyleValue(elemStyle, key, newStyle[key]);\n\t              }\n\t          } else {\n\t              elemStyle[key] = '';\n\t          }\n\t      }\n\t      for (var key in newStyle) {\n\t          if (!style.hasOwnProperty(key)) {\n\t              setStyleValue(elemStyle, key, newStyle[key]);\n\t          }\n\t      }\n\t  }\n\t\n\t  /**\r\n\t   * CSS properties which accept numbers but are not in units of \"px\".\r\n\t   */\n\t  var isUnitlessNumber = {\n\t      animationIterationCount: 1,\n\t      borderImageOutset: 1,\n\t      borderImageSlice: 1,\n\t      borderImageWidth: 1,\n\t      boxFlex: 1,\n\t      boxFlexGroup: 1,\n\t      boxOrdinalGroup: 1,\n\t      columnCount: 1,\n\t      flex: 1,\n\t      flexGrow: 1,\n\t      flexPositive: 1,\n\t      flexShrink: 1,\n\t      flexNegative: 1,\n\t      flexOrder: 1,\n\t      gridRow: 1,\n\t      gridColumn: 1,\n\t      fontWeight: 1,\n\t      lineClamp: 1,\n\t      lineHeight: 1,\n\t      opacity: 1,\n\t      order: 1,\n\t      orphans: 1,\n\t      tabSize: 1,\n\t      widows: 1,\n\t      zIndex: 1,\n\t      zoom: 1,\n\t\n\t      // SVG-related properties\n\t      fillOpacity: 1,\n\t      floodOpacity: 1,\n\t      stopOpacity: 1,\n\t      strokeDasharray: 1,\n\t      strokeDashoffset: 1,\n\t      strokeMiterlimit: 1,\n\t      strokeOpacity: 1,\n\t      strokeWidth: 1\n\t  };\n\t\n\t  function prefixKey(prefix, key) {\n\t      return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\t  }\n\t\n\t  var prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\t\n\t  Object.keys(isUnitlessNumber).forEach(function (prop) {\n\t      prefixes.forEach(function (prefix) {\n\t          isUnitlessNumber[prefixKey(prefix, prop)] = 1;\n\t      });\n\t  });\n\t\n\t  var RE_NUMBER = /^-?\\d+(\\.\\d+)?$/;\n\t  function setStyleValue(elemStyle, styleName, styleValue) {\n\t\n\t      if (!isUnitlessNumber[styleName] && RE_NUMBER.test(styleValue)) {\n\t          elemStyle[styleName] = styleValue + 'px';\n\t          return;\n\t      }\n\t\n\t      if (styleName === 'float') {\n\t          styleName = 'cssFloat';\n\t      }\n\t\n\t      if (styleValue == null || typeof styleValue === 'boolean') {\n\t          styleValue = '';\n\t      }\n\t\n\t      elemStyle[styleName] = styleValue;\n\t  }\n\t\n\t  var ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n\t  var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\uB7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\t\n\t  var VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\t\n\t  var isCustomAttribute = RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\n\t  // will merge some data in properties below\n\t  var properties = {};\n\t\n\t  /**\r\n\t   * Mapping from normalized, camelcased property names to a configuration that\r\n\t   * specifies how the associated DOM property should be accessed or rendered.\r\n\t   */\n\t  var MUST_USE_PROPERTY = 0x1;\n\t  var HAS_BOOLEAN_VALUE = 0x4;\n\t  var HAS_NUMERIC_VALUE = 0x8;\n\t  var HAS_POSITIVE_NUMERIC_VALUE = 0x10 | 0x8;\n\t  var HAS_OVERLOADED_BOOLEAN_VALUE = 0x20;\n\t\n\t  // html config\n\t  var HTMLDOMPropertyConfig = {\n\t      props: {\n\t          /**\r\n\t           * Standard Properties\r\n\t           */\n\t          accept: 0,\n\t          acceptCharset: 0,\n\t          accessKey: 0,\n\t          action: 0,\n\t          allowFullScreen: HAS_BOOLEAN_VALUE,\n\t          allowTransparency: 0,\n\t          alt: 0,\n\t          async: HAS_BOOLEAN_VALUE,\n\t          autoComplete: 0,\n\t          autoFocus: HAS_BOOLEAN_VALUE,\n\t          autoPlay: HAS_BOOLEAN_VALUE,\n\t          capture: HAS_BOOLEAN_VALUE,\n\t          cellPadding: 0,\n\t          cellSpacing: 0,\n\t          charSet: 0,\n\t          challenge: 0,\n\t          checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          cite: 0,\n\t          classID: 0,\n\t          className: 0,\n\t          cols: HAS_POSITIVE_NUMERIC_VALUE,\n\t          colSpan: 0,\n\t          content: 0,\n\t          contentEditable: 0,\n\t          contextMenu: 0,\n\t          controls: HAS_BOOLEAN_VALUE,\n\t          coords: 0,\n\t          crossOrigin: 0,\n\t          data: 0, // For `<object />` acts as `src`.\n\t          dateTime: 0,\n\t          'default': HAS_BOOLEAN_VALUE,\n\t          // not in regular react, they did it in other way\n\t          defaultValue: MUST_USE_PROPERTY,\n\t          // not in regular react, they did it in other way\n\t          defaultChecked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          defer: HAS_BOOLEAN_VALUE,\n\t          dir: 0,\n\t          disabled: HAS_BOOLEAN_VALUE,\n\t          download: HAS_OVERLOADED_BOOLEAN_VALUE,\n\t          draggable: 0,\n\t          encType: 0,\n\t          form: 0,\n\t          formAction: 0,\n\t          formEncType: 0,\n\t          formMethod: 0,\n\t          formNoValidate: HAS_BOOLEAN_VALUE,\n\t          formTarget: 0,\n\t          frameBorder: 0,\n\t          headers: 0,\n\t          height: 0,\n\t          hidden: HAS_BOOLEAN_VALUE,\n\t          high: 0,\n\t          href: 0,\n\t          hrefLang: 0,\n\t          htmlFor: 0,\n\t          httpEquiv: 0,\n\t          icon: 0,\n\t          id: 0,\n\t          inputMode: 0,\n\t          integrity: 0,\n\t          is: 0,\n\t          keyParams: 0,\n\t          keyType: 0,\n\t          kind: 0,\n\t          label: 0,\n\t          lang: 0,\n\t          list: 0,\n\t          loop: HAS_BOOLEAN_VALUE,\n\t          low: 0,\n\t          manifest: 0,\n\t          marginHeight: 0,\n\t          marginWidth: 0,\n\t          max: 0,\n\t          maxLength: 0,\n\t          media: 0,\n\t          mediaGroup: 0,\n\t          method: 0,\n\t          min: 0,\n\t          minLength: 0,\n\t          // Caution; `option.selected` is not updated if `select.multiple` is\n\t          // disabled with `removeAttribute`.\n\t          multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          name: 0,\n\t          nonce: 0,\n\t          noValidate: HAS_BOOLEAN_VALUE,\n\t          open: HAS_BOOLEAN_VALUE,\n\t          optimum: 0,\n\t          pattern: 0,\n\t          placeholder: 0,\n\t          poster: 0,\n\t          preload: 0,\n\t          profile: 0,\n\t          radioGroup: 0,\n\t          readOnly: HAS_BOOLEAN_VALUE,\n\t          referrerPolicy: 0,\n\t          rel: 0,\n\t          required: HAS_BOOLEAN_VALUE,\n\t          reversed: HAS_BOOLEAN_VALUE,\n\t          role: 0,\n\t          rows: HAS_POSITIVE_NUMERIC_VALUE,\n\t          rowSpan: HAS_NUMERIC_VALUE,\n\t          sandbox: 0,\n\t          scope: 0,\n\t          scoped: HAS_BOOLEAN_VALUE,\n\t          scrolling: 0,\n\t          seamless: HAS_BOOLEAN_VALUE,\n\t          selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          shape: 0,\n\t          size: HAS_POSITIVE_NUMERIC_VALUE,\n\t          sizes: 0,\n\t          span: HAS_POSITIVE_NUMERIC_VALUE,\n\t          spellCheck: 0,\n\t          src: 0,\n\t          srcDoc: 0,\n\t          srcLang: 0,\n\t          srcSet: 0,\n\t          start: HAS_NUMERIC_VALUE,\n\t          step: 0,\n\t          style: 0,\n\t          summary: 0,\n\t          tabIndex: 0,\n\t          target: 0,\n\t          title: 0,\n\t          // Setting .type throws on non-<input> tags\n\t          type: 0,\n\t          useMap: 0,\n\t          value: MUST_USE_PROPERTY,\n\t          width: 0,\n\t          wmode: 0,\n\t          wrap: 0,\n\t\n\t          /**\r\n\t           * RDFa Properties\r\n\t           */\n\t          about: 0,\n\t          datatype: 0,\n\t          inlist: 0,\n\t          prefix: 0,\n\t          // property is also supported for OpenGraph in meta tags.\n\t          property: 0,\n\t          playsInline: HAS_BOOLEAN_VALUE,\n\t          resource: 0,\n\t          'typeof': 0,\n\t          vocab: 0,\n\t\n\t          /**\r\n\t           * Non-standard Properties\r\n\t           */\n\t          // autoCapitalize and autoCorrect are supported in Mobile Safari for\n\t          // keyboard hints.\n\t          autoCapitalize: 0,\n\t          autoCorrect: 0,\n\t          // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n\t          autoSave: 0,\n\t          // color is for Safari mask-icon link\n\t          color: 0,\n\t          // itemProp, itemScope, itemType are for\n\t          // Microdata support. See http://schema.org/docs/gs.html\n\t          itemProp: 0,\n\t          itemScope: HAS_BOOLEAN_VALUE,\n\t          itemType: 0,\n\t          // itemID and itemRef are for Microdata support as well but\n\t          // only specified in the WHATWG spec document. See\n\t          // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n\t          itemID: 0,\n\t          itemRef: 0,\n\t          // results show looking glass icon and recent searches on input\n\t          // search fields in WebKit/Blink\n\t          results: 0,\n\t          // IE-only attribute that specifies security restrictions on an iframe\n\t          // as an alternative to the sandbox attribute on IE<10\n\t          security: 0,\n\t          // IE-only attribute that controls focus behavior\n\t          unselectable: 0\n\t      },\n\t      attrNS: {},\n\t      domAttrs: {\n\t          acceptCharset: 'accept-charset',\n\t          className: 'class',\n\t          htmlFor: 'for',\n\t          httpEquiv: 'http-equiv'\n\t      },\n\t      domProps: {}\n\t  };\n\t\n\t  // svg config\n\t  var xlink = 'http://www.w3.org/1999/xlink';\n\t  var xml = 'http://www.w3.org/XML/1998/namespace';\n\t\n\t  // We use attributes for everything SVG so let's avoid some duplication and run\n\t  // code instead.\n\t  // The following are all specified in the HTML config already so we exclude here.\n\t  // - class (as className)\n\t  // - color\n\t  // - height\n\t  // - id\n\t  // - lang\n\t  // - max\n\t  // - media\n\t  // - method\n\t  // - min\n\t  // - name\n\t  // - style\n\t  // - target\n\t  // - type\n\t  // - width\n\t  var ATTRS = {\n\t      accentHeight: 'accent-height',\n\t      accumulate: 0,\n\t      additive: 0,\n\t      alignmentBaseline: 'alignment-baseline',\n\t      allowReorder: 'allowReorder',\n\t      alphabetic: 0,\n\t      amplitude: 0,\n\t      arabicForm: 'arabic-form',\n\t      ascent: 0,\n\t      attributeName: 'attributeName',\n\t      attributeType: 'attributeType',\n\t      autoReverse: 'autoReverse',\n\t      azimuth: 0,\n\t      baseFrequency: 'baseFrequency',\n\t      baseProfile: 'baseProfile',\n\t      baselineShift: 'baseline-shift',\n\t      bbox: 0,\n\t      begin: 0,\n\t      bias: 0,\n\t      by: 0,\n\t      calcMode: 'calcMode',\n\t      capHeight: 'cap-height',\n\t      clip: 0,\n\t      clipPath: 'clip-path',\n\t      clipRule: 'clip-rule',\n\t      clipPathUnits: 'clipPathUnits',\n\t      colorInterpolation: 'color-interpolation',\n\t      colorInterpolationFilters: 'color-interpolation-filters',\n\t      colorProfile: 'color-profile',\n\t      colorRendering: 'color-rendering',\n\t      contentScriptType: 'contentScriptType',\n\t      contentStyleType: 'contentStyleType',\n\t      cursor: 0,\n\t      cx: 0,\n\t      cy: 0,\n\t      d: 0,\n\t      decelerate: 0,\n\t      descent: 0,\n\t      diffuseConstant: 'diffuseConstant',\n\t      direction: 0,\n\t      display: 0,\n\t      divisor: 0,\n\t      dominantBaseline: 'dominant-baseline',\n\t      dur: 0,\n\t      dx: 0,\n\t      dy: 0,\n\t      edgeMode: 'edgeMode',\n\t      elevation: 0,\n\t      enableBackground: 'enable-background',\n\t      end: 0,\n\t      exponent: 0,\n\t      externalResourcesRequired: 'externalResourcesRequired',\n\t      fill: 0,\n\t      fillOpacity: 'fill-opacity',\n\t      fillRule: 'fill-rule',\n\t      filter: 0,\n\t      filterRes: 'filterRes',\n\t      filterUnits: 'filterUnits',\n\t      floodColor: 'flood-color',\n\t      floodOpacity: 'flood-opacity',\n\t      focusable: 0,\n\t      fontFamily: 'font-family',\n\t      fontSize: 'font-size',\n\t      fontSizeAdjust: 'font-size-adjust',\n\t      fontStretch: 'font-stretch',\n\t      fontStyle: 'font-style',\n\t      fontVariant: 'font-variant',\n\t      fontWeight: 'font-weight',\n\t      format: 0,\n\t      from: 0,\n\t      fx: 0,\n\t      fy: 0,\n\t      g1: 0,\n\t      g2: 0,\n\t      glyphName: 'glyph-name',\n\t      glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n\t      glyphOrientationVertical: 'glyph-orientation-vertical',\n\t      glyphRef: 'glyphRef',\n\t      gradientTransform: 'gradientTransform',\n\t      gradientUnits: 'gradientUnits',\n\t      hanging: 0,\n\t      horizAdvX: 'horiz-adv-x',\n\t      horizOriginX: 'horiz-origin-x',\n\t      ideographic: 0,\n\t      imageRendering: 'image-rendering',\n\t      'in': 0,\n\t      in2: 0,\n\t      intercept: 0,\n\t      k: 0,\n\t      k1: 0,\n\t      k2: 0,\n\t      k3: 0,\n\t      k4: 0,\n\t      kernelMatrix: 'kernelMatrix',\n\t      kernelUnitLength: 'kernelUnitLength',\n\t      kerning: 0,\n\t      keyPoints: 'keyPoints',\n\t      keySplines: 'keySplines',\n\t      keyTimes: 'keyTimes',\n\t      lengthAdjust: 'lengthAdjust',\n\t      letterSpacing: 'letter-spacing',\n\t      lightingColor: 'lighting-color',\n\t      limitingConeAngle: 'limitingConeAngle',\n\t      local: 0,\n\t      markerEnd: 'marker-end',\n\t      markerMid: 'marker-mid',\n\t      markerStart: 'marker-start',\n\t      markerHeight: 'markerHeight',\n\t      markerUnits: 'markerUnits',\n\t      markerWidth: 'markerWidth',\n\t      mask: 0,\n\t      maskContentUnits: 'maskContentUnits',\n\t      maskUnits: 'maskUnits',\n\t      mathematical: 0,\n\t      mode: 0,\n\t      numOctaves: 'numOctaves',\n\t      offset: 0,\n\t      opacity: 0,\n\t      operator: 0,\n\t      order: 0,\n\t      orient: 0,\n\t      orientation: 0,\n\t      origin: 0,\n\t      overflow: 0,\n\t      overlinePosition: 'overline-position',\n\t      overlineThickness: 'overline-thickness',\n\t      paintOrder: 'paint-order',\n\t      panose1: 'panose-1',\n\t      pathLength: 'pathLength',\n\t      patternContentUnits: 'patternContentUnits',\n\t      patternTransform: 'patternTransform',\n\t      patternUnits: 'patternUnits',\n\t      pointerEvents: 'pointer-events',\n\t      points: 0,\n\t      pointsAtX: 'pointsAtX',\n\t      pointsAtY: 'pointsAtY',\n\t      pointsAtZ: 'pointsAtZ',\n\t      preserveAlpha: 'preserveAlpha',\n\t      preserveAspectRatio: 'preserveAspectRatio',\n\t      primitiveUnits: 'primitiveUnits',\n\t      r: 0,\n\t      radius: 0,\n\t      refX: 'refX',\n\t      refY: 'refY',\n\t      renderingIntent: 'rendering-intent',\n\t      repeatCount: 'repeatCount',\n\t      repeatDur: 'repeatDur',\n\t      requiredExtensions: 'requiredExtensions',\n\t      requiredFeatures: 'requiredFeatures',\n\t      restart: 0,\n\t      result: 0,\n\t      rotate: 0,\n\t      rx: 0,\n\t      ry: 0,\n\t      scale: 0,\n\t      seed: 0,\n\t      shapeRendering: 'shape-rendering',\n\t      slope: 0,\n\t      spacing: 0,\n\t      specularConstant: 'specularConstant',\n\t      specularExponent: 'specularExponent',\n\t      speed: 0,\n\t      spreadMethod: 'spreadMethod',\n\t      startOffset: 'startOffset',\n\t      stdDeviation: 'stdDeviation',\n\t      stemh: 0,\n\t      stemv: 0,\n\t      stitchTiles: 'stitchTiles',\n\t      stopColor: 'stop-color',\n\t      stopOpacity: 'stop-opacity',\n\t      strikethroughPosition: 'strikethrough-position',\n\t      strikethroughThickness: 'strikethrough-thickness',\n\t      string: 0,\n\t      stroke: 0,\n\t      strokeDasharray: 'stroke-dasharray',\n\t      strokeDashoffset: 'stroke-dashoffset',\n\t      strokeLinecap: 'stroke-linecap',\n\t      strokeLinejoin: 'stroke-linejoin',\n\t      strokeMiterlimit: 'stroke-miterlimit',\n\t      strokeOpacity: 'stroke-opacity',\n\t      strokeWidth: 'stroke-width',\n\t      surfaceScale: 'surfaceScale',\n\t      systemLanguage: 'systemLanguage',\n\t      tableValues: 'tableValues',\n\t      targetX: 'targetX',\n\t      targetY: 'targetY',\n\t      textAnchor: 'text-anchor',\n\t      textDecoration: 'text-decoration',\n\t      textRendering: 'text-rendering',\n\t      textLength: 'textLength',\n\t      to: 0,\n\t      transform: 0,\n\t      u1: 0,\n\t      u2: 0,\n\t      underlinePosition: 'underline-position',\n\t      underlineThickness: 'underline-thickness',\n\t      unicode: 0,\n\t      unicodeBidi: 'unicode-bidi',\n\t      unicodeRange: 'unicode-range',\n\t      unitsPerEm: 'units-per-em',\n\t      vAlphabetic: 'v-alphabetic',\n\t      vHanging: 'v-hanging',\n\t      vIdeographic: 'v-ideographic',\n\t      vMathematical: 'v-mathematical',\n\t      values: 0,\n\t      vectorEffect: 'vector-effect',\n\t      version: 0,\n\t      vertAdvY: 'vert-adv-y',\n\t      vertOriginX: 'vert-origin-x',\n\t      vertOriginY: 'vert-origin-y',\n\t      viewBox: 'viewBox',\n\t      viewTarget: 'viewTarget',\n\t      visibility: 0,\n\t      widths: 0,\n\t      wordSpacing: 'word-spacing',\n\t      writingMode: 'writing-mode',\n\t      x: 0,\n\t      xHeight: 'x-height',\n\t      x1: 0,\n\t      x2: 0,\n\t      xChannelSelector: 'xChannelSelector',\n\t      xlinkActuate: 'xlink:actuate',\n\t      xlinkArcrole: 'xlink:arcrole',\n\t      xlinkHref: 'xlink:href',\n\t      xlinkRole: 'xlink:role',\n\t      xlinkShow: 'xlink:show',\n\t      xlinkTitle: 'xlink:title',\n\t      xlinkType: 'xlink:type',\n\t      xmlBase: 'xml:base',\n\t      xmlns: 0,\n\t      xmlnsXlink: 'xmlns:xlink',\n\t      xmlLang: 'xml:lang',\n\t      xmlSpace: 'xml:space',\n\t      y: 0,\n\t      y1: 0,\n\t      y2: 0,\n\t      yChannelSelector: 'yChannelSelector',\n\t      z: 0,\n\t      zoomAndPan: 'zoomAndPan'\n\t  };\n\t\n\t  var SVGDOMPropertyConfig = {\n\t      props: {},\n\t      attrNS: {\n\t          xlinkActuate: xlink,\n\t          xlinkArcrole: xlink,\n\t          xlinkHref: xlink,\n\t          xlinkRole: xlink,\n\t          xlinkShow: xlink,\n\t          xlinkTitle: xlink,\n\t          xlinkType: xlink,\n\t          xmlBase: xml,\n\t          xmlLang: xml,\n\t          xmlSpace: xml\n\t      },\n\t      domAttrs: {},\n\t      domProps: {}\n\t  };\n\t\n\t  Object.keys(ATTRS).map(function (key) {\n\t      SVGDOMPropertyConfig.props[key] = 0;\n\t      if (ATTRS[key]) {\n\t          SVGDOMPropertyConfig.domAttrs[key] = ATTRS[key];\n\t      }\n\t  });\n\t\n\t  // merge html and svg config into properties\n\t  mergeConfigToProperties(HTMLDOMPropertyConfig);\n\t  mergeConfigToProperties(SVGDOMPropertyConfig);\n\t\n\t  function mergeConfigToProperties(config) {\n\t      var\n\t      // all react/react-lite supporting property names in here\n\t      props = config.props;\n\t      var\n\t      // attributes namespace in here\n\t      attrNS = config.attrNS;\n\t      var\n\t      // propName in props which should use to be dom-attribute in here\n\t      domAttrs = config.domAttrs;\n\t      var\n\t      // propName in props which should use to be dom-property in here\n\t      domProps = config.domProps;\n\t\n\t      for (var propName in props) {\n\t          if (!props.hasOwnProperty(propName)) {\n\t              continue;\n\t          }\n\t          var propConfig = props[propName];\n\t          properties[propName] = {\n\t              attributeName: domAttrs.hasOwnProperty(propName) ? domAttrs[propName] : propName.toLowerCase(),\n\t              propertyName: domProps.hasOwnProperty(propName) ? domProps[propName] : propName,\n\t              attributeNamespace: attrNS.hasOwnProperty(propName) ? attrNS[propName] : null,\n\t              mustUseProperty: checkMask(propConfig, MUST_USE_PROPERTY),\n\t              hasBooleanValue: checkMask(propConfig, HAS_BOOLEAN_VALUE),\n\t              hasNumericValue: checkMask(propConfig, HAS_NUMERIC_VALUE),\n\t              hasPositiveNumericValue: checkMask(propConfig, HAS_POSITIVE_NUMERIC_VALUE),\n\t              hasOverloadedBooleanValue: checkMask(propConfig, HAS_OVERLOADED_BOOLEAN_VALUE)\n\t          };\n\t      }\n\t  }\n\t\n\t  function checkMask(value, bitmask) {\n\t      return (value & bitmask) === bitmask;\n\t  }\n\t\n\t  /**\r\n\t   * Sets the value for a property on a node.\r\n\t   *\r\n\t   * @param {DOMElement} node\r\n\t   * @param {string} name\r\n\t   * @param {*} value\r\n\t   */\n\t\n\t  function setPropValue(node, name, value) {\n\t      var propInfo = properties.hasOwnProperty(name) && properties[name];\n\t      if (propInfo) {\n\t          // should delete value from dom\n\t          if (value == null || propInfo.hasBooleanValue && !value || propInfo.hasNumericValue && isNaN(value) || propInfo.hasPositiveNumericValue && value < 1 || propInfo.hasOverloadedBooleanValue && value === false) {\n\t              removePropValue(node, name);\n\t          } else if (propInfo.mustUseProperty) {\n\t              node[propInfo.propertyName] = value;\n\t          } else {\n\t              var attributeName = propInfo.attributeName;\n\t              var namespace = propInfo.attributeNamespace;\n\t\n\t              // `setAttribute` with objects becomes only `[object]` in IE8/9,\n\t              // ('' + value) makes it output the correct toString()-value.\n\t              if (namespace) {\n\t                  node.setAttributeNS(namespace, attributeName, '' + value);\n\t              } else if (propInfo.hasBooleanValue || propInfo.hasOverloadedBooleanValue && value === true) {\n\t                  node.setAttribute(attributeName, '');\n\t              } else {\n\t                  node.setAttribute(attributeName, '' + value);\n\t              }\n\t          }\n\t      } else if (isCustomAttribute(name) && VALID_ATTRIBUTE_NAME_REGEX.test(name)) {\n\t          if (value == null) {\n\t              node.removeAttribute(name);\n\t          } else {\n\t              node.setAttribute(name, '' + value);\n\t          }\n\t      }\n\t  }\n\t\n\t  /**\r\n\t   * Deletes the value for a property on a node.\r\n\t   *\r\n\t   * @param {DOMElement} node\r\n\t   * @param {string} name\r\n\t   */\n\t\n\t  function removePropValue(node, name) {\n\t      var propInfo = properties.hasOwnProperty(name) && properties[name];\n\t      if (propInfo) {\n\t          if (propInfo.mustUseProperty) {\n\t              var propName = propInfo.propertyName;\n\t              if (propInfo.hasBooleanValue) {\n\t                  node[propName] = false;\n\t              } else {\n\t                  node[propName] = '';\n\t              }\n\t          } else {\n\t              node.removeAttribute(propInfo.attributeName);\n\t          }\n\t      } else if (isCustomAttribute(name)) {\n\t          node.removeAttribute(name);\n\t      }\n\t  }\n\t\n\t  function updateSelectOptions(select, multiple, propValue) {\n\t      var selectedValue, i;\n\t      var options = select.options;\n\t\n\t      if (multiple) {\n\t          select.multiple = true;\n\t          if (!Array.isArray(propValue)) {\n\t              throw new Error('The value prop supplied to <select> must be an array if `multiple` is true');\n\t          }\n\t          selectedValue = {};\n\t          for (i = 0; i < propValue.length; i++) {\n\t              selectedValue['' + propValue[i]] = true;\n\t          }\n\t          for (i = 0; i < options.length; i++) {\n\t              var selected = selectedValue.hasOwnProperty(options[i].value);\n\t              if (options[i].selected !== selected) {\n\t                  options[i].selected = selected;\n\t              }\n\t          }\n\t      } else {\n\t          select.multiple = false;\n\t          if (Array.isArray(propValue)) {\n\t              throw new Error('The value prop supplied to <select> must be a scalar value if `multiple` is false.');\n\t          }\n\t          // Do not set `select.value` as exact behavior isn't consistent across all\n\t          // browsers for all cases.\n\t          selectedValue = '' + propValue;\n\t          for (i = 0; i < options.length; i++) {\n\t              var option = options[i];\n\t              if (option.value === selectedValue) {\n\t                  if (!option.selected) {\n\t                      option.selected = true;\n\t                  }\n\t              } else {\n\t                  if (option.selected) {\n\t                      option.selected = false;\n\t                  }\n\t              }\n\t          }\n\t\n\t          if (options.selectedIndex < 0 && options.length) {\n\t              options[0].selected = true;\n\t          }\n\t      }\n\t  }\n\t\n\t  function isFn(obj) {\n\t      return typeof obj === 'function';\n\t  }\n\t\n\t  var isArr = Array.isArray;\n\t\n\t  function noop() {}\n\t\n\t  function identity(obj) {\n\t      return obj;\n\t  }\n\t\n\t  function pipe(fn1, fn2) {\n\t      return function () {\n\t          fn1.apply(this, arguments);\n\t          return fn2.apply(this, arguments);\n\t      };\n\t  }\n\t\n\t  function addItem(list, item) {\n\t      list[list.length] = item;\n\t  }\n\t\n\t  function flatEach(list, iteratee, a) {\n\t      var len = list.length;\n\t      var i = -1;\n\t\n\t      while (len--) {\n\t          var item = list[++i];\n\t          if (isArr(item)) {\n\t              flatEach(item, iteratee, a);\n\t          } else {\n\t              iteratee(item, a);\n\t          }\n\t      }\n\t  }\n\t\n\t  function extend(to, from) {\n\t      if (!from) {\n\t          return to;\n\t      }\n\t      var keys = Object.keys(from);\n\t      var i = keys.length;\n\t      while (i--) {\n\t          to[keys[i]] = from[keys[i]];\n\t      }\n\t      return to;\n\t  }\n\t\n\t  var uid = 0;\n\t\n\t  function getUid() {\n\t      return ++uid;\n\t  }\n\t\n\t  var EVENT_KEYS = /^on/i;\n\t\n\t  function setProp(elem, key, value, isCustomComponent) {\n\t      if (EVENT_KEYS.test(key)) {\n\t          addEvent(elem, key, value);\n\t      } else if (key === 'style') {\n\t          setStyle(elem.style, value);\n\t      } else if (key === HTML_KEY) {\n\t          if (value && value.__html != null) {\n\t              elem.innerHTML = value.__html;\n\t          }\n\t      } else if (isCustomComponent) {\n\t          if (value == null) {\n\t              elem.removeAttribute(key);\n\t          } else {\n\t              elem.setAttribute(key, '' + value);\n\t          }\n\t      } else {\n\t          setPropValue(elem, key, value);\n\t      }\n\t  }\n\t\n\t  function removeProp(elem, key, oldValue, isCustomComponent) {\n\t      if (EVENT_KEYS.test(key)) {\n\t          removeEvent(elem, key);\n\t      } else if (key === 'style') {\n\t          removeStyle(elem.style, oldValue);\n\t      } else if (key === HTML_KEY) {\n\t          elem.innerHTML = '';\n\t      } else if (isCustomComponent) {\n\t          elem.removeAttribute(key);\n\t      } else {\n\t          removePropValue(elem, key);\n\t      }\n\t  }\n\t\n\t  function patchProp(elem, key, value, oldValue, isCustomComponent) {\n\t      if (key === 'value' || key === 'checked') {\n\t          oldValue = elem[key];\n\t      }\n\t      if (value === oldValue) {\n\t          return;\n\t      }\n\t      if (value === undefined) {\n\t          removeProp(elem, key, oldValue, isCustomComponent);\n\t          return;\n\t      }\n\t      if (key === 'style') {\n\t          patchStyle(elem.style, oldValue, value);\n\t      } else {\n\t          setProp(elem, key, value, isCustomComponent);\n\t      }\n\t  }\n\t\n\t  function setProps(elem, props, isCustomComponent) {\n\t      var isSelect = elem.nodeName === 'SELECT';\n\t      for (var key in props) {\n\t          if (key !== 'children') {\n\t              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                  updateSelectOptions(elem, props.multiple, props[key]);\n\t              } else {\n\t                  setProp(elem, key, props[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t  }\n\t\n\t  function patchProps(elem, props, newProps, isCustomComponent) {\n\t      var isSelect = elem.nodeName === 'SELECT';\n\t      for (var key in props) {\n\t          if (key !== 'children') {\n\t              if (newProps.hasOwnProperty(key)) {\n\t                  if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                      updateSelectOptions(elem, newProps.multiple, newProps[key]);\n\t                  } else {\n\t                      patchProp(elem, key, newProps[key], props[key], isCustomComponent);\n\t                  }\n\t              } else {\n\t                  removeProp(elem, key, props[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t      for (var key in newProps) {\n\t          if (key !== 'children' && !props.hasOwnProperty(key)) {\n\t              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                  updateSelectOptions(elem, newProps.multiple, newProps[key]);\n\t              } else {\n\t                  setProp(elem, key, newProps[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t  }\n\t\n\t  if (!Object.freeze) {\n\t      Object.freeze = identity;\n\t  }\n\t\n\t  function isValidContainer(node) {\n\t  \treturn !!(node && (node.nodeType === ELEMENT_NODE_TYPE || node.nodeType === DOC_NODE_TYPE || node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE));\n\t  }\n\t\n\t  var pendingRendering = {};\n\t  var vnodeStore = {};\n\t  function renderTreeIntoContainer(vnode, container, callback, parentContext) {\n\t  \tif (!vnode.vtype) {\n\t  \t\tthrow new Error('cannot render ' + vnode + ' to container');\n\t  \t}\n\t  \tif (!isValidContainer(container)) {\n\t  \t\tthrow new Error('container ' + container + ' is not a DOM element');\n\t  \t}\n\t  \tvar id = container[COMPONENT_ID] || (container[COMPONENT_ID] = getUid());\n\t  \tvar argsCache = pendingRendering[id];\n\t\n\t  \t// component lify cycle method maybe call root rendering\n\t  \t// should bundle them and render by only one time\n\t  \tif (argsCache) {\n\t  \t\tif (argsCache === true) {\n\t  \t\t\tpendingRendering[id] = argsCache = { vnode: vnode, callback: callback, parentContext: parentContext };\n\t  \t\t} else {\n\t  \t\t\targsCache.vnode = vnode;\n\t  \t\t\targsCache.parentContext = parentContext;\n\t  \t\t\targsCache.callback = argsCache.callback ? pipe(argsCache.callback, callback) : callback;\n\t  \t\t}\n\t  \t\treturn;\n\t  \t}\n\t\n\t  \tpendingRendering[id] = true;\n\t  \tvar oldVnode = null;\n\t  \tvar rootNode = null;\n\t  \tif (oldVnode = vnodeStore[id]) {\n\t  \t\trootNode = compareTwoVnodes(oldVnode, vnode, container.firstChild, parentContext);\n\t  \t} else {\n\t  \t\trootNode = initVnode(vnode, parentContext, container.namespaceURI);\n\t  \t\tvar childNode = null;\n\t  \t\twhile (childNode = container.lastChild) {\n\t  \t\t\tcontainer.removeChild(childNode);\n\t  \t\t}\n\t  \t\tcontainer.appendChild(rootNode);\n\t  \t}\n\t  \tvnodeStore[id] = vnode;\n\t  \tvar isPending = updateQueue.isPending;\n\t  \tupdateQueue.isPending = true;\n\t  \tclearPending();\n\t  \targsCache = pendingRendering[id];\n\t  \tdelete pendingRendering[id];\n\t\n\t  \tvar result = null;\n\t  \tif (typeof argsCache === 'object') {\n\t  \t\tresult = renderTreeIntoContainer(argsCache.vnode, container, argsCache.callback, argsCache.parentContext);\n\t  \t} else if (vnode.vtype === VELEMENT) {\n\t  \t\tresult = rootNode;\n\t  \t} else if (vnode.vtype === VCOMPONENT) {\n\t  \t\tresult = rootNode.cache[vnode.uid];\n\t  \t}\n\t\n\t  \tif (!isPending) {\n\t  \t\tupdateQueue.isPending = false;\n\t  \t\tupdateQueue.batchUpdate();\n\t  \t}\n\t\n\t  \tif (callback) {\n\t  \t\tcallback.call(result);\n\t  \t}\n\t\n\t  \treturn result;\n\t  }\n\t\n\t  function render(vnode, container, callback) {\n\t  \treturn renderTreeIntoContainer(vnode, container, callback);\n\t  }\n\t\n\t  function unstable_renderSubtreeIntoContainer(parentComponent, subVnode, container, callback) {\n\t  \tvar context = parentComponent.$cache.parentContext;\n\t  \treturn renderTreeIntoContainer(subVnode, container, callback, context);\n\t  }\n\t\n\t  function unmountComponentAtNode(container) {\n\t  \tif (!container.nodeName) {\n\t  \t\tthrow new Error('expect node');\n\t  \t}\n\t  \tvar id = container[COMPONENT_ID];\n\t  \tvar vnode = null;\n\t  \tif (vnode = vnodeStore[id]) {\n\t  \t\tdestroyVnode(vnode, container.firstChild);\n\t  \t\tcontainer.removeChild(container.firstChild);\n\t  \t\tdelete vnodeStore[id];\n\t  \t\treturn true;\n\t  \t}\n\t  \treturn false;\n\t  }\n\t\n\t  function findDOMNode(node) {\n\t  \tif (node == null) {\n\t  \t\treturn null;\n\t  \t}\n\t  \tif (node.nodeName) {\n\t  \t\treturn node;\n\t  \t}\n\t  \tvar component = node;\n\t  \t// if component.node equal to false, component must be unmounted\n\t  \tif (component.getDOMNode && component.$cache.isMounted) {\n\t  \t\treturn component.getDOMNode();\n\t  \t}\n\t  \tthrow new Error('findDOMNode can not find Node');\n\t  }\n\t\n\t  var ReactDOM = Object.freeze({\n\t  \trender: render,\n\t  \tunstable_renderSubtreeIntoContainer: unstable_renderSubtreeIntoContainer,\n\t  \tunmountComponentAtNode: unmountComponentAtNode,\n\t  \tfindDOMNode: findDOMNode\n\t  });\n\t\n\t  function createElement(type, props, children) {\n\t  \tvar vtype = null;\n\t  \tif (typeof type === 'string') {\n\t  \t\tvtype = VELEMENT;\n\t  \t} else if (typeof type === 'function') {\n\t  \t\tif (type.prototype && type.prototype.isReactComponent) {\n\t  \t\t\tvtype = VCOMPONENT;\n\t  \t\t} else {\n\t  \t\t\tvtype = VSTATELESS;\n\t  \t\t}\n\t  \t} else {\n\t  \t\tthrow new Error('React.createElement: unexpect type [ ' + type + ' ]');\n\t  \t}\n\t\n\t  \tvar key = null;\n\t  \tvar ref = null;\n\t  \tvar finalProps = {};\n\t  \tif (props != null) {\n\t  \t\tfor (var propKey in props) {\n\t  \t\t\tif (!props.hasOwnProperty(propKey)) {\n\t  \t\t\t\tcontinue;\n\t  \t\t\t}\n\t  \t\t\tif (propKey === 'key') {\n\t  \t\t\t\tif (props.key !== undefined) {\n\t  \t\t\t\t\tkey = '' + props.key;\n\t  \t\t\t\t}\n\t  \t\t\t} else if (propKey === 'ref') {\n\t  \t\t\t\tif (props.ref !== undefined) {\n\t  \t\t\t\t\tref = props.ref;\n\t  \t\t\t\t}\n\t  \t\t\t} else {\n\t  \t\t\t\tfinalProps[propKey] = props[propKey];\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t\n\t  \tvar defaultProps = type.defaultProps;\n\t\n\t  \tif (defaultProps) {\n\t  \t\tfor (var propKey in defaultProps) {\n\t  \t\t\tif (finalProps[propKey] === undefined) {\n\t  \t\t\t\tfinalProps[propKey] = defaultProps[propKey];\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t\n\t  \tvar argsLen = arguments.length;\n\t  \tvar finalChildren = children;\n\t\n\t  \tif (argsLen > 3) {\n\t  \t\tfinalChildren = Array(argsLen - 2);\n\t  \t\tfor (var i = 2; i < argsLen; i++) {\n\t  \t\t\tfinalChildren[i - 2] = arguments[i];\n\t  \t\t}\n\t  \t}\n\t\n\t  \tif (finalChildren !== undefined) {\n\t  \t\tfinalProps.children = finalChildren;\n\t  \t}\n\t\n\t  \treturn createVnode(vtype, type, finalProps, key, ref);\n\t  }\n\t\n\t  function isValidElement(obj) {\n\t  \treturn obj != null && !!obj.vtype;\n\t  }\n\t\n\t  function cloneElement(originElem, props) {\n\t  \tvar type = originElem.type;\n\t  \tvar key = originElem.key;\n\t  \tvar ref = originElem.ref;\n\t\n\t  \tvar newProps = extend(extend({ key: key, ref: ref }, originElem.props), props);\n\t\n\t  \tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t  \t\tchildren[_key - 2] = arguments[_key];\n\t  \t}\n\t\n\t  \tvar vnode = createElement.apply(undefined, [type, newProps].concat(children));\n\t  \tif (vnode.ref === originElem.ref) {\n\t  \t\tvnode.refs = originElem.refs;\n\t  \t}\n\t  \treturn vnode;\n\t  }\n\t\n\t  function createFactory(type) {\n\t  \tvar factory = function factory() {\n\t  \t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t  \t\t\targs[_key2] = arguments[_key2];\n\t  \t\t}\n\t\n\t  \t\treturn createElement.apply(undefined, [type].concat(args));\n\t  \t};\n\t  \tfactory.type = type;\n\t  \treturn factory;\n\t  }\n\t\n\t  var tagNames = 'a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan';\n\t  var DOM = {};\n\t  tagNames.split('|').forEach(function (tagName) {\n\t  \tDOM[tagName] = createFactory(tagName);\n\t  });\n\t\n\t  var check = function check() {\n\t      return check;\n\t  };\n\t  check.isRequired = check;\n\t  var PropTypes = {\n\t      \"array\": check,\n\t      \"bool\": check,\n\t      \"func\": check,\n\t      \"number\": check,\n\t      \"object\": check,\n\t      \"string\": check,\n\t      \"any\": check,\n\t      \"arrayOf\": check,\n\t      \"element\": check,\n\t      \"instanceOf\": check,\n\t      \"node\": check,\n\t      \"objectOf\": check,\n\t      \"oneOf\": check,\n\t      \"oneOfType\": check,\n\t      \"shape\": check\n\t  };\n\t\n\t  function only(children) {\n\t  \tif (isValidElement(children)) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tthrow new Error('expect only one child');\n\t  }\n\t\n\t  function forEach(children, iteratee, context) {\n\t  \tif (children == null) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tvar index = 0;\n\t  \tif (isArr(children)) {\n\t  \t\tflatEach(children, function (child) {\n\t  \t\t\t// from traverseAllChildrenImpl in react\n\t  \t\t\tvar type = typeof child;\n\t  \t\t\tif (type === 'undefined' || type === 'boolean') {\n\t  \t\t\t\t// All of the above are perceived as null.\n\t  \t\t\t\tchild = null;\n\t  \t\t\t}\n\t\n\t  \t\t\titeratee.call(context, child, index++);\n\t  \t\t});\n\t  \t} else {\n\t  \t\t// from traverseAllChildrenImpl in react\n\t  \t\tvar type = typeof children;\n\t  \t\tif (type === 'undefined' || type === 'boolean') {\n\t  \t\t\t// All of the above are perceived as null.\n\t  \t\t\tchildren = null;\n\t  \t\t}\n\t  \t\titeratee.call(context, children, index);\n\t  \t}\n\t  }\n\t\n\t  function map(children, iteratee, context) {\n\t  \tif (children == null) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tvar store = [];\n\t  \tvar keyMap = {};\n\t  \tforEach(children, function (child, index) {\n\t  \t\tvar data = {};\n\t  \t\tdata.child = iteratee.call(context, child, index) || child;\n\t  \t\tdata.isEqual = data.child === child;\n\t  \t\tvar key = data.key = getKey(child, index);\n\t  \t\tif (keyMap.hasOwnProperty(key)) {\n\t  \t\t\tkeyMap[key] += 1;\n\t  \t\t} else {\n\t  \t\t\tkeyMap[key] = 0;\n\t  \t\t}\n\t  \t\tdata.index = keyMap[key];\n\t  \t\taddItem(store, data);\n\t  \t});\n\t  \tvar result = [];\n\t  \tstore.forEach(function (_ref) {\n\t  \t\tvar child = _ref.child;\n\t  \t\tvar key = _ref.key;\n\t  \t\tvar index = _ref.index;\n\t  \t\tvar isEqual = _ref.isEqual;\n\t\n\t  \t\tif (child == null || typeof child === 'boolean') {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tif (!isValidElement(child) || key == null) {\n\t  \t\t\taddItem(result, child);\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tif (keyMap[key] !== 0) {\n\t  \t\t\tkey += ':' + index;\n\t  \t\t}\n\t  \t\tif (!isEqual) {\n\t  \t\t\tkey = escapeUserProvidedKey(child.key || '') + '/' + key;\n\t  \t\t}\n\t  \t\tchild = cloneElement(child, { key: key });\n\t  \t\taddItem(result, child);\n\t  \t});\n\t  \treturn result;\n\t  }\n\t\n\t  function count(children) {\n\t  \tvar count = 0;\n\t  \tforEach(children, function () {\n\t  \t\tcount++;\n\t  \t});\n\t  \treturn count;\n\t  }\n\t\n\t  function toArray(children) {\n\t  \treturn map(children, identity) || [];\n\t  }\n\t\n\t  function getKey(child, index) {\n\t  \tvar key = undefined;\n\t  \tif (isValidElement(child) && typeof child.key === 'string') {\n\t  \t\tkey = '.$' + child.key;\n\t  \t} else {\n\t  \t\tkey = '.' + index.toString(36);\n\t  \t}\n\t  \treturn key;\n\t  }\n\t\n\t  var userProvidedKeyEscapeRegex = /\\/(?!\\/)/g;\n\t  function escapeUserProvidedKey(text) {\n\t  \treturn ('' + text).replace(userProvidedKeyEscapeRegex, '//');\n\t  }\n\t\n\t  var Children = Object.freeze({\n\t  \tonly: only,\n\t  \tforEach: forEach,\n\t  \tmap: map,\n\t  \tcount: count,\n\t  \ttoArray: toArray\n\t  });\n\t\n\t  function eachMixin(mixins, iteratee) {\n\t  \tmixins.forEach(function (mixin) {\n\t  \t\tif (mixin) {\n\t  \t\t\tif (isArr(mixin.mixins)) {\n\t  \t\t\t\teachMixin(mixin.mixins, iteratee);\n\t  \t\t\t}\n\t  \t\t\titeratee(mixin);\n\t  \t\t}\n\t  \t});\n\t  }\n\t\n\t  function combineMixinToProto(proto, mixin) {\n\t  \tfor (var key in mixin) {\n\t  \t\tif (!mixin.hasOwnProperty(key)) {\n\t  \t\t\tcontinue;\n\t  \t\t}\n\t  \t\tvar value = mixin[key];\n\t  \t\tif (key === 'getInitialState') {\n\t  \t\t\taddItem(proto.$getInitialStates, value);\n\t  \t\t\tcontinue;\n\t  \t\t}\n\t  \t\tvar curValue = proto[key];\n\t  \t\tif (isFn(curValue) && isFn(value)) {\n\t  \t\t\tproto[key] = pipe(curValue, value);\n\t  \t\t} else {\n\t  \t\t\tproto[key] = value;\n\t  \t\t}\n\t  \t}\n\t  }\n\t\n\t  function combineMixinToClass(Component, mixin) {\n\t  \tif (mixin.propTypes) {\n\t  \t\tComponent.propTypes = Component.propTypes || {};\n\t  \t\textend(Component.propTypes, mixin.propTypes);\n\t  \t}\n\t  \tif (mixin.contextTypes) {\n\t  \t\tComponent.contextTypes = Component.contextTypes || {};\n\t  \t\textend(Component.contextTypes, mixin.contextTypes);\n\t  \t}\n\t  \textend(Component, mixin.statics);\n\t  \tif (isFn(mixin.getDefaultProps)) {\n\t  \t\tComponent.defaultProps = Component.defaultProps || {};\n\t  \t\textend(Component.defaultProps, mixin.getDefaultProps());\n\t  \t}\n\t  }\n\t\n\t  function bindContext(obj, source) {\n\t  \tfor (var key in source) {\n\t  \t\tif (source.hasOwnProperty(key)) {\n\t  \t\t\tif (isFn(source[key])) {\n\t  \t\t\t\tobj[key] = source[key].bind(obj);\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t  }\n\t\n\t  var Facade = function Facade() {};\n\t  Facade.prototype = Component.prototype;\n\t\n\t  function getInitialState() {\n\t  \tvar _this = this;\n\t\n\t  \tvar state = {};\n\t  \tvar setState = this.setState;\n\t  \tthis.setState = Facade;\n\t  \tthis.$getInitialStates.forEach(function (getInitialState) {\n\t  \t\tif (isFn(getInitialState)) {\n\t  \t\t\textend(state, getInitialState.call(_this));\n\t  \t\t}\n\t  \t});\n\t  \tthis.setState = setState;\n\t  \treturn state;\n\t  }\n\t  function createClass(spec) {\n\t  \tif (!isFn(spec.render)) {\n\t  \t\tthrow new Error('createClass: spec.render is not function');\n\t  \t}\n\t  \tvar specMixins = spec.mixins || [];\n\t  \tvar mixins = specMixins.concat(spec);\n\t  \tspec.mixins = null;\n\t  \tfunction Klass(props, context) {\n\t  \t\tComponent.call(this, props, context);\n\t  \t\tthis.constructor = Klass;\n\t  \t\tspec.autobind !== false && bindContext(this, Klass.prototype);\n\t  \t\tthis.state = this.getInitialState() || this.state;\n\t  \t}\n\t  \tKlass.displayName = spec.displayName;\n\t  \tvar proto = Klass.prototype = new Facade();\n\t  \tproto.$getInitialStates = [];\n\t  \teachMixin(mixins, function (mixin) {\n\t  \t\tcombineMixinToProto(proto, mixin);\n\t  \t\tcombineMixinToClass(Klass, mixin);\n\t  \t});\n\t  \tproto.getInitialState = getInitialState;\n\t  \tspec.mixins = specMixins;\n\t  \treturn Klass;\n\t  }\n\t\n\t  function shallowEqual(objA, objB) {\n\t      if (objA === objB) {\n\t          return true;\n\t      }\n\t\n\t      if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n\t          return false;\n\t      }\n\t\n\t      var keysA = Object.keys(objA);\n\t      var keysB = Object.keys(objB);\n\t\n\t      if (keysA.length !== keysB.length) {\n\t          return false;\n\t      }\n\t\n\t      // Test for A's keys different from B.\n\t      for (var i = 0; i < keysA.length; i++) {\n\t          if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n\t              return false;\n\t          }\n\t      }\n\t\n\t      return true;\n\t  }\n\t\n\t  function PureComponent(props, context) {\n\t  \tComponent.call(this, props, context);\n\t  }\n\t\n\t  PureComponent.prototype = Object.create(Component.prototype);\n\t  PureComponent.prototype.constructor = PureComponent;\n\t  PureComponent.prototype.isPureReactComponent = true;\n\t  PureComponent.prototype.shouldComponentUpdate = shallowCompare;\n\t\n\t  function shallowCompare(nextProps, nextState) {\n\t  \treturn !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n\t  }\n\t\n\t  var React = extend({\n\t      version: '0.15.1',\n\t      cloneElement: cloneElement,\n\t      isValidElement: isValidElement,\n\t      createElement: createElement,\n\t      createFactory: createFactory,\n\t      Component: Component,\n\t      PureComponent: PureComponent,\n\t      createClass: createClass,\n\t      Children: Children,\n\t      PropTypes: PropTypes,\n\t      DOM: DOM\n\t  }, ReactDOM);\n\t\n\t  React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactDOM;\n\t\n\t  return React;\n\t\n\t}));\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\"use strict\";\n\t\n\tvar cockpit = __webpack_require__(13);\n\tvar React = __webpack_require__(16);\n\tvar _ = cockpit.gettext;\n\t__webpack_require__(18);\n\t\n\tvar FileAutoComplete = React.createClass({\n\t    displayName: \"FileAutoComplete\",\n\t\n\t    propTypes: {\n\t        id: React.PropTypes.string,\n\t        placeholder: React.PropTypes.string,\n\t        value: React.PropTypes.string,\n\t        superuser: React.PropTypes.string,\n\t        onChange: React.PropTypes.func\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        var value = this.props.value || \"\";\n\t        this.updateFiles(value);\n\t        return {\n\t            value: value,\n\t            directory: '/',\n\t            directoryFiles: null,\n\t            displayFiles: [],\n\t            open: false,\n\t            error: null\n\t        };\n\t    },\n\t\n\t\n\t    getDirectoryForValue: function getDirectoryForValue(value) {\n\t        var dir = \"\";\n\t        var last;\n\t        if (value) {\n\t            value = value.trim();\n\t            last = value.lastIndexOf(\"/\");\n\t            if (last > -1) dir = value.slice(0, last);\n\t            dir += \"/\";\n\t        }\n\t\n\t        if (dir.indexOf(\"/\") !== 0) dir = \"/\" + dir;\n\t\n\t        return dir;\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t        if (value && value.indexOf(\"/\") !== 0) value = \"/\" + value;\n\t\n\t        var stateUpdate;\n\t        if (!this.updateIfDirectoryChanged(value)) stateUpdate = this.filterFiles(value);else stateUpdate = {};\n\t\n\t        stateUpdate.value = value;\n\t        this.setState(stateUpdate);\n\t\n\t        this.onChangeCallback(value, {\n\t            error: stateUpdate.error\n\t        });\n\t    },\n\t    onChangeCallback: function onChangeCallback(value, options) {\n\t        if (this.props.onChange) this.props.onChange(value, options);\n\t    },\n\t\n\t    onMouseDown: function onMouseDown(ev) {\n\t        // only consider clicks with the primary button\n\t        if (ev && ev.button !== 0) return;\n\t\n\t        if (ev.target.tagName == 'A') {\n\t            this.setState({\n\t                selecting: true\n\t            });\n\t        }\n\t    },\n\t\n\t    onBlur: function onBlur() {\n\t        if (this.state.selecting) return;\n\t\n\t        if (this.timer) window.clearTimeout(this.timer);\n\t\n\t        this.setState({\n\t            open: false\n\t        });\n\t    },\n\t\n\t    delayedOnChange: function delayedOnChange(ev) {\n\t        var self = this;\n\t        var value = ev.currentTarget.value;\n\t        if (this.timer) window.clearTimeout(this.timer);\n\t\n\t        if (this.state.value !== value) this.timer = window.setTimeout(function () {\n\t            self.onChange(value);\n\t            self.timer = null;\n\t        }, 250);\n\t    },\n\t\n\t    updateFiles: function updateFiles(path) {\n\t        var self = this;\n\t        var channel = cockpit.channel({ payload: \"fslist1\",\n\t            path: path || \"/\",\n\t            superuser: this.props.superuser });\n\t\n\t        var results = [];\n\t        var error = null;\n\t\n\t        channel.addEventListener(\"ready\", function () {\n\t            self.finishUpdate(results, null);\n\t        });\n\t\n\t        channel.addEventListener(\"close\", function (ev, data) {\n\t            self.finishUpdate(results, error || cockpit.format(cockpit.message(data)));\n\t        });\n\t\n\t        channel.addEventListener(\"message\", function (ev, data) {\n\t            var item = JSON.parse(data);\n\t            if (item && item.path) {\n\t                if (item.type == \"directory\") item.path = item.path + \"/\";\n\t                results.push(item);\n\t            }\n\t\n\t            if (results.length > 5000) {\n\t                error = _(\"Too many files found\");\n\t                channel.close();\n\t            }\n\t        });\n\t    },\n\t\n\t    updateIfDirectoryChanged: function updateIfDirectoryChanged(value) {\n\t        var directory = this.getDirectoryForValue(value);\n\t        var changed = directory !== this.state.directory;\n\t        if (changed && this.state.directoryFiles !== null) {\n\t            this.setState({\n\t                displayFiles: [],\n\t                directoryFiles: null,\n\t                directory: directory,\n\t                open: false\n\t            });\n\t            this.updateFiles(directory);\n\t        }\n\t        return changed;\n\t    },\n\t\n\t    finishUpdate: function finishUpdate(results, error) {\n\t        results = results.sort(function (a, b) {\n\t            return a.path.localeCompare(b.path, { sensitivity: 'base' });\n\t        });\n\t\n\t        this.onChangeCallback(this.state.value, {\n\t            error: error\n\t        });\n\t\n\t        this.setState({\n\t            displayFiles: results,\n\t            directoryFiles: results,\n\t            error: error\n\t        });\n\t    },\n\t\n\t    filterFiles: function filterFiles(value) {\n\t        var inputValue = value.trim().toLowerCase();\n\t        var dirLength = this.state.directory.length;\n\t        var matches = [];\n\t        var inputLength;\n\t\n\t        inputValue = inputValue.slice(dirLength);\n\t        inputLength = inputValue.length;\n\t\n\t        var error;\n\t\n\t        if (this.state.directoryFiles !== null) {\n\t            matches = this.state.directoryFiles.filter(function (v) {\n\t                return v.path.toLowerCase().slice(0, inputLength) === inputValue;\n\t            });\n\t\n\t            if (matches.length < 1) error = _(\"No matching files found\");\n\t        } else {\n\t            error = this.state.error;\n\t        }\n\t\n\t        return {\n\t            displayFiles: matches,\n\t            open: true,\n\t            error: error\n\t        };\n\t    },\n\t\n\t    showAllOptions: function showAllOptions(ev) {\n\t        // only consider clicks with the primary button\n\t        if (ev && ev.button !== 0) return;\n\t\n\t        this.setState({\n\t            open: !this.state.open,\n\t            displayFiles: this.state.directoryFiles || []\n\t        });\n\t    },\n\t\n\t    selectItem: function selectItem(ev) {\n\t        // only consider clicks with the primary button\n\t        if (ev && ev.button !== 0) return;\n\t\n\t        if (ev.target.tagName == 'A') {\n\t            var value = ev.target.innerText;\n\t            var directory = this.state.directory || \"/\";\n\t\n\t            if (directory.charAt(directory.length - 1) !== '/') directory = directory + \"/\";\n\t\n\t            value = directory + value;\n\t            this.setState({\n\t                open: false,\n\t                value: value,\n\t                selecting: false\n\t            });\n\t\n\t            this.onChangeCallback(value, {\n\t                error: this.state.error\n\t            });\n\t\n\t            this.refs.input.focus();\n\t            this.updateIfDirectoryChanged(value);\n\t        }\n\t    },\n\t\n\t    renderError: function renderError(error) {\n\t        return React.createElement(\n\t            \"li\",\n\t            { className: \"alert alert-warning\" },\n\t            error\n\t        );\n\t    },\n\t\n\t    render: function render() {\n\t        var placeholder = this.props.placeholder || _(\"Path to file\");\n\t        var controlClasses = \"form-control-feedback \";\n\t        var classes = \"input-group\";\n\t        if (this.state.open) classes += \" open\";\n\t\n\t        if (this.state.directoryFiles === null) controlClasses += \"spinner spinner-xs spinner-inline\";else controlClasses += \"caret\";\n\t\n\t        var listItems;\n\t\n\t        if (this.state.error) {\n\t            listItems = [this.renderError(this.state.error)];\n\t            classes += \" error\";\n\t        } else {\n\t            listItems = React.Children.map(this.state.displayFiles, function (file) {\n\t                return React.createElement(\n\t                    \"li\",\n\t                    { className: file.type },\n\t                    React.createElement(\n\t                        \"a\",\n\t                        { \"data-type\": file.type },\n\t                        file.path\n\t                    )\n\t                );\n\t            });\n\t        }\n\t\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"combobox-container\", id: this.props.id },\n\t            React.createElement(\n\t                \"div\",\n\t                { className: classes },\n\t                React.createElement(\"input\", { ref: \"input\", autocomplete: \"false\", placeholder: placeholder, className: \"combobox form-control\", type: \"text\", onChange: this.delayedOnChange, value: this.state.value, onBlur: this.onBlur }),\n\t                React.createElement(\"span\", { onClick: this.showAllOptions, className: controlClasses }),\n\t                React.createElement(\n\t                    \"ul\",\n\t                    { onMouseDown: this.onMouseDown, onClick: this.selectItem, className: \"typeahead typeahead-long dropdown-menu\" },\n\t                    listItems\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tmodule.exports = {\n\t    FileAutoComplete: FileAutoComplete\n\t};\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 19 */,\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(process) {'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2015 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var $ = __webpack_require__(12);\n\t    var cockpit = __webpack_require__(13);\n\t\n\t    var lister = __webpack_require__(22);\n\t    var remove_key = __webpack_require__(23);\n\t\n\t    var _ = cockpit.gettext;\n\t\n\t    function Keys() {\n\t        var self = this;\n\t\n\t        self.path = null;\n\t        self.items = { };\n\t\n\t        var watch = null;\n\t        var proc = null;\n\t        var timeout = null;\n\t\n\t        cockpit.user().done(function (user) {\n\t            self.path = user.home + '/.ssh';\n\t            refresh();\n\t        });\n\t\n\t        function refresh() {\n\t            if (watch === null) {\n\t                watch = cockpit.channel({ payload: \"fslist1\", path: self.path });\n\t                $(watch)\n\t                    .on(\"close\", function(ev, data) {\n\t                        $(watch).off();\n\t                        if (!data.problem || data.problem == \"not-found\") {\n\t                            watch = null; /* Watch again */\n\t                        } else {\n\t                            console.warn(\"couldn't watch \" + self.path + \": \" + (data.message || data.problem));\n\t                            watch = false; /* Don't watch again */\n\t                        }\n\t                    })\n\t                    .on(\"message\", function(ev, payload) {\n\t                        var item = JSON.parse(payload);\n\t                        var name = item.path;\n\t                        if (name && name.indexOf(\"/\") === -1 && name.slice(-4) === \".pub\") {\n\t                            if (item.event === \"present\" ||item.event === \"created\" ||\n\t                                item.event === \"changed\" || item.event === \"deleted\") {\n\t                                window.clearInterval(timeout);\n\t                                timeout = window.setTimeout(refresh, 100);\n\t                            }\n\t                        }\n\t                    });\n\t            }\n\t\n\t            if (proc)\n\t                return;\n\t\n\t            window.clearTimeout(timeout);\n\t            timeout = null;\n\t\n\t            proc = cockpit.script(lister, [ self.path ], { err: \"message\" })\n\t                .always(function() {\n\t                    proc = null;\n\t\n\t                    if (!timeout)\n\t                        timeout = window.setTimeout(refresh, 5000);\n\t                })\n\t                .done(function(data) {\n\t                    process(data);\n\t                })\n\t                .fail(function(ex) {\n\t                    console.warn(\"failed to list keys in home directory: \" + ex.message);\n\t                });\n\t        }\n\t\n\t        function process(data) {\n\t            var blocks = data.split('\\v');\n\t            var key, items = { };\n\t\n\t            /* First block is the data from ssh agent */\n\t            blocks[0].trim().split(\"\\n\").forEach(function(line) {\n\t                key = parse_key(line, items);\n\t                if (key)\n\t                    key.loaded = true;\n\t            });\n\t\n\t            /* Next come individual triples of blocks */\n\t            blocks.slice(1).forEach(function(block, i) {\n\t                switch(i % 3) {\n\t                case 0:\n\t                    key = parse_key(block, items);\n\t                    break;\n\t                case 1:\n\t                    if (key) {\n\t                        block = block.trim();\n\t                        if (block.slice(-4) === \".pub\")\n\t                            key.name = block.slice(0, -4);\n\t                        else if (block)\n\t                            key.name = block;\n\t                        else\n\t                            key.agent_only = true;\n\t                    }\n\t                    break;\n\t                case 2:\n\t                    if (key)\n\t                        parse_info(block, key);\n\t                    break;\n\t                }\n\t            });\n\t\n\t            self.items = items;\n\t            $(self).triggerHandler(\"changed\");\n\t        }\n\t\n\t        function parse_key(line, items) {\n\t            var parts = line.trim().split(\" \");\n\t            var id, type, comment;\n\t\n\t            /* SSHv1 keys */\n\t            if (!isNaN(parseInt(parts[0], 10))) {\n\t                id = parts[2];\n\t                type = \"RSA1\";\n\t                comment = parts.slice(3).join(\" \");\n\t\n\t            } else if (parts[0].indexOf(\"ssh-\") === 0) {\n\t                id = parts[1];\n\t                type = parts[0].substring(4).toUpperCase();\n\t                comment = parts.slice(2).join(\" \");\n\t            } else if (parts[0].indexOf(\"ecdsa-\") === 0) {\n\t                id = parts[1];\n\t                type = \"ECDSA\";\n\t                comment = parts.slice(2).join(\" \");\n\t            } else {\n\t                return;\n\t            }\n\t\n\t            var key = items[id];\n\t            if (!key)\n\t                key = items[id] = { };\n\t\n\t            key.type = type;\n\t            key.comment = comment;\n\t            key.data = line;\n\t            return key;\n\t        }\n\t\n\t        function parse_info(line, key) {\n\t            var parts = line.trim().split(\" \");\n\t            parts = parts.filter(function(n) {\n\t                return !!n;\n\t            });\n\t\n\t            key.size = parseInt(parts[0], 10);\n\t            if (isNaN(key.size))\n\t                key.size = null;\n\t\n\t            key.fingerprint = parts[1];\n\t\n\t             if (parts[2] && !key.name && parts[2].indexOf(\"/\") !== -1)\n\t                key.name = parts[2];\n\t        }\n\t\n\t        self.change = function change(name, old_pass, new_pass, two_pass) {\n\t            var old_exps = [ /.*Enter old passphrase: $/ ];\n\t            var new_exps = [ /.*Enter new passphrase.*/, /.*Enter same passphrase again: $/ ];\n\t            var bad_exps = [ /.*failed: passphrase is too short.*/ ];\n\t\n\t            var dfd = $.Deferred();\n\t            var buffer = \"\";\n\t            var sent_new = false;\n\t            var failure = _(\"No such file or directory\");\n\t            var i;\n\t\n\t            if (new_pass !== two_pass) {\n\t                dfd.reject(new Error(_(\"The passwords do not match.\")));\n\t                return dfd.promise();\n\t            }\n\t\n\t            var proc;\n\t            var timeout = window.setTimeout(function() {\n\t                failure = _(\"Prompting via ssh-keygen timed out\");\n\t                proc.close(\"terminated\");\n\t            }, 10 * 1000);\n\t\n\t            proc = cockpit.spawn([\"ssh-keygen\", \"-p\", \"-f\", name],\n\t                    { pty: true, environ: [ \"LC_ALL=C\" ], err: \"out\", directory: self.path })\n\t                .always(function() {\n\t                    window.clearInterval(timeout);\n\t                })\n\t                .done(function() {\n\t                    dfd.resolve();\n\t                })\n\t                .fail(function(ex) {\n\t                    if (ex.exit_status)\n\t                        ex = new Error(failure);\n\t                    dfd.reject(ex);\n\t                })\n\t                .stream(function(data) {\n\t                    buffer += data;\n\t                    for (i = 0; i < old_exps.length; i++) {\n\t                        if (old_exps[i].test(buffer)) {\n\t                            buffer = \"\";\n\t                            failure = _(\"Old password not accepted\");\n\t                            this.input(old_pass + \"\\n\", true);\n\t                            return;\n\t                        }\n\t                    }\n\t\n\t                    for (i = 0; i < new_exps.length; i++) {\n\t                        if (new_exps[i].test(buffer)) {\n\t                            buffer = \"\";\n\t                            this.input(new_pass + \"\\n\", true);\n\t                            failure = _(\"Failed to change password\");\n\t                            sent_new = true;\n\t                            return;\n\t                        }\n\t                    }\n\t\n\t                    for (i = 0; sent_new && i < bad_exps.length; i++) {\n\t                        if (bad_exps[i].test(buffer)) {\n\t                            failure = _(\"New password was not accepted\");\n\t                            return;\n\t                        }\n\t                    }\n\t                });\n\t\n\t            return dfd.promise();\n\t        };\n\t\n\t        self.load = function(name, password) {\n\t            var ask_exp =  /.*Enter passphrase for .*/;\n\t            var perm_exp = /.*UNPROTECTED PRIVATE KEY FILE.*/;\n\t            var bad_exp = /.*Bad passphrase.*/;\n\t\n\t            var dfd = $.Deferred();\n\t            var buffer = \"\";\n\t            var output = \"\";\n\t            var failure = _(\"Not a valid private key\");\n\t            var sent_password = false;\n\t\n\t            var proc;\n\t            var timeout = window.setTimeout(function() {\n\t                failure = _(\"Prompting via ssh-add timed out\");\n\t                proc.close(\"terminated\");\n\t            }, 10 * 1000);\n\t\n\t            proc = cockpit.spawn([\"ssh-add\", name],\n\t                    { pty: true, environ: [ \"LC_ALL=C\" ], err: \"out\", directory: self.path })\n\t                .always(function() {\n\t                    window.clearInterval(timeout);\n\t                })\n\t                .done(function() {\n\t                    refresh();\n\t                    dfd.resolve();\n\t                })\n\t                .fail(function(ex) {\n\t                    console.log(output);\n\t                    if (ex.exit_status)\n\t                        ex = new Error(failure);\n\t\n\t                    ex.sent_password = sent_password;\n\t                    dfd.reject(ex);\n\t                })\n\t                .stream(function(data) {\n\t                    buffer += data;\n\t                    output += data;\n\t                    if (perm_exp.test(buffer)) {\n\t                        failure = _(\"Invalid file permissions\");\n\t                        buffer = \"\";\n\t                    } else if (ask_exp.test(buffer)) {\n\t                        buffer = \"\";\n\t                        failure = _(\"Password not accepted\");\n\t                        this.input(password + \"\\n\", true);\n\t                        sent_password = true;\n\t                    } else if (bad_exp.test(buffer)) {\n\t                        buffer = \"\";\n\t                        this.input(\"\\n\", true);\n\t                    }\n\t                });\n\t\n\t            return dfd.promise();\n\t        };\n\t\n\t        self.unload = function unload(key) {\n\t            var proc;\n\t            var options = { pty: true, err: \"message\", directory: self.path };\n\t\n\t            if (key.name && !key.agent_only)\n\t                proc = cockpit.spawn([\"ssh-add\", \"-d\", key.name], options);\n\t            else\n\t                proc = cockpit.script(remove_key, [key.data], options);\n\t\n\t            return proc.done(refresh);\n\t        };\n\t\n\t        self.close = function close() {\n\t            if (watch)\n\t                watch.close();\n\t            if (proc)\n\t                proc.close();\n\t            window.clearTimeout(timeout);\n\t            timeout = null;\n\t        };\n\t    }\n\t\n\t    module.exports = {\n\t        keys_instance: function () {\n\t            return new Keys();\n\t        }\n\t    };\n\t}());\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(21)))\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t// shim for using process in browser\n\tvar process = module.exports = {};\n\t\n\t// cached from whatever global is present so that test runners that stub it\n\t// don't break things.  But we need to wrap it in a try catch in case it is\n\t// wrapped in strict mode code which doesn't define any globals.  It's inside a\n\t// function because try/catches deoptimize in certain engines.\n\t\n\tvar cachedSetTimeout;\n\tvar cachedClearTimeout;\n\t\n\tfunction defaultSetTimout() {\n\t    throw new Error('setTimeout has not been defined');\n\t}\n\tfunction defaultClearTimeout () {\n\t    throw new Error('clearTimeout has not been defined');\n\t}\n\t(function () {\n\t    try {\n\t        if (typeof setTimeout === 'function') {\n\t            cachedSetTimeout = setTimeout;\n\t        } else {\n\t            cachedSetTimeout = defaultSetTimout;\n\t        }\n\t    } catch (e) {\n\t        cachedSetTimeout = defaultSetTimout;\n\t    }\n\t    try {\n\t        if (typeof clearTimeout === 'function') {\n\t            cachedClearTimeout = clearTimeout;\n\t        } else {\n\t            cachedClearTimeout = defaultClearTimeout;\n\t        }\n\t    } catch (e) {\n\t        cachedClearTimeout = defaultClearTimeout;\n\t    }\n\t} ())\n\tfunction runTimeout(fun) {\n\t    if (cachedSetTimeout === setTimeout) {\n\t        //normal enviroments in sane situations\n\t        return setTimeout(fun, 0);\n\t    }\n\t    // if setTimeout wasn't available but was latter defined\n\t    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n\t        cachedSetTimeout = setTimeout;\n\t        return setTimeout(fun, 0);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedSetTimeout(fun, 0);\n\t    } catch(e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n\t            return cachedSetTimeout.call(null, fun, 0);\n\t        } catch(e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n\t            return cachedSetTimeout.call(this, fun, 0);\n\t        }\n\t    }\n\t\n\t\n\t}\n\tfunction runClearTimeout(marker) {\n\t    if (cachedClearTimeout === clearTimeout) {\n\t        //normal enviroments in sane situations\n\t        return clearTimeout(marker);\n\t    }\n\t    // if clearTimeout wasn't available but was latter defined\n\t    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n\t        cachedClearTimeout = clearTimeout;\n\t        return clearTimeout(marker);\n\t    }\n\t    try {\n\t        // when when somebody has screwed with setTimeout but no I.E. maddness\n\t        return cachedClearTimeout(marker);\n\t    } catch (e){\n\t        try {\n\t            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n\t            return cachedClearTimeout.call(null, marker);\n\t        } catch (e){\n\t            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n\t            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n\t            return cachedClearTimeout.call(this, marker);\n\t        }\n\t    }\n\t\n\t\n\t\n\t}\n\tvar queue = [];\n\tvar draining = false;\n\tvar currentQueue;\n\tvar queueIndex = -1;\n\t\n\tfunction cleanUpNextTick() {\n\t    if (!draining || !currentQueue) {\n\t        return;\n\t    }\n\t    draining = false;\n\t    if (currentQueue.length) {\n\t        queue = currentQueue.concat(queue);\n\t    } else {\n\t        queueIndex = -1;\n\t    }\n\t    if (queue.length) {\n\t        drainQueue();\n\t    }\n\t}\n\t\n\tfunction drainQueue() {\n\t    if (draining) {\n\t        return;\n\t    }\n\t    var timeout = runTimeout(cleanUpNextTick);\n\t    draining = true;\n\t\n\t    var len = queue.length;\n\t    while(len) {\n\t        currentQueue = queue;\n\t        queue = [];\n\t        while (++queueIndex < len) {\n\t            if (currentQueue) {\n\t                currentQueue[queueIndex].run();\n\t            }\n\t        }\n\t        queueIndex = -1;\n\t        len = queue.length;\n\t    }\n\t    currentQueue = null;\n\t    draining = false;\n\t    runClearTimeout(timeout);\n\t}\n\t\n\tprocess.nextTick = function (fun) {\n\t    var args = new Array(arguments.length - 1);\n\t    if (arguments.length > 1) {\n\t        for (var i = 1; i < arguments.length; i++) {\n\t            args[i - 1] = arguments[i];\n\t        }\n\t    }\n\t    queue.push(new Item(fun, args));\n\t    if (queue.length === 1 && !draining) {\n\t        runTimeout(drainQueue);\n\t    }\n\t};\n\t\n\t// v8 likes predictible objects\n\tfunction Item(fun, array) {\n\t    this.fun = fun;\n\t    this.array = array;\n\t}\n\tItem.prototype.run = function () {\n\t    this.fun.apply(null, this.array);\n\t};\n\tprocess.title = 'browser';\n\tprocess.browser = true;\n\tprocess.env = {};\n\tprocess.argv = [];\n\tprocess.version = ''; // empty string to avoid regexp issues\n\tprocess.versions = {};\n\t\n\tfunction noop() {}\n\t\n\tprocess.on = noop;\n\tprocess.addListener = noop;\n\tprocess.once = noop;\n\tprocess.off = noop;\n\tprocess.removeListener = noop;\n\tprocess.removeAllListeners = noop;\n\tprocess.emit = noop;\n\tprocess.prependListener = noop;\n\tprocess.prependOnceListener = noop;\n\t\n\tprocess.listeners = function (name) { return [] }\n\t\n\tprocess.binding = function (name) {\n\t    throw new Error('process.binding is not supported');\n\t};\n\t\n\tprocess.cwd = function () { return '/' };\n\tprocess.chdir = function (dir) {\n\t    throw new Error('process.chdir is not supported');\n\t};\n\tprocess.umask = function() { return 0; };\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"#!/bin/sh\\nset -u\\n\\n# The first thing we do is list loaded keys\\nloaded=$(ssh-add -L)\\nresult=\\\"$?\\\"\\n\\nset -e\\n\\nprintf \\\"$loaded\\\"\\n\\n# Get info for each loaded key\\n# ssh-keygen -l -f - is not\\n# supported everywhere so use tempfile\\nif [ $result -eq 0 ]; then\\n    tempfile=$(mktemp)\\n    echo \\\"$loaded\\\" | while read line; do\\n       echo \\\"$line\\\" > \\\"$tempfile\\\"\\n       printf \\\"\\\\v%s\\\\v\\\\v\\\" \\\"$line\\\"\\n       ssh-keygen -l -f \\\"$tempfile\\\" || true\\n    done\\n    rm $tempfile\\nfi\\n\\n# Try to list keys in this directory\\ncd \\\"$1\\\" || exit 0\\n\\n# After that each .pub file gets its on set of blocks\\nfor file in *.pub; do\\n    printf \\\"\\\\v\\\"\\n    cat \\\"$file\\\"\\n    printf \\\"\\\\v%s\\\\v\\\" \\\"$file\\\"\\n    ssh-keygen -l -f \\\"$file\\\" || true\\ndone\\n\"\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"#!/bin/sh\\n\\nset -eu\\n\\ntempfile=$(mktemp)\\necho \\\"$1\\\" > \\\"$tempfile\\\"\\nret=0\\nssh-add -d \\\"$tempfile\\\" || ret=1\\nrm \\\"$tempfile\\\"\\nexit $ret\\n\"\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var $ = __webpack_require__(12);\n\t    var cockpit = __webpack_require__(13);\n\t\n\t    var unique_number = 0;\n\t    function unique() {\n\t        unique_number += 1;\n\t        return \"unique\" + -(new Date()) + -unique_number;\n\t    }\n\t\n\t    /* Dialog Patterns */\n\t\n\t    function clear_errors(sel) {\n\t        sel.find(\".dialog-error\").remove();\n\t        sel.find(\".has-error\").removeClass(\"has-error\");\n\t        sel.find(\".dialog-wrapper\").off(\".dialog-error\");\n\t        sel.off(\".dialog-error\");\n\t    }\n\t\n\t    function field_error(target, error) {\n\t        var wrapper = target.parent();\n\t        var next, refresh;\n\t\n\t        if (!wrapper.is(\".dialog-wrapper\")) {\n\t            wrapper = $(\"<div class='dialog-wrapper'>\").insertBefore(target);\n\t\n\t            /*\n\t             * Some bootstrap plugins replace html controls with their own\n\t             * stuff, so we have to account for that here.\n\t             */\n\t\n\t            next = target.next();\n\t            if (next.is(\".bootstrap-select\") && next.selectpicker) {\n\t                next.remove();\n\t                refresh = next.selectpicker;\n\t            }\n\t\n\t            target.remove().appendTo(wrapper);\n\t\n\t            if (refresh)\n\t                refresh.call(target);\n\t        }\n\t\n\t        var message;\n\t        if (error.message)\n\t            message = $(\"<div class='dialog-error help-block'>\").text(error.message);\n\t        wrapper.addClass(\"has-error\").append(message);\n\t\n\t        if (!wrapper.hasClass(\"error-keep\")) {\n\t            wrapper.on(\"keypress.dialog-error change.dialog-error\", function() {\n\t                wrapper.removeClass(\"has-error\")\n\t                    .find(\".dialog-error.help-block\").css(\"visibility\", \"hidden\");\n\t            });\n\t        }\n\t    }\n\t\n\t    function global_error(sel, error) {\n\t        var alert = $(\"<div class='alert alert-danger dialog-error'>\");\n\t        var text = error.message || error.toString();\n\t        alert.text(text);\n\t        $(\"<span class='fa fa-exclamation-triangle'>\").prependTo(alert);\n\t\n\t        /* Always log global dialog errors for easier debugging */\n\t        console.warn(text);\n\t\n\t        var footer = sel.find(\".modal-footer\");\n\t        if (footer.length)\n\t            alert.prependTo(footer);\n\t        else\n\t            alert.appendTo(sel);\n\t    }\n\t\n\t    function display_errors(sel, errors) {\n\t        clear_errors(sel);\n\t\n\t        /* The list of errors can also be passed as an array */\n\t        if (errors.length == 1 && $.isArray(errors[0]))\n\t            errors = errors[0];\n\t\n\t        var any = false;\n\t        errors.forEach(function(error) {\n\t            var target;\n\t            if (error) {\n\t                target = sel.find(error.target);\n\t\n\t                /* Errors for a specific field added below that field */\n\t                if (target && target.length)\n\t                    field_error(target, error);\n\t                else\n\t                    global_error(sel, error);\n\t\n\t                any = true;\n\t            }\n\t        });\n\t\n\t        if (!any)\n\t            return;\n\t\n\t        /* When dialog is shown again, remove all mods */\n\t        sel.on(\"show.bs.modal.dialog-error\", function() {\n\t            clear_errors(sel);\n\t        });\n\t    }\n\t\n\t    function DialogWait(promise, handle) {\n\t        this.promise = promise;\n\t        this.disabled = [];\n\t        this.handle = handle;\n\t    }\n\t\n\t    function clear_wait(sel) {\n\t        var data = sel.data(\"dialog-wait\");\n\t        sel.data(\"dialog-wait\", null);\n\t\n\t        sel.find(\".dialog-wait-ct\").remove();\n\t        sel.find(\".btn\").off(\".dialog-wait\");\n\t        sel.off(\".dialog-wait\");\n\t\n\t        if (data) {\n\t            data.disabled.forEach(function(ctl) {\n\t                ctl.removeAttr(\"disabled\");\n\t            });\n\t        }\n\t    }\n\t\n\t    function display_wait(sel, promise, handle) {\n\t        clear_wait(sel);\n\t\n\t        if (!promise) {\n\t            if (handle)\n\t                sel.modal(\"hide\");\n\t            return sel;\n\t        }\n\t\n\t        /* Clear all errors in the dialog */\n\t        if (handle)\n\t            display_errors(sel, []);\n\t\n\t        var wait = $(\"<div class='dialog-wait-ct pull-left'>\");\n\t        $(\"<div class='spinner spinner-sm'>\").appendTo(wait);\n\t        var message = $(\"<span>\").appendTo(wait);\n\t\n\t        sel.find(\".modal-footer button\").first().before(wait);\n\t\n\t        var data = new DialogWait(promise, handle);\n\t        sel.data(\"dialog-wait\", data);\n\t\n\t        var cancellation = promise.cancel || promise.close;\n\t        var cancelled = false;\n\t\n\t        /* Disable everything and stash previous disabled state */\n\t        var controls = sel.find(\".form-control\").add(\".btn\", sel);\n\t        if (cancellation)\n\t            controls = controls.not(\"[data-dismiss]\").not(\".btn-cancel\");\n\t        controls.each(function() {\n\t            var ctl = $(this);\n\t            if (!ctl.attr(\"disabled\")) {\n\t                data.disabled.push(ctl);\n\t                ctl.attr(\"disabled\", \"disabled\");\n\t            }\n\t        });\n\t\n\t        sel.find(\".btn[data-dismiss], .btn-cancel\").on(\"click.dialog-wait\", function() {\n\t            cancelled = true;\n\t            if (cancellation)\n\t                cancellation.apply(promise);\n\t            return false;\n\t        });\n\t\n\t        /* When dialog is shown again, remove all mods */\n\t        sel.on(\"hide.bs.modal.dialog-wait\", function() {\n\t            clear_wait(sel);\n\t        });\n\t\n\t        /*\n\t         * There is no way to remove a callback from a promise\n\t         * so we have to be careful to only react if still\n\t         * processing the same promise.\n\t         */\n\t        function restore() {\n\t            var state, data = sel.data(\"dialog-wait\");\n\t            if (data && data.promise === promise) {\n\t                clear_wait(sel);\n\t                state = promise.state();\n\t                if (cancelled || (state == \"resolved\" && data.handle))\n\t                    sel.modal('hide');\n\t                else if (state == \"rejected\" && data.handle)\n\t                    display_errors(sel, [ arguments[0] ]);\n\t            }\n\t        }\n\t\n\t        function update(arg) {\n\t            var data = sel.data(\"dialog-wait\");\n\t            if (data && data.promise === promise) {\n\t                if (typeof arg !== \"string\")\n\t                    arg = \"\";\n\t                message.text(arg);\n\t            }\n\t        }\n\t\n\t        promise\n\t            .always(restore)\n\t            .progress(update);\n\t\n\t        return sel;\n\t    }\n\t\n\t    $.fn.dialog = function dialog(action /* ... */) {\n\t        if (action === \"failure\")\n\t            return display_errors(this, Array.prototype.slice.call(arguments, 1));\n\t        else if (action === \"wait\")\n\t            return display_wait(this, arguments[1]);\n\t        else if (action === \"promise\")\n\t            return display_wait(this, arguments[1], true);\n\t        else\n\t            console.warn(\"unknown dialog action: \" + action);\n\t    };\n\t\n\t    window.addEventListener(\"hashchange\", function() {\n\t        $(\".modal\").modal(\"hide\");\n\t    });\n\t\n\t    /*\n\t     * OnOff switch pattern\n\t     */\n\t\n\t    function onoff_refresh(sel) {\n\t        /* During testing, no Cockpit dependency */\n\t        var _ = cockpit.gettext || function(x) { return x; };\n\t\n\t        sel = sel.find(\".btn-onoff-ct\").andSelf().filter(\".btn-onoff-ct\");\n\t        sel.each(function(x, el) {\n\t            var self = $(el)\n\t                .attr(\"data-toggle\", \"buttons\")\n\t                .addClass(\"btn-group\");\n\t            var value = self.onoff(\"value\");\n\t            var buttons = self.find(\".btn\");\n\t            var name = self.find(\"input\").first().attr(\"name\") || unique();\n\t            var i, input, text;\n\t            for (i = buttons.length; i < 2; i++) {\n\t                input = $('<input type=\"radio\" autocomplete=\"off\">');\n\t                text = document.createTextNode(i === 0 ? _(\"On\") : _(\"Off\"));\n\t                self.append($('<label class=\"btn\">').append(input, text));\n\t                buttons = null;\n\t            }\n\t            buttons = buttons || self.find(\".btn\");\n\t            buttons.find(\"input\").attr(\"name\", name);\n\t            onoff_change(self, !!value);\n\t        });\n\t        return sel;\n\t    }\n\t\n\t    function onoff_value(sel) {\n\t        return sel.find(\".btn\").first().hasClass(\"active\");\n\t    }\n\t\n\t    function onoff_change(sel, value) {\n\t        return sel.each(function(i, el) {\n\t            var buttons = $(el).find(\".btn\");\n\t            buttons.first().toggleClass(\"active\", !!value).find(\"input\").prop(\"checked\", !!value);\n\t            buttons.last().toggleClass(\"active\", !value).find(\"input\").prop(\"checked\", !value);\n\t        });\n\t    }\n\t\n\t    $.fn.onoff = function onoff(action /* ... */) {\n\t        if (arguments.length === 0 || action == \"refresh\") {\n\t            return onoff_refresh(this);\n\t        } else if (action === \"value\") {\n\t            if (arguments.length === 1)\n\t                return onoff_value(this);\n\t            else\n\t                return onoff_change(this, arguments[1]);\n\t        } else if (action == \"disabled\") {\n\t            return this.find(\".btn\").toggleClass(\"disabled\", arguments[1]);\n\t        } else {\n\t            console.warn(\"unknown switch action: \" + action);\n\t        }\n\t    };\n\t\n\t    /* ----------------------------------------------------------------------------\n\t     * Sliders\n\t     *\n\t     * <div class=\"slider\" value=\"0.5\">\n\t     *    <div class=\"slider-bar\">\n\t     *        <div class=\"slider-thumb\"></div>\n\t     *    </div>\n\t     *    <div class=\"slider-bar\">\n\t     *        <!-- optional left overs -->\n\t     *    </div>\n\t     * </div>\n\t     *\n\t     * A slider control. The first div.slider-bar is the one that is resized.\n\t     * The value will be bounded between 0 and 1 as a floating point number.\n\t     *\n\t     * The following div.slider-bar if present is resized to fill the remainder\n\t     * of the slider if not given a specific size. You can put more div.slider-bar\n\t     * inside it to reflect squashing other prevous allocations.\n\t     *\n\t     * If the following div.slider-bar have a width specified, then the\n\t     * slider supports the concept of overflowing. If the slider overflows\n\t     * it will get the .slider-warning class and go a bit red.\n\t     *\n\t     * On document creation any div.slider are automatically turned into\n\t     * Bar graphs.\n\t     *\n\t     * Slider has the following extra read/write properties:\n\t     *\n\t     * .value: the floating point value the slider is set to.\n\t     * .disabled: whether to display slider as disabled and refuse interacton.\n\t     *\n\t     * Slider has this event:\n\t     *\n\t     * on('change'): fired when the slider changes, passes value as additional arg.\n\t     */\n\t\n\t    function resize_flex(slider, flex, total, part) {\n\t        var value = 0;\n\t        if (part > total)\n\t            value = 1;\n\t        else if (part < 0 || isNaN(part))\n\t            value = 0;\n\t        else if (!isNaN(total) && total > 0 && part >= 0)\n\t            value = (part / total);\n\t        $(flex).css('width', (value * 100) + \"%\").\n\t            next(\"div\").css('margin-left', $(flex).css('width'));\n\t\n\t        /* Set the property and the attribute */\n\t        slider.value = value;\n\t    }\n\t\n\t    function update_value(slider) {\n\t        resize_flex(slider, $(slider).children(\"div.slider-bar\").first()[0], 1, slider.value);\n\t    }\n\t\n\t    function check_overflow(slider) {\n\t        $(slider).toggleClass(\"slider-warning\",\n\t                              slider.offsetWidth < slider.scrollWidth);\n\t    }\n\t\n\t    function setup_slider(slider) {\n\t        $(slider).attr('unselectable', 'on');\n\t\n\t        Object.defineProperty(slider, \"value\", {\n\t            get: function() {\n\t                return parseFloat(this.getAttribute(\"value\"));\n\t            },\n\t            set: function(v) {\n\t                var s = String(v);\n\t                if (s != this.getAttribute(\"value\")) {\n\t                    this.setAttribute(\"value\", v);\n\t                    update_value(slider);\n\t                    check_overflow(slider);\n\t                }\n\t            }\n\t        });\n\t\n\t        Object.defineProperty(slider, \"disabled\", {\n\t            get: function() {\n\t                if (!this.hasAttribute(\"disabled\"))\n\t                    return false;\n\t                return this.getAttribute(\"disabled\").toLowerCase() != \"false\";\n\t            },\n\t            set: function(v) {\n\t                this.setAttribute(\"disabled\", v ? \"true\" : \"false\");\n\t            }\n\t        });\n\t\n\t        update_value(slider);\n\t        check_overflow(slider);\n\t\n\t        $(slider).on(\"change\", function() {\n\t            update_value(slider);\n\t            $(slider).toggleClass(\"slider-disabled\", slider.disabled);\n\t        });\n\t\n\t        if (slider.disabled)\n\t            $(slider).addClass(\"slider-disabled\");\n\t\n\t        $(slider).on(\"mousedown\", function(ev) {\n\t            if (slider.disabled)\n\t                return true; /* default action */\n\t            var flex;\n\t            var offset = $(slider).offset().left;\n\t            if ($(ev.target).hasClass(\"slider-thumb\")) {\n\t                var hitx  = (ev.offsetX || ev.clientX - $(ev.target).offset().left);\n\t                offset += (hitx - $(ev.target).outerWidth() / 2);\n\t                flex = $(ev.target).parent()[0];\n\t            } else {\n\t                flex = $(slider).children(\"div.slider-bar\").first()[0];\n\t                resize_flex(slider, flex, $(slider).width(), (ev.pageX - offset));\n\t                $(slider).trigger(\"change\", [slider.value]);\n\t                check_overflow(slider);\n\t            }\n\t\n\t            $(document).\n\t                on(\"mousemove.slider\", function(ev) {\n\t                    resize_flex(slider, flex, $(slider).width(), (ev.pageX - offset));\n\t                    $(slider).trigger(\"change\", [slider.value]);\n\t                    check_overflow(slider);\n\t                    return false;\n\t                }).\n\t                on(\"mouseup.slider\", function(ev) {\n\t                    $(document).\n\t                        off(\"mousemove.slider\").\n\t                        off(\"mouseup.slider\");\n\t                    return false;\n\t                });\n\t            return false; /* no default action */\n\t        });\n\t    }\n\t\n\t    function setup_sliders() {\n\t        $(\"div.slider\").each(function() {\n\t            setup_slider(this);\n\t        });\n\t    }\n\t\n\t    $.fn.slider = function Slider(action) {\n\t        var sel = this;\n\t        if (arguments.length === 0 || action == \"refresh\") {\n\t            sel.each(function() {\n\t                setup_slider(this);\n\t            });\n\t            return sel;\n\t        } else {\n\t            console.warn(\"unknown slider action: \" + action);\n\t        }\n\t    };\n\t\n\t    $(document).ready(setup_sliders);\n\t\n\t    /* -----------------------------------------------------------------------------\n\t     * Privileged UI actions.\n\t     */\n\t\n\t    // placement is optional, \"top\", \"left\", \"bottom\", \"right\"\n\t    $.fn.update_privileged = function update_privileged(perm, denied_message, placement) {\n\t        var allowed = (perm.allowed !== false);\n\t        var selector = this;\n\t\n\t        selector.each(function() {\n\t            // preserve old title first time to use when allowed\n\t            // activate tooltip\n\t            var allowed_key = 'allowed-title';\n\t            if (typeof $(this).data(allowed_key) === 'undefined' ||\n\t                   $(this).data(allowed_key) === false)\n\t                $(this).data(allowed_key, $(this).attr('title') || \"\");\n\t\n\t            var options = { html: true };\n\t            if (placement)\n\t                options['placement'] = placement;\n\t\n\t            $(this).tooltip(options);\n\t\n\t            if ($(this).hasClass(\"disabled\") === allowed) {\n\t              $(this).toggleClass(\"disabled\", !allowed)\n\t                   .attr('data-original-title', null);\n\t\n\t              if (allowed)\n\t                  $(this).attr('title', $(this).data(allowed_key));\n\t              else\n\t                  $(this).attr('title', denied_message);\n\t              $(this).tooltip('fixTitle');\n\t            }\n\t        });\n\t\n\t        return selector;\n\t    };\n\t}());\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2015 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var $ = __webpack_require__(12);\n\t    var cockpit = __webpack_require__(13);\n\t\n\t    var mustache = __webpack_require__(27);\n\t\n\t    var machines = __webpack_require__(11);\n\t    var credentials = __webpack_require__(20);\n\t    __webpack_require__(25);\n\t\n\t    var add_tmpl = __webpack_require__(29);\n\t    var auth_failed_tmpl = __webpack_require__(30);\n\t    var change_auth_tmpl = __webpack_require__(31);\n\t    var change_port_tmpl = __webpack_require__(32);\n\t    var color_picker_tmpl = __webpack_require__(33);\n\t    var invalid_hostkey_tmpl = __webpack_require__(34);\n\t    var not_supported_tmpl = __webpack_require__(35);\n\t    var sync_users_tmpl = __webpack_require__(36);\n\t    var unknown_hosts_tmpl = __webpack_require__(37);\n\t\n\t    var _ = cockpit.gettext;\n\t\n\t    var default_codes = {\n\t        \"no-cockpit\": \"not-supported\",\n\t        \"not-supported\": \"not-supported\",\n\t        \"protocol-error\": \"not-supported\",\n\t        \"authentication-not-supported\": \"change-auth\",\n\t        \"authentication-failed\": \"change-auth\",\n\t        \"no-forwarding\": \"change-auth\",\n\t        \"unknown-hostkey\": \"unknown-hostkey\",\n\t        \"invalid-hostkey\": \"invalid-hostkey\",\n\t        \"not-found\": \"add-machine\",\n\t        \"unknown-host\": \"unknown-host\",\n\t        \"sync-users\": \"sync-users\"\n\t    };\n\t\n\t    function translate_and_init(tmpl) {\n\t        var tmp = $(\"<div>\").append(tmpl);\n\t        tmp.find(\"[translatable=\\\"yes\\\"]\").each(function(i, e) {\n\t            var old = e.outerHTML;\n\t            var translated = cockpit.gettext(e.getAttribute(\"context\"), $(e).text());\n\t            $(e).removeAttr(\"translatable\").text(translated);\n\t            tmpl = tmpl.replace(old, e.outerHTML);\n\t        });\n\t        mustache.parse(tmpl);\n\t        return tmpl;\n\t    }\n\t\n\t    var templates = {\n\t        \"add-machine\" : translate_and_init(add_tmpl),\n\t        \"auth-failed\" : translate_and_init(auth_failed_tmpl),\n\t        \"change-auth\" : translate_and_init(change_auth_tmpl),\n\t        \"change-port\" : translate_and_init(change_port_tmpl),\n\t        \"color-picker\" : translate_and_init(color_picker_tmpl),\n\t        \"invalid-hostkey\" : translate_and_init(invalid_hostkey_tmpl),\n\t        \"not-supported\" : translate_and_init(not_supported_tmpl),\n\t        \"sync-users\" : translate_and_init(sync_users_tmpl),\n\t        \"unknown-hostkey\" : translate_and_init(unknown_hosts_tmpl),\n\t        \"unknown-host\" : translate_and_init(unknown_hosts_tmpl)\n\t    };\n\t\n\t    function full_address(machines_ins, address) {\n\t        var machine = machines_ins.lookup(address);\n\t        if (machine && machine.address != \"localhost\")\n\t            return machine.connection_string;\n\t\n\t        return address;\n\t    }\n\t\n\t    function Dialog(selector, address, machines_ins, codes) {\n\t        var self = this;\n\t\n\t        self.machines_ins = machines_ins;\n\t        self.codes = codes;\n\t        self.address = full_address(self.machines_ins, address);\n\t\n\t        var promise_callback = null;\n\t\n\t        var success_callback = null;\n\t\n\t        var current_template = null;\n\t        var current_instance = null;\n\t\n\t        function address_or_label() {\n\t            var machine = self.machines_ins.lookup(self.address);\n\t            var host = self.machines_ins.split_connection_string(self.address).address;\n\t            if (machine && machine.label)\n\t                host = machine.label;\n\t            return host;\n\t        }\n\t\n\t        function change_content(template, error_options) {\n\t            var old_instance = current_instance;\n\t\n\t            if (current_template === template)\n\t                return;\n\t\n\t            if (template == \"add-machine\")\n\t                current_instance = new AddMachine(self);\n\t            else if (template == \"sync-users\")\n\t                current_instance = new SyncUsers(self);\n\t            else if (template == \"unknown-hostkey\" || template == \"unknown-host\")\n\t                current_instance = new HostKey(self, template);\n\t            else if (template == \"invalid-hostkey\")\n\t                current_instance = new HostKey(self, template);\n\t            else if (template == \"change-auth\")\n\t                current_instance = new ChangeAuth(self);\n\t            else if (template == \"change-port\")\n\t                current_instance = new MachinePort(self);\n\t            else\n\t                current_instance = new Simple(self);\n\t\n\t            current_template = template;\n\t            current_instance.load(error_options);\n\t\n\t            if (old_instance && old_instance.close)\n\t                old_instance.close();\n\t            old_instance = null;\n\t        }\n\t\n\t        self.try_to_connect = function(address, options) {\n\t            var dfd = $.Deferred();\n\t            var conn_options = $.extend({ \"payload\": \"echo\",\n\t                                          \"host\": address },\n\t                                        options);\n\t\n\t            var machine = self.machines_ins.lookup(address);\n\t            if (machine && machine.host_key && !machine.on_disk) {\n\t                conn_options['temp-session'] = false; /* Compatiblity option */\n\t                conn_options['session'] = 'shared';\n\t                conn_options['host-key'] = machine.host_key;\n\t            }\n\t            var client = cockpit.channel(conn_options);\n\t            client.send(\"x\");\n\t            $(client)\n\t               .on(\"message\", function() {\n\t                    $(client).off();\n\t                    client.close();\n\t                    dfd.resolve();\n\t                })\n\t                .on(\"close\", function(event, options) {\n\t                    dfd.reject(options);\n\t                });\n\t\n\t            return dfd.promise();\n\t        };\n\t\n\t        self.get_sel = function(child_selector) {\n\t            var ret_txt = selector;\n\t            if (child_selector)\n\t                ret_txt = ret_txt + \" \" + child_selector;\n\t            return $(ret_txt);\n\t        };\n\t\n\t        self.set_on_success = function (callback) {\n\t            success_callback = callback;\n\t        };\n\t\n\t        self.set_goal = function (callback) {\n\t            promise_callback = callback;\n\t        };\n\t\n\t        self.complete = function(val) {\n\t            if (success_callback)\n\t                success_callback(val);\n\t            else\n\t                $(selector).modal('hide');\n\t        };\n\t\n\t        self.render = function render(data, template) {\n\t            if (!template)\n\t                template = current_template;\n\t\n\t            var address_data = self.machines_ins.split_connection_string(self.address);\n\t            var context = $.extend({\n\t                'host' : address_or_label(),\n\t                'full_address' : self.address,\n\t                'context_title' : self.context_title,\n\t                'strong' : function() {\n\t                    return function(text, render) {\n\t                        return \"<strong>\" + render(text) + \"</strong>\";\n\t                    };\n\t                }\n\t            }, data, address_data);\n\t\n\t            var output = $(mustache.render(templates[template], context));\n\t            cockpit.translate(output);\n\t            self.get_sel(\".modal-content\").html(output);\n\t        };\n\t\n\t        self.render_error = function render_error(error) {\n\t            var template;\n\t            if (error.problem && error.command == \"close\")\n\t                template = self.codes[error.problem];\n\t\n\t            if (template && current_template !== template)\n\t                change_content(template, error);\n\t            else\n\t                $(selector).dialog(\"failure\", cockpit.message(error));\n\t        };\n\t\n\t        self.render_template = function render_template(template) {\n\t            change_content(template);\n\t        };\n\t\n\t        self.show = function () {\n\t            var sel = self.get_sel();\n\t            sel.on('hide.bs.modal', function () {\n\t                self.get_sel(\".model-content\").empty();\n\t            });\n\t            sel.modal('show');\n\t        };\n\t\n\t        self.run = function (promise, failure_callback) {\n\t            var dialog_dfd = $.Deferred();\n\t            var promise_funcs = [];\n\t\n\t            function next(i) {\n\t                promise_funcs[i]()\n\t                    .done(function(val) {\n\t                        i = i + 1;\n\t                        if (i < promise_funcs.length) {\n\t                            next(i);\n\t                        } else {\n\t                            dialog_dfd.resolve();\n\t                            self.complete(val);\n\t                        }\n\t                    })\n\t                    .fail(function(ex) {\n\t                        if (failure_callback)\n\t                            failure_callback(ex);\n\t                        else\n\t                            self.render_error(ex);\n\t                        dialog_dfd.reject(ex);\n\t                    });\n\t            }\n\t\n\t            promise_funcs.push(function() {\n\t                return promise;\n\t            });\n\t\n\t            self.get_sel().dialog(\"wait\", dialog_dfd.promise());\n\t            if (promise_callback)\n\t                promise_funcs.push(promise_callback);\n\t\n\t            next(0);\n\t        };\n\t    }\n\t\n\t    function is_method_supported(methods, method) {\n\t        var result = methods[method];\n\t        return result ? result != \"no-server-support\" : false;\n\t    }\n\t\n\t    function MachineColorPicker(machines_ins) {\n\t        var self = this;\n\t\n\t        self.render = function(selector, address, selected_color) {\n\t            var machine;\n\t\n\t            if (address && !selected_color) {\n\t                machine = machines_ins.lookup(address);\n\t                if (machine)\n\t                    selected_color = machine.color;\n\t            }\n\t\n\t            if (!selected_color)\n\t                selected_color = machines_ins.unused_color();\n\t\n\t            var part, colors = [];\n\t            for (var i = 0; i < machines.colors.length; i += 6) {\n\t                part = machines.colors.slice(i, i+6);\n\t                colors.push({\"list\" : part});\n\t            }\n\t\n\t            var text = mustache.render(templates[\"color-picker\"], { 'colors' : colors, });\n\t            $(selector).html(text);\n\t\n\t            $(\"#host-edit-color\", selector).css(\"background-color\", selected_color);\n\t            $(\".color-cell\", selector).each(function(index) {\n\t                $(this).css(\"background-color\", machines.colors[index]);\n\t            });\n\t\n\t            $('#host-edit-color-popover .popover-content .color-cell', selector)\n\t                .click(function() {\n\t                    var color = $(this).css('background-color');\n\t                    $('#host-edit-color', selector).css('background-color', color);\n\t                });\n\t\n\t            $(\"#host-edit-color\", selector).parent().\n\t                on('show.bs.dropdown', function () {\n\t                    var $div = $('#host-edit-color', selector);\n\t                    var $pop = $('#host-edit-color-popover', selector);\n\t                    var div_pos = $div.position();\n\t                    var div_width = $div.width();\n\t                    var div_height = $div.height();\n\t                    var pop_width = $pop.width();\n\t                    var pop_height = $pop.height();\n\t\n\t                    var top = div_pos.top - pop_height + 10;\n\t                    if (top < 0) {\n\t                        top = div_pos.top + div_height + 10;\n\t                        $pop.addClass(\"bottom\");\n\t                        $pop.removeClass(\"top\");\n\t                    } else {\n\t                        $pop.addClass(\"top\");\n\t                        $pop.removeClass(\"bottom\");\n\t                    }\n\t                    $pop.css('left', div_pos.left + (div_width - pop_width) / 2);\n\t                    $pop.css('top', top);\n\t                    $pop.show();\n\t                }).\n\t                on('hide.bs.dropdown', function () {\n\t                    $('#host-edit-color-popover', selector).hide();\n\t                });\n\t        };\n\t    }\n\t\n\t    function Simple(dialog) {\n\t        var self = this;\n\t\n\t        self.load = function() {\n\t            dialog.render();\n\t        };\n\t    }\n\t\n\t    function AddMachine(dialog) {\n\t        var self = this;\n\t        var color = null;\n\t        var selector = dialog.get_sel();\n\t        var run_error = null;\n\t\n\t        var invisible = dialog.machines_ins.addresses.filter(function(addr) {\n\t            var m = dialog.machines_ins.lookup(addr);\n\t            return !m || !m.visible;\n\t        });\n\t\n\t        function existing_error(address) {\n\t            var ex = null;\n\t            var machine = dialog.machines_ins.lookup(address);\n\t            if (machine && machine.visible && machine.on_disk) {\n\t                ex = new Error(_(\"This machine has already been added.\"));\n\t                ex.target = \"#add-machine-address\";\n\t            }\n\t            return ex;\n\t        }\n\t\n\t        function check_address(evt) {\n\t            var disabled = true;\n\t            var ex = null;\n\t\n\t            var addr = $('#add-machine-address').val();\n\t            var button = dialog.get_sel(\".btn-primary\");\n\t            if (addr === \"\") {\n\t                disabled = true;\n\t            } else if (!machines.allow_connection_string &&\n\t                       (addr.indexOf('@') > -1 || addr.indexOf(':') > -1)) {\n\t                ex = new Error(_(\"This version of cockpit-ws does not support connecting to a host with an alternate user or port\"));\n\t            } else if (addr.search(/\\s+/) === -1) {\n\t                ex = existing_error(addr);\n\t                if (!ex)\n\t                    disabled = false;\n\t            } else {\n\t                ex = new Error(_(\"The IP address or host name cannot contain whitespace.\"));\n\t            }\n\t\n\t            if (ex)\n\t                ex.target = \"#add-machine-address\";\n\t\n\t            if (run_error)\n\t                selector.dialog(\"failure\", run_error, ex);\n\t            else\n\t                selector.dialog(\"failure\", ex);\n\t\n\t            button.prop(\"disabled\", disabled);\n\t        }\n\t\n\t        function add_machine() {\n\t            run_error = null;\n\t            dialog.address = $('#add-machine-address').val();\n\t            color = machines.colors.parse($('#add-machine-color-picker #host-edit-color').css('background-color'));\n\t            if (existing_error(dialog.address))\n\t                return;\n\t\n\t            dialog.set_goal(function() {\n\t                var dfp = $.Deferred();\n\t                dialog.machines_ins.add(dialog.address, color)\n\t                    .done(dfp.resolve)\n\t                    .fail(function (ex) {\n\t                        var msg = cockpit.format(_(\"Failed to add machine: $0\"),\n\t                                                 cockpit.message(ex));\n\t                        dfp.reject(msg);\n\t                    });\n\t\n\t                return dfp.promise();\n\t            });\n\t\n\t            dialog.run(dialog.try_to_connect(dialog.address), function (ex) {\n\t                if (ex.problem == \"no-host\") {\n\t                    var host_id_port = dialog.address;\n\t                    var port_index = host_id_port.lastIndexOf(\":\");\n\t                    var port = \"22\";\n\t                    if (port_index === -1)\n\t                        host_id_port = dialog.address + \":22\";\n\t                    else\n\t                        port = host_id_port.substr(port_index + 1);\n\t                    ex.message = cockpit.format(_(\"Cockpit could not contact the given host $0. Make sure it has ssh running on port $1, or specify another port in the address.\"), host_id_port, port);\n\t                    ex = cockpit.message(ex);\n\t                    run_error = ex;\n\t                }\n\t                dialog.render_error(ex);\n\t            });\n\t        }\n\t\n\t        self.load = function() {\n\t            var manifest = cockpit.manifests[\"shell\"] || {};\n\t            var limit = parseInt(manifest[\"machine-limit\"], 10);\n\t            var color_picker = new MachineColorPicker(dialog.machines_ins);\n\t            if (!limit || isNaN(limit))\n\t                limit = 20;\n\t\n\t            dialog.render({\n\t                'nearlimit' : limit * 0.75 <= dialog.machines_ins.list.length,\n\t                'limit' : limit,\n\t                'placeholder' : _(\"Enter IP address or host name\"),\n\t                'options' : invisible,\n\t            });\n\t\n\t            var button = dialog.get_sel(\".btn-primary\");\n\t            button.on(\"click\", add_machine);\n\t\n\t            $(\"#add-machine-address\").on(\"keyup\", function (ev) {\n\t                if (ev.which === 13) {\n\t                    var disabled = button.prop('disabled');\n\t                    if (!disabled)\n\t                        add_machine();\n\t                }\n\t            });\n\t            $(\"#add-machine-address\").on(\"input focus\", check_address);\n\t            color_picker.render(\"#add-machine-color-picker\", dialog.address, color);\n\t            $(\"#add-machine-address\").focus();\n\t        };\n\t    }\n\t\n\t    function MachinePort(dialog) {\n\t        var self = this;\n\t\n\t        function change_port() {\n\t            var dfp = $.Deferred();\n\t            var parts = dialog.machines_ins.split_connection_string(dialog.address);\n\t            parts.port = $(\"#edit-machine-port\").val();\n\t            var address = dialog.machines_ins.generate_connection_string(parts.user,\n\t                                                                  parts.port,\n\t                                                                  parts.address);\n\t            function update_host(ex) {\n\t                dialog.address = address;\n\t                dialog.machines_ins.change(parts.address, { \"port\": parts.port })\n\t                    .done(function () {\n\t                        // We failed before so try to connect again\n\t                        // now that the machine is saved.\n\t                        if (ex) {\n\t                            dialog.try_to_connect(address)\n\t                                .done(dialog.complete)\n\t                                .fail(function (e) {\n\t                                    dfp.reject(e);\n\t                                });\n\t                        } else {\n\t                            dfp.resolve();\n\t                        }\n\t                    })\n\t                    .fail(function (ex) {\n\t                        var msg = cockpit.format(_(\"Failed to edit machine: $0\"),\n\t                                                 cockpit.message(ex));\n\t                        dfp.reject(msg);\n\t                    });\n\t            }\n\t\n\t            dialog.try_to_connect(address)\n\t                .done(function () {\n\t                    update_host();\n\t                })\n\t                .fail(function (ex) {\n\t                    /* any other error means progress, so save */\n\t                    if (ex.problem != 'no-host')\n\t                        update_host(ex);\n\t                    else\n\t                        dfp.reject(ex);\n\t                });\n\t\n\t            dialog.run(dfp.promise());\n\t        }\n\t\n\t        self.load = function() {\n\t            var machine = dialog.machines_ins.lookup(dialog.address);\n\t            if (!machine) {\n\t                dialog.get_sel().modal('hide');\n\t                return;\n\t            }\n\t\n\t            dialog.render({ 'port' : machine.port,\n\t                            'allow_connection_string' : machines.allow_connection_string });\n\t            if (machines.allow_connection_string)\n\t                dialog.get_sel(\".btn-primary\").on(\"click\", change_port);\n\t        };\n\t    }\n\t\n\t    function HostKey(dialog, problem) {\n\t        var self = this;\n\t        var error_options = null;\n\t        var key = null;\n\t        var allow_change = (problem == \"unknown-hostkey\" ||\n\t                            problem == \"unknown-host\");\n\t\n\t        function add_key() {\n\t            var q;\n\t            var machine = dialog.machines_ins.lookup(dialog.address);\n\t            if (!machine || machine.on_disk) {\n\t                q = dialog.machines_ins.add_key(key);\n\t            } else {\n\t                /* When machine isn't saved to disk\n\t                   don't save the key either */\n\t                q = dialog.machines_ins.change(dialog.address, {\n\t                    'host_key': key\n\t                });\n\t            }\n\t\n\t            var promise = q.then(function () {\n\t                var inner = dialog.try_to_connect(dialog.address);\n\t\n\t                inner.fail(function(ex) {\n\t                    if ((ex.problem == \"invalid-hostkey\" ||\n\t                        ex.problem == \"unknown-hostkey\") &&\n\t                        machine && !machine.on_disk) {\n\t                            dialog.machines_ins.change(dialog.address, {\n\t                                'host_key': null\n\t                            });\n\t                        }\n\t                    });\n\t\n\t                return inner;\n\t            });\n\t\n\t            dialog.run(promise);\n\t        }\n\t\n\t        function render() {\n\t            var promise = null;\n\t            var options = {};\n\t            var match_problem = problem;\n\t            var fp;\n\t            var path = machines.known_hosts_path;\n\t\n\t            if (error_options) {\n\t                key = error_options[\"host-key\"];\n\t                fp = error_options[\"host-fingerprint\"];\n\t                if (error_options[\"invalid-hostkey-file\"])\n\t                    path = error_options[\"invalid-hostkey-file\"];\n\t            }\n\t\n\t            dialog.render({\n\t                'context_title' : dialog.context_title,\n\t                'path' : path,\n\t                'key' : fp,\n\t                'key_host' : key ? key.split(' ')[0] : null,\n\t            });\n\t\n\t            if (!key) {\n\t                if (problem == \"unknown-host\") {\n\t                    options[\"session\"] = \"private\";\n\t                    match_problem = \"unknown-hostkey\";\n\t                }\n\t\n\t                promise = dialog.try_to_connect(dialog.address, options)\n\t                    .fail(function(ex) {\n\t                        if (ex.problem != match_problem) {\n\t                            dialog.render_error(ex);\n\t                        } else {\n\t                            error_options = ex;\n\t                            render();\n\t                        }\n\t                    })\n\t\n\t                    // Fixed already, just close\n\t                    .done(function (v) {\n\t                        dialog.complete(v);\n\t                    });\n\t\n\t                dialog.get_sel().dialog(\"wait\", promise);\n\t            } else if (allow_change) {\n\t                dialog.get_sel(\".btn-primary\").on(\"click\", add_key);\n\t            }\n\t        }\n\t\n\t        self.load = function(ex) {\n\t            error_options = ex;\n\t            render();\n\t        };\n\t    }\n\t\n\t    function ChangeAuth(dialog) {\n\t        var self = this;\n\t        var error_options = null;\n\t        var keys = null;\n\t        var have_ticket = null;\n\t        var machine = dialog.machines_ins.lookup(dialog.address);\n\t\n\t        self.user = { };\n\t\n\t        function update_available() {\n\t            var key_div = dialog.get_sel('.keys');\n\t            var have_keys = false;\n\t\n\t            if (key_div) {\n\t                key_div.empty();\n\t                for (var id in keys.items) {\n\t                    var key = keys.items[id];\n\t                    if (key.loaded) {\n\t                        have_keys = true;\n\t                        key_div.append($(\"<div>\").text(key.name || key.comment));\n\t                    }\n\t                }\n\t            }\n\t\n\t            var empty_div = dialog.get_sel('.empty');\n\t            if (empty_div)\n\t                empty_div.toggleClass(\"hidden\", have_keys);\n\t        }\n\t\n\t        function login() {\n\t            var address;\n\t            var options = {};\n\t            var dfp = $.Deferred();\n\t            var user = $(\"#login-custom-user\").val();\n\t\n\t            var parts = dialog.machines_ins.split_connection_string(dialog.address);\n\t            parts.user = user;\n\t\n\t            address = dialog.machines_ins.generate_connection_string(parts.user,\n\t                                                              parts.port,\n\t                                                              parts.address);\n\t\n\t            if ($(\"#login-type button\").val() != 'stored') {\n\t                options['password'] = $(\"#login-custom-password\").val();\n\t                options[\"session\"] = 'shared';\n\t                if (!user) {\n\t                    /* we don't want to save the default user for everyone\n\t                     * so we pass current user as an option, but make sure the\n\t                     * session isn't private\n\t                     */\n\t                    if (self.user && self.user.name)\n\t                        options[\"user\"] = self.user.name;\n\t                    options[\"temp-session\"] = false; /* Compatibility option */\n\t                }\n\t            }\n\t\n\t            dialog.try_to_connect(address, options)\n\t                .done(function () {\n\t                    dialog.address = address;\n\t                    if (machine) {\n\t                        dialog.machines_ins.change(machine.address, { \"user\" : user })\n\t                            .done(dfp.resolve)\n\t                            .fail(dfp.reject);\n\t                    } else {\n\t                        dfp.resolve();\n\t                    }\n\t                })\n\t                .fail(dfp.reject);\n\t\n\t            dialog.run(dfp.promise());\n\t        }\n\t\n\t        function change_login_type(value) {\n\t            var stored = value != 'password';\n\t            var text = $(\"#login-type li[value=\" + value + \"]\").text();\n\t            $(\"#login-type button\").val(value);\n\t            $(\"#login-type button span\").text(text);\n\t            $(\"#login-available\").toggle(stored);\n\t            $(\"#login-diff-password\").toggle(!stored);\n\t        }\n\t\n\t        function render() {\n\t            var promise = null;\n\t            var template = \"change-auth\";\n\t            if (!machines.allow_connection_string || !machines.has_auth_results)\n\t                template = \"auth-failed\";\n\t\n\t            var no_password = false;\n\t            var methods = null;\n\t            var available = null;\n\t            var supported = null;\n\t\n\t            var machine_user = dialog.machines_ins.split_connection_string(dialog.address).user;\n\t            if (!machine_user && machine)\n\t                machine_user = machine.user;\n\t\n\t            if (error_options && machines.has_auth_results) {\n\t                supported = {};\n\t                available = {};\n\t\n\t                methods = error_options[\"auth-method-results\"];\n\t                if (methods) {\n\t                    no_password = methods['password'] === \"not-provided\";\n\t                    for (var method in methods) {\n\t                        if (is_method_supported(methods, method)) {\n\t                            available[method] = true;\n\t                        }\n\t                    }\n\t                }\n\t\n\t                if ($.isEmptyObject(available))\n\t                    template = \"auth-failed\";\n\t            }\n\t\n\t            dialog.render({\n\t                'supported' : methods,\n\t                'available' : available,\n\t                'machine_user' : machine_user,\n\t                'default_user' : self.user ? self.user.name : \"\",\n\t                'show_password' : available && available.password && !no_password,\n\t                'show_ticket': available && available['gssapi-mic'] && have_ticket,\n\t                'can_sync': !!dialog.codes['sync-users'],\n\t                'machines.allow_connection_string' : machines.allow_connection_string,\n\t                'sync_link' : function() {\n\t                    return function(text, render) {\n\t                        return '<a id=\"do-sync-users\">' + render(text) + \"</a>\";\n\t                    };\n\t                }\n\t            }, template);\n\t\n\t            if (methods === null && machines.has_auth_results) {\n\t                promise = dialog.try_to_connect(dialog.address)\n\t                    .fail(function(ex) {\n\t                        error_options = ex;\n\t                        render();\n\t                    })\n\t\n\t                    // Fixed already, just close\n\t                    .done(function (v) {\n\t                        dialog.complete(v);\n\t                    });\n\t\n\t                dialog.get_sel().dialog(\"wait\", promise);\n\t            } else if (!$.isEmptyObject(available)) {\n\t                $(\"#login-type li\").on('click', function() {\n\t                    change_login_type($(this).attr(\"value\"));\n\t                });\n\t                change_login_type($(\"#login-type li:first-child\").attr(\"value\"));\n\t                dialog.get_sel(\".btn-primary\").on(\"click\", login);\n\t                dialog.get_sel(\"a[data-content]\").popover();\n\t\n\t                update_available();\n\t            }\n\t\n\t            dialog.get_sel(\"#do-sync-users\").on(\"click\", function () {\n\t                dialog.render_template(\"sync-users\");\n\t            });\n\t        }\n\t\n\t        self.load = function(ex) {\n\t            error_options = ex;\n\t            if (credentials) {\n\t                keys = credentials.keys_instance();\n\t                $(keys).on(\"changed\", update_available);\n\t            }\n\t\n\t            cockpit.spawn([\"klist\", \"-s\"])\n\t                .fail(function (ex) {\n\t                    have_ticket = false;\n\t                })\n\t                .done(function (done) {\n\t                    have_ticket = true;\n\t                })\n\t                .always(function () {\n\t                    cockpit.user()\n\t                        .done(function (user) {\n\t                            self.user = user;\n\t                        })\n\t                        .always(function (user) {\n\t                            render();\n\t                        });\n\t                });\n\t        };\n\t\n\t        self.close = function(ex) {\n\t            if (keys) {\n\t                $(keys).off();\n\t                keys.close();\n\t            }\n\t            keys = null;\n\t        };\n\t    }\n\t\n\t    function SyncUsers(dialog) {\n\t        var self = this;\n\t        var users = {};\n\t\n\t        var needs_auth = false;\n\t        var needs_root = false;\n\t        var methods = null;\n\t        var remote_options = { \"superuser\": true };\n\t\n\t        var perm_failed = null;\n\t\n\t        function load_users() {\n\t            var local = cockpit.dbus(null, { bus: \"internal\",\n\t                                             host: \"localhost\",\n\t                                             superuser: true });\n\t            $(local).on(\"close\", function(event, options) {\n\t                perm_failed = options;\n\t                render();\n\t            });\n\t\n\t            var proxy = local.proxy(\"cockpit.Setup\", \"/setup\");\n\t            proxy.wait(function () {\n\t                if (proxy.valid) {\n\t                    var blank = {\n\t                        \"t\" : \"(asas)\",\n\t                        \"v\" : [[], []]\n\t                    };\n\t\n\t                    proxy.Transfer(\"passwd1\", blank)\n\t                        .done(function(prepared) {\n\t                            var i, parts, name;\n\t                            var groups = prepared.v[1];\n\t\n\t                            for (i = 0; i < prepared.v[0].length; i++) {\n\t                                var raw = prepared.v[0][i];\n\t\n\t                                parts = raw.split(\":\");\n\t                                name = parts[0];\n\t\n\t                                users[name] = {\n\t                                    \"username\" : name,\n\t                                    \"name\" : parts[4] || name,\n\t                                    \"raw\" : raw,\n\t                                    \"groups\" : [],\n\t                                };\n\t                            }\n\t\n\t                            for (i = 0; i < groups.length; i++) {\n\t                                parts = groups[i].split(\":\");\n\t                                name = parts[0];\n\t                                var members = parts[parts.length - 1].split(\",\");\n\t                                for (var j = 0; j < members.length; j++) {\n\t                                    var u = members[j];\n\t                                    if (users[u])\n\t                                        users[u].groups.push(name);\n\t                                }\n\t                            }\n\t                        })\n\t                        .fail(function(ex) {\n\t                            ex.message = cockpit.gettext(ex.message);\n\t                            perm_failed = ex;\n\t                        })\n\t                        .always(function(ex) {\n\t                            $(local).off();\n\t                            local.close();\n\t                            render();\n\t                        });\n\t                }\n\t            });\n\t        }\n\t\n\t        function sync_users() {\n\t            var client = null;\n\t\n\t            var dfd = $.Deferred();\n\t            var promise = dfd.promise();\n\t\n\t            dialog.run(promise);\n\t\n\t            /* A successfull sync should close the dialog */\n\t            dialog.set_on_success(null);\n\t\n\t            promise.always(function () {\n\t                if (client) {\n\t                    $(client).off();\n\t                    client.close();\n\t                }\n\t            });\n\t\n\t            var options = { bus: \"internal\" };\n\t            if (needs_auth) {\n\t                options.user = $(\"#sync-username\").val();\n\t                options.password = $(\"#sync-password\").val();\n\t            }\n\t            $.extend(options, remote_options, { host: dialog.address });\n\t            client = cockpit.dbus(null, options);\n\t            $(client).on(\"close\", function(event, ex) {\n\t                dfd.reject(cockpit.message(ex));\n\t            });\n\t\n\t            var variant = {\n\t                \"t\" : \"(asas)\",\n\t                \"v\" : [[]],\n\t            };\n\t\n\t            var groups = {};\n\t            dialog.get_sel(\"input:checked\").each( function() {\n\t                var u = users[$(this).attr(\"name\")];\n\t                if (u) {\n\t                    variant.v[0].push(u.raw);\n\t                    for (var i = 0; i < u.groups.length; i++) {\n\t                        var group = u.groups[i];\n\t                        if (!groups[group])\n\t                            groups[group] = [];\n\t\n\t                        groups[group].push(u.username);\n\t                    }\n\t                }\n\t            });\n\t            variant.v.push(Object.keys(groups).map(function(k) {\n\t                return k + \":::\" + groups[k].join();\n\t            }));\n\t\n\t            /* We assume all cockpits support the 'passwd1' mechanism */\n\t            var proxy = client.proxy(\"cockpit.Setup\", \"/setup\");\n\t            proxy.wait(function() {\n\t                if (proxy.valid) {\n\t                    proxy.Commit(\"passwd1\", variant)\n\t                        .fail(function(ex) {\n\t                            ex.message = cockpit.gettext(ex.message);\n\t                            dfd.reject(ex);\n\t                        })\n\t                        .done(dfd.resolve);\n\t                }\n\t            });\n\t        }\n\t\n\t        function toggle_button() {\n\t            var any = dialog.get_sel(\"input:checked\").length > 0;\n\t            dialog.get_sel(\".btn-primary\").toggleClass(\"disabled\", !any);\n\t        }\n\t\n\t        function render() {\n\t            function formated_groups() {\n\t                /*jshint validthis:true */\n\t                if (this.groups)\n\t                    return this.groups.join(\", \");\n\t            }\n\t\n\t            /* assume password is allowed for backwards compatibility */\n\t            var allows_password = true;\n\t            var user_list = Object.keys(users).sort().map(function(v) {\n\t                return users[v];\n\t            });\n\t\n\t            if (machines.has_auth_results && methods)\n\t                allows_password = is_method_supported(methods, 'password');\n\t\n\t            var text = dialog.render({\n\t                'needs_auth' : needs_auth,\n\t                'needs_root' : needs_root,\n\t                'users' : user_list,\n\t                'perm_failed' : perm_failed ? cockpit.message(perm_failed) : null,\n\t                'allows_password' : allows_password,\n\t                'formated_groups': formated_groups,\n\t            });\n\t\n\t            dialog.get_sel(\".modal-content\").html(text);\n\t            dialog.get_sel(\".btn-primary\").on(\"click\", sync_users);\n\t            dialog.get_sel(\"input:checkbox\").on(\"change\", function() {\n\t                var name = $(this).attr(\"name\");\n\t                users[name].checked = $(this).is(':checked');\n\t                toggle_button();\n\t            });\n\t            toggle_button();\n\t        }\n\t\n\t        self.load = function(error_options) {\n\t            if (error_options)\n\t                methods = error_options['auth-method-results'];\n\t\n\t            render();\n\t            dialog.try_to_connect(dialog.address, remote_options).fail(function(ex) {\n\t                needs_auth = true;\n\t                if (ex.problem == \"access-denied\") {\n\t                    needs_root = true;\n\t                    if (!methods && machines.has_auth_results)\n\t                        /* TODO: We need to know if password auth is\n\t                         * supported but we only get that when the transport\n\t                         * closes. Passing an invalid username should\n\t                         * open new transport that fails.\n\t                         */\n\t                        dialog.try_to_connect(dialog.address, { \"user\" : \"1\" })\n\t                            .fail(function(ex) {\n\t                                methods = ex['auth-method-results'];\n\t                            })\n\t                            .always(render);\n\t                } else {\n\t                    methods = ex['auth-method-results'];\n\t                    render();\n\t                }\n\t            });\n\t            load_users();\n\t        };\n\t    }\n\t\n\t    function MachineDialogManager(machines_ins, codes) {\n\t        var self = this;\n\t\n\t        if (!codes)\n\t            codes = default_codes;\n\t\n\t        var color_picker = new MachineColorPicker(machines_ins);\n\t\n\t        self.troubleshoot = function(target_id, machine) {\n\t            var selector = \"#\" + target_id;\n\t            if (!machine || !machine.problem)\n\t                return;\n\t\n\t            var template = codes[machine.problem];\n\t            if (machine.problem == \"no-host\")\n\t                template = \"change-port\";\n\t\n\t            var dialog = new Dialog(selector, machine.address, machines_ins, codes);\n\t            dialog.render_template(template);\n\t            dialog.show();\n\t        };\n\t\n\t        self.needs_troubleshoot = function (machine) {\n\t            if (!machine || !machine.problem)\n\t                return false;\n\t\n\t            if (machine.problem == \"no-host\")\n\t                return true;\n\t\n\t            return codes[machine.problem] ? true : false;\n\t        };\n\t\n\t        self.render_dialog = function (template, target_id, address) {\n\t            var selector = \"#\" + target_id;\n\t            var dialog = new Dialog(selector, address, machines_ins, codes);\n\t            dialog.render_template(template);\n\t            dialog.show();\n\t        };\n\t\n\t        self.render_color_picker = function (selector, address) {\n\t            color_picker.render(selector, address);\n\t        };\n\t    }\n\t\n\t    module.exports = {\n\t        new_manager: function (machines_ins, codes) {\n\t            return new MachineDialogManager(machines_ins, codes);\n\t        }\n\t    };\n\t}());\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar cockpit = __webpack_require__(13);\n\tvar mustache = __webpack_require__(28);\n\t\n\t/*\n\t * Turns a mustache template into a translated mustache template\n\t * by preparsing it and translating it.\n\t */\n\tvar cache = { };\n\t\n\tfunction translate(template) {\n\t    if (template in cache)\n\t        return cache[template];\n\t    var div = document.createElement(\"div\");\n\t    div.innerHTML = template;\n\t    cockpit.translate(div);\n\t    var result = div.innerHTML;\n\t    cache[template] = result;\n\t    return result;\n\t}\n\t\n\t/* Just like the mustache object, except for translated */\n\tmodule.exports = cockpit.extend({ }, mustache, {\n\t    render: function render(template, view, partials) {\n\t        if (!view)\n\t            view = {};\n\t\n\t        return translate(mustache.render(template, view, partials));\n\t    },\n\t    to_html: function to_html(template, view, partials, send) {\n\t        if (!view)\n\t            view = {};\n\t\n\t        return translate(mustache.to_html(template, view, partials, send));\n\t    },\n\t    clearCache: function clearCache() {\n\t        cache = { };\n\t        return mustache.clearCache();\n\t    }\n\t});\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n\t * mustache.js - Logic-less {{mustache}} templates with JavaScript\n\t * http://github.com/janl/mustache.js\n\t */\n\t\n\t/*global define: false Mustache: true*/\n\t\n\t(function defineMustache (global, factory) {\n\t  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n\t    factory(exports); // CommonJS\n\t  } else if (true) {\n\t    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); // AMD\n\t  } else {\n\t    global.Mustache = {};\n\t    factory(global.Mustache); // script, wsh, asp\n\t  }\n\t}(this, function mustacheFactory (mustache) {\n\t\n\t  var objectToString = Object.prototype.toString;\n\t  var isArray = Array.isArray || function isArrayPolyfill (object) {\n\t    return objectToString.call(object) === '[object Array]';\n\t  };\n\t\n\t  function isFunction (object) {\n\t    return typeof object === 'function';\n\t  }\n\t\n\t  /**\n\t   * More correct typeof string handling array\n\t   * which normally returns typeof 'object'\n\t   */\n\t  function typeStr (obj) {\n\t    return isArray(obj) ? 'array' : typeof obj;\n\t  }\n\t\n\t  function escapeRegExp (string) {\n\t    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n\t  }\n\t\n\t  /**\n\t   * Null safe way of checking whether or not an object,\n\t   * including its prototype, has a given property\n\t   */\n\t  function hasProperty (obj, propName) {\n\t    return obj != null && typeof obj === 'object' && (propName in obj);\n\t  }\n\t\n\t  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n\t  // See https://github.com/janl/mustache.js/issues/189\n\t  var regExpTest = RegExp.prototype.test;\n\t  function testRegExp (re, string) {\n\t    return regExpTest.call(re, string);\n\t  }\n\t\n\t  var nonSpaceRe = /\\S/;\n\t  function isWhitespace (string) {\n\t    return !testRegExp(nonSpaceRe, string);\n\t  }\n\t\n\t  var entityMap = {\n\t    '&': '&amp;',\n\t    '<': '&lt;',\n\t    '>': '&gt;',\n\t    '\"': '&quot;',\n\t    \"'\": '&#39;',\n\t    '/': '&#x2F;',\n\t    '`': '&#x60;',\n\t    '=': '&#x3D;'\n\t  };\n\t\n\t  function escapeHtml (string) {\n\t    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n\t      return entityMap[s];\n\t    });\n\t  }\n\t\n\t  var whiteRe = /\\s*/;\n\t  var spaceRe = /\\s+/;\n\t  var equalsRe = /\\s*=/;\n\t  var curlyRe = /\\s*\\}/;\n\t  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\t\n\t  /**\n\t   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n\t   * argument is given here it must be an array with two string values: the\n\t   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n\t   * course, the default is to use mustaches (i.e. mustache.tags).\n\t   *\n\t   * A token is an array with at least 4 elements. The first element is the\n\t   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n\t   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n\t   * all text that appears outside a symbol this element is \"text\".\n\t   *\n\t   * The second element of a token is its \"value\". For mustache tags this is\n\t   * whatever else was inside the tag besides the opening symbol. For text tokens\n\t   * this is the text itself.\n\t   *\n\t   * The third and fourth elements of the token are the start and end indices,\n\t   * respectively, of the token in the original template.\n\t   *\n\t   * Tokens that are the root node of a subtree contain two more elements: 1) an\n\t   * array of tokens in the subtree and 2) the index in the original template at\n\t   * which the closing tag for that section begins.\n\t   */\n\t  function parseTemplate (template, tags) {\n\t    if (!template)\n\t      return [];\n\t\n\t    var sections = [];     // Stack to hold section tokens\n\t    var tokens = [];       // Buffer to hold the tokens\n\t    var spaces = [];       // Indices of whitespace tokens on the current line\n\t    var hasTag = false;    // Is there a {{tag}} on the current line?\n\t    var nonSpace = false;  // Is there a non-space char on the current line?\n\t\n\t    // Strips all whitespace tokens array for the current line\n\t    // if there was a {{#tag}} on it and otherwise only space.\n\t    function stripSpace () {\n\t      if (hasTag && !nonSpace) {\n\t        while (spaces.length)\n\t          delete tokens[spaces.pop()];\n\t      } else {\n\t        spaces = [];\n\t      }\n\t\n\t      hasTag = false;\n\t      nonSpace = false;\n\t    }\n\t\n\t    var openingTagRe, closingTagRe, closingCurlyRe;\n\t    function compileTags (tagsToCompile) {\n\t      if (typeof tagsToCompile === 'string')\n\t        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\t\n\t      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n\t        throw new Error('Invalid tags: ' + tagsToCompile);\n\t\n\t      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n\t      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n\t      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n\t    }\n\t\n\t    compileTags(tags || mustache.tags);\n\t\n\t    var scanner = new Scanner(template);\n\t\n\t    var start, type, value, chr, token, openSection;\n\t    while (!scanner.eos()) {\n\t      start = scanner.pos;\n\t\n\t      // Match any text between tags.\n\t      value = scanner.scanUntil(openingTagRe);\n\t\n\t      if (value) {\n\t        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n\t          chr = value.charAt(i);\n\t\n\t          if (isWhitespace(chr)) {\n\t            spaces.push(tokens.length);\n\t          } else {\n\t            nonSpace = true;\n\t          }\n\t\n\t          tokens.push([ 'text', chr, start, start + 1 ]);\n\t          start += 1;\n\t\n\t          // Check for whitespace on the current line.\n\t          if (chr === '\\n')\n\t            stripSpace();\n\t        }\n\t      }\n\t\n\t      // Match the opening tag.\n\t      if (!scanner.scan(openingTagRe))\n\t        break;\n\t\n\t      hasTag = true;\n\t\n\t      // Get the tag type.\n\t      type = scanner.scan(tagRe) || 'name';\n\t      scanner.scan(whiteRe);\n\t\n\t      // Get the tag value.\n\t      if (type === '=') {\n\t        value = scanner.scanUntil(equalsRe);\n\t        scanner.scan(equalsRe);\n\t        scanner.scanUntil(closingTagRe);\n\t      } else if (type === '{') {\n\t        value = scanner.scanUntil(closingCurlyRe);\n\t        scanner.scan(curlyRe);\n\t        scanner.scanUntil(closingTagRe);\n\t        type = '&';\n\t      } else {\n\t        value = scanner.scanUntil(closingTagRe);\n\t      }\n\t\n\t      // Match the closing tag.\n\t      if (!scanner.scan(closingTagRe))\n\t        throw new Error('Unclosed tag at ' + scanner.pos);\n\t\n\t      token = [ type, value, start, scanner.pos ];\n\t      tokens.push(token);\n\t\n\t      if (type === '#' || type === '^') {\n\t        sections.push(token);\n\t      } else if (type === '/') {\n\t        // Check section nesting.\n\t        openSection = sections.pop();\n\t\n\t        if (!openSection)\n\t          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\t\n\t        if (openSection[1] !== value)\n\t          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n\t      } else if (type === 'name' || type === '{' || type === '&') {\n\t        nonSpace = true;\n\t      } else if (type === '=') {\n\t        // Set the tags for the next time around.\n\t        compileTags(value);\n\t      }\n\t    }\n\t\n\t    // Make sure there are no open sections when we're done.\n\t    openSection = sections.pop();\n\t\n\t    if (openSection)\n\t      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\t\n\t    return nestTokens(squashTokens(tokens));\n\t  }\n\t\n\t  /**\n\t   * Combines the values of consecutive text tokens in the given `tokens` array\n\t   * to a single token.\n\t   */\n\t  function squashTokens (tokens) {\n\t    var squashedTokens = [];\n\t\n\t    var token, lastToken;\n\t    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n\t      token = tokens[i];\n\t\n\t      if (token) {\n\t        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n\t          lastToken[1] += token[1];\n\t          lastToken[3] = token[3];\n\t        } else {\n\t          squashedTokens.push(token);\n\t          lastToken = token;\n\t        }\n\t      }\n\t    }\n\t\n\t    return squashedTokens;\n\t  }\n\t\n\t  /**\n\t   * Forms the given array of `tokens` into a nested tree structure where\n\t   * tokens that represent a section have two additional items: 1) an array of\n\t   * all tokens that appear in that section and 2) the index in the original\n\t   * template that represents the end of that section.\n\t   */\n\t  function nestTokens (tokens) {\n\t    var nestedTokens = [];\n\t    var collector = nestedTokens;\n\t    var sections = [];\n\t\n\t    var token, section;\n\t    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n\t      token = tokens[i];\n\t\n\t      switch (token[0]) {\n\t        case '#':\n\t        case '^':\n\t          collector.push(token);\n\t          sections.push(token);\n\t          collector = token[4] = [];\n\t          break;\n\t        case '/':\n\t          section = sections.pop();\n\t          section[5] = token[2];\n\t          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n\t          break;\n\t        default:\n\t          collector.push(token);\n\t      }\n\t    }\n\t\n\t    return nestedTokens;\n\t  }\n\t\n\t  /**\n\t   * A simple string scanner that is used by the template parser to find\n\t   * tokens in template strings.\n\t   */\n\t  function Scanner (string) {\n\t    this.string = string;\n\t    this.tail = string;\n\t    this.pos = 0;\n\t  }\n\t\n\t  /**\n\t   * Returns `true` if the tail is empty (end of string).\n\t   */\n\t  Scanner.prototype.eos = function eos () {\n\t    return this.tail === '';\n\t  };\n\t\n\t  /**\n\t   * Tries to match the given regular expression at the current position.\n\t   * Returns the matched text if it can match, the empty string otherwise.\n\t   */\n\t  Scanner.prototype.scan = function scan (re) {\n\t    var match = this.tail.match(re);\n\t\n\t    if (!match || match.index !== 0)\n\t      return '';\n\t\n\t    var string = match[0];\n\t\n\t    this.tail = this.tail.substring(string.length);\n\t    this.pos += string.length;\n\t\n\t    return string;\n\t  };\n\t\n\t  /**\n\t   * Skips all text until the given regular expression can be matched. Returns\n\t   * the skipped string, which is the entire tail if no match can be made.\n\t   */\n\t  Scanner.prototype.scanUntil = function scanUntil (re) {\n\t    var index = this.tail.search(re), match;\n\t\n\t    switch (index) {\n\t      case -1:\n\t        match = this.tail;\n\t        this.tail = '';\n\t        break;\n\t      case 0:\n\t        match = '';\n\t        break;\n\t      default:\n\t        match = this.tail.substring(0, index);\n\t        this.tail = this.tail.substring(index);\n\t    }\n\t\n\t    this.pos += match.length;\n\t\n\t    return match;\n\t  };\n\t\n\t  /**\n\t   * Represents a rendering context by wrapping a view object and\n\t   * maintaining a reference to the parent context.\n\t   */\n\t  function Context (view, parentContext) {\n\t    this.view = view;\n\t    this.cache = { '.': this.view };\n\t    this.parent = parentContext;\n\t  }\n\t\n\t  /**\n\t   * Creates a new context using the given view with this context\n\t   * as the parent.\n\t   */\n\t  Context.prototype.push = function push (view) {\n\t    return new Context(view, this);\n\t  };\n\t\n\t  /**\n\t   * Returns the value of the given name in this context, traversing\n\t   * up the context hierarchy if the value is absent in this context's view.\n\t   */\n\t  Context.prototype.lookup = function lookup (name) {\n\t    var cache = this.cache;\n\t\n\t    var value;\n\t    if (cache.hasOwnProperty(name)) {\n\t      value = cache[name];\n\t    } else {\n\t      var context = this, names, index, lookupHit = false;\n\t\n\t      while (context) {\n\t        if (name.indexOf('.') > 0) {\n\t          value = context.view;\n\t          names = name.split('.');\n\t          index = 0;\n\t\n\t          /**\n\t           * Using the dot notion path in `name`, we descend through the\n\t           * nested objects.\n\t           *\n\t           * To be certain that the lookup has been successful, we have to\n\t           * check if the last object in the path actually has the property\n\t           * we are looking for. We store the result in `lookupHit`.\n\t           *\n\t           * This is specially necessary for when the value has been set to\n\t           * `undefined` and we want to avoid looking up parent contexts.\n\t           **/\n\t          while (value != null && index < names.length) {\n\t            if (index === names.length - 1)\n\t              lookupHit = hasProperty(value, names[index]);\n\t\n\t            value = value[names[index++]];\n\t          }\n\t        } else {\n\t          value = context.view[name];\n\t          lookupHit = hasProperty(context.view, name);\n\t        }\n\t\n\t        if (lookupHit)\n\t          break;\n\t\n\t        context = context.parent;\n\t      }\n\t\n\t      cache[name] = value;\n\t    }\n\t\n\t    if (isFunction(value))\n\t      value = value.call(this.view);\n\t\n\t    return value;\n\t  };\n\t\n\t  /**\n\t   * A Writer knows how to take a stream of tokens and render them to a\n\t   * string, given a context. It also maintains a cache of templates to\n\t   * avoid the need to parse the same template twice.\n\t   */\n\t  function Writer () {\n\t    this.cache = {};\n\t  }\n\t\n\t  /**\n\t   * Clears all cached templates in this writer.\n\t   */\n\t  Writer.prototype.clearCache = function clearCache () {\n\t    this.cache = {};\n\t  };\n\t\n\t  /**\n\t   * Parses and caches the given `template` and returns the array of tokens\n\t   * that is generated from the parse.\n\t   */\n\t  Writer.prototype.parse = function parse (template, tags) {\n\t    var cache = this.cache;\n\t    var tokens = cache[template];\n\t\n\t    if (tokens == null)\n\t      tokens = cache[template] = parseTemplate(template, tags);\n\t\n\t    return tokens;\n\t  };\n\t\n\t  /**\n\t   * High-level method that is used to render the given `template` with\n\t   * the given `view`.\n\t   *\n\t   * The optional `partials` argument may be an object that contains the\n\t   * names and templates of partials that are used in the template. It may\n\t   * also be a function that is used to load partial templates on the fly\n\t   * that takes a single argument: the name of the partial.\n\t   */\n\t  Writer.prototype.render = function render (template, view, partials) {\n\t    var tokens = this.parse(template);\n\t    var context = (view instanceof Context) ? view : new Context(view);\n\t    return this.renderTokens(tokens, context, partials, template);\n\t  };\n\t\n\t  /**\n\t   * Low-level method that renders the given array of `tokens` using\n\t   * the given `context` and `partials`.\n\t   *\n\t   * Note: The `originalTemplate` is only ever used to extract the portion\n\t   * of the original template that was contained in a higher-order section.\n\t   * If the template doesn't use higher-order sections, this argument may\n\t   * be omitted.\n\t   */\n\t  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n\t    var buffer = '';\n\t\n\t    var token, symbol, value;\n\t    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n\t      value = undefined;\n\t      token = tokens[i];\n\t      symbol = token[0];\n\t\n\t      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n\t      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n\t      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n\t      else if (symbol === '&') value = this.unescapedValue(token, context);\n\t      else if (symbol === 'name') value = this.escapedValue(token, context);\n\t      else if (symbol === 'text') value = this.rawValue(token);\n\t\n\t      if (value !== undefined)\n\t        buffer += value;\n\t    }\n\t\n\t    return buffer;\n\t  };\n\t\n\t  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n\t    var self = this;\n\t    var buffer = '';\n\t    var value = context.lookup(token[1]);\n\t\n\t    // This function is used to render an arbitrary template\n\t    // in the current context by higher-order sections.\n\t    function subRender (template) {\n\t      return self.render(template, context, partials);\n\t    }\n\t\n\t    if (!value) return;\n\t\n\t    if (isArray(value)) {\n\t      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n\t        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n\t      }\n\t    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n\t      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n\t    } else if (isFunction(value)) {\n\t      if (typeof originalTemplate !== 'string')\n\t        throw new Error('Cannot use higher-order sections without the original template');\n\t\n\t      // Extract the portion of the original template that the section contains.\n\t      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\t\n\t      if (value != null)\n\t        buffer += value;\n\t    } else {\n\t      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n\t    }\n\t    return buffer;\n\t  };\n\t\n\t  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n\t    var value = context.lookup(token[1]);\n\t\n\t    // Use JavaScript's definition of falsy. Include empty arrays.\n\t    // See https://github.com/janl/mustache.js/issues/186\n\t    if (!value || (isArray(value) && value.length === 0))\n\t      return this.renderTokens(token[4], context, partials, originalTemplate);\n\t  };\n\t\n\t  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n\t    if (!partials) return;\n\t\n\t    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n\t    if (value != null)\n\t      return this.renderTokens(this.parse(value), context, partials, value);\n\t  };\n\t\n\t  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n\t    var value = context.lookup(token[1]);\n\t    if (value != null)\n\t      return value;\n\t  };\n\t\n\t  Writer.prototype.escapedValue = function escapedValue (token, context) {\n\t    var value = context.lookup(token[1]);\n\t    if (value != null)\n\t      return mustache.escape(value);\n\t  };\n\t\n\t  Writer.prototype.rawValue = function rawValue (token) {\n\t    return token[1];\n\t  };\n\t\n\t  mustache.name = 'mustache.js';\n\t  mustache.version = '2.2.1';\n\t  mustache.tags = [ '{{', '}}' ];\n\t\n\t  // All high-level mustache.* functions use this writer.\n\t  var defaultWriter = new Writer();\n\t\n\t  /**\n\t   * Clears all cached templates in the default writer.\n\t   */\n\t  mustache.clearCache = function clearCache () {\n\t    return defaultWriter.clearCache();\n\t  };\n\t\n\t  /**\n\t   * Parses and caches the given template in the default writer and returns the\n\t   * array of tokens it contains. Doing this ahead of time avoids the need to\n\t   * parse templates on the fly as they are rendered.\n\t   */\n\t  mustache.parse = function parse (template, tags) {\n\t    return defaultWriter.parse(template, tags);\n\t  };\n\t\n\t  /**\n\t   * Renders the `template` with the given `view` and `partials` using the\n\t   * default writer.\n\t   */\n\t  mustache.render = function render (template, view, partials) {\n\t    if (typeof template !== 'string') {\n\t      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n\t                          'but \"' + typeStr(template) + '\" was given as the first ' +\n\t                          'argument for mustache#render(template, view, partials)');\n\t    }\n\t\n\t    return defaultWriter.render(template, view, partials);\n\t  };\n\t\n\t  // This is here for backwards compatibility with 0.4.x.,\n\t  /*eslint-disable */ // eslint wants camel cased function name\n\t  mustache.to_html = function to_html (template, view, partials, send) {\n\t    /*eslint-enable*/\n\t\n\t    var result = mustache.render(template, view, partials);\n\t\n\t    if (isFunction(send)) {\n\t      send(result);\n\t    } else {\n\t      return result;\n\t    }\n\t  };\n\t\n\t  // Export the escaping function so that the user may override it.\n\t  // See https://github.com/janl/mustache.js/issues/244\n\t  mustache.escape = escapeHtml;\n\t\n\t  // Export these mainly for testing, but also for advanced usage.\n\t  mustache.Scanner = Scanner;\n\t  mustache.Context = Context;\n\t  mustache.Writer = Writer;\n\t\n\t}));\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Add Machine to Dashboard</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td class=\\\"top\\\" translatable=\\\"yes\\\">Address</td>\\n                <td>\\n                <div class=\\\"dialog-wrapper error-keep\\\">\\n                    <input class=\\\"form-control\\\" id=\\\"add-machine-address\\\"\\n                       type=\\\"test\\\" value=\\\"{{ full_address }}\\\"\\n                       list=\\\"options\\\"\\n                       placeholder=\\\"{{ placeholder }}\\\"/>\\n                    <datalist id=\\\"options\\\">\\n                        {{#options}}\\n                        <option value=\\\"{{.}}\\\">\\n                        {{/options}}\\n                    </datalist>\\n                </div>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td translatable=\\\"yes\\\">Color</td>\\n                <td id=\\\"add-machine-color-picker\\\">\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    {{#nearlimit}}\\n    <div class=\\\"alert alert-warning dialog-error dashboard-machine-warning\\\">\\n        <span class=\\\"pficon pficon-warning-triangle-o\\\"></span>\\n        <span translatable=\\\"yes\\\">Connecting simultaneously to more than {{ limit }} machines is unsupported.</span>\\n    </div>\\n    {{/nearlimit}}\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Add</button>\\n</div>\\n\"\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Authentication Failed</h4>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    {{#supported}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log into {{#strong}}{{host}}{{/strong}}. To use this machine with cockpit you will need to enable one of the following authentication methods in the sshd config on {{#strong}}{{host}}{{/strong}}:</p>\\n    <ul>\\n        {{#password}}<li translatable=\\\"yes\\\">Password</li>{{/password}}\\n        {{#public-key}}<li translatable=\\\"yes\\\">Public Key</li>{{/public-key}}\\n        {{#gssapi-mic}}<li translatable=\\\"yes\\\">Kerberos Based SSO</li>{{/gssapi-mic}}\\n    </ul>\\n    {{/supported}}\\n\\n    {{^supported}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log in to {{#strong}}{{host}}{{/strong}}. {{#can_sync}}You may want to try to {{#sync_link}}synchronize users{{/sync_link}}.{{/can_sync}} For more authentication options and troubleshooting support please upgrade cockpit-ws to a newer version.</p>\\n    {{/supported}}\\n\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n</div>\\n\"\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Log in to {{host}}</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    {{^available}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log into {{#strong}}{{host}}{{/strong}}.</p>\\n    {{/available}}\\n\\n    {{#available}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log into {{#strong}}{{host}}{{/strong}}. You can change your authentication credentials below. {{#can_sync}}You may prefer to {{#sync_link}}synchronize accounts and passwords{{/sync_link}}.{{/can_sync}}</p>\\n\\n    <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td translatable=\\\"yes\\\" class=\\\"top\\\">User name</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"login-custom-user\\\" type=\\\"text\\\" value=\\\"{{machine_user}}\\\" placeholder=\\\"{{ default_user }}\\\"/>\\n                </td>\\n                <td>\\n                    <a tabindex=\\\"0\\\" role=\\\"button\\\" data-toggle=\\\"popover\\\"\\n                        data-trigger=\\\"focus\\\" data-placement=\\\"bottom\\\" translate=\\\"data-content\\\"\\n                        data-content=\\\"Leave blank to connect to this machine as the currently logged in user{{#default_user}} ({{default_user}}){{/default_user}}. If you enter a different username, that user will always be used connecting to this machine.\\\">\\n                        <span class=\\\"fa fa-lg fa-info-circle\\\"></span>\\n                    </a>\\n                </td>\\n            </tr>\\n\\n            <tr>\\n                <td translatable=\\\"yes\\\">Authentication</td>\\n                <td>\\n                    <div class=\\\"btn-group bootstrap-select dropdown form-control\\\" id=\\\"login-type\\\">\\n                        <button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\"\\n                            data-toggle=\\\"dropdown\\\">\\n                            <span class=\\\"pull-left\\\" translatable=\\\"yes\\\"></span>\\n                            <div class=\\\"caret\\\"></div>\\n                        </button>\\n                        <ul class=\\\"dropdown-menu\\\">\\n                            {{#password}}\\n                            <li value=\\\"password\\\"><a translate>Type a password</a></li>\\n                            {{/password}}\\n                            <li value=\\\"stored\\\"><a translate>Using available credentials</a></li>\\n                        </ul>\\n                    </div>\\n                </td>\\n            </tr>\\n\\n            {{#password}}\\n            <tr id=\\\"login-diff-password\\\">\\n                <td translatable=\\\"yes\\\" class=\\\"top\\\">Password</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"login-custom-password\\\" type=\\\"password\\\" />\\n                </td>\\n                <td>\\n                    <a tabindex=\\\"0\\\" role=\\\"button\\\" data-toggle=\\\"popover\\\"\\n                        data-trigger=\\\"focus\\\" data-placement=\\\"bottom\\\" translate=\\\"data-content\\\"\\n                        data-content=\\\"Entering a different password here means you will need to retype it every time you reconnect to this machine\\\">\\n                        <span class=\\\"fa fa-lg fa-info-circle\\\"></span>\\n                    </a>\\n                </td>\\n            </tr>\\n            {{/password}}\\n            <tr id=\\\"login-available\\\">\\n                <td translatable=\\\"yes\\\" class=\\\"top\\\">Available</td>\\n                <td class=\\\"top\\\">\\n                        {{#show_password}}<div translate>Login Password</div>{{/show_password}}\\n                        {{#show_ticket}}<div translate>Kerberos Ticket</div>{{/show_ticket}}\\n                        {{^show_password}}{{^show_ticket}}<div class=\\\"empty hidden\\\">No available credentials</div>{{/show_ticket}}{{/show_password}}\\n                        {{#public-key}}<div class=\\\"keys\\\"><div class='dialog-wait-ct pull-left'><div class='spinner spinner-sm'></div><span translatable=\\\"yes\\\">Checking for public keys</span></div></div>{{/public-key}}\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n    {{/available}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Log In</button>\\n</div>\\n\"\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Could not contact {{host}}</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    <p>\\n        <span translatable=\\\"yes\\\">Cockpit was unable to contact {{#strong}}{{host}}{{/strong}}.</span>\\n        {{^allow_connection_string}}\\n        <span translatable=\\\"yes\\\">To try a different port you will need to upgrade cockpit-ws to a newer version.</span>\\n        {{/allow_connection_string}}\\n\\n        {{#allow_connection_string}}\\n        <span translatable=\\\"yes\\\">Is sshd running on a different port?</span>\\n        {{/allow_connection_string}}\\n    </p>\\n\\n    {{#allow_connection_string}}\\n    <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td class=\\\"top\\\" translatable=\\\"yes\\\">Port</td>\\n                <td>\\n                <div class=\\\"dialog-wrapper error-keep\\\">\\n                    <input id=\\\"edit-machine-port\\\" class=\\\"form-control\\\"\\n                       type=\\\"test\\\" value=\\\"{{ port }}\\\"\\n                       list=\\\"options\\\"\\n                       placeholder=\\\"22\\\"/>\\n                </div>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n    {{/allow_connection_string}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    {{#allow_connection_string}}\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Update</button>\\n    {{/allow_connection_string}}\\n\\n    {{^allow_connection_string}}\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n    {{/allow_connection_string}}\\n</div>\\n\"\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div>\\n    <div id=\\\"host-edit-color\\\" data-toggle=\\\"dropdown\\\"></div>\\n    <div id=\\\"host-edit-color-popover\\\" class=\\\"popover in\\\" tabindex=\\\"-1\\\">\\n        <div class=\\\"arrow\\\"></div>\\n        <div class=\\\"popover-content\\\">\\n            {{#colors}}\\n            <div>\\n                {{#list}}\\n                <div class=\\\"color-cell\\\"></div>\\n                {{/list}}\\n            </div>\\n            {{/colors}}\\n        </div>\\n        <div class=\\\"arrow\\\"></div>\\n    </div>\\n</div>\\n\"\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Incorrect Host Key</h4>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <div class=\\\"banned\\\">\\n        <i class=\\\"fa fa-ban\\\"></i>\\n    </div>\\n    <p translatable=\\\"yes\\\">The key of {{#strong}}{{host}}{{/strong}} does not match the key previously in use. Unless this machine was recently replaced, it is likely that someone is trying to attack your connection to this machine.</p>\\n\\n    {{#key_host}}\\n    <p translatable=\\\"yes\\\">You can remove the previously stored key by running the following command</p>\\n\\n    <pre class=\\\"center\\\">ssh-keygen -R {{ key_host }} -f {{ path }}</pre>\\n    {{/key_host}}\\n\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n</div>\\n\"\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Cockpit is not installed</h4>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <p translatable=\\\"yes\\\">A compatible version of Cockpit is not installed on {{#strong}}{{host}}{{/strong}}.</p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n</div>\\n\"\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Synchronize users</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    <p translatable=\\\"yes\\\">Select the users that you would like to be synchronized with {{#strong}}{{host}}{{/strong}}</p>\\n\\n{{#perm_failed}}\\n    <div class=\\\"alert alert-danger dialog-error\\\">\\n        <span class=\\\"fa fa-exclamation-triangle\\\"></span>\\n        <span translatable=\\\"yes\\\">Error loading users: {{perm_failed}}</span>\\n    </div>\\n{{/perm_failed}}\\n\\n{{^perm_failed}}\\n    <div id=\\\"sync-users\\\">\\n        <table class=\\\"table\\\">\\n        <tbody>\\n        {{^users}}\\n            <tr>\\n                  <td>\\n                    <div class=\\\"center-spinner\\\">\\n                        <div class=\\\"spinner spinner-lg\\\"></div>\\n                    </div>\\n                  </td>\\n            </tr>\\n        {{/users}}\\n\\n        {{#users}}\\n              <tr>\\n                  <td><input type=\\\"checkbox\\\" name=\\\"{{username}}\\\" {{#checked}}checked=checked{{/checked}} /></td>\\n                  <td>{{username}}</td>\\n                  <td>{{name}}</td>\\n                  <td>&#8226;&#8226;&#8226;&#8226;&#8226;</td>\\n                  <td>{{formated_groups}}</td>\\n              </tr>\\n        {{/users}}\\n        </tbody>\\n        </table>\\n    </div>\\n\\n    {{#needs_auth}}\\n    <div>\\n        {{#needs_root}}\\n        <p translatable=\\\"yes\\\">You are connected to {{#strong}}{{host}}{{/strong}}, however in order to synchronize users, a user with superuser privileges is required.</p>\\n        {{/needs_root}}\\n        {{^needs_root}}\\n        <p translatable=\\\"yes\\\">In order to synchronize users, you need to log in to {{#strong}}{{host}}{{/strong}}.</p>\\n        {{/needs_root}}\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td translatable=\\\"yes\\\">User name</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"sync-username\\\" type=\\\"text\\\" />\\n                </td>\\n            </tr>\\n            {{#allows_password}}\\n            <tr>\\n                <td translatable=\\\"yes\\\">Password</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"sync-password\\\" type=\\\"password\\\" />\\n                </td>\\n            </tr>\\n            {{/allows_password}}\\n        </table>\\n    </div>\\n    {{/needs_auth}}\\n{{/perm_failed}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary disabled\\\" translatable=\\\"yes\\\">Synchronize</button>\\n</div>\\n\"\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Unknown Host Key</h4>\\n</div>\\n<div id=\\\"add-unknown-host\\\" class=\\\"modal-body\\\">\\n    {{#key}}\\n        <p translatable=\\\"yes\\\">The authenticity of host {{#strong}}{{host}}{{/strong}} can't be established. Are you sure you want to continue connecting?</p>\\n        <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td translatable=\\\"yes\\\">Fingerprint</td>\\n                <td><pre class=\\\"machine-key\\\">{{key}} </pre></td>\\n            </tr>\\n        </table>\\n        </div>\\n    {{/key}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n\\n    {{#key}}\\n        <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Connect</button>\\n    {{/key}}\\n</div>\\n\"\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar phantom_checkpoint = phantom_checkpoint || function () { };\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var $ = __webpack_require__(12);\n\t    var cockpit = __webpack_require__(13);\n\t\n\t    var base_index = __webpack_require__(39);\n\t\n\t    var _ = cockpit.gettext;\n\t\n\t    var shell_embedded = window.location.pathname.indexOf(\".html\") !== -1;\n\t\n\t    function MachinesIndex(index_options, machines, loader, mdialogs) {\n\t        if (!index_options)\n\t            index_options = {};\n\t\n\t        index_options.navigate = function (state, sidebar) {\n\t            return navigate(state, sidebar);\n\t        };\n\t        var index = base_index.new_index_from_proto(index_options);\n\t\n\t        /* Restarts */\n\t        $(index).on(\"expect_restart\", function (ev, host) {\n\t            loader.expect_restart(host);\n\t        });\n\t\n\t        /* Disconnection Dialog */\n\t        var watchdog_problem = null;\n\t        $(index).on(\"disconnect\", function (ev, problem) {\n\t            watchdog_problem = problem;\n\t            show_disconnected();\n\t        });\n\t\n\t        /* Is troubleshooting dialog open */\n\t        var troubleshooting = false;\n\t        var machines_timer = null;\n\t\n\t        $(\"#machine-dropdown\").on(\"hide.bs.dropdown\", function () {\n\t            $(\"#find-machine\").val(\"\");\n\t            $(\"#machine-dropdown ul li\").toggleClass(\"hidden\", false);\n\t        });\n\t\n\t        $(\"#find-machine\").on(\"keyup\", function (ev) {\n\t            if (machines_timer)\n\t                window.clearTimeout(machines_timer);\n\t\n\t            machines_timer = window.setTimeout(function () {\n\t                filter_machines();\n\t                machines_timer = null;\n\t            }, 250);\n\t        });\n\t\n\t        $(\"#host-nav-item\").on(\"click\", function (ev) {\n\t            if ($(this).hasClass(\"active\")) {\n\t                $(this).toggleClass(\"menu-visible\");\n\t                $(\"#host-nav\").toggleClass(\"interact\");\n\t                ev.preventDefault();\n\t                return false;\n\t            } else {\n\t                $(this).toggleClass(\"menu-visible\", true);\n\t                $(\"#host-nav\").toggleClass(\"interact\", true);\n\t            }\n\t        });\n\t\n\t        /* Reconnect button */\n\t        $(\"#machine-reconnect\").on(\"click\", function(ev) {\n\t            if (watchdog_problem) {\n\t                cockpit.sessionStorage.clear();\n\t                window.location.reload(true);\n\t            } else {\n\t                navigate(null, true);\n\t            }\n\t        });\n\t\n\t        /* Troubleshoot pause navigation */\n\t        $(\"#troubleshoot-dialog\").on(\"show.bs.modal\", function(ev) {\n\t            troubleshooting = true;\n\t        });\n\t\n\t        /* Troubleshoot dialog close */\n\t        $(\"#troubleshoot-dialog\").on(\"hide.bs.modal\", function(ev) {\n\t            troubleshooting = false;\n\t            navigate(null, true);\n\t        });\n\t\n\t        /* Navigation */\n\t        var ready = false;\n\t        function on_ready() {\n\t            ready = true;\n\t            index.ready();\n\t        }\n\t\n\t        /* When the machine list is ready we start processing navigation */\n\t        $(machines)\n\t            .on(\"ready\", on_ready)\n\t            .on(\"added updated\", function(ev, machine) {\n\t                if (!machine.visible)\n\t                    index.frames.remove(machine);\n\t                else if (machine.problem)\n\t                    index.frames.remove(machine);\n\t\n\t                update_machines();\n\t                if (ready)\n\t                    navigate();\n\t            })\n\t            .on(\"removed\", function(ev, machine) {\n\t                index.frames.remove(machine);\n\t                update_machines();\n\t            });\n\t\n\t        if (machines.ready)\n\t            on_ready();\n\t\n\t        /* When only one machine this operates as a link */\n\t        $(\"#machine-link\").on(\"click\", function(ev) {\n\t            if (machines.list.length == 1) {\n\t                index.jump({ host: machines.list[0].address, sidebar: true, component: \"\" });\n\t                ev.preventDefault();\n\t                return false;\n\t            }\n\t        });\n\t\n\t        function show_disconnected() {\n\t            var current_frame = index.current_frame();\n\t\n\t            if (current_frame)\n\t                $(current_frame).hide();\n\t\n\t            $(\".curtains-ct .spinner\").toggle(false);\n\t            $(\"#machine-reconnect\").toggle(true);\n\t            $(\"#machine-troubleshoot\").toggle(false);\n\t            $(\".curtains-ct i\").toggle(true);\n\t            $(\".curtains-ct h1\").text(_(\"Disconnected\"));\n\t            $(\".curtains-ct p\").text(cockpit.message(watchdog_problem));\n\t            $(\".curtains-ct\").show();\n\t            $(\"#navbar-dropdown\").addClass(\"disabled\");\n\t            phantom_checkpoint();\n\t        }\n\t\n\t        /* Handles navigation */\n\t        function navigate(state, reconnect) {\n\t            var machine;\n\t            $('#host-nav-item').toggleClass(\"menu-visible\", false);\n\t            $(\"#host-nav\").toggleClass(\"interact\", false);\n\t\n\t            /* If this is a watchdog problem or we are troubleshooting\n\t             * let the dialog handle it */\n\t            if (watchdog_problem || troubleshooting)\n\t                return;\n\t\n\t            /* phantomjs has a problem retrieving state, so we allow it to be passed in */\n\t            if (!state)\n\t                state = index.retrieve_state();\n\t            machine = machines.lookup(state.host);\n\t\n\t            /* No such machine */\n\t            if (!machine) {\n\t                machine = {\n\t                    key: state.host,\n\t                    address: state.host,\n\t                    label: state.host,\n\t                    state: \"failed\",\n\t                    problem: \"not-found\",\n\t                };\n\t\n\t            /* Asked to reconnect to the machine */\n\t            } else if (!machine.visible) {\n\t                machine.state = \"failed\";\n\t                machine.problem = \"not-found\";\n\t            } else if (reconnect && machine.state !== \"connected\") {\n\t                loader.connect(state.host);\n\t            }\n\t\n\t            var compiled = compile(machine);\n\t            if (machine.manifests && !state.component)\n\t                state.component = choose_component(state, compiled);\n\t\n\t            update_navbar(machine, state, compiled);\n\t            update_frame(machine, state, compiled);\n\t\n\t            /* Just replace the state, and URL */\n\t            index.jump(state, true);\n\t        }\n\t\n\t        function choose_component(state, compiled) {\n\t            var item, menu_items;\n\t            var single_host = machines.list.length <= 1;\n\t            var dashboards = compiled.ordered(\"dashboard\");\n\t\n\t            if (shell_embedded)\n\t                state.sidebar = true;\n\t\n\t            /* See if we should show a dashboard */\n\t            if (!state.sidebar && dashboards.length > 0) {\n\t                item = dashboards[0];\n\t                /* Don't chose a dashboard as a single host unless\n\t                 * it specifically supports that.\n\t                 */\n\t                if (item && (!single_host || item.wants !== \"multiple-machines\"))\n\t                    return item.path;\n\t                else\n\t                    item = null;\n\t            }\n\t\n\t            /* See if we can find something with currently selected label */\n\t            var label = $(\"#sidebar li.active a\").text();\n\t            if (label) {\n\t                item = compiled.search(\"label\", label);\n\t                if (item)\n\t                    return item.path;\n\t            }\n\t\n\t            /* Go for the first item */\n\t            menu_items = compiled.ordered(\"menu\");\n\t            if (menu_items.length > 0 && menu_items[0]) {\n\t                return menu_items[0].path;\n\t\n\t            /* If there is no menu items use a dashboard */\n\t            } else if (dashboards.length > 0) {\n\t                item = dashboards[0];\n\t                if (item) {\n\t                    state.sidebar = false;\n\t                    return item.path;\n\t                }\n\t            }\n\t\n\t            return \"system\";\n\t        }\n\t\n\t        function default_machine() {\n\t            /* Default to localhost if it has anything.\n\t             * Otherwise find the first non local machine.\n\t             */\n\t            var i;\n\t            var machine = machines.lookup(\"localhost\");\n\t            var compiled = compile(machine);\n\t            if (compiled.ordered(\"menu\").length || compiled.ordered(\"tools\").length)\n\t                return machine;\n\t\n\t            for (i = 0; i < machines.list.length; i++) {\n\t                if (machines.list[i].address != \"localhost\")\n\t                    return machines.list[i];\n\t            }\n\t        }\n\t\n\t        function update_sidebar(machine, state, compiled) {\n\t            function links(component) {\n\t                return $(\"<li class='list-group-item'>\")\n\t                    .toggleClass(\"active\", state.component === component.path)\n\t                    .append($(\"<a>\")\n\t                        .attr(\"href\", index.href({ host: machine.address, component: component.path }))\n\t                        .attr(\"title\", component.label)\n\t                        .append($(\"<span>\").text(component.label)));\n\t            }\n\t\n\t            var menu = compiled.ordered(\"menu\").map(links);\n\t            $(\"#sidebar-menu\").empty().append(menu);\n\t\n\t            var tools = compiled.ordered(\"tools\").map(links);\n\t            $(\"#sidebar-tools\").empty().append(tools);\n\t\n\t            $(\"#machine-avatar\").attr(\"src\", machine && machine.avatar ? encodeURI(machine.avatar) :\n\t                                                \"../shell/images/server-small.png\");\n\t\n\t            var color = machine && machine.color || \"\";\n\t            $(\"#host-nav-item span.pficon-container-node\").css(\"color\", color);\n\t\n\t            if (machine) {\n\t                $(\"#machine-link span\").text(machine.label);\n\t                $(\"#machine-link\").attr(\"title\", machine.label);\n\t            } else {\n\t                $(\"#machine-link span\").text(_(\"Machines\"));\n\t                $(\"#machine-link\").attr(\"title\", \"\");\n\t            }\n\t        }\n\t\n\t        function update_active_machine (address) {\n\t            var active_sel;\n\t            $(\"#machine-dropdown ul li\").toggleClass(\"active\", false);\n\t            if (address) {\n\t                active_sel = \"#machine-dropdown ul li[data-address='\" + address + \"']\";\n\t                $(active_sel).toggleClass(\"active\", true);\n\t            }\n\t        }\n\t\n\t        function update_machine_links(machine, showing_sidebar, state) {\n\t            var data = $(\"#host-nav-link\").attr(\"data-machine\");\n\t\n\t            // If we are already setup we will bail early\n\t            if (data && (!machine || machine.address === data)) {\n\t                // If showing the sidebar, save our place\n\t                if (showing_sidebar) {\n\t                    $(\"#host-nav-link\").attr(\"href\", index.href(state));\n\t                    update_active_machine(data);\n\t                }\n\t                return;\n\t            }\n\t\n\t            if (!machine && data)\n\t                machine = machines.lookup(data);\n\t            if (!machine)\n\t                machine = default_machine();\n\t\n\t            $(\"#host-nav-link span.list-group-item-value\").text(machine ? machine.label : \"\");\n\t            $(\"#host-nav-link\")\n\t                .attr(\"data-machine\", machine ? machine.address : \"\")\n\t                .attr(\"href\", index.href({ host: machine ? machine.address : undefined }, true));\n\t\n\t            // Only show the hosts icon in the main nav if we have a machine\n\t            $(\"#host-nav-item\").toggleClass(\"dashboard-link\", !!machine);\n\t\n\t            update_active_machine(machine ? machine.address : null);\n\t        }\n\t\n\t        function update_navbar(machine, state, compiled) {\n\t            /* When a dashboard no machine or sidebar */\n\t            var item = compiled.items[state.component];\n\t            if (item && item.section == \"dashboard\") {\n\t                delete state.sidebar;\n\t                machine = null;\n\t            }\n\t\n\t            $(\".dashboard-link\").each(function() {\n\t                var el = $(this);\n\t                var data = el.attr(\"data-component\");\n\t                // Mark active component and save our place\n\t                if (data && data === state.component) {\n\t                    el.attr(\"href\", index.href(state));\n\t                    el.toggleClass(\"active\", true);\n\t                } else {\n\t                    el.toggleClass(\"active\", false);\n\t                }\n\t            });\n\t\n\t            $(\"#host-nav-item\").toggleClass(\"active\", !!machine);\n\t            if (machine)\n\t                update_sidebar(machine, state, compiled);\n\t\n\t            $(\"#host-nav\").toggleClass(\"hidden\", !machine);\n\t            update_machine_links(machine, !!machine, state);\n\t            $('.area-ct-body').toggleClass(\"single-nav\", $(\".dashboard-link\").length < 2);\n\t        }\n\t\n\t        function update_title(label, machine) {\n\t            var compiled;\n\t            if (label)\n\t                label += \" - \";\n\t            else\n\t                label = \"\";\n\t            var suffix = index.default_title;\n\t\n\t            if (machine) {\n\t                if (machine.address === \"localhost\") {\n\t                    compiled = compile(machine);\n\t                    if (compiled.ordered(\"menu\").length || compiled.ordered(\"tools\").length)\n\t                        suffix = machine.label;\n\t                } else {\n\t                    suffix = machine.label;\n\t                }\n\t            }\n\t            document.title = label + suffix;\n\t        }\n\t\n\t        function update_frame(machine, state, compiled) {\n\t            var title, message, connecting, restarting;\n\t            var current_frame = index.current_frame();\n\t\n\t            if (machine.state != \"connected\") {\n\t                $(current_frame).hide();\n\t                current_frame = null;\n\t                index.current_frame(current_frame);\n\t\n\t                connecting = (machine.state == \"connecting\");\n\t                if (machine.restarting) {\n\t                    title = _(\"The machine is restarting\");\n\t                    message = \"\";\n\t                } else if (connecting) {\n\t                    title = _(\"Connecting to the machine\");\n\t                    message = \"\";\n\t                } else {\n\t                    title = _(\"Couldn't connect to the machine\");\n\t                    if (machine.problem == \"not-found\") {\n\t                        message = _(\"Cannot connect to an unknown machine\");\n\t                    } else {\n\t                        var error = machine.problem || machine.state;\n\t                        if (error)\n\t                            message = cockpit.message(error);\n\t                        else\n\t                            message = \"\";\n\t                    }\n\t                }\n\t\n\t                if (!machine.restarting && mdialogs.needs_troubleshoot(machine)) {\n\t                    $(\"#machine-troubleshoot\").off()\n\t                        .on(\"click\", function () {\n\t                            mdialogs.troubleshoot(\"troubleshoot-dialog\", machine);\n\t                        });\n\t                    $(\"#machine-troubleshoot\").show();\n\t                } else {\n\t                    $(\"#machine-troubleshoot\").hide();\n\t                }\n\t\n\t                restarting = !!machine.restarting;\n\t                $(\".curtains-ct\").show();\n\t                $(\".curtains-ct .spinner\").toggle(connecting || restarting);\n\t                $(\"#machine-reconnect\").toggle(!connecting && machine.problem != \"not-found\");\n\t                $(\".curtains-ct i\").toggle(!connecting && !restarting);\n\t                $(\".curtains-ct h1\").text(title);\n\t                $(\".curtains-ct p\").text(message);\n\t\n\t                $(\"#machine-spinner\").hide();\n\t\n\t                update_title(null, machine);\n\t\n\t                /* Fall through when connecting, and allow frame to load at same time*/\n\t                if (!connecting)\n\t                    return;\n\t            }\n\t\n\t            var hash = state.hash;\n\t            var component = state.component;\n\t\n\t            /* Old cockpit packages, used to be in shell/shell.html */\n\t            var compat;\n\t            if (machine && compiled.compat) {\n\t                compat = compiled.compat[component];\n\t                if (compat) {\n\t                    component = \"shell/shell\";\n\t                    hash = compat;\n\t                }\n\t            }\n\t\n\t            var frame;\n\t            if (component)\n\t                frame = index.frames.lookup(machine, component, hash);\n\t            if (frame != current_frame) {\n\t                $(current_frame).css('display', 'none');\n\t                index.current_frame(frame);\n\t            }\n\t\n\t            var label, item;\n\t            if (machine.state == \"connected\") {\n\t                $(\".curtains-ct\").hide();\n\t                $(\"#machine-spinner\").toggle(frame && !$(frame).attr(\"data-ready\"));\n\t                $(frame).css('display', 'block');\n\t                item = compiled.items[state.component];\n\t                label = item ? item.label : \"\";\n\t                update_title(label, machine);\n\t            }\n\t\n\t            phantom_checkpoint();\n\t        }\n\t\n\t        function update_machines() {\n\t            $(\"#machine-dropdown .caret\")\n\t                .toggle(machines.list.length > 1);\n\t\n\t            var machine_link = $(\"#machine-link\");\n\t            if (machines.list.length > 1)\n\t                machine_link.attr(\"data-toggle\", \"dropdown\");\n\t            else\n\t                machine_link.removeAttr(\"data-toggle\");\n\t\n\t            var list = $(\"#machine-dropdown ul\");\n\t            var links = machines.list.map(function(machine) {\n\t                var text = $(\"<span>\")\n\t                    .text(machine.label)\n\t                    .prepend($(\"<i>\")\n\t                        .attr(\"class\", \"fa-li fa fa-circle\")\n\t                        .css(\"color\", machine.color || \"\"));\n\t                return $(\"<li role='presentation'>\")\n\t                    .attr(\"data-address\", machine.address)\n\t                    .append($(\"<a>\")\n\t                        .attr(\"role\", \"menuitem\")\n\t                        .attr(\"tabindex\", \"-1\")\n\t                        .attr(\"data-address\", machine.address)\n\t                        .attr(\"href\", index.href({ host: machine.address }, true))\n\t                        .append(text));\n\t                });\n\t            list.empty().append(links);\n\t        }\n\t\n\t        function filter_machines () {\n\t            var val = $(\"#find-machine\").val().toLowerCase();\n\t            $(\"#machine-dropdown ul li\").each(function() {\n\t                var el = $(this);\n\t                var a = el.find('a').first();\n\t                var txt = a.text().toLowerCase();\n\t                var addr = a.attr(\"data-address\") ? a.attr(\"data-address\").toLowerCase() : \"\";\n\t                var hide = !!val && txt.indexOf(val) !== 0 && addr.indexOf(val) !== 0;\n\t                el.toggleClass(\"hidden\", hide);\n\t            });\n\t        }\n\t\n\t        function compatibility(machine) {\n\t            if (!machine.manifests || machine.address === \"localhost\")\n\t                return null;\n\t\n\t            var shell = machine.manifests[\"shell\"] || { };\n\t            var menu = shell[\"menu\"] || { };\n\t            var tools = shell[\"tools\"] || { };\n\t\n\t            var mapping = { };\n\t\n\t            /* The following were included in shell/shell.html in old versions */\n\t            if (\"_host_\" in menu)\n\t                mapping[\"system/host\"] = \"/server\";\n\t            if (\"_init_\" in menu)\n\t                mapping[\"system/init\"] = \"/services\";\n\t            if (\"_network_\" in menu)\n\t                mapping[\"network/interfaces\"] = \"/networking\";\n\t            if (\"_storage_\" in menu)\n\t                mapping[\"storage/devices\"] = \"/storage\";\n\t            if (\"_users_\" in tools)\n\t                mapping[\"users/local\"] = \"/accounts\";\n\t\n\t            /* For Docker we have to guess ... some heuristics */\n\t            if (\"_storage_\" in menu || \"_init_\" in menu)\n\t                mapping[\"docker/containers\"] = \"/containers\";\n\t\n\t            return mapping;\n\t        }\n\t\n\t        function compile(machine) {\n\t            var compiled = base_index.new_compiled();\n\t            compiled.load(machine.manifests, \"tools\");\n\t            compiled.load(machine.manifests, \"dashboard\");\n\t            compiled.load(machine.manifests, \"menu\");\n\t            compiled.compat = compatibility(machine);\n\t            return compiled;\n\t        }\n\t\n\t        cockpit.transport.wait(function() {\n\t            index.start();\n\t        });\n\t    }\n\t\n\t    function SimpleIndex(index_options) {\n\t        if (!index_options)\n\t            index_options = {};\n\t\n\t        index_options.navigate = function (state, sidebar) {\n\t            return navigate(state, sidebar);\n\t        };\n\t        var default_title = index_options.default_title || \"Cockpit\";\n\t        var index = base_index.new_index_from_proto(index_options);\n\t        var compiled = base_index.new_compiled();\n\t\n\t        compiled.load(cockpit.manifests, \"dashboard\");\n\t\n\t        /* Disconnection Dialog */\n\t        var watchdog_problem = null;\n\t        $(index).on(\"disconnect\", function (ev, problem) {\n\t            watchdog_problem = problem;\n\t            show_disconnected();\n\t        });\n\t\n\t        /* Reconnect button */\n\t        $(\"#machine-reconnect\").on(\"click\", function(ev) {\n\t            cockpit.sessionStorage.clear();\n\t            window.location.reload(true);\n\t        });\n\t\n\t        function show_disconnected() {\n\t            var current_frame = index.current_frame();\n\t            if (current_frame)\n\t                $(current_frame).hide();\n\t\n\t            $(\".curtains-ct .spinner\").toggle(false);\n\t            $(\"#machine-reconnect\").toggle(true);\n\t            $(\".curtains-ct i\").toggle(true);\n\t            $(\".curtains-ct h1\").text(_(\"Disconnected\"));\n\t            $(\".curtains-ct p\").text(cockpit.message(watchdog_problem));\n\t            $(\".curtains-ct\").show();\n\t            $(\"#navbar-dropdown\").addClass(\"disabled\");\n\t            phantom_checkpoint();\n\t        }\n\t\n\t        index.ready();\n\t\n\t        /* Handles navigation */\n\t        function navigate(state, reconnect) {\n\t            var dashboards = compiled.ordered(\"dashboard\");\n\t\n\t            /* If this is a watchdog problem or we are troubleshooting\n\t             * let the dialog handle it */\n\t            if (watchdog_problem)\n\t                return;\n\t\n\t            /* phantomjs has a problem retrieving state, so we allow it to be passed in */\n\t            if (!state)\n\t                state = index.retrieve_state();\n\t\n\t            if (!state.component && dashboards.length > 0) {\n\t                state.component = dashboards[0].path;\n\t            }\n\t            update_navbar(state);\n\t            update_frame(state);\n\t\n\t            /* Just replace the state, and URL */\n\t            index.jump(state, true);\n\t        }\n\t\n\t        function update_navbar(state) {\n\t            $(\"#host-nav-item\").toggleClass(\"dashboard-link\", false);\n\t            $(\".dashboard-link\").each(function() {\n\t                var el = $(this);\n\t                el.toggleClass(\"active\", el.attr(\"data-component\") === state.component);\n\t            });\n\t\n\t            var item = compiled.items[state.component];\n\t            if (item && item.section == \"dashboard\")\n\t                delete state.sidebar;\n\t\n\t            $('.area-ct-body').toggleClass(\"single-nav\", $(\".dashboard-link\").length < 2);\n\t\n\t        }\n\t\n\t        function update_title(label) {\n\t            if (label)\n\t                label += \" - \";\n\t            else\n\t                label = \"\";\n\t            document.title = label + default_title;\n\t        }\n\t\n\t        function update_frame(state) {\n\t            var current_frame = index.current_frame();\n\t\n\t            var hash = state.hash;\n\t            var component = state.component;\n\t\n\t            var frame;\n\t            if (component)\n\t                frame = index.frames.lookup(null, component, hash);\n\t            if (frame != current_frame) {\n\t                $(current_frame).css('display', 'none');\n\t                index.current_frame(frame);\n\t            }\n\t\n\t            var label, item;\n\t            $(frame).css('display', 'block');\n\t            item = compiled.items[state.component];\n\t            label = item ? item.label : \"\";\n\t            update_title(label);\n\t\n\t            phantom_checkpoint();\n\t        }\n\t\n\t        cockpit.transport.wait(function() {\n\t            index.start();\n\t        });\n\t    }\n\t\n\t    module.exports = {\n\t        simple_index: function (options) {\n\t            return new SimpleIndex(options);\n\t        },\n\t        machines_index: function (options, machines_ins, loader, mdialogs) {\n\t            return new MachinesIndex(options, machines_ins, loader, mdialogs);\n\t        }\n\t    };\n\t\n\t    function message_queue(event) {\n\t        window.messages.push(event);\n\t    }\n\t\n\t    /* When we're being loaded into the index window we have additional duties */\n\t    if (document.documentElement.getAttribute(\"class\") === \"index-page\") {\n\t        /* Indicates to child frames that we are a cockpit1 router frame */\n\t        window.name = \"cockpit1\";\n\t\n\t        /* The same thing as above, but compatibility with old cockpit */\n\t        window.options = { sink: true, protocol: \"cockpit1\" };\n\t\n\t        /* While the index is initializing, snag any messages we receive from frames */\n\t        window.messages = [ ];\n\t\n\t        window.messages.cancel = function() {\n\t            window.removeEventListener(\"message\", message_queue, false);\n\t            window.messages = null;\n\t        };\n\t\n\t        window.addEventListener(\"message\", message_queue, false);\n\t    }\n\t\n\t}());\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2015 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar phantom_checkpoint = phantom_checkpoint || function () { };\n\t\n\t(function() {\n\t    \"use strict\";\n\t\n\t    var $ = __webpack_require__(12);\n\t    var cockpit = __webpack_require__(13);\n\t\n\t    var shell_embedded = window.location.pathname.indexOf(\".html\") !== -1;\n\t    var _ = cockpit.gettext;\n\t\n\t    function component_checksum(machine, component) {\n\t        var parts = component.split(\"/\");\n\t        var pkg = parts[0];\n\t        if (machine.manifests && machine.manifests[pkg] && machine.manifests[pkg][\".checksum\"])\n\t            return \"$\" + machine.manifests[pkg][\".checksum\"];\n\t    }\n\t\n\t    function Frames(index) {\n\t        var self = this;\n\t\n\t        /* Lists of frames, by host */\n\t        self.iframes = { };\n\t\n\t        function remove_frame(frame) {\n\t            $(frame.contentWindow).off();\n\t            $(frame).remove();\n\t        }\n\t\n\t        self.remove = function remove(machine, component) {\n\t            var address;\n\t            if (typeof machine == \"string\")\n\t                address = machine;\n\t            else if (machine)\n\t                address = machine.address;\n\t            if (!address)\n\t                address = \"localhost\";\n\t            var list = self.iframes[address] || { };\n\t            if (!component)\n\t                delete self.iframes[address];\n\t            Object.keys(list).forEach(function(key) {\n\t                if (!component || component == key) {\n\t                    remove_frame(list[key]);\n\t                    delete list[component];\n\t                }\n\t            });\n\t        };\n\t\n\t        function frame_ready(frame, count) {\n\t            var ready = false;\n\t\n\t            window.clearTimeout(frame.timer);\n\t            frame.timer = null;\n\t\n\t            try {\n\t                ready = $(\"body\", frame.contentWindow.document).is(\":visible\");\n\t            } catch(ex) {\n\t                ready = true;\n\t            }\n\t\n\t            if (!count)\n\t                count = 0;\n\t            count += 1;\n\t            if (count > 50)\n\t                ready = true;\n\t\n\t            if (ready) {\n\t                if (frame.getAttribute(\"data-ready\") != \"1\") {\n\t                    frame.setAttribute(\"data-ready\", \"1\");\n\t                    if (count > 0)\n\t                        index.navigate();\n\t                }\n\t            } else {\n\t                frame.timer = window.setTimeout(function() {\n\t                    frame_ready(frame, count + 1);\n\t                }, 100);\n\t            }\n\t        }\n\t\n\t        self.lookup = function lookup(machine, component, hash) {\n\t            var host;\n\t            var address;\n\t            var new_frame = false;\n\t\n\t            if (typeof machine == \"string\") {\n\t                address = host = machine;\n\t            } else if (machine) {\n\t                host = machine.connection_string;\n\t                address = machine.address;\n\t            }\n\t\n\t            if (!host)\n\t                host = \"localhost\";\n\t            if (!address)\n\t                address = host;\n\t\n\t            var list = self.iframes[address];\n\t            if (!list)\n\t                self.iframes[address] = list = { };\n\t\n\t            var name = \"cockpit1:\" + host + \"/\" + component;\n\t            var frame = list[component];\n\t            if (frame && frame.getAttribute(\"name\") != name) {\n\t                remove_frame(frame);\n\t                frame = null;\n\t            }\n\t\n\t            var wind, src;\n\t\n\t            /* A preloaded frame */\n\t            if (!frame) {\n\t                wind = window.frames[name];\n\t                if (wind)\n\t                    frame = wind.frameElement;\n\t                if (frame) {\n\t                    src = frame.getAttribute('src');\n\t                    frame.url = src.split(\"#\")[0];\n\t                    list[component] = frame;\n\t                }\n\t            }\n\t\n\t            /* Need to create a new frame */\n\t            if (!frame) {\n\t                new_frame = true;\n\t                frame = document.createElement(\"iframe\");\n\t                frame.setAttribute(\"class\", \"container-frame\");\n\t                frame.setAttribute(\"name\", name);\n\t                frame.style.display = \"none\";\n\t\n\t                var base, checksum;\n\t                if (machine) {\n\t                    if (machine.manifests && machine.manifests[\".checksum\"])\n\t                        checksum = \"$\" + machine.manifests[\".checksum\"];\n\t                    else\n\t                        checksum = machine.checksum;\n\t                }\n\t\n\t                if (checksum && checksum == component_checksum(machine, component)) {\n\t                     if (host === \"localhost\")\n\t                         base = \"..\";\n\t                    else\n\t                        base = \"../../\" + checksum;\n\t                } else {\n\t                    /* If we don't have any checksums, or if the component specifies a different\n\t                       checksum than the machine, load it via a non-caching @<host> path.  This\n\t                       makes sure that we get the right files, and also that we don't poisen the\n\t                       cache with wrong files.\n\t\n\t                       We can't use a $<component-checksum> path since cockpit-ws only knows how to\n\t                       route the machine checksum.\n\t\n\t                       TODO - make it possible to use $<component-checksum>.\n\t                    */\n\t                    base = \"../../@\" + host;\n\t                }\n\t\n\t                frame.url = base + \"/\" + component;\n\t                if (component.indexOf(\"/\") === -1)\n\t                    frame.url += \"/index\";\n\t                frame.url += \".html\";\n\t            }\n\t\n\t            if (!hash)\n\t                hash = \"/\";\n\t            src = frame.url + \"#\" + hash;\n\t            if (frame.getAttribute('src') != src)\n\t                frame.setAttribute('src', src);\n\t\n\t            /* Store frame only when fully setup */\n\t            if (new_frame) {\n\t                list[component] = frame;\n\t                $(\"#content\").append(frame);\n\t            }\n\t            frame_ready(frame);\n\t            return frame;\n\t        };\n\t    }\n\t\n\t    function Router(index) {\n\t        var self = this;\n\t\n\t        var unique_id = 0;\n\t        var origin = cockpit.transport.origin;\n\t        var source_by_seed = { };\n\t        var source_by_name = { };\n\t\n\t        cockpit.transport.filter(function(message, channel, control) {\n\t            var seed, source, pos;\n\t\n\t            /* Only control messages with a channel are forwardable */\n\t            if (control) {\n\t                if (control.channel !== undefined) {\n\t                    for (seed in source_by_seed) {\n\t                        source = source_by_seed[seed];\n\t                        if (!source.window.closed)\n\t                            source.window.postMessage(message, origin);\n\t                    }\n\t                } else if (control.command == \"hint\") {\n\t                    if (control.credential) {\n\t                        if (index.privileges)\n\t                            index.privileges.update(control);\n\t                    }\n\t                }\n\t\n\t            /* Forward message to relevant frame */\n\t            } else if (channel) {\n\t                pos = channel.indexOf('!');\n\t                if (pos !== -1) {\n\t                    seed = channel.substring(0, pos + 1);\n\t                    source = source_by_seed[seed];\n\t                    if (source) {\n\t                        if (!source.window.closed)\n\t                            source.window.postMessage(message, origin);\n\t                        return false; /* Stop delivery */\n\t                    }\n\t                }\n\t            }\n\t\n\t            /* Still deliver the message locally */\n\t            return true;\n\t        }, false);\n\t\n\t        function perform_jump(child, control) {\n\t            var current_frame = index.current_frame();\n\t            if (child !== window) {\n\t                if (!current_frame || current_frame.contentWindow != child)\n\t                    return;\n\t            }\n\t            var str = control.location || \"\";\n\t            if (str[0] != \"/\")\n\t                str = \"/\" + str;\n\t            if (control.host)\n\t                str = \"/@\" + encodeURIComponent(control.host) + str;\n\t            index.jump(str);\n\t        }\n\t\n\t        function perform_track(child) {\n\t            var hash;\n\t            var current_frame = index.current_frame();\n\t            /* Note that we ignore tracknig for old shell code */\n\t            if (current_frame && current_frame.contentWindow === child &&\n\t                child.name && child.name.indexOf(\"/shell/shell\") === -1) {\n\t                hash = child.location.hash;\n\t                if (hash.indexOf(\"#\") === 0)\n\t                    hash = hash.substring(1);\n\t                if (hash === \"/\")\n\t                    hash = \"\";\n\t                index.jump({ hash: hash });\n\t            }\n\t        }\n\t\n\t        function on_unload(ev) {\n\t            var source;\n\t            if (ev.target.defaultView)\n\t                source = source_by_name[ev.target.defaultView.name];\n\t            else if (ev.view)\n\t                source = source_by_name[ev.view.name];\n\t            if (source)\n\t                unregister(source);\n\t        }\n\t\n\t        function on_hashchange(ev) {\n\t            var source = source_by_name[ev.target.name];\n\t            if (source)\n\t                perform_track(source.window);\n\t        }\n\t\n\t        function on_load(ev) {\n\t            var source = source_by_name[ev.target.contentWindow.name];\n\t            if (source)\n\t                perform_track(source.window);\n\t        }\n\t\n\t        function unregister(source) {\n\t            var child = source.window;\n\t            cockpit.kill(null, child.name);\n\t            var frame = child.frameElement;\n\t            if (frame)\n\t                frame.removeEventListener(\"load\", on_load);\n\t            /* This is often invalid when the window is closed */\n\t            if (child.removeEventListener) {\n\t                child.removeEventListener(\"unload\", on_unload);\n\t                child.removeEventListener(\"hashchange\", on_hashchange);\n\t            }\n\t            delete source_by_seed[source.channel_seed];\n\t            delete source_by_name[source.name];\n\t        }\n\t\n\t        function register(child) {\n\t            var host, name = child.name || \"\";\n\t            if (name.indexOf(\"cockpit1:\") === 0)\n\t                host = name.substring(9).split(\"/\")[0];\n\t            if (!name || !host) {\n\t                console.warn(\"invalid child window name\", child, name);\n\t                return;\n\t            }\n\t\n\t            unique_id += 1;\n\t            var seed = (cockpit.transport.options[\"channel-seed\"] || \"undefined:\") + unique_id + \"!\";\n\t            var source = {\n\t                name: name,\n\t                window: child,\n\t                channel_seed: seed,\n\t                default_host: host,\n\t                inited: false,\n\t            };\n\t            source_by_seed[seed] = source;\n\t            source_by_name[name] = source;\n\t\n\t            var frame = child.frameElement;\n\t            frame.addEventListener(\"load\", on_load);\n\t            child.addEventListener(\"unload\", on_unload);\n\t            child.addEventListener(\"hashchange\", on_hashchange);\n\t\n\t            /*\n\t             * Setting the \"data-loaded\" attribute helps the testsuite\n\t             * know when it can switch into the frame and inject its\n\t             * own additions.\n\t             */\n\t            frame.setAttribute('data-loaded', '1');\n\t\n\t            perform_track(child);\n\t            phantom_checkpoint();\n\t\n\t            index.navigate();\n\t            return source;\n\t        }\n\t\n\t        function message_handler(event) {\n\t            if (event.origin !== origin)\n\t                return;\n\t\n\t            var forward_command = false;\n\t            var data = event.data;\n\t            var child = event.source;\n\t            if (!child)\n\t                return;\n\t\n\t            /* If it's binary data just send it.\n\t             * TODO: Once we start restricting what frames can\n\t             * talk to which hosts, we need to parse control\n\t             * messages here, and cross check channels */\n\t            if (data instanceof window.ArrayBuffer) {\n\t                cockpit.transport.inject(data, true);\n\t                return;\n\t            }\n\t\n\t            if (typeof data !== \"string\")\n\t                return;\n\t\n\t            var source, control;\n\t\n\t            /*\n\t             * On Internet Explorer we see Access Denied when non Cockpit\n\t             * frames send messages (such as Javascript console). This also\n\t             * happens when the window is closed.\n\t             */\n\t            try {\n\t                source = source_by_name[child.name];\n\t            } catch(ex) {\n\t                console.log(\"received message from child with in accessible name: \", ex);\n\t                return;\n\t            }\n\t\n\t\n\t            /* Closing the transport */\n\t            if (data.length === 0) {\n\t                if (source)\n\t                    unregister(source);\n\t                return;\n\t            }\n\t\n\t            /* A control message */\n\t            if (data[0] == '\\n') {\n\t                control = JSON.parse(data.substring(1));\n\t                if (control.command === \"init\") {\n\t                    if (source)\n\t                        unregister(source);\n\t                    if (control.problem) {\n\t                        console.warn(\"child frame failed to init: \" + control.problem);\n\t                        source = null;\n\t                    } else {\n\t                        source = register(child);\n\t                    }\n\t                    if (source) {\n\t                        var reply = $.extend({ }, cockpit.transport.options,\n\t                            { command: \"init\", \"host\": source.default_host, \"channel-seed\": source.channel_seed }\n\t                        );\n\t                        child.postMessage(\"\\n\" + JSON.stringify(reply), origin);\n\t                        source.inited = true;\n\t\n\t                        /* If this new frame is not the current one, tell it */\n\t                        if (child.frameElement != index.current_frame())\n\t                            self.hint(child.frameElement.contentWindow, { \"hidden\": true });\n\t                    }\n\t\n\t                } else if (control.command === \"jump\") {\n\t                    perform_jump(child, control);\n\t                    return;\n\t\n\t                } else if (control.command == \"logout\" || control.command == \"kill\") {\n\t                    forward_command = true;\n\t\n\t                } else if (control.command === \"hint\") {\n\t                    if (control.hint == \"restart\") {\n\t                        /* watchdog handles current host for now */\n\t                        if (control.host != cockpit.transport.host)\n\t                            index.expect_restart(control.host);\n\t                    } else\n\t                        cockpit.hint(control.hint, control);\n\t                    return;\n\t                } else if (control.command == \"oops\") {\n\t                    index.show_oops();\n\t                    return;\n\t\n\t                /* Only control messages with a channel are forwardable */\n\t                } else if (control.channel === undefined && !forward_command) {\n\t                    return;\n\t\n\t                /* Add the child's group to all open channel messages */\n\t                } else if (control.command == \"open\") {\n\t                    control.group = child.name;\n\t                    data = \"\\n\" + JSON.stringify(control);\n\t                }\n\t            }\n\t\n\t            if (!source) {\n\t                console.warn(\"child frame \" + child.name + \" sending data without init\");\n\t                return;\n\t            }\n\t\n\t            /* Everything else gets forwarded */\n\t            cockpit.transport.inject(data, true);\n\t        }\n\t\n\t\n\t        self.start = function start(messages) {\n\t            window.addEventListener(\"message\", message_handler, false);\n\t            for (var i = 0, len = messages.length; i < len; i++)\n\t                message_handler(messages[i]);\n\t        };\n\t\n\t        self.hint = function hint(child, data) {\n\t            var message, source = source_by_name[child.name];\n\t            /* This is often invalid when the window is closed */\n\t            if (source && source.inited && !source.window.closed) {\n\t                data.command = \"hint\";\n\t                message = \"\\n\" + JSON.stringify(data);\n\t                source.window.postMessage(message, origin);\n\t            }\n\t        };\n\t    }\n\t\n\t    /*\n\t     * New instances of Index must be created by new_index_from_proto\n\t     * and the caller must include a navigation function in the given\n\t     * prototype. That function will be called by Frames and\n\t     * Router to actually perform any navigation action.\n\t     *\n\t     * As a convenience, common menu items can be setup by adding the\n\t     * selector to be used to hook them up. The accepted selectors\n\t     * are.\n\t     * oops_sel, logout_sel, language_sel, brand_sel, about_sel,\n\t     * user_sel, account_sel\n\t     *\n\t     * Emits \"disconnect\" and \"expect_restart\" signals, that should be\n\t     * handled by the caller.\n\t     */\n\t    function Index() {\n\t        var self = this;\n\t        var current_frame;\n\t\n\t        if (typeof self.navigate !== \"function\")\n\t            throw \"Index requires a prototype with a navigate function\";\n\t\n\t        self.frames = new Frames(self);\n\t        self.router = new Router(self);\n\t\n\t        /* Watchdog for disconnect */\n\t        var watchdog = cockpit.channel({ \"payload\": \"null\" });\n\t        $(watchdog).on(\"close\", function(event, options) {\n\t            var watchdog_problem = options.problem || \"disconnected\";\n\t            console.warn(\"transport closed: \" + watchdog_problem);\n\t            $(self).triggerHandler(\"disconnect\", watchdog_problem);\n\t        });\n\t\n\t        /* Handles an href link as seen below */\n\t        $(document).on(\"click\", \"a[href]\", function(ev) {\n\t            var a = this;\n\t            if (!a.host || window.location.host === a.host) {\n\t                self.jump(a.getAttribute('href'));\n\t                ev.preventDefault();\n\t                phantom_checkpoint();\n\t            }\n\t        });\n\t\n\t        if (window.navigator.userAgent.indexOf(\"PhantomJS\") == -1) {\n\t            var old_onerror = window.onerror;\n\t            window.onerror = function cockpit_error_handler(msg, url, line) {\n\t                self.show_oops();\n\t                phantom_checkpoint();\n\t                if (old_onerror)\n\t                    return old_onerror(msg, url, line);\n\t                return false;\n\t            };\n\t        }\n\t\n\t        /*\n\t         * Navigation is driven by state objects, which are used with pushState()\n\t         * and friends. The state is the canonical navigation location, and not\n\t         * the URL. Only when no state has been pushed or we are arriving from\n\t         * a link, do we parse the state from the URL.\n\t         *\n\t         * Each state object has:\n\t         *   host: a machine host\n\t         *   component: the stripped component to load\n\t         *   hash: the hash to pass to the component\n\t         *   sidebar: set to true to hint that we want a component with a sidebar\n\t         *\n\t         * If state.sidebar is set, and no component has yet been chosen for the\n\t         * given state, then we try to find one that would show a sidebar.\n\t         */\n\t\n\t        /* Encode navigate state into a string\n\t         * If with_root is true the configured\n\t         * url root will be added to the generated\n\t         * url. with_root should be used when\n\t         * navigating to a new url or updating\n\t         * history, but is not needed when simply\n\t         * generating a string for a link.\n\t         */\n\t        function encode(state, sidebar, with_root) {\n\t            var path = [];\n\t            if (state.host && (sidebar || state.host !== \"localhost\"))\n\t                path.push(\"@\" + state.host);\n\t            if (state.component)\n\t                path.push.apply(path, state.component.split(\"/\"));\n\t            var string = cockpit.location.encode(path, null, with_root);\n\t            if (state.hash && state.hash !== \"/\")\n\t                string += \"#\" + state.hash;\n\t            return string;\n\t        }\n\t\n\t        /* Decodes navigate state from a string */\n\t        function decode(string) {\n\t            var state = { version: \"v1\", hash: \"\" };\n\t            var pos = string.indexOf(\"#\");\n\t            if (pos !== -1) {\n\t                state.hash = string.substring(pos + 1);\n\t                string = string.substring(0, pos);\n\t            }\n\t            if (string[0] != '/')\n\t                string = \"/\" + string;\n\t            var path = cockpit.location.decode(string);\n\t            if (path[0] && path[0][0] == \"@\") {\n\t                state.host = path.shift().substring(1);\n\t                state.sidebar = true;\n\t            } else {\n\t                state.host = \"localhost\";\n\t            }\n\t            if (path.length && path[path.length - 1] == \"index\")\n\t                path.pop();\n\t            state.component = path.join(\"/\");\n\t            return state;\n\t        }\n\t\n\t        function build_navbar() {\n\t            var navbar = $(\"#main-navbar\");\n\t            navbar.on(\"click\", function () {\n\t                navbar.parent().toggleClass(\"clicked\", true);\n\t            });\n\t\n\t            navbar.on(\"mouseout\", function () {\n\t                navbar.parent().toggleClass(\"clicked\", false);\n\t            });\n\t\n\t            function links(component) {\n\t                var sm = $(\"<span class='fa'>\")\n\t                    .attr(\"data-toggle\", \"tooltip\")\n\t                    .attr(\"title\", \"\")\n\t                    .attr(\"data-original-title\", component.label);\n\t\n\t                if (component.icon)\n\t                    sm.addClass(component.icon);\n\t                else\n\t                    sm.addClass(\"first-letter\").text(component.label);\n\t\n\t                var value = $(\"<span class='list-group-item-value'>\")\n\t                    .text(component.label);\n\t\n\t                var a = $(\"<a>\")\n\t                    .attr(\"href\", self.href({ host: \"localhost\", component: component.path }))\n\t                    .attr(\"title\", component.label)\n\t                    .append(sm)\n\t                    .append(value);\n\t\n\t                return $(\"<li class='dashboard-link list-group-item'>\")\n\t                    .attr(\"data-component\", component.path)\n\t                    .append(a);\n\t            }\n\t\n\t            var local_compiled = new CompiledComponents();\n\t            local_compiled.load(cockpit.manifests, \"dashboard\");\n\t            navbar.append(local_compiled.ordered(\"dashboard\").map(links));\n\t        }\n\t\n\t        self.retrieve_state = function() {\n\t            var state = window.history.state;\n\t            if (!state || state.version !== \"v1\") {\n\t                if (shell_embedded)\n\t                    state = decode(\"/\" + window.location.hash);\n\t                else\n\t                    state = decode(window.location.pathname + window.location.hash);\n\t            }\n\t            return state;\n\t        };\n\t\n\t        function lookup_component_hash(address, component) {\n\t            var iframe, src;\n\t\n\t            if (!address)\n\t                address = \"localhost\";\n\t\n\t            var list = self.frames.iframes[address];\n\t            if (list)\n\t                iframe = list[component];\n\t\n\t            if (iframe) {\n\t                src = iframe.getAttribute('src');\n\t                if (src)\n\t                    return src.split(\"#\")[1];\n\t            }\n\t\n\t            return null;\n\t        }\n\t\n\t        /* Jumps to a given navigate state */\n\t        self.jump = function (state, replace) {\n\t            if (typeof (state) === \"string\")\n\t                state = decode(state);\n\t\n\t            var current = self.retrieve_state();\n\t\n\t            /* Make sure we have the data we need */\n\t            if (!state.host)\n\t                state.host = current.host || \"localhost\";\n\t            if (!(\"component\" in state))\n\t                state.component = current.component || \"\";\n\t\n\t            var target;\n\t            var history = window.history;\n\t            var frame_change = (state.host !== current.host ||\n\t                                state.component !== current.component);\n\t\n\t            if (frame_change && !state.hash)\n\t                state.hash = lookup_component_hash(state.host, state.component);\n\t\n\t            if (shell_embedded)\n\t                target = window.location;\n\t            else\n\t                target = encode(state, null, true);\n\t\n\t            if (replace) {\n\t                history.replaceState(state, \"\", target);\n\t                return false;\n\t            }\n\t\n\t\n\t            if (frame_change || state.hash !== current.hash) {\n\t                history.pushState(state, \"\", target);\n\t                self.navigate(state, true);\n\t                return true;\n\t            }\n\t\n\t            return false;\n\t        };\n\t\n\t        /* Build an href for use in an <a> */\n\t        self.href = function (state, sidebar) {\n\t            return encode(state, sidebar);\n\t        };\n\t\n\t        self.show_oops = function () {\n\t            if (self.oops_sel)\n\t                $(self.oops_sel).show();\n\t        };\n\t\n\t        self.current_frame = function (frame) {\n\t            if (frame !== undefined) {\n\t                if (current_frame !== frame) {\n\t                    if (current_frame && current_frame.contentWindow)\n\t                        self.router.hint(current_frame.contentWindow, { \"hidden\": true });\n\t                    if (frame && frame.contentWindow)\n\t                        self.router.hint(frame.contentWindow, { \"hidden\": false });\n\t                }\n\t                current_frame = frame;\n\t            }\n\t            return current_frame;\n\t        };\n\t\n\t        self.start = function() {\n\t            /* window.messages is initialized in shell/bundle.js */\n\t            var messages = window.messages;\n\t            if (messages)\n\t                messages.cancel();\n\t            self.router.start(messages || []);\n\t        };\n\t\n\t        self.ready = function () {\n\t            $(window).on(\"popstate\", function(ev) {\n\t                self.navigate(ev.state, true);\n\t            });\n\t\n\t            build_navbar();\n\t            self.navigate();\n\t            cockpit.translate();\n\t            $(\"body\").show();\n\t        };\n\t\n\t        self.expect_restart = function (host) {\n\t            $(self).triggerHandler(\"expect_restart\", host);\n\t        };\n\t\n\t        /* Menu items */\n\t        /* The oops bar */\n\t        function setup_oops(id) {\n\t            var oops = $(id);\n\t            if (!oops)\n\t                return;\n\t            oops.children(\"a\").on(\"click\", function() {\n\t                $(\"#error-popup-title\").text(_(\"Unexpected error\"));\n\t                var details = _(\"Cockpit had an unexpected internal error. <br/><br/>You can try restarting Cockpit by pressing refresh in your browser. The javascript console contains details about this error (<b>Ctrl-Shift-J</b> in most browsers).\");\n\t                $(\"#error-popup-message\").html(details);\n\t                $('#error-popup').modal('show');\n\t            });\n\t        }\n\t\n\t        function css_content(elt) {\n\t            var styles, i;\n\t            var style, content;\n\t            var el_style, el_content;\n\t\n\t            if (elt)\n\t                style = window.getComputedStyle(elt, \":before\");\n\t            if (!style)\n\t                return;\n\t\n\t            content = style.content;\n\t            // Old branding had style on the element itself\n\t            if (!content) {\n\t                el_style = window.getComputedStyle(elt);\n\t                if (el_style)\n\t                    el_content = el_style.content;\n\t            }\n\t\n\t            // getComputedStyle is broken for pseudo elements\n\t            // in Phantomjs and some old browsers\n\t            // those support the depricated getMatchedCSSRules\n\t            if (!content && style.length === 0 && window.getMatchedCSSRules) {\n\t                styles = window.getMatchedCSSRules(elt, \":before\") || [];\n\t                for (i = 0; i < styles.length; i++) {\n\t                    if (styles[i].style.content) {\n\t                        content = styles[i].style.content;\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t\n\t            return content || el_content;\n\t        }\n\t\n\t        /* Branding */\n\t        function setup_brand(id, default_title) {\n\t            var elt = $(id)[0];\n\t            var os_release = {};\n\t            try {\n\t                os_release = JSON.parse(window.localStorage['os-release'] || \"{}\");\n\t            } catch (ex) {\n\t                console.warn(\"Couldn't parse os-release\", ex);\n\t            }\n\t\n\t            var len, content = css_content(elt);\n\t            if (content && content != \"none\" && content != \"normal\") {\n\t                len = content.length;\n\t                if ((content[0] === '\"' || content[0] === '\\'') &&\n\t                    len > 2 && content[len - 1] === content[0])\n\t                    content = content.substr(1, len - 2);\n\t                elt.innerHTML = cockpit.format(content, os_release) || default_title;\n\t                return $(elt).text();\n\t            } else {\n\t                elt.removeAttribute(\"class\");\n\t            }\n\t        }\n\t\n\t        /* Logout link */\n\t        function setup_logout(id) {\n\t            $(id).on(\"click\", function() {\n\t                cockpit.logout();\n\t            });\n\t        }\n\t\n\t        /* Display language dialog */\n\t        function setup_language(id) {\n\t            /*\n\t             * Note that we don't go ahead and load all the po files in order\n\t             * to produce this list. Perhaps we would include it somewhere in a\n\t             * separate automatically generated file. Need to see.\n\t             */\n\t            var manifest = cockpit.manifests[\"shell\"] || { };\n\t            $(\".display-language-menu\").toggle(!!manifest.locales);\n\t            var language = document.cookie.replace(/(?:(?:^|.*;\\s*)CockpitLang\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n\t            if (!language)\n\t                language = \"en-us\";\n\t            $.each(manifest.locales || { }, function(code, name) {\n\t                var el = $(\"<option>\").text(name).val(code);\n\t                if (code == language)\n\t                    el.attr(\"selected\", \"true\");\n\t                $(\"#display-language-list\").append(el);\n\t            });\n\t\n\t            $(\"#display-language-select-button\").on(\"click\", function(event) {\n\t                var code_to_select = $(\"#display-language-list\").val();\n\t                var cookie = \"CockpitLang=\" + encodeURIComponent(code_to_select) +\n\t                             \"; path=/; expires=Sun, 16 Jul 3567 06:23:41 GMT\";\n\t                document.cookie = cookie;\n\t                window.localStorage.setItem(\"cockpit.lang\", code_to_select);\n\t                window.location.reload(true);\n\t                return false;\n\t            });\n\t\n\t            $(id).on(\"shown.bs.modal\", function() {\n\t                $(\"display-language-list\").focus();\n\t                phantom_checkpoint();\n\t            });\n\t        }\n\t\n\t        /* About dialog */\n\t        function setup_about(id) {\n\t            $(cockpit.info).on(\"changed\", function() {\n\t                $(id).text(cockpit.info.version);\n\t                phantom_checkpoint();\n\t            });\n\t        }\n\t\n\t        /* Account link */\n\t        function setup_account(id, user) {\n\t            $(id).on(\"click\", function() {\n\t                self.jump({ host: \"localhost\", component: \"users\", hash: \"/\" + user.name });\n\t            }).show();\n\t        }\n\t\n\t        function setup_killer(id) {\n\t            $(id).on(\"click\", function(ev) {\n\t                if (ev && ev.button === 0)\n\t                    __webpack_require__(40).showDialog(self.frames);\n\t            });\n\t        }\n\t\n\t        /* User information */\n\t        function setup_user(id, user) {\n\t            $(id).text(user.full_name || user.name || '???');\n\t        }\n\t\n\t        if (self.oops_sel)\n\t            setup_oops(self.oops_sel);\n\t\n\t        if (self.logout_sel)\n\t            setup_logout(self.logout_sel);\n\t\n\t        if (self.language_sel)\n\t            setup_language(self.language_sel);\n\t\n\t        var cal_title;\n\t        if (self.brand_sel) {\n\t            cal_title = setup_brand(self.brand_sel, self.default_title);\n\t            if (cal_title && !self.skip_brand_title)\n\t                self.default_title = cal_title;\n\t        }\n\t\n\t        if (self.about_sel)\n\t            setup_about(self.about_sel);\n\t        if (self.killer_sel)\n\t            setup_killer(self.killer_sel);\n\t\n\t        if (self.user_sel || self.account_sel) {\n\t            cockpit.user().done(function (user) {\n\t                if (self.user_sel)\n\t                    setup_user(self.user_sel, user);\n\t                if (self.account_sel)\n\t                    setup_account(self.account_sel, user);\n\t            });\n\t        }\n\t    }\n\t\n\t    function CompiledComponents() {\n\t        var self = this;\n\t        self.items = {};\n\t\n\t        self.load = function(manifests, section) {\n\t            $.each(manifests || { }, function(name, manifest) {\n\t                $.each(manifest[section] || { }, function(prop, info) {\n\t                    var item = {\n\t                        section: section,\n\t                        label: cockpit.gettext(info.label) || prop,\n\t                        order: info.order === undefined ? 1000 : info.order,\n\t                        icon: info.icon,\n\t                        wants: info.wants\n\t                    };\n\t                    if (info.path)\n\t                        item.path = info.path.replace(/\\.html$/, \"\");\n\t                    else\n\t                        item.path = name + \"/\" + prop;\n\t                    if (item.path.indexOf(\"/\") === -1)\n\t                        item.path = name + \"/\" + item.path;\n\t                    if (item.path.slice(-6) == \"/index\")\n\t                        item.path = item.path.slice(0, -6);\n\t                    self.items[item.path] = item;\n\t                });\n\t            });\n\t        };\n\t\n\t\n\t        self.ordered = function(section) {\n\t            var x, list = [];\n\t            for (x in self.items) {\n\t                if (!section || self.items[x].section === section)\n\t                    list.push(self.items[x]);\n\t            }\n\t            list.sort(function(a, b) {\n\t                var ret = a.order - b.order;\n\t                if (ret === 0)\n\t                    ret = a.label.localeCompare(b.label);\n\t                return ret;\n\t            });\n\t            return list;\n\t        };\n\t\n\t        self.search = function(prop, value) {\n\t            var x;\n\t            for (x in self.items) {\n\t                if (self.items[x][prop] === value)\n\t                    return self.items[x];\n\t            }\n\t        };\n\t    }\n\t\n\t    function follow(arg) {\n\t        /* A promise of some sort */\n\t        if (arguments.length == 1 && typeof arg.then == \"function\") {\n\t            arg.then(function() { console.log.apply(console, arguments); },\n\t                     function() { console.error.apply(console, arguments); });\n\t            if (typeof arg.stream == \"function\")\n\t                arg.stream(function() { console.log.apply(console,arguments); });\n\t        }\n\t    }\n\t\n\t    var zz_value;\n\t\n\t    /* For debugging utility in the index window */\n\t    Object.defineProperties(window, {\n\t        cockpit: { value: cockpit },\n\t        zz: {\n\t            get: function() { return zz_value; },\n\t            set: function(val) { zz_value = val; follow(val); }\n\t        }\n\t    });\n\t\n\t    module.exports = {\n\t        new_index_from_proto: function (proto) {\n\t            var o = new Object(proto);\n\t            Index.call(o);\n\t            return o;\n\t        },\n\t\n\t        new_compiled: function () {\n\t            return new CompiledComponents();\n\t        },\n\t    };\n\t}());\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar cockpit = __webpack_require__(13);\n\tvar _ = cockpit.gettext;\n\t\n\tvar React = __webpack_require__(16);\n\t\n\tvar dialogPattern = __webpack_require__(41);\n\tvar PagesDialog = __webpack_require__(43);\n\t\n\t// The argument is a Frames object from base_index.js\n\tvar showDialog = function(frames) {\n\t    var dataStore = { };\n\t\n\t    // we omit the host for all pages on our current system\n\t    function displayName(address, component) {\n\t        if (address == \"localhost\")\n\t            return \"/\" + component;\n\t        return address + \":/\" + component;\n\t    }\n\t\n\t    function gatherIframes() {\n\t        var result = [ ];\n\t        var address, component, iframe;\n\t        for (address in frames.iframes) {\n\t            for (component in frames.iframes[address]) {\n\t                iframe = frames.iframes[address][component];\n\t                result.push({\n\t                    frame: iframe,\n\t                    component: component,\n\t                    address: address,\n\t                    name: iframe.getAttribute(\"name\"),\n\t                    visible: iframe.style.display.indexOf(\"block\") !== -1,\n\t                    displayName: displayName(address, component)\n\t                });\n\t            }\n\t        }\n\t        return result;\n\t    }\n\t\n\t    var selectedFrames = [];\n\t\n\t    dataStore.closePage = function() {\n\t        // the user wants to close the selected pages\n\t        selectedFrames.forEach(function(element) {\n\t            frames.remove(element.host, element.component);\n\t        });\n\t        return cockpit.resolve();\n\t    };\n\t\n\t    function selectionChanged(frame, selected) {\n\t        var index = selectedFrames.indexOf(frame);\n\t        if (selected) {\n\t            if (index === -1)\n\t                selectedFrames.push(frame);\n\t        } else {\n\t            if (index !== -1)\n\t                selectedFrames.splice(index, 1);\n\t        }\n\t    }\n\t\n\t    var iframes = gatherIframes();\n\t    // by default, select currently active (visible) frame\n\t    iframes.forEach(function(f, index) {\n\t        if (f.visible) {\n\t            if (!(f in selectedFrames))\n\t                selectedFrames.push(f);\n\t        }\n\t        f.selected = f.visible;\n\t    });\n\t    // sort the frames by displayName, visible ones first\n\t    iframes.sort(function(a, b) {\n\t        return (a.visible ? -2 : 0) + (b.visible ? 2 : 0) +\n\t               ((a.displayName < b.displayName) ? -1 : 0) + ((b.displayName < a.displayName) ? 1 : 0);\n\t    });\n\t    dataStore.dialogProps = {\n\t        title: _(\"Active Pages\"),\n\t        id: \"active-pages-dialog\",\n\t        body: React.createElement(PagesDialog, { iframes: iframes, selectionChanged: selectionChanged }),\n\t    };\n\t\n\t    dataStore.footerProps = {\n\t        'actions': [\n\t              { 'clicked': dataStore.closePage,\n\t                'caption': _(\"Close Selected Pages\"),\n\t                'style': 'primary',\n\t              }\n\t          ],\n\t    };\n\t\n\t    dataStore.dialogObj = dialogPattern.show_modal_dialog(dataStore.dialogProps, dataStore.footerProps);\n\t\n\t    dataStore.update = function() {\n\t        dataStore.dialogProps.body = React.createElement(PagesDialog, { });\n\t        dataStore.dialogObj.setProps(dataStore.dialogProps);\n\t    };\n\t\n\t    return dataStore;\n\t};\n\t\n\tmodule.exports = {\n\t    showDialog: showDialog\n\t};\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar cockpit = __webpack_require__(13);\n\tvar React = __webpack_require__(16);\n\tvar _ = cockpit.gettext;\n\t\n\t__webpack_require__(42);\n\t\n\t/*\n\t * React template for a Cockpit dialog footer\n\t * It can display an error, wait for an action to complete,\n\t * has a 'Cancel' button and an action button (defaults to 'OK')\n\t * Expected props:\n\t *  - cancel_clicked optional\n\t *     Callback called when the dialog is canceled\n\t *  - cancel_style\n\t *     css class used for the cancel button, defaults to 'cancel'\n\t *  - cancel_caption optional, defaults to 'Cancel'\n\t *  - list of actions, each an object with:\n\t *      - clicked\n\t *         Callback function that is expected to return a promise.\n\t *         parameter: callback to set the progress text (will be displayed next to spinner)\n\t *      - caption optional, defaults to 'Ok'\n\t *      - disabled optional, defaults to false\n\t *      - style defaults to 'default', other options: 'primary', 'danger'\n\t *  - static_error optional, always show this error\n\t *  - dialog_done optional, callback when dialog is finished (param true if success, false on cancel)\n\t */\n\tvar DialogFooter = React.createClass({\n\t    displayName: \"DialogFooter\",\n\t\n\t    propTypes: {\n\t        cancel_clicked: React.PropTypes.func,\n\t        cancel_caption: React.PropTypes.string,\n\t        actions: React.PropTypes.array,\n\t        static_error: React.PropTypes.string,\n\t        dialog_done: React.PropTypes.func\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            action_in_progress: false,\n\t            action_in_progress_promise: null,\n\t            action_progress_message: '',\n\t            action_canceled: false,\n\t            error_message: null\n\t        };\n\t    },\n\t    keyUpHandler: function keyUpHandler(e) {\n\t        if (e.keyCode == 27) {\n\t            this.cancel_click();\n\t            e.stopPropagation();\n\t        }\n\t    },\n\t    componentDidMount: function componentDidMount() {\n\t        document.body.classList.add(\"modal-in\");\n\t        document.addEventListener('keyup', this.keyUpHandler.bind(this));\n\t    },\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        document.body.classList.remove(\"modal-in\");\n\t        document.removeEventListener('keyup', this.keyUpHandler.bind(this));\n\t    },\n\t    update_progress: function update_progress(msg) {\n\t        this.setState({ action_progress_message: msg });\n\t    },\n\t    action_click: function action_click(handler, e) {\n\t        // only consider clicks with the primary button\n\t        if (e && e.button !== 0) return;\n\t        var self = this;\n\t        this.setState({\n\t            error_message: null,\n\t            action_progress_message: '',\n\t            action_in_progress: true,\n\t            action_canceled: false\n\t        });\n\t        this.state.action_in_progress_promise = handler(this.update_progress.bind(this)).done(function () {\n\t            self.setState({ action_in_progress: false, error_message: null });\n\t            if (self.props.dialog_done) self.props.dialog_done(true);\n\t        }).fail(function (error) {\n\t            if (self.state.action_canceled) {\n\t                if (self.props.dialog_done) self.props.dialog_done(false);\n\t            }\n\t\n\t            /* Always log global dialog errors for easier debugging */\n\t            console.warn(error);\n\t\n\t            self.setState({ action_in_progress: false, error_message: error });\n\t        }).progress(this.update_progress.bind(this));\n\t        if (e) e.stopPropagation();\n\t    },\n\t    cancel_click: function cancel_click(e) {\n\t        // only consider clicks with the primary button\n\t        if (e && e.button !== 0) return;\n\t\n\t        this.setState({ action_canceled: true });\n\t\n\t        if (this.props.cancel_clicked) this.props.cancel_clicked();\n\t\n\t        // an action might be in progress, let that handler decide what to do if they added a cancel function\n\t        if (this.state.action_in_progress && 'cancel' in this.state.action_in_progress_promise) {\n\t            this.state.action_in_progress_promise.cancel();\n\t            return;\n\t        }\n\t\n\t        if (this.props.dialog_done) this.props.dialog_done(false);\n\t        if (e) e.stopPropagation();\n\t    },\n\t    render: function render() {\n\t        var cancel_caption, cancel_style;\n\t        if ('cancel_caption' in this.props) cancel_caption = this.props.cancel_caption;else cancel_caption = _(\"Cancel\");\n\t\n\t        if ('cancel_style' in this.props) cancel_style = this.props.cancel_style;else cancel_style = \"cancel\";\n\t        cancel_style = \"btn btn-default \" + cancel_style;\n\t\n\t        // If an action is in progress, show the spinner with its message and disable all actions except cancel\n\t        var wait_element;\n\t        var actions_disabled;\n\t        if (this.state.action_in_progress) {\n\t            actions_disabled = 'disabled';\n\t            wait_element = React.createElement(\n\t                \"div\",\n\t                { className: \"dialog-wait-ct pull-left\" },\n\t                React.createElement(\"div\", { className: \"spinner spinner-sm\" }),\n\t                React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    this.state.action_progress_message\n\t                )\n\t            );\n\t        }\n\t\n\t        var self = this;\n\t        var action_buttons = this.props.actions.map(function (action) {\n\t            var caption;\n\t            if ('caption' in action) caption = action.caption;else caption = _(\"Ok\");\n\t\n\t            var button_style = \"btn-default\";\n\t            var button_style_mapping = { 'primary': 'btn-primary', 'danger': 'btn-danger' };\n\t            if ('style' in action && action.style in button_style_mapping) button_style = button_style_mapping[action.style];\n\t            button_style = \"btn \" + button_style + \" apply\";\n\t            var action_disabled = actions_disabled || 'disabled' in action && action.disabled;\n\t            return React.createElement(\n\t                \"button\",\n\t                {\n\t                    key: caption,\n\t                    className: button_style,\n\t                    onClick: self.action_click.bind(self, action.clicked),\n\t                    disabled: action_disabled\n\t                },\n\t                caption\n\t            );\n\t        });\n\t\n\t        // If we have an error message, display the error\n\t        var error_element;\n\t        var error_message;\n\t        if (this.props.static_error !== undefined && this.props.static_error !== null) error_message = this.props.static_error;else error_message = this.state.error_message;\n\t        if (error_message) {\n\t            error_element = React.createElement(\n\t                \"div\",\n\t                { className: \"alert alert-danger dialog-error\" },\n\t                React.createElement(\"span\", { className: \"fa fa-exclamation-triangle\" }),\n\t                React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    error_message\n\t                )\n\t            );\n\t        }\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"modal-footer\" },\n\t            error_element,\n\t            wait_element,\n\t            React.createElement(\n\t                \"button\",\n\t                {\n\t                    className: cancel_style,\n\t                    onClick: this.cancel_click.bind(this)\n\t                },\n\t                cancel_caption\n\t            ),\n\t            action_buttons\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t * React template for a Cockpit dialog\n\t * The primary action button is disabled while its action is in progress (waiting for promise)\n\t * Removes focus on other elements on showing\n\t * Expected props:\n\t *  - title (string)\n\t *  - no_backdrop optional, skip backdrop if true\n\t *  - body (react element, top element should be of class modal-body)\n\t *      It is recommended for information gathering dialogs to pass references\n\t *      to the input components to the controller. That way, the controller can\n\t *      extract all necessary information (e.g. for input validation) when an\n\t *      action is triggered.\n\t *  - footer (react element, top element should be of class modal-footer)\n\t *  - id optional, id that is assigned to the top level dialog node, but not the backdrop\n\t */\n\tvar Dialog = React.createClass({\n\t    displayName: \"Dialog\",\n\t\n\t    propTypes: {\n\t        title: React.PropTypes.string.isRequired,\n\t        no_backdrop: React.PropTypes.bool,\n\t        body: React.PropTypes.element.isRequired,\n\t        footer: React.PropTypes.element.isRequired,\n\t        id: React.PropTypes.string\n\t    },\n\t    componentDidMount: function componentDidMount() {\n\t        // if we used a button to open this, make sure it's not focused anymore\n\t        if (document.activeElement) document.activeElement.blur();\n\t    },\n\t    render: function render() {\n\t        var backdrop;\n\t        if (!this.props.no_backdrop) {\n\t            backdrop = React.createElement(\"div\", { className: \"modal-backdrop fade in\" });\n\t        }\n\t        return React.createElement(\n\t            \"div\",\n\t            null,\n\t            backdrop,\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"modal fade in dialog-ct-visible\", tabindex: \"-1\" },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { id: this.props.id, className: \"modal-dialog\" },\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"modal-content\" },\n\t                        React.createElement(\n\t                            \"div\",\n\t                            { className: \"modal-header\" },\n\t                            React.createElement(\n\t                                \"h4\",\n\t                                { className: \"modal-title\" },\n\t                                this.props.title\n\t                            )\n\t                        ),\n\t                        this.props.body,\n\t                        this.props.footer\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/* Create and show a dialog\n\t * For this, create a containing DOM node at the body level\n\t * The returned object has the following methods:\n\t *     - setFooterProps replace the current footerProps and render\n\t *     - setProps       replace the current props and render\n\t *     - render         render again using the stored props\n\t * The DOM node and React metadata are freed once the dialog has closed\n\t */\n\tvar show_modal_dialog = function show_modal_dialog(props, footerProps) {\n\t    var dialogName = 'cockpit_modal_dialog';\n\t    // don't allow nested dialogs\n\t    if (document.getElementById(dialogName)) {\n\t        console.warn('Unable to create nested dialog');\n\t        return;\n\t    }\n\t    // create an element to render into\n\t    var rootElement = document.createElement(\"div\");\n\t    rootElement.id = dialogName;\n\t    document.body.appendChild(rootElement);\n\t\n\t    // register our own on-close callback\n\t    var origCallback;\n\t    var closeCallback = function closeCallback() {\n\t        if (origCallback) origCallback.apply(this, arguments);\n\t        React.unmountComponentAtNode(rootElement);\n\t        rootElement.remove();\n\t    };\n\t\n\t    var dialogObj = {};\n\t    dialogObj.props = null;\n\t    dialogObj.footerProps = null;\n\t    dialogObj.render = function () {\n\t        dialogObj.props.footer = React.createElement(DialogFooter, dialogObj.footerProps);\n\t        React.render(React.createElement(Dialog, dialogObj.props), rootElement);\n\t    };\n\t    function updateFooterAndRender() {\n\t        if (dialogObj.props === null || dialogObj.props === undefined) dialogObj.props = {};\n\t        dialogObj.props.footer = React.createElement(DialogFooter, dialogObj.footerProps);\n\t        dialogObj.render();\n\t    }\n\t    dialogObj.setFooterProps = function (footerProps) {\n\t        /* Always log error messages to console for easier debugging */\n\t        if (footerProps.static_error) console.warn(footerProps.static_error);\n\t        dialogObj.footerProps = footerProps;\n\t        if (dialogObj.footerProps === null || dialogObj.footerProps === undefined) dialogObj.footerProps = {};\n\t        if (dialogObj.footerProps.dialog_done != closeCallback) {\n\t            origCallback = dialogObj.footerProps.dialog_done;\n\t            dialogObj.footerProps.dialog_done = closeCallback;\n\t        }\n\t        updateFooterAndRender();\n\t    };\n\t    dialogObj.setProps = function (props) {\n\t        dialogObj.props = props;\n\t        updateFooterAndRender();\n\t    };\n\t    dialogObj.setFooterProps(footerProps);\n\t    dialogObj.setProps(props);\n\t\n\t    // now actually render\n\t    dialogObj.render();\n\t\n\t    return dialogObj;\n\t};\n\t\n\tmodule.exports = {\n\t    Dialog: Dialog,\n\t    DialogFooter: DialogFooter,\n\t    show_modal_dialog: show_modal_dialog\n\t};\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar React = __webpack_require__(16);\n\t\n\tvar cockpit = __webpack_require__(13);\n\tvar _ = cockpit.gettext;\n\t\n\tvar listingPattern = __webpack_require__(44);\n\tvar Listing = listingPattern.Listing;\n\tvar ListingRow = listingPattern.ListingRow;\n\t\n\t/* Dialog body to show active Cockpit pages\n\t * Props:\n\t *  - iframes          iframe elements on page to list\n\t *  - selectionChanged callback when the select state changed, parameters: frame object, new value\n\t */\n\tvar ActivePagesDialogBody = React.createClass({\n\t    displayName: \"ActivePagesDialogBody\",\n\t\n\t    render: function render() {\n\t        var self = this;\n\t        var frames = self.props.iframes.map(function (frame) {\n\t            var badge;\n\t            if (frame.visible) badge = React.createElement(\n\t                \"span\",\n\t                { className: \"badge pull-right\" },\n\t                _(\"active\")\n\t            );\n\t            var columns = [{ name: frame.displayName, header: frame.visible }, badge];\n\t            var selectCallback;\n\t            if (self.props.selectionChanged) selectCallback = self.props.selectionChanged.bind(self, frame);\n\t            return React.createElement(ListingRow, { columns: columns,\n\t                rowId: frame.name,\n\t                selected: frame.selected,\n\t                selectChanged: selectCallback\n\t            });\n\t        });\n\t\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"modal-body\" },\n\t            React.createElement(\n\t                Listing,\n\t                { emptyCaption: _(\"There are currently no active pages\") },\n\t                frames\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tmodule.exports = ActivePagesDialogBody;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(16);\n\t\n\t__webpack_require__(24);\n\t\n\t/* entry for an alert in the listing, can be expanded (with details) or standard\n\t * rowId optional: an identifier for the row which will be set as \"data-row-id\" attribute on the <tr>\n\t * columns list of columns to show in the header\n\t *     columns to show, can be a string, react component or object with { name: 'name', 'header': false }\n\t *     'header' (or if simple string) defaults to false\n\t *     in case 'header' is true, <th> is used for the entries, otherwise <td>\n\t * tabRenderers optional: list of tab renderers for inline expansion, array of objects with\n\t *     - name tab name (has to be unique in the entry, used as react key)\n\t *     - renderer react component\n\t *     - data render data passed to the tab renderer\n\t *     - presence 'always', 'onlyActive', 'loadOnDemand', default: 'loadOnDemand'\n\t *         - 'always' once a row is expanded, this tab is always rendered, but invisible if not active\n\t *         - 'onlyActive' the tab is only rendered when active\n\t *         - 'loadOnDemand' the tab is first rendered when it becomes active, then follows 'always' behavior\n\t *     if tabRenderers isn't set, item can't be expanded inline\n\t * navigateToItem optional: callback triggered when a row is clicked, pattern suggests navigation\n\t *     to view expanded item details, if not set, navigation isn't available\n\t * listingDetail optional: text rendered next to action buttons, similar style to the tab headers\n\t * listingActions optional: buttons that are presented as actions for the expanded item\n\t * selectChanged optional: callback will be used when the \"selected\" state changes\n\t * selected optional: true if the item is selected, can't be true if row has navigation or expansion\n\t * initiallyExpanded optional: the entry will be initially rendered as expanded, but then behaves normally\n\t */\n\tvar ListingRow = React.createClass({\n\t    displayName: 'ListingRow',\n\t\n\t    propTypes: {\n\t        rowId: React.PropTypes.string,\n\t        columns: React.PropTypes.array.isRequired,\n\t        tabRenderers: React.PropTypes.array,\n\t        navigateToItem: React.PropTypes.func,\n\t        listingDetail: React.PropTypes.node,\n\t        listingActions: React.PropTypes.arrayOf(React.PropTypes.node),\n\t        selectChanged: React.PropTypes.func,\n\t        selected: React.PropTypes.bool,\n\t        initiallyExpanded: React.PropTypes.bool,\n\t        initiallyActiveTab: React.PropTypes.bool\n\t    },\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            tabRenderers: [],\n\t            navigateToItem: null\n\t        };\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            expanded: this.props.initiallyExpanded, // show expanded view if true, otherwise one line compact\n\t            activeTab: this.props.initiallyActiveTab ? this.props.initiallyActiveTab : 0, // currently active tab in expanded mode, defaults to first tab\n\t            loadedTabs: {}, // which tabs were already loaded - this is important for 'loadOnDemand' setting\n\t            // contains tab indices\n\t            selected: this.props.selected // whether the current row is selected\n\t        };\n\t    },\n\t    handleNavigateClick: function handleNavigateClick(e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t        this.props.navigateToItem();\n\t    },\n\t    handleExpandClick: function handleExpandClick(e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t\n\t        var willBeExpanded = !this.state.expanded && this.props.tabRenderers.length > 0;\n\t        this.setState({ expanded: willBeExpanded });\n\t\n\t        var loadedTabs = {};\n\t        // unload all tabs if not expanded\n\t        if (willBeExpanded) {\n\t            // see if we should preload some tabs\n\t            var tabIdx;\n\t            var tabPresence;\n\t            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n\t                if ('presence' in this.props.tabRenderers[tabIdx]) tabPresence = this.props.tabRenderers[tabIdx].presence;else tabPresence = 'default';\n\t                // the active tab is covered by separate logic\n\t                if (tabPresence == 'always') loadedTabs[tabIdx] = true;\n\t            }\n\t            // ensure the active tab is loaded\n\t            loadedTabs[this.state.activeTab] = true;\n\t        }\n\t\n\t        this.setState({ loadedTabs: loadedTabs });\n\t\n\t        e.stopPropagation();\n\t        e.preventDefault();\n\t    },\n\t    handleSelectClick: function handleSelectClick(e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t\n\t        var selected = !this.state.selected;\n\t        this.setState({ selected: selected });\n\t\n\t        if (this.props.selectChanged) this.props.selectChanged(selected);\n\t\n\t        e.stopPropagation();\n\t        e.preventDefault();\n\t    },\n\t    handleTabClick: function handleTabClick(tabIdx, e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t        var prevTab = this.state.activeTab;\n\t        var prevTabPresence = 'default';\n\t        var loadedTabs = this.state.loadedTabs;\n\t        if (prevTab !== tabIdx) {\n\t            // see if we need to unload the previous tab\n\t            if ('presence' in this.props.tabRenderers[prevTab]) prevTabPresence = this.props.tabRenderers[prevTab].presence;\n\t\n\t            if (prevTabPresence == 'onlyActive') delete loadedTabs[prevTab];\n\t\n\t            // ensure the new tab is loaded and update state\n\t            loadedTabs[tabIdx] = true;\n\t            this.setState({ loadedTabs: loadedTabs, activeTab: tabIdx });\n\t        }\n\t        e.stopPropagation();\n\t        e.preventDefault();\n\t    },\n\t    render: function render() {\n\t        var self = this;\n\t        // only enable navigation if a function is provided and the row isn't expanded (prevent accidental navigation)\n\t        var allowNavigate = !!this.props.navigateToItem && !this.state.expanded;\n\t\n\t        var headerEntries = this.props.columns.map(function (itm) {\n\t            if (typeof itm === 'string' || typeof itm === 'number' || itm === null || itm === undefined || itm instanceof String || React.isValidElement(itm)) return React.createElement(\n\t                'td',\n\t                null,\n\t                itm\n\t            );else if ('header' in itm && itm.header) return React.createElement(\n\t                'th',\n\t                null,\n\t                itm.name\n\t            );else if ('tight' in itm && itm.tight) return React.createElement(\n\t                'td',\n\t                { className: 'listing-ct-actions' },\n\t                itm.name || itm.element\n\t            );else return React.createElement(\n\t                'td',\n\t                null,\n\t                itm.name\n\t            );\n\t        });\n\t\n\t        var allowExpand = this.props.tabRenderers.length > 0;\n\t        var expandToggle;\n\t        if (allowExpand) {\n\t            expandToggle = React.createElement(\n\t                'td',\n\t                { className: 'listing-ct-toggle', onClick: allowNavigate ? this.handleExpandClick : undefined },\n\t                React.createElement('i', { className: 'fa fa-fw' })\n\t            );\n\t        } else {\n\t            expandToggle = React.createElement('td', { className: 'listing-ct-toggle' });\n\t        }\n\t\n\t        var listingItemClasses = [\"listing-ct-item\"];\n\t        if (!allowNavigate) listingItemClasses.push(\"listing-ct-nonavigate\");\n\t        if (!allowExpand) listingItemClasses.push(\"listing-ct-noexpand\");\n\t\n\t        var allowSelect = !(allowNavigate || allowExpand) && this.state.selected !== undefined;\n\t        var clickHandler;\n\t        if (allowSelect) {\n\t            clickHandler = this.handleSelectClick;\n\t            if (this.state.selected) listingItemClasses.push(\"listing-ct-selected\");\n\t        } else {\n\t            if (allowNavigate) clickHandler = this.handleNavigateClick;else clickHandler = this.handleExpandClick;\n\t        }\n\t\n\t        var listingItem = React.createElement(\n\t            'tr',\n\t            { 'data-row-id': this.props.rowId,\n\t                className: listingItemClasses.join(' '),\n\t                onClick: clickHandler },\n\t            expandToggle,\n\t            headerEntries\n\t        );\n\t\n\t        if (this.state.expanded) {\n\t            var links = this.props.tabRenderers.map(function (itm, idx) {\n\t                return React.createElement(\n\t                    'li',\n\t                    { key: idx, className: idx === self.state.activeTab ? \"active\" : \"\" },\n\t                    React.createElement(\n\t                        'a',\n\t                        { href: '#', onClick: self.handleTabClick.bind(self, idx) },\n\t                        itm.name\n\t                    )\n\t                );\n\t            });\n\t            var tabs = [];\n\t            var tabIdx;\n\t            var Renderer;\n\t            var rendererData;\n\t            var row;\n\t            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n\t                Renderer = this.props.tabRenderers[tabIdx].renderer;\n\t                rendererData = this.props.tabRenderers[tabIdx].data;\n\t                if (tabIdx !== this.state.activeTab && !(tabIdx in this.state.loadedTabs)) continue;\n\t                row = React.createElement(Renderer, _extends({ key: this.props.tabRenderers[tabIdx].name, hidden: tabIdx !== this.state.activeTab }, rendererData));\n\t                if (tabIdx === this.state.activeTab) tabs.push(React.createElement(\n\t                    'div',\n\t                    { className: 'listing-ct-body', key: tabIdx },\n\t                    row\n\t                ));else tabs.push(React.createElement(\n\t                    'div',\n\t                    { className: 'listing-ct-body', key: tabIdx, hidden: true },\n\t                    row\n\t                ));\n\t            }\n\t\n\t            var listingDetail;\n\t            if ('listingDetail' in this.props) {\n\t                listingDetail = React.createElement(\n\t                    'span',\n\t                    { className: 'listing-ct-caption' },\n\t                    this.props.listingDetail\n\t                );\n\t            }\n\t\n\t            return React.createElement(\n\t                'tbody',\n\t                { className: 'open' },\n\t                listingItem,\n\t                React.createElement(\n\t                    'tr',\n\t                    { className: 'listing-ct-panel' },\n\t                    React.createElement(\n\t                        'td',\n\t                        { colSpan: headerEntries.length + (expandToggle ? 1 : 0) },\n\t                        React.createElement(\n\t                            'div',\n\t                            { className: 'listing-ct-head' },\n\t                            React.createElement(\n\t                                'div',\n\t                                { className: 'listing-ct-actions' },\n\t                                listingDetail,\n\t                                this.props.listingActions\n\t                            ),\n\t                            React.createElement(\n\t                                'ul',\n\t                                { className: 'nav nav-tabs nav-tabs-pf' },\n\t                                links\n\t                            )\n\t                        ),\n\t                        tabs\n\t                    )\n\t                )\n\t            );\n\t        } else {\n\t            return React.createElement(\n\t                'tbody',\n\t                null,\n\t                listingItem,\n\t                React.createElement('tr', { className: 'listing-ct-panel' })\n\t            );\n\t        }\n\t    }\n\t});\n\t\n\t/* Implements a PatternFly 'List View' pattern\n\t * https://www.patternfly.org/list-view/\n\t * Properties:\n\t * - title\n\t * - fullWidth optional: set width to 100% of parent, defaults to true\n\t * - emptyCaption header caption to show if list is empty, defaults to \"No entries\"\n\t * - columnTitles: array of column titles, as strings\n\t * - actions: additional listing-wide actions (displayed next to the list's title)\n\t */\n\tvar Listing = React.createClass({\n\t    displayName: 'Listing',\n\t\n\t    propTypes: {\n\t        title: React.PropTypes.string.isRequired,\n\t        fullWidth: React.PropTypes.bool,\n\t        emptyCaption: React.PropTypes.string.isRequired,\n\t        columnTitles: React.PropTypes.arrayOf(React.PropTypes.string),\n\t        actions: React.PropTypes.arrayOf(React.PropTypes.node)\n\t    },\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            fullWidth: true,\n\t            columnTitles: [],\n\t            actions: []\n\t        };\n\t    },\n\t    render: function render() {\n\t        var bodyClasses = [\"listing\", \"listing-ct\"];\n\t        if (this.props.fullWidth) bodyClasses.push(\"listing-ct-wide\");\n\t        var headerClasses;\n\t        var headerRow;\n\t        var selectableRows;\n\t        if (!this.props.children || this.props.children.length === 0) {\n\t            headerClasses = \"listing-ct-empty\";\n\t            headerRow = React.createElement(\n\t                'tr',\n\t                null,\n\t                React.createElement(\n\t                    'td',\n\t                    null,\n\t                    this.props.emptyCaption\n\t                )\n\t            );\n\t        } else if (this.props.columnTitles.length) {\n\t            // check if any of the children are selectable\n\t            selectableRows = false;\n\t            this.props.children.forEach(function (r) {\n\t                if (r.props.selected !== undefined) selectableRows = true;\n\t            });\n\t\n\t            if (selectableRows) {\n\t                // now make sure that if one is set, it's available on all items\n\t                this.props.children.forEach(function (r) {\n\t                    if (r.props.selected === undefined) r.props.selected = false;\n\t                });\n\t            }\n\t\n\t            headerRow = React.createElement(\n\t                'tr',\n\t                null,\n\t                React.createElement('th', { className: 'listing-ct-toggle' }),\n\t                this.props.columnTitles.map(function (title) {\n\t                    return React.createElement(\n\t                        'th',\n\t                        null,\n\t                        title\n\t                    );\n\t                })\n\t            );\n\t        } else {\n\t            headerRow = React.createElement('tr', null);\n\t        }\n\t        var caption;\n\t        if (this.props.title || this.props.actions && this.props.actions.length > 0) caption = React.createElement(\n\t            'caption',\n\t            { className: 'cockpit-caption' },\n\t            this.props.title,\n\t            this.props.actions\n\t        );\n\t\n\t        return React.createElement(\n\t            'table',\n\t            { className: bodyClasses.join(\" \") },\n\t            caption,\n\t            React.createElement(\n\t                'thead',\n\t                { className: headerClasses },\n\t                headerRow\n\t            ),\n\t            this.props.children\n\t        );\n\t    }\n\t});\n\t\n\tmodule.exports = {\n\t    ListingRow: ListingRow,\n\t    Listing: Listing\n\t};\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar cockpit = __webpack_require__(13);\n\t\n\tfunction Privileges() {\n\t    var self = this;\n\t    var locked = null;\n\t    var lock;\n\t\n\t    function clicked(ev) {\n\t        cockpit.drop_privileges(false);\n\t        ev.preventDefault();\n\t    }\n\t\n\t    function display(blink) {\n\t        var i, locks = document.querySelectorAll(\".credential-lock\");\n\t        for (i = 0; i < locks.length; i++) {\n\t            lock = locks[i];\n\t            if (locked !== true)\n\t                lock.classList.remove(\"credential-locked\");\n\t            else if (locked === true)\n\t                lock.classList.add(\"credential-locked\");\n\t            if (locked !== false)\n\t                lock.classList.remove(\"credential-unlocked\");\n\t            else if (locked === false)\n\t                lock.classList.add(\"credential-unlocked\");\n\t\n\t            if (lock.tagName == \"LI\" && blink)\n\t                lock.classList.add(\"credential-blink\");\n\t            else\n\t                lock.classList.remove(\"credential-blink\");\n\t        }\n\t\n\t        var clear = document.querySelectorAll(\".credential-clear\");\n\t        for (i = 0; i < clear.length; i++)\n\t            clear[i].onclick = clicked;\n\t    }\n\t\n\t    self.update = function update(hint) {\n\t        var blink = false;\n\t        if (hint.credential == \"password\") {\n\t            locked = false;\n\t        } else if (hint.credential == \"request\") {\n\t            if (locked === null)\n\t                locked = true;\n\t            blink = true;\n\t        } else if (hint.credential == \"none\") {\n\t            locked = null;\n\t        }\n\t        display(blink);\n\t    };\n\t\n\t    /* No op authorize command to poke about state */\n\t    cockpit.transport.control(\"authorize\");\n\t}\n\t\n\tvar privileges = null;\n\tmodule.exports = {\n\t    instance: function() {\n\t        if (!privileges)\n\t            privileges = new Privileges();\n\t        return privileges;\n\t    }\n\t};\n\n\n/***/ },\n/* 46 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// shell/index.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap effad7a28597a11bc811","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2015 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n(function() {\n    \"use strict\";\n\n    var machis = require(\"machines\");\n    var credentials = require(\"./credentials\");\n    var mdialogs = require(\"machine-dialogs\");\n\n    var indexes = require(\"./indexes\");\n\n    var machines = machis.instance();\n    var loader = machis.loader(machines);\n    var dialogs = mdialogs.new_manager(machines);\n\n    credentials.setup();\n\n    /* When alt is held down we display debugging menu items */\n    document.addEventListener(\"click\", function(ev) {\n        var i, visible = !!ev.altKey;\n        var advanced = document.querySelectorAll(\".navbar-advanced\");\n        for (i = 0; i < advanced.length; i++)\n            advanced[i].style.display = visible ? \"block\" : \"none\";\n    }, true);\n\n    var options = {\n        brand_sel: \"#index-brand\",\n        logout_sel: \"#go-logout\",\n        oops_sel: \"#navbar-oops\",\n        language_sel: \"#display-language\",\n        about_sel: \"#about-version\",\n        account_sel: \"#go-account\",\n        user_sel: \"#content-user-name\",\n        killer_sel: \"#active-pages\",\n        default_title: \"Cockpit\",\n        privileges: require(\"./privileges\").instance(),\n    };\n\n    indexes.machines_index(options, machines, loader, dialogs);\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/shell/index.js\n// module id = 10\n// module chunks = 0","'use strict';\n\n(function() {\n    \"use strict\";\n\n    var $ = require(\"jquery\");\n    var cockpit = require(\"cockpit\");\n\n    var mod = { };\n\n    var known_hosts_path = \"/etc/ssh/ssh_known_hosts\";\n    /*\n     * We share the Machines state between multiple frames. Only\n     * one frame has the job of loading the state, usually index.js\n     * The Loader code below does all the loading.\n     *\n     * The data is stored in sessionStorage in a JSON object, like this\n     * {\n     *    content: name  info dict from bridge's /machines Machines property\n     *    overlay: extra data to augment and override on top of content\n     * }\n     *\n     * This uses sessionStorage rather than cockpit.sessionStorage\n     * because we don't ever want to write unprefixed keys.\n     */\n\n    var key = cockpit.sessionStorage.prefixedKey(\"v2-machines.json\");\n    var session_prefix = cockpit.sessionStorage.prefixedKey(\"v1-session-machine\");\n\n    function generate_session_key(host) {\n        return session_prefix + \"/\" + host;\n    }\n\n    function Machines() {\n        var self = this;\n\n        var flat = null;\n        self.ready = false;\n\n        /* parsed machine data */\n        var machines = { };\n\n        /* Data shared between Machines() instances */\n        var last = {\n            content: null,\n            overlay: {\n                localhost: {\n                    visible: true,\n                    manifests: cockpit.manifests\n                }\n            }\n        };\n\n        function storage(ev) {\n            if (ev.key === key && ev.storageArea === window.sessionStorage)\n                refresh(JSON.parse(ev.newValue || \"null\"));\n        }\n\n        window.addEventListener(\"storage\", storage);\n\n        window.setTimeout(function() {\n            var value = window.sessionStorage.getItem(key);\n            if (!self.ready && value)\n                refresh(JSON.parse(value));\n        });\n\n        var timeout = null;\n\n        function sync(machine, values, overlay) {\n            var desired = $.extend({ }, values || { }, overlay || { });\n            var prop;\n            for (prop in desired) {\n                if (machine[prop] !== desired[prop])\n                    machine[prop] = desired[prop];\n            }\n            for (prop in machine) {\n                if (machine[prop] !== desired[prop])\n                    delete machine[prop];\n            }\n            return machine;\n        }\n\n        function refresh(shared, push) {\n            if (!shared)\n                return;\n\n            var emit_ready = !self.ready;\n\n            self.ready = true;\n            last = shared;\n            flat = null;\n\n            if (push && !timeout) {\n                timeout = window.setTimeout(function() {\n                    timeout = null;\n                    window.sessionStorage.setItem(key, JSON.stringify(last));\n                }, 10);\n            }\n\n            var host, hosts = { };\n            var content = shared.content || { };\n            var overlay = shared.overlay || { };\n            for (host in content)\n                hosts[host] = true;\n            for (host in overlay)\n                hosts[host] = true;\n\n            var events = [];\n\n            var machine, application;\n            for (host in hosts) {\n                var old_machine = machines[host] || { };\n                var old_conns = old_machine.connection_string;\n\n                /* Invert logic for color, always respect what's on disk */\n                if (content[host] && content[host].color && overlay[host])\n                    delete overlay[host].color;\n\n                machine = sync(old_machine, content[host], overlay[host]);\n\n                /* Fill in defaults */\n                machine.key = host;\n                if (!machine.address)\n                    machine.address = host;\n\n                machine.connection_string = self.generate_connection_string(machine.user,\n                                                                            machine.port,\n                                                                            machine.address);\n\n                if (!machine.label) {\n                    if (host == \"localhost\" || host == \"localhost.localdomain\") {\n                        application = cockpit.transport.application();\n                        if (application.indexOf('cockpit+=') === 0)\n                            machine.label = application.replace('cockpit+=', '');\n                        else\n                            machine.label = window.location.hostname;\n                    } else {\n                        machine.label = host;\n                    }\n                }\n                if (!machine.avatar)\n                    machine.avatar = \"../shell/images/server-small.png\";\n\n                events.push([host in machines ? \"updated\" : \"added\",\n                            [machine, host, old_conns]]);\n                machines[host] = machine;\n            }\n\n            /* Remove any lost hosts */\n            for (host in machines) {\n                if (!(host in hosts)) {\n                    machine = machines[host];\n                    delete machines[host];\n                    delete overlay[host];\n                    events.push([\"removed\", [machine, host]]);\n                }\n            }\n\n            /* Fire off all events */\n            var i, sel = $(self), len = events.length;\n            for (i = 0; i < len; i++)\n                sel.triggerHandler(events[i][0], events[i][1]);\n            if (emit_ready)\n                $(self).triggerHandler(\"ready\");\n        }\n\n        function update_session_machine(machine, host, values) {\n            /* We don't save the whole machine object */\n            var skey = generate_session_key(host);\n            var data = $.extend({}, machine, values);\n            window.sessionStorage.setItem(skey, JSON.stringify(data));\n            self.overlay(host, values);\n            return cockpit.when([]);\n        }\n\n        function update_saved_machine(host, values) {\n            // wrap values in variants for D-Bus call; at least values.port can\n            // be int or string, so stringify everything but the \"visible\" boolean\n            var values_variant = {};\n            for (var prop in values) {\n                if (values[prop] !== null) {\n                    if (prop == \"visible\")\n                        values_variant[prop] = cockpit.variant('b', values[prop]);\n                    else\n                        values_variant[prop] = cockpit.variant('s', values[prop].toString());\n                }\n            }\n\n            // FIXME: investigate re-using the proxy from Loader (runs in different frame/scope)\n            var bridge = cockpit.dbus(null, { bus: \"internal\", \"superuser\": \"try\" });\n            var mod = bridge.call(\"/machines\", \"cockpit.Machines\", \"Update\", [ \"99-webui.json\", host, values_variant ])\n                .fail(function(error) {\n                    console.error(\"failed to call cockpit.Machines.Update(): \", error);\n                });\n\n            return mod;\n        }\n\n        self.add_key = function(host_key) {\n            var known_hosts = cockpit.file(known_hosts_path, { superuser: \"try\" });\n            return known_hosts\n                .modify(function(data) {\n                    if (!data)\n                        data = \"\";\n\n                    return data + \"\\n\" + host_key;\n                })\n                .always(function() {\n                    known_hosts.close();\n                });\n        };\n\n        self.add = function add(connection_string, color) {\n            var values = self.split_connection_string(connection_string);\n            var host = values['address'];\n\n            values = $.extend({\n                        visible: true,\n                        color: color || self.unused_color(),\n                    }, values);\n\n            var machine = self.lookup(host);\n            if (machine)\n                machine.on_disk = true;\n\n            return self.change(values['address'], values);\n        };\n\n        self.unused_color = function unused_color() {\n            var i, len = mod.colors.length;\n            for (i = 0; i < len; i++) {\n                if (!color_in_use(mod.colors[i]))\n                    return mod.colors[i];\n            }\n            return \"gray\";\n        };\n\n        function color_in_use(color) {\n            var key, machine, norm = mod.colors.parse(color);\n            for (key in machines) {\n                machine = machines[key];\n                if (machine.color && mod.colors.parse(machine.color) == norm)\n                    return true;\n            }\n            return false;\n        }\n\n        function merge(item, values) {\n            for (var prop in values) {\n                if (values[prop] === null)\n                    delete item[prop];\n                else\n                    item[prop] = values[prop];\n            }\n        }\n\n        self.change = function change(host, values) {\n            var mod, hostnamed, call;\n            var machine = self.lookup(host);\n\n            if (values.label) {\n\n                var conn_to = host;\n                if (machine)\n                    conn_to = machine.connection_string;\n\n                if (!machine || machine.label !== values.label) {\n                    hostnamed = cockpit.dbus(\"org.freedesktop.hostname1\", { host: conn_to });\n                    call = hostnamed.call(\"/org/freedesktop/hostname1\", \"org.freedesktop.hostname1\",\n                                          \"SetPrettyHostname\", [ values.label, true ])\n                        .always(function() {\n                            hostnamed.close();\n                        })\n                        .fail(function(ex) {\n                            console.warn(\"couldn't set pretty host name: \" + ex);\n                        });\n                }\n            }\n\n            if (machine && !machine.on_disk)\n                mod = update_session_machine(machine, host, values);\n            else\n                mod = update_saved_machine(host, values);\n\n            if (call)\n                return cockpit.all(call, mod);\n\n            return mod;\n        };\n\n        self.data = function data(content) {\n            var host, changes = {};\n\n            for (host in content) {\n                changes[host] = $.extend({ }, last.overlay[host] || { });\n                merge(changes[host], { on_disk: true });\n            }\n\n            /* It's a full reload, so data not\n             * present is no longer from disk\n             */\n            for (host in machines) {\n                if (content && !content[host]) {\n                    changes[host] = $.extend({ }, last.overlay[host] || { });\n                    merge(changes[host], { on_disk: null });\n                }\n            }\n\n            refresh({ content: content,\n                      overlay: $.extend({ }, last.overlay, changes) }, true);\n        };\n\n        self.overlay = function overlay(host, values) {\n            var changes = { };\n            changes[host] = $.extend({ }, last.overlay[host] || { });\n            merge(changes[host], values);\n            refresh({\n                content: last.content,\n                overlay: $.extend({ }, last.overlay, changes)\n            }, true);\n        };\n\n        Object.defineProperty(self, \"list\", {\n            enumerable: true,\n            get: function get() {\n                var key;\n                if (!flat) {\n                    flat = [];\n                    for (key in machines) {\n                        if (machines[key].visible)\n                            flat.push(machines[key]);\n                    }\n                    flat.sort(function(m1, m2) {\n                        return m1.label.localeCompare(m2.label);\n                    });\n                }\n                return flat;\n            }\n        });\n\n        Object.defineProperty(self, \"addresses\", {\n            enumerable: true,\n            get: function get() {\n                return Object.keys(machines);\n            }\n        });\n\n        self.lookup = function lookup(address) {\n            var parts = self.split_connection_string(address);\n            return machines[parts.address || \"localhost\"] || null;\n        };\n\n        self.generate_connection_string = function (user, port, addr) {\n            var address = addr;\n            if (user)\n                address = user + \"@\" + address;\n\n            if (port)\n                address = address + \":\" + port;\n\n            return address;\n        };\n\n        self.split_connection_string = function(conn_to) {\n            var parts = {};\n            var user_spot = -1;\n            var port_spot = -1;\n\n            if (conn_to) {\n                user_spot = conn_to.lastIndexOf('@');\n                port_spot = conn_to.lastIndexOf(':');\n            }\n\n            if (user_spot > 0) {\n                parts.user = conn_to.substring(0, user_spot);\n                conn_to = conn_to.substring(user_spot+1);\n                port_spot = conn_to.lastIndexOf(':');\n            }\n\n            if (port_spot > -1) {\n                var port = parseInt(conn_to.substring(port_spot+1), 10);\n                if (!isNaN(port)) {\n                    parts.port = port;\n                    conn_to = conn_to.substring(0, port_spot);\n                }\n            }\n\n            parts.address = conn_to;\n            return parts;\n        };\n\n        self.close = function close() {\n            window.removeEventListener(\"storage\", storage);\n        };\n    }\n\n    function Loader(machines, session_only) {\n        var self = this;\n\n        /* Have we loaded from cockpit session */\n        var session_loaded = false;\n\n        /* echo channels to each machine */\n        var channels = { };\n\n        /* hostnamed proxies to each machine, if hostnamed available */\n        var proxies = { };\n\n        /* clients for the bridge D-Bus API */\n        var bridge_dbus = { };\n\n        function process_session_key(key, value) {\n            var host, values, machine;\n            var parts = key.split(\"/\");\n            if (parts[0] == session_prefix &&\n                parts.length === 2) {\n                    host = parts[1];\n                    if (value) {\n                        values = JSON.parse(value);\n                        machine = machines.lookup(host);\n                        if (!machine || !machine.on_disk)\n                            machines.overlay(host, values);\n                        else if (!machine.visible)\n                            machines.change(host, { visible: true });\n                        self.connect(host);\n                    }\n            }\n        }\n\n        function load_from_session_storage() {\n            var i;\n            session_loaded = true;\n            for (i = 0; i < window.sessionStorage.length; i++) {\n                var k = window.sessionStorage.key(i);\n                process_session_key(k, window.sessionStorage.getItem(k));\n            }\n        }\n\n        function process_session_machines(ev) {\n            if (ev.storageArea === window.sessionStorage)\n                process_session_key(ev.key || \"\", ev.newValue);\n        }\n        window.addEventListener(\"storage\", process_session_machines);\n\n        function state(host, value, problem) {\n            var values = { state: value, problem: problem };\n            if (value == \"connected\") {\n                values.restarting = false;\n            } else if (problem) {\n                values.manifests = null;\n                values.checksum = null;\n            }\n            machines.overlay(host, values);\n        }\n\n        $(machines).on(\"added\", updated);\n        $(machines).on(\"updated\", updated);\n        $(machines).on(\"removed\", removed);\n\n        function updated(ev, machine, host, old_conns) {\n            if (!machine) {\n                machine = machines.lookup(host);\n                if (!machine)\n                    return;\n            }\n\n            var props = proxies[host];\n            if (!props || !props.valid)\n                props = { };\n\n            var overlay = { };\n\n            if (!machine.color)\n                overlay.color = machines.unused_color();\n\n            var label = props.PrettyHostname || props.StaticHostname;\n            if (label && label !== machine.label)\n                overlay.label = label;\n\n            var os = props.OperatingSystemPrettyName;\n            if (os && os != machine.os)\n                overlay.os = props.OperatingSystemPrettyName;\n\n            if (!$.isEmptyObject(overlay))\n                machines.overlay(host, overlay);\n\n            /* Don't automatically reconnect failed machines */\n            if (machine.visible) {\n                if (old_conns && machine.connection_string != old_conns) {\n                    cockpit.kill(old_conns);\n                    self.disconnect(host);\n                    self.connect(host);\n                } else if (!machine.problem) {\n                    self.connect(host);\n                }\n            } else {\n                self.disconnect(host);\n            }\n        }\n\n        function removed(ev, machine, host) {\n            self.disconnect(host);\n        }\n\n        self.connect = function connect(host) {\n            var machine = machines.lookup(host);\n            if (!machine)\n                return;\n\n            var channel = channels[host];\n            if (channel)\n                return;\n\n            var options = {\n                host: machine.connection_string,\n                payload: \"echo\"\n            };\n\n            if (!machine.on_disk && machine.host_key) {\n                options['temp-session'] = false; /* Compatibility option */\n                options['session'] = 'shared';\n                options['host-key'] = machine.host_key;\n            }\n\n            channel = cockpit.channel(options);\n            channels[host] = channel;\n\n            var local = host === \"localhost\";\n\n            /* Request is null, and message is true when connected */\n            var request = null;\n            var open = local;\n            var problem = null;\n\n            var url;\n            if (!machine.manifests) {\n                if (machine.checksum)\n                    url = \"../../\" + machine.checksum + \"/manifests.json\";\n                else\n                    url = \"../../@\" + encodeURI(machine.connection_string) + \"/manifests.json\";\n            }\n\n            function whirl() {\n                if (!request && open)\n                    state(host, \"connected\", null);\n                else if (!problem)\n                    state(host, \"connecting\", null);\n            }\n\n            /* Here we load the machine manifests, and expect them before going to \"connected\" */\n            function request_manifest() {\n                request = $.ajax({ url: url, dataType: \"json\", cache: true})\n                    .done(function(manifests) {\n                        var overlay = { manifests: manifests };\n                        var etag = request.getResponseHeader(\"ETag\");\n                        if (etag) /* and remove quotes */\n                            overlay.checksum = etag.replace(/^\"(.+)\"$/, '$1');\n                        machines.overlay(host, overlay);\n                    })\n                    .fail(function(ex) {\n                        console.warn(\"failed to load manifests from \" + machine.connection_string + \": \" + ex);\n                    })\n                    .always(function() {\n                        request = null;\n                        whirl();\n                    });\n            }\n\n            /* Try to get change notifications via the internal\n               /packages D-Bus interface of the bridge.  Not all\n               bridges support this API, so we still get the first\n               version of the manifests via HTTP in request_manifest.\n            */\n\n            function watch_manifests() {\n                var dbus = cockpit.dbus(null, { bus: \"internal\",\n                                                host: machine.connection_string\n                                              });\n                bridge_dbus[host] = dbus;\n                dbus.subscribe({ path: \"/packages\",\n                                 interface: \"org.freedesktop.DBus.Properties\",\n                                 member: \"PropertiesChanged\" },\n                               function (path, iface, mamber, args) {\n                                   if (args[0] == \"cockpit.Packages\") {\n                                       if (args[1][\"Manifests\"]) {\n                                           var manifests = JSON.parse(args[1][\"Manifests\"].v);\n                                           machines.overlay(host, { manifests: manifests });\n                                       }\n                                   }\n                               });\n            }\n\n            function request_hostname() {\n                if (!machine.static_hostname) {\n                    var proxy = cockpit.dbus(\"org.freedesktop.hostname1\",\n                                             { host: machine.connection_string }).proxy();\n                    proxies[host] = proxy;\n                    proxy.wait(function() {\n                        $(proxy).on(\"changed\", function() {\n                            updated(null, null, host);\n                        });\n                        updated(null, null, host);\n                    });\n                }\n            }\n\n            /* Send a message to the server and get back a message once connected */\n            if (!local) {\n                channel.send(\"x\");\n\n                $(channel)\n                    .on(\"message\", function() {\n                        open = true;\n                        if (url)\n                            request_manifest();\n                        watch_manifests();\n                        request_hostname();\n                        whirl();\n                    })\n                .on(\"close\", function(ev, options) {\n                    var m = machines.lookup(host);\n                    open = false;\n                    // reset to clean state when removing machine (orderly disconnect), otherwise mark as failed\n                    if (!options.problem && m && !m.visible)\n                        state(host, null, null);\n                    else\n                        state(host, \"failed\", options.problem || \"disconnected\");\n                    if (m && m.restarting) {\n                        window.setTimeout(function() {\n                            self.connect(host);\n                        }, 10000);\n                    }\n                    self.disconnect(host);\n                });\n            } else {\n                if (url)\n                    request_manifest();\n                watch_manifests();\n                request_hostname();\n            }\n\n            /* In case already ready, for example when local */\n            whirl();\n        };\n\n        self.disconnect = function disconnect(host) {\n            if (host === \"localhost\")\n                return;\n\n            var channel = channels[host];\n            delete channels[host];\n            if (channel) {\n                channel.close();\n                $(channel).off();\n            }\n\n            var proxy = proxies[host];\n            delete proxies[host];\n            if (proxy) {\n                proxy.client.close();\n                $(proxy).off();\n            }\n\n            var dbus = bridge_dbus[host];\n            delete bridge_dbus[host];\n            if (dbus) {\n                dbus.close();\n            }\n        };\n\n        self.expect_restart = function expect_restart(host) {\n            var parts = machines.split_connection_string(host);\n            machines.overlay(parts.address, { restarting: true,\n                                              problem: null });\n        };\n\n        self.close = function close() {\n            $(machines).off(\"added\", updated);\n            $(machines).off(\"changed\", updated);\n            $(machines).off(\"removed\", removed);\n            machines = null;\n\n            window.removeEventListener(\"storage\", process_session_machines);\n            var hosts = Object.keys(channels);\n            hosts.forEach(self.disconnect);\n        };\n\n        if (!session_only) {\n            var proxy = cockpit.dbus(null, { bus: \"internal\" }).proxy(\"cockpit.Machines\", \"/machines\");\n            $(proxy).on(\"changed\", function(data) {\n                // unwrap variants from D-Bus call\n                var wrapped = proxy.Machines;\n                var data_unwrap = {};\n                var host_props;\n                for (var host in wrapped) {\n                    host_props = {};\n                    for (var prop in wrapped[host])\n                        host_props[prop] = wrapped[host][prop].v;\n                    data_unwrap[host] = host_props;\n                }\n\n                machines.data(data_unwrap);\n                if (!session_loaded)\n                    load_from_session_storage();\n            });\n        } else {\n            load_from_session_storage();\n            machines.data({});\n        }\n    }\n\n    mod.instance = function instance(loader) {\n        return new Machines();\n    };\n\n    mod.loader = function loader(machines, session_only) {\n        return new Loader(machines, session_only);\n    };\n\n    mod.colors = [\n        \"#0099d3\",\n        \"#67d300\",\n        \"#d39e00\",\n        \"#d3007c\",\n        \"#00d39f\",\n        \"#00d1d3\",\n        \"#00618a\",\n        \"#4c8a00\",\n        \"#8a6600\",\n        \"#9b005b\",\n        \"#008a55\",\n        \"#008a8a\",\n        \"#00b9ff\",\n        \"#7dff00\",\n        \"#ffbe00\",\n        \"#ff0096\",\n        \"#00ffc0\",\n        \"#00fdff\",\n        \"#023448\",\n        \"#264802\",\n        \"#483602\",\n        \"#590034\",\n        \"#024830\",\n        \"#024848\"\n    ];\n\n    mod.colors.parse = function parse_color(input) {\n        var div = document.createElement('div');\n        div.style.color = input;\n        var style = window.getComputedStyle(div, null);\n        return style.getPropertyValue(\"color\") || div.style.color;\n    };\n\n    mod.known_hosts_path = known_hosts_path;\n\n    cockpit.transport.wait(function() {\n        var caps = cockpit.transport.options.capabilities || [];\n        /* If cockpit-ws is handling ssh, check for each capability. Otherwise\n         * the version is new enough that is has them all */\n        if ($.inArray(\"ssh\", caps) > -1) {\n            mod.allow_connection_string = $.inArray(\"connection-string\", caps) != -1;\n            mod.has_auth_results = $.inArray(\"auth-method-results\", caps) != -1;\n            known_hosts_path = \"/var/lib/cockpit/known_hosts\";\n            mod.known_hosts_path = known_hosts_path;\n            console.debug(\"Running against legacy ws with ssh, using legacy file\", known_hosts_path);\n        } else {\n            mod.allow_connection_string = true;\n            mod.has_auth_results = true;\n        }\n    });\n\n    module.exports = mod;\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/lib/machines.js\n// module id = 11\n// module chunks = 0 2","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 12\n// module chunks = 0 1 2","module.exports = cockpit;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cockpit\"\n// module id = 13\n// module chunks = 0 1 2","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n(function() {\n    \"use strict\";\n\n    var sshFile = require(\"./ssh-file-autocomplete.jsx\");\n    var credentials = require(\"credentials\");\n    var $ = require(\"jquery\");\n\n    require(\"listing.less\");\n    require(\"patterns\");\n\n    function setup() {\n        var keys;\n\n        function hide_add_key() {\n            $(\"tbody.ssh-add-key-body\").attr(\"data-name\", \"\");\n            $(\"tbody.ssh-add-key-body\").toggleClass(\"unlock\", false);\n            $(\"#credentials-dialog tr.load-custom-key\").toggleClass(\"hidden\", true);\n            $(\"#credentials-dialog tr.load-custom-key td\").toggleClass(\"has-error\", false);\n            sshFile.remove(document.getElementById('ssh-file-container'));\n        }\n\n        function show_pending(val) {\n            var body = $(\"tbody.ssh-add-key-body\");\n            body.attr(\"data-name\", val);\n            body.find(\"th.credential-label\").text(val);\n            body.addClass(\"unlock\");\n            body.find(\".alert\").hide();\n        }\n\n        function add_custom_key() {\n            var tr = $(\"#credentials-dialog tr.load-custom-key\");\n            var val =  tr.find(\"input\").val();\n            keys.load(val)\n                .done(function () {\n                    hide_add_key();\n                })\n                .fail(function(ex) {\n                    if (!ex.sent_password) {\n                        tr.find(\"td\").toggleClass(\"has-error\", true);\n                        tr.find(\"td div.dialog-error\").text(ex.message);\n                    } else {\n                        hide_add_key();\n                        show_pending(val);\n                    }\n                });\n        }\n\n        $(\"#credentials-dialog\")\n\n            /* Show and hide panels */\n            .on(\"click\", \"#credential-keys a\", function(ev) {\n                hide_add_key();\n                sshFile.render(document.getElementById('ssh-file-container'));\n                $(\"#credentials-dialog tr.load-custom-key\").toggleClass(\"hidden\", false);\n                $(\"#credentials-dialog tr.load-custom-key input\").focus();\n                ev.preventDefault();\n                ev.stopPropagation();\n            })\n\n            .on(\"click\", \"tr.load-custom-key button\", function(ev) {\n                add_custom_key();\n                ev.preventDefault();\n                ev.stopPropagation();\n            })\n\n            .on(\"keypress\", \"tr.load-custom-key button\", function(ev) {\n                 if (ev.which == 13)\n                    add_custom_key();\n            })\n\n            .on(\"keypress\", \"tr.load-custom-key input\", function(ev) {\n                 if (ev.which == 13) {\n                    $(\"#credentials-dialog tr.load-custom-key button\").focus();\n                    add_custom_key();\n                 }\n            })\n\n            /* Show and hide panels */\n            .on(\"click\", \"tr.listing-ct-item\", function(ev) {\n                var body;\n                hide_add_key();\n                if ($(ev.target).parents(\".listing-ct-actions, ul\").length === 0) {\n                    body = $(ev.target).parents(\"tbody\");\n                    body.toggleClass(\"open\").removeClass(\"unlock\");\n                    body.find(\".alert\").hide();\n                    ev.preventDefault();\n                    ev.stopPropagation();\n                }\n            })\n\n            /* Highlighting */\n            .on(\"mouseenter\", \".listing-ct-item\", function(ev) {\n                $(ev.target).parents(\"tbody\").find(\".listing-ct-item\").addClass(\"highlight-ct\");\n            })\n            .on(\"mouseleave\", \".listing-ct-item\", function(ev) {\n                $(ev.target).parents(\"tbody\").find(\".listing-ct-item\").removeClass(\"highlight-ct\");\n            })\n\n            /* Load and unload keys */\n            .on(\"change\", \".btn-group\", function(ev) {\n                var body = $(this).parents(\"tbody\");\n                var id = body.attr(\"data-id\");\n                var key = keys.items[id];\n                if (!key || !key.name)\n                    return;\n\n                hide_add_key();\n                var value = $(this).onoff(\"value\");\n                body.find(\".alert\").hide();\n\n                /* Key needs to be loaded, show load UI */\n                if (value && !key.loaded) {\n                    body.addClass(\"open\").addClass(\"unlock\");\n\n                /* Key needs to be unloaded, do that directly */\n                } else if (!value && key.loaded) {\n                    keys.unload(key)\n                        .done(function(ex) {\n                            body.removeClass(\"open\");\n                        })\n                        .fail(function(ex) {\n                            console.log(ex);\n                            body.addClass(\"open\").removeClass(\"unlock\");\n                            body.find(\".alert\").show().find(\".credential-alert\").text(ex.message);\n                        });\n                }\n            })\n\n            /* Load key */\n            .on(\"click\", \".credential-unlock button\", function(ev) {\n                var body = $(this).parents(\"tbody\");\n                var id = body.attr(\"data-id\");\n                var key = keys.items[id];\n                var name;\n\n                if (key)\n                    name = key.name;\n                if (body.hasClass(\"ssh-add-key-body\"))\n                    name = body.attr(\"data-name\");\n\n                if (!name)\n                    return;\n\n                body.find(\"input button\").prop(\"disabled\", true);\n                body.find(\".alert\").hide();\n\n                var password = body.find(\".credential-password\").val();\n                keys.load(name, password)\n                    .always(function(ex) {\n                        body.find(\"input button\").prop(\"disabled\", false);\n                    })\n                    .done(function(ex) {\n                        body.find(\".credential-password\").val(\"\");\n                        body.removeClass(\"unlock\");\n                        hide_add_key();\n                        body.find(\".alert\").hide();\n                    })\n                    .fail(function(ex) {\n                        body.find(\".alert\").show().find(\"span\").text(ex.message);\n                        console.warn(\"loading key failed: \", ex.message);\n                    });\n                ev.preventDefault();\n                ev.stopPropagation();\n            })\n\n            /* Change key */\n            .on(\"click\", \".credential-change\", function(ev) {\n                var body = $(this).parents(\"tbody\");\n                var id = body.attr(\"data-id\");\n                var key = keys.items[id];\n                if (!key || !key.name)\n                    return;\n\n                hide_add_key();\n\n                body.find(\"input button\").prop(\"disabled\", true);\n                body.find(\".alert\").hide();\n\n                var old_pass = body.find(\".credential-old\").val();\n                var new_pass = body.find(\".credential-new\").val();\n                var two_pass = body.find(\".credential-two\").val();\n                if (old_pass === undefined || new_pass === undefined || two_pass === undefined)\n                    throw \"invalid password fields\";\n\n                keys.change(key.name, old_pass, new_pass, two_pass)\n                    .always(function(ex) {\n                        body.find(\"input button\").prop(\"disabled\", false);\n                    })\n                    .done(function() {\n                        body.find(\".credential-old\").val(\"\");\n                        body.find(\".credential-new\").val(\"\");\n                        body.find(\".credential-two\").val(\"\");\n                        body.find(\"li a\").first().click();\n                    })\n                    .fail(function(ex) {\n                        body.find(\".alert\").show().find(\"span\").text(ex.message);\n                    });\n                ev.preventDefault();\n                ev.stopPropagation();\n            })\n\n            .on(\"change keypress\", \"input\", function(ev) {\n                var body = $(this).parents(\"tbody\");\n                if (ev.type == \"keypress\" && ev.keyCode == 13)\n                    $(this).parents(\"dl\").find(\".btn-primary\").click();\n                body.find(\".alert\").hide();\n            })\n\n            /* Change tabs */\n            .on(\"click\", \"tr.credential-panel ul > li > a\", function(ev) {\n                var li = $(this).parent();\n                var index = li.index();\n                li.parent().children().removeClass(\"active\");\n                li.addClass(\"active\");\n                var body = $(this).parents(\"tbody\");\n                body.find(\".credential-tab\").hide().eq(index).show();\n                body.find(\".alert\").hide();\n                ev.preventDefault();\n                ev.stopPropagation();\n            })\n\n            /* Popover help */\n            .on(\"click\", \"[data-toggle='popover']\", function() {\n                $(this).popover('toggle');\n            })\n\n            /* Dialog is hidden */\n            .on(\"hide.bs.modal\", function() {\n                if (keys) {\n                    $(keys).off();\n                    keys.close();\n                    keys = null;\n                }\n                hide_add_key();\n            })\n\n            /* Dialog is shown */\n            .on(\"show.bs.modal\", function() {\n                keys = credentials.keys_instance();\n\n                $(keys).on(\"changed\", function() {\n                    var key, id, row, rows = { };\n                    var table = $(\"#credentials-dialog table.credential-listing\");\n\n                    table.find(\"tbody[data-id]\").each(function(i, el) {\n                        row = $(el);\n                        rows[row.attr(\"data-id\")] = row;\n                    });\n\n                    var body = table.find(\"tbody.ssh-key-body\").first();\n                    for (id in keys.items) {\n                        if (!(id in rows)) {\n                            row = rows[id] = body.clone();\n                            row.attr(\"data-id\", id)\n                                .show()\n                                .onoff();\n                            table.append(row);\n                        }\n                    }\n\n                    function text(row, field, string) {\n                        var sel = row.find(field);\n                        string = string || \"\";\n                        if (sel.text() !== string)\n                            sel.text(string);\n                    }\n\n                    for (id in rows) {\n                        row = rows[id];\n                        key = keys.items[id];\n                        if (key) {\n                            text(row, \".credential-label\", key.name || key.comment);\n                            text(row, \".credential-type\", key.type);\n                            text(row, \".credential-fingerprint\", key.fingerprint);\n                            text(row, \".credential-comment\", key.comment);\n                            text(row, \".credential-data\", key.data);\n                            row.attr(\"data-name\", key.name)\n                                .attr(\"data-loaded\", key.loaded ? \"1\" : \"0\")\n                                .find(\".btn-onoff-ct\")\n                                    .onoff(\"value\", key.loaded || row.hasClass(\"unlock\"))\n                                    .onoff(\"disabled\", !key.name);\n                        } else if (id !== \"adding\") {\n                            row.remove();\n                        }\n                    }\n                });\n            });\n    }\n\n    module.exports = {\n        setup: setup\n    };\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/shell/credentials.js\n// module id = 14\n// module chunks = 0","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar React = require(\"react\");\n\nvar FileAutoComplete = require(\"cockpit-components-file-autocomplete.jsx\").FileAutoComplete;\n\nvar render = function(rootElement) {\n    React.render(<FileAutoComplete />, rootElement);\n};\n\nvar remove = function(rootElement) {\n    React.unmountComponentAtNode(rootElement);\n};\n\nmodule.exports = {\n    render: render,\n    remove: remove\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/shell/ssh-file-autocomplete.jsx","/*!\n * react-lite.js v0.15.39\n * (c) 2017 Jade Gu\n * Released under the MIT License.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.React = factory();\n}(this, function () { 'use strict';\n\n  var HTML_KEY = 'dangerouslySetInnerHTML';\n  var SVGNamespaceURI = 'http://www.w3.org/2000/svg';\n  var COMPONENT_ID = 'liteid';\n  var VELEMENT = 2;\n  var VSTATELESS = 3;\n  var VCOMPONENT = 4;\n  var VCOMMENT = 5;\n  var ELEMENT_NODE_TYPE = 1;\n  var DOC_NODE_TYPE = 9;\n  var DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\n  /**\r\n   * current stateful component's refs property\r\n   * will attach to every vnode created by calling component.render method\r\n   */\n  var refs = null;\n\n  function createVnode(vtype, type, props, key, ref) {\n      var vnode = {\n          vtype: vtype,\n          type: type,\n          props: props,\n          refs: refs,\n          key: key,\n          ref: ref\n      };\n      if (vtype === VSTATELESS || vtype === VCOMPONENT) {\n          vnode.uid = getUid();\n      }\n      return vnode;\n  }\n\n  function initVnode(vnode, parentContext, namespaceURI) {\n      var vtype = vnode.vtype;\n\n      var node = null;\n      if (!vtype) {\n          // init text\n          node = document.createTextNode(vnode);\n      } else if (vtype === VELEMENT) {\n          // init element\n          node = initVelem(vnode, parentContext, namespaceURI);\n      } else if (vtype === VCOMPONENT) {\n          // init stateful component\n          node = initVcomponent(vnode, parentContext, namespaceURI);\n      } else if (vtype === VSTATELESS) {\n          // init stateless component\n          node = initVstateless(vnode, parentContext, namespaceURI);\n      } else if (vtype === VCOMMENT) {\n          // init comment\n          node = document.createComment('react-text: ' + (vnode.uid || getUid()));\n      }\n      return node;\n  }\n\n  function updateVnode(vnode, newVnode, node, parentContext) {\n      var vtype = vnode.vtype;\n\n      if (vtype === VCOMPONENT) {\n          return updateVcomponent(vnode, newVnode, node, parentContext);\n      }\n\n      if (vtype === VSTATELESS) {\n          return updateVstateless(vnode, newVnode, node, parentContext);\n      }\n\n      // ignore VCOMMENT and other vtypes\n      if (vtype !== VELEMENT) {\n          return node;\n      }\n\n      var oldHtml = vnode.props[HTML_KEY] && vnode.props[HTML_KEY].__html;\n      if (oldHtml != null) {\n          updateVelem(vnode, newVnode, node, parentContext);\n          initVchildren(newVnode, node, parentContext);\n      } else {\n          updateVChildren(vnode, newVnode, node, parentContext);\n          updateVelem(vnode, newVnode, node, parentContext);\n      }\n      return node;\n  }\n\n  function updateVChildren(vnode, newVnode, node, parentContext) {\n      var patches = {\n          removes: [],\n          updates: [],\n          creates: []\n      };\n      diffVchildren(patches, vnode, newVnode, node, parentContext);\n      flatEach(patches.removes, applyDestroy);\n      flatEach(patches.updates, applyUpdate);\n      flatEach(patches.creates, applyCreate);\n  }\n\n  function applyUpdate(data) {\n      if (!data) {\n          return;\n      }\n      var vnode = data.vnode;\n      var newNode = data.node;\n\n      // update\n      if (!data.shouldIgnore) {\n          if (!vnode.vtype) {\n              newNode.replaceData(0, newNode.length, data.newVnode);\n          } else if (vnode.vtype === VELEMENT) {\n              updateVelem(vnode, data.newVnode, newNode, data.parentContext);\n          } else if (vnode.vtype === VSTATELESS) {\n              newNode = updateVstateless(vnode, data.newVnode, newNode, data.parentContext);\n          } else if (vnode.vtype === VCOMPONENT) {\n              newNode = updateVcomponent(vnode, data.newVnode, newNode, data.parentContext);\n          }\n      }\n\n      // re-order\n      var currentNode = newNode.parentNode.childNodes[data.index];\n      if (currentNode !== newNode) {\n          newNode.parentNode.insertBefore(newNode, currentNode);\n      }\n      return newNode;\n  }\n\n  function applyDestroy(data) {\n      destroyVnode(data.vnode, data.node);\n      data.node.parentNode.removeChild(data.node);\n  }\n\n  function applyCreate(data) {\n      var node = initVnode(data.vnode, data.parentContext, data.parentNode.namespaceURI);\n      data.parentNode.insertBefore(node, data.parentNode.childNodes[data.index]);\n  }\n\n  /**\r\n   * Only vnode which has props.children need to call destroy function\r\n   * to check whether subTree has component that need to call lify-cycle method and release cache.\r\n   */\n\n  function destroyVnode(vnode, node) {\n      var vtype = vnode.vtype;\n\n      if (vtype === VELEMENT) {\n          // destroy element\n          destroyVelem(vnode, node);\n      } else if (vtype === VCOMPONENT) {\n          // destroy state component\n          destroyVcomponent(vnode, node);\n      } else if (vtype === VSTATELESS) {\n          // destroy stateless component\n          destroyVstateless(vnode, node);\n      }\n  }\n\n  function initVelem(velem, parentContext, namespaceURI) {\n      var type = velem.type;\n      var props = velem.props;\n\n      var node = null;\n\n      if (type === 'svg' || namespaceURI === SVGNamespaceURI) {\n          node = document.createElementNS(SVGNamespaceURI, type);\n          namespaceURI = SVGNamespaceURI;\n      } else {\n          node = document.createElement(type);\n      }\n\n      initVchildren(velem, node, parentContext);\n\n      var isCustomComponent = type.indexOf('-') >= 0 || props.is != null;\n      setProps(node, props, isCustomComponent);\n\n      if (velem.ref != null) {\n          addItem(pendingRefs, velem);\n          addItem(pendingRefs, node);\n      }\n\n      return node;\n  }\n\n  function initVchildren(velem, node, parentContext) {\n      var vchildren = node.vchildren = getFlattenChildren(velem);\n      var namespaceURI = node.namespaceURI;\n      for (var i = 0, len = vchildren.length; i < len; i++) {\n          node.appendChild(initVnode(vchildren[i], parentContext, namespaceURI));\n      }\n  }\n\n  function getFlattenChildren(vnode) {\n      var children = vnode.props.children;\n\n      var vchildren = [];\n      if (isArr(children)) {\n          flatEach(children, collectChild, vchildren);\n      } else {\n          collectChild(children, vchildren);\n      }\n      return vchildren;\n  }\n\n  function collectChild(child, children) {\n      if (child != null && typeof child !== 'boolean') {\n          if (!child.vtype) {\n              // convert immutablejs data\n              if (child.toJS) {\n                  child = child.toJS();\n                  if (isArr(child)) {\n                      flatEach(child, collectChild, children);\n                  } else {\n                      collectChild(child, children);\n                  }\n                  return;\n              }\n              child = '' + child;\n          }\n          children[children.length] = child;\n      }\n  }\n\n  function diffVchildren(patches, vnode, newVnode, node, parentContext) {\n      if (!node.vchildren) return; // react-lite hasn't seen this DOM node before\n\n      var childNodes = node.childNodes;\n      var vchildren = node.vchildren;\n\n      var newVchildren = node.vchildren = getFlattenChildren(newVnode);\n      var vchildrenLen = vchildren.length;\n      var newVchildrenLen = newVchildren.length;\n\n      if (vchildrenLen === 0) {\n          if (newVchildrenLen > 0) {\n              for (var i = 0; i < newVchildrenLen; i++) {\n                  addItem(patches.creates, {\n                      vnode: newVchildren[i],\n                      parentNode: node,\n                      parentContext: parentContext,\n                      index: i\n                  });\n              }\n          }\n          return;\n      } else if (newVchildrenLen === 0) {\n          for (var i = 0; i < vchildrenLen; i++) {\n              addItem(patches.removes, {\n                  vnode: vchildren[i],\n                  node: childNodes[i]\n              });\n          }\n          return;\n      }\n\n      var updates = Array(newVchildrenLen);\n      var removes = null;\n      var creates = null;\n\n      // isEqual\n      for (var i = 0; i < vchildrenLen; i++) {\n          var _vnode = vchildren[i];\n          for (var j = 0; j < newVchildrenLen; j++) {\n              if (updates[j]) {\n                  continue;\n              }\n              var _newVnode = newVchildren[j];\n              if (_vnode === _newVnode) {\n                  updates[j] = {\n                      shouldIgnore: shouldIgnoreUpdate(node),\n                      vnode: _vnode,\n                      newVnode: _newVnode,\n                      node: childNodes[i],\n                      parentContext: parentContext,\n                      index: j\n                  };\n                  vchildren[i] = null;\n                  break;\n              }\n          }\n      }\n\n      // isSimilar\n      for (var i = 0; i < vchildrenLen; i++) {\n          var _vnode2 = vchildren[i];\n          if (_vnode2 === null) {\n              continue;\n          }\n          var shouldRemove = true;\n          for (var j = 0; j < newVchildrenLen; j++) {\n              if (updates[j]) {\n                  continue;\n              }\n              var _newVnode2 = newVchildren[j];\n              if (_newVnode2.type === _vnode2.type && _newVnode2.key === _vnode2.key && _newVnode2.refs === _vnode2.refs) {\n                  updates[j] = {\n                      vnode: _vnode2,\n                      newVnode: _newVnode2,\n                      node: childNodes[i],\n                      parentContext: parentContext,\n                      index: j\n                  };\n                  shouldRemove = false;\n                  break;\n              }\n          }\n          if (shouldRemove) {\n              if (!removes) {\n                  removes = [];\n              }\n              addItem(removes, {\n                  vnode: _vnode2,\n                  node: childNodes[i]\n              });\n          }\n      }\n\n      for (var i = 0; i < newVchildrenLen; i++) {\n          var item = updates[i];\n          if (!item) {\n              if (!creates) {\n                  creates = [];\n              }\n              addItem(creates, {\n                  vnode: newVchildren[i],\n                  parentNode: node,\n                  parentContext: parentContext,\n                  index: i\n              });\n          } else if (item.vnode.vtype === VELEMENT) {\n              diffVchildren(patches, item.vnode, item.newVnode, item.node, item.parentContext);\n          }\n      }\n\n      if (removes) {\n          addItem(patches.removes, removes);\n      }\n      if (creates) {\n          addItem(patches.creates, creates);\n      }\n      addItem(patches.updates, updates);\n  }\n\n  function updateVelem(velem, newVelem, node) {\n      var isCustomComponent = velem.type.indexOf('-') >= 0 || velem.props.is != null;\n      patchProps(node, velem.props, newVelem.props, isCustomComponent);\n      if (velem.ref !== newVelem.ref) {\n          detachRef(velem.refs, velem.ref, node);\n          attachRef(newVelem.refs, newVelem.ref, node);\n      }\n      return node;\n  }\n\n  function destroyVelem(velem, node) {\n      var props = velem.props;\n      var vchildren = node.vchildren;\n      var childNodes = node.childNodes;\n\n      if (vchildren) {\n          for (var i = 0, len = vchildren.length; i < len; i++) {\n              destroyVnode(vchildren[i], childNodes[i]);\n          }\n      }\n      detachRef(velem.refs, velem.ref, node);\n      node.eventStore = node.vchildren = null;\n  }\n\n  function initVstateless(vstateless, parentContext, namespaceURI) {\n      var vnode = renderVstateless(vstateless, parentContext);\n      var node = initVnode(vnode, parentContext, namespaceURI);\n      node.cache = node.cache || {};\n      node.cache[vstateless.uid] = vnode;\n      return node;\n  }\n\n  function updateVstateless(vstateless, newVstateless, node, parentContext) {\n      var uid = vstateless.uid;\n      var vnode = node.cache[uid];\n      delete node.cache[uid];\n      var newVnode = renderVstateless(newVstateless, parentContext);\n      var newNode = compareTwoVnodes(vnode, newVnode, node, parentContext);\n      newNode.cache = newNode.cache || {};\n      newNode.cache[newVstateless.uid] = newVnode;\n      if (newNode !== node) {\n          syncCache(newNode.cache, node.cache, newNode);\n      }\n      return newNode;\n  }\n\n  function destroyVstateless(vstateless, node) {\n      var uid = vstateless.uid;\n      var vnode = node.cache[uid];\n      delete node.cache[uid];\n      destroyVnode(vnode, node);\n  }\n\n  function renderVstateless(vstateless, parentContext) {\n      var factory = vstateless.type;\n      var props = vstateless.props;\n\n      var componentContext = getContextByTypes(parentContext, factory.contextTypes);\n      var vnode = factory(props, componentContext);\n      if (vnode && vnode.render) {\n          vnode = vnode.render();\n      }\n      if (vnode === null || vnode === false) {\n          vnode = createVnode(VCOMMENT);\n      } else if (!vnode || !vnode.vtype) {\n          throw new Error('@' + factory.name + '#render:You may have returned undefined, an array or some other invalid object');\n      }\n      return vnode;\n  }\n\n  function initVcomponent(vcomponent, parentContext, namespaceURI) {\n      var Component = vcomponent.type;\n      var props = vcomponent.props;\n      var uid = vcomponent.uid;\n\n      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n      var component = new Component(props, componentContext);\n      var updater = component.$updater;\n      var cache = component.$cache;\n\n      cache.parentContext = parentContext;\n      updater.isPending = true;\n      component.props = component.props || props;\n      component.context = component.context || componentContext;\n      if (component.componentWillMount) {\n          component.componentWillMount();\n          component.state = updater.getState();\n      }\n      var vnode = renderComponent(component);\n      var node = initVnode(vnode, getChildContext(component, parentContext), namespaceURI);\n      node.cache = node.cache || {};\n      node.cache[uid] = component;\n      cache.vnode = vnode;\n      cache.node = node;\n      cache.isMounted = true;\n      addItem(pendingComponents, component);\n\n      if (vcomponent.ref != null) {\n          addItem(pendingRefs, vcomponent);\n          addItem(pendingRefs, component);\n      }\n\n      return node;\n  }\n\n  function updateVcomponent(vcomponent, newVcomponent, node, parentContext) {\n      var uid = vcomponent.uid;\n      var component = node.cache[uid];\n      var updater = component.$updater;\n      var cache = component.$cache;\n      var Component = newVcomponent.type;\n      var nextProps = newVcomponent.props;\n\n      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n      delete node.cache[uid];\n      node.cache[newVcomponent.uid] = component;\n      cache.parentContext = parentContext;\n      if (component.componentWillReceiveProps) {\n          var needToggleIsPending = !updater.isPending;\n          if (needToggleIsPending) updater.isPending = true;\n          component.componentWillReceiveProps(nextProps, componentContext);\n          if (needToggleIsPending) updater.isPending = false;\n      }\n\n      if (vcomponent.ref !== newVcomponent.ref) {\n          detachRef(vcomponent.refs, vcomponent.ref, component);\n          attachRef(newVcomponent.refs, newVcomponent.ref, component);\n      }\n\n      updater.emitUpdate(nextProps, componentContext);\n\n      return cache.node;\n  }\n\n  function destroyVcomponent(vcomponent, node) {\n      var uid = vcomponent.uid;\n      var component = node.cache[uid];\n      var cache = component.$cache;\n      delete node.cache[uid];\n      detachRef(vcomponent.refs, vcomponent.ref, component);\n      component.setState = component.forceUpdate = noop;\n      if (component.componentWillUnmount) {\n          component.componentWillUnmount();\n      }\n      destroyVnode(cache.vnode, node);\n      delete component.setState;\n      cache.isMounted = false;\n      cache.node = cache.parentContext = cache.vnode = component.refs = component.context = null;\n  }\n\n  function getContextByTypes(curContext, contextTypes) {\n      var context = {};\n      if (!contextTypes || !curContext) {\n          return context;\n      }\n      for (var key in contextTypes) {\n          if (contextTypes.hasOwnProperty(key)) {\n              context[key] = curContext[key];\n          }\n      }\n      return context;\n  }\n\n  function renderComponent(component, parentContext) {\n      refs = component.refs;\n      var vnode = component.render();\n      if (vnode === null || vnode === false) {\n          vnode = createVnode(VCOMMENT);\n      } else if (!vnode || !vnode.vtype) {\n          throw new Error('@' + component.constructor.name + '#render:You may have returned undefined, an array or some other invalid object');\n      }\n      refs = null;\n      return vnode;\n  }\n\n  function getChildContext(component, parentContext) {\n      if (component.getChildContext) {\n          var curContext = component.getChildContext();\n          if (curContext) {\n              parentContext = extend(extend({}, parentContext), curContext);\n          }\n      }\n      return parentContext;\n  }\n\n  var pendingComponents = [];\n  function clearPendingComponents() {\n      var len = pendingComponents.length;\n      if (!len) {\n          return;\n      }\n      var components = pendingComponents;\n      pendingComponents = [];\n      var i = -1;\n      while (len--) {\n          var component = components[++i];\n          var updater = component.$updater;\n          if (component.componentDidMount) {\n              component.componentDidMount();\n          }\n          updater.isPending = false;\n          updater.emitUpdate();\n      }\n  }\n\n  var pendingRefs = [];\n  function clearPendingRefs() {\n      var len = pendingRefs.length;\n      if (!len) {\n          return;\n      }\n      var list = pendingRefs;\n      pendingRefs = [];\n      for (var i = 0; i < len; i += 2) {\n          var vnode = list[i];\n          var refValue = list[i + 1];\n          attachRef(vnode.refs, vnode.ref, refValue);\n      }\n  }\n\n  function clearPending() {\n      clearPendingRefs();\n      clearPendingComponents();\n  }\n\n  function compareTwoVnodes(vnode, newVnode, node, parentContext) {\n      var newNode = node;\n      if (newVnode == null) {\n          // remove\n          destroyVnode(vnode, node);\n          node.parentNode.removeChild(node);\n      } else if (vnode.type !== newVnode.type || vnode.key !== newVnode.key) {\n          // replace\n          destroyVnode(vnode, node);\n          newNode = initVnode(newVnode, parentContext, node.namespaceURI);\n          node.parentNode.replaceChild(newNode, node);\n      } else if (vnode !== newVnode || parentContext) {\n          // same type and same key -> update\n          newNode = updateVnode(vnode, newVnode, node, parentContext);\n      }\n      return newNode;\n  }\n\n  function getDOMNode() {\n      return this;\n  }\n\n  function attachRef(refs, refKey, refValue) {\n      if (refKey == null || !refValue) {\n          return;\n      }\n      if (refValue.nodeName && !refValue.getDOMNode) {\n          // support react v0.13 style: this.refs.myInput.getDOMNode()\n          refValue.getDOMNode = getDOMNode;\n      }\n      if (isFn(refKey)) {\n          refKey(refValue);\n      } else if (refs) {\n          refs[refKey] = refValue;\n      }\n  }\n\n  function detachRef(refs, refKey, refValue) {\n      if (refKey == null) {\n          return;\n      }\n      if (isFn(refKey)) {\n          refKey(null);\n      } else if (refs && refs[refKey] === refValue) {\n          delete refs[refKey];\n      }\n  }\n\n  function syncCache(cache, oldCache, node) {\n      for (var key in oldCache) {\n          if (!oldCache.hasOwnProperty(key)) {\n              continue;\n          }\n          var value = oldCache[key];\n          cache[key] = value;\n\n          // is component, update component.$cache.node\n          if (value.forceUpdate) {\n              value.$cache.node = node;\n          }\n      }\n  }\n\n  function shouldIgnoreUpdate(node) {\n      var vchildren = node.vchildren;\n      var children = node.children;\n\n      if (vchildren) {\n          for (var i = 0; i < vchildren.length; i++) {\n              var vchild = vchildren[i];\n              if (vchild.vtype === VCOMPONENT || vchild.vtype === VSTATELESS) {\n                  if (vchild.type.contextTypes) {\n                      return false;\n                  }\n              }\n          }\n      }\n\n      if (children) {\n          for (var i = 0; i < children.length; i++) {\n              if (!shouldIgnoreUpdate(children[i])) {\n                  return false;\n              }\n          }\n      }\n\n      return true;\n  }\n\n  var updateQueue = {\n  \tupdaters: [],\n  \tisPending: false,\n  \tadd: function add(updater) {\n  \t\taddItem(this.updaters, updater);\n  \t},\n  \tbatchUpdate: function batchUpdate() {\n  \t\tif (this.isPending) {\n  \t\t\treturn;\n  \t\t}\n  \t\tthis.isPending = true;\n  \t\t/*\r\n     each updater.update may add new updater to updateQueue\r\n     clear them with a loop\r\n     event bubbles from bottom-level to top-level\r\n     reverse the updater order can merge some props and state and reduce the refresh times\r\n     see Updater.update method below to know why\r\n    */\n  \t\tvar updaters = this.updaters;\n\n  \t\tvar updater = undefined;\n  \t\twhile (updater = updaters.pop()) {\n  \t\t\tupdater.updateComponent();\n  \t\t}\n  \t\tthis.isPending = false;\n  \t}\n  };\n\n  function Updater(instance) {\n  \tthis.instance = instance;\n  \tthis.pendingStates = [];\n  \tthis.pendingCallbacks = [];\n  \tthis.isPending = false;\n  \tthis.nextProps = this.nextContext = null;\n  \tthis.clearCallbacks = this.clearCallbacks.bind(this);\n  }\n\n  Updater.prototype = {\n  \temitUpdate: function emitUpdate(nextProps, nextContext) {\n  \t\tthis.nextProps = nextProps;\n  \t\tthis.nextContext = nextContext;\n  \t\t// receive nextProps!! should update immediately\n  \t\tnextProps || !updateQueue.isPending ? this.updateComponent() : updateQueue.add(this);\n  \t},\n  \tupdateComponent: function updateComponent() {\n  \t\tvar instance = this.instance;\n  \t\tvar pendingStates = this.pendingStates;\n  \t\tvar nextProps = this.nextProps;\n  \t\tvar nextContext = this.nextContext;\n\n  \t\tif (nextProps || pendingStates.length > 0) {\n  \t\t\tnextProps = nextProps || instance.props;\n  \t\t\tnextContext = nextContext || instance.context;\n  \t\t\tthis.nextProps = this.nextContext = null;\n  \t\t\t// merge the nextProps and nextState and update by one time\n  \t\t\tshouldUpdate(instance, nextProps, this.getState(), nextContext, this.clearCallbacks);\n  \t\t}\n  \t},\n  \taddState: function addState(nextState) {\n  \t\tif (nextState) {\n  \t\t\taddItem(this.pendingStates, nextState);\n  \t\t\tif (!this.isPending) {\n  \t\t\t\tthis.emitUpdate();\n  \t\t\t}\n  \t\t}\n  \t},\n  \treplaceState: function replaceState(nextState) {\n  \t\tvar pendingStates = this.pendingStates;\n\n  \t\tpendingStates.pop();\n  \t\t// push special params to point out should replace state\n  \t\taddItem(pendingStates, [nextState]);\n  \t},\n  \tgetState: function getState() {\n  \t\tvar instance = this.instance;\n  \t\tvar pendingStates = this.pendingStates;\n  \t\tvar state = instance.state;\n  \t\tvar props = instance.props;\n\n  \t\tif (pendingStates.length) {\n  \t\t\tstate = extend({}, state);\n  \t\t\tpendingStates.forEach(function (nextState) {\n  \t\t\t\tvar isReplace = isArr(nextState);\n  \t\t\t\tif (isReplace) {\n  \t\t\t\t\tnextState = nextState[0];\n  \t\t\t\t}\n  \t\t\t\tif (isFn(nextState)) {\n  \t\t\t\t\tnextState = nextState.call(instance, state, props);\n  \t\t\t\t}\n  \t\t\t\t// replace state\n  \t\t\t\tif (isReplace) {\n  \t\t\t\t\tstate = extend({}, nextState);\n  \t\t\t\t} else {\n  \t\t\t\t\textend(state, nextState);\n  \t\t\t\t}\n  \t\t\t});\n  \t\t\tpendingStates.length = 0;\n  \t\t}\n  \t\treturn state;\n  \t},\n  \tclearCallbacks: function clearCallbacks() {\n  \t\tvar pendingCallbacks = this.pendingCallbacks;\n  \t\tvar instance = this.instance;\n\n  \t\tif (pendingCallbacks.length > 0) {\n  \t\t\tthis.pendingCallbacks = [];\n  \t\t\tpendingCallbacks.forEach(function (callback) {\n  \t\t\t\treturn callback.call(instance);\n  \t\t\t});\n  \t\t}\n  \t},\n  \taddCallback: function addCallback(callback) {\n  \t\tif (isFn(callback)) {\n  \t\t\taddItem(this.pendingCallbacks, callback);\n  \t\t}\n  \t}\n  };\n  function Component(props, context) {\n  \tthis.$updater = new Updater(this);\n  \tthis.$cache = { isMounted: false };\n  \tthis.props = props;\n  \tthis.state = {};\n  \tthis.refs = {};\n  \tthis.context = context;\n  }\n\n  var ReactComponentSymbol = {};\n\n  Component.prototype = {\n  \tconstructor: Component,\n  \tisReactComponent: ReactComponentSymbol,\n  \t// getChildContext: _.noop,\n  \t// componentWillUpdate: _.noop,\n  \t// componentDidUpdate: _.noop,\n  \t// componentWillReceiveProps: _.noop,\n  \t// componentWillMount: _.noop,\n  \t// componentDidMount: _.noop,\n  \t// componentWillUnmount: _.noop,\n  \t// shouldComponentUpdate(nextProps, nextState) {\n  \t// \treturn true\n  \t// },\n  \tforceUpdate: function forceUpdate(callback) {\n  \t\tvar $updater = this.$updater;\n  \t\tvar $cache = this.$cache;\n  \t\tvar props = this.props;\n  \t\tvar state = this.state;\n  \t\tvar context = this.context;\n\n  \t\tif (!$cache.isMounted) {\n  \t\t\treturn;\n  \t\t}\n  \t\t// if updater is pending, add state to trigger nexttick update\n  \t\tif ($updater.isPending) {\n  \t\t\t$updater.addState(state);\n  \t\t\treturn;\n  \t\t}\n  \t\tvar nextProps = $cache.props || props;\n  \t\tvar nextState = $cache.state || state;\n  \t\tvar nextContext = $cache.context || context;\n  \t\tvar parentContext = $cache.parentContext;\n  \t\tvar node = $cache.node;\n  \t\tvar vnode = $cache.vnode;\n  \t\t$cache.props = $cache.state = $cache.context = null;\n  \t\t$updater.isPending = true;\n  \t\tif (this.componentWillUpdate) {\n  \t\t\tthis.componentWillUpdate(nextProps, nextState, nextContext);\n  \t\t}\n  \t\tthis.state = nextState;\n  \t\tthis.props = nextProps;\n  \t\tthis.context = nextContext;\n  \t\tvar newVnode = renderComponent(this);\n  \t\tvar newNode = compareTwoVnodes(vnode, newVnode, node, getChildContext(this, parentContext));\n  \t\tif (newNode !== node) {\n  \t\t\tnewNode.cache = newNode.cache || {};\n  \t\t\tsyncCache(newNode.cache, node.cache, newNode);\n  \t\t}\n  \t\t$cache.vnode = newVnode;\n  \t\t$cache.node = newNode;\n  \t\tclearPending();\n  \t\tif (this.componentDidUpdate) {\n  \t\t\tthis.componentDidUpdate(props, state, context);\n  \t\t}\n  \t\tif (callback) {\n  \t\t\tcallback.call(this);\n  \t\t}\n  \t\t$updater.isPending = false;\n  \t\t$updater.emitUpdate();\n  \t},\n  \tsetState: function setState(nextState, callback) {\n  \t\tvar $updater = this.$updater;\n\n  \t\t$updater.addCallback(callback);\n  \t\t$updater.addState(nextState);\n  \t},\n  \treplaceState: function replaceState(nextState, callback) {\n  \t\tvar $updater = this.$updater;\n\n  \t\t$updater.addCallback(callback);\n  \t\t$updater.replaceState(nextState);\n  \t},\n  \tgetDOMNode: function getDOMNode() {\n  \t\tvar node = this.$cache.node;\n  \t\treturn node && node.nodeName === '#comment' ? null : node;\n  \t},\n  \tisMounted: function isMounted() {\n  \t\treturn this.$cache.isMounted;\n  \t}\n  };\n\n  function shouldUpdate(component, nextProps, nextState, nextContext, callback) {\n  \tvar shouldComponentUpdate = true;\n  \tif (component.shouldComponentUpdate) {\n  \t\tshouldComponentUpdate = component.shouldComponentUpdate(nextProps, nextState, nextContext);\n  \t}\n  \tif (shouldComponentUpdate === false) {\n  \t\tcomponent.props = nextProps;\n  \t\tcomponent.state = nextState;\n  \t\tcomponent.context = nextContext || {};\n  \t\treturn;\n  \t}\n  \tvar cache = component.$cache;\n  \tcache.props = nextProps;\n  \tcache.state = nextState;\n  \tcache.context = nextContext || {};\n  \tcomponent.forceUpdate(callback);\n  }\n\n  // event config\n  var unbubbleEvents = {\n      /**\r\n       * should not bind mousemove in document scope\r\n       * even though mousemove event can bubble\r\n       */\n      onmousemove: 1,\n      ontouchmove: 1,\n      onmouseleave: 1,\n      onmouseenter: 1,\n      onload: 1,\n      onunload: 1,\n      onscroll: 1,\n      onfocus: 1,\n      onblur: 1,\n      onrowexit: 1,\n      onbeforeunload: 1,\n      onstop: 1,\n      ondragdrop: 1,\n      ondragenter: 1,\n      ondragexit: 1,\n      ondraggesture: 1,\n      ondragover: 1,\n      oncontextmenu: 1,\n      onerror: 1,\n\n      // media event\n      onabort: 1,\n      oncanplay: 1,\n      oncanplaythrough: 1,\n      ondurationchange: 1,\n      onemptied: 1,\n      onended: 1,\n      onloadeddata: 1,\n      onloadedmetadata: 1,\n      onloadstart: 1,\n      onencrypted: 1,\n      onpause: 1,\n      onplay: 1,\n      onplaying: 1,\n      onprogress: 1,\n      onratechange: 1,\n      onseeking: 1,\n      onseeked: 1,\n      onstalled: 1,\n      onsuspend: 1,\n      ontimeupdate: 1,\n      onvolumechange: 1,\n      onwaiting: 1\n  };\n\n  function getEventName(key) {\n      if (key === 'onDoubleClick') {\n          key = 'ondblclick';\n      } else if (key === 'onTouchTap') {\n          key = 'onclick';\n      }\n\n      return key.toLowerCase();\n  }\n\n  // Mobile Safari does not fire properly bubble click events on\n  // non-interactive elements, which means delegated click listeners do not\n  // fire. The workaround for this bug involves attaching an empty click\n  // listener on the target node.\n  var inMobile = ('ontouchstart' in document);\n  var emptyFunction = function emptyFunction() {};\n  var ON_CLICK_KEY = 'onclick';\n\n  var eventTypes = {};\n\n  function addEvent(elem, eventType, listener) {\n      eventType = getEventName(eventType);\n\n      var eventStore = elem.eventStore || (elem.eventStore = {});\n      eventStore[eventType] = listener;\n\n      if (unbubbleEvents[eventType] === 1) {\n          elem[eventType] = dispatchUnbubbleEvent;\n          return;\n      } else if (!eventTypes[eventType]) {\n          // onclick -> click\n          document.addEventListener(eventType.substr(2), dispatchEvent, false);\n          eventTypes[eventType] = true;\n      }\n\n      if (inMobile && eventType === ON_CLICK_KEY) {\n          elem.addEventListener('click', emptyFunction, false);\n          return;\n      }\n\n      var nodeName = elem.nodeName;\n\n      if (eventType === 'onchange' && supportInputEvent(elem)) {\n          addEvent(elem, 'oninput', listener);\n      }\n  }\n\n  function removeEvent(elem, eventType) {\n      eventType = getEventName(eventType);\n\n      var eventStore = elem.eventStore || (elem.eventStore = {});\n      delete eventStore[eventType];\n\n      if (unbubbleEvents[eventType] === 1) {\n          elem[eventType] = null;\n          return;\n      } else if (inMobile && eventType === ON_CLICK_KEY) {\n          elem.removeEventListener('click', emptyFunction, false);\n          return;\n      }\n\n      var nodeName = elem.nodeName;\n\n      if (eventType === 'onchange' && supportInputEvent(elem)) {\n          delete eventStore['oninput'];\n      }\n  }\n\n  function dispatchEvent(event) {\n      var target = event.target;\n      var type = event.type;\n\n      var eventType = 'on' + type;\n      var syntheticEvent = undefined;\n\n      updateQueue.isPending = true;\n      while (target) {\n          var _target = target;\n          var eventStore = _target.eventStore;\n\n          var listener = eventStore && eventStore[eventType];\n          if (!listener) {\n              target = target.parentNode;\n              continue;\n          }\n          if (!syntheticEvent) {\n              syntheticEvent = createSyntheticEvent(event);\n          }\n          syntheticEvent.currentTarget = target;\n          listener.call(target, syntheticEvent);\n          if (syntheticEvent.$cancelBubble) {\n              break;\n          }\n          target = target.parentNode;\n      }\n      updateQueue.isPending = false;\n      updateQueue.batchUpdate();\n  }\n\n  function dispatchUnbubbleEvent(event) {\n      var target = event.currentTarget || event.target;\n      var eventType = 'on' + event.type;\n      var syntheticEvent = createSyntheticEvent(event);\n\n      syntheticEvent.currentTarget = target;\n      updateQueue.isPending = true;\n\n      var eventStore = target.eventStore;\n\n      var listener = eventStore && eventStore[eventType];\n      if (listener) {\n          listener.call(target, syntheticEvent);\n      }\n\n      updateQueue.isPending = false;\n      updateQueue.batchUpdate();\n  }\n\n  function createSyntheticEvent(nativeEvent) {\n      var syntheticEvent = {};\n      var cancelBubble = function cancelBubble() {\n          return syntheticEvent.$cancelBubble = true;\n      };\n      syntheticEvent.nativeEvent = nativeEvent;\n      syntheticEvent.persist = noop;\n      for (var key in nativeEvent) {\n          if (typeof nativeEvent[key] !== 'function') {\n              syntheticEvent[key] = nativeEvent[key];\n          } else if (key === 'stopPropagation' || key === 'stopImmediatePropagation') {\n              syntheticEvent[key] = cancelBubble;\n          } else {\n              syntheticEvent[key] = nativeEvent[key].bind(nativeEvent);\n          }\n      }\n      return syntheticEvent;\n  }\n\n  function supportInputEvent(elem) {\n      var nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n      return nodeName !== 'select' && !(nodeName === 'input' && elem.type === 'file');\n  }\n\n  function setStyle(elemStyle, styles) {\n      for (var styleName in styles) {\n          if (styles.hasOwnProperty(styleName)) {\n              setStyleValue(elemStyle, styleName, styles[styleName]);\n          }\n      }\n  }\n\n  function removeStyle(elemStyle, styles) {\n      for (var styleName in styles) {\n          if (styles.hasOwnProperty(styleName)) {\n              elemStyle[styleName] = '';\n          }\n      }\n  }\n\n  function patchStyle(elemStyle, style, newStyle) {\n      if (style === newStyle) {\n          return;\n      }\n      if (!newStyle && style) {\n          removeStyle(elemStyle, style);\n          return;\n      } else if (newStyle && !style) {\n          setStyle(elemStyle, newStyle);\n          return;\n      }\n\n      for (var key in style) {\n          if (newStyle.hasOwnProperty(key)) {\n              if (newStyle[key] !== style[key]) {\n                  setStyleValue(elemStyle, key, newStyle[key]);\n              }\n          } else {\n              elemStyle[key] = '';\n          }\n      }\n      for (var key in newStyle) {\n          if (!style.hasOwnProperty(key)) {\n              setStyleValue(elemStyle, key, newStyle[key]);\n          }\n      }\n  }\n\n  /**\r\n   * CSS properties which accept numbers but are not in units of \"px\".\r\n   */\n  var isUnitlessNumber = {\n      animationIterationCount: 1,\n      borderImageOutset: 1,\n      borderImageSlice: 1,\n      borderImageWidth: 1,\n      boxFlex: 1,\n      boxFlexGroup: 1,\n      boxOrdinalGroup: 1,\n      columnCount: 1,\n      flex: 1,\n      flexGrow: 1,\n      flexPositive: 1,\n      flexShrink: 1,\n      flexNegative: 1,\n      flexOrder: 1,\n      gridRow: 1,\n      gridColumn: 1,\n      fontWeight: 1,\n      lineClamp: 1,\n      lineHeight: 1,\n      opacity: 1,\n      order: 1,\n      orphans: 1,\n      tabSize: 1,\n      widows: 1,\n      zIndex: 1,\n      zoom: 1,\n\n      // SVG-related properties\n      fillOpacity: 1,\n      floodOpacity: 1,\n      stopOpacity: 1,\n      strokeDasharray: 1,\n      strokeDashoffset: 1,\n      strokeMiterlimit: 1,\n      strokeOpacity: 1,\n      strokeWidth: 1\n  };\n\n  function prefixKey(prefix, key) {\n      return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n  }\n\n  var prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\n  Object.keys(isUnitlessNumber).forEach(function (prop) {\n      prefixes.forEach(function (prefix) {\n          isUnitlessNumber[prefixKey(prefix, prop)] = 1;\n      });\n  });\n\n  var RE_NUMBER = /^-?\\d+(\\.\\d+)?$/;\n  function setStyleValue(elemStyle, styleName, styleValue) {\n\n      if (!isUnitlessNumber[styleName] && RE_NUMBER.test(styleValue)) {\n          elemStyle[styleName] = styleValue + 'px';\n          return;\n      }\n\n      if (styleName === 'float') {\n          styleName = 'cssFloat';\n      }\n\n      if (styleValue == null || typeof styleValue === 'boolean') {\n          styleValue = '';\n      }\n\n      elemStyle[styleName] = styleValue;\n  }\n\n  var ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n  var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\uB7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\n  var VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\n  var isCustomAttribute = RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\n  // will merge some data in properties below\n  var properties = {};\n\n  /**\r\n   * Mapping from normalized, camelcased property names to a configuration that\r\n   * specifies how the associated DOM property should be accessed or rendered.\r\n   */\n  var MUST_USE_PROPERTY = 0x1;\n  var HAS_BOOLEAN_VALUE = 0x4;\n  var HAS_NUMERIC_VALUE = 0x8;\n  var HAS_POSITIVE_NUMERIC_VALUE = 0x10 | 0x8;\n  var HAS_OVERLOADED_BOOLEAN_VALUE = 0x20;\n\n  // html config\n  var HTMLDOMPropertyConfig = {\n      props: {\n          /**\r\n           * Standard Properties\r\n           */\n          accept: 0,\n          acceptCharset: 0,\n          accessKey: 0,\n          action: 0,\n          allowFullScreen: HAS_BOOLEAN_VALUE,\n          allowTransparency: 0,\n          alt: 0,\n          async: HAS_BOOLEAN_VALUE,\n          autoComplete: 0,\n          autoFocus: HAS_BOOLEAN_VALUE,\n          autoPlay: HAS_BOOLEAN_VALUE,\n          capture: HAS_BOOLEAN_VALUE,\n          cellPadding: 0,\n          cellSpacing: 0,\n          charSet: 0,\n          challenge: 0,\n          checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          cite: 0,\n          classID: 0,\n          className: 0,\n          cols: HAS_POSITIVE_NUMERIC_VALUE,\n          colSpan: 0,\n          content: 0,\n          contentEditable: 0,\n          contextMenu: 0,\n          controls: HAS_BOOLEAN_VALUE,\n          coords: 0,\n          crossOrigin: 0,\n          data: 0, // For `<object />` acts as `src`.\n          dateTime: 0,\n          'default': HAS_BOOLEAN_VALUE,\n          // not in regular react, they did it in other way\n          defaultValue: MUST_USE_PROPERTY,\n          // not in regular react, they did it in other way\n          defaultChecked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          defer: HAS_BOOLEAN_VALUE,\n          dir: 0,\n          disabled: HAS_BOOLEAN_VALUE,\n          download: HAS_OVERLOADED_BOOLEAN_VALUE,\n          draggable: 0,\n          encType: 0,\n          form: 0,\n          formAction: 0,\n          formEncType: 0,\n          formMethod: 0,\n          formNoValidate: HAS_BOOLEAN_VALUE,\n          formTarget: 0,\n          frameBorder: 0,\n          headers: 0,\n          height: 0,\n          hidden: HAS_BOOLEAN_VALUE,\n          high: 0,\n          href: 0,\n          hrefLang: 0,\n          htmlFor: 0,\n          httpEquiv: 0,\n          icon: 0,\n          id: 0,\n          inputMode: 0,\n          integrity: 0,\n          is: 0,\n          keyParams: 0,\n          keyType: 0,\n          kind: 0,\n          label: 0,\n          lang: 0,\n          list: 0,\n          loop: HAS_BOOLEAN_VALUE,\n          low: 0,\n          manifest: 0,\n          marginHeight: 0,\n          marginWidth: 0,\n          max: 0,\n          maxLength: 0,\n          media: 0,\n          mediaGroup: 0,\n          method: 0,\n          min: 0,\n          minLength: 0,\n          // Caution; `option.selected` is not updated if `select.multiple` is\n          // disabled with `removeAttribute`.\n          multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          name: 0,\n          nonce: 0,\n          noValidate: HAS_BOOLEAN_VALUE,\n          open: HAS_BOOLEAN_VALUE,\n          optimum: 0,\n          pattern: 0,\n          placeholder: 0,\n          poster: 0,\n          preload: 0,\n          profile: 0,\n          radioGroup: 0,\n          readOnly: HAS_BOOLEAN_VALUE,\n          referrerPolicy: 0,\n          rel: 0,\n          required: HAS_BOOLEAN_VALUE,\n          reversed: HAS_BOOLEAN_VALUE,\n          role: 0,\n          rows: HAS_POSITIVE_NUMERIC_VALUE,\n          rowSpan: HAS_NUMERIC_VALUE,\n          sandbox: 0,\n          scope: 0,\n          scoped: HAS_BOOLEAN_VALUE,\n          scrolling: 0,\n          seamless: HAS_BOOLEAN_VALUE,\n          selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          shape: 0,\n          size: HAS_POSITIVE_NUMERIC_VALUE,\n          sizes: 0,\n          span: HAS_POSITIVE_NUMERIC_VALUE,\n          spellCheck: 0,\n          src: 0,\n          srcDoc: 0,\n          srcLang: 0,\n          srcSet: 0,\n          start: HAS_NUMERIC_VALUE,\n          step: 0,\n          style: 0,\n          summary: 0,\n          tabIndex: 0,\n          target: 0,\n          title: 0,\n          // Setting .type throws on non-<input> tags\n          type: 0,\n          useMap: 0,\n          value: MUST_USE_PROPERTY,\n          width: 0,\n          wmode: 0,\n          wrap: 0,\n\n          /**\r\n           * RDFa Properties\r\n           */\n          about: 0,\n          datatype: 0,\n          inlist: 0,\n          prefix: 0,\n          // property is also supported for OpenGraph in meta tags.\n          property: 0,\n          playsInline: HAS_BOOLEAN_VALUE,\n          resource: 0,\n          'typeof': 0,\n          vocab: 0,\n\n          /**\r\n           * Non-standard Properties\r\n           */\n          // autoCapitalize and autoCorrect are supported in Mobile Safari for\n          // keyboard hints.\n          autoCapitalize: 0,\n          autoCorrect: 0,\n          // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n          autoSave: 0,\n          // color is for Safari mask-icon link\n          color: 0,\n          // itemProp, itemScope, itemType are for\n          // Microdata support. See http://schema.org/docs/gs.html\n          itemProp: 0,\n          itemScope: HAS_BOOLEAN_VALUE,\n          itemType: 0,\n          // itemID and itemRef are for Microdata support as well but\n          // only specified in the WHATWG spec document. See\n          // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n          itemID: 0,\n          itemRef: 0,\n          // results show looking glass icon and recent searches on input\n          // search fields in WebKit/Blink\n          results: 0,\n          // IE-only attribute that specifies security restrictions on an iframe\n          // as an alternative to the sandbox attribute on IE<10\n          security: 0,\n          // IE-only attribute that controls focus behavior\n          unselectable: 0\n      },\n      attrNS: {},\n      domAttrs: {\n          acceptCharset: 'accept-charset',\n          className: 'class',\n          htmlFor: 'for',\n          httpEquiv: 'http-equiv'\n      },\n      domProps: {}\n  };\n\n  // svg config\n  var xlink = 'http://www.w3.org/1999/xlink';\n  var xml = 'http://www.w3.org/XML/1998/namespace';\n\n  // We use attributes for everything SVG so let's avoid some duplication and run\n  // code instead.\n  // The following are all specified in the HTML config already so we exclude here.\n  // - class (as className)\n  // - color\n  // - height\n  // - id\n  // - lang\n  // - max\n  // - media\n  // - method\n  // - min\n  // - name\n  // - style\n  // - target\n  // - type\n  // - width\n  var ATTRS = {\n      accentHeight: 'accent-height',\n      accumulate: 0,\n      additive: 0,\n      alignmentBaseline: 'alignment-baseline',\n      allowReorder: 'allowReorder',\n      alphabetic: 0,\n      amplitude: 0,\n      arabicForm: 'arabic-form',\n      ascent: 0,\n      attributeName: 'attributeName',\n      attributeType: 'attributeType',\n      autoReverse: 'autoReverse',\n      azimuth: 0,\n      baseFrequency: 'baseFrequency',\n      baseProfile: 'baseProfile',\n      baselineShift: 'baseline-shift',\n      bbox: 0,\n      begin: 0,\n      bias: 0,\n      by: 0,\n      calcMode: 'calcMode',\n      capHeight: 'cap-height',\n      clip: 0,\n      clipPath: 'clip-path',\n      clipRule: 'clip-rule',\n      clipPathUnits: 'clipPathUnits',\n      colorInterpolation: 'color-interpolation',\n      colorInterpolationFilters: 'color-interpolation-filters',\n      colorProfile: 'color-profile',\n      colorRendering: 'color-rendering',\n      contentScriptType: 'contentScriptType',\n      contentStyleType: 'contentStyleType',\n      cursor: 0,\n      cx: 0,\n      cy: 0,\n      d: 0,\n      decelerate: 0,\n      descent: 0,\n      diffuseConstant: 'diffuseConstant',\n      direction: 0,\n      display: 0,\n      divisor: 0,\n      dominantBaseline: 'dominant-baseline',\n      dur: 0,\n      dx: 0,\n      dy: 0,\n      edgeMode: 'edgeMode',\n      elevation: 0,\n      enableBackground: 'enable-background',\n      end: 0,\n      exponent: 0,\n      externalResourcesRequired: 'externalResourcesRequired',\n      fill: 0,\n      fillOpacity: 'fill-opacity',\n      fillRule: 'fill-rule',\n      filter: 0,\n      filterRes: 'filterRes',\n      filterUnits: 'filterUnits',\n      floodColor: 'flood-color',\n      floodOpacity: 'flood-opacity',\n      focusable: 0,\n      fontFamily: 'font-family',\n      fontSize: 'font-size',\n      fontSizeAdjust: 'font-size-adjust',\n      fontStretch: 'font-stretch',\n      fontStyle: 'font-style',\n      fontVariant: 'font-variant',\n      fontWeight: 'font-weight',\n      format: 0,\n      from: 0,\n      fx: 0,\n      fy: 0,\n      g1: 0,\n      g2: 0,\n      glyphName: 'glyph-name',\n      glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n      glyphOrientationVertical: 'glyph-orientation-vertical',\n      glyphRef: 'glyphRef',\n      gradientTransform: 'gradientTransform',\n      gradientUnits: 'gradientUnits',\n      hanging: 0,\n      horizAdvX: 'horiz-adv-x',\n      horizOriginX: 'horiz-origin-x',\n      ideographic: 0,\n      imageRendering: 'image-rendering',\n      'in': 0,\n      in2: 0,\n      intercept: 0,\n      k: 0,\n      k1: 0,\n      k2: 0,\n      k3: 0,\n      k4: 0,\n      kernelMatrix: 'kernelMatrix',\n      kernelUnitLength: 'kernelUnitLength',\n      kerning: 0,\n      keyPoints: 'keyPoints',\n      keySplines: 'keySplines',\n      keyTimes: 'keyTimes',\n      lengthAdjust: 'lengthAdjust',\n      letterSpacing: 'letter-spacing',\n      lightingColor: 'lighting-color',\n      limitingConeAngle: 'limitingConeAngle',\n      local: 0,\n      markerEnd: 'marker-end',\n      markerMid: 'marker-mid',\n      markerStart: 'marker-start',\n      markerHeight: 'markerHeight',\n      markerUnits: 'markerUnits',\n      markerWidth: 'markerWidth',\n      mask: 0,\n      maskContentUnits: 'maskContentUnits',\n      maskUnits: 'maskUnits',\n      mathematical: 0,\n      mode: 0,\n      numOctaves: 'numOctaves',\n      offset: 0,\n      opacity: 0,\n      operator: 0,\n      order: 0,\n      orient: 0,\n      orientation: 0,\n      origin: 0,\n      overflow: 0,\n      overlinePosition: 'overline-position',\n      overlineThickness: 'overline-thickness',\n      paintOrder: 'paint-order',\n      panose1: 'panose-1',\n      pathLength: 'pathLength',\n      patternContentUnits: 'patternContentUnits',\n      patternTransform: 'patternTransform',\n      patternUnits: 'patternUnits',\n      pointerEvents: 'pointer-events',\n      points: 0,\n      pointsAtX: 'pointsAtX',\n      pointsAtY: 'pointsAtY',\n      pointsAtZ: 'pointsAtZ',\n      preserveAlpha: 'preserveAlpha',\n      preserveAspectRatio: 'preserveAspectRatio',\n      primitiveUnits: 'primitiveUnits',\n      r: 0,\n      radius: 0,\n      refX: 'refX',\n      refY: 'refY',\n      renderingIntent: 'rendering-intent',\n      repeatCount: 'repeatCount',\n      repeatDur: 'repeatDur',\n      requiredExtensions: 'requiredExtensions',\n      requiredFeatures: 'requiredFeatures',\n      restart: 0,\n      result: 0,\n      rotate: 0,\n      rx: 0,\n      ry: 0,\n      scale: 0,\n      seed: 0,\n      shapeRendering: 'shape-rendering',\n      slope: 0,\n      spacing: 0,\n      specularConstant: 'specularConstant',\n      specularExponent: 'specularExponent',\n      speed: 0,\n      spreadMethod: 'spreadMethod',\n      startOffset: 'startOffset',\n      stdDeviation: 'stdDeviation',\n      stemh: 0,\n      stemv: 0,\n      stitchTiles: 'stitchTiles',\n      stopColor: 'stop-color',\n      stopOpacity: 'stop-opacity',\n      strikethroughPosition: 'strikethrough-position',\n      strikethroughThickness: 'strikethrough-thickness',\n      string: 0,\n      stroke: 0,\n      strokeDasharray: 'stroke-dasharray',\n      strokeDashoffset: 'stroke-dashoffset',\n      strokeLinecap: 'stroke-linecap',\n      strokeLinejoin: 'stroke-linejoin',\n      strokeMiterlimit: 'stroke-miterlimit',\n      strokeOpacity: 'stroke-opacity',\n      strokeWidth: 'stroke-width',\n      surfaceScale: 'surfaceScale',\n      systemLanguage: 'systemLanguage',\n      tableValues: 'tableValues',\n      targetX: 'targetX',\n      targetY: 'targetY',\n      textAnchor: 'text-anchor',\n      textDecoration: 'text-decoration',\n      textRendering: 'text-rendering',\n      textLength: 'textLength',\n      to: 0,\n      transform: 0,\n      u1: 0,\n      u2: 0,\n      underlinePosition: 'underline-position',\n      underlineThickness: 'underline-thickness',\n      unicode: 0,\n      unicodeBidi: 'unicode-bidi',\n      unicodeRange: 'unicode-range',\n      unitsPerEm: 'units-per-em',\n      vAlphabetic: 'v-alphabetic',\n      vHanging: 'v-hanging',\n      vIdeographic: 'v-ideographic',\n      vMathematical: 'v-mathematical',\n      values: 0,\n      vectorEffect: 'vector-effect',\n      version: 0,\n      vertAdvY: 'vert-adv-y',\n      vertOriginX: 'vert-origin-x',\n      vertOriginY: 'vert-origin-y',\n      viewBox: 'viewBox',\n      viewTarget: 'viewTarget',\n      visibility: 0,\n      widths: 0,\n      wordSpacing: 'word-spacing',\n      writingMode: 'writing-mode',\n      x: 0,\n      xHeight: 'x-height',\n      x1: 0,\n      x2: 0,\n      xChannelSelector: 'xChannelSelector',\n      xlinkActuate: 'xlink:actuate',\n      xlinkArcrole: 'xlink:arcrole',\n      xlinkHref: 'xlink:href',\n      xlinkRole: 'xlink:role',\n      xlinkShow: 'xlink:show',\n      xlinkTitle: 'xlink:title',\n      xlinkType: 'xlink:type',\n      xmlBase: 'xml:base',\n      xmlns: 0,\n      xmlnsXlink: 'xmlns:xlink',\n      xmlLang: 'xml:lang',\n      xmlSpace: 'xml:space',\n      y: 0,\n      y1: 0,\n      y2: 0,\n      yChannelSelector: 'yChannelSelector',\n      z: 0,\n      zoomAndPan: 'zoomAndPan'\n  };\n\n  var SVGDOMPropertyConfig = {\n      props: {},\n      attrNS: {\n          xlinkActuate: xlink,\n          xlinkArcrole: xlink,\n          xlinkHref: xlink,\n          xlinkRole: xlink,\n          xlinkShow: xlink,\n          xlinkTitle: xlink,\n          xlinkType: xlink,\n          xmlBase: xml,\n          xmlLang: xml,\n          xmlSpace: xml\n      },\n      domAttrs: {},\n      domProps: {}\n  };\n\n  Object.keys(ATTRS).map(function (key) {\n      SVGDOMPropertyConfig.props[key] = 0;\n      if (ATTRS[key]) {\n          SVGDOMPropertyConfig.domAttrs[key] = ATTRS[key];\n      }\n  });\n\n  // merge html and svg config into properties\n  mergeConfigToProperties(HTMLDOMPropertyConfig);\n  mergeConfigToProperties(SVGDOMPropertyConfig);\n\n  function mergeConfigToProperties(config) {\n      var\n      // all react/react-lite supporting property names in here\n      props = config.props;\n      var\n      // attributes namespace in here\n      attrNS = config.attrNS;\n      var\n      // propName in props which should use to be dom-attribute in here\n      domAttrs = config.domAttrs;\n      var\n      // propName in props which should use to be dom-property in here\n      domProps = config.domProps;\n\n      for (var propName in props) {\n          if (!props.hasOwnProperty(propName)) {\n              continue;\n          }\n          var propConfig = props[propName];\n          properties[propName] = {\n              attributeName: domAttrs.hasOwnProperty(propName) ? domAttrs[propName] : propName.toLowerCase(),\n              propertyName: domProps.hasOwnProperty(propName) ? domProps[propName] : propName,\n              attributeNamespace: attrNS.hasOwnProperty(propName) ? attrNS[propName] : null,\n              mustUseProperty: checkMask(propConfig, MUST_USE_PROPERTY),\n              hasBooleanValue: checkMask(propConfig, HAS_BOOLEAN_VALUE),\n              hasNumericValue: checkMask(propConfig, HAS_NUMERIC_VALUE),\n              hasPositiveNumericValue: checkMask(propConfig, HAS_POSITIVE_NUMERIC_VALUE),\n              hasOverloadedBooleanValue: checkMask(propConfig, HAS_OVERLOADED_BOOLEAN_VALUE)\n          };\n      }\n  }\n\n  function checkMask(value, bitmask) {\n      return (value & bitmask) === bitmask;\n  }\n\n  /**\r\n   * Sets the value for a property on a node.\r\n   *\r\n   * @param {DOMElement} node\r\n   * @param {string} name\r\n   * @param {*} value\r\n   */\n\n  function setPropValue(node, name, value) {\n      var propInfo = properties.hasOwnProperty(name) && properties[name];\n      if (propInfo) {\n          // should delete value from dom\n          if (value == null || propInfo.hasBooleanValue && !value || propInfo.hasNumericValue && isNaN(value) || propInfo.hasPositiveNumericValue && value < 1 || propInfo.hasOverloadedBooleanValue && value === false) {\n              removePropValue(node, name);\n          } else if (propInfo.mustUseProperty) {\n              node[propInfo.propertyName] = value;\n          } else {\n              var attributeName = propInfo.attributeName;\n              var namespace = propInfo.attributeNamespace;\n\n              // `setAttribute` with objects becomes only `[object]` in IE8/9,\n              // ('' + value) makes it output the correct toString()-value.\n              if (namespace) {\n                  node.setAttributeNS(namespace, attributeName, '' + value);\n              } else if (propInfo.hasBooleanValue || propInfo.hasOverloadedBooleanValue && value === true) {\n                  node.setAttribute(attributeName, '');\n              } else {\n                  node.setAttribute(attributeName, '' + value);\n              }\n          }\n      } else if (isCustomAttribute(name) && VALID_ATTRIBUTE_NAME_REGEX.test(name)) {\n          if (value == null) {\n              node.removeAttribute(name);\n          } else {\n              node.setAttribute(name, '' + value);\n          }\n      }\n  }\n\n  /**\r\n   * Deletes the value for a property on a node.\r\n   *\r\n   * @param {DOMElement} node\r\n   * @param {string} name\r\n   */\n\n  function removePropValue(node, name) {\n      var propInfo = properties.hasOwnProperty(name) && properties[name];\n      if (propInfo) {\n          if (propInfo.mustUseProperty) {\n              var propName = propInfo.propertyName;\n              if (propInfo.hasBooleanValue) {\n                  node[propName] = false;\n              } else {\n                  node[propName] = '';\n              }\n          } else {\n              node.removeAttribute(propInfo.attributeName);\n          }\n      } else if (isCustomAttribute(name)) {\n          node.removeAttribute(name);\n      }\n  }\n\n  function updateSelectOptions(select, multiple, propValue) {\n      var selectedValue, i;\n      var options = select.options;\n\n      if (multiple) {\n          select.multiple = true;\n          if (!Array.isArray(propValue)) {\n              throw new Error('The value prop supplied to <select> must be an array if `multiple` is true');\n          }\n          selectedValue = {};\n          for (i = 0; i < propValue.length; i++) {\n              selectedValue['' + propValue[i]] = true;\n          }\n          for (i = 0; i < options.length; i++) {\n              var selected = selectedValue.hasOwnProperty(options[i].value);\n              if (options[i].selected !== selected) {\n                  options[i].selected = selected;\n              }\n          }\n      } else {\n          select.multiple = false;\n          if (Array.isArray(propValue)) {\n              throw new Error('The value prop supplied to <select> must be a scalar value if `multiple` is false.');\n          }\n          // Do not set `select.value` as exact behavior isn't consistent across all\n          // browsers for all cases.\n          selectedValue = '' + propValue;\n          for (i = 0; i < options.length; i++) {\n              var option = options[i];\n              if (option.value === selectedValue) {\n                  if (!option.selected) {\n                      option.selected = true;\n                  }\n              } else {\n                  if (option.selected) {\n                      option.selected = false;\n                  }\n              }\n          }\n\n          if (options.selectedIndex < 0 && options.length) {\n              options[0].selected = true;\n          }\n      }\n  }\n\n  function isFn(obj) {\n      return typeof obj === 'function';\n  }\n\n  var isArr = Array.isArray;\n\n  function noop() {}\n\n  function identity(obj) {\n      return obj;\n  }\n\n  function pipe(fn1, fn2) {\n      return function () {\n          fn1.apply(this, arguments);\n          return fn2.apply(this, arguments);\n      };\n  }\n\n  function addItem(list, item) {\n      list[list.length] = item;\n  }\n\n  function flatEach(list, iteratee, a) {\n      var len = list.length;\n      var i = -1;\n\n      while (len--) {\n          var item = list[++i];\n          if (isArr(item)) {\n              flatEach(item, iteratee, a);\n          } else {\n              iteratee(item, a);\n          }\n      }\n  }\n\n  function extend(to, from) {\n      if (!from) {\n          return to;\n      }\n      var keys = Object.keys(from);\n      var i = keys.length;\n      while (i--) {\n          to[keys[i]] = from[keys[i]];\n      }\n      return to;\n  }\n\n  var uid = 0;\n\n  function getUid() {\n      return ++uid;\n  }\n\n  var EVENT_KEYS = /^on/i;\n\n  function setProp(elem, key, value, isCustomComponent) {\n      if (EVENT_KEYS.test(key)) {\n          addEvent(elem, key, value);\n      } else if (key === 'style') {\n          setStyle(elem.style, value);\n      } else if (key === HTML_KEY) {\n          if (value && value.__html != null) {\n              elem.innerHTML = value.__html;\n          }\n      } else if (isCustomComponent) {\n          if (value == null) {\n              elem.removeAttribute(key);\n          } else {\n              elem.setAttribute(key, '' + value);\n          }\n      } else {\n          setPropValue(elem, key, value);\n      }\n  }\n\n  function removeProp(elem, key, oldValue, isCustomComponent) {\n      if (EVENT_KEYS.test(key)) {\n          removeEvent(elem, key);\n      } else if (key === 'style') {\n          removeStyle(elem.style, oldValue);\n      } else if (key === HTML_KEY) {\n          elem.innerHTML = '';\n      } else if (isCustomComponent) {\n          elem.removeAttribute(key);\n      } else {\n          removePropValue(elem, key);\n      }\n  }\n\n  function patchProp(elem, key, value, oldValue, isCustomComponent) {\n      if (key === 'value' || key === 'checked') {\n          oldValue = elem[key];\n      }\n      if (value === oldValue) {\n          return;\n      }\n      if (value === undefined) {\n          removeProp(elem, key, oldValue, isCustomComponent);\n          return;\n      }\n      if (key === 'style') {\n          patchStyle(elem.style, oldValue, value);\n      } else {\n          setProp(elem, key, value, isCustomComponent);\n      }\n  }\n\n  function setProps(elem, props, isCustomComponent) {\n      var isSelect = elem.nodeName === 'SELECT';\n      for (var key in props) {\n          if (key !== 'children') {\n              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                  updateSelectOptions(elem, props.multiple, props[key]);\n              } else {\n                  setProp(elem, key, props[key], isCustomComponent);\n              }\n          }\n      }\n  }\n\n  function patchProps(elem, props, newProps, isCustomComponent) {\n      var isSelect = elem.nodeName === 'SELECT';\n      for (var key in props) {\n          if (key !== 'children') {\n              if (newProps.hasOwnProperty(key)) {\n                  if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                      updateSelectOptions(elem, newProps.multiple, newProps[key]);\n                  } else {\n                      patchProp(elem, key, newProps[key], props[key], isCustomComponent);\n                  }\n              } else {\n                  removeProp(elem, key, props[key], isCustomComponent);\n              }\n          }\n      }\n      for (var key in newProps) {\n          if (key !== 'children' && !props.hasOwnProperty(key)) {\n              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                  updateSelectOptions(elem, newProps.multiple, newProps[key]);\n              } else {\n                  setProp(elem, key, newProps[key], isCustomComponent);\n              }\n          }\n      }\n  }\n\n  if (!Object.freeze) {\n      Object.freeze = identity;\n  }\n\n  function isValidContainer(node) {\n  \treturn !!(node && (node.nodeType === ELEMENT_NODE_TYPE || node.nodeType === DOC_NODE_TYPE || node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE));\n  }\n\n  var pendingRendering = {};\n  var vnodeStore = {};\n  function renderTreeIntoContainer(vnode, container, callback, parentContext) {\n  \tif (!vnode.vtype) {\n  \t\tthrow new Error('cannot render ' + vnode + ' to container');\n  \t}\n  \tif (!isValidContainer(container)) {\n  \t\tthrow new Error('container ' + container + ' is not a DOM element');\n  \t}\n  \tvar id = container[COMPONENT_ID] || (container[COMPONENT_ID] = getUid());\n  \tvar argsCache = pendingRendering[id];\n\n  \t// component lify cycle method maybe call root rendering\n  \t// should bundle them and render by only one time\n  \tif (argsCache) {\n  \t\tif (argsCache === true) {\n  \t\t\tpendingRendering[id] = argsCache = { vnode: vnode, callback: callback, parentContext: parentContext };\n  \t\t} else {\n  \t\t\targsCache.vnode = vnode;\n  \t\t\targsCache.parentContext = parentContext;\n  \t\t\targsCache.callback = argsCache.callback ? pipe(argsCache.callback, callback) : callback;\n  \t\t}\n  \t\treturn;\n  \t}\n\n  \tpendingRendering[id] = true;\n  \tvar oldVnode = null;\n  \tvar rootNode = null;\n  \tif (oldVnode = vnodeStore[id]) {\n  \t\trootNode = compareTwoVnodes(oldVnode, vnode, container.firstChild, parentContext);\n  \t} else {\n  \t\trootNode = initVnode(vnode, parentContext, container.namespaceURI);\n  \t\tvar childNode = null;\n  \t\twhile (childNode = container.lastChild) {\n  \t\t\tcontainer.removeChild(childNode);\n  \t\t}\n  \t\tcontainer.appendChild(rootNode);\n  \t}\n  \tvnodeStore[id] = vnode;\n  \tvar isPending = updateQueue.isPending;\n  \tupdateQueue.isPending = true;\n  \tclearPending();\n  \targsCache = pendingRendering[id];\n  \tdelete pendingRendering[id];\n\n  \tvar result = null;\n  \tif (typeof argsCache === 'object') {\n  \t\tresult = renderTreeIntoContainer(argsCache.vnode, container, argsCache.callback, argsCache.parentContext);\n  \t} else if (vnode.vtype === VELEMENT) {\n  \t\tresult = rootNode;\n  \t} else if (vnode.vtype === VCOMPONENT) {\n  \t\tresult = rootNode.cache[vnode.uid];\n  \t}\n\n  \tif (!isPending) {\n  \t\tupdateQueue.isPending = false;\n  \t\tupdateQueue.batchUpdate();\n  \t}\n\n  \tif (callback) {\n  \t\tcallback.call(result);\n  \t}\n\n  \treturn result;\n  }\n\n  function render(vnode, container, callback) {\n  \treturn renderTreeIntoContainer(vnode, container, callback);\n  }\n\n  function unstable_renderSubtreeIntoContainer(parentComponent, subVnode, container, callback) {\n  \tvar context = parentComponent.$cache.parentContext;\n  \treturn renderTreeIntoContainer(subVnode, container, callback, context);\n  }\n\n  function unmountComponentAtNode(container) {\n  \tif (!container.nodeName) {\n  \t\tthrow new Error('expect node');\n  \t}\n  \tvar id = container[COMPONENT_ID];\n  \tvar vnode = null;\n  \tif (vnode = vnodeStore[id]) {\n  \t\tdestroyVnode(vnode, container.firstChild);\n  \t\tcontainer.removeChild(container.firstChild);\n  \t\tdelete vnodeStore[id];\n  \t\treturn true;\n  \t}\n  \treturn false;\n  }\n\n  function findDOMNode(node) {\n  \tif (node == null) {\n  \t\treturn null;\n  \t}\n  \tif (node.nodeName) {\n  \t\treturn node;\n  \t}\n  \tvar component = node;\n  \t// if component.node equal to false, component must be unmounted\n  \tif (component.getDOMNode && component.$cache.isMounted) {\n  \t\treturn component.getDOMNode();\n  \t}\n  \tthrow new Error('findDOMNode can not find Node');\n  }\n\n  var ReactDOM = Object.freeze({\n  \trender: render,\n  \tunstable_renderSubtreeIntoContainer: unstable_renderSubtreeIntoContainer,\n  \tunmountComponentAtNode: unmountComponentAtNode,\n  \tfindDOMNode: findDOMNode\n  });\n\n  function createElement(type, props, children) {\n  \tvar vtype = null;\n  \tif (typeof type === 'string') {\n  \t\tvtype = VELEMENT;\n  \t} else if (typeof type === 'function') {\n  \t\tif (type.prototype && type.prototype.isReactComponent) {\n  \t\t\tvtype = VCOMPONENT;\n  \t\t} else {\n  \t\t\tvtype = VSTATELESS;\n  \t\t}\n  \t} else {\n  \t\tthrow new Error('React.createElement: unexpect type [ ' + type + ' ]');\n  \t}\n\n  \tvar key = null;\n  \tvar ref = null;\n  \tvar finalProps = {};\n  \tif (props != null) {\n  \t\tfor (var propKey in props) {\n  \t\t\tif (!props.hasOwnProperty(propKey)) {\n  \t\t\t\tcontinue;\n  \t\t\t}\n  \t\t\tif (propKey === 'key') {\n  \t\t\t\tif (props.key !== undefined) {\n  \t\t\t\t\tkey = '' + props.key;\n  \t\t\t\t}\n  \t\t\t} else if (propKey === 'ref') {\n  \t\t\t\tif (props.ref !== undefined) {\n  \t\t\t\t\tref = props.ref;\n  \t\t\t\t}\n  \t\t\t} else {\n  \t\t\t\tfinalProps[propKey] = props[propKey];\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tvar defaultProps = type.defaultProps;\n\n  \tif (defaultProps) {\n  \t\tfor (var propKey in defaultProps) {\n  \t\t\tif (finalProps[propKey] === undefined) {\n  \t\t\t\tfinalProps[propKey] = defaultProps[propKey];\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tvar argsLen = arguments.length;\n  \tvar finalChildren = children;\n\n  \tif (argsLen > 3) {\n  \t\tfinalChildren = Array(argsLen - 2);\n  \t\tfor (var i = 2; i < argsLen; i++) {\n  \t\t\tfinalChildren[i - 2] = arguments[i];\n  \t\t}\n  \t}\n\n  \tif (finalChildren !== undefined) {\n  \t\tfinalProps.children = finalChildren;\n  \t}\n\n  \treturn createVnode(vtype, type, finalProps, key, ref);\n  }\n\n  function isValidElement(obj) {\n  \treturn obj != null && !!obj.vtype;\n  }\n\n  function cloneElement(originElem, props) {\n  \tvar type = originElem.type;\n  \tvar key = originElem.key;\n  \tvar ref = originElem.ref;\n\n  \tvar newProps = extend(extend({ key: key, ref: ref }, originElem.props), props);\n\n  \tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n  \t\tchildren[_key - 2] = arguments[_key];\n  \t}\n\n  \tvar vnode = createElement.apply(undefined, [type, newProps].concat(children));\n  \tif (vnode.ref === originElem.ref) {\n  \t\tvnode.refs = originElem.refs;\n  \t}\n  \treturn vnode;\n  }\n\n  function createFactory(type) {\n  \tvar factory = function factory() {\n  \t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n  \t\t\targs[_key2] = arguments[_key2];\n  \t\t}\n\n  \t\treturn createElement.apply(undefined, [type].concat(args));\n  \t};\n  \tfactory.type = type;\n  \treturn factory;\n  }\n\n  var tagNames = 'a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan';\n  var DOM = {};\n  tagNames.split('|').forEach(function (tagName) {\n  \tDOM[tagName] = createFactory(tagName);\n  });\n\n  var check = function check() {\n      return check;\n  };\n  check.isRequired = check;\n  var PropTypes = {\n      \"array\": check,\n      \"bool\": check,\n      \"func\": check,\n      \"number\": check,\n      \"object\": check,\n      \"string\": check,\n      \"any\": check,\n      \"arrayOf\": check,\n      \"element\": check,\n      \"instanceOf\": check,\n      \"node\": check,\n      \"objectOf\": check,\n      \"oneOf\": check,\n      \"oneOfType\": check,\n      \"shape\": check\n  };\n\n  function only(children) {\n  \tif (isValidElement(children)) {\n  \t\treturn children;\n  \t}\n  \tthrow new Error('expect only one child');\n  }\n\n  function forEach(children, iteratee, context) {\n  \tif (children == null) {\n  \t\treturn children;\n  \t}\n  \tvar index = 0;\n  \tif (isArr(children)) {\n  \t\tflatEach(children, function (child) {\n  \t\t\t// from traverseAllChildrenImpl in react\n  \t\t\tvar type = typeof child;\n  \t\t\tif (type === 'undefined' || type === 'boolean') {\n  \t\t\t\t// All of the above are perceived as null.\n  \t\t\t\tchild = null;\n  \t\t\t}\n\n  \t\t\titeratee.call(context, child, index++);\n  \t\t});\n  \t} else {\n  \t\t// from traverseAllChildrenImpl in react\n  \t\tvar type = typeof children;\n  \t\tif (type === 'undefined' || type === 'boolean') {\n  \t\t\t// All of the above are perceived as null.\n  \t\t\tchildren = null;\n  \t\t}\n  \t\titeratee.call(context, children, index);\n  \t}\n  }\n\n  function map(children, iteratee, context) {\n  \tif (children == null) {\n  \t\treturn children;\n  \t}\n  \tvar store = [];\n  \tvar keyMap = {};\n  \tforEach(children, function (child, index) {\n  \t\tvar data = {};\n  \t\tdata.child = iteratee.call(context, child, index) || child;\n  \t\tdata.isEqual = data.child === child;\n  \t\tvar key = data.key = getKey(child, index);\n  \t\tif (keyMap.hasOwnProperty(key)) {\n  \t\t\tkeyMap[key] += 1;\n  \t\t} else {\n  \t\t\tkeyMap[key] = 0;\n  \t\t}\n  \t\tdata.index = keyMap[key];\n  \t\taddItem(store, data);\n  \t});\n  \tvar result = [];\n  \tstore.forEach(function (_ref) {\n  \t\tvar child = _ref.child;\n  \t\tvar key = _ref.key;\n  \t\tvar index = _ref.index;\n  \t\tvar isEqual = _ref.isEqual;\n\n  \t\tif (child == null || typeof child === 'boolean') {\n  \t\t\treturn;\n  \t\t}\n  \t\tif (!isValidElement(child) || key == null) {\n  \t\t\taddItem(result, child);\n  \t\t\treturn;\n  \t\t}\n  \t\tif (keyMap[key] !== 0) {\n  \t\t\tkey += ':' + index;\n  \t\t}\n  \t\tif (!isEqual) {\n  \t\t\tkey = escapeUserProvidedKey(child.key || '') + '/' + key;\n  \t\t}\n  \t\tchild = cloneElement(child, { key: key });\n  \t\taddItem(result, child);\n  \t});\n  \treturn result;\n  }\n\n  function count(children) {\n  \tvar count = 0;\n  \tforEach(children, function () {\n  \t\tcount++;\n  \t});\n  \treturn count;\n  }\n\n  function toArray(children) {\n  \treturn map(children, identity) || [];\n  }\n\n  function getKey(child, index) {\n  \tvar key = undefined;\n  \tif (isValidElement(child) && typeof child.key === 'string') {\n  \t\tkey = '.$' + child.key;\n  \t} else {\n  \t\tkey = '.' + index.toString(36);\n  \t}\n  \treturn key;\n  }\n\n  var userProvidedKeyEscapeRegex = /\\/(?!\\/)/g;\n  function escapeUserProvidedKey(text) {\n  \treturn ('' + text).replace(userProvidedKeyEscapeRegex, '//');\n  }\n\n  var Children = Object.freeze({\n  \tonly: only,\n  \tforEach: forEach,\n  \tmap: map,\n  \tcount: count,\n  \ttoArray: toArray\n  });\n\n  function eachMixin(mixins, iteratee) {\n  \tmixins.forEach(function (mixin) {\n  \t\tif (mixin) {\n  \t\t\tif (isArr(mixin.mixins)) {\n  \t\t\t\teachMixin(mixin.mixins, iteratee);\n  \t\t\t}\n  \t\t\titeratee(mixin);\n  \t\t}\n  \t});\n  }\n\n  function combineMixinToProto(proto, mixin) {\n  \tfor (var key in mixin) {\n  \t\tif (!mixin.hasOwnProperty(key)) {\n  \t\t\tcontinue;\n  \t\t}\n  \t\tvar value = mixin[key];\n  \t\tif (key === 'getInitialState') {\n  \t\t\taddItem(proto.$getInitialStates, value);\n  \t\t\tcontinue;\n  \t\t}\n  \t\tvar curValue = proto[key];\n  \t\tif (isFn(curValue) && isFn(value)) {\n  \t\t\tproto[key] = pipe(curValue, value);\n  \t\t} else {\n  \t\t\tproto[key] = value;\n  \t\t}\n  \t}\n  }\n\n  function combineMixinToClass(Component, mixin) {\n  \tif (mixin.propTypes) {\n  \t\tComponent.propTypes = Component.propTypes || {};\n  \t\textend(Component.propTypes, mixin.propTypes);\n  \t}\n  \tif (mixin.contextTypes) {\n  \t\tComponent.contextTypes = Component.contextTypes || {};\n  \t\textend(Component.contextTypes, mixin.contextTypes);\n  \t}\n  \textend(Component, mixin.statics);\n  \tif (isFn(mixin.getDefaultProps)) {\n  \t\tComponent.defaultProps = Component.defaultProps || {};\n  \t\textend(Component.defaultProps, mixin.getDefaultProps());\n  \t}\n  }\n\n  function bindContext(obj, source) {\n  \tfor (var key in source) {\n  \t\tif (source.hasOwnProperty(key)) {\n  \t\t\tif (isFn(source[key])) {\n  \t\t\t\tobj[key] = source[key].bind(obj);\n  \t\t\t}\n  \t\t}\n  \t}\n  }\n\n  var Facade = function Facade() {};\n  Facade.prototype = Component.prototype;\n\n  function getInitialState() {\n  \tvar _this = this;\n\n  \tvar state = {};\n  \tvar setState = this.setState;\n  \tthis.setState = Facade;\n  \tthis.$getInitialStates.forEach(function (getInitialState) {\n  \t\tif (isFn(getInitialState)) {\n  \t\t\textend(state, getInitialState.call(_this));\n  \t\t}\n  \t});\n  \tthis.setState = setState;\n  \treturn state;\n  }\n  function createClass(spec) {\n  \tif (!isFn(spec.render)) {\n  \t\tthrow new Error('createClass: spec.render is not function');\n  \t}\n  \tvar specMixins = spec.mixins || [];\n  \tvar mixins = specMixins.concat(spec);\n  \tspec.mixins = null;\n  \tfunction Klass(props, context) {\n  \t\tComponent.call(this, props, context);\n  \t\tthis.constructor = Klass;\n  \t\tspec.autobind !== false && bindContext(this, Klass.prototype);\n  \t\tthis.state = this.getInitialState() || this.state;\n  \t}\n  \tKlass.displayName = spec.displayName;\n  \tvar proto = Klass.prototype = new Facade();\n  \tproto.$getInitialStates = [];\n  \teachMixin(mixins, function (mixin) {\n  \t\tcombineMixinToProto(proto, mixin);\n  \t\tcombineMixinToClass(Klass, mixin);\n  \t});\n  \tproto.getInitialState = getInitialState;\n  \tspec.mixins = specMixins;\n  \treturn Klass;\n  }\n\n  function shallowEqual(objA, objB) {\n      if (objA === objB) {\n          return true;\n      }\n\n      if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n          return false;\n      }\n\n      var keysA = Object.keys(objA);\n      var keysB = Object.keys(objB);\n\n      if (keysA.length !== keysB.length) {\n          return false;\n      }\n\n      // Test for A's keys different from B.\n      for (var i = 0; i < keysA.length; i++) {\n          if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n              return false;\n          }\n      }\n\n      return true;\n  }\n\n  function PureComponent(props, context) {\n  \tComponent.call(this, props, context);\n  }\n\n  PureComponent.prototype = Object.create(Component.prototype);\n  PureComponent.prototype.constructor = PureComponent;\n  PureComponent.prototype.isPureReactComponent = true;\n  PureComponent.prototype.shouldComponentUpdate = shallowCompare;\n\n  function shallowCompare(nextProps, nextState) {\n  \treturn !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n  }\n\n  var React = extend({\n      version: '0.15.1',\n      cloneElement: cloneElement,\n      isValidElement: isValidElement,\n      createElement: createElement,\n      createFactory: createFactory,\n      Component: Component,\n      PureComponent: PureComponent,\n      createClass: createClass,\n      Children: Children,\n      PropTypes: PropTypes,\n      DOM: DOM\n  }, ReactDOM);\n\n  React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactDOM;\n\n  return React;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/react-lite/dist/react-lite.js\n// module id = 16\n// module chunks = 0 1 2","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar cockpit = require(\"cockpit\");\nvar React = require(\"react\");\nvar _ = cockpit.gettext;\nrequire(\"./cockpit-components-file-autocomplete.css\");\n\nvar FileAutoComplete = React.createClass({\n    propTypes: {\n        id: React.PropTypes.string,\n        placeholder: React.PropTypes.string,\n        value: React.PropTypes.string,\n        superuser: React.PropTypes.string,\n        onChange: React.PropTypes.func,\n    },\n    getInitialState () {\n        var value = this.props.value || \"\";\n        this.updateFiles(value);\n        return {\n            value: value,\n            directory: '/',\n            directoryFiles: null,\n            displayFiles: [],\n            open: false,\n            error: null,\n        };\n    },\n\n    getDirectoryForValue: function(value) {\n        var dir = \"\";\n        var last;\n        if (value) {\n            value = value.trim();\n            last = value.lastIndexOf(\"/\");\n            if (last > -1)\n                dir = value.slice(0, last);\n            dir += \"/\";\n        }\n\n        if (dir.indexOf(\"/\") !== 0)\n            dir = \"/\" + dir;\n\n        return dir;\n    },\n\n    onChange: function(value) {\n        if (value && value.indexOf(\"/\") !== 0)\n            value = \"/\" + value;\n\n        var stateUpdate;\n        if (!this.updateIfDirectoryChanged(value))\n            stateUpdate = this.filterFiles(value);\n        else\n            stateUpdate = {};\n\n        stateUpdate.value = value;\n        this.setState(stateUpdate);\n\n        this.onChangeCallback(value, {\n            error: stateUpdate.error,\n        });\n    },\n    onChangeCallback: function(value, options) {\n        if (this.props.onChange)\n            this.props.onChange(value, options);\n    },\n\n    onMouseDown: function (ev) {\n        // only consider clicks with the primary button\n        if (ev && ev.button !== 0)\n            return;\n\n        if (ev.target.tagName == 'A') {\n            this.setState({\n                selecting: true,\n            });\n        }\n    },\n\n    onBlur: function() {\n        if (this.state.selecting)\n            return;\n\n        if (this.timer)\n            window.clearTimeout(this.timer);\n\n        this.setState({\n            open: false,\n        });\n    },\n\n    delayedOnChange: function(ev) {\n        var self = this;\n        var value = ev.currentTarget.value;\n        if (this.timer)\n            window.clearTimeout(this.timer);\n\n        if (this.state.value !== value)\n            this.timer = window.setTimeout(function() {\n                self.onChange(value);\n                self.timer = null;\n            }, 250);\n    },\n\n    updateFiles: function(path) {\n        var self = this;\n        var channel = cockpit.channel({ payload: \"fslist1\",\n                                        path: path || \"/\",\n                                        superuser: this.props.superuser });\n\n        var results = [];\n        var error = null;\n\n        channel.addEventListener(\"ready\", function () {\n            self.finishUpdate(results, null);\n        });\n\n        channel.addEventListener(\"close\", function (ev, data) {\n            self.finishUpdate(results, error || cockpit.format(cockpit.message(data)));\n        });\n\n        channel.addEventListener(\"message\", function (ev, data) {\n            var item = JSON.parse(data);\n            if (item && item.path) {\n                if (item.type == \"directory\")\n                    item.path = item.path + \"/\";\n                results.push(item);\n            }\n\n\n            if (results.length > 5000) {\n                error = _(\"Too many files found\");\n                channel.close();\n            }\n        });\n    },\n\n    updateIfDirectoryChanged: function(value) {\n        var directory = this.getDirectoryForValue(value);\n        var changed = directory !== this.state.directory;\n        if (changed && this.state.directoryFiles !== null) {\n            this.setState({\n                displayFiles: [],\n                directoryFiles: null,\n                directory: directory,\n                open: false,\n            });\n            this.updateFiles(directory);\n        }\n        return changed;\n    },\n\n    finishUpdate: function(results, error) {\n        results = results.sort(function(a, b) {\n            return a.path.localeCompare(b.path, { sensitivity: 'base' });\n        });\n\n        this.onChangeCallback(this.state.value, {\n            error,\n        });\n\n        this.setState({\n            displayFiles: results,\n            directoryFiles: results,\n            error: error,\n        });\n    },\n\n    filterFiles: function(value) {\n        var inputValue = value.trim().toLowerCase();\n        var dirLength = this.state.directory.length;\n        var matches = [];\n        var inputLength;\n\n        inputValue = inputValue.slice(dirLength);\n        inputLength = inputValue.length;\n\n        var error;\n\n        if (this.state.directoryFiles !== null) {\n            matches = this.state.directoryFiles.filter(function (v) {\n                return v.path.toLowerCase().slice(0, inputLength) === inputValue;\n            });\n\n            if (matches.length < 1)\n                error = _(\"No matching files found\");\n        } else {\n            error = this.state.error;\n        }\n\n        return {\n            displayFiles: matches,\n            open: true,\n            error,\n        };\n    },\n\n    showAllOptions: function (ev) {\n        // only consider clicks with the primary button\n        if (ev && ev.button !== 0)\n            return;\n\n        this.setState({\n            open: !this.state.open,\n            displayFiles: this.state.directoryFiles || [],\n        });\n    },\n\n    selectItem: function (ev) {\n        // only consider clicks with the primary button\n        if (ev && ev.button !== 0)\n            return;\n\n        if (ev.target.tagName == 'A') {\n            var value = ev.target.innerText;\n            var directory = this.state.directory || \"/\";\n\n            if (directory.charAt(directory.length - 1) !== '/')\n                directory = directory + \"/\";\n\n            value = directory + value;\n            this.setState({\n                open: false,\n                value: value,\n                selecting: false,\n            });\n\n            this.onChangeCallback(value, {\n                error: this.state.error,\n            });\n\n            this.refs.input.focus();\n            this.updateIfDirectoryChanged(value);\n        }\n    },\n\n    renderError: function(error) {\n        return (\n            <li className=\"alert alert-warning\">\n                {error}\n            </li>\n        );\n    },\n\n    render: function() {\n        var placeholder = this.props.placeholder || _(\"Path to file\");\n        var controlClasses = \"form-control-feedback \";\n        var classes = \"input-group\";\n        if (this.state.open)\n            classes += \" open\";\n\n        if (this.state.directoryFiles === null)\n            controlClasses += \"spinner spinner-xs spinner-inline\";\n        else\n            controlClasses += \"caret\";\n\n        var listItems;\n\n        if (this.state.error) {\n            listItems = [this.renderError(this.state.error)];\n            classes += \" error\";\n        } else {\n            listItems = React.Children.map(this.state.displayFiles, function(file) {\n                return <li className={file.type}><a data-type={file.type}>{file.path}</a></li>;\n            });\n        }\n\n        return (\n            <div className=\"combobox-container\" id={this.props.id}>\n                <div className={classes}>\n                    <input ref=\"input\" autocomplete=\"false\" placeholder={placeholder} className=\"combobox form-control\" type=\"text\" onChange={this.delayedOnChange} value={this.state.value} onBlur={this.onBlur} />\n                    <span onClick={this.showAllOptions} className={controlClasses}></span>\n                    <ul onMouseDown={this.onMouseDown} onClick={this.selectItem} className=\"typeahead typeahead-long dropdown-menu\">\n                        {listItems}\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n});\n\nmodule.exports = {\n    FileAutoComplete: FileAutoComplete,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-file-autocomplete.jsx","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2015 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n(function() {\n    \"use strict\";\n\n    var $ = require(\"jquery\");\n    var cockpit = require(\"cockpit\");\n\n    var lister = require(\"raw!credentials-ssh-private-keys.sh\");\n    var remove_key = require(\"raw!credentials-ssh-remove-key.sh\");\n\n    var _ = cockpit.gettext;\n\n    function Keys() {\n        var self = this;\n\n        self.path = null;\n        self.items = { };\n\n        var watch = null;\n        var proc = null;\n        var timeout = null;\n\n        cockpit.user().done(function (user) {\n            self.path = user.home + '/.ssh';\n            refresh();\n        });\n\n        function refresh() {\n            if (watch === null) {\n                watch = cockpit.channel({ payload: \"fslist1\", path: self.path });\n                $(watch)\n                    .on(\"close\", function(ev, data) {\n                        $(watch).off();\n                        if (!data.problem || data.problem == \"not-found\") {\n                            watch = null; /* Watch again */\n                        } else {\n                            console.warn(\"couldn't watch \" + self.path + \": \" + (data.message || data.problem));\n                            watch = false; /* Don't watch again */\n                        }\n                    })\n                    .on(\"message\", function(ev, payload) {\n                        var item = JSON.parse(payload);\n                        var name = item.path;\n                        if (name && name.indexOf(\"/\") === -1 && name.slice(-4) === \".pub\") {\n                            if (item.event === \"present\" ||item.event === \"created\" ||\n                                item.event === \"changed\" || item.event === \"deleted\") {\n                                window.clearInterval(timeout);\n                                timeout = window.setTimeout(refresh, 100);\n                            }\n                        }\n                    });\n            }\n\n            if (proc)\n                return;\n\n            window.clearTimeout(timeout);\n            timeout = null;\n\n            proc = cockpit.script(lister, [ self.path ], { err: \"message\" })\n                .always(function() {\n                    proc = null;\n\n                    if (!timeout)\n                        timeout = window.setTimeout(refresh, 5000);\n                })\n                .done(function(data) {\n                    process(data);\n                })\n                .fail(function(ex) {\n                    console.warn(\"failed to list keys in home directory: \" + ex.message);\n                });\n        }\n\n        function process(data) {\n            var blocks = data.split('\\v');\n            var key, items = { };\n\n            /* First block is the data from ssh agent */\n            blocks[0].trim().split(\"\\n\").forEach(function(line) {\n                key = parse_key(line, items);\n                if (key)\n                    key.loaded = true;\n            });\n\n            /* Next come individual triples of blocks */\n            blocks.slice(1).forEach(function(block, i) {\n                switch(i % 3) {\n                case 0:\n                    key = parse_key(block, items);\n                    break;\n                case 1:\n                    if (key) {\n                        block = block.trim();\n                        if (block.slice(-4) === \".pub\")\n                            key.name = block.slice(0, -4);\n                        else if (block)\n                            key.name = block;\n                        else\n                            key.agent_only = true;\n                    }\n                    break;\n                case 2:\n                    if (key)\n                        parse_info(block, key);\n                    break;\n                }\n            });\n\n            self.items = items;\n            $(self).triggerHandler(\"changed\");\n        }\n\n        function parse_key(line, items) {\n            var parts = line.trim().split(\" \");\n            var id, type, comment;\n\n            /* SSHv1 keys */\n            if (!isNaN(parseInt(parts[0], 10))) {\n                id = parts[2];\n                type = \"RSA1\";\n                comment = parts.slice(3).join(\" \");\n\n            } else if (parts[0].indexOf(\"ssh-\") === 0) {\n                id = parts[1];\n                type = parts[0].substring(4).toUpperCase();\n                comment = parts.slice(2).join(\" \");\n            } else if (parts[0].indexOf(\"ecdsa-\") === 0) {\n                id = parts[1];\n                type = \"ECDSA\";\n                comment = parts.slice(2).join(\" \");\n            } else {\n                return;\n            }\n\n            var key = items[id];\n            if (!key)\n                key = items[id] = { };\n\n            key.type = type;\n            key.comment = comment;\n            key.data = line;\n            return key;\n        }\n\n        function parse_info(line, key) {\n            var parts = line.trim().split(\" \");\n            parts = parts.filter(function(n) {\n                return !!n;\n            });\n\n            key.size = parseInt(parts[0], 10);\n            if (isNaN(key.size))\n                key.size = null;\n\n            key.fingerprint = parts[1];\n\n             if (parts[2] && !key.name && parts[2].indexOf(\"/\") !== -1)\n                key.name = parts[2];\n        }\n\n        self.change = function change(name, old_pass, new_pass, two_pass) {\n            var old_exps = [ /.*Enter old passphrase: $/ ];\n            var new_exps = [ /.*Enter new passphrase.*/, /.*Enter same passphrase again: $/ ];\n            var bad_exps = [ /.*failed: passphrase is too short.*/ ];\n\n            var dfd = $.Deferred();\n            var buffer = \"\";\n            var sent_new = false;\n            var failure = _(\"No such file or directory\");\n            var i;\n\n            if (new_pass !== two_pass) {\n                dfd.reject(new Error(_(\"The passwords do not match.\")));\n                return dfd.promise();\n            }\n\n            var proc;\n            var timeout = window.setTimeout(function() {\n                failure = _(\"Prompting via ssh-keygen timed out\");\n                proc.close(\"terminated\");\n            }, 10 * 1000);\n\n            proc = cockpit.spawn([\"ssh-keygen\", \"-p\", \"-f\", name],\n                    { pty: true, environ: [ \"LC_ALL=C\" ], err: \"out\", directory: self.path })\n                .always(function() {\n                    window.clearInterval(timeout);\n                })\n                .done(function() {\n                    dfd.resolve();\n                })\n                .fail(function(ex) {\n                    if (ex.exit_status)\n                        ex = new Error(failure);\n                    dfd.reject(ex);\n                })\n                .stream(function(data) {\n                    buffer += data;\n                    for (i = 0; i < old_exps.length; i++) {\n                        if (old_exps[i].test(buffer)) {\n                            buffer = \"\";\n                            failure = _(\"Old password not accepted\");\n                            this.input(old_pass + \"\\n\", true);\n                            return;\n                        }\n                    }\n\n                    for (i = 0; i < new_exps.length; i++) {\n                        if (new_exps[i].test(buffer)) {\n                            buffer = \"\";\n                            this.input(new_pass + \"\\n\", true);\n                            failure = _(\"Failed to change password\");\n                            sent_new = true;\n                            return;\n                        }\n                    }\n\n                    for (i = 0; sent_new && i < bad_exps.length; i++) {\n                        if (bad_exps[i].test(buffer)) {\n                            failure = _(\"New password was not accepted\");\n                            return;\n                        }\n                    }\n                });\n\n            return dfd.promise();\n        };\n\n        self.load = function(name, password) {\n            var ask_exp =  /.*Enter passphrase for .*/;\n            var perm_exp = /.*UNPROTECTED PRIVATE KEY FILE.*/;\n            var bad_exp = /.*Bad passphrase.*/;\n\n            var dfd = $.Deferred();\n            var buffer = \"\";\n            var output = \"\";\n            var failure = _(\"Not a valid private key\");\n            var sent_password = false;\n\n            var proc;\n            var timeout = window.setTimeout(function() {\n                failure = _(\"Prompting via ssh-add timed out\");\n                proc.close(\"terminated\");\n            }, 10 * 1000);\n\n            proc = cockpit.spawn([\"ssh-add\", name],\n                    { pty: true, environ: [ \"LC_ALL=C\" ], err: \"out\", directory: self.path })\n                .always(function() {\n                    window.clearInterval(timeout);\n                })\n                .done(function() {\n                    refresh();\n                    dfd.resolve();\n                })\n                .fail(function(ex) {\n                    console.log(output);\n                    if (ex.exit_status)\n                        ex = new Error(failure);\n\n                    ex.sent_password = sent_password;\n                    dfd.reject(ex);\n                })\n                .stream(function(data) {\n                    buffer += data;\n                    output += data;\n                    if (perm_exp.test(buffer)) {\n                        failure = _(\"Invalid file permissions\");\n                        buffer = \"\";\n                    } else if (ask_exp.test(buffer)) {\n                        buffer = \"\";\n                        failure = _(\"Password not accepted\");\n                        this.input(password + \"\\n\", true);\n                        sent_password = true;\n                    } else if (bad_exp.test(buffer)) {\n                        buffer = \"\";\n                        this.input(\"\\n\", true);\n                    }\n                });\n\n            return dfd.promise();\n        };\n\n        self.unload = function unload(key) {\n            var proc;\n            var options = { pty: true, err: \"message\", directory: self.path };\n\n            if (key.name && !key.agent_only)\n                proc = cockpit.spawn([\"ssh-add\", \"-d\", key.name], options);\n            else\n                proc = cockpit.script(remove_key, [key.data], options);\n\n            return proc.done(refresh);\n        };\n\n        self.close = function close() {\n            if (watch)\n                watch.close();\n            if (proc)\n                proc.close();\n            window.clearTimeout(timeout);\n            timeout = null;\n        };\n    }\n\n    module.exports = {\n        keys_instance: function () {\n            return new Keys();\n        }\n    };\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/lib/credentials.js\n// module id = 20\n// module chunks = 0 2","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/process/browser.js\n// module id = 21\n// module chunks = 0 2","module.exports = \"#!/bin/sh\\nset -u\\n\\n# The first thing we do is list loaded keys\\nloaded=$(ssh-add -L)\\nresult=\\\"$?\\\"\\n\\nset -e\\n\\nprintf \\\"$loaded\\\"\\n\\n# Get info for each loaded key\\n# ssh-keygen -l -f - is not\\n# supported everywhere so use tempfile\\nif [ $result -eq 0 ]; then\\n    tempfile=$(mktemp)\\n    echo \\\"$loaded\\\" | while read line; do\\n       echo \\\"$line\\\" > \\\"$tempfile\\\"\\n       printf \\\"\\\\v%s\\\\v\\\\v\\\" \\\"$line\\\"\\n       ssh-keygen -l -f \\\"$tempfile\\\" || true\\n    done\\n    rm $tempfile\\nfi\\n\\n# Try to list keys in this directory\\ncd \\\"$1\\\" || exit 0\\n\\n# After that each .pub file gets its on set of blocks\\nfor file in *.pub; do\\n    printf \\\"\\\\v\\\"\\n    cat \\\"$file\\\"\\n    printf \\\"\\\\v%s\\\\v\\\" \\\"$file\\\"\\n    ssh-keygen -l -f \\\"$file\\\" || true\\ndone\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/credentials-ssh-private-keys.sh\n// module id = 22\n// module chunks = 0 2","module.exports = \"#!/bin/sh\\n\\nset -eu\\n\\ntempfile=$(mktemp)\\necho \\\"$1\\\" > \\\"$tempfile\\\"\\nret=0\\nssh-add -d \\\"$tempfile\\\" || ret=1\\nrm \\\"$tempfile\\\"\\nexit $ret\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/credentials-ssh-remove-key.sh\n// module id = 23\n// module chunks = 0 2","'use strict';\n\n(function() {\n    \"use strict\";\n\n    var $ = require('jquery');\n    var cockpit = require('cockpit');\n\n    var unique_number = 0;\n    function unique() {\n        unique_number += 1;\n        return \"unique\" + -(new Date()) + -unique_number;\n    }\n\n    /* Dialog Patterns */\n\n    function clear_errors(sel) {\n        sel.find(\".dialog-error\").remove();\n        sel.find(\".has-error\").removeClass(\"has-error\");\n        sel.find(\".dialog-wrapper\").off(\".dialog-error\");\n        sel.off(\".dialog-error\");\n    }\n\n    function field_error(target, error) {\n        var wrapper = target.parent();\n        var next, refresh;\n\n        if (!wrapper.is(\".dialog-wrapper\")) {\n            wrapper = $(\"<div class='dialog-wrapper'>\").insertBefore(target);\n\n            /*\n             * Some bootstrap plugins replace html controls with their own\n             * stuff, so we have to account for that here.\n             */\n\n            next = target.next();\n            if (next.is(\".bootstrap-select\") && next.selectpicker) {\n                next.remove();\n                refresh = next.selectpicker;\n            }\n\n            target.remove().appendTo(wrapper);\n\n            if (refresh)\n                refresh.call(target);\n        }\n\n        var message;\n        if (error.message)\n            message = $(\"<div class='dialog-error help-block'>\").text(error.message);\n        wrapper.addClass(\"has-error\").append(message);\n\n        if (!wrapper.hasClass(\"error-keep\")) {\n            wrapper.on(\"keypress.dialog-error change.dialog-error\", function() {\n                wrapper.removeClass(\"has-error\")\n                    .find(\".dialog-error.help-block\").css(\"visibility\", \"hidden\");\n            });\n        }\n    }\n\n    function global_error(sel, error) {\n        var alert = $(\"<div class='alert alert-danger dialog-error'>\");\n        var text = error.message || error.toString();\n        alert.text(text);\n        $(\"<span class='fa fa-exclamation-triangle'>\").prependTo(alert);\n\n        /* Always log global dialog errors for easier debugging */\n        console.warn(text);\n\n        var footer = sel.find(\".modal-footer\");\n        if (footer.length)\n            alert.prependTo(footer);\n        else\n            alert.appendTo(sel);\n    }\n\n    function display_errors(sel, errors) {\n        clear_errors(sel);\n\n        /* The list of errors can also be passed as an array */\n        if (errors.length == 1 && $.isArray(errors[0]))\n            errors = errors[0];\n\n        var any = false;\n        errors.forEach(function(error) {\n            var target;\n            if (error) {\n                target = sel.find(error.target);\n\n                /* Errors for a specific field added below that field */\n                if (target && target.length)\n                    field_error(target, error);\n                else\n                    global_error(sel, error);\n\n                any = true;\n            }\n        });\n\n        if (!any)\n            return;\n\n        /* When dialog is shown again, remove all mods */\n        sel.on(\"show.bs.modal.dialog-error\", function() {\n            clear_errors(sel);\n        });\n    }\n\n    function DialogWait(promise, handle) {\n        this.promise = promise;\n        this.disabled = [];\n        this.handle = handle;\n    }\n\n    function clear_wait(sel) {\n        var data = sel.data(\"dialog-wait\");\n        sel.data(\"dialog-wait\", null);\n\n        sel.find(\".dialog-wait-ct\").remove();\n        sel.find(\".btn\").off(\".dialog-wait\");\n        sel.off(\".dialog-wait\");\n\n        if (data) {\n            data.disabled.forEach(function(ctl) {\n                ctl.removeAttr(\"disabled\");\n            });\n        }\n    }\n\n    function display_wait(sel, promise, handle) {\n        clear_wait(sel);\n\n        if (!promise) {\n            if (handle)\n                sel.modal(\"hide\");\n            return sel;\n        }\n\n        /* Clear all errors in the dialog */\n        if (handle)\n            display_errors(sel, []);\n\n        var wait = $(\"<div class='dialog-wait-ct pull-left'>\");\n        $(\"<div class='spinner spinner-sm'>\").appendTo(wait);\n        var message = $(\"<span>\").appendTo(wait);\n\n        sel.find(\".modal-footer button\").first().before(wait);\n\n        var data = new DialogWait(promise, handle);\n        sel.data(\"dialog-wait\", data);\n\n        var cancellation = promise.cancel || promise.close;\n        var cancelled = false;\n\n        /* Disable everything and stash previous disabled state */\n        var controls = sel.find(\".form-control\").add(\".btn\", sel);\n        if (cancellation)\n            controls = controls.not(\"[data-dismiss]\").not(\".btn-cancel\");\n        controls.each(function() {\n            var ctl = $(this);\n            if (!ctl.attr(\"disabled\")) {\n                data.disabled.push(ctl);\n                ctl.attr(\"disabled\", \"disabled\");\n            }\n        });\n\n        sel.find(\".btn[data-dismiss], .btn-cancel\").on(\"click.dialog-wait\", function() {\n            cancelled = true;\n            if (cancellation)\n                cancellation.apply(promise);\n            return false;\n        });\n\n        /* When dialog is shown again, remove all mods */\n        sel.on(\"hide.bs.modal.dialog-wait\", function() {\n            clear_wait(sel);\n        });\n\n        /*\n         * There is no way to remove a callback from a promise\n         * so we have to be careful to only react if still\n         * processing the same promise.\n         */\n        function restore() {\n            var state, data = sel.data(\"dialog-wait\");\n            if (data && data.promise === promise) {\n                clear_wait(sel);\n                state = promise.state();\n                if (cancelled || (state == \"resolved\" && data.handle))\n                    sel.modal('hide');\n                else if (state == \"rejected\" && data.handle)\n                    display_errors(sel, [ arguments[0] ]);\n            }\n        }\n\n        function update(arg) {\n            var data = sel.data(\"dialog-wait\");\n            if (data && data.promise === promise) {\n                if (typeof arg !== \"string\")\n                    arg = \"\";\n                message.text(arg);\n            }\n        }\n\n        promise\n            .always(restore)\n            .progress(update);\n\n        return sel;\n    }\n\n    $.fn.dialog = function dialog(action /* ... */) {\n        if (action === \"failure\")\n            return display_errors(this, Array.prototype.slice.call(arguments, 1));\n        else if (action === \"wait\")\n            return display_wait(this, arguments[1]);\n        else if (action === \"promise\")\n            return display_wait(this, arguments[1], true);\n        else\n            console.warn(\"unknown dialog action: \" + action);\n    };\n\n    window.addEventListener(\"hashchange\", function() {\n        $(\".modal\").modal(\"hide\");\n    });\n\n    /*\n     * OnOff switch pattern\n     */\n\n    function onoff_refresh(sel) {\n        /* During testing, no Cockpit dependency */\n        var _ = cockpit.gettext || function(x) { return x; };\n\n        sel = sel.find(\".btn-onoff-ct\").andSelf().filter(\".btn-onoff-ct\");\n        sel.each(function(x, el) {\n            var self = $(el)\n                .attr(\"data-toggle\", \"buttons\")\n                .addClass(\"btn-group\");\n            var value = self.onoff(\"value\");\n            var buttons = self.find(\".btn\");\n            var name = self.find(\"input\").first().attr(\"name\") || unique();\n            var i, input, text;\n            for (i = buttons.length; i < 2; i++) {\n                input = $('<input type=\"radio\" autocomplete=\"off\">');\n                text = document.createTextNode(i === 0 ? _(\"On\") : _(\"Off\"));\n                self.append($('<label class=\"btn\">').append(input, text));\n                buttons = null;\n            }\n            buttons = buttons || self.find(\".btn\");\n            buttons.find(\"input\").attr(\"name\", name);\n            onoff_change(self, !!value);\n        });\n        return sel;\n    }\n\n    function onoff_value(sel) {\n        return sel.find(\".btn\").first().hasClass(\"active\");\n    }\n\n    function onoff_change(sel, value) {\n        return sel.each(function(i, el) {\n            var buttons = $(el).find(\".btn\");\n            buttons.first().toggleClass(\"active\", !!value).find(\"input\").prop(\"checked\", !!value);\n            buttons.last().toggleClass(\"active\", !value).find(\"input\").prop(\"checked\", !value);\n        });\n    }\n\n    $.fn.onoff = function onoff(action /* ... */) {\n        if (arguments.length === 0 || action == \"refresh\") {\n            return onoff_refresh(this);\n        } else if (action === \"value\") {\n            if (arguments.length === 1)\n                return onoff_value(this);\n            else\n                return onoff_change(this, arguments[1]);\n        } else if (action == \"disabled\") {\n            return this.find(\".btn\").toggleClass(\"disabled\", arguments[1]);\n        } else {\n            console.warn(\"unknown switch action: \" + action);\n        }\n    };\n\n    /* ----------------------------------------------------------------------------\n     * Sliders\n     *\n     * <div class=\"slider\" value=\"0.5\">\n     *    <div class=\"slider-bar\">\n     *        <div class=\"slider-thumb\"></div>\n     *    </div>\n     *    <div class=\"slider-bar\">\n     *        <!-- optional left overs -->\n     *    </div>\n     * </div>\n     *\n     * A slider control. The first div.slider-bar is the one that is resized.\n     * The value will be bounded between 0 and 1 as a floating point number.\n     *\n     * The following div.slider-bar if present is resized to fill the remainder\n     * of the slider if not given a specific size. You can put more div.slider-bar\n     * inside it to reflect squashing other prevous allocations.\n     *\n     * If the following div.slider-bar have a width specified, then the\n     * slider supports the concept of overflowing. If the slider overflows\n     * it will get the .slider-warning class and go a bit red.\n     *\n     * On document creation any div.slider are automatically turned into\n     * Bar graphs.\n     *\n     * Slider has the following extra read/write properties:\n     *\n     * .value: the floating point value the slider is set to.\n     * .disabled: whether to display slider as disabled and refuse interacton.\n     *\n     * Slider has this event:\n     *\n     * on('change'): fired when the slider changes, passes value as additional arg.\n     */\n\n    function resize_flex(slider, flex, total, part) {\n        var value = 0;\n        if (part > total)\n            value = 1;\n        else if (part < 0 || isNaN(part))\n            value = 0;\n        else if (!isNaN(total) && total > 0 && part >= 0)\n            value = (part / total);\n        $(flex).css('width', (value * 100) + \"%\").\n            next(\"div\").css('margin-left', $(flex).css('width'));\n\n        /* Set the property and the attribute */\n        slider.value = value;\n    }\n\n    function update_value(slider) {\n        resize_flex(slider, $(slider).children(\"div.slider-bar\").first()[0], 1, slider.value);\n    }\n\n    function check_overflow(slider) {\n        $(slider).toggleClass(\"slider-warning\",\n                              slider.offsetWidth < slider.scrollWidth);\n    }\n\n    function setup_slider(slider) {\n        $(slider).attr('unselectable', 'on');\n\n        Object.defineProperty(slider, \"value\", {\n            get: function() {\n                return parseFloat(this.getAttribute(\"value\"));\n            },\n            set: function(v) {\n                var s = String(v);\n                if (s != this.getAttribute(\"value\")) {\n                    this.setAttribute(\"value\", v);\n                    update_value(slider);\n                    check_overflow(slider);\n                }\n            }\n        });\n\n        Object.defineProperty(slider, \"disabled\", {\n            get: function() {\n                if (!this.hasAttribute(\"disabled\"))\n                    return false;\n                return this.getAttribute(\"disabled\").toLowerCase() != \"false\";\n            },\n            set: function(v) {\n                this.setAttribute(\"disabled\", v ? \"true\" : \"false\");\n            }\n        });\n\n        update_value(slider);\n        check_overflow(slider);\n\n        $(slider).on(\"change\", function() {\n            update_value(slider);\n            $(slider).toggleClass(\"slider-disabled\", slider.disabled);\n        });\n\n        if (slider.disabled)\n            $(slider).addClass(\"slider-disabled\");\n\n        $(slider).on(\"mousedown\", function(ev) {\n            if (slider.disabled)\n                return true; /* default action */\n            var flex;\n            var offset = $(slider).offset().left;\n            if ($(ev.target).hasClass(\"slider-thumb\")) {\n                var hitx  = (ev.offsetX || ev.clientX - $(ev.target).offset().left);\n                offset += (hitx - $(ev.target).outerWidth() / 2);\n                flex = $(ev.target).parent()[0];\n            } else {\n                flex = $(slider).children(\"div.slider-bar\").first()[0];\n                resize_flex(slider, flex, $(slider).width(), (ev.pageX - offset));\n                $(slider).trigger(\"change\", [slider.value]);\n                check_overflow(slider);\n            }\n\n            $(document).\n                on(\"mousemove.slider\", function(ev) {\n                    resize_flex(slider, flex, $(slider).width(), (ev.pageX - offset));\n                    $(slider).trigger(\"change\", [slider.value]);\n                    check_overflow(slider);\n                    return false;\n                }).\n                on(\"mouseup.slider\", function(ev) {\n                    $(document).\n                        off(\"mousemove.slider\").\n                        off(\"mouseup.slider\");\n                    return false;\n                });\n            return false; /* no default action */\n        });\n    }\n\n    function setup_sliders() {\n        $(\"div.slider\").each(function() {\n            setup_slider(this);\n        });\n    }\n\n    $.fn.slider = function Slider(action) {\n        var sel = this;\n        if (arguments.length === 0 || action == \"refresh\") {\n            sel.each(function() {\n                setup_slider(this);\n            });\n            return sel;\n        } else {\n            console.warn(\"unknown slider action: \" + action);\n        }\n    };\n\n    $(document).ready(setup_sliders);\n\n    /* -----------------------------------------------------------------------------\n     * Privileged UI actions.\n     */\n\n    // placement is optional, \"top\", \"left\", \"bottom\", \"right\"\n    $.fn.update_privileged = function update_privileged(perm, denied_message, placement) {\n        var allowed = (perm.allowed !== false);\n        var selector = this;\n\n        selector.each(function() {\n            // preserve old title first time to use when allowed\n            // activate tooltip\n            var allowed_key = 'allowed-title';\n            if (typeof $(this).data(allowed_key) === 'undefined' ||\n                   $(this).data(allowed_key) === false)\n                $(this).data(allowed_key, $(this).attr('title') || \"\");\n\n            var options = { html: true };\n            if (placement)\n                options['placement'] = placement;\n\n            $(this).tooltip(options);\n\n            if ($(this).hasClass(\"disabled\") === allowed) {\n              $(this).toggleClass(\"disabled\", !allowed)\n                   .attr('data-original-title', null);\n\n              if (allowed)\n                  $(this).attr('title', $(this).data(allowed_key));\n              else\n                  $(this).attr('title', denied_message);\n              $(this).tooltip('fixTitle');\n            }\n        });\n\n        return selector;\n    };\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/lib/patterns.js\n// module id = 25\n// module chunks = 0 2","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2015 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n(function() {\n    \"use strict\";\n\n    var $ = require(\"jquery\");\n    var cockpit = require(\"cockpit\");\n\n    var mustache = require(\"mustache\");\n\n    var machines = require(\"machines\");\n    var credentials = require(\"credentials\");\n    require(\"patterns\");\n\n    var add_tmpl = require(\"raw!machine-add.html\");\n    var auth_failed_tmpl = require(\"raw!machine-auth-failed.html\");\n    var change_auth_tmpl = require(\"raw!machine-change-auth.html\");\n    var change_port_tmpl = require(\"raw!machine-change-port.html\");\n    var color_picker_tmpl = require(\"raw!machine-color-picker.html\");\n    var invalid_hostkey_tmpl = require(\"raw!machine-invalid-hostkey.html\");\n    var not_supported_tmpl = require(\"raw!machine-not-supported.html\");\n    var sync_users_tmpl = require(\"raw!machine-sync-users.html\");\n    var unknown_hosts_tmpl = require(\"raw!machine-unknown-hostkey.html\");\n\n    var _ = cockpit.gettext;\n\n    var default_codes = {\n        \"no-cockpit\": \"not-supported\",\n        \"not-supported\": \"not-supported\",\n        \"protocol-error\": \"not-supported\",\n        \"authentication-not-supported\": \"change-auth\",\n        \"authentication-failed\": \"change-auth\",\n        \"no-forwarding\": \"change-auth\",\n        \"unknown-hostkey\": \"unknown-hostkey\",\n        \"invalid-hostkey\": \"invalid-hostkey\",\n        \"not-found\": \"add-machine\",\n        \"unknown-host\": \"unknown-host\",\n        \"sync-users\": \"sync-users\"\n    };\n\n    function translate_and_init(tmpl) {\n        var tmp = $(\"<div>\").append(tmpl);\n        tmp.find(\"[translatable=\\\"yes\\\"]\").each(function(i, e) {\n            var old = e.outerHTML;\n            var translated = cockpit.gettext(e.getAttribute(\"context\"), $(e).text());\n            $(e).removeAttr(\"translatable\").text(translated);\n            tmpl = tmpl.replace(old, e.outerHTML);\n        });\n        mustache.parse(tmpl);\n        return tmpl;\n    }\n\n    var templates = {\n        \"add-machine\" : translate_and_init(add_tmpl),\n        \"auth-failed\" : translate_and_init(auth_failed_tmpl),\n        \"change-auth\" : translate_and_init(change_auth_tmpl),\n        \"change-port\" : translate_and_init(change_port_tmpl),\n        \"color-picker\" : translate_and_init(color_picker_tmpl),\n        \"invalid-hostkey\" : translate_and_init(invalid_hostkey_tmpl),\n        \"not-supported\" : translate_and_init(not_supported_tmpl),\n        \"sync-users\" : translate_and_init(sync_users_tmpl),\n        \"unknown-hostkey\" : translate_and_init(unknown_hosts_tmpl),\n        \"unknown-host\" : translate_and_init(unknown_hosts_tmpl)\n    };\n\n    function full_address(machines_ins, address) {\n        var machine = machines_ins.lookup(address);\n        if (machine && machine.address != \"localhost\")\n            return machine.connection_string;\n\n        return address;\n    }\n\n    function Dialog(selector, address, machines_ins, codes) {\n        var self = this;\n\n        self.machines_ins = machines_ins;\n        self.codes = codes;\n        self.address = full_address(self.machines_ins, address);\n\n        var promise_callback = null;\n\n        var success_callback = null;\n\n        var current_template = null;\n        var current_instance = null;\n\n        function address_or_label() {\n            var machine = self.machines_ins.lookup(self.address);\n            var host = self.machines_ins.split_connection_string(self.address).address;\n            if (machine && machine.label)\n                host = machine.label;\n            return host;\n        }\n\n        function change_content(template, error_options) {\n            var old_instance = current_instance;\n\n            if (current_template === template)\n                return;\n\n            if (template == \"add-machine\")\n                current_instance = new AddMachine(self);\n            else if (template == \"sync-users\")\n                current_instance = new SyncUsers(self);\n            else if (template == \"unknown-hostkey\" || template == \"unknown-host\")\n                current_instance = new HostKey(self, template);\n            else if (template == \"invalid-hostkey\")\n                current_instance = new HostKey(self, template);\n            else if (template == \"change-auth\")\n                current_instance = new ChangeAuth(self);\n            else if (template == \"change-port\")\n                current_instance = new MachinePort(self);\n            else\n                current_instance = new Simple(self);\n\n            current_template = template;\n            current_instance.load(error_options);\n\n            if (old_instance && old_instance.close)\n                old_instance.close();\n            old_instance = null;\n        }\n\n        self.try_to_connect = function(address, options) {\n            var dfd = $.Deferred();\n            var conn_options = $.extend({ \"payload\": \"echo\",\n                                          \"host\": address },\n                                        options);\n\n            var machine = self.machines_ins.lookup(address);\n            if (machine && machine.host_key && !machine.on_disk) {\n                conn_options['temp-session'] = false; /* Compatiblity option */\n                conn_options['session'] = 'shared';\n                conn_options['host-key'] = machine.host_key;\n            }\n            var client = cockpit.channel(conn_options);\n            client.send(\"x\");\n            $(client)\n               .on(\"message\", function() {\n                    $(client).off();\n                    client.close();\n                    dfd.resolve();\n                })\n                .on(\"close\", function(event, options) {\n                    dfd.reject(options);\n                });\n\n            return dfd.promise();\n        };\n\n        self.get_sel = function(child_selector) {\n            var ret_txt = selector;\n            if (child_selector)\n                ret_txt = ret_txt + \" \" + child_selector;\n            return $(ret_txt);\n        };\n\n        self.set_on_success = function (callback) {\n            success_callback = callback;\n        };\n\n        self.set_goal = function (callback) {\n            promise_callback = callback;\n        };\n\n        self.complete = function(val) {\n            if (success_callback)\n                success_callback(val);\n            else\n                $(selector).modal('hide');\n        };\n\n        self.render = function render(data, template) {\n            if (!template)\n                template = current_template;\n\n            var address_data = self.machines_ins.split_connection_string(self.address);\n            var context = $.extend({\n                'host' : address_or_label(),\n                'full_address' : self.address,\n                'context_title' : self.context_title,\n                'strong' : function() {\n                    return function(text, render) {\n                        return \"<strong>\" + render(text) + \"</strong>\";\n                    };\n                }\n            }, data, address_data);\n\n            var output = $(mustache.render(templates[template], context));\n            cockpit.translate(output);\n            self.get_sel(\".modal-content\").html(output);\n        };\n\n        self.render_error = function render_error(error) {\n            var template;\n            if (error.problem && error.command == \"close\")\n                template = self.codes[error.problem];\n\n            if (template && current_template !== template)\n                change_content(template, error);\n            else\n                $(selector).dialog(\"failure\", cockpit.message(error));\n        };\n\n        self.render_template = function render_template(template) {\n            change_content(template);\n        };\n\n        self.show = function () {\n            var sel = self.get_sel();\n            sel.on('hide.bs.modal', function () {\n                self.get_sel(\".model-content\").empty();\n            });\n            sel.modal('show');\n        };\n\n        self.run = function (promise, failure_callback) {\n            var dialog_dfd = $.Deferred();\n            var promise_funcs = [];\n\n            function next(i) {\n                promise_funcs[i]()\n                    .done(function(val) {\n                        i = i + 1;\n                        if (i < promise_funcs.length) {\n                            next(i);\n                        } else {\n                            dialog_dfd.resolve();\n                            self.complete(val);\n                        }\n                    })\n                    .fail(function(ex) {\n                        if (failure_callback)\n                            failure_callback(ex);\n                        else\n                            self.render_error(ex);\n                        dialog_dfd.reject(ex);\n                    });\n            }\n\n            promise_funcs.push(function() {\n                return promise;\n            });\n\n            self.get_sel().dialog(\"wait\", dialog_dfd.promise());\n            if (promise_callback)\n                promise_funcs.push(promise_callback);\n\n            next(0);\n        };\n    }\n\n    function is_method_supported(methods, method) {\n        var result = methods[method];\n        return result ? result != \"no-server-support\" : false;\n    }\n\n    function MachineColorPicker(machines_ins) {\n        var self = this;\n\n        self.render = function(selector, address, selected_color) {\n            var machine;\n\n            if (address && !selected_color) {\n                machine = machines_ins.lookup(address);\n                if (machine)\n                    selected_color = machine.color;\n            }\n\n            if (!selected_color)\n                selected_color = machines_ins.unused_color();\n\n            var part, colors = [];\n            for (var i = 0; i < machines.colors.length; i += 6) {\n                part = machines.colors.slice(i, i+6);\n                colors.push({\"list\" : part});\n            }\n\n            var text = mustache.render(templates[\"color-picker\"], { 'colors' : colors, });\n            $(selector).html(text);\n\n            $(\"#host-edit-color\", selector).css(\"background-color\", selected_color);\n            $(\".color-cell\", selector).each(function(index) {\n                $(this).css(\"background-color\", machines.colors[index]);\n            });\n\n            $('#host-edit-color-popover .popover-content .color-cell', selector)\n                .click(function() {\n                    var color = $(this).css('background-color');\n                    $('#host-edit-color', selector).css('background-color', color);\n                });\n\n            $(\"#host-edit-color\", selector).parent().\n                on('show.bs.dropdown', function () {\n                    var $div = $('#host-edit-color', selector);\n                    var $pop = $('#host-edit-color-popover', selector);\n                    var div_pos = $div.position();\n                    var div_width = $div.width();\n                    var div_height = $div.height();\n                    var pop_width = $pop.width();\n                    var pop_height = $pop.height();\n\n                    var top = div_pos.top - pop_height + 10;\n                    if (top < 0) {\n                        top = div_pos.top + div_height + 10;\n                        $pop.addClass(\"bottom\");\n                        $pop.removeClass(\"top\");\n                    } else {\n                        $pop.addClass(\"top\");\n                        $pop.removeClass(\"bottom\");\n                    }\n                    $pop.css('left', div_pos.left + (div_width - pop_width) / 2);\n                    $pop.css('top', top);\n                    $pop.show();\n                }).\n                on('hide.bs.dropdown', function () {\n                    $('#host-edit-color-popover', selector).hide();\n                });\n        };\n    }\n\n    function Simple(dialog) {\n        var self = this;\n\n        self.load = function() {\n            dialog.render();\n        };\n    }\n\n    function AddMachine(dialog) {\n        var self = this;\n        var color = null;\n        var selector = dialog.get_sel();\n        var run_error = null;\n\n        var invisible = dialog.machines_ins.addresses.filter(function(addr) {\n            var m = dialog.machines_ins.lookup(addr);\n            return !m || !m.visible;\n        });\n\n        function existing_error(address) {\n            var ex = null;\n            var machine = dialog.machines_ins.lookup(address);\n            if (machine && machine.visible && machine.on_disk) {\n                ex = new Error(_(\"This machine has already been added.\"));\n                ex.target = \"#add-machine-address\";\n            }\n            return ex;\n        }\n\n        function check_address(evt) {\n            var disabled = true;\n            var ex = null;\n\n            var addr = $('#add-machine-address').val();\n            var button = dialog.get_sel(\".btn-primary\");\n            if (addr === \"\") {\n                disabled = true;\n            } else if (!machines.allow_connection_string &&\n                       (addr.indexOf('@') > -1 || addr.indexOf(':') > -1)) {\n                ex = new Error(_(\"This version of cockpit-ws does not support connecting to a host with an alternate user or port\"));\n            } else if (addr.search(/\\s+/) === -1) {\n                ex = existing_error(addr);\n                if (!ex)\n                    disabled = false;\n            } else {\n                ex = new Error(_(\"The IP address or host name cannot contain whitespace.\"));\n            }\n\n            if (ex)\n                ex.target = \"#add-machine-address\";\n\n            if (run_error)\n                selector.dialog(\"failure\", run_error, ex);\n            else\n                selector.dialog(\"failure\", ex);\n\n            button.prop(\"disabled\", disabled);\n        }\n\n        function add_machine() {\n            run_error = null;\n            dialog.address = $('#add-machine-address').val();\n            color = machines.colors.parse($('#add-machine-color-picker #host-edit-color').css('background-color'));\n            if (existing_error(dialog.address))\n                return;\n\n            dialog.set_goal(function() {\n                var dfp = $.Deferred();\n                dialog.machines_ins.add(dialog.address, color)\n                    .done(dfp.resolve)\n                    .fail(function (ex) {\n                        var msg = cockpit.format(_(\"Failed to add machine: $0\"),\n                                                 cockpit.message(ex));\n                        dfp.reject(msg);\n                    });\n\n                return dfp.promise();\n            });\n\n            dialog.run(dialog.try_to_connect(dialog.address), function (ex) {\n                if (ex.problem == \"no-host\") {\n                    var host_id_port = dialog.address;\n                    var port_index = host_id_port.lastIndexOf(\":\");\n                    var port = \"22\";\n                    if (port_index === -1)\n                        host_id_port = dialog.address + \":22\";\n                    else\n                        port = host_id_port.substr(port_index + 1);\n                    ex.message = cockpit.format(_(\"Cockpit could not contact the given host $0. Make sure it has ssh running on port $1, or specify another port in the address.\"), host_id_port, port);\n                    ex = cockpit.message(ex);\n                    run_error = ex;\n                }\n                dialog.render_error(ex);\n            });\n        }\n\n        self.load = function() {\n            var manifest = cockpit.manifests[\"shell\"] || {};\n            var limit = parseInt(manifest[\"machine-limit\"], 10);\n            var color_picker = new MachineColorPicker(dialog.machines_ins);\n            if (!limit || isNaN(limit))\n                limit = 20;\n\n            dialog.render({\n                'nearlimit' : limit * 0.75 <= dialog.machines_ins.list.length,\n                'limit' : limit,\n                'placeholder' : _(\"Enter IP address or host name\"),\n                'options' : invisible,\n            });\n\n            var button = dialog.get_sel(\".btn-primary\");\n            button.on(\"click\", add_machine);\n\n            $(\"#add-machine-address\").on(\"keyup\", function (ev) {\n                if (ev.which === 13) {\n                    var disabled = button.prop('disabled');\n                    if (!disabled)\n                        add_machine();\n                }\n            });\n            $(\"#add-machine-address\").on(\"input focus\", check_address);\n            color_picker.render(\"#add-machine-color-picker\", dialog.address, color);\n            $(\"#add-machine-address\").focus();\n        };\n    }\n\n    function MachinePort(dialog) {\n        var self = this;\n\n        function change_port() {\n            var dfp = $.Deferred();\n            var parts = dialog.machines_ins.split_connection_string(dialog.address);\n            parts.port = $(\"#edit-machine-port\").val();\n            var address = dialog.machines_ins.generate_connection_string(parts.user,\n                                                                  parts.port,\n                                                                  parts.address);\n            function update_host(ex) {\n                dialog.address = address;\n                dialog.machines_ins.change(parts.address, { \"port\": parts.port })\n                    .done(function () {\n                        // We failed before so try to connect again\n                        // now that the machine is saved.\n                        if (ex) {\n                            dialog.try_to_connect(address)\n                                .done(dialog.complete)\n                                .fail(function (e) {\n                                    dfp.reject(e);\n                                });\n                        } else {\n                            dfp.resolve();\n                        }\n                    })\n                    .fail(function (ex) {\n                        var msg = cockpit.format(_(\"Failed to edit machine: $0\"),\n                                                 cockpit.message(ex));\n                        dfp.reject(msg);\n                    });\n            }\n\n            dialog.try_to_connect(address)\n                .done(function () {\n                    update_host();\n                })\n                .fail(function (ex) {\n                    /* any other error means progress, so save */\n                    if (ex.problem != 'no-host')\n                        update_host(ex);\n                    else\n                        dfp.reject(ex);\n                });\n\n            dialog.run(dfp.promise());\n        }\n\n        self.load = function() {\n            var machine = dialog.machines_ins.lookup(dialog.address);\n            if (!machine) {\n                dialog.get_sel().modal('hide');\n                return;\n            }\n\n            dialog.render({ 'port' : machine.port,\n                            'allow_connection_string' : machines.allow_connection_string });\n            if (machines.allow_connection_string)\n                dialog.get_sel(\".btn-primary\").on(\"click\", change_port);\n        };\n    }\n\n    function HostKey(dialog, problem) {\n        var self = this;\n        var error_options = null;\n        var key = null;\n        var allow_change = (problem == \"unknown-hostkey\" ||\n                            problem == \"unknown-host\");\n\n        function add_key() {\n            var q;\n            var machine = dialog.machines_ins.lookup(dialog.address);\n            if (!machine || machine.on_disk) {\n                q = dialog.machines_ins.add_key(key);\n            } else {\n                /* When machine isn't saved to disk\n                   don't save the key either */\n                q = dialog.machines_ins.change(dialog.address, {\n                    'host_key': key\n                });\n            }\n\n            var promise = q.then(function () {\n                var inner = dialog.try_to_connect(dialog.address);\n\n                inner.fail(function(ex) {\n                    if ((ex.problem == \"invalid-hostkey\" ||\n                        ex.problem == \"unknown-hostkey\") &&\n                        machine && !machine.on_disk) {\n                            dialog.machines_ins.change(dialog.address, {\n                                'host_key': null\n                            });\n                        }\n                    });\n\n                return inner;\n            });\n\n            dialog.run(promise);\n        }\n\n        function render() {\n            var promise = null;\n            var options = {};\n            var match_problem = problem;\n            var fp;\n            var path = machines.known_hosts_path;\n\n            if (error_options) {\n                key = error_options[\"host-key\"];\n                fp = error_options[\"host-fingerprint\"];\n                if (error_options[\"invalid-hostkey-file\"])\n                    path = error_options[\"invalid-hostkey-file\"];\n            }\n\n            dialog.render({\n                'context_title' : dialog.context_title,\n                'path' : path,\n                'key' : fp,\n                'key_host' : key ? key.split(' ')[0] : null,\n            });\n\n            if (!key) {\n                if (problem == \"unknown-host\") {\n                    options[\"session\"] = \"private\";\n                    match_problem = \"unknown-hostkey\";\n                }\n\n                promise = dialog.try_to_connect(dialog.address, options)\n                    .fail(function(ex) {\n                        if (ex.problem != match_problem) {\n                            dialog.render_error(ex);\n                        } else {\n                            error_options = ex;\n                            render();\n                        }\n                    })\n\n                    // Fixed already, just close\n                    .done(function (v) {\n                        dialog.complete(v);\n                    });\n\n                dialog.get_sel().dialog(\"wait\", promise);\n            } else if (allow_change) {\n                dialog.get_sel(\".btn-primary\").on(\"click\", add_key);\n            }\n        }\n\n        self.load = function(ex) {\n            error_options = ex;\n            render();\n        };\n    }\n\n    function ChangeAuth(dialog) {\n        var self = this;\n        var error_options = null;\n        var keys = null;\n        var have_ticket = null;\n        var machine = dialog.machines_ins.lookup(dialog.address);\n\n        self.user = { };\n\n        function update_available() {\n            var key_div = dialog.get_sel('.keys');\n            var have_keys = false;\n\n            if (key_div) {\n                key_div.empty();\n                for (var id in keys.items) {\n                    var key = keys.items[id];\n                    if (key.loaded) {\n                        have_keys = true;\n                        key_div.append($(\"<div>\").text(key.name || key.comment));\n                    }\n                }\n            }\n\n            var empty_div = dialog.get_sel('.empty');\n            if (empty_div)\n                empty_div.toggleClass(\"hidden\", have_keys);\n        }\n\n        function login() {\n            var address;\n            var options = {};\n            var dfp = $.Deferred();\n            var user = $(\"#login-custom-user\").val();\n\n            var parts = dialog.machines_ins.split_connection_string(dialog.address);\n            parts.user = user;\n\n            address = dialog.machines_ins.generate_connection_string(parts.user,\n                                                              parts.port,\n                                                              parts.address);\n\n            if ($(\"#login-type button\").val() != 'stored') {\n                options['password'] = $(\"#login-custom-password\").val();\n                options[\"session\"] = 'shared';\n                if (!user) {\n                    /* we don't want to save the default user for everyone\n                     * so we pass current user as an option, but make sure the\n                     * session isn't private\n                     */\n                    if (self.user && self.user.name)\n                        options[\"user\"] = self.user.name;\n                    options[\"temp-session\"] = false; /* Compatibility option */\n                }\n            }\n\n            dialog.try_to_connect(address, options)\n                .done(function () {\n                    dialog.address = address;\n                    if (machine) {\n                        dialog.machines_ins.change(machine.address, { \"user\" : user })\n                            .done(dfp.resolve)\n                            .fail(dfp.reject);\n                    } else {\n                        dfp.resolve();\n                    }\n                })\n                .fail(dfp.reject);\n\n            dialog.run(dfp.promise());\n        }\n\n        function change_login_type(value) {\n            var stored = value != 'password';\n            var text = $(\"#login-type li[value=\" + value + \"]\").text();\n            $(\"#login-type button\").val(value);\n            $(\"#login-type button span\").text(text);\n            $(\"#login-available\").toggle(stored);\n            $(\"#login-diff-password\").toggle(!stored);\n        }\n\n        function render() {\n            var promise = null;\n            var template = \"change-auth\";\n            if (!machines.allow_connection_string || !machines.has_auth_results)\n                template = \"auth-failed\";\n\n            var no_password = false;\n            var methods = null;\n            var available = null;\n            var supported = null;\n\n            var machine_user = dialog.machines_ins.split_connection_string(dialog.address).user;\n            if (!machine_user && machine)\n                machine_user = machine.user;\n\n            if (error_options && machines.has_auth_results) {\n                supported = {};\n                available = {};\n\n                methods = error_options[\"auth-method-results\"];\n                if (methods) {\n                    no_password = methods['password'] === \"not-provided\";\n                    for (var method in methods) {\n                        if (is_method_supported(methods, method)) {\n                            available[method] = true;\n                        }\n                    }\n                }\n\n                if ($.isEmptyObject(available))\n                    template = \"auth-failed\";\n            }\n\n            dialog.render({\n                'supported' : methods,\n                'available' : available,\n                'machine_user' : machine_user,\n                'default_user' : self.user ? self.user.name : \"\",\n                'show_password' : available && available.password && !no_password,\n                'show_ticket': available && available['gssapi-mic'] && have_ticket,\n                'can_sync': !!dialog.codes['sync-users'],\n                'machines.allow_connection_string' : machines.allow_connection_string,\n                'sync_link' : function() {\n                    return function(text, render) {\n                        return '<a id=\"do-sync-users\">' + render(text) + \"</a>\";\n                    };\n                }\n            }, template);\n\n            if (methods === null && machines.has_auth_results) {\n                promise = dialog.try_to_connect(dialog.address)\n                    .fail(function(ex) {\n                        error_options = ex;\n                        render();\n                    })\n\n                    // Fixed already, just close\n                    .done(function (v) {\n                        dialog.complete(v);\n                    });\n\n                dialog.get_sel().dialog(\"wait\", promise);\n            } else if (!$.isEmptyObject(available)) {\n                $(\"#login-type li\").on('click', function() {\n                    change_login_type($(this).attr(\"value\"));\n                });\n                change_login_type($(\"#login-type li:first-child\").attr(\"value\"));\n                dialog.get_sel(\".btn-primary\").on(\"click\", login);\n                dialog.get_sel(\"a[data-content]\").popover();\n\n                update_available();\n            }\n\n            dialog.get_sel(\"#do-sync-users\").on(\"click\", function () {\n                dialog.render_template(\"sync-users\");\n            });\n        }\n\n        self.load = function(ex) {\n            error_options = ex;\n            if (credentials) {\n                keys = credentials.keys_instance();\n                $(keys).on(\"changed\", update_available);\n            }\n\n            cockpit.spawn([\"klist\", \"-s\"])\n                .fail(function (ex) {\n                    have_ticket = false;\n                })\n                .done(function (done) {\n                    have_ticket = true;\n                })\n                .always(function () {\n                    cockpit.user()\n                        .done(function (user) {\n                            self.user = user;\n                        })\n                        .always(function (user) {\n                            render();\n                        });\n                });\n        };\n\n        self.close = function(ex) {\n            if (keys) {\n                $(keys).off();\n                keys.close();\n            }\n            keys = null;\n        };\n    }\n\n    function SyncUsers(dialog) {\n        var self = this;\n        var users = {};\n\n        var needs_auth = false;\n        var needs_root = false;\n        var methods = null;\n        var remote_options = { \"superuser\": true };\n\n        var perm_failed = null;\n\n        function load_users() {\n            var local = cockpit.dbus(null, { bus: \"internal\",\n                                             host: \"localhost\",\n                                             superuser: true });\n            $(local).on(\"close\", function(event, options) {\n                perm_failed = options;\n                render();\n            });\n\n            var proxy = local.proxy(\"cockpit.Setup\", \"/setup\");\n            proxy.wait(function () {\n                if (proxy.valid) {\n                    var blank = {\n                        \"t\" : \"(asas)\",\n                        \"v\" : [[], []]\n                    };\n\n                    proxy.Transfer(\"passwd1\", blank)\n                        .done(function(prepared) {\n                            var i, parts, name;\n                            var groups = prepared.v[1];\n\n                            for (i = 0; i < prepared.v[0].length; i++) {\n                                var raw = prepared.v[0][i];\n\n                                parts = raw.split(\":\");\n                                name = parts[0];\n\n                                users[name] = {\n                                    \"username\" : name,\n                                    \"name\" : parts[4] || name,\n                                    \"raw\" : raw,\n                                    \"groups\" : [],\n                                };\n                            }\n\n                            for (i = 0; i < groups.length; i++) {\n                                parts = groups[i].split(\":\");\n                                name = parts[0];\n                                var members = parts[parts.length - 1].split(\",\");\n                                for (var j = 0; j < members.length; j++) {\n                                    var u = members[j];\n                                    if (users[u])\n                                        users[u].groups.push(name);\n                                }\n                            }\n                        })\n                        .fail(function(ex) {\n                            ex.message = cockpit.gettext(ex.message);\n                            perm_failed = ex;\n                        })\n                        .always(function(ex) {\n                            $(local).off();\n                            local.close();\n                            render();\n                        });\n                }\n            });\n        }\n\n        function sync_users() {\n            var client = null;\n\n            var dfd = $.Deferred();\n            var promise = dfd.promise();\n\n            dialog.run(promise);\n\n            /* A successfull sync should close the dialog */\n            dialog.set_on_success(null);\n\n            promise.always(function () {\n                if (client) {\n                    $(client).off();\n                    client.close();\n                }\n            });\n\n            var options = { bus: \"internal\" };\n            if (needs_auth) {\n                options.user = $(\"#sync-username\").val();\n                options.password = $(\"#sync-password\").val();\n            }\n            $.extend(options, remote_options, { host: dialog.address });\n            client = cockpit.dbus(null, options);\n            $(client).on(\"close\", function(event, ex) {\n                dfd.reject(cockpit.message(ex));\n            });\n\n            var variant = {\n                \"t\" : \"(asas)\",\n                \"v\" : [[]],\n            };\n\n            var groups = {};\n            dialog.get_sel(\"input:checked\").each( function() {\n                var u = users[$(this).attr(\"name\")];\n                if (u) {\n                    variant.v[0].push(u.raw);\n                    for (var i = 0; i < u.groups.length; i++) {\n                        var group = u.groups[i];\n                        if (!groups[group])\n                            groups[group] = [];\n\n                        groups[group].push(u.username);\n                    }\n                }\n            });\n            variant.v.push(Object.keys(groups).map(function(k) {\n                return k + \":::\" + groups[k].join();\n            }));\n\n            /* We assume all cockpits support the 'passwd1' mechanism */\n            var proxy = client.proxy(\"cockpit.Setup\", \"/setup\");\n            proxy.wait(function() {\n                if (proxy.valid) {\n                    proxy.Commit(\"passwd1\", variant)\n                        .fail(function(ex) {\n                            ex.message = cockpit.gettext(ex.message);\n                            dfd.reject(ex);\n                        })\n                        .done(dfd.resolve);\n                }\n            });\n        }\n\n        function toggle_button() {\n            var any = dialog.get_sel(\"input:checked\").length > 0;\n            dialog.get_sel(\".btn-primary\").toggleClass(\"disabled\", !any);\n        }\n\n        function render() {\n            function formated_groups() {\n                /*jshint validthis:true */\n                if (this.groups)\n                    return this.groups.join(\", \");\n            }\n\n            /* assume password is allowed for backwards compatibility */\n            var allows_password = true;\n            var user_list = Object.keys(users).sort().map(function(v) {\n                return users[v];\n            });\n\n            if (machines.has_auth_results && methods)\n                allows_password = is_method_supported(methods, 'password');\n\n            var text = dialog.render({\n                'needs_auth' : needs_auth,\n                'needs_root' : needs_root,\n                'users' : user_list,\n                'perm_failed' : perm_failed ? cockpit.message(perm_failed) : null,\n                'allows_password' : allows_password,\n                'formated_groups': formated_groups,\n            });\n\n            dialog.get_sel(\".modal-content\").html(text);\n            dialog.get_sel(\".btn-primary\").on(\"click\", sync_users);\n            dialog.get_sel(\"input:checkbox\").on(\"change\", function() {\n                var name = $(this).attr(\"name\");\n                users[name].checked = $(this).is(':checked');\n                toggle_button();\n            });\n            toggle_button();\n        }\n\n        self.load = function(error_options) {\n            if (error_options)\n                methods = error_options['auth-method-results'];\n\n            render();\n            dialog.try_to_connect(dialog.address, remote_options).fail(function(ex) {\n                needs_auth = true;\n                if (ex.problem == \"access-denied\") {\n                    needs_root = true;\n                    if (!methods && machines.has_auth_results)\n                        /* TODO: We need to know if password auth is\n                         * supported but we only get that when the transport\n                         * closes. Passing an invalid username should\n                         * open new transport that fails.\n                         */\n                        dialog.try_to_connect(dialog.address, { \"user\" : \"1\" })\n                            .fail(function(ex) {\n                                methods = ex['auth-method-results'];\n                            })\n                            .always(render);\n                } else {\n                    methods = ex['auth-method-results'];\n                    render();\n                }\n            });\n            load_users();\n        };\n    }\n\n    function MachineDialogManager(machines_ins, codes) {\n        var self = this;\n\n        if (!codes)\n            codes = default_codes;\n\n        var color_picker = new MachineColorPicker(machines_ins);\n\n        self.troubleshoot = function(target_id, machine) {\n            var selector = \"#\" + target_id;\n            if (!machine || !machine.problem)\n                return;\n\n            var template = codes[machine.problem];\n            if (machine.problem == \"no-host\")\n                template = \"change-port\";\n\n            var dialog = new Dialog(selector, machine.address, machines_ins, codes);\n            dialog.render_template(template);\n            dialog.show();\n        };\n\n        self.needs_troubleshoot = function (machine) {\n            if (!machine || !machine.problem)\n                return false;\n\n            if (machine.problem == \"no-host\")\n                return true;\n\n            return codes[machine.problem] ? true : false;\n        };\n\n        self.render_dialog = function (template, target_id, address) {\n            var selector = \"#\" + target_id;\n            var dialog = new Dialog(selector, address, machines_ins, codes);\n            dialog.render_template(template);\n            dialog.show();\n        };\n\n        self.render_color_picker = function (selector, address) {\n            color_picker.render(selector, address);\n        };\n    }\n\n    module.exports = {\n        new_manager: function (machines_ins, codes) {\n            return new MachineDialogManager(machines_ins, codes);\n        }\n    };\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/lib/machine-dialogs.js\n// module id = 26\n// module chunks = 0 2","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar cockpit = require(\"cockpit\");\nvar mustache = require(\"mustache/mustache\");\n\n/*\n * Turns a mustache template into a translated mustache template\n * by preparsing it and translating it.\n */\nvar cache = { };\n\nfunction translate(template) {\n    if (template in cache)\n        return cache[template];\n    var div = document.createElement(\"div\");\n    div.innerHTML = template;\n    cockpit.translate(div);\n    var result = div.innerHTML;\n    cache[template] = result;\n    return result;\n}\n\n/* Just like the mustache object, except for translated */\nmodule.exports = cockpit.extend({ }, mustache, {\n    render: function render(template, view, partials) {\n        if (!view)\n            view = {};\n\n        return translate(mustache.render(template, view, partials));\n    },\n    to_html: function to_html(template, view, partials, send) {\n        if (!view)\n            view = {};\n\n        return translate(mustache.to_html(template, view, partials, send));\n    },\n    clearCache: function clearCache() {\n        cache = { };\n        return mustache.clearCache();\n    }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/lib/mustache.js\n// module id = 27\n// module chunks = 0 2","/*!\n * mustache.js - Logic-less {{mustache}} templates with JavaScript\n * http://github.com/janl/mustache.js\n */\n\n/*global define: false Mustache: true*/\n\n(function defineMustache (global, factory) {\n  if (typeof exports === 'object' && exports && typeof exports.nodeName !== 'string') {\n    factory(exports); // CommonJS\n  } else if (typeof define === 'function' && define.amd) {\n    define(['exports'], factory); // AMD\n  } else {\n    global.Mustache = {};\n    factory(global.Mustache); // script, wsh, asp\n  }\n}(this, function mustacheFactory (mustache) {\n\n  var objectToString = Object.prototype.toString;\n  var isArray = Array.isArray || function isArrayPolyfill (object) {\n    return objectToString.call(object) === '[object Array]';\n  };\n\n  function isFunction (object) {\n    return typeof object === 'function';\n  }\n\n  /**\n   * More correct typeof string handling array\n   * which normally returns typeof 'object'\n   */\n  function typeStr (obj) {\n    return isArray(obj) ? 'array' : typeof obj;\n  }\n\n  function escapeRegExp (string) {\n    return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, '\\\\$&');\n  }\n\n  /**\n   * Null safe way of checking whether or not an object,\n   * including its prototype, has a given property\n   */\n  function hasProperty (obj, propName) {\n    return obj != null && typeof obj === 'object' && (propName in obj);\n  }\n\n  // Workaround for https://issues.apache.org/jira/browse/COUCHDB-577\n  // See https://github.com/janl/mustache.js/issues/189\n  var regExpTest = RegExp.prototype.test;\n  function testRegExp (re, string) {\n    return regExpTest.call(re, string);\n  }\n\n  var nonSpaceRe = /\\S/;\n  function isWhitespace (string) {\n    return !testRegExp(nonSpaceRe, string);\n  }\n\n  var entityMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '/': '&#x2F;',\n    '`': '&#x60;',\n    '=': '&#x3D;'\n  };\n\n  function escapeHtml (string) {\n    return String(string).replace(/[&<>\"'`=\\/]/g, function fromEntityMap (s) {\n      return entityMap[s];\n    });\n  }\n\n  var whiteRe = /\\s*/;\n  var spaceRe = /\\s+/;\n  var equalsRe = /\\s*=/;\n  var curlyRe = /\\s*\\}/;\n  var tagRe = /#|\\^|\\/|>|\\{|&|=|!/;\n\n  /**\n   * Breaks up the given `template` string into a tree of tokens. If the `tags`\n   * argument is given here it must be an array with two string values: the\n   * opening and closing tags used in the template (e.g. [ \"<%\", \"%>\" ]). Of\n   * course, the default is to use mustaches (i.e. mustache.tags).\n   *\n   * A token is an array with at least 4 elements. The first element is the\n   * mustache symbol that was used inside the tag, e.g. \"#\" or \"&\". If the tag\n   * did not contain a symbol (i.e. {{myValue}}) this element is \"name\". For\n   * all text that appears outside a symbol this element is \"text\".\n   *\n   * The second element of a token is its \"value\". For mustache tags this is\n   * whatever else was inside the tag besides the opening symbol. For text tokens\n   * this is the text itself.\n   *\n   * The third and fourth elements of the token are the start and end indices,\n   * respectively, of the token in the original template.\n   *\n   * Tokens that are the root node of a subtree contain two more elements: 1) an\n   * array of tokens in the subtree and 2) the index in the original template at\n   * which the closing tag for that section begins.\n   */\n  function parseTemplate (template, tags) {\n    if (!template)\n      return [];\n\n    var sections = [];     // Stack to hold section tokens\n    var tokens = [];       // Buffer to hold the tokens\n    var spaces = [];       // Indices of whitespace tokens on the current line\n    var hasTag = false;    // Is there a {{tag}} on the current line?\n    var nonSpace = false;  // Is there a non-space char on the current line?\n\n    // Strips all whitespace tokens array for the current line\n    // if there was a {{#tag}} on it and otherwise only space.\n    function stripSpace () {\n      if (hasTag && !nonSpace) {\n        while (spaces.length)\n          delete tokens[spaces.pop()];\n      } else {\n        spaces = [];\n      }\n\n      hasTag = false;\n      nonSpace = false;\n    }\n\n    var openingTagRe, closingTagRe, closingCurlyRe;\n    function compileTags (tagsToCompile) {\n      if (typeof tagsToCompile === 'string')\n        tagsToCompile = tagsToCompile.split(spaceRe, 2);\n\n      if (!isArray(tagsToCompile) || tagsToCompile.length !== 2)\n        throw new Error('Invalid tags: ' + tagsToCompile);\n\n      openingTagRe = new RegExp(escapeRegExp(tagsToCompile[0]) + '\\\\s*');\n      closingTagRe = new RegExp('\\\\s*' + escapeRegExp(tagsToCompile[1]));\n      closingCurlyRe = new RegExp('\\\\s*' + escapeRegExp('}' + tagsToCompile[1]));\n    }\n\n    compileTags(tags || mustache.tags);\n\n    var scanner = new Scanner(template);\n\n    var start, type, value, chr, token, openSection;\n    while (!scanner.eos()) {\n      start = scanner.pos;\n\n      // Match any text between tags.\n      value = scanner.scanUntil(openingTagRe);\n\n      if (value) {\n        for (var i = 0, valueLength = value.length; i < valueLength; ++i) {\n          chr = value.charAt(i);\n\n          if (isWhitespace(chr)) {\n            spaces.push(tokens.length);\n          } else {\n            nonSpace = true;\n          }\n\n          tokens.push([ 'text', chr, start, start + 1 ]);\n          start += 1;\n\n          // Check for whitespace on the current line.\n          if (chr === '\\n')\n            stripSpace();\n        }\n      }\n\n      // Match the opening tag.\n      if (!scanner.scan(openingTagRe))\n        break;\n\n      hasTag = true;\n\n      // Get the tag type.\n      type = scanner.scan(tagRe) || 'name';\n      scanner.scan(whiteRe);\n\n      // Get the tag value.\n      if (type === '=') {\n        value = scanner.scanUntil(equalsRe);\n        scanner.scan(equalsRe);\n        scanner.scanUntil(closingTagRe);\n      } else if (type === '{') {\n        value = scanner.scanUntil(closingCurlyRe);\n        scanner.scan(curlyRe);\n        scanner.scanUntil(closingTagRe);\n        type = '&';\n      } else {\n        value = scanner.scanUntil(closingTagRe);\n      }\n\n      // Match the closing tag.\n      if (!scanner.scan(closingTagRe))\n        throw new Error('Unclosed tag at ' + scanner.pos);\n\n      token = [ type, value, start, scanner.pos ];\n      tokens.push(token);\n\n      if (type === '#' || type === '^') {\n        sections.push(token);\n      } else if (type === '/') {\n        // Check section nesting.\n        openSection = sections.pop();\n\n        if (!openSection)\n          throw new Error('Unopened section \"' + value + '\" at ' + start);\n\n        if (openSection[1] !== value)\n          throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + start);\n      } else if (type === 'name' || type === '{' || type === '&') {\n        nonSpace = true;\n      } else if (type === '=') {\n        // Set the tags for the next time around.\n        compileTags(value);\n      }\n    }\n\n    // Make sure there are no open sections when we're done.\n    openSection = sections.pop();\n\n    if (openSection)\n      throw new Error('Unclosed section \"' + openSection[1] + '\" at ' + scanner.pos);\n\n    return nestTokens(squashTokens(tokens));\n  }\n\n  /**\n   * Combines the values of consecutive text tokens in the given `tokens` array\n   * to a single token.\n   */\n  function squashTokens (tokens) {\n    var squashedTokens = [];\n\n    var token, lastToken;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      if (token) {\n        if (token[0] === 'text' && lastToken && lastToken[0] === 'text') {\n          lastToken[1] += token[1];\n          lastToken[3] = token[3];\n        } else {\n          squashedTokens.push(token);\n          lastToken = token;\n        }\n      }\n    }\n\n    return squashedTokens;\n  }\n\n  /**\n   * Forms the given array of `tokens` into a nested tree structure where\n   * tokens that represent a section have two additional items: 1) an array of\n   * all tokens that appear in that section and 2) the index in the original\n   * template that represents the end of that section.\n   */\n  function nestTokens (tokens) {\n    var nestedTokens = [];\n    var collector = nestedTokens;\n    var sections = [];\n\n    var token, section;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      token = tokens[i];\n\n      switch (token[0]) {\n        case '#':\n        case '^':\n          collector.push(token);\n          sections.push(token);\n          collector = token[4] = [];\n          break;\n        case '/':\n          section = sections.pop();\n          section[5] = token[2];\n          collector = sections.length > 0 ? sections[sections.length - 1][4] : nestedTokens;\n          break;\n        default:\n          collector.push(token);\n      }\n    }\n\n    return nestedTokens;\n  }\n\n  /**\n   * A simple string scanner that is used by the template parser to find\n   * tokens in template strings.\n   */\n  function Scanner (string) {\n    this.string = string;\n    this.tail = string;\n    this.pos = 0;\n  }\n\n  /**\n   * Returns `true` if the tail is empty (end of string).\n   */\n  Scanner.prototype.eos = function eos () {\n    return this.tail === '';\n  };\n\n  /**\n   * Tries to match the given regular expression at the current position.\n   * Returns the matched text if it can match, the empty string otherwise.\n   */\n  Scanner.prototype.scan = function scan (re) {\n    var match = this.tail.match(re);\n\n    if (!match || match.index !== 0)\n      return '';\n\n    var string = match[0];\n\n    this.tail = this.tail.substring(string.length);\n    this.pos += string.length;\n\n    return string;\n  };\n\n  /**\n   * Skips all text until the given regular expression can be matched. Returns\n   * the skipped string, which is the entire tail if no match can be made.\n   */\n  Scanner.prototype.scanUntil = function scanUntil (re) {\n    var index = this.tail.search(re), match;\n\n    switch (index) {\n      case -1:\n        match = this.tail;\n        this.tail = '';\n        break;\n      case 0:\n        match = '';\n        break;\n      default:\n        match = this.tail.substring(0, index);\n        this.tail = this.tail.substring(index);\n    }\n\n    this.pos += match.length;\n\n    return match;\n  };\n\n  /**\n   * Represents a rendering context by wrapping a view object and\n   * maintaining a reference to the parent context.\n   */\n  function Context (view, parentContext) {\n    this.view = view;\n    this.cache = { '.': this.view };\n    this.parent = parentContext;\n  }\n\n  /**\n   * Creates a new context using the given view with this context\n   * as the parent.\n   */\n  Context.prototype.push = function push (view) {\n    return new Context(view, this);\n  };\n\n  /**\n   * Returns the value of the given name in this context, traversing\n   * up the context hierarchy if the value is absent in this context's view.\n   */\n  Context.prototype.lookup = function lookup (name) {\n    var cache = this.cache;\n\n    var value;\n    if (cache.hasOwnProperty(name)) {\n      value = cache[name];\n    } else {\n      var context = this, names, index, lookupHit = false;\n\n      while (context) {\n        if (name.indexOf('.') > 0) {\n          value = context.view;\n          names = name.split('.');\n          index = 0;\n\n          /**\n           * Using the dot notion path in `name`, we descend through the\n           * nested objects.\n           *\n           * To be certain that the lookup has been successful, we have to\n           * check if the last object in the path actually has the property\n           * we are looking for. We store the result in `lookupHit`.\n           *\n           * This is specially necessary for when the value has been set to\n           * `undefined` and we want to avoid looking up parent contexts.\n           **/\n          while (value != null && index < names.length) {\n            if (index === names.length - 1)\n              lookupHit = hasProperty(value, names[index]);\n\n            value = value[names[index++]];\n          }\n        } else {\n          value = context.view[name];\n          lookupHit = hasProperty(context.view, name);\n        }\n\n        if (lookupHit)\n          break;\n\n        context = context.parent;\n      }\n\n      cache[name] = value;\n    }\n\n    if (isFunction(value))\n      value = value.call(this.view);\n\n    return value;\n  };\n\n  /**\n   * A Writer knows how to take a stream of tokens and render them to a\n   * string, given a context. It also maintains a cache of templates to\n   * avoid the need to parse the same template twice.\n   */\n  function Writer () {\n    this.cache = {};\n  }\n\n  /**\n   * Clears all cached templates in this writer.\n   */\n  Writer.prototype.clearCache = function clearCache () {\n    this.cache = {};\n  };\n\n  /**\n   * Parses and caches the given `template` and returns the array of tokens\n   * that is generated from the parse.\n   */\n  Writer.prototype.parse = function parse (template, tags) {\n    var cache = this.cache;\n    var tokens = cache[template];\n\n    if (tokens == null)\n      tokens = cache[template] = parseTemplate(template, tags);\n\n    return tokens;\n  };\n\n  /**\n   * High-level method that is used to render the given `template` with\n   * the given `view`.\n   *\n   * The optional `partials` argument may be an object that contains the\n   * names and templates of partials that are used in the template. It may\n   * also be a function that is used to load partial templates on the fly\n   * that takes a single argument: the name of the partial.\n   */\n  Writer.prototype.render = function render (template, view, partials) {\n    var tokens = this.parse(template);\n    var context = (view instanceof Context) ? view : new Context(view);\n    return this.renderTokens(tokens, context, partials, template);\n  };\n\n  /**\n   * Low-level method that renders the given array of `tokens` using\n   * the given `context` and `partials`.\n   *\n   * Note: The `originalTemplate` is only ever used to extract the portion\n   * of the original template that was contained in a higher-order section.\n   * If the template doesn't use higher-order sections, this argument may\n   * be omitted.\n   */\n  Writer.prototype.renderTokens = function renderTokens (tokens, context, partials, originalTemplate) {\n    var buffer = '';\n\n    var token, symbol, value;\n    for (var i = 0, numTokens = tokens.length; i < numTokens; ++i) {\n      value = undefined;\n      token = tokens[i];\n      symbol = token[0];\n\n      if (symbol === '#') value = this.renderSection(token, context, partials, originalTemplate);\n      else if (symbol === '^') value = this.renderInverted(token, context, partials, originalTemplate);\n      else if (symbol === '>') value = this.renderPartial(token, context, partials, originalTemplate);\n      else if (symbol === '&') value = this.unescapedValue(token, context);\n      else if (symbol === 'name') value = this.escapedValue(token, context);\n      else if (symbol === 'text') value = this.rawValue(token);\n\n      if (value !== undefined)\n        buffer += value;\n    }\n\n    return buffer;\n  };\n\n  Writer.prototype.renderSection = function renderSection (token, context, partials, originalTemplate) {\n    var self = this;\n    var buffer = '';\n    var value = context.lookup(token[1]);\n\n    // This function is used to render an arbitrary template\n    // in the current context by higher-order sections.\n    function subRender (template) {\n      return self.render(template, context, partials);\n    }\n\n    if (!value) return;\n\n    if (isArray(value)) {\n      for (var j = 0, valueLength = value.length; j < valueLength; ++j) {\n        buffer += this.renderTokens(token[4], context.push(value[j]), partials, originalTemplate);\n      }\n    } else if (typeof value === 'object' || typeof value === 'string' || typeof value === 'number') {\n      buffer += this.renderTokens(token[4], context.push(value), partials, originalTemplate);\n    } else if (isFunction(value)) {\n      if (typeof originalTemplate !== 'string')\n        throw new Error('Cannot use higher-order sections without the original template');\n\n      // Extract the portion of the original template that the section contains.\n      value = value.call(context.view, originalTemplate.slice(token[3], token[5]), subRender);\n\n      if (value != null)\n        buffer += value;\n    } else {\n      buffer += this.renderTokens(token[4], context, partials, originalTemplate);\n    }\n    return buffer;\n  };\n\n  Writer.prototype.renderInverted = function renderInverted (token, context, partials, originalTemplate) {\n    var value = context.lookup(token[1]);\n\n    // Use JavaScript's definition of falsy. Include empty arrays.\n    // See https://github.com/janl/mustache.js/issues/186\n    if (!value || (isArray(value) && value.length === 0))\n      return this.renderTokens(token[4], context, partials, originalTemplate);\n  };\n\n  Writer.prototype.renderPartial = function renderPartial (token, context, partials) {\n    if (!partials) return;\n\n    var value = isFunction(partials) ? partials(token[1]) : partials[token[1]];\n    if (value != null)\n      return this.renderTokens(this.parse(value), context, partials, value);\n  };\n\n  Writer.prototype.unescapedValue = function unescapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return value;\n  };\n\n  Writer.prototype.escapedValue = function escapedValue (token, context) {\n    var value = context.lookup(token[1]);\n    if (value != null)\n      return mustache.escape(value);\n  };\n\n  Writer.prototype.rawValue = function rawValue (token) {\n    return token[1];\n  };\n\n  mustache.name = 'mustache.js';\n  mustache.version = '2.2.1';\n  mustache.tags = [ '{{', '}}' ];\n\n  // All high-level mustache.* functions use this writer.\n  var defaultWriter = new Writer();\n\n  /**\n   * Clears all cached templates in the default writer.\n   */\n  mustache.clearCache = function clearCache () {\n    return defaultWriter.clearCache();\n  };\n\n  /**\n   * Parses and caches the given template in the default writer and returns the\n   * array of tokens it contains. Doing this ahead of time avoids the need to\n   * parse templates on the fly as they are rendered.\n   */\n  mustache.parse = function parse (template, tags) {\n    return defaultWriter.parse(template, tags);\n  };\n\n  /**\n   * Renders the `template` with the given `view` and `partials` using the\n   * default writer.\n   */\n  mustache.render = function render (template, view, partials) {\n    if (typeof template !== 'string') {\n      throw new TypeError('Invalid template! Template should be a \"string\" ' +\n                          'but \"' + typeStr(template) + '\" was given as the first ' +\n                          'argument for mustache#render(template, view, partials)');\n    }\n\n    return defaultWriter.render(template, view, partials);\n  };\n\n  // This is here for backwards compatibility with 0.4.x.,\n  /*eslint-disable */ // eslint wants camel cased function name\n  mustache.to_html = function to_html (template, view, partials, send) {\n    /*eslint-enable*/\n\n    var result = mustache.render(template, view, partials);\n\n    if (isFunction(send)) {\n      send(result);\n    } else {\n      return result;\n    }\n  };\n\n  // Export the escaping function so that the user may override it.\n  // See https://github.com/janl/mustache.js/issues/244\n  mustache.escape = escapeHtml;\n\n  // Export these mainly for testing, but also for advanced usage.\n  mustache.Scanner = Scanner;\n  mustache.Context = Context;\n  mustache.Writer = Writer;\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/mustache/mustache.js\n// module id = 28\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Add Machine to Dashboard</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td class=\\\"top\\\" translatable=\\\"yes\\\">Address</td>\\n                <td>\\n                <div class=\\\"dialog-wrapper error-keep\\\">\\n                    <input class=\\\"form-control\\\" id=\\\"add-machine-address\\\"\\n                       type=\\\"test\\\" value=\\\"{{ full_address }}\\\"\\n                       list=\\\"options\\\"\\n                       placeholder=\\\"{{ placeholder }}\\\"/>\\n                    <datalist id=\\\"options\\\">\\n                        {{#options}}\\n                        <option value=\\\"{{.}}\\\">\\n                        {{/options}}\\n                    </datalist>\\n                </div>\\n                </td>\\n            </tr>\\n            <tr>\\n                <td translatable=\\\"yes\\\">Color</td>\\n                <td id=\\\"add-machine-color-picker\\\">\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    {{#nearlimit}}\\n    <div class=\\\"alert alert-warning dialog-error dashboard-machine-warning\\\">\\n        <span class=\\\"pficon pficon-warning-triangle-o\\\"></span>\\n        <span translatable=\\\"yes\\\">Connecting simultaneously to more than {{ limit }} machines is unsupported.</span>\\n    </div>\\n    {{/nearlimit}}\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Add</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-add.html\n// module id = 29\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Authentication Failed</h4>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    {{#supported}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log into {{#strong}}{{host}}{{/strong}}. To use this machine with cockpit you will need to enable one of the following authentication methods in the sshd config on {{#strong}}{{host}}{{/strong}}:</p>\\n    <ul>\\n        {{#password}}<li translatable=\\\"yes\\\">Password</li>{{/password}}\\n        {{#public-key}}<li translatable=\\\"yes\\\">Public Key</li>{{/public-key}}\\n        {{#gssapi-mic}}<li translatable=\\\"yes\\\">Kerberos Based SSO</li>{{/gssapi-mic}}\\n    </ul>\\n    {{/supported}}\\n\\n    {{^supported}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log in to {{#strong}}{{host}}{{/strong}}. {{#can_sync}}You may want to try to {{#sync_link}}synchronize users{{/sync_link}}.{{/can_sync}} For more authentication options and troubleshooting support please upgrade cockpit-ws to a newer version.</p>\\n    {{/supported}}\\n\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-primary\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-auth-failed.html\n// module id = 30\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Log in to {{host}}</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    {{^available}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log into {{#strong}}{{host}}{{/strong}}.</p>\\n    {{/available}}\\n\\n    {{#available}}\\n    <p translatable=\\\"yes\\\">Cockpit was unable to log into {{#strong}}{{host}}{{/strong}}. You can change your authentication credentials below. {{#can_sync}}You may prefer to {{#sync_link}}synchronize accounts and passwords{{/sync_link}}.{{/can_sync}}</p>\\n\\n    <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td translatable=\\\"yes\\\" class=\\\"top\\\">User name</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"login-custom-user\\\" type=\\\"text\\\" value=\\\"{{machine_user}}\\\" placeholder=\\\"{{ default_user }}\\\"/>\\n                </td>\\n                <td>\\n                    <a tabindex=\\\"0\\\" role=\\\"button\\\" data-toggle=\\\"popover\\\"\\n                        data-trigger=\\\"focus\\\" data-placement=\\\"bottom\\\" translate=\\\"data-content\\\"\\n                        data-content=\\\"Leave blank to connect to this machine as the currently logged in user{{#default_user}} ({{default_user}}){{/default_user}}. If you enter a different username, that user will always be used connecting to this machine.\\\">\\n                        <span class=\\\"fa fa-lg fa-info-circle\\\"></span>\\n                    </a>\\n                </td>\\n            </tr>\\n\\n            <tr>\\n                <td translatable=\\\"yes\\\">Authentication</td>\\n                <td>\\n                    <div class=\\\"btn-group bootstrap-select dropdown form-control\\\" id=\\\"login-type\\\">\\n                        <button class=\\\"btn btn-default dropdown-toggle\\\" type=\\\"button\\\"\\n                            data-toggle=\\\"dropdown\\\">\\n                            <span class=\\\"pull-left\\\" translatable=\\\"yes\\\"></span>\\n                            <div class=\\\"caret\\\"></div>\\n                        </button>\\n                        <ul class=\\\"dropdown-menu\\\">\\n                            {{#password}}\\n                            <li value=\\\"password\\\"><a translate>Type a password</a></li>\\n                            {{/password}}\\n                            <li value=\\\"stored\\\"><a translate>Using available credentials</a></li>\\n                        </ul>\\n                    </div>\\n                </td>\\n            </tr>\\n\\n            {{#password}}\\n            <tr id=\\\"login-diff-password\\\">\\n                <td translatable=\\\"yes\\\" class=\\\"top\\\">Password</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"login-custom-password\\\" type=\\\"password\\\" />\\n                </td>\\n                <td>\\n                    <a tabindex=\\\"0\\\" role=\\\"button\\\" data-toggle=\\\"popover\\\"\\n                        data-trigger=\\\"focus\\\" data-placement=\\\"bottom\\\" translate=\\\"data-content\\\"\\n                        data-content=\\\"Entering a different password here means you will need to retype it every time you reconnect to this machine\\\">\\n                        <span class=\\\"fa fa-lg fa-info-circle\\\"></span>\\n                    </a>\\n                </td>\\n            </tr>\\n            {{/password}}\\n            <tr id=\\\"login-available\\\">\\n                <td translatable=\\\"yes\\\" class=\\\"top\\\">Available</td>\\n                <td class=\\\"top\\\">\\n                        {{#show_password}}<div translate>Login Password</div>{{/show_password}}\\n                        {{#show_ticket}}<div translate>Kerberos Ticket</div>{{/show_ticket}}\\n                        {{^show_password}}{{^show_ticket}}<div class=\\\"empty hidden\\\">No available credentials</div>{{/show_ticket}}{{/show_password}}\\n                        {{#public-key}}<div class=\\\"keys\\\"><div class='dialog-wait-ct pull-left'><div class='spinner spinner-sm'></div><span translatable=\\\"yes\\\">Checking for public keys</span></div></div>{{/public-key}}\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n    {{/available}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Log In</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-change-auth.html\n// module id = 31\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Could not contact {{host}}</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    <p>\\n        <span translatable=\\\"yes\\\">Cockpit was unable to contact {{#strong}}{{host}}{{/strong}}.</span>\\n        {{^allow_connection_string}}\\n        <span translatable=\\\"yes\\\">To try a different port you will need to upgrade cockpit-ws to a newer version.</span>\\n        {{/allow_connection_string}}\\n\\n        {{#allow_connection_string}}\\n        <span translatable=\\\"yes\\\">Is sshd running on a different port?</span>\\n        {{/allow_connection_string}}\\n    </p>\\n\\n    {{#allow_connection_string}}\\n    <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td class=\\\"top\\\" translatable=\\\"yes\\\">Port</td>\\n                <td>\\n                <div class=\\\"dialog-wrapper error-keep\\\">\\n                    <input id=\\\"edit-machine-port\\\" class=\\\"form-control\\\"\\n                       type=\\\"test\\\" value=\\\"{{ port }}\\\"\\n                       list=\\\"options\\\"\\n                       placeholder=\\\"22\\\"/>\\n                </div>\\n                </td>\\n            </tr>\\n        </table>\\n    </div>\\n    {{/allow_connection_string}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    {{#allow_connection_string}}\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Update</button>\\n    {{/allow_connection_string}}\\n\\n    {{^allow_connection_string}}\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n    {{/allow_connection_string}}\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-change-port.html\n// module id = 32\n// module chunks = 0 2","module.exports = \"<div>\\n    <div id=\\\"host-edit-color\\\" data-toggle=\\\"dropdown\\\"></div>\\n    <div id=\\\"host-edit-color-popover\\\" class=\\\"popover in\\\" tabindex=\\\"-1\\\">\\n        <div class=\\\"arrow\\\"></div>\\n        <div class=\\\"popover-content\\\">\\n            {{#colors}}\\n            <div>\\n                {{#list}}\\n                <div class=\\\"color-cell\\\"></div>\\n                {{/list}}\\n            </div>\\n            {{/colors}}\\n        </div>\\n        <div class=\\\"arrow\\\"></div>\\n    </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-color-picker.html\n// module id = 33\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Incorrect Host Key</h4>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <div class=\\\"banned\\\">\\n        <i class=\\\"fa fa-ban\\\"></i>\\n    </div>\\n    <p translatable=\\\"yes\\\">The key of {{#strong}}{{host}}{{/strong}} does not match the key previously in use. Unless this machine was recently replaced, it is likely that someone is trying to attack your connection to this machine.</p>\\n\\n    {{#key_host}}\\n    <p translatable=\\\"yes\\\">You can remove the previously stored key by running the following command</p>\\n\\n    <pre class=\\\"center\\\">ssh-keygen -R {{ key_host }} -f {{ path }}</pre>\\n    {{/key_host}}\\n\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-invalid-hostkey.html\n// module id = 34\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Cockpit is not installed</h4>\\n</div>\\n<div class=\\\"modal-body\\\">\\n    <p translatable=\\\"yes\\\">A compatible version of Cockpit is not installed on {{#strong}}{{host}}{{/strong}}.</p>\\n</div>\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-not-supported.html\n// module id = 35\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"\\n        aria-hidden=\\\"true\\\">&times;</button>\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Synchronize users</h4>\\n</div>\\n\\n<div class=\\\"modal-body\\\">\\n    <p translatable=\\\"yes\\\">Select the users that you would like to be synchronized with {{#strong}}{{host}}{{/strong}}</p>\\n\\n{{#perm_failed}}\\n    <div class=\\\"alert alert-danger dialog-error\\\">\\n        <span class=\\\"fa fa-exclamation-triangle\\\"></span>\\n        <span translatable=\\\"yes\\\">Error loading users: {{perm_failed}}</span>\\n    </div>\\n{{/perm_failed}}\\n\\n{{^perm_failed}}\\n    <div id=\\\"sync-users\\\">\\n        <table class=\\\"table\\\">\\n        <tbody>\\n        {{^users}}\\n            <tr>\\n                  <td>\\n                    <div class=\\\"center-spinner\\\">\\n                        <div class=\\\"spinner spinner-lg\\\"></div>\\n                    </div>\\n                  </td>\\n            </tr>\\n        {{/users}}\\n\\n        {{#users}}\\n              <tr>\\n                  <td><input type=\\\"checkbox\\\" name=\\\"{{username}}\\\" {{#checked}}checked=checked{{/checked}} /></td>\\n                  <td>{{username}}</td>\\n                  <td>{{name}}</td>\\n                  <td>&#8226;&#8226;&#8226;&#8226;&#8226;</td>\\n                  <td>{{formated_groups}}</td>\\n              </tr>\\n        {{/users}}\\n        </tbody>\\n        </table>\\n    </div>\\n\\n    {{#needs_auth}}\\n    <div>\\n        {{#needs_root}}\\n        <p translatable=\\\"yes\\\">You are connected to {{#strong}}{{host}}{{/strong}}, however in order to synchronize users, a user with superuser privileges is required.</p>\\n        {{/needs_root}}\\n        {{^needs_root}}\\n        <p translatable=\\\"yes\\\">In order to synchronize users, you need to log in to {{#strong}}{{host}}{{/strong}}.</p>\\n        {{/needs_root}}\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td translatable=\\\"yes\\\">User name</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"sync-username\\\" type=\\\"text\\\" />\\n                </td>\\n            </tr>\\n            {{#allows_password}}\\n            <tr>\\n                <td translatable=\\\"yes\\\">Password</td>\\n                <td>\\n                    <input class=\\\"form-control\\\" id=\\\"sync-password\\\" type=\\\"password\\\" />\\n                </td>\\n            </tr>\\n            {{/allows_password}}\\n        </table>\\n    </div>\\n    {{/needs_auth}}\\n{{/perm_failed}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Cancel</button>\\n    <button class=\\\"btn btn-primary disabled\\\" translatable=\\\"yes\\\">Synchronize</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-sync-users.html\n// module id = 36\n// module chunks = 0 2","module.exports = \"<div class=\\\"modal-header\\\">\\n    <h4 class=\\\"modal-title\\\" translatable=\\\"yes\\\">Unknown Host Key</h4>\\n</div>\\n<div id=\\\"add-unknown-host\\\" class=\\\"modal-body\\\">\\n    {{#key}}\\n        <p translatable=\\\"yes\\\">The authenticity of host {{#strong}}{{host}}{{/strong}} can't be established. Are you sure you want to continue connecting?</p>\\n        <div>\\n        <table class=\\\"form-table-ct\\\">\\n            <tr>\\n                <td translatable=\\\"yes\\\">Fingerprint</td>\\n                <td><pre class=\\\"machine-key\\\">{{key}} </pre></td>\\n            </tr>\\n        </table>\\n        </div>\\n    {{/key}}\\n</div>\\n\\n<div class=\\\"modal-footer\\\">\\n    <button class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\" translatable=\\\"yes\\\">Close</button>\\n\\n    {{#key}}\\n        <button class=\\\"btn btn-primary\\\" translatable=\\\"yes\\\">Connect</button>\\n    {{/key}}\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/machine-unknown-hostkey.html\n// module id = 37\n// module chunks = 0 2","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar phantom_checkpoint = phantom_checkpoint || function () { };\n\n(function() {\n    \"use strict\";\n\n    var $ = require(\"jquery\");\n    var cockpit = require(\"cockpit\");\n\n    var base_index = require(\"./base_index\");\n\n    var _ = cockpit.gettext;\n\n    var shell_embedded = window.location.pathname.indexOf(\".html\") !== -1;\n\n    function MachinesIndex(index_options, machines, loader, mdialogs) {\n        if (!index_options)\n            index_options = {};\n\n        index_options.navigate = function (state, sidebar) {\n            return navigate(state, sidebar);\n        };\n        var index = base_index.new_index_from_proto(index_options);\n\n        /* Restarts */\n        $(index).on(\"expect_restart\", function (ev, host) {\n            loader.expect_restart(host);\n        });\n\n        /* Disconnection Dialog */\n        var watchdog_problem = null;\n        $(index).on(\"disconnect\", function (ev, problem) {\n            watchdog_problem = problem;\n            show_disconnected();\n        });\n\n        /* Is troubleshooting dialog open */\n        var troubleshooting = false;\n        var machines_timer = null;\n\n        $(\"#machine-dropdown\").on(\"hide.bs.dropdown\", function () {\n            $(\"#find-machine\").val(\"\");\n            $(\"#machine-dropdown ul li\").toggleClass(\"hidden\", false);\n        });\n\n        $(\"#find-machine\").on(\"keyup\", function (ev) {\n            if (machines_timer)\n                window.clearTimeout(machines_timer);\n\n            machines_timer = window.setTimeout(function () {\n                filter_machines();\n                machines_timer = null;\n            }, 250);\n        });\n\n        $(\"#host-nav-item\").on(\"click\", function (ev) {\n            if ($(this).hasClass(\"active\")) {\n                $(this).toggleClass(\"menu-visible\");\n                $(\"#host-nav\").toggleClass(\"interact\");\n                ev.preventDefault();\n                return false;\n            } else {\n                $(this).toggleClass(\"menu-visible\", true);\n                $(\"#host-nav\").toggleClass(\"interact\", true);\n            }\n        });\n\n        /* Reconnect button */\n        $(\"#machine-reconnect\").on(\"click\", function(ev) {\n            if (watchdog_problem) {\n                cockpit.sessionStorage.clear();\n                window.location.reload(true);\n            } else {\n                navigate(null, true);\n            }\n        });\n\n        /* Troubleshoot pause navigation */\n        $(\"#troubleshoot-dialog\").on(\"show.bs.modal\", function(ev) {\n            troubleshooting = true;\n        });\n\n        /* Troubleshoot dialog close */\n        $(\"#troubleshoot-dialog\").on(\"hide.bs.modal\", function(ev) {\n            troubleshooting = false;\n            navigate(null, true);\n        });\n\n        /* Navigation */\n        var ready = false;\n        function on_ready() {\n            ready = true;\n            index.ready();\n        }\n\n        /* When the machine list is ready we start processing navigation */\n        $(machines)\n            .on(\"ready\", on_ready)\n            .on(\"added updated\", function(ev, machine) {\n                if (!machine.visible)\n                    index.frames.remove(machine);\n                else if (machine.problem)\n                    index.frames.remove(machine);\n\n                update_machines();\n                if (ready)\n                    navigate();\n            })\n            .on(\"removed\", function(ev, machine) {\n                index.frames.remove(machine);\n                update_machines();\n            });\n\n        if (machines.ready)\n            on_ready();\n\n        /* When only one machine this operates as a link */\n        $(\"#machine-link\").on(\"click\", function(ev) {\n            if (machines.list.length == 1) {\n                index.jump({ host: machines.list[0].address, sidebar: true, component: \"\" });\n                ev.preventDefault();\n                return false;\n            }\n        });\n\n        function show_disconnected() {\n            var current_frame = index.current_frame();\n\n            if (current_frame)\n                $(current_frame).hide();\n\n            $(\".curtains-ct .spinner\").toggle(false);\n            $(\"#machine-reconnect\").toggle(true);\n            $(\"#machine-troubleshoot\").toggle(false);\n            $(\".curtains-ct i\").toggle(true);\n            $(\".curtains-ct h1\").text(_(\"Disconnected\"));\n            $(\".curtains-ct p\").text(cockpit.message(watchdog_problem));\n            $(\".curtains-ct\").show();\n            $(\"#navbar-dropdown\").addClass(\"disabled\");\n            phantom_checkpoint();\n        }\n\n        /* Handles navigation */\n        function navigate(state, reconnect) {\n            var machine;\n            $('#host-nav-item').toggleClass(\"menu-visible\", false);\n            $(\"#host-nav\").toggleClass(\"interact\", false);\n\n            /* If this is a watchdog problem or we are troubleshooting\n             * let the dialog handle it */\n            if (watchdog_problem || troubleshooting)\n                return;\n\n            /* phantomjs has a problem retrieving state, so we allow it to be passed in */\n            if (!state)\n                state = index.retrieve_state();\n            machine = machines.lookup(state.host);\n\n            /* No such machine */\n            if (!machine) {\n                machine = {\n                    key: state.host,\n                    address: state.host,\n                    label: state.host,\n                    state: \"failed\",\n                    problem: \"not-found\",\n                };\n\n            /* Asked to reconnect to the machine */\n            } else if (!machine.visible) {\n                machine.state = \"failed\";\n                machine.problem = \"not-found\";\n            } else if (reconnect && machine.state !== \"connected\") {\n                loader.connect(state.host);\n            }\n\n            var compiled = compile(machine);\n            if (machine.manifests && !state.component)\n                state.component = choose_component(state, compiled);\n\n            update_navbar(machine, state, compiled);\n            update_frame(machine, state, compiled);\n\n            /* Just replace the state, and URL */\n            index.jump(state, true);\n        }\n\n        function choose_component(state, compiled) {\n            var item, menu_items;\n            var single_host = machines.list.length <= 1;\n            var dashboards = compiled.ordered(\"dashboard\");\n\n            if (shell_embedded)\n                state.sidebar = true;\n\n            /* See if we should show a dashboard */\n            if (!state.sidebar && dashboards.length > 0) {\n                item = dashboards[0];\n                /* Don't chose a dashboard as a single host unless\n                 * it specifically supports that.\n                 */\n                if (item && (!single_host || item.wants !== \"multiple-machines\"))\n                    return item.path;\n                else\n                    item = null;\n            }\n\n            /* See if we can find something with currently selected label */\n            var label = $(\"#sidebar li.active a\").text();\n            if (label) {\n                item = compiled.search(\"label\", label);\n                if (item)\n                    return item.path;\n            }\n\n            /* Go for the first item */\n            menu_items = compiled.ordered(\"menu\");\n            if (menu_items.length > 0 && menu_items[0]) {\n                return menu_items[0].path;\n\n            /* If there is no menu items use a dashboard */\n            } else if (dashboards.length > 0) {\n                item = dashboards[0];\n                if (item) {\n                    state.sidebar = false;\n                    return item.path;\n                }\n            }\n\n            return \"system\";\n        }\n\n        function default_machine() {\n            /* Default to localhost if it has anything.\n             * Otherwise find the first non local machine.\n             */\n            var i;\n            var machine = machines.lookup(\"localhost\");\n            var compiled = compile(machine);\n            if (compiled.ordered(\"menu\").length || compiled.ordered(\"tools\").length)\n                return machine;\n\n            for (i = 0; i < machines.list.length; i++) {\n                if (machines.list[i].address != \"localhost\")\n                    return machines.list[i];\n            }\n        }\n\n        function update_sidebar(machine, state, compiled) {\n            function links(component) {\n                return $(\"<li class='list-group-item'>\")\n                    .toggleClass(\"active\", state.component === component.path)\n                    .append($(\"<a>\")\n                        .attr(\"href\", index.href({ host: machine.address, component: component.path }))\n                        .attr(\"title\", component.label)\n                        .append($(\"<span>\").text(component.label)));\n            }\n\n            var menu = compiled.ordered(\"menu\").map(links);\n            $(\"#sidebar-menu\").empty().append(menu);\n\n            var tools = compiled.ordered(\"tools\").map(links);\n            $(\"#sidebar-tools\").empty().append(tools);\n\n            $(\"#machine-avatar\").attr(\"src\", machine && machine.avatar ? encodeURI(machine.avatar) :\n                                                \"../shell/images/server-small.png\");\n\n            var color = machine && machine.color || \"\";\n            $(\"#host-nav-item span.pficon-container-node\").css(\"color\", color);\n\n            if (machine) {\n                $(\"#machine-link span\").text(machine.label);\n                $(\"#machine-link\").attr(\"title\", machine.label);\n            } else {\n                $(\"#machine-link span\").text(_(\"Machines\"));\n                $(\"#machine-link\").attr(\"title\", \"\");\n            }\n        }\n\n        function update_active_machine (address) {\n            var active_sel;\n            $(\"#machine-dropdown ul li\").toggleClass(\"active\", false);\n            if (address) {\n                active_sel = \"#machine-dropdown ul li[data-address='\" + address + \"']\";\n                $(active_sel).toggleClass(\"active\", true);\n            }\n        }\n\n        function update_machine_links(machine, showing_sidebar, state) {\n            var data = $(\"#host-nav-link\").attr(\"data-machine\");\n\n            // If we are already setup we will bail early\n            if (data && (!machine || machine.address === data)) {\n                // If showing the sidebar, save our place\n                if (showing_sidebar) {\n                    $(\"#host-nav-link\").attr(\"href\", index.href(state));\n                    update_active_machine(data);\n                }\n                return;\n            }\n\n            if (!machine && data)\n                machine = machines.lookup(data);\n            if (!machine)\n                machine = default_machine();\n\n            $(\"#host-nav-link span.list-group-item-value\").text(machine ? machine.label : \"\");\n            $(\"#host-nav-link\")\n                .attr(\"data-machine\", machine ? machine.address : \"\")\n                .attr(\"href\", index.href({ host: machine ? machine.address : undefined }, true));\n\n            // Only show the hosts icon in the main nav if we have a machine\n            $(\"#host-nav-item\").toggleClass(\"dashboard-link\", !!machine);\n\n            update_active_machine(machine ? machine.address : null);\n        }\n\n        function update_navbar(machine, state, compiled) {\n            /* When a dashboard no machine or sidebar */\n            var item = compiled.items[state.component];\n            if (item && item.section == \"dashboard\") {\n                delete state.sidebar;\n                machine = null;\n            }\n\n            $(\".dashboard-link\").each(function() {\n                var el = $(this);\n                var data = el.attr(\"data-component\");\n                // Mark active component and save our place\n                if (data && data === state.component) {\n                    el.attr(\"href\", index.href(state));\n                    el.toggleClass(\"active\", true);\n                } else {\n                    el.toggleClass(\"active\", false);\n                }\n            });\n\n            $(\"#host-nav-item\").toggleClass(\"active\", !!machine);\n            if (machine)\n                update_sidebar(machine, state, compiled);\n\n            $(\"#host-nav\").toggleClass(\"hidden\", !machine);\n            update_machine_links(machine, !!machine, state);\n            $('.area-ct-body').toggleClass(\"single-nav\", $(\".dashboard-link\").length < 2);\n        }\n\n        function update_title(label, machine) {\n            var compiled;\n            if (label)\n                label += \" - \";\n            else\n                label = \"\";\n            var suffix = index.default_title;\n\n            if (machine) {\n                if (machine.address === \"localhost\") {\n                    compiled = compile(machine);\n                    if (compiled.ordered(\"menu\").length || compiled.ordered(\"tools\").length)\n                        suffix = machine.label;\n                } else {\n                    suffix = machine.label;\n                }\n            }\n            document.title = label + suffix;\n        }\n\n        function update_frame(machine, state, compiled) {\n            var title, message, connecting, restarting;\n            var current_frame = index.current_frame();\n\n            if (machine.state != \"connected\") {\n                $(current_frame).hide();\n                current_frame = null;\n                index.current_frame(current_frame);\n\n                connecting = (machine.state == \"connecting\");\n                if (machine.restarting) {\n                    title = _(\"The machine is restarting\");\n                    message = \"\";\n                } else if (connecting) {\n                    title = _(\"Connecting to the machine\");\n                    message = \"\";\n                } else {\n                    title = _(\"Couldn't connect to the machine\");\n                    if (machine.problem == \"not-found\") {\n                        message = _(\"Cannot connect to an unknown machine\");\n                    } else {\n                        var error = machine.problem || machine.state;\n                        if (error)\n                            message = cockpit.message(error);\n                        else\n                            message = \"\";\n                    }\n                }\n\n                if (!machine.restarting && mdialogs.needs_troubleshoot(machine)) {\n                    $(\"#machine-troubleshoot\").off()\n                        .on(\"click\", function () {\n                            mdialogs.troubleshoot(\"troubleshoot-dialog\", machine);\n                        });\n                    $(\"#machine-troubleshoot\").show();\n                } else {\n                    $(\"#machine-troubleshoot\").hide();\n                }\n\n                restarting = !!machine.restarting;\n                $(\".curtains-ct\").show();\n                $(\".curtains-ct .spinner\").toggle(connecting || restarting);\n                $(\"#machine-reconnect\").toggle(!connecting && machine.problem != \"not-found\");\n                $(\".curtains-ct i\").toggle(!connecting && !restarting);\n                $(\".curtains-ct h1\").text(title);\n                $(\".curtains-ct p\").text(message);\n\n                $(\"#machine-spinner\").hide();\n\n                update_title(null, machine);\n\n                /* Fall through when connecting, and allow frame to load at same time*/\n                if (!connecting)\n                    return;\n            }\n\n            var hash = state.hash;\n            var component = state.component;\n\n            /* Old cockpit packages, used to be in shell/shell.html */\n            var compat;\n            if (machine && compiled.compat) {\n                compat = compiled.compat[component];\n                if (compat) {\n                    component = \"shell/shell\";\n                    hash = compat;\n                }\n            }\n\n            var frame;\n            if (component)\n                frame = index.frames.lookup(machine, component, hash);\n            if (frame != current_frame) {\n                $(current_frame).css('display', 'none');\n                index.current_frame(frame);\n            }\n\n            var label, item;\n            if (machine.state == \"connected\") {\n                $(\".curtains-ct\").hide();\n                $(\"#machine-spinner\").toggle(frame && !$(frame).attr(\"data-ready\"));\n                $(frame).css('display', 'block');\n                item = compiled.items[state.component];\n                label = item ? item.label : \"\";\n                update_title(label, machine);\n            }\n\n            phantom_checkpoint();\n        }\n\n        function update_machines() {\n            $(\"#machine-dropdown .caret\")\n                .toggle(machines.list.length > 1);\n\n            var machine_link = $(\"#machine-link\");\n            if (machines.list.length > 1)\n                machine_link.attr(\"data-toggle\", \"dropdown\");\n            else\n                machine_link.removeAttr(\"data-toggle\");\n\n            var list = $(\"#machine-dropdown ul\");\n            var links = machines.list.map(function(machine) {\n                var text = $(\"<span>\")\n                    .text(machine.label)\n                    .prepend($(\"<i>\")\n                        .attr(\"class\", \"fa-li fa fa-circle\")\n                        .css(\"color\", machine.color || \"\"));\n                return $(\"<li role='presentation'>\")\n                    .attr(\"data-address\", machine.address)\n                    .append($(\"<a>\")\n                        .attr(\"role\", \"menuitem\")\n                        .attr(\"tabindex\", \"-1\")\n                        .attr(\"data-address\", machine.address)\n                        .attr(\"href\", index.href({ host: machine.address }, true))\n                        .append(text));\n                });\n            list.empty().append(links);\n        }\n\n        function filter_machines () {\n            var val = $(\"#find-machine\").val().toLowerCase();\n            $(\"#machine-dropdown ul li\").each(function() {\n                var el = $(this);\n                var a = el.find('a').first();\n                var txt = a.text().toLowerCase();\n                var addr = a.attr(\"data-address\") ? a.attr(\"data-address\").toLowerCase() : \"\";\n                var hide = !!val && txt.indexOf(val) !== 0 && addr.indexOf(val) !== 0;\n                el.toggleClass(\"hidden\", hide);\n            });\n        }\n\n        function compatibility(machine) {\n            if (!machine.manifests || machine.address === \"localhost\")\n                return null;\n\n            var shell = machine.manifests[\"shell\"] || { };\n            var menu = shell[\"menu\"] || { };\n            var tools = shell[\"tools\"] || { };\n\n            var mapping = { };\n\n            /* The following were included in shell/shell.html in old versions */\n            if (\"_host_\" in menu)\n                mapping[\"system/host\"] = \"/server\";\n            if (\"_init_\" in menu)\n                mapping[\"system/init\"] = \"/services\";\n            if (\"_network_\" in menu)\n                mapping[\"network/interfaces\"] = \"/networking\";\n            if (\"_storage_\" in menu)\n                mapping[\"storage/devices\"] = \"/storage\";\n            if (\"_users_\" in tools)\n                mapping[\"users/local\"] = \"/accounts\";\n\n            /* For Docker we have to guess ... some heuristics */\n            if (\"_storage_\" in menu || \"_init_\" in menu)\n                mapping[\"docker/containers\"] = \"/containers\";\n\n            return mapping;\n        }\n\n        function compile(machine) {\n            var compiled = base_index.new_compiled();\n            compiled.load(machine.manifests, \"tools\");\n            compiled.load(machine.manifests, \"dashboard\");\n            compiled.load(machine.manifests, \"menu\");\n            compiled.compat = compatibility(machine);\n            return compiled;\n        }\n\n        cockpit.transport.wait(function() {\n            index.start();\n        });\n    }\n\n    function SimpleIndex(index_options) {\n        if (!index_options)\n            index_options = {};\n\n        index_options.navigate = function (state, sidebar) {\n            return navigate(state, sidebar);\n        };\n        var default_title = index_options.default_title || \"Cockpit\";\n        var index = base_index.new_index_from_proto(index_options);\n        var compiled = base_index.new_compiled();\n\n        compiled.load(cockpit.manifests, \"dashboard\");\n\n        /* Disconnection Dialog */\n        var watchdog_problem = null;\n        $(index).on(\"disconnect\", function (ev, problem) {\n            watchdog_problem = problem;\n            show_disconnected();\n        });\n\n        /* Reconnect button */\n        $(\"#machine-reconnect\").on(\"click\", function(ev) {\n            cockpit.sessionStorage.clear();\n            window.location.reload(true);\n        });\n\n        function show_disconnected() {\n            var current_frame = index.current_frame();\n            if (current_frame)\n                $(current_frame).hide();\n\n            $(\".curtains-ct .spinner\").toggle(false);\n            $(\"#machine-reconnect\").toggle(true);\n            $(\".curtains-ct i\").toggle(true);\n            $(\".curtains-ct h1\").text(_(\"Disconnected\"));\n            $(\".curtains-ct p\").text(cockpit.message(watchdog_problem));\n            $(\".curtains-ct\").show();\n            $(\"#navbar-dropdown\").addClass(\"disabled\");\n            phantom_checkpoint();\n        }\n\n        index.ready();\n\n        /* Handles navigation */\n        function navigate(state, reconnect) {\n            var dashboards = compiled.ordered(\"dashboard\");\n\n            /* If this is a watchdog problem or we are troubleshooting\n             * let the dialog handle it */\n            if (watchdog_problem)\n                return;\n\n            /* phantomjs has a problem retrieving state, so we allow it to be passed in */\n            if (!state)\n                state = index.retrieve_state();\n\n            if (!state.component && dashboards.length > 0) {\n                state.component = dashboards[0].path;\n            }\n            update_navbar(state);\n            update_frame(state);\n\n            /* Just replace the state, and URL */\n            index.jump(state, true);\n        }\n\n        function update_navbar(state) {\n            $(\"#host-nav-item\").toggleClass(\"dashboard-link\", false);\n            $(\".dashboard-link\").each(function() {\n                var el = $(this);\n                el.toggleClass(\"active\", el.attr(\"data-component\") === state.component);\n            });\n\n            var item = compiled.items[state.component];\n            if (item && item.section == \"dashboard\")\n                delete state.sidebar;\n\n            $('.area-ct-body').toggleClass(\"single-nav\", $(\".dashboard-link\").length < 2);\n\n        }\n\n        function update_title(label) {\n            if (label)\n                label += \" - \";\n            else\n                label = \"\";\n            document.title = label + default_title;\n        }\n\n        function update_frame(state) {\n            var current_frame = index.current_frame();\n\n            var hash = state.hash;\n            var component = state.component;\n\n            var frame;\n            if (component)\n                frame = index.frames.lookup(null, component, hash);\n            if (frame != current_frame) {\n                $(current_frame).css('display', 'none');\n                index.current_frame(frame);\n            }\n\n            var label, item;\n            $(frame).css('display', 'block');\n            item = compiled.items[state.component];\n            label = item ? item.label : \"\";\n            update_title(label);\n\n            phantom_checkpoint();\n        }\n\n        cockpit.transport.wait(function() {\n            index.start();\n        });\n    }\n\n    module.exports = {\n        simple_index: function (options) {\n            return new SimpleIndex(options);\n        },\n        machines_index: function (options, machines_ins, loader, mdialogs) {\n            return new MachinesIndex(options, machines_ins, loader, mdialogs);\n        }\n    };\n\n    function message_queue(event) {\n        window.messages.push(event);\n    }\n\n    /* When we're being loaded into the index window we have additional duties */\n    if (document.documentElement.getAttribute(\"class\") === \"index-page\") {\n        /* Indicates to child frames that we are a cockpit1 router frame */\n        window.name = \"cockpit1\";\n\n        /* The same thing as above, but compatibility with old cockpit */\n        window.options = { sink: true, protocol: \"cockpit1\" };\n\n        /* While the index is initializing, snag any messages we receive from frames */\n        window.messages = [ ];\n\n        window.messages.cancel = function() {\n            window.removeEventListener(\"message\", message_queue, false);\n            window.messages = null;\n        };\n\n        window.addEventListener(\"message\", message_queue, false);\n    }\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/shell/indexes.js\n// module id = 38\n// module chunks = 0 1 2","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2015 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar phantom_checkpoint = phantom_checkpoint || function () { };\n\n(function() {\n    \"use strict\";\n\n    var $ = require(\"jquery\");\n    var cockpit = require(\"cockpit\");\n\n    var shell_embedded = window.location.pathname.indexOf(\".html\") !== -1;\n    var _ = cockpit.gettext;\n\n    function component_checksum(machine, component) {\n        var parts = component.split(\"/\");\n        var pkg = parts[0];\n        if (machine.manifests && machine.manifests[pkg] && machine.manifests[pkg][\".checksum\"])\n            return \"$\" + machine.manifests[pkg][\".checksum\"];\n    }\n\n    function Frames(index) {\n        var self = this;\n\n        /* Lists of frames, by host */\n        self.iframes = { };\n\n        function remove_frame(frame) {\n            $(frame.contentWindow).off();\n            $(frame).remove();\n        }\n\n        self.remove = function remove(machine, component) {\n            var address;\n            if (typeof machine == \"string\")\n                address = machine;\n            else if (machine)\n                address = machine.address;\n            if (!address)\n                address = \"localhost\";\n            var list = self.iframes[address] || { };\n            if (!component)\n                delete self.iframes[address];\n            Object.keys(list).forEach(function(key) {\n                if (!component || component == key) {\n                    remove_frame(list[key]);\n                    delete list[component];\n                }\n            });\n        };\n\n        function frame_ready(frame, count) {\n            var ready = false;\n\n            window.clearTimeout(frame.timer);\n            frame.timer = null;\n\n            try {\n                ready = $(\"body\", frame.contentWindow.document).is(\":visible\");\n            } catch(ex) {\n                ready = true;\n            }\n\n            if (!count)\n                count = 0;\n            count += 1;\n            if (count > 50)\n                ready = true;\n\n            if (ready) {\n                if (frame.getAttribute(\"data-ready\") != \"1\") {\n                    frame.setAttribute(\"data-ready\", \"1\");\n                    if (count > 0)\n                        index.navigate();\n                }\n            } else {\n                frame.timer = window.setTimeout(function() {\n                    frame_ready(frame, count + 1);\n                }, 100);\n            }\n        }\n\n        self.lookup = function lookup(machine, component, hash) {\n            var host;\n            var address;\n            var new_frame = false;\n\n            if (typeof machine == \"string\") {\n                address = host = machine;\n            } else if (machine) {\n                host = machine.connection_string;\n                address = machine.address;\n            }\n\n            if (!host)\n                host = \"localhost\";\n            if (!address)\n                address = host;\n\n            var list = self.iframes[address];\n            if (!list)\n                self.iframes[address] = list = { };\n\n            var name = \"cockpit1:\" + host + \"/\" + component;\n            var frame = list[component];\n            if (frame && frame.getAttribute(\"name\") != name) {\n                remove_frame(frame);\n                frame = null;\n            }\n\n            var wind, src;\n\n            /* A preloaded frame */\n            if (!frame) {\n                wind = window.frames[name];\n                if (wind)\n                    frame = wind.frameElement;\n                if (frame) {\n                    src = frame.getAttribute('src');\n                    frame.url = src.split(\"#\")[0];\n                    list[component] = frame;\n                }\n            }\n\n            /* Need to create a new frame */\n            if (!frame) {\n                new_frame = true;\n                frame = document.createElement(\"iframe\");\n                frame.setAttribute(\"class\", \"container-frame\");\n                frame.setAttribute(\"name\", name);\n                frame.style.display = \"none\";\n\n                var base, checksum;\n                if (machine) {\n                    if (machine.manifests && machine.manifests[\".checksum\"])\n                        checksum = \"$\" + machine.manifests[\".checksum\"];\n                    else\n                        checksum = machine.checksum;\n                }\n\n                if (checksum && checksum == component_checksum(machine, component)) {\n                     if (host === \"localhost\")\n                         base = \"..\";\n                    else\n                        base = \"../../\" + checksum;\n                } else {\n                    /* If we don't have any checksums, or if the component specifies a different\n                       checksum than the machine, load it via a non-caching @<host> path.  This\n                       makes sure that we get the right files, and also that we don't poisen the\n                       cache with wrong files.\n\n                       We can't use a $<component-checksum> path since cockpit-ws only knows how to\n                       route the machine checksum.\n\n                       TODO - make it possible to use $<component-checksum>.\n                    */\n                    base = \"../../@\" + host;\n                }\n\n                frame.url = base + \"/\" + component;\n                if (component.indexOf(\"/\") === -1)\n                    frame.url += \"/index\";\n                frame.url += \".html\";\n            }\n\n            if (!hash)\n                hash = \"/\";\n            src = frame.url + \"#\" + hash;\n            if (frame.getAttribute('src') != src)\n                frame.setAttribute('src', src);\n\n            /* Store frame only when fully setup */\n            if (new_frame) {\n                list[component] = frame;\n                $(\"#content\").append(frame);\n            }\n            frame_ready(frame);\n            return frame;\n        };\n    }\n\n    function Router(index) {\n        var self = this;\n\n        var unique_id = 0;\n        var origin = cockpit.transport.origin;\n        var source_by_seed = { };\n        var source_by_name = { };\n\n        cockpit.transport.filter(function(message, channel, control) {\n            var seed, source, pos;\n\n            /* Only control messages with a channel are forwardable */\n            if (control) {\n                if (control.channel !== undefined) {\n                    for (seed in source_by_seed) {\n                        source = source_by_seed[seed];\n                        if (!source.window.closed)\n                            source.window.postMessage(message, origin);\n                    }\n                } else if (control.command == \"hint\") {\n                    if (control.credential) {\n                        if (index.privileges)\n                            index.privileges.update(control);\n                    }\n                }\n\n            /* Forward message to relevant frame */\n            } else if (channel) {\n                pos = channel.indexOf('!');\n                if (pos !== -1) {\n                    seed = channel.substring(0, pos + 1);\n                    source = source_by_seed[seed];\n                    if (source) {\n                        if (!source.window.closed)\n                            source.window.postMessage(message, origin);\n                        return false; /* Stop delivery */\n                    }\n                }\n            }\n\n            /* Still deliver the message locally */\n            return true;\n        }, false);\n\n        function perform_jump(child, control) {\n            var current_frame = index.current_frame();\n            if (child !== window) {\n                if (!current_frame || current_frame.contentWindow != child)\n                    return;\n            }\n            var str = control.location || \"\";\n            if (str[0] != \"/\")\n                str = \"/\" + str;\n            if (control.host)\n                str = \"/@\" + encodeURIComponent(control.host) + str;\n            index.jump(str);\n        }\n\n        function perform_track(child) {\n            var hash;\n            var current_frame = index.current_frame();\n            /* Note that we ignore tracknig for old shell code */\n            if (current_frame && current_frame.contentWindow === child &&\n                child.name && child.name.indexOf(\"/shell/shell\") === -1) {\n                hash = child.location.hash;\n                if (hash.indexOf(\"#\") === 0)\n                    hash = hash.substring(1);\n                if (hash === \"/\")\n                    hash = \"\";\n                index.jump({ hash: hash });\n            }\n        }\n\n        function on_unload(ev) {\n            var source;\n            if (ev.target.defaultView)\n                source = source_by_name[ev.target.defaultView.name];\n            else if (ev.view)\n                source = source_by_name[ev.view.name];\n            if (source)\n                unregister(source);\n        }\n\n        function on_hashchange(ev) {\n            var source = source_by_name[ev.target.name];\n            if (source)\n                perform_track(source.window);\n        }\n\n        function on_load(ev) {\n            var source = source_by_name[ev.target.contentWindow.name];\n            if (source)\n                perform_track(source.window);\n        }\n\n        function unregister(source) {\n            var child = source.window;\n            cockpit.kill(null, child.name);\n            var frame = child.frameElement;\n            if (frame)\n                frame.removeEventListener(\"load\", on_load);\n            /* This is often invalid when the window is closed */\n            if (child.removeEventListener) {\n                child.removeEventListener(\"unload\", on_unload);\n                child.removeEventListener(\"hashchange\", on_hashchange);\n            }\n            delete source_by_seed[source.channel_seed];\n            delete source_by_name[source.name];\n        }\n\n        function register(child) {\n            var host, name = child.name || \"\";\n            if (name.indexOf(\"cockpit1:\") === 0)\n                host = name.substring(9).split(\"/\")[0];\n            if (!name || !host) {\n                console.warn(\"invalid child window name\", child, name);\n                return;\n            }\n\n            unique_id += 1;\n            var seed = (cockpit.transport.options[\"channel-seed\"] || \"undefined:\") + unique_id + \"!\";\n            var source = {\n                name: name,\n                window: child,\n                channel_seed: seed,\n                default_host: host,\n                inited: false,\n            };\n            source_by_seed[seed] = source;\n            source_by_name[name] = source;\n\n            var frame = child.frameElement;\n            frame.addEventListener(\"load\", on_load);\n            child.addEventListener(\"unload\", on_unload);\n            child.addEventListener(\"hashchange\", on_hashchange);\n\n            /*\n             * Setting the \"data-loaded\" attribute helps the testsuite\n             * know when it can switch into the frame and inject its\n             * own additions.\n             */\n            frame.setAttribute('data-loaded', '1');\n\n            perform_track(child);\n            phantom_checkpoint();\n\n            index.navigate();\n            return source;\n        }\n\n        function message_handler(event) {\n            if (event.origin !== origin)\n                return;\n\n            var forward_command = false;\n            var data = event.data;\n            var child = event.source;\n            if (!child)\n                return;\n\n            /* If it's binary data just send it.\n             * TODO: Once we start restricting what frames can\n             * talk to which hosts, we need to parse control\n             * messages here, and cross check channels */\n            if (data instanceof window.ArrayBuffer) {\n                cockpit.transport.inject(data, true);\n                return;\n            }\n\n            if (typeof data !== \"string\")\n                return;\n\n            var source, control;\n\n            /*\n             * On Internet Explorer we see Access Denied when non Cockpit\n             * frames send messages (such as Javascript console). This also\n             * happens when the window is closed.\n             */\n            try {\n                source = source_by_name[child.name];\n            } catch(ex) {\n                console.log(\"received message from child with in accessible name: \", ex);\n                return;\n            }\n\n\n            /* Closing the transport */\n            if (data.length === 0) {\n                if (source)\n                    unregister(source);\n                return;\n            }\n\n            /* A control message */\n            if (data[0] == '\\n') {\n                control = JSON.parse(data.substring(1));\n                if (control.command === \"init\") {\n                    if (source)\n                        unregister(source);\n                    if (control.problem) {\n                        console.warn(\"child frame failed to init: \" + control.problem);\n                        source = null;\n                    } else {\n                        source = register(child);\n                    }\n                    if (source) {\n                        var reply = $.extend({ }, cockpit.transport.options,\n                            { command: \"init\", \"host\": source.default_host, \"channel-seed\": source.channel_seed }\n                        );\n                        child.postMessage(\"\\n\" + JSON.stringify(reply), origin);\n                        source.inited = true;\n\n                        /* If this new frame is not the current one, tell it */\n                        if (child.frameElement != index.current_frame())\n                            self.hint(child.frameElement.contentWindow, { \"hidden\": true });\n                    }\n\n                } else if (control.command === \"jump\") {\n                    perform_jump(child, control);\n                    return;\n\n                } else if (control.command == \"logout\" || control.command == \"kill\") {\n                    forward_command = true;\n\n                } else if (control.command === \"hint\") {\n                    if (control.hint == \"restart\") {\n                        /* watchdog handles current host for now */\n                        if (control.host != cockpit.transport.host)\n                            index.expect_restart(control.host);\n                    } else\n                        cockpit.hint(control.hint, control);\n                    return;\n                } else if (control.command == \"oops\") {\n                    index.show_oops();\n                    return;\n\n                /* Only control messages with a channel are forwardable */\n                } else if (control.channel === undefined && !forward_command) {\n                    return;\n\n                /* Add the child's group to all open channel messages */\n                } else if (control.command == \"open\") {\n                    control.group = child.name;\n                    data = \"\\n\" + JSON.stringify(control);\n                }\n            }\n\n            if (!source) {\n                console.warn(\"child frame \" + child.name + \" sending data without init\");\n                return;\n            }\n\n            /* Everything else gets forwarded */\n            cockpit.transport.inject(data, true);\n        }\n\n\n        self.start = function start(messages) {\n            window.addEventListener(\"message\", message_handler, false);\n            for (var i = 0, len = messages.length; i < len; i++)\n                message_handler(messages[i]);\n        };\n\n        self.hint = function hint(child, data) {\n            var message, source = source_by_name[child.name];\n            /* This is often invalid when the window is closed */\n            if (source && source.inited && !source.window.closed) {\n                data.command = \"hint\";\n                message = \"\\n\" + JSON.stringify(data);\n                source.window.postMessage(message, origin);\n            }\n        };\n    }\n\n    /*\n     * New instances of Index must be created by new_index_from_proto\n     * and the caller must include a navigation function in the given\n     * prototype. That function will be called by Frames and\n     * Router to actually perform any navigation action.\n     *\n     * As a convenience, common menu items can be setup by adding the\n     * selector to be used to hook them up. The accepted selectors\n     * are.\n     * oops_sel, logout_sel, language_sel, brand_sel, about_sel,\n     * user_sel, account_sel\n     *\n     * Emits \"disconnect\" and \"expect_restart\" signals, that should be\n     * handled by the caller.\n     */\n    function Index() {\n        var self = this;\n        var current_frame;\n\n        if (typeof self.navigate !== \"function\")\n            throw \"Index requires a prototype with a navigate function\";\n\n        self.frames = new Frames(self);\n        self.router = new Router(self);\n\n        /* Watchdog for disconnect */\n        var watchdog = cockpit.channel({ \"payload\": \"null\" });\n        $(watchdog).on(\"close\", function(event, options) {\n            var watchdog_problem = options.problem || \"disconnected\";\n            console.warn(\"transport closed: \" + watchdog_problem);\n            $(self).triggerHandler(\"disconnect\", watchdog_problem);\n        });\n\n        /* Handles an href link as seen below */\n        $(document).on(\"click\", \"a[href]\", function(ev) {\n            var a = this;\n            if (!a.host || window.location.host === a.host) {\n                self.jump(a.getAttribute('href'));\n                ev.preventDefault();\n                phantom_checkpoint();\n            }\n        });\n\n        if (window.navigator.userAgent.indexOf(\"PhantomJS\") == -1) {\n            var old_onerror = window.onerror;\n            window.onerror = function cockpit_error_handler(msg, url, line) {\n                self.show_oops();\n                phantom_checkpoint();\n                if (old_onerror)\n                    return old_onerror(msg, url, line);\n                return false;\n            };\n        }\n\n        /*\n         * Navigation is driven by state objects, which are used with pushState()\n         * and friends. The state is the canonical navigation location, and not\n         * the URL. Only when no state has been pushed or we are arriving from\n         * a link, do we parse the state from the URL.\n         *\n         * Each state object has:\n         *   host: a machine host\n         *   component: the stripped component to load\n         *   hash: the hash to pass to the component\n         *   sidebar: set to true to hint that we want a component with a sidebar\n         *\n         * If state.sidebar is set, and no component has yet been chosen for the\n         * given state, then we try to find one that would show a sidebar.\n         */\n\n        /* Encode navigate state into a string\n         * If with_root is true the configured\n         * url root will be added to the generated\n         * url. with_root should be used when\n         * navigating to a new url or updating\n         * history, but is not needed when simply\n         * generating a string for a link.\n         */\n        function encode(state, sidebar, with_root) {\n            var path = [];\n            if (state.host && (sidebar || state.host !== \"localhost\"))\n                path.push(\"@\" + state.host);\n            if (state.component)\n                path.push.apply(path, state.component.split(\"/\"));\n            var string = cockpit.location.encode(path, null, with_root);\n            if (state.hash && state.hash !== \"/\")\n                string += \"#\" + state.hash;\n            return string;\n        }\n\n        /* Decodes navigate state from a string */\n        function decode(string) {\n            var state = { version: \"v1\", hash: \"\" };\n            var pos = string.indexOf(\"#\");\n            if (pos !== -1) {\n                state.hash = string.substring(pos + 1);\n                string = string.substring(0, pos);\n            }\n            if (string[0] != '/')\n                string = \"/\" + string;\n            var path = cockpit.location.decode(string);\n            if (path[0] && path[0][0] == \"@\") {\n                state.host = path.shift().substring(1);\n                state.sidebar = true;\n            } else {\n                state.host = \"localhost\";\n            }\n            if (path.length && path[path.length - 1] == \"index\")\n                path.pop();\n            state.component = path.join(\"/\");\n            return state;\n        }\n\n        function build_navbar() {\n            var navbar = $(\"#main-navbar\");\n            navbar.on(\"click\", function () {\n                navbar.parent().toggleClass(\"clicked\", true);\n            });\n\n            navbar.on(\"mouseout\", function () {\n                navbar.parent().toggleClass(\"clicked\", false);\n            });\n\n            function links(component) {\n                var sm = $(\"<span class='fa'>\")\n                    .attr(\"data-toggle\", \"tooltip\")\n                    .attr(\"title\", \"\")\n                    .attr(\"data-original-title\", component.label);\n\n                if (component.icon)\n                    sm.addClass(component.icon);\n                else\n                    sm.addClass(\"first-letter\").text(component.label);\n\n                var value = $(\"<span class='list-group-item-value'>\")\n                    .text(component.label);\n\n                var a = $(\"<a>\")\n                    .attr(\"href\", self.href({ host: \"localhost\", component: component.path }))\n                    .attr(\"title\", component.label)\n                    .append(sm)\n                    .append(value);\n\n                return $(\"<li class='dashboard-link list-group-item'>\")\n                    .attr(\"data-component\", component.path)\n                    .append(a);\n            }\n\n            var local_compiled = new CompiledComponents();\n            local_compiled.load(cockpit.manifests, \"dashboard\");\n            navbar.append(local_compiled.ordered(\"dashboard\").map(links));\n        }\n\n        self.retrieve_state = function() {\n            var state = window.history.state;\n            if (!state || state.version !== \"v1\") {\n                if (shell_embedded)\n                    state = decode(\"/\" + window.location.hash);\n                else\n                    state = decode(window.location.pathname + window.location.hash);\n            }\n            return state;\n        };\n\n        function lookup_component_hash(address, component) {\n            var iframe, src;\n\n            if (!address)\n                address = \"localhost\";\n\n            var list = self.frames.iframes[address];\n            if (list)\n                iframe = list[component];\n\n            if (iframe) {\n                src = iframe.getAttribute('src');\n                if (src)\n                    return src.split(\"#\")[1];\n            }\n\n            return null;\n        }\n\n        /* Jumps to a given navigate state */\n        self.jump = function (state, replace) {\n            if (typeof (state) === \"string\")\n                state = decode(state);\n\n            var current = self.retrieve_state();\n\n            /* Make sure we have the data we need */\n            if (!state.host)\n                state.host = current.host || \"localhost\";\n            if (!(\"component\" in state))\n                state.component = current.component || \"\";\n\n            var target;\n            var history = window.history;\n            var frame_change = (state.host !== current.host ||\n                                state.component !== current.component);\n\n            if (frame_change && !state.hash)\n                state.hash = lookup_component_hash(state.host, state.component);\n\n            if (shell_embedded)\n                target = window.location;\n            else\n                target = encode(state, null, true);\n\n            if (replace) {\n                history.replaceState(state, \"\", target);\n                return false;\n            }\n\n\n            if (frame_change || state.hash !== current.hash) {\n                history.pushState(state, \"\", target);\n                self.navigate(state, true);\n                return true;\n            }\n\n            return false;\n        };\n\n        /* Build an href for use in an <a> */\n        self.href = function (state, sidebar) {\n            return encode(state, sidebar);\n        };\n\n        self.show_oops = function () {\n            if (self.oops_sel)\n                $(self.oops_sel).show();\n        };\n\n        self.current_frame = function (frame) {\n            if (frame !== undefined) {\n                if (current_frame !== frame) {\n                    if (current_frame && current_frame.contentWindow)\n                        self.router.hint(current_frame.contentWindow, { \"hidden\": true });\n                    if (frame && frame.contentWindow)\n                        self.router.hint(frame.contentWindow, { \"hidden\": false });\n                }\n                current_frame = frame;\n            }\n            return current_frame;\n        };\n\n        self.start = function() {\n            /* window.messages is initialized in shell/bundle.js */\n            var messages = window.messages;\n            if (messages)\n                messages.cancel();\n            self.router.start(messages || []);\n        };\n\n        self.ready = function () {\n            $(window).on(\"popstate\", function(ev) {\n                self.navigate(ev.state, true);\n            });\n\n            build_navbar();\n            self.navigate();\n            cockpit.translate();\n            $(\"body\").show();\n        };\n\n        self.expect_restart = function (host) {\n            $(self).triggerHandler(\"expect_restart\", host);\n        };\n\n        /* Menu items */\n        /* The oops bar */\n        function setup_oops(id) {\n            var oops = $(id);\n            if (!oops)\n                return;\n            oops.children(\"a\").on(\"click\", function() {\n                $(\"#error-popup-title\").text(_(\"Unexpected error\"));\n                var details = _(\"Cockpit had an unexpected internal error. <br/><br/>You can try restarting Cockpit by pressing refresh in your browser. The javascript console contains details about this error (<b>Ctrl-Shift-J</b> in most browsers).\");\n                $(\"#error-popup-message\").html(details);\n                $('#error-popup').modal('show');\n            });\n        }\n\n        function css_content(elt) {\n            var styles, i;\n            var style, content;\n            var el_style, el_content;\n\n            if (elt)\n                style = window.getComputedStyle(elt, \":before\");\n            if (!style)\n                return;\n\n            content = style.content;\n            // Old branding had style on the element itself\n            if (!content) {\n                el_style = window.getComputedStyle(elt);\n                if (el_style)\n                    el_content = el_style.content;\n            }\n\n            // getComputedStyle is broken for pseudo elements\n            // in Phantomjs and some old browsers\n            // those support the depricated getMatchedCSSRules\n            if (!content && style.length === 0 && window.getMatchedCSSRules) {\n                styles = window.getMatchedCSSRules(elt, \":before\") || [];\n                for (i = 0; i < styles.length; i++) {\n                    if (styles[i].style.content) {\n                        content = styles[i].style.content;\n                        break;\n                    }\n                }\n            }\n\n            return content || el_content;\n        }\n\n        /* Branding */\n        function setup_brand(id, default_title) {\n            var elt = $(id)[0];\n            var os_release = {};\n            try {\n                os_release = JSON.parse(window.localStorage['os-release'] || \"{}\");\n            } catch (ex) {\n                console.warn(\"Couldn't parse os-release\", ex);\n            }\n\n            var len, content = css_content(elt);\n            if (content && content != \"none\" && content != \"normal\") {\n                len = content.length;\n                if ((content[0] === '\"' || content[0] === '\\'') &&\n                    len > 2 && content[len - 1] === content[0])\n                    content = content.substr(1, len - 2);\n                elt.innerHTML = cockpit.format(content, os_release) || default_title;\n                return $(elt).text();\n            } else {\n                elt.removeAttribute(\"class\");\n            }\n        }\n\n        /* Logout link */\n        function setup_logout(id) {\n            $(id).on(\"click\", function() {\n                cockpit.logout();\n            });\n        }\n\n        /* Display language dialog */\n        function setup_language(id) {\n            /*\n             * Note that we don't go ahead and load all the po files in order\n             * to produce this list. Perhaps we would include it somewhere in a\n             * separate automatically generated file. Need to see.\n             */\n            var manifest = cockpit.manifests[\"shell\"] || { };\n            $(\".display-language-menu\").toggle(!!manifest.locales);\n            var language = document.cookie.replace(/(?:(?:^|.*;\\s*)CockpitLang\\s*\\=\\s*([^;]*).*$)|^.*$/, \"$1\");\n            if (!language)\n                language = \"en-us\";\n            $.each(manifest.locales || { }, function(code, name) {\n                var el = $(\"<option>\").text(name).val(code);\n                if (code == language)\n                    el.attr(\"selected\", \"true\");\n                $(\"#display-language-list\").append(el);\n            });\n\n            $(\"#display-language-select-button\").on(\"click\", function(event) {\n                var code_to_select = $(\"#display-language-list\").val();\n                var cookie = \"CockpitLang=\" + encodeURIComponent(code_to_select) +\n                             \"; path=/; expires=Sun, 16 Jul 3567 06:23:41 GMT\";\n                document.cookie = cookie;\n                window.localStorage.setItem(\"cockpit.lang\", code_to_select);\n                window.location.reload(true);\n                return false;\n            });\n\n            $(id).on(\"shown.bs.modal\", function() {\n                $(\"display-language-list\").focus();\n                phantom_checkpoint();\n            });\n        }\n\n        /* About dialog */\n        function setup_about(id) {\n            $(cockpit.info).on(\"changed\", function() {\n                $(id).text(cockpit.info.version);\n                phantom_checkpoint();\n            });\n        }\n\n        /* Account link */\n        function setup_account(id, user) {\n            $(id).on(\"click\", function() {\n                self.jump({ host: \"localhost\", component: \"users\", hash: \"/\" + user.name });\n            }).show();\n        }\n\n        function setup_killer(id) {\n            $(id).on(\"click\", function(ev) {\n                if (ev && ev.button === 0)\n                    require(\"./active-pages\").showDialog(self.frames);\n            });\n        }\n\n        /* User information */\n        function setup_user(id, user) {\n            $(id).text(user.full_name || user.name || '???');\n        }\n\n        if (self.oops_sel)\n            setup_oops(self.oops_sel);\n\n        if (self.logout_sel)\n            setup_logout(self.logout_sel);\n\n        if (self.language_sel)\n            setup_language(self.language_sel);\n\n        var cal_title;\n        if (self.brand_sel) {\n            cal_title = setup_brand(self.brand_sel, self.default_title);\n            if (cal_title && !self.skip_brand_title)\n                self.default_title = cal_title;\n        }\n\n        if (self.about_sel)\n            setup_about(self.about_sel);\n        if (self.killer_sel)\n            setup_killer(self.killer_sel);\n\n        if (self.user_sel || self.account_sel) {\n            cockpit.user().done(function (user) {\n                if (self.user_sel)\n                    setup_user(self.user_sel, user);\n                if (self.account_sel)\n                    setup_account(self.account_sel, user);\n            });\n        }\n    }\n\n    function CompiledComponents() {\n        var self = this;\n        self.items = {};\n\n        self.load = function(manifests, section) {\n            $.each(manifests || { }, function(name, manifest) {\n                $.each(manifest[section] || { }, function(prop, info) {\n                    var item = {\n                        section: section,\n                        label: cockpit.gettext(info.label) || prop,\n                        order: info.order === undefined ? 1000 : info.order,\n                        icon: info.icon,\n                        wants: info.wants\n                    };\n                    if (info.path)\n                        item.path = info.path.replace(/\\.html$/, \"\");\n                    else\n                        item.path = name + \"/\" + prop;\n                    if (item.path.indexOf(\"/\") === -1)\n                        item.path = name + \"/\" + item.path;\n                    if (item.path.slice(-6) == \"/index\")\n                        item.path = item.path.slice(0, -6);\n                    self.items[item.path] = item;\n                });\n            });\n        };\n\n\n        self.ordered = function(section) {\n            var x, list = [];\n            for (x in self.items) {\n                if (!section || self.items[x].section === section)\n                    list.push(self.items[x]);\n            }\n            list.sort(function(a, b) {\n                var ret = a.order - b.order;\n                if (ret === 0)\n                    ret = a.label.localeCompare(b.label);\n                return ret;\n            });\n            return list;\n        };\n\n        self.search = function(prop, value) {\n            var x;\n            for (x in self.items) {\n                if (self.items[x][prop] === value)\n                    return self.items[x];\n            }\n        };\n    }\n\n    function follow(arg) {\n        /* A promise of some sort */\n        if (arguments.length == 1 && typeof arg.then == \"function\") {\n            arg.then(function() { console.log.apply(console, arguments); },\n                     function() { console.error.apply(console, arguments); });\n            if (typeof arg.stream == \"function\")\n                arg.stream(function() { console.log.apply(console,arguments); });\n        }\n    }\n\n    var zz_value;\n\n    /* For debugging utility in the index window */\n    Object.defineProperties(window, {\n        cockpit: { value: cockpit },\n        zz: {\n            get: function() { return zz_value; },\n            set: function(val) { zz_value = val; follow(val); }\n        }\n    });\n\n    module.exports = {\n        new_index_from_proto: function (proto) {\n            var o = new Object(proto);\n            Index.call(o);\n            return o;\n        },\n\n        new_compiled: function () {\n            return new CompiledComponents();\n        },\n    };\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/shell/base_index.js\n// module id = 39\n// module chunks = 0 1 2","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar cockpit = require(\"cockpit\");\nvar _ = cockpit.gettext;\n\nvar React = require(\"react\");\n\nvar dialogPattern = require(\"cockpit-components-dialog.jsx\");\nvar PagesDialog = require(\"./active-pages-dialog.jsx\");\n\n// The argument is a Frames object from base_index.js\nvar showDialog = function(frames) {\n    var dataStore = { };\n\n    // we omit the host for all pages on our current system\n    function displayName(address, component) {\n        if (address == \"localhost\")\n            return \"/\" + component;\n        return address + \":/\" + component;\n    }\n\n    function gatherIframes() {\n        var result = [ ];\n        var address, component, iframe;\n        for (address in frames.iframes) {\n            for (component in frames.iframes[address]) {\n                iframe = frames.iframes[address][component];\n                result.push({\n                    frame: iframe,\n                    component: component,\n                    address: address,\n                    name: iframe.getAttribute(\"name\"),\n                    visible: iframe.style.display.indexOf(\"block\") !== -1,\n                    displayName: displayName(address, component)\n                });\n            }\n        }\n        return result;\n    }\n\n    var selectedFrames = [];\n\n    dataStore.closePage = function() {\n        // the user wants to close the selected pages\n        selectedFrames.forEach(function(element) {\n            frames.remove(element.host, element.component);\n        });\n        return cockpit.resolve();\n    };\n\n    function selectionChanged(frame, selected) {\n        var index = selectedFrames.indexOf(frame);\n        if (selected) {\n            if (index === -1)\n                selectedFrames.push(frame);\n        } else {\n            if (index !== -1)\n                selectedFrames.splice(index, 1);\n        }\n    }\n\n    var iframes = gatherIframes();\n    // by default, select currently active (visible) frame\n    iframes.forEach(function(f, index) {\n        if (f.visible) {\n            if (!(f in selectedFrames))\n                selectedFrames.push(f);\n        }\n        f.selected = f.visible;\n    });\n    // sort the frames by displayName, visible ones first\n    iframes.sort(function(a, b) {\n        return (a.visible ? -2 : 0) + (b.visible ? 2 : 0) +\n               ((a.displayName < b.displayName) ? -1 : 0) + ((b.displayName < a.displayName) ? 1 : 0);\n    });\n    dataStore.dialogProps = {\n        title: _(\"Active Pages\"),\n        id: \"active-pages-dialog\",\n        body: React.createElement(PagesDialog, { iframes: iframes, selectionChanged: selectionChanged }),\n    };\n\n    dataStore.footerProps = {\n        'actions': [\n              { 'clicked': dataStore.closePage,\n                'caption': _(\"Close Selected Pages\"),\n                'style': 'primary',\n              }\n          ],\n    };\n\n    dataStore.dialogObj = dialogPattern.show_modal_dialog(dataStore.dialogProps, dataStore.footerProps);\n\n    dataStore.update = function() {\n        dataStore.dialogProps.body = React.createElement(PagesDialog, { });\n        dataStore.dialogObj.setProps(dataStore.dialogProps);\n    };\n\n    return dataStore;\n};\n\nmodule.exports = {\n    showDialog: showDialog\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/shell/active-pages.js\n// module id = 40\n// module chunks = 0 1 2","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar cockpit = require(\"cockpit\");\nvar React = require(\"react\");\nvar _ = cockpit.gettext;\n\nrequire(\"page.css\");\n\n/*\n * React template for a Cockpit dialog footer\n * It can display an error, wait for an action to complete,\n * has a 'Cancel' button and an action button (defaults to 'OK')\n * Expected props:\n *  - cancel_clicked optional\n *     Callback called when the dialog is canceled\n *  - cancel_style\n *     css class used for the cancel button, defaults to 'cancel'\n *  - cancel_caption optional, defaults to 'Cancel'\n *  - list of actions, each an object with:\n *      - clicked\n *         Callback function that is expected to return a promise.\n *         parameter: callback to set the progress text (will be displayed next to spinner)\n *      - caption optional, defaults to 'Ok'\n *      - disabled optional, defaults to false\n *      - style defaults to 'default', other options: 'primary', 'danger'\n *  - static_error optional, always show this error\n *  - dialog_done optional, callback when dialog is finished (param true if success, false on cancel)\n */\nvar DialogFooter = React.createClass({\n    propTypes: {\n        cancel_clicked: React.PropTypes.func,\n        cancel_caption: React.PropTypes.string,\n        actions: React.PropTypes.array,\n        static_error: React.PropTypes.string,\n        dialog_done: React.PropTypes.func,\n    },\n    getInitialState: function() {\n        return {\n            action_in_progress: false,\n            action_in_progress_promise: null,\n            action_progress_message: '',\n            action_canceled: false,\n            error_message: null,\n        };\n    },\n    keyUpHandler: function(e) {\n        if (e.keyCode == 27) {\n            this.cancel_click();\n            e.stopPropagation();\n        }\n    },\n    componentDidMount: function() {\n        document.body.classList.add(\"modal-in\");\n        document.addEventListener('keyup', this.keyUpHandler.bind(this));\n    },\n    componentWillUnmount: function() {\n        document.body.classList.remove(\"modal-in\");\n        document.removeEventListener('keyup', this.keyUpHandler.bind(this));\n    },\n    update_progress: function(msg) {\n        this.setState({ action_progress_message: msg });\n    },\n    action_click: function(handler, e) {\n        // only consider clicks with the primary button\n        if (e && e.button !== 0)\n            return;\n        var self = this;\n        this.setState({\n                          error_message: null,\n                          action_progress_message: '',\n                          action_in_progress: true,\n                          action_canceled: false,\n                      });\n        this.state.action_in_progress_promise = handler(this.update_progress.bind(this))\n            .done(function() {\n                self.setState({ action_in_progress: false, error_message: null });\n                if (self.props.dialog_done)\n                    self.props.dialog_done(true);\n            })\n            .fail(function(error) {\n                if (self.state.action_canceled) {\n                    if (self.props.dialog_done)\n                        self.props.dialog_done(false);\n                }\n\n                /* Always log global dialog errors for easier debugging */\n                console.warn(error);\n\n                self.setState({ action_in_progress: false, error_message: error });\n            })\n            .progress(this.update_progress.bind(this));\n        if (e)\n            e.stopPropagation();\n    },\n    cancel_click: function(e) {\n        // only consider clicks with the primary button\n        if (e && e.button !== 0)\n            return;\n\n        this.setState({ action_canceled: true });\n\n        if (this.props.cancel_clicked)\n            this.props.cancel_clicked();\n\n        // an action might be in progress, let that handler decide what to do if they added a cancel function\n        if (this.state.action_in_progress && 'cancel' in this.state.action_in_progress_promise) {\n            this.state.action_in_progress_promise.cancel();\n            return;\n        }\n\n        if (this.props.dialog_done)\n            this.props.dialog_done(false);\n        if (e)\n            e.stopPropagation();\n    },\n    render: function() {\n        var cancel_caption, cancel_style;\n        if ('cancel_caption' in this.props)\n            cancel_caption = this.props.cancel_caption;\n        else\n            cancel_caption = _(\"Cancel\");\n\n        if ('cancel_style' in this.props)\n            cancel_style = this.props.cancel_style;\n        else\n            cancel_style = \"cancel\";\n        cancel_style = \"btn btn-default \" + cancel_style;\n\n        // If an action is in progress, show the spinner with its message and disable all actions except cancel\n        var wait_element;\n        var actions_disabled;\n        if (this.state.action_in_progress) {\n            actions_disabled = 'disabled';\n            wait_element = <div className=\"dialog-wait-ct pull-left\">\n                               <div className=\"spinner spinner-sm\"></div>\n                               <span>{ this.state.action_progress_message }</span>\n                           </div>;\n        }\n\n        var self = this;\n        var action_buttons = this.props.actions.map(function(action) {\n            var caption;\n            if ('caption' in action)\n                caption = action.caption;\n            else\n                caption = _(\"Ok\");\n\n            var button_style = \"btn-default\";\n            var button_style_mapping = { 'primary': 'btn-primary', 'danger': 'btn-danger' };\n            if ('style' in action && action.style in button_style_mapping)\n                button_style = button_style_mapping[action.style];\n            button_style = \"btn \" + button_style + \" apply\";\n            var action_disabled = actions_disabled || ('disabled' in action && action.disabled);\n            return (<button\n                    key={ caption }\n                    className={ button_style }\n                    onClick={ self.action_click.bind(self, action.clicked) }\n                    disabled={ action_disabled }\n                    >{ caption }</button>\n            );\n        });\n\n        // If we have an error message, display the error\n        var error_element;\n        var error_message;\n        if (this.props.static_error !== undefined && this.props.static_error !== null)\n            error_message = this.props.static_error;\n        else\n            error_message = this.state.error_message;\n        if (error_message) {\n            error_element = <div className=\"alert alert-danger dialog-error\">\n                                <span className=\"fa fa-exclamation-triangle\"></span>\n                                <span>{ error_message }</span>\n                            </div>;\n        }\n        return (\n            <div className=\"modal-footer\">\n                { error_element }\n                { wait_element }\n                <button\n                    className={ cancel_style }\n                    onClick={ this.cancel_click.bind(this) }\n                    >{ cancel_caption }</button>\n                { action_buttons }\n            </div>\n        );\n    }\n});\n\n/*\n * React template for a Cockpit dialog\n * The primary action button is disabled while its action is in progress (waiting for promise)\n * Removes focus on other elements on showing\n * Expected props:\n *  - title (string)\n *  - no_backdrop optional, skip backdrop if true\n *  - body (react element, top element should be of class modal-body)\n *      It is recommended for information gathering dialogs to pass references\n *      to the input components to the controller. That way, the controller can\n *      extract all necessary information (e.g. for input validation) when an\n *      action is triggered.\n *  - footer (react element, top element should be of class modal-footer)\n *  - id optional, id that is assigned to the top level dialog node, but not the backdrop\n */\nvar Dialog = React.createClass({\n    propTypes: {\n        title: React.PropTypes.string.isRequired,\n        no_backdrop: React.PropTypes.bool,\n        body: React.PropTypes.element.isRequired,\n        footer: React.PropTypes.element.isRequired,\n        id: React.PropTypes.string,\n    },\n    componentDidMount: function() {\n        // if we used a button to open this, make sure it's not focused anymore\n        if (document.activeElement)\n            document.activeElement.blur();\n    },\n    render: function() {\n        var backdrop;\n        if (!this.props.no_backdrop) {\n            backdrop = <div className=\"modal-backdrop fade in\"></div>;\n        }\n        return (\n            <div>\n                { backdrop }\n                <div className=\"modal fade in dialog-ct-visible\" tabindex=\"-1\">\n                    <div id={this.props.id} className=\"modal-dialog\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h4 className=\"modal-title\">{ this.props.title }</h4>\n                            </div>\n                            { this.props.body }\n                            { this.props.footer }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\n/* Create and show a dialog\n * For this, create a containing DOM node at the body level\n * The returned object has the following methods:\n *     - setFooterProps replace the current footerProps and render\n *     - setProps       replace the current props and render\n *     - render         render again using the stored props\n * The DOM node and React metadata are freed once the dialog has closed\n */\nvar show_modal_dialog = function(props, footerProps) {\n    var dialogName = 'cockpit_modal_dialog';\n    // don't allow nested dialogs\n    if (document.getElementById(dialogName)) {\n        console.warn('Unable to create nested dialog');\n        return;\n    }\n    // create an element to render into\n    var rootElement = document.createElement(\"div\");\n    rootElement.id = dialogName;\n    document.body.appendChild(rootElement);\n\n    // register our own on-close callback\n    var origCallback;\n    var closeCallback = function() {\n        if (origCallback)\n            origCallback.apply(this, arguments);\n        React.unmountComponentAtNode(rootElement);\n        rootElement.remove();\n    };\n\n    var dialogObj = { };\n    dialogObj.props = null;\n    dialogObj.footerProps = null;\n    dialogObj.render = function() {\n        dialogObj.props.footer = <DialogFooter {...dialogObj.footerProps} />;\n        React.render(<Dialog {...dialogObj.props} />, rootElement);\n    };\n    function updateFooterAndRender() {\n        if (dialogObj.props === null || dialogObj.props === undefined)\n            dialogObj.props = { };\n        dialogObj.props.footer = <DialogFooter {...dialogObj.footerProps} />;\n        dialogObj.render();\n    }\n    dialogObj.setFooterProps = function(footerProps) {\n        /* Always log error messages to console for easier debugging */\n        if (footerProps.static_error)\n            console.warn(footerProps.static_error);\n        dialogObj.footerProps = footerProps;\n        if (dialogObj.footerProps === null || dialogObj.footerProps === undefined)\n            dialogObj.footerProps = { };\n        if (dialogObj.footerProps.dialog_done != closeCallback) {\n            origCallback = dialogObj.footerProps.dialog_done;\n            dialogObj.footerProps.dialog_done = closeCallback;\n        }\n        updateFooterAndRender();\n    };\n    dialogObj.setProps = function(props) {\n        dialogObj.props = props;\n        updateFooterAndRender();\n    };\n    dialogObj.setFooterProps(footerProps);\n    dialogObj.setProps(props);\n\n    // now actually render\n    dialogObj.render();\n\n    return dialogObj;\n};\n\nmodule.exports = {\n    Dialog: Dialog,\n    DialogFooter: DialogFooter,\n    show_modal_dialog: show_modal_dialog,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-dialog.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar React = require(\"react\");\n\nvar cockpit = require(\"cockpit\");\nvar _ = cockpit.gettext;\n\nvar listingPattern = require(\"cockpit-components-listing.jsx\");\nvar Listing = listingPattern.Listing;\nvar ListingRow = listingPattern.ListingRow;\n\n/* Dialog body to show active Cockpit pages\n * Props:\n *  - iframes          iframe elements on page to list\n *  - selectionChanged callback when the select state changed, parameters: frame object, new value\n */\nvar ActivePagesDialogBody = React.createClass({\n    render: function() {\n        var self = this;\n        var frames = self.props.iframes.map(function(frame) {\n            var badge;\n            if (frame.visible)\n                badge = <span className=\"badge pull-right\">{_(\"active\")}</span>;\n            var columns = [\n                { name: frame.displayName, header: frame.visible },\n                badge,\n            ];\n            var selectCallback;\n            if (self.props.selectionChanged)\n                selectCallback = self.props.selectionChanged.bind(self, frame);\n            return (\n                <ListingRow columns={columns}\n                    rowId={frame.name}\n                    selected={frame.selected}\n                    selectChanged={selectCallback}\n                />\n            );\n        });\n\n        return (\n            <div className=\"modal-body\">\n                <Listing emptyCaption={ _(\"There are currently no active pages\") }>\n                    {frames}\n                </Listing>\n            </div>\n        );\n    }\n});\n\nmodule.exports = ActivePagesDialogBody;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/shell/active-pages-dialog.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar React = require('react');\n\nrequire('./listing.less');\n\n/* entry for an alert in the listing, can be expanded (with details) or standard\n * rowId optional: an identifier for the row which will be set as \"data-row-id\" attribute on the <tr>\n * columns list of columns to show in the header\n *     columns to show, can be a string, react component or object with { name: 'name', 'header': false }\n *     'header' (or if simple string) defaults to false\n *     in case 'header' is true, <th> is used for the entries, otherwise <td>\n * tabRenderers optional: list of tab renderers for inline expansion, array of objects with\n *     - name tab name (has to be unique in the entry, used as react key)\n *     - renderer react component\n *     - data render data passed to the tab renderer\n *     - presence 'always', 'onlyActive', 'loadOnDemand', default: 'loadOnDemand'\n *         - 'always' once a row is expanded, this tab is always rendered, but invisible if not active\n *         - 'onlyActive' the tab is only rendered when active\n *         - 'loadOnDemand' the tab is first rendered when it becomes active, then follows 'always' behavior\n *     if tabRenderers isn't set, item can't be expanded inline\n * navigateToItem optional: callback triggered when a row is clicked, pattern suggests navigation\n *     to view expanded item details, if not set, navigation isn't available\n * listingDetail optional: text rendered next to action buttons, similar style to the tab headers\n * listingActions optional: buttons that are presented as actions for the expanded item\n * selectChanged optional: callback will be used when the \"selected\" state changes\n * selected optional: true if the item is selected, can't be true if row has navigation or expansion\n * initiallyExpanded optional: the entry will be initially rendered as expanded, but then behaves normally\n */\nvar ListingRow = React.createClass({\n    propTypes: {\n        rowId: React.PropTypes.string,\n        columns: React.PropTypes.array.isRequired,\n        tabRenderers: React.PropTypes.array,\n        navigateToItem: React.PropTypes.func,\n        listingDetail: React.PropTypes.node,\n        listingActions: React.PropTypes.arrayOf(React.PropTypes.node),\n        selectChanged: React.PropTypes.func,\n        selected: React.PropTypes.bool,\n        initiallyExpanded: React.PropTypes.bool,\n        initiallyActiveTab: React.PropTypes.bool,\n    },\n    getDefaultProps: function () {\n        return {\n            tabRenderers: [],\n            navigateToItem: null,\n        };\n    },\n    getInitialState: function() {\n        return {\n            expanded: this.props.initiallyExpanded, // show expanded view if true, otherwise one line compact\n            activeTab: this.props.initiallyActiveTab ? this.props.initiallyActiveTab : 0,    // currently active tab in expanded mode, defaults to first tab\n            loadedTabs: {},  // which tabs were already loaded - this is important for 'loadOnDemand' setting\n                             // contains tab indices\n            selected: this.props.selected, // whether the current row is selected\n        };\n    },\n    handleNavigateClick: function(e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n        this.props.navigateToItem();\n    },\n    handleExpandClick: function(e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n\n        var willBeExpanded = !this.state.expanded && this.props.tabRenderers.length > 0;\n        this.setState( { expanded: willBeExpanded });\n\n        var loadedTabs = {};\n        // unload all tabs if not expanded\n        if (willBeExpanded) {\n            // see if we should preload some tabs\n            var tabIdx;\n            var tabPresence;\n            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n                if ('presence' in this.props.tabRenderers[tabIdx])\n                    tabPresence = this.props.tabRenderers[tabIdx].presence;\n                else\n                    tabPresence = 'default';\n                // the active tab is covered by separate logic\n                if (tabPresence == 'always')\n                    loadedTabs[tabIdx] = true;\n            }\n            // ensure the active tab is loaded\n            loadedTabs[this.state.activeTab] = true;\n        }\n\n        this.setState( { loadedTabs: loadedTabs });\n\n        e.stopPropagation();\n        e.preventDefault();\n    },\n    handleSelectClick: function(e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n\n        var selected = !this.state.selected;\n        this.setState( { selected: selected });\n\n        if (this.props.selectChanged)\n            this.props.selectChanged(selected);\n\n        e.stopPropagation();\n        e.preventDefault();\n    },\n    handleTabClick: function(tabIdx, e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n        var prevTab = this.state.activeTab;\n        var prevTabPresence = 'default';\n        var loadedTabs = this.state.loadedTabs;\n        if (prevTab !== tabIdx) {\n            // see if we need to unload the previous tab\n            if ('presence' in this.props.tabRenderers[prevTab])\n                prevTabPresence = this.props.tabRenderers[prevTab].presence;\n\n            if (prevTabPresence == 'onlyActive')\n                delete loadedTabs[prevTab];\n\n            // ensure the new tab is loaded and update state\n            loadedTabs[tabIdx] = true;\n            this.setState({ loadedTabs: loadedTabs, activeTab: tabIdx });\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    },\n    render: function() {\n        var self = this;\n        // only enable navigation if a function is provided and the row isn't expanded (prevent accidental navigation)\n        var allowNavigate = !!this.props.navigateToItem && !this.state.expanded;\n\n        var headerEntries = this.props.columns.map(function(itm) {\n            if (typeof itm === 'string' || typeof itm === 'number' || itm === null || itm === undefined || itm instanceof String || React.isValidElement(itm))\n                return (<td>{itm}</td>);\n            else if ('header' in itm && itm.header)\n                return (<th>{itm.name}</th>);\n            else if ('tight' in itm && itm.tight)\n                return (<td className=\"listing-ct-actions\">{itm.name || itm.element}</td>);\n            else\n                return (<td>{itm.name}</td>);\n        });\n\n        var allowExpand = (this.props.tabRenderers.length > 0);\n        var expandToggle;\n        if (allowExpand) {\n            expandToggle = <td className=\"listing-ct-toggle\" onClick={ allowNavigate?this.handleExpandClick:undefined }>\n                               <i className=\"fa fa-fw\"></i>\n                           </td>;\n        } else {\n            expandToggle = <td className=\"listing-ct-toggle\"></td>;\n        }\n\n        var listingItemClasses = [\"listing-ct-item\"];\n        if (!allowNavigate)\n            listingItemClasses.push(\"listing-ct-nonavigate\");\n        if (!allowExpand)\n            listingItemClasses.push(\"listing-ct-noexpand\");\n\n        var allowSelect = !(allowNavigate || allowExpand) && (this.state.selected !== undefined);\n        var clickHandler;\n        if (allowSelect) {\n            clickHandler = this.handleSelectClick;\n            if (this.state.selected)\n                listingItemClasses.push(\"listing-ct-selected\");\n        } else {\n            if (allowNavigate)\n                clickHandler = this.handleNavigateClick;\n            else\n                clickHandler = this.handleExpandClick;\n        }\n\n        var listingItem = (\n            <tr data-row-id={ this.props.rowId }\n                className={ listingItemClasses.join(' ') }\n                onClick={clickHandler}>\n                {expandToggle}\n                {headerEntries}\n            </tr>\n        );\n\n        if (this.state.expanded) {\n            var links = this.props.tabRenderers.map(function(itm, idx) {\n                return (\n                    <li key={idx} className={ (idx === self.state.activeTab) ? \"active\" : \"\"} >\n                        <a href=\"#\" onClick={ self.handleTabClick.bind(self, idx) }>{itm.name}</a>\n                    </li>\n                );\n            });\n            var tabs = [];\n            var tabIdx;\n            var Renderer;\n            var rendererData;\n            var row;\n            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n                Renderer = this.props.tabRenderers[tabIdx].renderer;\n                rendererData = this.props.tabRenderers[tabIdx].data;\n                if (tabIdx !== this.state.activeTab && !(tabIdx in this.state.loadedTabs))\n                    continue;\n                row = <Renderer key={ this.props.tabRenderers[tabIdx].name } hidden={ (tabIdx !== this.state.activeTab) } {...rendererData} />;\n                if (tabIdx === this.state.activeTab)\n                    tabs.push(<div className=\"listing-ct-body\" key={tabIdx}>{row}</div>);\n                else\n                    tabs.push(<div className=\"listing-ct-body\" key={tabIdx} hidden>{row}</div>);\n            }\n\n            var listingDetail;\n            if ('listingDetail' in this.props) {\n                listingDetail = (\n                    <span className=\"listing-ct-caption\">\n                        {this.props.listingDetail}\n                    </span>\n                );\n            }\n\n            return (\n                <tbody className=\"open\">\n                    {listingItem}\n                    <tr className=\"listing-ct-panel\">\n                        <td colSpan={ headerEntries.length + (expandToggle?1:0) }>\n                            <div className=\"listing-ct-head\">\n                                <div className=\"listing-ct-actions\">\n                                    {listingDetail}\n                                    {this.props.listingActions}\n                                </div>\n                                <ul className=\"nav nav-tabs nav-tabs-pf\">\n                                    {links}\n                                </ul>\n                            </div>\n                            {tabs}\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        } else {\n            return (\n                <tbody>\n                    {listingItem}\n                    <tr className=\"listing-ct-panel\"/>\n                </tbody>\n            );\n        }\n    }\n});\n\n/* Implements a PatternFly 'List View' pattern\n * https://www.patternfly.org/list-view/\n * Properties:\n * - title\n * - fullWidth optional: set width to 100% of parent, defaults to true\n * - emptyCaption header caption to show if list is empty, defaults to \"No entries\"\n * - columnTitles: array of column titles, as strings\n * - actions: additional listing-wide actions (displayed next to the list's title)\n */\nvar Listing = React.createClass({\n    propTypes: {\n        title: React.PropTypes.string.isRequired,\n        fullWidth: React.PropTypes.bool,\n        emptyCaption: React.PropTypes.string.isRequired,\n        columnTitles: React.PropTypes.arrayOf(React.PropTypes.string),\n        actions: React.PropTypes.arrayOf(React.PropTypes.node)\n    },\n    getDefaultProps: function () {\n        return {\n            fullWidth: true,\n            columnTitles: [],\n            actions: []\n        };\n    },\n    render: function() {\n        var bodyClasses = [\"listing\", \"listing-ct\"];\n        if (this.props.fullWidth)\n            bodyClasses.push(\"listing-ct-wide\");\n        var headerClasses;\n        var headerRow;\n        var selectableRows;\n        if (!this.props.children || this.props.children.length === 0) {\n            headerClasses = \"listing-ct-empty\";\n            headerRow = <tr><td>{this.props.emptyCaption}</td></tr>;\n        } else if (this.props.columnTitles.length) {\n            // check if any of the children are selectable\n            selectableRows = false;\n            this.props.children.forEach(function(r) {\n                if (r.props.selected !== undefined)\n                    selectableRows = true;\n            });\n\n            if (selectableRows) {\n                // now make sure that if one is set, it's available on all items\n                this.props.children.forEach(function(r) {\n                    if (r.props.selected === undefined)\n                        r.props.selected = false;\n                });\n            }\n\n            headerRow = (\n                <tr>\n                    <th className=\"listing-ct-toggle\"></th>\n                    { this.props.columnTitles.map(function (title) { return <th>{title}</th>; }) }\n                </tr>\n            );\n        } else {\n           headerRow = <tr/>\n        }\n        var caption;\n        if (this.props.title || (this.props.actions && this.props.actions.length > 0))\n            caption = <caption className=\"cockpit-caption\">{this.props.title}{this.props.actions}</caption>;\n\n        return (\n            <table className={ bodyClasses.join(\" \") }>\n                {caption}\n                <thead className={headerClasses}>\n                    {headerRow}\n                </thead>\n                {this.props.children}\n            </table>\n        );\n    },\n});\n\nmodule.exports = {\n    ListingRow: ListingRow,\n    Listing: Listing,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-listing.jsx","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar cockpit = require(\"cockpit\");\n\nfunction Privileges() {\n    var self = this;\n    var locked = null;\n    var lock;\n\n    function clicked(ev) {\n        cockpit.drop_privileges(false);\n        ev.preventDefault();\n    }\n\n    function display(blink) {\n        var i, locks = document.querySelectorAll(\".credential-lock\");\n        for (i = 0; i < locks.length; i++) {\n            lock = locks[i];\n            if (locked !== true)\n                lock.classList.remove(\"credential-locked\");\n            else if (locked === true)\n                lock.classList.add(\"credential-locked\");\n            if (locked !== false)\n                lock.classList.remove(\"credential-unlocked\");\n            else if (locked === false)\n                lock.classList.add(\"credential-unlocked\");\n\n            if (lock.tagName == \"LI\" && blink)\n                lock.classList.add(\"credential-blink\");\n            else\n                lock.classList.remove(\"credential-blink\");\n        }\n\n        var clear = document.querySelectorAll(\".credential-clear\");\n        for (i = 0; i < clear.length; i++)\n            clear[i].onclick = clicked;\n    }\n\n    self.update = function update(hint) {\n        var blink = false;\n        if (hint.credential == \"password\") {\n            locked = false;\n        } else if (hint.credential == \"request\") {\n            if (locked === null)\n                locked = true;\n            blink = true;\n        } else if (hint.credential == \"none\") {\n            locked = null;\n        }\n        display(blink);\n    };\n\n    /* No op authorize command to poke about state */\n    cockpit.transport.control(\"authorize\");\n}\n\nvar privileges = null;\nmodule.exports = {\n    instance: function() {\n        if (!privileges)\n            privileges = new Privileges();\n        return privileges;\n    }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/shell/privileges.js\n// module id = 45\n// module chunks = 0"],"sourceRoot":""}