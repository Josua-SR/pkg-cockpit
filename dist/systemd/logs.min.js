!function(e) {
    function t(r) {
        if (n[r]) return n[r].exports;
        var o = n[r] = {
            exports: {},
            id: r,
            loaded: !1
        };
        return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports;
    }
    var n = {};
    return t.m = e, t.c = n, t.p = "", t(0);
}([ function(e, t, n) {
    e.exports = n(1);
}, function(e, t, n) {
    "use strict";
    var r = n(2);
    r(function() {
        function e(e, t, n, o) {
            function i(e) {
                console.warn(s.message(e));
            }
            function a(e) {
                for (var t = 0; t < e.length; t++) y.prepend(e[t]);
                y.prepend_flush(), _ = null;
            }
            function c(e) {
                for (var t = 0; t < e.length; t++) y.append(e[t]);
                y.append_flush(), _ = null;
            }
            function p(e) {
                var t = r('<button id="journal-load-earlier" class="btn btn-default" data-inline="true" data-mini="true">' + u("Load earlier entries") + "</button>");
                v.html(t), t.click(function() {
                    var t = 0, r = null;
                    v.text(u("Loading...")), w.push(l.journalctl(n, {
                        follow: !1,
                        reverse: !0,
                        cursor: e
                    }).fail(i).stream(function(n) {
                        n[0].__CURSOR == e && n.shift(), t += n.length, c(n), t >= m && (r = n[n.length - 1].__CURSOR, 
                        p(r), this.stop());
                    }).done(function() {
                        v.text() == u("Loading...") && v.empty();
                    }));
                });
            }
            function f(e) {
                w.push(l.journalctl(n, {
                    follow: !0,
                    count: 0,
                    cursor: e
                }).fail(i).stream(function(t) {
                    t[0].__CURSOR == e && t.shift(), a(t), d();
                }));
            }
            function d() {
                if (null === _) {
                    _ = [];
                    for (var e = h[0].firstChild; e; e = e.nextSibling) r(e).hasClass("panel-heading") && _.push([ r(e).offset().top, r(e).text() ]);
                }
                if (_.length > 0) {
                    for (var t = 0, n = window.scrollY; t + 1 < _.length && _[t + 1][0] < n; ) t++;
                    o.text(_[t][1]);
                } else o.text(u("Go to"));
            }
            var h = r('<div class="panel panel-default cockpit-log-panel">'), v = r('<div class="journal-start">');
            e.empty().append(h, v);
            var g = 5e3, m = 1e3, y = l.renderer(h), _ = null, w = [];
            v.text(u("Loading...")), r(window).on("scroll", d);
            var b = {
                follow: !1,
                reverse: !0
            }, x = !1;
            "boot" == t ? b.boot = null : "last-24h" == t ? b.since = "-1days" : "last-week" == t ? b.since = "-7days" : x = !0;
            var k = null, j = 0, S = null;
            return w.push(l.journalctl(n, b).fail(i).stream(function(e) {
                k || (k = e[0].__CURSOR, f(k), d()), j += e.length, c(e), j >= g && (S = e[e.length - 1].__CURSOR, 
                p(S), this.stop());
            }).done(function() {
                v.text() == u("Loading...") && v.empty(), k || w.push(l.journalctl(n, {
                    follow: !0,
                    count: 0,
                    boot: b.boot,
                    since: b.since
                }).fail(i).stream(function(e) {
                    a(e), d();
                })), x && !S || p();
            })), e.stop = function() {
                r(window).off("scroll", d), r.each(w, function(e, t) {
                    t.stop();
                });
            }, e;
        }
        function t() {
            c && c.stop();
        }
        function o() {
            t();
            var n = [], o = s.location.options.prio || "3", i = parseInt(o, 10);
            if (r("#journal-prio button").each(function() {
                var e = parseInt(r(this).attr("data-prio"), 10);
                r(this).toggleClass("active", isNaN(i) || e <= i);
            }), i) for (var a = 0; a <= i; a++) n.push("PRIORITY=" + a.toString());
            var l = s.location.options;
            l.service ? n.push("_SYSTEMD_UNIT=" + l.service) : l.tag && n.push("SYSLOG_IDENTIFIER=" + l.tag);
            var c = s.location.options.start || "recent";
            "recent" == c && r(window).scrollTop(r(document).height()), e(r("#journal-box"), c, n, r("#journal-current-day"));
        }
        function i() {
            function e(e) {
                r("#journal-entry-message").text(l.printable(e.MESSAGE));
                var t = new Date(e.__REALTIME_TIMESTAMP / 1e3);
                r("#journal-entry-date").text(t.toString());
                var n;
                n = e.SYSLOG_IDENTIFIER ? e.SYSLOG_IDENTIFIER : e._SYSTEMD_UNIT ? e._SYSTEMD_UNIT : u("Journal entry"), 
                r("#journal-entry-id").text(n);
                var i = Object.keys(e).sort();
                r.each(i, function(t, n) {
                    "MESSAGE" != n && o.append(r("<tr>").append(r("<td>").css("text-align", "right").text(n), r("<td>").css("text-align", "left").text(l.printable(e[n]))));
                });
            }
            function t(e) {
                o.append(r("<tr>").append(r("<td>").text(e)));
            }
            var n = s.location.path[0], o = r("#journal-entry-fields");
            o.empty(), l.journalctl({
                cursor: n,
                count: 1,
                follow: !1
            }).done(function(r) {
                r.length >= 1 && r[0].__CURSOR == n ? e(r[0]) : t(u("Journal entry not found"));
            }).fail(function(e) {
                t(e);
            });
        }
        function a() {
            var e = s.location.path;
            0 === e.length ? (r("#journal-entry").hide(), o(), r("#journal").show()) : 1 == e.length ? (t(), 
            r("#journal").hide(), i(), r("#journal-entry").show()) : (console.warn("not a journal location: " + e), 
            s.location = ""), r("body").show();
        }
        var s = n(3), l = n(4);
        s.translate();
        var c, u = s.gettext;
        r(s).on("locationchanged", a), r("#journal-current-day-menu a").on("click", function() {
            s.location.go([], r.extend(s.location.options, {
                start: r(this).attr("data-op")
            }));
        }), r("#journal-box").on("click", ".cockpit-logline", function() {
            var e = r(this).attr("data-cursor");
            e && s.location.go([ e ]);
        }), r("#journal-prio button").on("click", function() {
            var e = s.location.options, t = r(this).attr("data-prio");
            t ? e.prio = t : delete e.prio, s.location.go([], e);
        }), r("#journal-navigate-home").on("click", function() {
            s.location.go("/");
        }), a();
    });
}, function(e, t) {
    e.exports = jQuery;
}, function(e, t) {
    e.exports = cockpit;
}, function(e, t, n) {
    "use strict";
    !function() {
        function t(e) {
            function t(e, t, n, r, i, s) {
                var l = {
                    cursor: s.__CURSOR,
                    time: i,
                    message: n,
                    service: e
                };
                return r > 1 && (l.count = r), t < 4 && (l.warning = !0), o.render(a, l);
            }
            function n() {
                return p;
            }
            function r(e) {
                return o.render(i, {
                    day: e
                });
            }
            function c(e) {
                var t = document.createElement("div");
                return t.innerHTML = e.trim(), t.children[0];
            }
            e.jquery && (e = e[0]), o.parse(i), o.parse(a), o.parse(s);
            var u = l("Reboot"), p = o.render(s, {
                message: u
            });
            return {
                render_line: t,
                render_day_header: r,
                render_reboot_separator: n,
                append: function(t) {
                    "string" == typeof t && (t = c(t)), e.appendChild(t);
                },
                prepend: function(t) {
                    "string" == typeof t && (t = c(t)), e.firstChild ? e.insertBefore(t, e.firstChild) : e.appendChild(t);
                },
                remove_last: function() {
                    e.lastChild && e.removeChild(e.lastChild);
                },
                remove_first: function() {
                    e.firstChild && e.removeChild(e.firstChild);
                }
            };
        }
        var r = n(3), o = n(5), i = n(6), a = n(7), s = n(8), l = r.gettext, c = r.gettext, u = {};
        u.journalctl = function() {
            function e() {
                var e, t;
                if (p.length && u.length > 0) for (e = u, u = [], t = 0; t < p.length; t++) p[t].apply(s, [ e ]); else window.clearInterval(f), 
                f = null;
            }
            var t, n, o = [], i = {
                follow: !0
            };
            for (t = 0; t < arguments.length; t++) if (n = arguments[t], "string" == typeof n) o.push(n); else if ("object" == typeof n) {
                if (!(n instanceof Array)) {
                    r.extend(i, n);
                    break;
                }
                o.push.apply(o, n);
            } else console.warn("journal.journalctl called with invalid argument:", n);
            void 0 === i.count && (i.follow ? i.count = 10 : i.count = null);
            var a = [ "journalctl", "-q", "--output=json" ];
            i.count ? a.push("--lines=" + i.count) : a.push("--no-tail"), i.directory && a.push("--directory=" + i.directory), 
            i.boot ? a.push("--boot=" + i.boot) : void 0 !== i.boot && a.push("--boot"), i.since && a.push("--since=" + i.since), 
            i.until && a.push("--until=" + i.until), i.cursor && a.push("--cursor=" + i.cursor), 
            i.after && a.push("--after=" + i.after), i.reverse ? a.push("--reverse") : i.follow && a.push("--follow"), 
            a.push("--"), a.push.apply(a, o);
            var s, l = new r.defer(), c = "", u = [], p = [], f = null, d = r.spawn(a, {
                host: i.host,
                batch: 8192,
                latency: 300,
                superuser: "try"
            }).stream(function(t) {
                c && (t = c + t), c = "";
                var n = t.split("\n"), r = n.length - 1;
                n.forEach(function(e, t) {
                    if (t == r) c = e; else if (e && 0 !== e.indexOf("-- ")) try {
                        u.push(JSON.parse(e));
                    } catch (t) {
                        console.warn(t, e);
                    }
                }), p.length && null === f && (f = window.setInterval(e, 300));
            }).done(function() {
                e(), l.resolve(u);
            }).fail(function(t) {
                "cancelled" == t.problem || 1 === t.exit_status ? (e(), l.resolve(u)) : l.reject(t);
            }).always(function() {
                window.clearInterval(f);
            });
            return s = l.promise(), s.stream = function(e) {
                return p.push(e), this;
            }, s.stop = function() {
                d.close("cancelled");
            }, s;
        }, u.printable = function(e) {
            return void 0 === e ? l("[no data]") : "string" == typeof e ? e : void 0 !== e.length ? r.format(l("[$0 bytes of binary data]"), e.length) : l("[binary data]");
        };
        var p = [ c("month-name", "January"), c("month-name", "February"), c("month-name", "March"), c("month-name", "April"), c("month-name", "May"), c("month-name", "June"), c("month-name", "July"), c("month-name", "August"), c("month-name", "September"), c("month-name", "October"), c("month-name", "November"), c("month-name", "December") ];
        u.renderer = function(e) {
            function n(e) {
                var t = {};
                for (var n in e) t[n] = e[n];
                return t;
            }
            function r(e) {
                function t(e) {
                    var t = e.toFixed();
                    return 1 == t.length && (t = "0" + t), t;
                }
                var n = new Date(e.__REALTIME_TIMESTAMP / 1e3);
                return {
                    cursor: e.__CURSOR,
                    full: e,
                    day: p[n.getMonth()] + " " + n.getDate().toFixed() + ", " + n.getFullYear().toFixed(),
                    time: t(n.getHours()) + ":" + t(n.getMinutes()),
                    bootid: e._BOOT_ID,
                    ident: e.SYSLOG_IDENTIFIER || e._COMM,
                    prio: e.PRIORITY,
                    message: u.printable(e.MESSAGE)
                };
            }
            function o(e, t) {
                return e && t && e.day == t.day && e.bootid == t.bootid && e.ident == t.ident && e.prio == t.prio && e.message == t.message;
            }
            function i(e) {
                return v.render_line(e.entry.ident, e.entry.prio, e.entry.message, e.count, e.last_time, e.entry.full);
            }
            function a() {
                g === m && g.entry && (g = n(m));
            }
            function s() {
                g.header_present && (v.remove_first(), g.header_present = !1), g.line_present && (v.remove_first(), 
                g.line_present = !1), g.entry && (v.prepend(i(g)), g.line_present = !0);
            }
            function l(e) {
                var t = r(e);
                o(g.entry, t) ? (g.count += 1, g.first_time = t.time) : (s(), g.entry && (t.bootid != g.entry.bootid && v.prepend(v.render_reboot_separator()), 
                t.day != g.entry.day && v.prepend(v.render_day_header(g.entry.day))), a(), g.entry = t, 
                g.count = 1, g.first_time = g.last_time = t.time, g.line_present = !1);
            }
            function c() {
                s(), g.entry && (v.prepend(v.render_day_header(g.entry.day)), g.header_present = !0);
            }
            function f() {
                m.line_present && (v.remove_last(), m.line_present = !1), m.entry && (v.append(i(m)), 
                m.line_present = !0);
            }
            function d(e) {
                var t = r(e);
                o(m.entry, t) ? (m.count += 1, m.last_time = t.time) : (f(), m.entry && t.day == m.entry.day || (v.append(v.render_day_header(t.day)), 
                m.header_present = !0), m.entry && t.bootid != m.entry.bootid && v.append(v.render_reboot_separator()), 
                a(), m.entry = t, m.count = 1, m.first_time = m.last_time = t.time, m.line_present = !1);
            }
            function h() {
                f();
            }
            var v;
            v = e.render_line ? e : t(e);
            var g, m;
            return g = m = {}, {
                prepend: l,
                prepend_flush: c,
                append: d,
                append_flush: h
            };
        }, u.logbox = function(e, t) {
            function n() {
                for (var e = u.renderer(o); o.firstChild; ) o.removeChild(o.firstChild);
                for (var t = 0; t < r.length; t++) e.prepend(r[t]);
                e.prepend_flush(), r.length > 0 ? o.removeAttribute("hidden") : o.setAttribute("hidden", "hidden");
            }
            var r = [], o = document.createElement("div");
            n();
            var i = u.journalctl(e, {
                count: t
            }).stream(function(e) {
                r = r.concat(e), r.length > t && (r = r.slice(-t)), n();
            }).fail(function(e) {
                o.appendChild(document.createTextNode(e.message)), o.removeAttribute("hidden");
            });
            return i.promise(o);
        }, e.exports = u;
    }();
}, function(e, t, n) {
    var r, o;
    /*!
	 * mustache.js - Logic-less {{mustache}} templates with JavaScript
	 * http://github.com/janl/mustache.js
	 */
    !function(i, a) {
        if ("object" == typeof t && t) a(t); else {
            var s = {};
            a(s), r = s, o = "function" == typeof r ? r.call(t, n, t, e) : r, !(void 0 !== o && (e.exports = o));
        }
    }(this, function(e) {
        function t(e, t) {
            return _.call(e, t);
        }
        function n(e) {
            return !t(v, e);
        }
        function r(e) {
            return "function" == typeof e;
        }
        function o(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
        }
        function i(e) {
            return String(e).replace(/[&<>"'\/]/g, function(e) {
                return x[e];
            });
        }
        function a(e) {
            if (!b(e) || 2 !== e.length) throw new Error("Invalid tags: " + e);
            return [ new RegExp(o(e[0]) + "\\s*"), new RegExp("\\s*" + o(e[1])) ];
        }
        function s(t, r) {
            function i() {
                if (E && !C) for (;S.length; ) delete j[S.pop()]; else S = [];
                E = !1, C = !1;
            }
            r = r || e.tags, t = t || "", "string" == typeof r && (r = r.split(h));
            for (var s, p, f, v, _, w, b = a(r), x = new u(t), k = [], j = [], S = [], E = !1, C = !1; !x.eos(); ) {
                if (s = x.pos, f = x.scanUntil(b[0])) for (var R = 0, I = f.length; R < I; ++R) v = f.charAt(R), 
                n(v) ? S.push(j.length) : C = !0, j.push([ "text", v, s, s + 1 ]), s += 1, "\n" === v && i();
                if (!x.scan(b[0])) break;
                if (E = !0, p = x.scan(y) || "name", x.scan(d), "=" === p ? (f = x.scanUntil(g), 
                x.scan(g), x.scanUntil(b[1])) : "{" === p ? (f = x.scanUntil(new RegExp("\\s*" + o("}" + r[1]))), 
                x.scan(m), x.scanUntil(b[1]), p = "&") : f = x.scanUntil(b[1]), !x.scan(b[1])) throw new Error("Unclosed tag at " + x.pos);
                if (_ = [ p, f, s, x.pos ], j.push(_), "#" === p || "^" === p) k.push(_); else if ("/" === p) {
                    if (w = k.pop(), !w) throw new Error('Unopened section "' + f + '" at ' + s);
                    if (w[1] !== f) throw new Error('Unclosed section "' + w[1] + '" at ' + s);
                } else "name" === p || "{" === p || "&" === p ? C = !0 : "=" === p && (b = a(r = f.split(h)));
            }
            if (w = k.pop()) throw new Error('Unclosed section "' + w[1] + '" at ' + x.pos);
            return c(l(j));
        }
        function l(e) {
            for (var t, n, r = [], o = 0, i = e.length; o < i; ++o) t = e[o], t && ("text" === t[0] && n && "text" === n[0] ? (n[1] += t[1], 
            n[3] = t[3]) : (r.push(t), n = t));
            return r;
        }
        function c(e) {
            for (var t, n, r = [], o = r, i = [], a = 0, s = e.length; a < s; ++a) switch (t = e[a], 
            t[0]) {
              case "#":
              case "^":
                o.push(t), i.push(t), o = t[4] = [];
                break;

              case "/":
                n = i.pop(), n[5] = t[2], o = i.length > 0 ? i[i.length - 1][4] : r;
                break;

              default:
                o.push(t);
            }
            return r;
        }
        function u(e) {
            this.string = e, this.tail = e, this.pos = 0;
        }
        function p(e, t) {
            this.view = null == e ? {} : e, this.cache = {
                ".": this.view
            }, this.parent = t;
        }
        function f() {
            this.cache = {};
        }
        var d = /\s*/, h = /\s+/, v = /\S/, g = /\s*=/, m = /\s*\}/, y = /#|\^|\/|>|\{|&|=|!/, _ = RegExp.prototype.test, w = Object.prototype.toString, b = Array.isArray || function(e) {
            return "[object Array]" === w.call(e);
        }, x = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
            "/": "&#x2F;"
        };
        u.prototype.eos = function() {
            return "" === this.tail;
        }, u.prototype.scan = function(e) {
            var t = this.tail.match(e);
            if (t && 0 === t.index) {
                var n = t[0];
                return this.tail = this.tail.substring(n.length), this.pos += n.length, n;
            }
            return "";
        }, u.prototype.scanUntil = function(e) {
            var t, n = this.tail.search(e);
            switch (n) {
              case -1:
                t = this.tail, this.tail = "";
                break;

              case 0:
                t = "";
                break;

              default:
                t = this.tail.substring(0, n), this.tail = this.tail.substring(n);
            }
            return this.pos += t.length, t;
        }, p.prototype.push = function(e) {
            return new p(e, this);
        }, p.prototype.lookup = function(e) {
            var t;
            if (e in this.cache) t = this.cache[e]; else {
                for (var n = this; n; ) {
                    if (e.indexOf(".") > 0) {
                        t = n.view;
                        for (var o = e.split("."), i = 0; null != t && i < o.length; ) t = t[o[i++]];
                    } else t = n.view[e];
                    if (null != t) break;
                    n = n.parent;
                }
                this.cache[e] = t;
            }
            return r(t) && (t = t.call(this.view)), t;
        }, f.prototype.clearCache = function() {
            this.cache = {};
        }, f.prototype.parse = function(e, t) {
            var n = this.cache, r = n[e];
            return null == r && (r = n[e] = s(e, t)), r;
        }, f.prototype.render = function(e, t, n) {
            var r = this.parse(e), o = t instanceof p ? t : new p(t);
            return this.renderTokens(r, o, n, e);
        }, f.prototype.renderTokens = function(t, n, o, i) {
            function a(e) {
                return u.render(e, n, o);
            }
            for (var s, l, c = "", u = this, p = 0, f = t.length; p < f; ++p) switch (s = t[p], 
            s[0]) {
              case "#":
                if (l = n.lookup(s[1]), !l) continue;
                if (b(l)) for (var d = 0, h = l.length; d < h; ++d) c += this.renderTokens(s[4], n.push(l[d]), o, i); else if ("object" == typeof l || "string" == typeof l) c += this.renderTokens(s[4], n.push(l), o, i); else if (r(l)) {
                    if ("string" != typeof i) throw new Error("Cannot use higher-order sections without the original template");
                    l = l.call(n.view, i.slice(s[3], s[5]), a), null != l && (c += l);
                } else c += this.renderTokens(s[4], n, o, i);
                break;

              case "^":
                l = n.lookup(s[1]), (!l || b(l) && 0 === l.length) && (c += this.renderTokens(s[4], n, o, i));
                break;

              case ">":
                if (!o) continue;
                l = r(o) ? o(s[1]) : o[s[1]], null != l && (c += this.renderTokens(this.parse(l), n, o, l));
                break;

              case "&":
                l = n.lookup(s[1]), null != l && (c += l);
                break;

              case "name":
                l = n.lookup(s[1]), null != l && (c += e.escape(l));
                break;

              case "text":
                c += s[1];
            }
            return c;
        }, e.name = "mustache.js", e.version = "0.8.1", e.tags = [ "{{", "}}" ];
        var k = new f();
        e.clearCache = function() {
            return k.clearCache();
        }, e.parse = function(e, t) {
            return k.parse(e, t);
        }, e.render = function(e, t, n) {
            return k.render(e, t, n);
        }, e.to_html = function(t, n, o, i) {
            var a = e.render(t, n, o);
            return r(i) ? void i(a) : a;
        }, e.escape = i, e.Scanner = u, e.Context = p, e.Writer = f;
    });
}, function(e, t) {
    e.exports = '<div class="panel-heading">{{day}}</div>\n';
}, function(e, t) {
    e.exports = '<div class="cockpit-logline" data-cursor="{{cursor}}">\n  <div class="cockpit-log-warning">{{#warning}}\n    <i class="fa fa-exclamation-triangle"></i>\n  {{/warning}}</div>\n  <div class="cockpit-log-time">{{time}}</div>\n  <span class="cockpit-log-message">{{message}}</span>\n  {{! if we have count (repeated messages), show service name and badge - otherwise just the service }}\n  {{#count}}\n  <div class="cockpit-log-service-container">\n    <div class="cockpit-log-service-reduced">{{service}}</div>\n    <span class="badge">{{count}}&#160;<i class="fa fa-caret-right"></i></span>\n  </div>\n  {{/count}}{{^count}}\n  <div class="cockpit-log-service">{{service}}</div>\n  {{/count}}\n</div>\n';
}, function(e, t) {
    e.exports = '<div class="cockpit-logline">\n  {{! placeholders for correct message alignment }}\n  <div class="cockpit-log-warning"></div>\n  <span class="cockpit-log-message cockpit-logmsg-reboot">{{message}}</span>\n</div>\n';
} ]);
//# sourceMappingURL=logs.min.js.map