!function(t) {
    function e(i) {
        if (s[i]) return s[i].exports;
        var r = s[i] = {
            exports: {},
            id: i,
            loaded: !1
        };
        return t[i].call(r.exports, r, r.exports, e), r.loaded = !0, r.exports;
    }
    var s = {};
    return e.m = t, e.c = s, e.p = "", e(0);
}({
    0: function(t, e, s) {
        t.exports = s(119);
    },
    3: function(t, e) {
        t.exports = cockpit;
    },
    119: function(t, e, s) {
        "use strict";
        !function() {
            var t = s(3), e = t.gettext, i = s(120), r = s(121);
            t.translate();
            var o = i.createClass({
                displayName: "UserTerminal",
                createChannel: function(e) {
                    return t.channel({
                        payload: "stream",
                        spawn: [ e.shell || "/bin/bash", "-i" ],
                        environ: [ "TERM=xterm-256color", "PATH=/sbin:/bin:/usr/sbin:/usr/bin" ],
                        directory: e.home || "/",
                        pty: !0
                    });
                },
                getInitialState: function() {
                    return {
                        title: "Terminal"
                    };
                },
                componentWillMount: function() {
                    t.user().done(function(t) {
                        this.setState({
                            user: t,
                            channel: this.createChannel(t)
                        });
                    }.bind(this));
                },
                onTitleChanged: function(t) {
                    this.setState({
                        title: t
                    });
                },
                onResetClick: function(t) {
                    0 === t.button && (this.state.channel && this.state.channel.close(), this.state.user && this.setState({
                        channel: this.createChannel(this.state.user)
                    }), this.refs.resetButton.blur(), this.refs.terminal.focus());
                },
                render: function() {
                    var t;
                    return t = this.state.channel ? i.createElement(r.Terminal, {
                        ref: "terminal",
                        channel: this.state.channel,
                        onTitleChanged: this.onTitleChanged
                    }) : i.createElement("span", null, "Loading..."), i.createElement("div", {
                        className: "panel panel-default console-ct-container"
                    }, i.createElement("div", {
                        className: "panel-heading"
                    }, i.createElement("tt", {
                        className: "terminal-title"
                    }, this.state.title), i.createElement("button", {
                        ref: "resetButton",
                        className: "btn btn-default pull-right",
                        onClick: this.onResetClick
                    }, e("Reset"))), t);
                }
            });
            i.render(i.createElement(o, null), document.getElementById("terminal")), document.body.removeAttribute("hidden");
        }();
    },
    120: function(t, e, s) {
        /*!
	 * react-lite.js v0.15.6
	 * (c) 2017 Jade Gu
	 * Released under the MIT License.
	 */
        !function(e, s) {
            t.exports = s();
        }(this, function() {
            "use strict";
            function t(t, e) {
                return {
                    vtype: wt,
                    type: t,
                    props: e,
                    refs: Pt
                };
            }
            function e(t, e) {
                return {
                    vtype: Ct,
                    id: Y(),
                    type: t,
                    props: e
                };
            }
            function s(t, e) {
                return {
                    vtype: Mt,
                    id: Y(),
                    type: t,
                    props: e,
                    refs: Pt
                };
            }
            function i(t) {
                return {
                    vtype: St,
                    comment: t
                };
            }
            function r(t, e, s) {
                var i = t.vtype, r = null;
                return i ? i === wt ? r = n(t, e, s) : i === Mt ? r = f(t, e, s) : i === Ct ? r = c(t, e, s) : i === St && (r = document.createComment(t.comment)) : r = document.createTextNode(t), 
                r;
            }
            function o(t, e) {
                var s = t.vtype;
                s === wt ? l(t, e) : s === Mt ? m(t, e) : s === Ct && p(t, e);
            }
            function n(t, e, s) {
                var i = t.type, o = t.props, n = null;
                "svg" === i || s === xt ? (n = document.createElementNS(xt, i), s = xt) : n = document.createElement(i);
                var h = o.children, l = n.vchildren = [];
                Xt(h) ? $(h, a, l) : a(h, l);
                for (var c = 0, u = l.length; c < u; c++) n.appendChild(r(l[c], e, s));
                var p = i.indexOf("-") >= 0 || null != o.is;
                return X(n, o, p), w(t.refs, t.ref, n), n;
            }
            function a(t, e) {
                null != t && "boolean" != typeof t && (e[e.length] = t.vtype ? t : "" + t);
            }
            function h(t, e, s, i) {
                var n = t.props, l = t.type, c = e.props, p = n.dangerouslySetInnerHTML && n.dangerouslySetInnerHTML.__html, d = c.children, f = s.vchildren, m = s.childNodes, v = s.namespaceURI, b = l.indexOf("-") >= 0 || null != n.is, g = f.length, x = s.vchildren = [];
                Xt(d) ? $(d, a, x) : a(d, x);
                var k = x.length;
                if (null == p && g) {
                    for (var M = null, S = Array(k), P = 0; P < g; P++) for (var T = f[P], A = 0; A < k; A++) if (!S[A]) {
                        var E = x[A];
                        if (T === E) {
                            S[A] = {
                                vnode: T,
                                node: m[P]
                            }, f[P] = null;
                            break;
                        }
                    }
                    t: for (var P = 0; P < g; P++) {
                        var T = f[P];
                        if (null !== T) {
                            for (var _ = T.type, D = T.key, L = T.refs, O = m[P], A = 0; A < k; A++) if (!S[A]) {
                                var E = x[A];
                                if (E.type === _ && E.key === D && E.refs === L) {
                                    S[A] = {
                                        vnode: T,
                                        node: O
                                    };
                                    continue t;
                                }
                            }
                            M || (M = []), M[M.length] = O, o(T, O);
                        }
                    }
                    if (M) for (var P = 0, R = M.length; P < R; P++) s.removeChild(M[P]);
                    for (var P = 0; P < k; P++) {
                        var E = x[P], B = S[P];
                        if (B) {
                            var T = B.vnode, N = B.node;
                            if (E !== T) {
                                var U = E.vtype;
                                U ? U === wt ? N = h(T, E, N, i) : U === Mt ? N = y(T, E, N, i) : U === Ct && (N = u(T, E, N, i)) : N.nodeValue = E;
                            }
                            var F = m[P];
                            F !== N && s.insertBefore(N, F || null);
                        } else {
                            var N = r(E, i, v);
                            s.insertBefore(N, m[P] || null);
                        }
                    }
                    Z(s, n, c, b);
                } else {
                    Z(s, n, c, b);
                    for (var P = 0; P < k; P++) s.appendChild(r(x[P], i, v));
                }
                return t.ref !== e.ref && (C(t.refs, t.ref), w(e.refs, e.ref, s)), s;
            }
            function l(t, e) {
                for (var s = t.props, i = e.vchildren, r = e.childNodes, n = 0, a = i.length; n < a; n++) o(i[n], r[n]);
                C(t.refs, t.ref), e.eventStore = e.vchildren = null;
                for (var h in s) s.hasOwnProperty(h) && Zt.test(h) && (h = T(h), Et[h] === !0 && (e[h] = null));
            }
            function c(t, e, s) {
                var i = d(t, e), o = r(i, e, s);
                return o.cache = o.cache || {}, o.cache[t.id] = i, o;
            }
            function u(t, e, s, i) {
                var r = t.id, o = s.cache[r];
                delete s.cache[r];
                var n = d(e, i), a = x(o, n, s, i);
                return a.cache = a.cache || {}, a.cache[e.id] = n, a !== s && j(a.cache, s.cache), 
                a;
            }
            function p(t, e) {
                var s = t.id, i = e.cache[s];
                delete e.cache[s], o(i, e);
            }
            function d(t, e) {
                var s = t.type, r = t.props, o = v(e, s.contextTypes), n = s(r, o);
                if (n && n.render && (n = n.render()), null === n || n === !1) n = i("react-empty: " + Y()); else if (!n || !n.vtype) throw new Error("@" + s.name + "#render:You may have returned undefined, an array or some other invalid object");
                return n;
            }
            function f(t, e, s) {
                var i = t.type, o = t.props, n = t.id, a = v(e, i.contextTypes), h = new i(o, a), l = h.$updater, c = h.$cache;
                c.parentContext = e, l.isPending = !0, h.props = h.props || o, h.context = h.context || a, 
                h.componentWillMount && (h.componentWillMount(), h.state = l.getState());
                var u = b(h, e), p = r(u, u.context, s);
                return p.cache = p.cache || {}, p.cache[n] = h, c.vnode = u, c.node = p, c.isMounted = !0, 
                Tt.push(h), w(t.refs, t.ref, h), p;
            }
            function y(t, e, s, i) {
                var r = t.id, o = s.cache[r], n = o.$updater, a = o.$cache, h = e.type, l = e.props, c = v(i, h.contextTypes);
                return delete s.cache[r], s.cache[e.id] = o, a.parentContext = i, o.componentWillReceiveProps && (n.isPending = !0, 
                o.componentWillReceiveProps(l, c), n.isPending = !1), n.emitUpdate(l, c), t.ref !== e.ref && (C(t.refs, t.ref), 
                w(e.refs, e.ref, o)), a.node;
            }
            function m(t, e) {
                var s = t.id, i = e.cache[s], r = i.$cache;
                delete e.cache[s], C(t.refs, t.ref), i.setState = i.forceUpdate = q, i.componentWillUnmount && i.componentWillUnmount(), 
                o(r.vnode, e), delete i.setState, r.isMounted = !1, r.node = r.parentContext = r.vnode = i.refs = i.context = null;
            }
            function v(t, e) {
                var s = {};
                if (!e || !t) return s;
                for (var i in e) e.hasOwnProperty(i) && (s[i] = t[i]);
                return s;
            }
            function b(t, e) {
                Pt = t.refs;
                var s = t.render();
                if (null === s || s === !1) s = i("react-empty: " + Y()); else if (!s || !s.vtype) throw new Error("@" + t.constructor.name + "#render:You may have returned undefined, an array or some other invalid object");
                var r = Pt = null;
                return t.getChildContext && (r = t.getChildContext()), r = r ? j(j({}, e), r) : e, 
                s.context = r, s;
            }
            function g() {
                var t = Tt, e = t.length;
                if (e) {
                    Tt = [];
                    for (var s = -1; e--; ) {
                        var i = t[++s], r = i.$updater;
                        i.componentDidMount && i.componentDidMount(), r.isPending = !1, r.emitUpdate();
                    }
                }
            }
            function x(t, e, s, i) {
                var n = s;
                if (null == e) o(t, s), s.parentNode.removeChild(s); else if (t.type !== e.type || e.key !== t.key) o(t, s), 
                n = r(e, i, s.namespaceURI), s.parentNode.replaceChild(n, s); else if (t !== e) {
                    var a = t.vtype;
                    a === wt ? n = h(t, e, s, i) : a === Mt ? n = y(t, e, s, i) : a === Ct && (n = u(t, e, s, i));
                }
                return n;
            }
            function k() {
                return this;
            }
            function w(t, e, s) {
                t && null != e && s && (s.nodeName && !s.getDOMNode && (s.getDOMNode = k), V(e) ? e(s) : t[e] = s);
            }
            function C(t, e) {
                t && null != e && (V(e) ? e(null) : delete t[e]);
            }
            function M(t) {
                this.instance = t, this.pendingStates = [], this.pendingCallbacks = [], this.isPending = !1, 
                this.nextProps = this.nextContext = null, this.clearCallbacks = this.clearCallbacks.bind(this);
            }
            function S(t, e) {
                this.$updater = new M(this), this.$cache = {
                    isMounted: !1
                }, this.props = t, this.state = {}, this.refs = {}, this.context = e;
            }
            function P(t, e, s, i, r) {
                var o = !0;
                if (t.shouldComponentUpdate && (o = t.shouldComponentUpdate(e, s, i)), o === !1) return t.props = e, 
                t.state = s, void (t.context = i || {});
                var n = t.$cache;
                n.props = e, n.state = s, n.context = i || {}, t.forceUpdate(r);
            }
            function T(t) {
                return t = "onDoubleClick" === t ? "ondblclick" : t, t.toLowerCase();
            }
            function A(t, e, s) {
                if (e = T(e), 1 === Et[e]) return void (t[e] = s);
                var i = t.eventStore || (t.eventStore = {});
                i[e] = s, _t[e] || (document.addEventListener(e.substr(2), _), _t[e] = !0);
                var r = t.nodeName;
                "onchange" !== e || "INPUT" !== r && "TEXTAREA" !== r || A(t, "oninput", s);
            }
            function E(t, e) {
                if (e = T(e), 1 === Et[e]) return void (t[e] = null);
                var s = t.eventStore || (t.eventStore = {});
                delete s[e];
                var i = t.nodeName;
                "onchange" !== e || "INPUT" !== i && "TEXTAREA" !== i || delete s.oninput;
            }
            function _(t) {
                var e = t.target, s = t.type, i = "on" + s, r = void 0;
                for (At.isPending = !0; e; ) {
                    var o = e, n = o.eventStore, a = n && n[i];
                    if (a) {
                        if (r || (r = D(t)), r.currentTarget = e, a.call(e, r), r.$cancalBubble) break;
                        e = e.parentNode;
                    } else e = e.parentNode;
                }
                At.isPending = !1, At.batchUpdate();
            }
            function D(t) {
                var e = {}, s = function() {
                    return e.$cancalBubble = !0;
                };
                e.nativeEvent = t;
                for (var i in t) "function" != typeof t[i] ? e[i] = t[i] : "stopPropagation" === i || "stopImmediatePropagation" === i ? e[i] = s : e[i] = t[i].bind(t);
                return e;
            }
            function L(t, e) {
                for (var s in e) e.hasOwnProperty(s) && N(t, s, e[s]);
            }
            function O(t, e) {
                for (var s in e) e.hasOwnProperty(s) && (t[s] = "");
            }
            function R(t, e, s) {
                if (e !== s) {
                    if (!s && e) return void O(t, e);
                    if (s && !e) return void L(t, s);
                    var i = {};
                    for (var r in e) e.hasOwnProperty(r) && (i[r] = !0, e[r] !== s[r] && N(t, r, s[r]));
                    for (var r in s) s.hasOwnProperty(r) && i[r] !== !0 && e[r] !== s[r] && N(t, r, s[r]);
                }
            }
            function B(t, e) {
                return t + e.charAt(0).toUpperCase() + e.substring(1);
            }
            function N(t, e, s) {
                return !Dt[e] && Ot.test(s) ? void (t[e] = s + "px") : ("float" === e && (e = "cssFloat"), 
                null != s && "boolean" != typeof s || (s = ""), void (t[e] = s));
            }
            function U(t) {
                var e = t.props, s = t.attrNS, i = t.domAttrs, r = t.domProps;
                for (var o in e) if (e.hasOwnProperty(o)) {
                    var n = e[o];
                    Ft[o] = {
                        attributeName: i.hasOwnProperty(o) ? i[o] : o.toLowerCase(),
                        propertyName: r.hasOwnProperty(o) ? r[o] : o,
                        attributeNamespace: s.hasOwnProperty(o) ? s[o] : null,
                        mustUseProperty: F(n, It),
                        hasBooleanValue: F(n, Ht),
                        hasNumericValue: F(n, Vt),
                        hasPositiveNumericValue: F(n, qt),
                        hasOverloadedBooleanValue: F(n, Kt)
                    };
                }
            }
            function F(t, e) {
                return (t & e) === e;
            }
            function I(t, e, s) {
                var i = Ft.hasOwnProperty(e) && Ft[e];
                if (i) if (null == s || i.hasBooleanValue && !s || i.hasNumericValue && isNaN(s) || i.hasPositiveNumericValue && s < 1 || i.hasOverloadedBooleanValue && s === !1) H(t, e); else if (i.mustUseProperty) t[i.propertyName] = s; else {
                    var r = i.attributeName, o = i.attributeNamespace;
                    o ? t.setAttributeNS(o, r, "" + s) : i.hasBooleanValue || i.hasOverloadedBooleanValue && s === !0 ? t.setAttribute(r, "") : t.setAttribute(r, "" + s);
                } else Ut(e) && Nt.test(e) && (null == s ? t.removeAttribute(e) : t.setAttribute(e, "" + s));
            }
            function H(t, e) {
                var s = Ft.hasOwnProperty(e) && Ft[e];
                s ? s.mustUseProperty ? t[s.propertyName] = !s.hasBooleanValue && "" : t.removeAttribute(s.attributeName) : Ut(e) && t.removeAttribute(e);
            }
            function V(t) {
                return "function" == typeof t;
            }
            function q() {}
            function K(t) {
                return t;
            }
            function z(t, e) {
                return function() {
                    return t.apply(this, arguments), e.apply(this, arguments);
                };
            }
            function $(t, e, s) {
                for (var i = t.length, r = -1; i--; ) {
                    var o = t[++r];
                    Xt(o) ? $(o, e, s) : e(o, s);
                }
            }
            function W(t, e) {
                for (var s = 0, i = t.length; s < i; s++) e(t[s], s);
            }
            function j(t) {
                var e, s;
                for (s = 1; s < arguments.length; s++) {
                    e = arguments[s];
                }
                var i = Object(e);
                if (!i) return t;
                for (var r = Object.keys(i), o = r.length; o--; ) void 0 !== i[r[o]] && (t[r[o]] = i[r[o]]);
                return t;
            }
            function Y() {
                return ++Gt;
            }
            function X(t, e, s) {
                for (var i in e) if (e.hasOwnProperty(i) && "children" !== i) {
                    var r = e[i];
                    Zt.test(i) ? A(t, i, r) : "style" === i ? L(t.style, r) : "dangerouslySetInnerHTML" === i ? r && null != r.__html && (t.innerHTML = r.__html) : s ? null == r ? t.removeAttribute(i) : t.setAttribute(i, "" + r) : I(t, i, r);
                }
            }
            function G(t, e, s, i, r) {
                if ("value" !== t && "checked" !== t || (e = i[t]), s !== e) {
                    if (void 0 === s) return void (Zt.test(t) ? E(i, t) : "style" === t ? O(i.style, e) : "dangerouslySetInnerHTML" === t ? i.innerHTML = "" : r ? i.removeAttribute(t) : H(i, t));
                    if (Zt.test(t)) A(i, t, s); else if ("style" === t) R(i.style, e, s); else if ("dangerouslySetInnerHTML" === t) {
                        var o = e && e.__html, n = s && s.__html;
                        null != n && n !== o && (i.innerHTML = n);
                    } else r ? null == s ? i.removeAttribute(t) : i.setAttribute(t, "" + s) : I(i, t, s);
                }
            }
            function Z(t, e, s, i) {
                var r = {
                    children: !0
                };
                for (var o in e) e.hasOwnProperty(o) && "children" !== o && (r[o] = !0, G(o, e[o], s[o], t, i));
                for (var o in s) s.hasOwnProperty(o) && r[o] !== !0 && G(o, e[o], s[o], t, i);
            }
            function Q(t, e, s, i) {
                if (!t.vtype) throw new Error("cannot render " + t + " to container");
                var o = e[kt] || (e[kt] = Y()), n = Qt[o];
                if (n) return void (n === !0 ? Qt[o] = n = [ t, s, i ] : (n[0] = t, n[2] = i, s && (n[1] = n[1] ? z(n[1], s) : s)));
                Qt[o] = !0;
                var a = null, h = null;
                if (a = Jt[o]) h = x(a, t, e.firstChild, i); else {
                    h = r(t, i, e.namespaceURI);
                    for (var l = null; l = e.lastChild; ) e.removeChild(l);
                    e.appendChild(h);
                }
                Jt[o] = t;
                var c = At.isPending;
                At.isPending = !0, g(), n = Qt[o], delete Qt[o];
                var u = null;
                return Xt(n) ? u = Q(n[0], e, n[1], n[2]) : t.vtype === wt ? u = h : t.vtype === Mt && (u = h.cache[t.id]), 
                c || (At.isPending = !1, At.batchUpdate()), s && s.call(u), u;
            }
            function J(t, e, s) {
                return Q(t, e, s);
            }
            function tt(t, e, s, i) {
                var r = t.vnode ? t.vnode.context : t.$cache.parentContext;
                return Q(e, s, i, r);
            }
            function et(t) {
                if (!t.nodeName) throw new Error("expect node");
                var e = t[kt], s = null;
                return !!(s = Jt[e]) && (o(s, t.firstChild), t.removeChild(t.firstChild), delete Jt[e], 
                !0);
            }
            function st(t) {
                if (null == t) return null;
                if (t.nodeName) return t;
                var e = t;
                if (e.getDOMNode && e.$cache.isMounted) return e.getDOMNode();
                throw new Error("findDOMNode can not find Node");
            }
            function it(t) {
                return null != t && !!t.vtype;
            }
            function rt(t, e) {
                for (var s = t.type, i = t.key, r = t.ref, o = j(j({
                    key: i,
                    ref: r
                }, t.props), e), n = arguments.length, a = Array(n > 2 ? n - 2 : 0), h = 2; h < n; h++) a[h - 2] = arguments[h];
                var l = nt.apply(void 0, [ s, o ].concat(a));
                return l.ref === t.ref && (l.refs = t.refs), l;
            }
            function ot(t) {
                var e = function() {
                    for (var e = arguments.length, s = Array(e), i = 0; i < e; i++) s[i] = arguments[i];
                    return nt.apply(void 0, [ t ].concat(s));
                };
                return e.type = t, e;
            }
            function nt(i, r, o) {
                var n = null, a = typeof i;
                if ("string" === a) n = t; else {
                    if ("function" !== a) throw new Error("React.createElement: unexpect type [ " + i + " ]");
                    n = i.prototype && "function" == typeof i.prototype.forceUpdate ? s : e;
                }
                var h = null, l = null, c = {}, u = null;
                if (null != r) for (var p in r) r.hasOwnProperty(p) && ("key" === p ? void 0 !== r.key && (h = "" + r.key) : "ref" === p ? void 0 !== r.ref && (l = r.ref) : void 0 !== (u = r[p]) && (c[p] = u));
                var d = i.defaultProps;
                if (d) for (var p in d) void 0 === c[p] && (c[p] = d[p]);
                var f = arguments.length, y = o;
                if (f > 3) {
                    y = Array(f - 2);
                    for (var m = 2; m < f; m++) y[m - 2] = arguments[m];
                }
                void 0 !== y && (c.children = y);
                var v = n(i, c);
                return v.key = h, v.ref = l, v;
            }
            function at(t) {
                if (it(t)) return t;
                throw new Error("expect only one child");
            }
            function ht(t, e, s) {
                if (null == t) return t;
                var i = 0;
                Xt(t) ? $(t, function(t) {
                    e.call(s, t, i++);
                }) : e.call(s, t, i);
            }
            function lt(t, e, s) {
                if (null == t) return t;
                var i = [], r = {};
                ht(t, function(t, o) {
                    var n = {};
                    n.child = e.call(s, t, o) || t, n.isEqual = n.child === t;
                    var a = n.key = pt(t, o);
                    r.hasOwnProperty(a) ? r[a] += 1 : r[a] = 0, n.index = r[a], i.push(n);
                });
                var o = [];
                return W(i, function(t) {
                    var e = t.child, s = t.key, i = t.index, n = t.isEqual;
                    if (null != e && "boolean" != typeof e) {
                        if (!it(e) || null == s) return void o.push(e);
                        0 !== r[s] && (s += ":" + i), n || (s = dt(e.key || "") + "/" + s), e = rt(e, {
                            key: s
                        }), o.push(e);
                    }
                }), o;
            }
            function ct(t) {
                var e = 0;
                return ht(t, function() {
                    e++;
                }), e;
            }
            function ut(t) {
                return lt(t, K) || [];
            }
            function pt(t, e) {
                var s = void 0;
                return s = it(t) && "string" == typeof t.key ? ".$" + t.key : "." + e.toString(36);
            }
            function dt(t) {
                return ("" + t).replace(oe, "//");
            }
            function ft(t, e) {
                W(t, function(t) {
                    t && (Xt(t.mixins) && ft(t.mixins, e), e(t));
                });
            }
            function yt(t, e) {
                for (var s in e) if (e.hasOwnProperty(s)) {
                    var i = e[s];
                    if ("getInitialState" !== s) {
                        var r = t[s];
                        V(r) && V(i) ? t[s] = z(r, i) : t[s] = i;
                    } else t.$getInitialStates.push(i);
                }
            }
            function mt(t, e) {
                j(t.propTypes, e.propTypes), j(t.contextTypes, e.contextTypes), j(t, e.statics), 
                V(e.getDefaultProps) && j(t.defaultProps, e.getDefaultProps());
            }
            function vt(t, e) {
                for (var s in e) e.hasOwnProperty(s) && V(e[s]) && (t[s] = e[s].bind(t));
            }
            function bt() {
                var t = this, e = {}, s = this.setState;
                return this.setState = ae, W(this.$getInitialStates, function(s) {
                    V(s) && j(e, s.call(t));
                }), this.setState = s, e;
            }
            function gt(t) {
                function e(s, i) {
                    S.call(this, s, i), this.constructor = e, t.autobind !== !1 && vt(this, e.prototype), 
                    this.state = this.getInitialState() || this.state;
                }
                if (!V(t.render)) throw new Error("createClass: spec.render is not function");
                var s = t.mixins || [], i = s.concat(t);
                t.mixins = null, e.displayName = t.displayName, e.contextTypes = {}, e.propTypes = {}, 
                e.defaultProps = {};
                var r = e.prototype = new ae();
                return r.$getInitialStates = [], ft(i, function(t) {
                    yt(r, t), mt(e, t);
                }), r.getInitialState = bt, t.mixins = s, e;
            }
            var xt = "http://www.w3.org/2000/svg", kt = "liteid", wt = 2, Ct = 3, Mt = 4, St = 5, Pt = null, Tt = [], At = {
                updaters: [],
                isPending: !1,
                add: function(t) {
                    this.updaters.push(t);
                },
                batchUpdate: function() {
                    if (!this.isPending) {
                        this.isPending = !0;
                        for (var t = this.updaters, e = void 0; e = t.pop(); ) e.updateComponent();
                        this.isPending = !1;
                    }
                }
            };
            M.prototype = {
                emitUpdate: function(t, e) {
                    this.nextProps = t, this.nextContext = e, t || !At.isPending ? this.updateComponent() : At.add(this);
                },
                updateComponent: function() {
                    var t = this.instance, e = this.pendingStates, s = this.nextProps, i = this.nextContext;
                    (s || e.length > 0) && (s = s || t.props, i = i || t.context, this.nextProps = this.nextContext = null, 
                    P(t, s, this.getState(), i, this.clearCallbacks));
                },
                addState: function(t) {
                    t && (this.pendingStates.push(t), this.isPending || this.emitUpdate());
                },
                replaceState: function(t) {
                    var e = this.pendingStates;
                    e.pop(), e.push([ t ]);
                },
                getState: function() {
                    var t = this.instance, e = this.pendingStates, s = t.state, i = t.props;
                    return e.length && (s = j({}, s), W(e, function(e) {
                        return Xt(e) ? void (s = j({}, e[0])) : (V(e) && (e = e.call(t, s, i)), void j(s, e));
                    }), e.length = 0), s;
                },
                clearCallbacks: function() {
                    var t = this.pendingCallbacks, e = this.instance;
                    t.length > 0 && (this.pendingCallbacks = [], W(t, function(t) {
                        return t.call(e);
                    }));
                },
                addCallback: function(t) {
                    V(t) && this.pendingCallbacks.push(t);
                }
            }, S.prototype = {
                constructor: S,
                forceUpdate: function(t) {
                    var e = this.$updater, s = this.$cache, i = this.props, r = this.state, o = this.context;
                    if (!e.isPending && s.isMounted) {
                        var n = s.props || i, a = s.state || r, h = s.context || {}, l = s.parentContext, c = s.node, u = s.vnode;
                        s.props = s.state = s.context = null, e.isPending = !0, this.componentWillUpdate && this.componentWillUpdate(n, a, h), 
                        this.state = a, this.props = n, this.context = h;
                        var p = b(this, l), d = x(u, p, c, p.context);
                        d !== c && (d.cache = d.cache || {}, j(d.cache, c.cache)), s.vnode = p, s.node = d, 
                        g(), this.componentDidUpdate && this.componentDidUpdate(i, r, o), t && t.call(this), 
                        e.isPending = !1, e.emitUpdate();
                    }
                },
                setState: function(t, e) {
                    var s = this.$updater;
                    s.addCallback(e), s.addState(t);
                },
                replaceState: function(t, e) {
                    var s = this.$updater;
                    s.addCallback(e), s.replaceState(t);
                },
                getDOMNode: function() {
                    var t = this.$cache.node;
                    return t && "#comment" === t.nodeName ? null : t;
                },
                isMounted: function() {
                    return this.$cache.isMounted;
                }
            };
            var Et = {
                onmouseleave: 1,
                onmouseenter: 1,
                onload: 1,
                onunload: 1,
                onscroll: 1,
                onfocus: 1,
                onblur: 1,
                onrowexit: 1,
                onbeforeunload: 1,
                onstop: 1,
                ondragdrop: 1,
                ondragenter: 1,
                ondragexit: 1,
                ondraggesture: 1,
                ondragover: 1,
                oncontextmenu: 1
            }, _t = {}, Dt = {
                animationIterationCount: 1,
                borderImageOutset: 1,
                borderImageSlice: 1,
                borderImageWidth: 1,
                boxFlex: 1,
                boxFlexGroup: 1,
                boxOrdinalGroup: 1,
                columnCount: 1,
                flex: 1,
                flexGrow: 1,
                flexPositive: 1,
                flexShrink: 1,
                flexNegative: 1,
                flexOrder: 1,
                gridRow: 1,
                gridColumn: 1,
                fontWeight: 1,
                lineClamp: 1,
                lineHeight: 1,
                opacity: 1,
                order: 1,
                orphans: 1,
                tabSize: 1,
                widows: 1,
                zIndex: 1,
                zoom: 1,
                fillOpacity: 1,
                floodOpacity: 1,
                stopOpacity: 1,
                strokeDasharray: 1,
                strokeDashoffset: 1,
                strokeMiterlimit: 1,
                strokeOpacity: 1,
                strokeWidth: 1
            }, Lt = [ "Webkit", "ms", "Moz", "O" ];
            Object.keys(Dt).forEach(function(t) {
                Lt.forEach(function(e) {
                    Dt[B(e, t)] = 1;
                });
            });
            var Ot = /^-?\d+(\.\d+)?$/, Rt = ":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD", Bt = Rt + "\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040", Nt = new RegExp("^[" + Rt + "][" + Bt + "]*$"), Ut = RegExp.prototype.test.bind(new RegExp("^(data|aria)-[" + Bt + "]*$")), Ft = {}, It = 1, Ht = 4, Vt = 8, qt = 24, Kt = 32, zt = {
                props: {
                    accept: 0,
                    acceptCharset: 0,
                    accessKey: 0,
                    action: 0,
                    allowFullScreen: Ht,
                    allowTransparency: 0,
                    alt: 0,
                    async: Ht,
                    autoComplete: 0,
                    autoFocus: Ht,
                    autoPlay: Ht,
                    capture: Ht,
                    cellPadding: 0,
                    cellSpacing: 0,
                    charSet: 0,
                    challenge: 0,
                    checked: It | Ht,
                    cite: 0,
                    classID: 0,
                    className: 0,
                    cols: qt,
                    colSpan: 0,
                    content: 0,
                    contentEditable: 0,
                    contextMenu: 0,
                    controls: Ht,
                    coords: 0,
                    crossOrigin: 0,
                    data: 0,
                    dateTime: 0,
                    default: Ht,
                    defaultValue: It,
                    defaultChecked: It | Ht,
                    defer: Ht,
                    dir: 0,
                    disabled: Ht,
                    download: Kt,
                    draggable: 0,
                    encType: 0,
                    form: 0,
                    formAction: 0,
                    formEncType: 0,
                    formMethod: 0,
                    formNoValidate: Ht,
                    formTarget: 0,
                    frameBorder: 0,
                    headers: 0,
                    height: 0,
                    hidden: Ht,
                    high: 0,
                    href: 0,
                    hrefLang: 0,
                    htmlFor: 0,
                    httpEquiv: 0,
                    icon: 0,
                    id: 0,
                    inputMode: 0,
                    integrity: 0,
                    is: 0,
                    keyParams: 0,
                    keyType: 0,
                    kind: 0,
                    label: 0,
                    lang: 0,
                    list: 0,
                    loop: Ht,
                    low: 0,
                    manifest: 0,
                    marginHeight: 0,
                    marginWidth: 0,
                    max: 0,
                    maxLength: 0,
                    media: 0,
                    mediaGroup: 0,
                    method: 0,
                    min: 0,
                    minLength: 0,
                    multiple: It | Ht,
                    muted: It | Ht,
                    name: 0,
                    nonce: 0,
                    noValidate: Ht,
                    open: Ht,
                    optimum: 0,
                    pattern: 0,
                    placeholder: 0,
                    poster: 0,
                    preload: 0,
                    profile: 0,
                    radioGroup: 0,
                    readOnly: Ht,
                    rel: 0,
                    required: Ht,
                    reversed: Ht,
                    role: 0,
                    rows: qt,
                    rowSpan: Vt,
                    sandbox: 0,
                    scope: 0,
                    scoped: Ht,
                    scrolling: 0,
                    seamless: Ht,
                    selected: It | Ht,
                    shape: 0,
                    size: qt,
                    sizes: 0,
                    span: qt,
                    spellCheck: 0,
                    src: 0,
                    srcDoc: 0,
                    srcLang: 0,
                    srcSet: 0,
                    start: Vt,
                    step: 0,
                    style: 0,
                    summary: 0,
                    tabIndex: 0,
                    target: 0,
                    title: 0,
                    type: 0,
                    useMap: 0,
                    value: It,
                    width: 0,
                    wmode: 0,
                    wrap: 0,
                    about: 0,
                    datatype: 0,
                    inlist: 0,
                    prefix: 0,
                    property: 0,
                    resource: 0,
                    typeof: 0,
                    vocab: 0,
                    autoCapitalize: 0,
                    autoCorrect: 0,
                    autoSave: 0,
                    color: 0,
                    itemProp: 0,
                    itemScope: Ht,
                    itemType: 0,
                    itemID: 0,
                    itemRef: 0,
                    results: 0,
                    security: 0,
                    unselectable: 0
                },
                attrNS: {},
                domAttrs: {
                    acceptCharset: "accept-charset",
                    className: "class",
                    htmlFor: "for",
                    httpEquiv: "http-equiv"
                },
                domProps: {}
            }, $t = "http://www.w3.org/1999/xlink", Wt = "http://www.w3.org/XML/1998/namespace", jt = {
                accentHeight: "accent-height",
                accumulate: 0,
                additive: 0,
                alignmentBaseline: "alignment-baseline",
                allowReorder: "allowReorder",
                alphabetic: 0,
                amplitude: 0,
                arabicForm: "arabic-form",
                ascent: 0,
                attributeName: "attributeName",
                attributeType: "attributeType",
                autoReverse: "autoReverse",
                azimuth: 0,
                baseFrequency: "baseFrequency",
                baseProfile: "baseProfile",
                baselineShift: "baseline-shift",
                bbox: 0,
                begin: 0,
                bias: 0,
                by: 0,
                calcMode: "calcMode",
                capHeight: "cap-height",
                clip: 0,
                clipPath: "clip-path",
                clipRule: "clip-rule",
                clipPathUnits: "clipPathUnits",
                colorInterpolation: "color-interpolation",
                colorInterpolationFilters: "color-interpolation-filters",
                colorProfile: "color-profile",
                colorRendering: "color-rendering",
                contentScriptType: "contentScriptType",
                contentStyleType: "contentStyleType",
                cursor: 0,
                cx: 0,
                cy: 0,
                d: 0,
                decelerate: 0,
                descent: 0,
                diffuseConstant: "diffuseConstant",
                direction: 0,
                display: 0,
                divisor: 0,
                dominantBaseline: "dominant-baseline",
                dur: 0,
                dx: 0,
                dy: 0,
                edgeMode: "edgeMode",
                elevation: 0,
                enableBackground: "enable-background",
                end: 0,
                exponent: 0,
                externalResourcesRequired: "externalResourcesRequired",
                fill: 0,
                fillOpacity: "fill-opacity",
                fillRule: "fill-rule",
                filter: 0,
                filterRes: "filterRes",
                filterUnits: "filterUnits",
                floodColor: "flood-color",
                floodOpacity: "flood-opacity",
                focusable: 0,
                fontFamily: "font-family",
                fontSize: "font-size",
                fontSizeAdjust: "font-size-adjust",
                fontStretch: "font-stretch",
                fontStyle: "font-style",
                fontVariant: "font-variant",
                fontWeight: "font-weight",
                format: 0,
                from: 0,
                fx: 0,
                fy: 0,
                g1: 0,
                g2: 0,
                glyphName: "glyph-name",
                glyphOrientationHorizontal: "glyph-orientation-horizontal",
                glyphOrientationVertical: "glyph-orientation-vertical",
                glyphRef: "glyphRef",
                gradientTransform: "gradientTransform",
                gradientUnits: "gradientUnits",
                hanging: 0,
                horizAdvX: "horiz-adv-x",
                horizOriginX: "horiz-origin-x",
                ideographic: 0,
                imageRendering: "image-rendering",
                in: 0,
                in2: 0,
                intercept: 0,
                k: 0,
                k1: 0,
                k2: 0,
                k3: 0,
                k4: 0,
                kernelMatrix: "kernelMatrix",
                kernelUnitLength: "kernelUnitLength",
                kerning: 0,
                keyPoints: "keyPoints",
                keySplines: "keySplines",
                keyTimes: "keyTimes",
                lengthAdjust: "lengthAdjust",
                letterSpacing: "letter-spacing",
                lightingColor: "lighting-color",
                limitingConeAngle: "limitingConeAngle",
                local: 0,
                markerEnd: "marker-end",
                markerMid: "marker-mid",
                markerStart: "marker-start",
                markerHeight: "markerHeight",
                markerUnits: "markerUnits",
                markerWidth: "markerWidth",
                mask: 0,
                maskContentUnits: "maskContentUnits",
                maskUnits: "maskUnits",
                mathematical: 0,
                mode: 0,
                numOctaves: "numOctaves",
                offset: 0,
                opacity: 0,
                operator: 0,
                order: 0,
                orient: 0,
                orientation: 0,
                origin: 0,
                overflow: 0,
                overlinePosition: "overline-position",
                overlineThickness: "overline-thickness",
                paintOrder: "paint-order",
                panose1: "panose-1",
                pathLength: "pathLength",
                patternContentUnits: "patternContentUnits",
                patternTransform: "patternTransform",
                patternUnits: "patternUnits",
                pointerEvents: "pointer-events",
                points: 0,
                pointsAtX: "pointsAtX",
                pointsAtY: "pointsAtY",
                pointsAtZ: "pointsAtZ",
                preserveAlpha: "preserveAlpha",
                preserveAspectRatio: "preserveAspectRatio",
                primitiveUnits: "primitiveUnits",
                r: 0,
                radius: 0,
                refX: "refX",
                refY: "refY",
                renderingIntent: "rendering-intent",
                repeatCount: "repeatCount",
                repeatDur: "repeatDur",
                requiredExtensions: "requiredExtensions",
                requiredFeatures: "requiredFeatures",
                restart: 0,
                result: 0,
                rotate: 0,
                rx: 0,
                ry: 0,
                scale: 0,
                seed: 0,
                shapeRendering: "shape-rendering",
                slope: 0,
                spacing: 0,
                specularConstant: "specularConstant",
                specularExponent: "specularExponent",
                speed: 0,
                spreadMethod: "spreadMethod",
                startOffset: "startOffset",
                stdDeviation: "stdDeviation",
                stemh: 0,
                stemv: 0,
                stitchTiles: "stitchTiles",
                stopColor: "stop-color",
                stopOpacity: "stop-opacity",
                strikethroughPosition: "strikethrough-position",
                strikethroughThickness: "strikethrough-thickness",
                string: 0,
                stroke: 0,
                strokeDasharray: "stroke-dasharray",
                strokeDashoffset: "stroke-dashoffset",
                strokeLinecap: "stroke-linecap",
                strokeLinejoin: "stroke-linejoin",
                strokeMiterlimit: "stroke-miterlimit",
                strokeOpacity: "stroke-opacity",
                strokeWidth: "stroke-width",
                surfaceScale: "surfaceScale",
                systemLanguage: "systemLanguage",
                tableValues: "tableValues",
                targetX: "targetX",
                targetY: "targetY",
                textAnchor: "text-anchor",
                textDecoration: "text-decoration",
                textRendering: "text-rendering",
                textLength: "textLength",
                to: 0,
                transform: 0,
                u1: 0,
                u2: 0,
                underlinePosition: "underline-position",
                underlineThickness: "underline-thickness",
                unicode: 0,
                unicodeBidi: "unicode-bidi",
                unicodeRange: "unicode-range",
                unitsPerEm: "units-per-em",
                vAlphabetic: "v-alphabetic",
                vHanging: "v-hanging",
                vIdeographic: "v-ideographic",
                vMathematical: "v-mathematical",
                values: 0,
                vectorEffect: "vector-effect",
                version: 0,
                vertAdvY: "vert-adv-y",
                vertOriginX: "vert-origin-x",
                vertOriginY: "vert-origin-y",
                viewBox: "viewBox",
                viewTarget: "viewTarget",
                visibility: 0,
                widths: 0,
                wordSpacing: "word-spacing",
                writingMode: "writing-mode",
                x: 0,
                xHeight: "x-height",
                x1: 0,
                x2: 0,
                xChannelSelector: "xChannelSelector",
                xlinkActuate: "xlink:actuate",
                xlinkArcrole: "xlink:arcrole",
                xlinkHref: "xlink:href",
                xlinkRole: "xlink:role",
                xlinkShow: "xlink:show",
                xlinkTitle: "xlink:title",
                xlinkType: "xlink:type",
                xmlBase: "xml:base",
                xmlLang: "xml:lang",
                xmlSpace: "xml:space",
                y: 0,
                y1: 0,
                y2: 0,
                yChannelSelector: "yChannelSelector",
                z: 0,
                zoomAndPan: "zoomAndPan"
            }, Yt = {
                props: {},
                attrNS: {
                    xlinkActuate: $t,
                    xlinkArcrole: $t,
                    xlinkHref: $t,
                    xlinkRole: $t,
                    xlinkShow: $t,
                    xlinkTitle: $t,
                    xlinkType: $t,
                    xmlBase: Wt,
                    xmlLang: Wt,
                    xmlSpace: Wt
                },
                domAttrs: {},
                domProps: {}
            };
            Object.keys(jt).map(function(t) {
                Yt.props[t] = 0, jt[t] && (Yt.domAttrs[t] = jt[t]);
            }), U(zt), U(Yt);
            var Xt = Array.isArray, Gt = 0, Zt = /^on/i;
            Object.freeze || (Object.freeze = K);
            var Qt = {}, Jt = {}, te = Object.freeze({
                render: J,
                unstable_renderSubtreeIntoContainer: tt,
                unmountComponentAtNode: et,
                findDOMNode: st
            }), ee = "a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan", se = {};
            W(ee.split("|"), function(t) {
                se[t] = ot(t);
            });
            var ie = function t() {
                return t;
            };
            ie.isRequired = ie;
            var re = {
                array: ie,
                bool: ie,
                func: ie,
                number: ie,
                object: ie,
                string: ie,
                any: ie,
                arrayOf: ie,
                element: ie,
                instanceOf: ie,
                node: ie,
                objectOf: ie,
                oneOf: ie,
                oneOfType: ie,
                shape: ie
            }, oe = /\/(?!\/)/g, ne = Object.freeze({
                only: at,
                forEach: ht,
                map: lt,
                count: ct,
                toArray: ut
            }), ae = function() {};
            ae.prototype = S.prototype;
            var he = j({
                version: "0.15.1",
                cloneElement: rt,
                isValidElement: it,
                createElement: nt,
                createFactory: ot,
                Component: S,
                createClass: gt,
                Children: ne,
                PropTypes: re,
                DOM: se,
                __spread: j
            }, te);
            return he.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = te, he;
        });
    },
    121: function(t, e, s) {
        "use strict";
        !function() {
            var e = s(120), i = s(122);
            s(123);
            var r = e.createClass({
                displayName: "Terminal",
                propTypes: {
                    cols: e.PropTypes.number,
                    rows: e.PropTypes.number,
                    channel: e.PropTypes.object.isRequired,
                    onTitleChanged: e.PropTypes.func
                },
                getDefaultProps: function() {
                    return {
                        cols: 80,
                        rows: 25
                    };
                },
                componentWillMount: function() {
                    var t = new i({
                        cols: this.props.cols,
                        rows: this.props.rows,
                        screenKeys: !0,
                        useStyle: !0
                    });
                    t.on("data", function(t) {
                        this.props.channel.valid && this.props.channel.send(t);
                    }.bind(this)), this.props.onTitleChanged && t.on("title", this.props.onTitleChanged), 
                    this.setState({
                        terminal: t
                    });
                },
                componentDidMount: function() {
                    this.state.terminal.open(this.refs.terminal), this.connectChannel();
                },
                componentWillUpdate: function(t) {
                    t.cols === this.props.cols && t.rows === this.props.rows || this.state.terminal.resize(t.cols, t.rows), 
                    t.channel !== this.props.channel && (this.state.terminal.reset(), this.disconnectChannel());
                },
                componentDidUpdate: function(t) {
                    t.channel !== this.props.channel && this.connectChannel();
                },
                render: function() {
                    return e.createElement("div", {
                        ref: "terminal",
                        className: "console-ct",
                        key: this.state.terminal
                    });
                },
                componentWillUnmount: function() {
                    this.disconnectChannel(), this.state.terminal.destroy();
                },
                onChannelMessage: function(t, e) {
                    this.state.terminal.write(e);
                },
                onChannelClose: function(t, e) {
                    var s = this.state.terminal;
                    s.write("[31m" + (e.problem || "disconnected") + "[m\r\n"), s.cursorHidden = !0, 
                    s.refresh(s.y, s.y);
                },
                connectChannel: function() {
                    var t = this.props.channel;
                    t && t.valid && (t.addEventListener("message", this.onChannelMessage.bind(this)), 
                    t.addEventListener("close", this.onChannelClose.bind(this)));
                },
                disconnectChannel: function() {
                    this.props.channel && (this.props.channel.removeEventListener("message", this.onChannelMessage), 
                    this.props.channel.removeEventListener("close", this.onChannelClose));
                },
                focus: function() {
                    this.state.terminal && this.state.terminal.focus();
                }
            });
            t.exports = {
                Terminal: r
            };
        }();
    },
    122: function(t, e, s) {
        var i, r;
        (function(s) {
            (function() {
                "use strict";
                function s() {
                    this._events = this._events || {};
                }
                function o() {
                    s.call(this);
                }
                function n(t) {
                    var e = this;
                    if (!(this instanceof n)) return new n(arguments[0], arguments[1], arguments[2]);
                    o.call(this), "number" == typeof t && (t = {
                        cols: arguments[0],
                        rows: arguments[1],
                        handler: arguments[2]
                    }), t = t || {}, y(m(n.defaults), function(s) {
                        null == t[s] && (t[s] = n.options[s], n[s] !== n.defaults[s] && (t[s] = n[s])), 
                        e[s] = t[s];
                    }), 8 === t.colors.length ? t.colors = t.colors.concat(n._colors.slice(8)) : 16 === t.colors.length ? t.colors = t.colors.concat(n._colors.slice(16)) : 10 === t.colors.length ? t.colors = t.colors.slice(0, -2).concat(n._colors.slice(8, -2), t.colors.slice(-2)) : 18 === t.colors.length && (t.colors = t.colors.slice(0, -2).concat(n._colors.slice(16, -2), t.colors.slice(-2))), 
                    this.colors = t.colors, this.options = t, this.parent = t.body || t.parent || (v ? v.getElementsByTagName("body")[0] : null), 
                    this.cols = t.cols || t.geometry[0], this.rows = t.rows || t.geometry[1], this.setRawMode, 
                    this.isTTY = !0, this.isRaw = !0, this.columns = this.cols, this.rows = this.rows, 
                    t.handler && this.on("data", t.handler), this.ybase = 0, this.ydisp = 0, this.x = 0, 
                    this.y = 0, this.cursorState = 0, this.cursorHidden = !1, this.convertEol, this.state = 0, 
                    this.queue = "", this.scrollTop = 0, this.scrollBottom = this.rows - 1, this.applicationKeypad = !1, 
                    this.applicationCursor = !1, this.originMode = !1, this.insertMode = !1, this.wraparoundMode = !1, 
                    this.normal = null, this.prefixMode = !1, this.selectMode = !1, this.visualMode = !1, 
                    this.searchMode = !1, this.searchDown, this.entry = "", this.entryPrefix = "Search: ", 
                    this._real, this._selected, this._textarea, this.charset = null, this.gcharset = null, 
                    this.glevel = 0, this.charsets = [ null ], this.decLocator, this.x10Mouse, this.vt200Mouse, 
                    this.vt300Mouse, this.normalMouse, this.mouseEvents, this.sendFocus, this.utfMouse, 
                    this.sgrMouse, this.urxvtMouse, this.element, this.children, this.refreshStart, 
                    this.refreshEnd, this.savedX, this.savedY, this.savedCols, this.readable = !0, this.writable = !0, 
                    this.defAttr = 131840, this.curAttr = this.defAttr, this.params = [], this.currentParam = 0, 
                    this.prefix = "", this.postfix = "", this.lines = [];
                    for (var s = this.rows; s--; ) this.lines.push(this.blankLine());
                    this.tabs, this.setupStops();
                }
                function a(t, e, s, i) {
                    t.addEventListener(e, s, i || !1);
                }
                function h(t, e, s, i) {
                    t.removeEventListener(e, s, i || !1);
                }
                function l(t) {
                    return t.preventDefault && t.preventDefault(), t.returnValue = !1, t.stopPropagation && t.stopPropagation(), 
                    t.cancelBubble = !0, !1;
                }
                function c(t, e) {
                    function s() {
                        this.constructor = t;
                    }
                    s.prototype = e.prototype, t.prototype = new s();
                }
                function u(t) {
                    var e = t.getElementsByTagName("body")[0], s = t.createElement("div");
                    s.className = "terminal";
                    var i = t.createElement("div"), r = t.createElement("span");
                    r.innerHTML = "hello world", i.appendChild(r), s.appendChild(i), e.appendChild(s);
                    var o = r.scrollWidth;
                    r.style.fontWeight = "bold";
                    var n = r.scrollWidth;
                    return e.removeChild(s), o !== n;
                }
                function p(t, e) {
                    for (var s = t.length; s--; ) if (t[s] === e) return s;
                    return -1;
                }
                function d(t) {
                    return !(t <= "＀") && (t >= "！" && t <= "ﾾ" || t >= "ￂ" && t <= "ￇ" || t >= "ￊ" && t <= "ￏ" || t >= "ￒ" && t <= "ￗ" || t >= "ￚ" && t <= "ￜ" || t >= "￠" && t <= "￦" || t >= "￨" && t <= "￮");
                }
                function f(t, e, s) {
                    var i = t << 16 | e << 8 | s;
                    if (null != f._cache[i]) return f._cache[i];
                    for (var r, o, a, h, l, c = 1 / 0, u = -1, p = 0; p < n.vcolors.length; p++) {
                        if (r = n.vcolors[p], o = r[0], a = r[1], h = r[2], l = f.distance(t, e, s, o, a, h), 
                        0 === l) {
                            u = p;
                            break;
                        }
                        l < c && (c = l, u = p);
                    }
                    return f._cache[i] = u;
                }
                function y(t, e, s) {
                    if (t.forEach) return t.forEach(e, s);
                    for (var i = 0; i < t.length; i++) e.call(s, t[i], i, t);
                }
                function m(t) {
                    if (Object.keys) return Object.keys(t);
                    var e, s = [];
                    for (e in t) Object.prototype.hasOwnProperty.call(t, e) && s.push(e);
                    return s;
                }
                var v = this.document;
                s.prototype.addListener = function(t, e) {
                    this._events[t] = this._events[t] || [], this._events[t].push(e);
                }, s.prototype.on = s.prototype.addListener, s.prototype.removeListener = function(t, e) {
                    if (this._events[t]) for (var s = this._events[t], i = s.length; i--; ) if (s[i] === e || s[i].listener === e) return void s.splice(i, 1);
                }, s.prototype.off = s.prototype.removeListener, s.prototype.removeAllListeners = function(t) {
                    this._events[t] && delete this._events[t];
                }, s.prototype.once = function(t, e) {
                    function s() {
                        var i = Array.prototype.slice.call(arguments);
                        return this.removeListener(t, s), e.apply(this, i);
                    }
                    return s.listener = e, this.on(t, s);
                }, s.prototype.emit = function(t) {
                    if (this._events[t]) for (var e = Array.prototype.slice.call(arguments, 1), s = this._events[t], i = s.length, r = 0; r < i; r++) s[r].apply(this, e);
                }, s.prototype.listeners = function(t) {
                    return this._events[t] = this._events[t] || [];
                }, c(o, s), o.prototype.pipe = function(t, e) {
                    function s() {
                        n.removeListener("data", i), n.removeListener("error", r), n.removeListener("end", o), 
                        t.removeListener("error", r), t.removeListener("close", s);
                    }
                    var i, r, o, n = this;
                    return n.on("data", i = function(e) {
                        t.write(e);
                    }), n.on("error", r = function(t) {
                        if (s(), !this.listeners("error").length) throw t;
                    }), n.on("end", o = function() {
                        t.end(), s();
                    }), t.on("error", r), t.on("close", s), t.emit("pipe", n), t;
                };
                var b = 0, g = 1, x = 2, k = 3, w = 4, C = 5, M = 6, S = {
                    type: "udk"
                };
                c(n, o), n.tangoColors = [ "#2e3436", "#cc0000", "#4e9a06", "#c4a000", "#3465a4", "#75507b", "#06989a", "#d3d7cf", "#555753", "#ef2929", "#8ae234", "#fce94f", "#729fcf", "#ad7fa8", "#34e2e2", "#eeeeec" ], 
                n.xtermColors = [ "#000000", "#cd0000", "#00cd00", "#cdcd00", "#0000ee", "#cd00cd", "#00cdcd", "#e5e5e5", "#7f7f7f", "#ff0000", "#00ff00", "#ffff00", "#5c5cff", "#ff00ff", "#00ffff", "#ffffff" ], 
                n.colors = function() {
                    function t(t, s, r) {
                        i.push("#" + e(t) + e(s) + e(r));
                    }
                    function e(t) {
                        return t = t.toString(16), t.length < 2 ? "0" + t : t;
                    }
                    var s, i = n.tangoColors.slice(), r = [ 0, 95, 135, 175, 215, 255 ];
                    for (s = 0; s < 216; s++) t(r[s / 36 % 6 | 0], r[s / 6 % 6 | 0], r[s % 6]);
                    for (s = 0; s < 24; s++) r = 8 + 10 * s, t(r, r, r);
                    return i;
                }(), n.colors[256] = "#000000", n.colors[257] = "#f0f0f0", n._colors = n.colors.slice(), 
                n.vcolors = function() {
                    for (var t, e = [], s = n.colors, i = 0; i < 256; i++) t = parseInt(s[i].substring(1), 16), 
                    e.push([ t >> 16 & 255, t >> 8 & 255, 255 & t ]);
                    return e;
                }(), n.defaults = {
                    colors: n.colors,
                    convertEol: !1,
                    termName: "xterm",
                    geometry: [ 80, 24 ],
                    cursorBlink: !0,
                    visualBell: !1,
                    popOnBell: !1,
                    scrollback: 1e3,
                    screenKeys: !1,
                    debug: !1,
                    useStyle: !1
                }, n.options = {}, y(m(n.defaults), function(t) {
                    n[t] = n.defaults[t], n.options[t] = n.defaults[t];
                }), n.focus = null, n.prototype.focus = function() {
                    n.focus !== this && (n.focus && n.focus.blur(), this.sendFocus && this.send("[I"), 
                    this.showCursor(), n.focus = this);
                }, n.prototype.blur = function() {
                    n.focus === this && (this.cursorState = 0, this.refresh(this.y, this.y), this.sendFocus && this.send("[O"), 
                    n.focus = null);
                }, n.prototype.initGlobal = function() {
                    var t = this.document;
                    n._boundDocs = n._boundDocs || [], ~p(n._boundDocs, t) || (n._boundDocs.push(t), 
                    n.bindPaste(t), n.bindKeys(t), n.bindCopy(t), this.isMobile && this.fixMobile(t), 
                    this.useStyle && n.insertStyle(t, this.colors[256], this.colors[257]));
                }, n.bindPaste = function(t) {
                    var e = t.defaultView;
                    a(e, "paste", function(t) {
                        var e = n.focus;
                        if (e) return t.clipboardData ? e.send(t.clipboardData.getData("text/plain")) : e.context.clipboardData && e.send(e.context.clipboardData.getData("Text")), 
                        e.element.contentEditable = "inherit", l(t);
                    });
                }, n.bindKeys = function(t) {
                    a(t, "keydown", function(t) {
                        if (n.focus) {
                            var e = t.target || t.srcElement;
                            if (e) return e === n.focus.element || e === n.focus.context || e === n.focus.document || e === n.focus.body || e === n._textarea || e === n.focus.parent ? n.focus.keyDown(t) : void 0;
                        }
                    }, !0), a(t, "keypress", function(t) {
                        if (n.focus) {
                            var e = t.target || t.srcElement;
                            if (e) return e === n.focus.element || e === n.focus.context || e === n.focus.document || e === n.focus.body || e === n._textarea || e === n.focus.parent ? n.focus.keyPress(t) : void 0;
                        }
                    }, !0), a(t, "mousedown", function(t) {
                        if (n.focus) {
                            var e = t.target || t.srcElement;
                            if (e) {
                                do if (e === n.focus.element) return; while (e = e.parentNode);
                                n.focus.blur();
                            }
                        }
                    });
                }, n.bindCopy = function(t) {
                    var e = t.defaultView;
                    a(e, "copy", function(t) {
                        var e = n.focus;
                        if (e && e._selected) {
                            var s = e.getCopyTextarea(), i = e.grabText(e._selected.x1, e._selected.x2, e._selected.y1, e._selected.y2);
                            e.emit("copy", i), s.focus(), s.textContent = i, s.value = i, s.setSelectionRange(0, i.length), 
                            T(function() {
                                e.element.focus(), e.focus();
                            }, 1);
                        }
                    });
                }, n.prototype.fixMobile = function(t) {
                    var e = this, s = t.createElement("textarea");
                    s.style.position = "absolute", s.style.left = "-32000px", s.style.top = "-32000px", 
                    s.style.width = "0px", s.style.height = "0px", s.style.opacity = "0", s.style.backgroundColor = "transparent", 
                    s.style.borderStyle = "none", s.style.outlineStyle = "none", s.autocapitalize = "none", 
                    s.autocorrect = "off", t.getElementsByTagName("body")[0].appendChild(s), n._textarea = s, 
                    T(function() {
                        s.focus();
                    }, 1e3), this.isAndroid && a(s, "change", function() {
                        var t = s.textContent || s.value;
                        s.value = "", s.textContent = "", e.send(t + "\r");
                    });
                }, n.insertStyle = function(t, e, s) {
                    var i = t.getElementById("term-style");
                    if (!i) {
                        var r = t.getElementsByTagName("head")[0];
                        if (r) {
                            var i = t.createElement("style");
                            i.id = "term-style", i.innerHTML = ".terminal {\n  float: left;\n  border: " + e + ' solid 5px;\n  font-family: "DejaVu Sans Mono", "Liberation Mono", monospace;\n  font-size: 11px;\n  color: ' + s + ";\n  background: " + e + ";\n}\n\n.terminal-cursor {\n  color: " + e + ";\n  background: " + s + ";\n}\n";
                            var o = "";
                            y(n.colors, function(t, e) {
                                256 === e && (o += "\n.term-bg-color-default { background-color: " + t + "; }"), 
                                257 === e && (o += "\n.term-fg-color-default { color: " + t + "; }"), o += "\n.term-bg-color-" + e + " { background-color: " + t + "; }", 
                                o += "\n.term-fg-color-" + e + " { color: " + t + "; }";
                            }), o += "\n.term-bold { font-weight: bold; }", o += "\n.term-underline { text-decoration: underline; }", 
                            o += "\n.term-blink { text-decoration: blink; }", o += "\n.term-hidden { visibility: hidden; }", 
                            i.innerHTML += o + "\n", r.insertBefore(i, r.firstChild);
                        }
                    }
                }, n.prototype.open = function(t) {
                    var e, s = this, i = 0;
                    if (this.parent = t || this.parent, !this.parent) throw new Error("Terminal requires a parent element.");
                    for (this.context = this.parent.ownerDocument.defaultView, this.document = this.parent.ownerDocument, 
                    this.body = this.document.getElementsByTagName("body")[0], this.context.navigator && this.context.navigator.userAgent && (this.isMac = !!~this.context.navigator.userAgent.indexOf("Mac"), 
                    this.isIpad = !!~this.context.navigator.userAgent.indexOf("iPad"), this.isIphone = !!~this.context.navigator.userAgent.indexOf("iPhone"), 
                    this.isAndroid = !!~this.context.navigator.userAgent.indexOf("Android"), this.isMobile = this.isIpad || this.isIphone || this.isAndroid, 
                    this.isMSIE = !!~this.context.navigator.userAgent.indexOf("MSIE")), this.element = this.document.createElement("div"), 
                    this.element.className = "terminal", this.element.style.outline = "none", this.element.setAttribute("tabindex", 0), 
                    this.element.setAttribute("spellcheck", "false"), this.element.style.backgroundColor = this.colors[256], 
                    this.element.style.color = this.colors[257], this.children = []; i < this.rows; i++) e = this.document.createElement("div"), 
                    this.element.appendChild(e), this.children.push(e);
                    this.parent.appendChild(this.element), this.refresh(0, this.rows - 1), "useEvents" in this.options && !this.options.useEvents || this.initGlobal(), 
                    "useFocus" in this.options && !this.options.useFocus || (this.focus(), this.startBlink(), 
                    a(this.element, "focus", function() {
                        s.focus(), s.isMobile && n._textarea.focus();
                    }), a(this.element, "mousedown", function() {
                        s.focus();
                    }), a(this.element, "mousedown", function(t) {
                        var e = null != t.button ? +t.button : null != t.which ? t.which - 1 : null;
                        s.isMSIE && (e = 1 === e ? 0 : 4 === e ? 1 : e), 2 === e && (s.element.contentEditable = "true", 
                        T(function() {
                            s.element.contentEditable = "inherit";
                        }, 1));
                    }, !0)), "useMouse" in this.options && !this.options.useMouse || this.bindMouse(), 
                    "useFocus" in this.options && !this.options.useFocus || T(function() {
                        s.element.focus();
                    }, 100), null == n.brokenBold && (n.brokenBold = u(this.document)), this.emit("open");
                }, n.prototype.setRawMode = function(t) {
                    this.isRaw = !!t;
                }, n.prototype.bindMouse = function() {
                    function t(t) {
                        var e, s;
                        if (e = r(t), s = o(t)) switch (i(e, s), t.type) {
                          case "mousedown":
                            u = e;
                            break;

                          case "mouseup":
                            u = 32;
                            break;

                          case p:                        }
                    }
                    function e(t) {
                        var e, s = u;
                        e = o(t), e && (s += 32, i(s, e));
                    }
                    function s(t, e) {
                        if (c.utfMouse) {
                            if (2047 === e) return t.push(0);
                            e < 127 ? t.push(e) : (e > 2047 && (e = 2047), t.push(192 | e >> 6), t.push(128 | 63 & e));
                        } else {
                            if (255 === e) return t.push(0);
                            e > 127 && (e = 127), t.push(e);
                        }
                    }
                    function i(t, e) {
                        if (c.vt300Mouse) {
                            t &= 3, e.x -= 32, e.y -= 32;
                            var i = "[24";
                            if (0 === t) i += "1"; else if (1 === t) i += "3"; else if (2 === t) i += "5"; else {
                                if (3 === t) return;
                                i += "0";
                            }
                            return i += "~[" + e.x + "," + e.y + "]\r", void c.send(i);
                        }
                        if (c.decLocator) return t &= 3, e.x -= 32, e.y -= 32, 0 === t ? t = 2 : 1 === t ? t = 4 : 2 === t ? t = 6 : 3 === t && (t = 3), 
                        void c.send("[" + t + ";" + (3 === t ? 4 : 0) + ";" + e.y + ";" + e.x + ";" + (e.page || 0) + "&w");
                        if (c.urxvtMouse) return e.x -= 32, e.y -= 32, e.x++, e.y++, void c.send("[" + t + ";" + e.x + ";" + e.y + "M");
                        if (c.sgrMouse) return e.x -= 32, e.y -= 32, void c.send("[<" + (3 === (3 & t) ? t & -4 : t) + ";" + e.x + ";" + e.y + (3 === (3 & t) ? "m" : "M"));
                        var i = [];
                        s(i, t), s(i, e.x), s(i, e.y), c.send("[M" + P.fromCharCode.apply(P, i));
                    }
                    function r(t) {
                        var e, s, i, r, o;
                        switch (t.type) {
                          case "mousedown":
                            e = null != t.button ? +t.button : null != t.which ? t.which - 1 : null, c.isMSIE && (e = 1 === e ? 0 : 4 === e ? 1 : e);
                            break;

                          case "mouseup":
                            e = 3;
                            break;

                          case "DOMMouseScroll":
                            e = t.detail < 0 ? 64 : 65;
                            break;

                          case "mousewheel":
                            e = t.wheelDeltaY > 0 ? 64 : 65;
                        }
                        return s = t.shiftKey ? 4 : 0, i = t.metaKey ? 8 : 0, r = t.ctrlKey ? 16 : 0, o = s | i | r, 
                        c.vt200Mouse ? o &= r : c.normalMouse || (o = 0), e = 32 + (o << 2) + e;
                    }
                    function o(t) {
                        var e, s, i, r, o;
                        if (null != t.pageX) {
                            for (e = t.pageX, s = t.pageY, o = c.element; o && o !== c.document.documentElement; ) e -= o.offsetLeft, 
                            s -= o.offsetTop, o = "offsetParent" in o ? o.offsetParent : o.parentNode;
                            return i = c.element.clientWidth, r = c.element.clientHeight, e = Math.round(e / i * c.cols), 
                            s = Math.round(s / r * c.rows), e < 0 && (e = 0), e > c.cols && (e = c.cols), s < 0 && (s = 0), 
                            s > c.rows && (s = c.rows), e += 32, s += 32, {
                                x: e,
                                y: s,
                                type: t.type === p ? "mousewheel" : t.type
                            };
                        }
                    }
                    var n = this.element, c = this, u = 32, p = "onmousewheel" in this.context ? "mousewheel" : "DOMMouseScroll";
                    a(n, "mousedown", function(s) {
                        if (c.mouseEvents) return t(s), c.focus(), c.normalMouse && a(c.document, "mousemove", e), 
                        c.x10Mouse || a(c.document, "mouseup", function s(i) {
                            return t(i), c.normalMouse && h(c.document, "mousemove", e), h(c.document, "mouseup", s), 
                            l(i);
                        }), l(s);
                    }), a(n, p, function(e) {
                        if (c.mouseEvents && !(c.x10Mouse || c.vt300Mouse || c.decLocator)) return t(e), 
                        l(e);
                    }), a(n, p, function(t) {
                        if (!c.mouseEvents && !c.applicationKeypad) return "DOMMouseScroll" === t.type ? c.scrollDisp(t.detail < 0 ? -5 : 5) : c.scrollDisp(t.wheelDeltaY > 0 ? -5 : 5), 
                        l(t);
                    });
                }, n.prototype.close = n.prototype.destroySoon = n.prototype.destroy = function() {
                    this.destroyed || (this._blink && (clearInterval(this._blink), delete this._blink), 
                    this.readable = !1, this.writable = !1, this.destroyed = !0, this._events = {}, 
                    this.handler = function() {}, this.write = function() {}, this.end = function() {}, 
                    this.element.parentNode && this.element.parentNode.removeChild(this.element), this.emit("end"), 
                    this.emit("close"), this.emit("finish"), this.emit("destroy"));
                }, n.prototype.refresh = function(t, e) {
                    var s, i, r, o, a, h, l, c, u, p, f, y, m, v;
                    for (e - t >= this.rows / 2 && (v = this.element.parentNode, v && v.removeChild(this.element)), 
                    l = this.cols, i = t, e >= this.lines.length && (this.log("`end` is too large. Most likely a bad CSR."), 
                    e = this.lines.length - 1); i <= e; i++) {
                        for (m = i + this.ydisp, o = this.lines[m], a = "", s = i !== this.y || !this.cursorState || this.ydisp !== this.ybase && !this.selectMode || this.cursorHidden ? -1 : this.x, 
                        u = this.defAttr, r = 0; r < l; r++) {
                            switch (c = o[r][0], h = o[r][1], r === s && (c = -1), c !== u && (u !== this.defAttr && (a += "</span>"), 
                            c !== this.defAttr && (c === -1 ? a += '<span class="reverse-video terminal-cursor">' : (a += this.useStyle ? '<span class="' : '<span style="', 
                            p = 511 & c, f = c >> 9 & 511, y = c >> 18, 1 & y && (n.brokenBold || (a += this.useStyle ? "term-bold " : "font-weight:bold;"), 
                            f < 8 && (f += 8)), 2 & y && (a += this.useStyle ? "term-underline " : "text-decoration:underline;"), 
                            4 & y && (this.useStyle ? a += "term-blink " : 2 & y ? (a = a.slice(0, -1), a += " blink;") : a += "text-decoration:blink;"), 
                            8 & y && (p = c >> 9 & 511, f = 511 & c, 1 & y && f < 8 && (f += 8)), 16 & y && (a += this.useStyle ? "term-hidden " : "visibility:hidden;"), 
                            256 !== p && (a += this.useStyle ? "term-bg-color-" + p + " " : "background-color:" + this.colors[p] + ";"), 
                            257 !== f && (a += this.useStyle ? "term-fg-color-" + f + " " : "color:" + this.colors[f] + ";"), 
                            a += '">'))), h) {
                              case "&":
                                a += "&amp;";
                                break;

                              case "<":
                                a += "&lt;";
                                break;

                              case ">":
                                a += "&gt;";
                                break;

                              default:
                                h <= " " ? a += "&nbsp;" : (d(h) && r++, a += h);
                            }
                            u = c;
                        }
                        u !== this.defAttr && (a += "</span>"), this.children[i].innerHTML = a;
                    }
                    v && v.appendChild(this.element);
                }, n.prototype._cursorBlink = function() {
                    n.focus === this && (this.cursorState ^= 1, this.refresh(this.y, this.y));
                }, n.prototype.showCursor = function() {
                    this.cursorState || (this.cursorState = 1, this.refresh(this.y, this.y));
                }, n.prototype.startBlink = function() {
                    if (this.cursorBlink) {
                        var t = this;
                        this._blinker = function() {
                            t._cursorBlink();
                        }, this._blink = A(this._blinker, 500);
                    }
                }, n.prototype.refreshBlink = function() {
                    this.cursorBlink && this._blink && (clearInterval(this._blink), this._blink = A(this._blinker, 500));
                }, n.prototype.scroll = function() {
                    var t;
                    ++this.ybase === this.scrollback && (this.ybase = this.ybase / 2 | 0, this.lines = this.lines.slice(-(this.ybase + this.rows) + 1)), 
                    this.ydisp = this.ybase, t = this.ybase + this.rows - 1, t -= this.rows - 1 - this.scrollBottom, 
                    t === this.lines.length ? this.lines.push(this.blankLine()) : this.lines.splice(t, 0, this.blankLine()), 
                    0 !== this.scrollTop && (0 !== this.ybase && (this.ybase--, this.ydisp = this.ybase), 
                    this.lines.splice(this.ybase + this.scrollTop, 1)), this.updateRange(this.scrollTop), 
                    this.updateRange(this.scrollBottom);
                }, n.prototype.scrollDisp = function(t) {
                    this.ydisp += t, this.ydisp > this.ybase ? this.ydisp = this.ybase : this.ydisp < 0 && (this.ydisp = 0), 
                    this.refresh(0, this.rows - 1);
                }, n.prototype.write = function(t) {
                    var e, s, i, r = t.length, o = 0;
                    for (this.refreshStart = this.y, this.refreshEnd = this.y, this.ybase !== this.ydisp && (this.ydisp = this.ybase, 
                    this.maxRange()); o < r; o++, this.lch = i) switch (i = t[o], this.state) {
                      case b:
                        switch (i) {
                          case "":
                            this.bell();
                            break;

                          case "\n":
                          case "\v":
                          case "\f":
                            this.convertEol && (this.x = 0), this.y++, this.y > this.scrollBottom && (this.y--, 
                            this.scroll());
                            break;

                          case "\r":
                            this.x = 0;
                            break;

                          case "\b":
                            this.x > 0 && this.x--;
                            break;

                          case "\t":
                            this.x = this.nextStop();
                            break;

                          case "":
                            this.setgLevel(1);
                            break;

                          case "":
                            this.setgLevel(0);
                            break;

                          case "":
                            this.state = g;
                            break;

                          default:
                            if (i >= " " && (this.charset && this.charset[i] && (i = this.charset[i]), this.x >= this.cols && (this.x = 0, 
                            this.y++, this.y > this.scrollBottom && (this.y--, this.scroll())), this.lines[this.y + this.ybase][this.x] = [ this.curAttr, i ], 
                            this.x++, this.updateRange(this.y), d(i))) {
                                if (e = this.y + this.ybase, this.cols < 2 || this.x >= this.cols) {
                                    this.lines[e][this.x - 1] = [ this.curAttr, " " ];
                                    break;
                                }
                                this.lines[e][this.x] = [ this.curAttr, " " ], this.x++;
                            }
                        }
                        break;

                      case g:
                        switch (i) {
                          case "[":
                            this.params = [], this.currentParam = 0, this.state = x;
                            break;

                          case "]":
                            this.params = [], this.currentParam = 0, this.state = k;
                            break;

                          case "P":
                            this.params = [], this.prefix = "", this.currentParam = "", this.state = C;
                            break;

                          case "_":
                            this.state = M;
                            break;

                          case "^":
                            this.state = M;
                            break;

                          case "c":
                            this.reset();
                            break;

                          case "E":
                            this.x = 0;

                          case "D":
                            this.index();
                            break;

                          case "M":
                            this.reverseIndex();
                            break;

                          case "%":
                            this.setgLevel(0), this.setgCharset(0, n.charsets.US), this.state = b, o++;
                            break;

                          case "(":
                          case ")":
                          case "*":
                          case "+":
                          case "-":
                          case ".":
                            switch (i) {
                              case "(":
                                this.gcharset = 0;
                                break;

                              case ")":
                                this.gcharset = 1;
                                break;

                              case "*":
                                this.gcharset = 2;
                                break;

                              case "+":
                                this.gcharset = 3;
                                break;

                              case "-":
                                this.gcharset = 1;
                                break;

                              case ".":
                                this.gcharset = 2;
                            }
                            this.state = w;
                            break;

                          case "/":
                            this.gcharset = 3, this.state = w, o--;
                            break;

                          case "N":
                            break;

                          case "O":
                            break;

                          case "n":
                            this.setgLevel(2);
                            break;

                          case "o":
                            this.setgLevel(3);
                            break;

                          case "|":
                            this.setgLevel(3);
                            break;

                          case "}":
                            this.setgLevel(2);
                            break;

                          case "~":
                            this.setgLevel(1);
                            break;

                          case "7":
                            this.saveCursor(), this.state = b;
                            break;

                          case "8":
                            this.restoreCursor(), this.state = b;
                            break;

                          case "#":
                            this.state = b, o++;
                            break;

                          case "H":
                            this.tabSet();
                            break;

                          case "=":
                            this.log("Serial port requested application keypad."), this.applicationKeypad = !0, 
                            this.state = b;
                            break;

                          case ">":
                            this.log("Switching back to normal keypad."), this.applicationKeypad = !1, this.state = b;
                            break;

                          default:
                            this.state = b, this.error("Unknown ESC control: %s.", i);
                        }
                        break;

                      case w:
                        switch (i) {
                          case "0":
                            s = n.charsets.SCLD;
                            break;

                          case "A":
                            s = n.charsets.UK;
                            break;

                          case "B":
                            s = n.charsets.US;
                            break;

                          case "4":
                            s = n.charsets.Dutch;
                            break;

                          case "C":
                          case "5":
                            s = n.charsets.Finnish;
                            break;

                          case "R":
                            s = n.charsets.French;
                            break;

                          case "Q":
                            s = n.charsets.FrenchCanadian;
                            break;

                          case "K":
                            s = n.charsets.German;
                            break;

                          case "Y":
                            s = n.charsets.Italian;
                            break;

                          case "E":
                          case "6":
                            s = n.charsets.NorwegianDanish;
                            break;

                          case "Z":
                            s = n.charsets.Spanish;
                            break;

                          case "H":
                          case "7":
                            s = n.charsets.Swedish;
                            break;

                          case "=":
                            s = n.charsets.Swiss;
                            break;

                          case "/":
                            s = n.charsets.ISOLatin, o++;
                            break;

                          default:
                            s = n.charsets.US;
                        }
                        this.setgCharset(this.gcharset, s), this.gcharset = null, this.state = b;
                        break;

                      case k:
                        if ("" === this.lch && "\\" === i || "" === i) {
                            switch ("" === this.lch && ("string" == typeof this.currentParam ? this.currentParam = this.currentParam.slice(0, -1) : "number" == typeof this.currentParam && (this.currentParam = (this.currentParam - ("".charCodeAt(0) - 48)) / 10)), 
                            this.params.push(this.currentParam), this.params[0]) {
                              case 0:
                              case 1:
                              case 2:
                                this.params[1] && (this.title = this.params[1], this.handleTitle(this.title));
                                break;

                              case 3:
                                break;

                              case 4:
                              case 5:
                                break;

                              case 10:
                              case 11:
                              case 12:
                              case 13:
                              case 14:
                              case 15:
                              case 16:
                              case 17:
                              case 18:
                              case 19:
                                break;

                              case 46:
                                break;

                              case 50:
                                break;

                              case 51:
                                break;

                              case 52:
                                break;

                              case 104:
                              case 105:
                              case 110:
                              case 111:
                              case 112:
                              case 113:
                              case 114:
                              case 115:
                              case 116:
                              case 117:
                              case 118:                            }
                            this.params = [], this.currentParam = 0, this.state = b;
                        } else this.params.length ? this.currentParam += i : i >= "0" && i <= "9" ? this.currentParam = 10 * this.currentParam + i.charCodeAt(0) - 48 : ";" === i && (this.params.push(this.currentParam), 
                        this.currentParam = "");
                        break;

                      case x:
                        if ("?" === i || ">" === i || "!" === i) {
                            this.prefix = i;
                            break;
                        }
                        if (i >= "0" && i <= "9") {
                            this.currentParam = 10 * this.currentParam + i.charCodeAt(0) - 48;
                            break;
                        }
                        if ("$" === i || '"' === i || " " === i || "'" === i) {
                            this.postfix = i;
                            break;
                        }
                        if (this.params.push(this.currentParam), this.currentParam = 0, ";" === i) break;
                        switch (this.state = b, i) {
                          case "A":
                            this.cursorUp(this.params);
                            break;

                          case "B":
                            this.cursorDown(this.params);
                            break;

                          case "C":
                            this.cursorForward(this.params);
                            break;

                          case "D":
                            this.cursorBackward(this.params);
                            break;

                          case "H":
                            this.cursorPos(this.params);
                            break;

                          case "J":
                            this.eraseInDisplay(this.params);
                            break;

                          case "K":
                            this.eraseInLine(this.params);
                            break;

                          case "m":
                            this.prefix || this.charAttributes(this.params);
                            break;

                          case "n":
                            this.prefix || this.deviceStatus(this.params);
                            break;

                          case "@":
                            this.insertChars(this.params);
                            break;

                          case "E":
                            this.cursorNextLine(this.params);
                            break;

                          case "F":
                            this.cursorPrecedingLine(this.params);
                            break;

                          case "G":
                            this.cursorCharAbsolute(this.params);
                            break;

                          case "L":
                            this.insertLines(this.params);
                            break;

                          case "M":
                            this.deleteLines(this.params);
                            break;

                          case "P":
                            this.deleteChars(this.params);
                            break;

                          case "X":
                            this.eraseChars(this.params);
                            break;

                          case "`":
                            this.charPosAbsolute(this.params);
                            break;

                          case "a":
                            this.HPositionRelative(this.params);
                            break;

                          case "c":
                            this.sendDeviceAttributes(this.params);
                            break;

                          case "d":
                            this.linePosAbsolute(this.params);
                            break;

                          case "e":
                            this.VPositionRelative(this.params);
                            break;

                          case "f":
                            this.HVPosition(this.params);
                            break;

                          case "h":
                            this.setMode(this.params);
                            break;

                          case "l":
                            this.resetMode(this.params);
                            break;

                          case "r":
                            this.setScrollRegion(this.params);
                            break;

                          case "s":
                            this.saveCursor(this.params);
                            break;

                          case "u":
                            this.restoreCursor(this.params);
                            break;

                          case "I":
                            this.cursorForwardTab(this.params);
                            break;

                          case "S":
                            this.scrollUp(this.params);
                            break;

                          case "T":
                            this.params.length < 2 && !this.prefix && this.scrollDown(this.params);
                            break;

                          case "Z":
                            this.cursorBackwardTab(this.params);
                            break;

                          case "b":
                            this.repeatPrecedingCharacter(this.params);
                            break;

                          case "g":
                            this.tabClear(this.params);
                            break;

                          case "p":
                            switch (this.prefix) {
                              case "!":
                                this.softReset(this.params);
                            }
                            break;

                          default:
                            this.error("Unknown CSI code: %s.", i);
                        }
                        this.prefix = "", this.postfix = "";
                        break;

                      case C:
                        if ("" === this.lch && "\\" === i || "" === i) {
                            if ("tmux;" === this.prefix && "" === i) {
                                this.currentParam += i;
                                continue;
                            }
                            "" === this.lch && ("string" == typeof this.currentParam ? this.currentParam = this.currentParam.slice(0, -1) : "number" == typeof this.currentParam && (this.currentParam = (this.currentParam - ("".charCodeAt(0) - 48)) / 10)), 
                            this.params.push(this.currentParam);
                            var a = this.params[this.params.length - 1];
                            switch (this.prefix) {
                              case S:
                                this.emit("udk", {
                                    clearAll: 0 === this.params[0],
                                    eraseBelow: 1 === this.params[0],
                                    lockKeys: 0 === this.params[1],
                                    dontLockKeys: 1 === this.params[1],
                                    keyList: (this.params[2] + "").split(";").map(function(t) {
                                        return t = t.split("/"), {
                                            keyCode: t[0],
                                            hexKeyValue: t[1]
                                        };
                                    })
                                });
                                break;

                              case "$q":
                                var h = 0;
                                switch (a) {
                                  case '"q':
                                    a = '0"q', h = 1;
                                    break;

                                  case '"p':
                                    a = '61;0"p', h = 1;
                                    break;

                                  case "r":
                                    a = "" + (this.scrollTop + 1) + ";" + (this.scrollBottom + 1) + "r", h = 1;
                                    break;

                                  case "m":
                                    h = 0;
                                    break;

                                  default:
                                    this.error("Unknown DCS Pt: %s.", a), h = 0;
                                }
                                this.send("P" + h + "$r" + a + "\\");
                                break;

                              case "+p":
                                this.emit("set terminfo", {
                                    name: this.params[0]
                                });
                                break;

                              case "+q":
                                var h = !1;
                                this.send("P" + +h + "+r" + a + "\\");
                                break;

                              case "tmux;":
                                this.emit("passthrough", a);
                                break;

                              default:
                                this.error("Unknown DCS prefix: %s.", a);
                            }
                            this.currentParam = 0, this.prefix = "", this.state = b;
                        } else this.currentParam += i, this.prefix || (/^\d*;\d*\|/.test(this.currentParam) ? (this.prefix = S, 
                        this.params = this.currentParam.split(/[;|]/).map(function(t) {
                            return t.length ? +t : 0;
                        }).slice(0, -1), this.currentParam = "") : (/^[$+][a-zA-Z]/.test(this.currentParam) || /^\w+;\x1b/.test(this.currentParam)) && (this.prefix = this.currentParam, 
                        this.currentParam = ""));
                        break;

                      case M:
                        ("" === this.lch && "\\" === i || "" === i) && (this.state = b);
                    }
                    return this.updateRange(this.y), this.refresh(this.refreshStart, this.refreshEnd), 
                    !0;
                }, n.prototype.writeln = function(t) {
                    return this.write(t + "\r\n");
                }, n.prototype.end = function(t) {
                    var e = !0;
                    return t && (e = this.write(t)), this.destroySoon(), e;
                }, n.prototype.resume = function() {}, n.prototype.pause = function() {}, n.prototype.keyDown = function(t) {
                    var e, s = this;
                    switch (t.keyCode) {
                      case 8:
                        if (t.altKey) {
                            e = "";
                            break;
                        }
                        if (t.shiftKey) {
                            e = "\b";
                            break;
                        }
                        e = "";
                        break;

                      case 9:
                        if (t.shiftKey) {
                            e = "[Z";
                            break;
                        }
                        e = "\t";
                        break;

                      case 13:
                        e = "\r";
                        break;

                      case 27:
                        e = "";
                        break;

                      case 32:
                        e = " ";
                        break;

                      case 37:
                        if (this.applicationCursor) {
                            e = "OD";
                            break;
                        }
                        if (t.ctrlKey) {
                            e = "[5D";
                            break;
                        }
                        e = "[D";
                        break;

                      case 39:
                        if (this.applicationCursor) {
                            e = "OC";
                            break;
                        }
                        if (t.ctrlKey) {
                            e = "[5C";
                            break;
                        }
                        e = "[C";
                        break;

                      case 38:
                        if (this.applicationCursor) {
                            e = "OA";
                            break;
                        }
                        if (t.ctrlKey) return this.scrollDisp(-1), l(t);
                        e = "[A";
                        break;

                      case 40:
                        if (this.applicationCursor) {
                            e = "OB";
                            break;
                        }
                        if (t.ctrlKey) return this.scrollDisp(1), l(t);
                        e = "[B";
                        break;

                      case 46:
                        e = "[3~";
                        break;

                      case 45:
                        e = "[2~";
                        break;

                      case 36:
                        if (this.applicationKeypad) {
                            e = "OH";
                            break;
                        }
                        e = "OH";
                        break;

                      case 35:
                        if (this.applicationKeypad) {
                            e = "OF";
                            break;
                        }
                        e = "OF";
                        break;

                      case 33:
                        if (t.shiftKey) return this.scrollDisp(-(this.rows - 1)), l(t);
                        e = "[5~";
                        break;

                      case 34:
                        if (t.shiftKey) return this.scrollDisp(this.rows - 1), l(t);
                        e = "[6~";
                        break;

                      case 112:
                        e = "OP";
                        break;

                      case 113:
                        e = "OQ";
                        break;

                      case 114:
                        e = "OR";
                        break;

                      case 115:
                        e = "OS";
                        break;

                      case 116:
                        e = "[15~";
                        break;

                      case 117:
                        e = "[17~";
                        break;

                      case 118:
                        e = "[18~";
                        break;

                      case 119:
                        e = "[19~";
                        break;

                      case 120:
                        e = "[20~";
                        break;

                      case 121:
                        e = "[21~";
                        break;

                      case 122:
                        e = "[23~";
                        break;

                      case 123:
                        e = "[24~";
                        break;

                      default:
                        if (t.ctrlKey) if (t.keyCode >= 65 && t.keyCode <= 90) {
                            if (this.screenKeys && !this.prefixMode && !this.selectMode && 65 === t.keyCode) return this.enterPrefix(), 
                            l(t);
                            if (this.prefixMode && 86 === t.keyCode) return void this.leavePrefix();
                            if ((this.prefixMode || this.selectMode) && 67 === t.keyCode) return void (this.visualMode && T(function() {
                                s.leaveVisual();
                            }, 1));
                            e = P.fromCharCode(t.keyCode - 64);
                        } else 32 === t.keyCode ? e = P.fromCharCode(0) : t.keyCode >= 51 && t.keyCode <= 55 ? e = P.fromCharCode(t.keyCode - 51 + 27) : 56 === t.keyCode ? e = P.fromCharCode(127) : 219 === t.keyCode ? e = P.fromCharCode(27) : 221 === t.keyCode && (e = P.fromCharCode(29)); else t.altKey && (t.keyCode >= 65 && t.keyCode <= 90 ? e = "" + P.fromCharCode(t.keyCode + 32) : 192 === t.keyCode ? e = "`" : t.keyCode >= 48 && t.keyCode <= 57 && (e = "" + (t.keyCode - 48)));
                    }
                    return !e || (this.prefixMode ? (this.leavePrefix(), l(t)) : this.selectMode ? (this.keySelect(t, e), 
                    l(t)) : (this.emit("keydown", t), this.emit("key", e, t), this.showCursor(), this.handler(e), 
                    l(t)));
                }, n.prototype.setgLevel = function(t) {
                    this.glevel = t, this.charset = this.charsets[t];
                }, n.prototype.setgCharset = function(t, e) {
                    this.charsets[t] = e, this.glevel === t && (this.charset = e);
                }, n.prototype.keyPress = function(t) {
                    var e;
                    if (l(t), t.charCode) e = t.charCode; else if (null == t.which) e = t.keyCode; else {
                        if (0 === t.which || 0 === t.charCode) return !1;
                        e = t.which;
                    }
                    return !(!e || t.ctrlKey || t.altKey || t.metaKey) && (e = P.fromCharCode(e), this.prefixMode ? (this.leavePrefix(), 
                    this.keyPrefix(t, e), !1) : this.selectMode ? (this.keySelect(t, e), !1) : (this.emit("keypress", e, t), 
                    this.emit("key", e, t), this.showCursor(), this.handler(e), !1));
                }, n.prototype.send = function(t) {
                    var e = this;
                    this.queue || T(function() {
                        e.handler(e.queue), e.queue = "";
                    }, 1), this.queue += t;
                }, n.prototype.bell = function() {
                    if (this.emit("bell"), this.visualBell) {
                        var t = this;
                        this.element.style.borderColor = "white", T(function() {
                            t.element.style.borderColor = "";
                        }, 10), this.popOnBell && this.focus();
                    }
                }, n.prototype.log = function() {
                    if (this.debug && this.context.console && this.context.console.log) {
                        var t = Array.prototype.slice.call(arguments);
                        this.context.console.log.apply(this.context.console, t);
                    }
                }, n.prototype.error = function() {
                    if (this.debug && this.context.console && this.context.console.error) {
                        var t = Array.prototype.slice.call(arguments);
                        this.context.console.error.apply(this.context.console, t);
                    }
                }, n.prototype.resize = function(t, e) {
                    var s, i, r, o, n;
                    if (t < 1 && (t = 1), e < 1 && (e = 1), o = this.cols, o < t) for (n = [ this.defAttr, " " ], 
                    r = this.lines.length; r--; ) for (;this.lines[r].length < t; ) this.lines[r].push(n); else if (o > t) for (r = this.lines.length; r--; ) for (;this.lines[r].length > t; ) this.lines[r].pop();
                    if (this.setupStops(o), this.cols = t, this.columns = t, o = this.rows, o < e) for (i = this.element; o++ < e; ) this.lines.length < e + this.ybase && this.lines.push(this.blankLine()), 
                    this.children.length < e && (s = this.document.createElement("div"), i.appendChild(s), 
                    this.children.push(s)); else if (o > e) for (;o-- > e; ) if (this.lines.length > e + this.ybase && this.lines.pop(), 
                    this.children.length > e) {
                        if (i = this.children.pop(), !i) continue;
                        i.parentNode.removeChild(i);
                    }
                    this.rows = e, this.y >= e && (this.y = e - 1), this.x >= t && (this.x = t - 1), 
                    this.scrollTop = 0, this.scrollBottom = e - 1, this.refresh(0, this.rows - 1), this.normal = null, 
                    this.emit("resize");
                }, n.prototype.updateRange = function(t) {
                    t < this.refreshStart && (this.refreshStart = t), t > this.refreshEnd && (this.refreshEnd = t);
                }, n.prototype.maxRange = function() {
                    this.refreshStart = 0, this.refreshEnd = this.rows - 1;
                }, n.prototype.setupStops = function(t) {
                    for (null != t ? this.tabs[t] || (t = this.prevStop(t)) : (this.tabs = {}, t = 0); t < this.cols; t += 8) this.tabs[t] = !0;
                }, n.prototype.prevStop = function(t) {
                    for (null == t && (t = this.x); !this.tabs[--t] && t > 0; ) ;
                    return t >= this.cols ? this.cols - 1 : t < 0 ? 0 : t;
                }, n.prototype.nextStop = function(t) {
                    for (null == t && (t = this.x); !this.tabs[++t] && t < this.cols; ) ;
                    return t >= this.cols ? this.cols - 1 : t < 0 ? 0 : t;
                }, n.prototype.eraseAttr = function() {
                    return this.defAttr & -512 | 511 & this.curAttr;
                }, n.prototype.eraseRight = function(t, e) {
                    for (var s = this.lines[this.ybase + e], i = [ this.eraseAttr(), " " ]; t < this.cols; t++) s[t] = i;
                    this.updateRange(e);
                }, n.prototype.eraseLeft = function(t, e) {
                    var s = this.lines[this.ybase + e], i = [ this.eraseAttr(), " " ];
                    for (t++; t--; ) s[t] = i;
                    this.updateRange(e);
                }, n.prototype.eraseLine = function(t) {
                    this.eraseRight(0, t);
                }, n.prototype.blankLine = function(t) {
                    for (var e = t ? this.eraseAttr() : this.defAttr, s = [ e, " " ], i = [], r = 0; r < this.cols; r++) i[r] = s;
                    return i;
                }, n.prototype.ch = function(t) {
                    return t ? [ this.eraseAttr(), " " ] : [ this.defAttr, " " ];
                }, n.prototype.is = function(t) {
                    var e = this.termName;
                    return 0 === (e + "").indexOf(t);
                }, n.prototype.handler = function(t) {
                    this.emit("data", t);
                }, n.prototype.handleTitle = function(t) {
                    this.emit("title", t);
                }, n.prototype.index = function() {
                    this.y++, this.y > this.scrollBottom && (this.y--, this.scroll()), this.state = b;
                }, n.prototype.reverseIndex = function() {
                    var t;
                    this.y--, this.y < this.scrollTop && (this.y++, this.lines.splice(this.y + this.ybase, 0, this.blankLine(!0)), 
                    t = this.rows - 1 - this.scrollBottom, this.lines.splice(this.rows - 1 + this.ybase - t + 1, 1), 
                    this.updateRange(this.scrollTop), this.updateRange(this.scrollBottom)), this.state = b;
                }, n.prototype.reset = function() {
                    this.options.rows = this.rows, this.options.cols = this.cols, n.call(this, this.options), 
                    this.refresh(0, this.rows - 1);
                }, n.prototype.tabSet = function() {
                    this.tabs[this.x] = !0, this.state = b;
                }, n.prototype.cursorUp = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.y -= e, this.y < 0 && (this.y = 0);
                }, n.prototype.cursorDown = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.y += e, this.y >= this.rows && (this.y = this.rows - 1);
                }, n.prototype.cursorForward = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.x += e, this.x >= this.cols && (this.x = this.cols - 1);
                }, n.prototype.cursorBackward = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.x -= e, this.x < 0 && (this.x = 0);
                }, n.prototype.cursorPos = function(t) {
                    var e, s;
                    e = t[0] - 1, s = t.length >= 2 ? t[1] - 1 : 0, e < 0 ? e = 0 : e >= this.rows && (e = this.rows - 1), 
                    s < 0 ? s = 0 : s >= this.cols && (s = this.cols - 1), this.x = s, this.y = e;
                }, n.prototype.eraseInDisplay = function(t) {
                    var e;
                    switch (t[0]) {
                      case 0:
                        for (this.eraseRight(this.x, this.y), e = this.y + 1; e < this.rows; e++) this.eraseLine(e);
                        break;

                      case 1:
                        for (this.eraseLeft(this.x, this.y), e = this.y; e--; ) this.eraseLine(e);
                        break;

                      case 2:
                        for (e = this.rows; e--; ) this.eraseLine(e);
                        break;

                      case 3:                    }
                }, n.prototype.eraseInLine = function(t) {
                    switch (t[0]) {
                      case 0:
                        this.eraseRight(this.x, this.y);
                        break;

                      case 1:
                        this.eraseLeft(this.x, this.y);
                        break;

                      case 2:
                        this.eraseLine(this.y);
                    }
                }, n.prototype.charAttributes = function(t) {
                    if (1 === t.length && 0 === t[0]) return void (this.curAttr = this.defAttr);
                    for (var e, s = t.length, i = 0, r = this.curAttr >> 18, o = this.curAttr >> 9 & 511, n = 511 & this.curAttr; i < s; i++) e = t[i], 
                    e >= 30 && e <= 37 ? o = e - 30 : e >= 40 && e <= 47 ? n = e - 40 : e >= 90 && e <= 97 ? (e += 8, 
                    o = e - 90) : e >= 100 && e <= 107 ? (e += 8, n = e - 100) : 0 === e ? (r = this.defAttr >> 18, 
                    o = this.defAttr >> 9 & 511, n = 511 & this.defAttr) : 1 === e ? r |= 1 : 4 === e ? r |= 2 : 5 === e ? r |= 4 : 7 === e ? r |= 8 : 8 === e ? r |= 16 : 22 === e ? r &= -2 : 24 === e ? r &= -3 : 25 === e ? r &= -5 : 27 === e ? r &= -9 : 28 === e ? r &= -17 : 39 === e ? o = this.defAttr >> 9 & 511 : 49 === e ? n = 511 & this.defAttr : 38 === e ? 2 === t[i + 1] ? (i += 2, 
                    o = f(255 & t[i], 255 & t[i + 1], 255 & t[i + 2]), o === -1 && (o = 511), i += 2) : 5 === t[i + 1] && (i += 2, 
                    e = 255 & t[i], o = e) : 48 === e ? 2 === t[i + 1] ? (i += 2, n = f(255 & t[i], 255 & t[i + 1], 255 & t[i + 2]), 
                    n === -1 && (n = 511), i += 2) : 5 === t[i + 1] && (i += 2, e = 255 & t[i], n = e) : 100 === e ? (o = this.defAttr >> 9 & 511, 
                    n = 511 & this.defAttr) : this.error("Unknown SGR attribute: %d.", e);
                    this.curAttr = r << 18 | o << 9 | n;
                }, n.prototype.deviceStatus = function(t) {
                    if (this.prefix) {
                        if ("?" === this.prefix) switch (t[0]) {
                          case 6:
                            this.send("[?" + (this.y + 1) + ";" + (this.x + 1) + "R");
                            break;

                          case 15:
                            break;

                          case 25:
                            break;

                          case 26:
                            break;

                          case 53:                        }
                    } else switch (t[0]) {
                      case 5:
                        this.send("[0n");
                        break;

                      case 6:
                        this.send("[" + (this.y + 1) + ";" + (this.x + 1) + "R");
                    }
                }, n.prototype.insertChars = function(t) {
                    var e, s, i, r;
                    for (e = t[0], e < 1 && (e = 1), s = this.y + this.ybase, i = this.x, r = [ this.eraseAttr(), " " ]; e-- && i < this.cols; ) this.lines[s].splice(i++, 0, r), 
                    this.lines[s].pop();
                }, n.prototype.cursorNextLine = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.y += e, this.y >= this.rows && (this.y = this.rows - 1), 
                    this.x = 0;
                }, n.prototype.cursorPrecedingLine = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.y -= e, this.y < 0 && (this.y = 0), this.x = 0;
                }, n.prototype.cursorCharAbsolute = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.x = e - 1;
                }, n.prototype.insertLines = function(t) {
                    var e, s, i;
                    for (e = t[0], e < 1 && (e = 1), s = this.y + this.ybase, i = this.rows - 1 - this.scrollBottom, 
                    i = this.rows - 1 + this.ybase - i + 1; e--; ) this.lines.splice(s, 0, this.blankLine(!0)), 
                    this.lines.splice(i, 1);
                    this.updateRange(this.y), this.updateRange(this.scrollBottom);
                }, n.prototype.deleteLines = function(t) {
                    var e, s, i;
                    for (e = t[0], e < 1 && (e = 1), s = this.y + this.ybase, i = this.rows - 1 - this.scrollBottom, 
                    i = this.rows - 1 + this.ybase - i; e--; ) this.lines.splice(i + 1, 0, this.blankLine(!0)), 
                    this.lines.splice(s, 1);
                    this.updateRange(this.y), this.updateRange(this.scrollBottom);
                }, n.prototype.deleteChars = function(t) {
                    var e, s, i;
                    for (e = t[0], e < 1 && (e = 1), s = this.y + this.ybase, i = [ this.eraseAttr(), " " ]; e--; ) this.lines[s].splice(this.x, 1), 
                    this.lines[s].push(i);
                }, n.prototype.eraseChars = function(t) {
                    var e, s, i, r;
                    for (e = t[0], e < 1 && (e = 1), s = this.y + this.ybase, i = this.x, r = [ this.eraseAttr(), " " ]; e-- && i < this.cols; ) this.lines[s][i++] = r;
                }, n.prototype.charPosAbsolute = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.x = e - 1, this.x >= this.cols && (this.x = this.cols - 1);
                }, n.prototype.HPositionRelative = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.x += e, this.x >= this.cols && (this.x = this.cols - 1);
                }, n.prototype.sendDeviceAttributes = function(t) {
                    t[0] > 0 || (this.prefix ? ">" === this.prefix && (this.is("xterm") ? this.send("[>0;276;0c") : this.is("rxvt-unicode") ? this.send("[>85;95;0c") : this.is("linux") ? this.send(t[0] + "c") : this.is("screen") && this.send("[>83;40003;0c")) : this.is("xterm") || this.is("rxvt-unicode") || this.is("screen") ? this.send("[?1;2c") : this.is("linux") && this.send("[?6c"));
                }, n.prototype.linePosAbsolute = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.y = e - 1, this.y >= this.rows && (this.y = this.rows - 1);
                }, n.prototype.VPositionRelative = function(t) {
                    var e = t[0];
                    e < 1 && (e = 1), this.y += e, this.y >= this.rows && (this.y = this.rows - 1);
                }, n.prototype.HVPosition = function(t) {
                    t[0] < 1 && (t[0] = 1), t[1] < 1 && (t[1] = 1), this.y = t[0] - 1, this.y >= this.rows && (this.y = this.rows - 1), 
                    this.x = t[1] - 1, this.x >= this.cols && (this.x = this.cols - 1);
                }, n.prototype.setMode = function(t) {
                    if ("object" != typeof t) if (this.prefix) {
                        if ("?" === this.prefix) switch (t) {
                          case 1:
                            this.applicationCursor = !0;
                            break;

                          case 2:
                            this.setgCharset(0, n.charsets.US), this.setgCharset(1, n.charsets.US), this.setgCharset(2, n.charsets.US), 
                            this.setgCharset(3, n.charsets.US);
                            break;

                          case 3:
                            this.savedCols = this.cols, this.resize(132, this.rows);
                            break;

                          case 6:
                            this.originMode = !0;
                            break;

                          case 7:
                            this.wraparoundMode = !0;
                            break;

                          case 12:
                            break;

                          case 66:
                            this.log("Serial port requested application keypad."), this.applicationKeypad = !0;
                            break;

                          case 9:
                          case 1e3:
                          case 1002:
                          case 1003:
                            this.x10Mouse = 9 === t, this.vt200Mouse = 1e3 === t, this.normalMouse = t > 1e3, 
                            this.mouseEvents = !0, this.element.style.cursor = "default", this.log("Binding to mouse events.");
                            break;

                          case 1004:
                            this.sendFocus = !0;
                            break;

                          case 1005:
                            this.utfMouse = !0;
                            break;

                          case 1006:
                            this.sgrMouse = !0;
                            break;

                          case 1015:
                            this.urxvtMouse = !0;
                            break;

                          case 25:
                            this.cursorHidden = !1;
                            break;

                          case 1049:
                          case 47:
                          case 1047:
                            if (!this.normal) {
                                var e = {
                                    lines: this.lines,
                                    ybase: this.ybase,
                                    ydisp: this.ydisp,
                                    x: this.x,
                                    y: this.y,
                                    scrollTop: this.scrollTop,
                                    scrollBottom: this.scrollBottom,
                                    tabs: this.tabs
                                };
                                this.reset(), this.normal = e, this.showCursor();
                            }
                        }
                    } else switch (t) {
                      case 4:
                        this.insertMode = !0;
                        break;

                      case 20:                    } else for (var s = t.length, i = 0; i < s; i++) this.setMode(t[i]);
                }, n.prototype.resetMode = function(t) {
                    if ("object" != typeof t) if (this.prefix) {
                        if ("?" === this.prefix) switch (t) {
                          case 1:
                            this.applicationCursor = !1;
                            break;

                          case 3:
                            132 === this.cols && this.savedCols && this.resize(this.savedCols, this.rows), delete this.savedCols;
                            break;

                          case 6:
                            this.originMode = !1;
                            break;

                          case 7:
                            this.wraparoundMode = !1;
                            break;

                          case 12:
                            break;

                          case 66:
                            this.log("Switching back to normal keypad."), this.applicationKeypad = !1;
                            break;

                          case 9:
                          case 1e3:
                          case 1002:
                          case 1003:
                            this.x10Mouse = !1, this.vt200Mouse = !1, this.normalMouse = !1, this.mouseEvents = !1, 
                            this.element.style.cursor = "";
                            break;

                          case 1004:
                            this.sendFocus = !1;
                            break;

                          case 1005:
                            this.utfMouse = !1;
                            break;

                          case 1006:
                            this.sgrMouse = !1;
                            break;

                          case 1015:
                            this.urxvtMouse = !1;
                            break;

                          case 25:
                            this.cursorHidden = !0;
                            break;

                          case 1049:
                          case 47:
                          case 1047:
                            this.normal && (this.lines = this.normal.lines, this.ybase = this.normal.ybase, 
                            this.ydisp = this.normal.ydisp, this.x = this.normal.x, this.y = this.normal.y, 
                            this.scrollTop = this.normal.scrollTop, this.scrollBottom = this.normal.scrollBottom, 
                            this.tabs = this.normal.tabs, this.normal = null, this.refresh(0, this.rows - 1), 
                            this.showCursor());
                        }
                    } else switch (t) {
                      case 4:
                        this.insertMode = !1;
                        break;

                      case 20:                    } else for (var e = t.length, s = 0; s < e; s++) this.resetMode(t[s]);
                }, n.prototype.setScrollRegion = function(t) {
                    this.prefix || (this.scrollTop = (t[0] || 1) - 1, this.scrollBottom = (t[1] || this.rows) - 1, 
                    this.x = 0, this.y = 0);
                }, n.prototype.saveCursor = function(t) {
                    this.savedX = this.x, this.savedY = this.y;
                }, n.prototype.restoreCursor = function(t) {
                    this.x = this.savedX || 0, this.y = this.savedY || 0;
                }, n.prototype.cursorForwardTab = function(t) {
                    for (var e = t[0] || 1; e--; ) this.x = this.nextStop();
                }, n.prototype.scrollUp = function(t) {
                    for (var e = t[0] || 1; e--; ) this.lines.splice(this.ybase + this.scrollTop, 1), 
                    this.lines.splice(this.ybase + this.scrollBottom, 0, this.blankLine());
                    this.updateRange(this.scrollTop), this.updateRange(this.scrollBottom);
                }, n.prototype.scrollDown = function(t) {
                    for (var e = t[0] || 1; e--; ) this.lines.splice(this.ybase + this.scrollBottom, 1), 
                    this.lines.splice(this.ybase + this.scrollTop, 0, this.blankLine());
                    this.updateRange(this.scrollTop), this.updateRange(this.scrollBottom);
                }, n.prototype.initMouseTracking = function(t) {}, n.prototype.resetTitleModes = function(t) {}, 
                n.prototype.cursorBackwardTab = function(t) {
                    for (var e = t[0] || 1; e--; ) this.x = this.prevStop();
                }, n.prototype.repeatPrecedingCharacter = function(t) {
                    for (var e = t[0] || 1, s = this.lines[this.ybase + this.y], i = s[this.x - 1] || [ this.defAttr, " " ]; e--; ) s[this.x++] = i;
                }, n.prototype.tabClear = function(t) {
                    var e = t[0];
                    e <= 0 ? delete this.tabs[this.x] : 3 === e && (this.tabs = {});
                }, n.prototype.mediaCopy = function(t) {}, n.prototype.setResources = function(t) {}, 
                n.prototype.disableModifiers = function(t) {}, n.prototype.setPointerMode = function(t) {}, 
                n.prototype.softReset = function(t) {
                    this.cursorHidden = !1, this.insertMode = !1, this.originMode = !1, this.wraparoundMode = !1, 
                    this.applicationKeypad = !1, this.applicationCursor = !1, this.scrollTop = 0, this.scrollBottom = this.rows - 1, 
                    this.curAttr = this.defAttr, this.x = this.y = 0, this.charset = null, this.glevel = 0, 
                    this.charsets = [ null ];
                }, n.prototype.requestAnsiMode = function(t) {}, n.prototype.requestPrivateMode = function(t) {}, 
                n.prototype.setConformanceLevel = function(t) {}, n.prototype.loadLEDs = function(t) {}, 
                n.prototype.setCursorStyle = function(t) {}, n.prototype.setCharProtectionAttr = function(t) {}, 
                n.prototype.restorePrivateValues = function(t) {}, n.prototype.setAttrInRectangle = function(t) {
                    for (var e, s, i = t[0], r = t[1], o = t[2], n = t[3], a = t[4]; i < o + 1; i++) for (e = this.lines[this.ybase + i], 
                    s = r; s < n; s++) e[s] = [ a, e[s][1] ];
                    this.updateRange(t[0]), this.updateRange(t[2]);
                }, n.prototype.savePrivateValues = function(t) {}, n.prototype.manipulateWindow = function(t) {}, 
                n.prototype.reverseAttrInRectangle = function(t) {}, n.prototype.setTitleModeFeature = function(t) {}, 
                n.prototype.setWarningBellVolume = function(t) {}, n.prototype.setMarginBellVolume = function(t) {}, 
                n.prototype.copyRectangle = function(t) {}, n.prototype.enableFilterRectangle = function(t) {}, 
                n.prototype.requestParameters = function(t) {}, n.prototype.selectChangeExtent = function(t) {}, 
                n.prototype.fillRectangle = function(t) {
                    for (var e, s, i = t[0], r = t[1], o = t[2], n = t[3], a = t[4]; r < n + 1; r++) for (e = this.lines[this.ybase + r], 
                    s = o; s < a; s++) e[s] = [ e[s][0], P.fromCharCode(i) ];
                    this.updateRange(t[1]), this.updateRange(t[3]);
                }, n.prototype.enableLocatorReporting = function(t) {
                    t[0] > 0;
                }, n.prototype.eraseRectangle = function(t) {
                    var e, s, i, r = t[0], o = t[1], n = t[2], a = t[3];
                    for (i = [ this.eraseAttr(), " " ]; r < n + 1; r++) for (e = this.lines[this.ybase + r], 
                    s = o; s < a; s++) e[s] = i;
                    this.updateRange(t[0]), this.updateRange(t[2]);
                }, n.prototype.setLocatorEvents = function(t) {}, n.prototype.selectiveEraseRectangle = function(t) {}, 
                n.prototype.requestLocatorPosition = function(t) {}, n.prototype.insertColumns = function() {
                    for (var t, e = params[0], s = this.ybase + this.rows, i = [ this.eraseAttr(), " " ]; e--; ) for (t = this.ybase; t < s; t++) this.lines[t].splice(this.x + 1, 0, i), 
                    this.lines[t].pop();
                    this.maxRange();
                }, n.prototype.deleteColumns = function() {
                    for (var t, e = params[0], s = this.ybase + this.rows, i = [ this.eraseAttr(), " " ]; e--; ) for (t = this.ybase; t < s; t++) this.lines[t].splice(this.x, 1), 
                    this.lines[t].push(i);
                    this.maxRange();
                }, n.prototype.enterPrefix = function() {
                    this.prefixMode = !0;
                }, n.prototype.leavePrefix = function() {
                    this.prefixMode = !1;
                }, n.prototype.enterSelect = function() {
                    this._real = {
                        x: this.x,
                        y: this.y,
                        ydisp: this.ydisp,
                        ybase: this.ybase,
                        cursorHidden: this.cursorHidden,
                        lines: this.copyBuffer(this.lines),
                        write: this.write
                    }, this.write = function() {}, this.selectMode = !0, this.visualMode = !1, this.cursorHidden = !1, 
                    this.refresh(this.y, this.y);
                }, n.prototype.leaveSelect = function() {
                    this.x = this._real.x, this.y = this._real.y, this.ydisp = this._real.ydisp, this.ybase = this._real.ybase, 
                    this.cursorHidden = this._real.cursorHidden, this.lines = this._real.lines, this.write = this._real.write, 
                    delete this._real, this.selectMode = !1, this.visualMode = !1, this.refresh(0, this.rows - 1);
                }, n.prototype.enterVisual = function() {
                    this._real.preVisual = this.copyBuffer(this.lines), this.selectText(this.x, this.x, this.ydisp + this.y, this.ydisp + this.y), 
                    this.visualMode = !0;
                }, n.prototype.leaveVisual = function() {
                    this.lines = this._real.preVisual, delete this._real.preVisual, delete this._selected, 
                    this.visualMode = !1, this.refresh(0, this.rows - 1);
                }, n.prototype.enterSearch = function(t) {
                    this.entry = "", this.searchMode = !0, this.searchDown = t, this._real.preSearch = this.copyBuffer(this.lines), 
                    this._real.preSearchX = this.x, this._real.preSearchY = this.y;
                    for (var e = this.ydisp + this.rows - 1, s = 0; s < this.entryPrefix.length; s++) this.lines[e][s] = [ this.defAttr & -512 | 4, this.entryPrefix[s] ];
                    this.y = this.rows - 1, this.x = this.entryPrefix.length, this.refresh(this.rows - 1, this.rows - 1);
                }, n.prototype.leaveSearch = function() {
                    this.searchMode = !1, this._real.preSearch && (this.lines = this._real.preSearch, 
                    this.x = this._real.preSearchX, this.y = this._real.preSearchY, delete this._real.preSearch, 
                    delete this._real.preSearchX, delete this._real.preSearchY), this.refresh(this.rows - 1, this.rows - 1);
                }, n.prototype.copyBuffer = function(t) {
                    for (var t = t || this.lines, e = [], s = 0; s < t.length; s++) {
                        e[s] = [];
                        for (var i = 0; i < t[s].length; i++) e[s][i] = [ t[s][i][0], t[s][i][1] ];
                    }
                    return e;
                }, n.prototype.getCopyTextarea = function(t) {
                    var e = this._copyTextarea, s = this.document;
                    return e || (e = s.createElement("textarea"), e.style.position = "absolute", e.style.left = "-32000px", 
                    e.style.top = "-32000px", e.style.width = "0px", e.style.height = "0px", e.style.opacity = "0", 
                    e.style.backgroundColor = "transparent", e.style.borderStyle = "none", e.style.outlineStyle = "none", 
                    s.getElementsByTagName("body")[0].appendChild(e), this._copyTextarea = e), e;
                }, n.prototype.copyText = function(t) {
                    var e = this, s = this.getCopyTextarea();
                    this.emit("copy", t), s.focus(), s.textContent = t, s.value = t, s.setSelectionRange(0, t.length), 
                    T(function() {
                        e.element.focus(), e.focus();
                    }, 1);
                }, n.prototype.selectText = function(t, e, s, i) {
                    var r, o, n, a, h, l, c, u, p;
                    if (this._selected) {
                        for (r = this._selected.x1, o = this._selected.x2, n = this._selected.y1, a = this._selected.y2, 
                        a < n && (h = o, o = r, r = h, h = a, a = n, n = h), o < r && n === a && (h = o, 
                        o = r, r = h), c = n; c <= a; c++) for (l = 0, u = this.cols - 1, c === n && (l = r), 
                        c === a && (u = o); l <= u; l++) null != this.lines[c][l].old && (p = this.lines[c][l].old, 
                        delete this.lines[c][l].old, this.lines[c][l] = [ p, this.lines[c][l][1] ]);
                        s = this._selected.y1, t = this._selected.x1;
                    }
                    for (s = Math.max(s, 0), s = Math.min(s, this.ydisp + this.rows - 1), i = Math.max(i, 0), 
                    i = Math.min(i, this.ydisp + this.rows - 1), this._selected = {
                        x1: t,
                        x2: e,
                        y1: s,
                        y2: i
                    }, i < s && (h = e, e = t, t = h, h = i, i = s, s = h), e < t && s === i && (h = e, 
                    e = t, t = h), c = s; c <= i; c++) for (l = 0, u = this.cols - 1, c === s && (l = t), 
                    c === i && (u = e); l <= u; l++) p = this.lines[c][l][0], this.lines[c][l] = [ p & -512 | 261636, this.lines[c][l][1] ], 
                    this.lines[c][l].old = p;
                    s -= this.ydisp, i -= this.ydisp, s = Math.max(s, 0), s = Math.min(s, this.rows - 1), 
                    i = Math.max(i, 0), i = Math.min(i, this.rows - 1), this.refresh(0, this.rows - 1);
                }, n.prototype.grabText = function(t, e, s, i) {
                    var r, o, n, a, h, l = "", c = "";
                    for (i < s && (h = e, e = t, t = h, h = i, i = s, s = h), e < t && s === i && (h = e, 
                    e = t, t = h), n = s; n <= i; n++) {
                        for (o = 0, a = this.cols - 1, n === s && (o = t), n === i && (a = e); o <= a; o++) r = this.lines[n][o][1], 
                        " " !== r ? (c && (l += c, c = ""), l += r, d(r) && o++) : c += r;
                        c = "", l += "\n";
                    }
                    for (o = e, n = i; o < this.cols; o++) if (" " !== this.lines[n][o][1]) {
                        l = l.slice(0, -1);
                        break;
                    }
                    return l;
                }, n.prototype.keyPrefix = function(t, e) {
                    "k" === e || "&" === e ? this.destroy() : "p" === e || "]" === e ? this.emit("request paste") : "c" === e ? this.emit("request create") : e >= "0" && e <= "9" ? (e = +e - 1, 
                    ~e || (e = 9), this.emit("request term", e)) : "n" === e ? this.emit("request term next") : "P" === e ? this.emit("request term previous") : ":" === e ? this.emit("request command mode") : "[" === e && this.enterSelect();
                }, n.prototype.keySelect = function(t, e) {
                    if (this.showCursor(), this.searchMode || "n" === e || "N" === e) return this.keySearch(t, e);
                    if ("" === e) {
                        var s = this.ydisp + this.y;
                        return this.ydisp === this.ybase ? (this.y = Math.min(this.y + (this.rows - 1) / 2 | 0, this.rows - 1), 
                        this.refresh(0, this.rows - 1)) : this.scrollDisp((this.rows - 1) / 2 | 0), void (this.visualMode && this.selectText(this.x, this.x, s, this.ydisp + this.y));
                    }
                    if ("" === e) {
                        var s = this.ydisp + this.y;
                        return 0 === this.ydisp ? (this.y = Math.max(this.y - (this.rows - 1) / 2 | 0, 0), 
                        this.refresh(0, this.rows - 1)) : this.scrollDisp(-(this.rows - 1) / 2 | 0), void (this.visualMode && this.selectText(this.x, this.x, s, this.ydisp + this.y));
                    }
                    if ("" === e) {
                        var s = this.ydisp + this.y;
                        return this.scrollDisp(this.rows - 1), void (this.visualMode && this.selectText(this.x, this.x, s, this.ydisp + this.y));
                    }
                    if ("" === e) {
                        var s = this.ydisp + this.y;
                        return this.scrollDisp(-(this.rows - 1)), void (this.visualMode && this.selectText(this.x, this.x, s, this.ydisp + this.y));
                    }
                    if ("k" === e || "[A" === e) {
                        var s = this.ydisp + this.y;
                        return this.y--, this.y < 0 && (this.y = 0, this.scrollDisp(-1)), void (this.visualMode ? this.selectText(this.x, this.x, s, this.ydisp + this.y) : this.refresh(this.y, this.y + 1));
                    }
                    if ("j" === e || "[B" === e) {
                        var s = this.ydisp + this.y;
                        return this.y++, this.y >= this.rows && (this.y = this.rows - 1, this.scrollDisp(1)), 
                        void (this.visualMode ? this.selectText(this.x, this.x, s, this.ydisp + this.y) : this.refresh(this.y - 1, this.y));
                    }
                    if ("h" === e || "[D" === e) {
                        var i = this.x;
                        return this.x--, this.x < 0 && (this.x = 0), void (this.visualMode ? this.selectText(i, this.x, this.ydisp + this.y, this.ydisp + this.y) : this.refresh(this.y, this.y));
                    }
                    if ("l" === e || "[C" === e) {
                        var i = this.x;
                        return this.x++, this.x >= this.cols && (this.x = this.cols - 1), void (this.visualMode ? this.selectText(i, this.x, this.ydisp + this.y, this.ydisp + this.y) : this.refresh(this.y, this.y));
                    }
                    if ("v" === e || " " === e) return void (this.visualMode ? this.leaveVisual() : this.enterVisual());
                    if ("y" !== e) {
                        if ("q" === e || "" === e) return void (this.visualMode ? this.leaveVisual() : this.leaveSelect());
                        if ("w" === e || "W" === e) {
                            for (var r = this.x, o = this.y, n = this.ydisp, i = this.x, s = this.y, a = this.ydisp, h = !1; ;) {
                                for (var l = this.lines[a + s]; i < this.cols; ) {
                                    if (l[i][1] <= " ") h = !0; else if (h) break;
                                    i++;
                                }
                                if (i >= this.cols && (i = this.cols - 1), !(i === this.cols - 1 && l[i][1] <= " ")) break;
                                if (i = 0, ++s >= this.rows && (s--, ++a > this.ybase)) {
                                    a = this.ybase, i = this.x;
                                    break;
                                }
                            }
                            return this.x = i, this.y = s, this.scrollDisp(-this.ydisp + a), void (this.visualMode && this.selectText(r, this.x, o + n, this.ydisp + this.y));
                        }
                        if ("b" === e || "B" === e) {
                            for (var r = this.x, o = this.y, n = this.ydisp, i = this.x, s = this.y, a = this.ydisp; ;) {
                                for (var l = this.lines[a + s], h = i > 0 && l[i][1] > " " && l[i - 1][1] > " "; i >= 0; ) {
                                    if (l[i][1] <= " ") {
                                        if (h && i + 1 < this.cols && l[i + 1][1] > " ") {
                                            i++;
                                            break;
                                        }
                                        h = !0;
                                    }
                                    i--;
                                }
                                if (i < 0 && (i = 0), 0 !== i || !(l[i][1] <= " ") && h) break;
                                if (i = this.cols - 1, --s < 0 && (s++, --a < 0)) {
                                    a++, i = 0;
                                    break;
                                }
                            }
                            return this.x = i, this.y = s, this.scrollDisp(-this.ydisp + a), void (this.visualMode && this.selectText(r, this.x, o + n, this.ydisp + this.y));
                        }
                        if ("e" === e || "E" === e) {
                            var i = this.x + 1, s = this.y, a = this.ydisp;
                            for (i >= this.cols && i--; ;) {
                                for (var l = this.lines[a + s]; i < this.cols && l[i][1] <= " "; ) i++;
                                for (;i < this.cols; ) {
                                    if (l[i][1] <= " " && i - 1 >= 0 && l[i - 1][1] > " ") {
                                        i--;
                                        break;
                                    }
                                    i++;
                                }
                                if (i >= this.cols && (i = this.cols - 1), !(i === this.cols - 1 && l[i][1] <= " ")) break;
                                if (i = 0, ++s >= this.rows && (s--, ++a > this.ybase)) {
                                    a = this.ybase;
                                    break;
                                }
                            }
                            return this.x = i, this.y = s, this.scrollDisp(-this.ydisp + a), void (this.visualMode && this.selectText(r, this.x, o + n, this.ydisp + this.y));
                        }
                        if ("^" === e || "0" === e) {
                            var r = this.x;
                            if ("0" === e) this.x = 0; else if ("^" === e) {
                                for (var l = this.lines[this.ydisp + this.y], i = 0; i < this.cols && !(l[i][1] > " "); ) i++;
                                i >= this.cols && (i = this.cols - 1), this.x = i;
                            }
                            return void (this.visualMode ? this.selectText(r, this.x, this.ydisp + this.y, this.ydisp + this.y) : this.refresh(this.y, this.y));
                        }
                        if ("$" === e) {
                            for (var r = this.x, l = this.lines[this.ydisp + this.y], i = this.cols - 1; i >= 0; ) {
                                if (l[i][1] > " ") {
                                    this.visualMode && i < this.cols - 1 && i++;
                                    break;
                                }
                                i--;
                            }
                            return i < 0 && (i = 0), this.x = i, void (this.visualMode ? this.selectText(r, this.x, this.ydisp + this.y, this.ydisp + this.y) : this.refresh(this.y, this.y));
                        }
                        if ("g" === e || "G" === e) {
                            var r = this.x, o = this.y, n = this.ydisp;
                            return "g" === e ? (this.x = 0, this.y = 0, this.scrollDisp(-this.ydisp)) : "G" === e && (this.x = 0, 
                            this.y = this.rows - 1, this.scrollDisp(this.ybase)), void (this.visualMode && this.selectText(r, this.x, o + n, this.ydisp + this.y));
                        }
                        if ("H" === e || "M" === e || "L" === e) {
                            var r = this.x, o = this.y;
                            return "H" === e ? (this.x = 0, this.y = 0) : "M" === e ? (this.x = 0, this.y = this.rows / 2 | 0) : "L" === e && (this.x = 0, 
                            this.y = this.rows - 1), void (this.visualMode ? this.selectText(r, this.x, this.ydisp + o, this.ydisp + this.y) : (this.refresh(o, o), 
                            this.refresh(this.y, this.y)));
                        }
                        if ("{" === e || "}" === e) {
                            var l, c, r = this.x, o = this.y, n = this.ydisp, u = !1, p = !1, d = -1, s = this.y + ("{" === e ? -1 : 1), a = this.ydisp;
                            for ("{" === e ? s < 0 && (s++, a > 0 && a--) : "}" === e && s >= this.rows && (s--, 
                            a < this.ybase && a++); ;) {
                                for (l = this.lines[a + s], c = 0; c < this.cols; c++) {
                                    if (l[c][1] > " ") {
                                        d === -1 && (d = 0), u = !0;
                                        break;
                                    }
                                    if (c === this.cols - 1) {
                                        d === -1 ? d = 1 : 0 === d ? p = !0 : 1 === d && u && (p = !0);
                                        break;
                                    }
                                }
                                if (p) break;
                                if ("{" === e) {
                                    if (s--, s < 0) {
                                        if (s++, !(a > 0)) break;
                                        a--;
                                    }
                                } else if ("}" === e && (s++, s >= this.rows)) {
                                    if (s--, !(a < this.ybase)) break;
                                    a++;
                                }
                            }
                            return p || ("{" === e ? (s = 0, a = 0) : "}" === e && (s = this.rows - 1, a = this.ybase)), 
                            this.x = 0, this.y = s, this.scrollDisp(-this.ydisp + a), void (this.visualMode && this.selectText(r, this.x, o + n, this.ydisp + this.y));
                        }
                        return ("/" === e || "?" === e) && void (this.visualMode || this.enterSearch("/" === e));
                    }
                    if (this.visualMode) {
                        var f = this.grabText(this._selected.x1, this._selected.x2, this._selected.y1, this._selected.y2);
                        this.copyText(f), this.leaveVisual();
                    }
                }, n.prototype.keySearch = function(t, e) {
                    if ("" === e) return void this.leaveSearch();
                    if ("\r" === e || !this.searchMode && ("n" === e || "N" === e)) {
                        this.leaveSearch();
                        var s = this.entry;
                        if (!s) return void this.refresh(0, this.rows - 1);
                        for (var i, r, o, n = this.x, a = this.y, h = this.ydisp, l = !1, c = !1, u = this.x + 1, p = this.ydisp + this.y, d = "N" === e ? this.searchDown : !this.searchDown; ;) {
                            for (i = this.lines[p]; u < this.cols; ) {
                                for (o = 0; o < s.length && !(u + o >= this.cols) && i[u + o][1] === s[o]; o++) if (i[u + o][1] === s[o] && o === s.length - 1) {
                                    l = !0;
                                    break;
                                }
                                if (l) break;
                                u += o + 1;
                            }
                            if (l) break;
                            if (u = 0, d) {
                                if (p--, p < 0) {
                                    if (c) break;
                                    c = !0, p = this.ybase + this.rows - 1;
                                }
                            } else if (p++, p > this.ybase + this.rows - 1) {
                                if (c) break;
                                c = !0, p = 0;
                            }
                        }
                        return l ? (p - this.ybase < 0 ? (r = p, p = 0, r > this.ybase && (p = r - this.ybase, 
                        r = this.ybase)) : (r = this.ybase, p -= this.ybase), this.x = u, this.y = p, this.scrollDisp(-this.ydisp + r), 
                        void (this.visualMode && this.selectText(n, this.x, a + h, this.ydisp + this.y))) : void this.refresh(0, this.rows - 1);
                    }
                    if ("\b" === e || "" === e) {
                        if (0 === this.entry.length) return;
                        var f = this.ydisp + this.rows - 1;
                        this.entry = this.entry.slice(0, -1);
                        var o = this.entryPrefix.length + this.entry.length;
                        return this.lines[f][o] = [ this.lines[f][o][0], " " ], this.x--, this.refresh(this.rows - 1, this.rows - 1), 
                        void this.refresh(this.y, this.y);
                    }
                    if (1 === e.length && e >= " " && e <= "~") {
                        var f = this.ydisp + this.rows - 1;
                        this.entry += e;
                        var o = this.entryPrefix.length + this.entry.length - 1;
                        return this.lines[f][o] = [ this.defAttr & -512 | 4, e ], this.x++, this.refresh(this.rows - 1, this.rows - 1), 
                        void this.refresh(this.y, this.y);
                    }
                    return !1;
                }, n.charsets = {}, n.charsets.SCLD = {
                    "`": "◆",
                    a: "▒",
                    b: "\t",
                    c: "\f",
                    d: "\r",
                    e: "\n",
                    f: "°",
                    g: "±",
                    h: "␤",
                    i: "\v",
                    j: "┘",
                    k: "┐",
                    l: "┌",
                    m: "└",
                    n: "┼",
                    o: "⎺",
                    p: "⎻",
                    q: "─",
                    r: "⎼",
                    s: "⎽",
                    t: "├",
                    u: "┤",
                    v: "┴",
                    w: "┬",
                    x: "│",
                    y: "≤",
                    z: "≥",
                    "{": "π",
                    "|": "≠",
                    "}": "£",
                    "~": "·"
                }, n.charsets.UK = null, n.charsets.US = null, n.charsets.Dutch = null, n.charsets.Finnish = null, 
                n.charsets.French = null, n.charsets.FrenchCanadian = null, n.charsets.German = null, 
                n.charsets.Italian = null, n.charsets.NorwegianDanish = null, n.charsets.Spanish = null, 
                n.charsets.Swedish = null, n.charsets.Swiss = null, n.charsets.ISOLatin = null;
                var P = this.String, T = this.setTimeout, A = this.setInterval;
                f._cache = {}, f.distance = function(t, e, s, i, r, o) {
                    return Math.pow(30 * (t - i), 2) + Math.pow(59 * (e - r), 2) + Math.pow(11 * (s - o), 2);
                }, n.EventEmitter = s, n.Stream = o, n.inherits = c, n.on = a, n.off = h, n.cancel = l, 
                i = [], r = function() {
                    return n;
                }.apply(e, i), !(void 0 !== r && (t.exports = r));
            }).call(function() {
                return this || ("undefined" != typeof window ? window : s);
            }());
        }).call(e, function() {
            return this;
        }());
    },
    123: function(t, e) {}
});
//# sourceMappingURL=terminal.min.js.map