{"version":3,"sources":["webpack:///ovirt/ovirt.min.js","webpack:///webpack/bootstrap eb5e0bbd929ba86daa0b","webpack:///../pkg/ovirt/index.js","webpack:///../pkg/ovirt/index.es6","webpack:///../pkg/lib/polyfills.js","webpack:///../~/react-lite/dist/react-lite.js","webpack:///../pkg/ovirt/store.es6","webpack:///../pkg/machines/store.es6","webpack:///../~/redux/dist/redux.min.js","webpack:///../~/webpack/buildin/module.js","webpack:///../pkg/machines/reducers.es6","webpack:///../pkg/machines/config.es6","webpack:///../pkg/machines/helpers.es6","webpack:///external \"cockpit\"","webpack:///../pkg/machines/middlewares.es6","webpack:///../pkg/machines/actions.es6","webpack:///../pkg/machines/selectors.es6","webpack:///../pkg/machines/provider.es6","webpack:///../pkg/ovirt/provider.es6","webpack:///../pkg/machines/libvirt.es6","webpack:///external \"jQuery\"","webpack:///../pkg/machines/scripts/create_machine.sh","webpack:///../pkg/machines/scripts/install_machine.sh","webpack:///../pkg/machines/scripts/get_os_list.sh","webpack:///../pkg/machines/services.es6","webpack:///../pkg/machines/libvirtUtils.es6","webpack:///../pkg/ovirt/configFuncs.es6","webpack:///../pkg/ovirt/config.es6","webpack:///../pkg/ovirt/ovirtApiAccess.es6","webpack:///../pkg/ovirt/ovirt.es6","webpack:///../pkg/ovirt/actions.es6","webpack:///../pkg/ovirt/ovirtConverters.es6","webpack:///../pkg/ovirt/selectors.es6","webpack:///../pkg/ovirt/helpers.es6","webpack:///../pkg/ovirt/components/InstallationDialog.jsx","webpack:///../pkg/lib/cockpit-components-dialog.jsx","webpack:///../pkg/ovirt/reducers.es6","webpack:///../pkg/ovirt/components/VmActions.jsx","webpack:///../pkg/ovirt/components/VmOverviewColumn.jsx","webpack:///../pkg/ovirt/components/ConsoleClientResources.jsx","webpack:///../pkg/ovirt/components/OVirtTab.jsx","webpack:///../pkg/ovirt/components/ConfirmButtons.jsx","webpack:///../pkg/machines/components/infoRecord.jsx","webpack:///../pkg/ovirt/rephraseUI.es6","webpack:///../pkg/ovirt/components/App.jsx","webpack:///../pkg/machines/hostvmslist.jsx","webpack:///../pkg/machines/c3charts.jsx","webpack:///../~/c3/c3.js","webpack:///../~/d3/d3.js","webpack:///../pkg/lib/cockpit-components-listing.jsx","webpack:///../pkg/machines/components/vmDisksTabLibvirt.jsx","webpack:///../pkg/machines/components/vmDisksTab.jsx","webpack:///../pkg/machines/components/inlineNotification.jsx","webpack:///../pkg/machines/components/vmDiskSourceCell.jsx","webpack:///../pkg/machines/vmnetworktab.jsx","webpack:///../pkg/machines/components/consoles.jsx","webpack:///../pkg/lib/cockpit-components-select.jsx","webpack:///../pkg/machines/components/serialConsole.jsx","webpack:///../pkg/lib/cockpit-components-terminal.jsx","webpack:///../~/term.js-cockpit/src/term.js","webpack:///../pkg/machines/components/vnc.jsx","webpack:///../pkg/machines/components/desktopConsole.jsx","webpack:///../pkg/machines/components/deleteDialog.jsx","webpack:///../pkg/machines/components/dropdownButtons.jsx","webpack:///../pkg/machines/components/createVmDialog.jsx","webpack:///../pkg/lib/cockpit-components-file-autocomplete.jsx","webpack:///../pkg/machines/components/createVmDialogUtils.es6","webpack:///../pkg/machines/components/vmOverviewTabLibvirt.jsx","webpack:///../pkg/machines/components/vmOverviewTab.jsx","webpack:///../pkg/machines/components/vmLastMessage.jsx","webpack:///../pkg/ovirt/components/ClusterVms.jsx","webpack:///../pkg/ovirt/components/ClusterTemplates.jsx","webpack:///../pkg/ovirt/components/VdsmView.jsx","webpack:///../pkg/ovirt/components/HostToMaintenance.jsx","webpack:///../pkg/ovirt/components/HostStatus.jsx"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","document","addEventListener","vmsApp","appMain","_interopRequireDefault","obj","__esModule","default","render","_react2","createElement","_App2","store","getElementById","console","log","_helpers","logDebug","JSON","stringify","_store2","getState","_provider3","setVirtProvider","_provider2","subscribe","dispatch","_actions","getAllVms","Object","defineProperty","value","_react","_store","_provider","_App","String","prototype","startsWith","searchString","position","this","substr","length","Array","findIndex","predicate","TypeError","list","thisArg","arguments","i","assign","target","varArgs","to","index","nextSource","nextKey","hasOwnProperty","writable","configurable","global","factory","createVnode","vtype","type","props","key","ref","vnode","refs","VSTATELESS","VCOMPONENT","uid","getUid","initVnode","parentContext","namespaceURI","node","VELEMENT","initVelem","initVcomponent","initVstateless","VCOMMENT","createComment","createTextNode","updateVnode","newVnode","updateVcomponent","updateVstateless","oldHtml","HTML_KEY","__html","updateVelem","initVchildren","updateVChildren","patches","removes","updates","creates","diffVchildren","flatEach","applyDestroy","applyUpdate","applyCreate","data","newNode","shouldIgnore","replaceData","currentNode","parentNode","childNodes","insertBefore","destroyVnode","removeChild","destroyVelem","destroyVcomponent","destroyVstateless","velem","SVGNamespaceURI","createElementNS","isCustomComponent","indexOf","is","setProps","addItem","pendingRefs","vchildren","getFlattenChildren","len","appendChild","children","isArr","collectChild","child","toJS","newVchildren","vchildrenLen","newVchildrenLen","_vnode","j","_newVnode","shouldIgnoreUpdate","_vnode2","shouldRemove","_newVnode2","item","newVelem","patchProps","detachRef","attachRef","eventStore","vstateless","renderVstateless","cache","newVstateless","compareTwoVnodes","syncCache","componentContext","getContextByTypes","contextTypes","Error","name","vcomponent","Component","component","updater","$updater","$cache","isPending","context","componentWillMount","state","renderComponent","getChildContext","isMounted","pendingComponents","newVcomponent","nextProps","componentWillReceiveProps","needToggleIsPending","emitUpdate","setState","forceUpdate","noop","componentWillUnmount","curContext","constructor","extend","clearPendingComponents","components","componentDidMount","clearPendingRefs","refValue","clearPending","replaceChild","getDOMNode","refKey","nodeName","isFn","oldCache","vchild","Updater","instance","pendingStates","pendingCallbacks","nextContext","clearCallbacks","bind","shouldUpdate","nextState","callback","shouldComponentUpdate","getEventName","toLowerCase","addEvent","elem","eventType","listener","unbubbleEvents","dispatchUnbubbleEvent","eventTypes","dispatchEvent","inMobile","ON_CLICK_KEY","emptyFunction","supportInputEvent","removeEvent","removeEventListener","event","syntheticEvent","undefined","updateQueue","_target","createSyntheticEvent","currentTarget","$cancelBubble","batchUpdate","nativeEvent","cancelBubble","persist","setStyle","elemStyle","styles","styleName","setStyleValue","removeStyle","patchStyle","style","newStyle","prefixKey","prefix","charAt","toUpperCase","substring","styleValue","isUnitlessNumber","RE_NUMBER","test","mergeConfigToProperties","config","attrNS","domAttrs","domProps","propName","propConfig","properties","attributeName","propertyName","attributeNamespace","mustUseProperty","checkMask","MUST_USE_PROPERTY","hasBooleanValue","HAS_BOOLEAN_VALUE","hasNumericValue","HAS_NUMERIC_VALUE","hasPositiveNumericValue","HAS_POSITIVE_NUMERIC_VALUE","hasOverloadedBooleanValue","HAS_OVERLOADED_BOOLEAN_VALUE","bitmask","setPropValue","propInfo","isNaN","removePropValue","namespace","setAttributeNS","setAttribute","isCustomAttribute","VALID_ATTRIBUTE_NAME_REGEX","removeAttribute","updateSelectOptions","select","multiple","propValue","selectedValue","options","isArray","selected","option","selectedIndex","identity","pipe","fn1","fn2","apply","iteratee","a","from","keys","setProp","EVENT_KEYS","innerHTML","removeProp","oldValue","patchProp","isSelect","newProps","isValidContainer","nodeType","ELEMENT_NODE_TYPE","DOC_NODE_TYPE","DOCUMENT_FRAGMENT_NODE_TYPE","renderTreeIntoContainer","container","COMPONENT_ID","argsCache","pendingRendering","oldVnode","rootNode","vnodeStore","firstChild","childNode","lastChild","result","unstable_renderSubtreeIntoContainer","parentComponent","subVnode","unmountComponentAtNode","findDOMNode","isReactComponent","finalProps","propKey","defaultProps","argsLen","finalChildren","isValidElement","cloneElement","originElem","_len","_key","concat","createFactory","_len2","args","_key2","only","forEach","map","keyMap","isEqual","getKey","_ref","escapeUserProvidedKey","count","toArray","toString","text","replace","userProvidedKeyEscapeRegex","eachMixin","mixins","mixin","combineMixinToProto","proto","curValue","$getInitialStates","combineMixinToClass","propTypes","statics","getDefaultProps","bindContext","source","getInitialState","_this","Facade","createClass","spec","Klass","autobind","specMixins","displayName","shallowEqual","objA","objB","keysA","keysB","PureComponent","shallowCompare","updaters","add","pop","updateComponent","addState","replaceState","isReplace","addCallback","ReactComponentSymbol","componentWillUpdate","componentDidUpdate","onmousemove","ontouchmove","onmouseleave","onmouseenter","onload","onunload","onscroll","onfocus","onblur","onrowexit","onbeforeunload","onstop","ondragdrop","ondragenter","ondragexit","ondraggesture","ondragover","oncontextmenu","onerror","onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onencrypted","onpause","onplay","onplaying","onprogress","onratechange","onseeking","onseeked","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixes","prop","ATTRIBUTE_NAME_START_CHAR","ATTRIBUTE_NAME_CHAR","RegExp","HTMLDOMPropertyConfig","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","charSet","challenge","checked","cite","classID","className","cols","colSpan","content","contentEditable","contextMenu","controls","coords","crossOrigin","dateTime","defaultValue","defaultChecked","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","inputMode","integrity","keyParams","keyType","kind","label","lang","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","muted","nonce","noValidate","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","referrerPolicy","rel","required","reversed","role","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","summary","tabIndex","title","useMap","width","wmode","wrap","about","datatype","inlist","property","playsInline","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","xlink","xml","ATTRS","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipRule","clipPathUnits","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillRule","filter","filterRes","filterUnits","floodColor","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","format","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerMid","markerStart","markerHeight","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","operator","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","strikethroughPosition","strikethroughThickness","string","stroke","strokeLinecap","strokeLinejoin","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textRendering","textLength","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","x","xHeight","x1","x2","xChannelSelector","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlns","xmlnsXlink","xmlLang","xmlSpace","y","y1","y2","yChannelSelector","z","zoomAndPan","SVGDOMPropertyConfig","freeze","ReactDOM","tagNames","DOM","split","tagName","check","isRequired","PropTypes","array","bool","func","number","object","any","arrayOf","element","instanceOf","objectOf","oneOf","oneOfType","Children","create","isPureReactComponent","React","__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","waitForReducerSubtreeInit","delayedFunc","providerState","ovirtConfig","window","setTimeout","_redux","_reducers","_reducers2","_middlewares","createStoreWithMiddleware","applyMiddleware","thunk","createStore","t","e","h","g","n","o","v","w","O","E","N","S","A","u","l","slice","s","push","splice","f","P","INIT","replaceReducer","R","next","unsubscribe","Math","random","join","reduce","self","Function","Symbol","b","toStringTag","getPrototypeOf","I","T","observable","combineReducers","bindActionCreators","compose","webpackPolyfill","deprecate","paths","_defineProperty","enumerable","_toConsumableArray","arr","arr2","getFirstIndexOfVm","field","connectionName","provider","refreshInterval","_config2","DefaultRefreshInterval","newState","lazyComposedReducer","parentReducer","getSubreducer","getSubstate","setSubstate","subreducer","newSubstate","vms","findVmToUpdate","_ref2","vmCopy","replaceVm","_ref3","updatedVm","vm","indexedVm","clearUsageData","timeSampleUsageData","payload","lastMessage","message","lastMessageDetail","detail","transientOnly","persistent","vmNames","osInfoList","ui","vmsCreated","vmsInstallInitiated","newVmRecord","previousVmRecord","timeDiff","actualTimeInMs","cpuTimeDiff","cpuTime","cpuUsage","toFixed","_config","reducer","subState","VMS_CONFIG","Virsh","connections","system","params","session","isDev","toReadableNumber","fixed1","getPowerOf1024","pow","getLogarithmOfBase1024","floor","convertToBestUnit","input","inputUnit","convertToUnitVerbose","logUnitMap","units","B","convertToUnit","outputUnit","unit","Number","error","inUnit","outUnit","exponentDiff","base1024Exponent","isEmpty","str","arrayEquals","arr1","diff","msg","_console","logError","_console2","digitFilter","allowDots","doNotFilter","charCode","preventDefault","getTodayYearShifted","yearDifference","Date","setFullYear","getFullYear","rephraseUI","original","toFixedPrecision","precision","power","absValue","abs","round","fraction","padding","isFirefox","navigator","userAgent","fileDownload","_ref$fileName","fileName","_ref$mimeType","mimeType","encodeURIComponent","body","click","nicerText","vmId","vmName","mouseClick","fun","button","timeoutedPromise","promise","delay","deferred","_cockpit2","done","timer","resolve","then","clearTimeout","catch","reject","_cockpit","_","gettext","KiB","MiB","GiB","TiB","PiB","EiB","0","1","2","3","4","5","6","autostart","disable","enable","vmStates","running","idle","paused","shutdown","shut off","crashed","dying","pmsuspended","bootableDisk","disk","cdrom","interface","hd","cpuMode","custom","host-model","networkType","direct","network","bridge","user","ethernet","hostdev","mcast","server","udp","vhostuser","networkManaged","yes","no","networkState","up","down","cockpit","virt","getVm","lookupId","getOsInfoList","shutdownVm","forceVmOff","rebootVm","forceRebootVm","startVm","deleteVm","installVm","createVm","vmParams","vmDesktopConsole","consoleDetail","usageStartPolling","usageStopPolling","sendNMI","changeNetworkState","networkMac","delayPolling","timeout","_selectors","getRefreshInterval","setProvider","setRefreshInterval","updateOrAddVm","updateVm","updateOsInfoList","vmCreateInProgress","vmCreateCompleted","vmInstallInProgress","vmInstallCompleted","vmActionFailed","extraPayload","deleteVmMessage","undefineVm","deleteUnlistedVMs","usagePollingEnabled","usagePolling","prov","getVirtProvider","init","initResult","ex","fail","err","warn","setOvirtApiCheckResult","passed","OVIRT_PROVIDER","ovirtApiMetadata","isOvirtApiCheckPassed","_libvirt","_libvirt2","_configFuncs","_ovirtApiAccess","_ovirt","_ovirtConverters","_VmActions","_VmActions2","_VmOverviewColumn","_VmOverviewColumn2","_ConsoleClientResources","_ConsoleClientResources2","_OVirtTab","_OVirtTab2","QEMU_SYSTEM","ovirtReducer","VmActions","vmOverviewExtra","ConsoleClientResources","vmTabRenderers","idPostfix","canDelete","vmState","isVmManagedByOvirt","serialConsoleCommand","readConfiguration","POLL_OVIRT","pollOvirt","SHUTDOWN_VM","forceNextOvirtPoll","ovirtApiPost","buildFailHandler","FORCEOFF_VM","REBOOT_VM","FORCEREBOOT_VM","START_VM","hostName","actionXml","CREATE_VM_FROM_TEMPLATE","templateName","clusterName","template","cluster","MIGRATE_VM","hostId","SUSPEND_VM","_ref4","DOWNLOAD_ICON","_ref5","iconId","ovirtApiGet","parse","updateIcon","oVirtIconToInternal","DOWNLOAD_ICONS","_ref6","iconIds","forceReload","existingIcons","getAllIcons","iconIdsToDownload","getOwnPropertyNames","downloadIcon","onConsoleAboutToShow","_ref7","orig","displays","consoleId","CONSOLE_TYPE_ID_MAP","Accept","vvFile","password","match","line","trim","CONSOLE_VM","HOST_TO_MAINTENANCE","_ref8","dfd","notify","_ref9","exception","parseLines","virshStdout","getValueFromLine","parsedLines","selectedLine","buildScriptTimeoutFailHandler","handler","canLoggedUserConnectSession","loggedUser","doGetAllVms","connection","_services","spawnScript","script","output","all","spawnVirsh","_ref20","failHandler","spawnProcess","cmd","spawnVirshReadOnly","_ref21","parseDumpxml","domXml","xmlDoc","_jquery2","parseXML","domainElem","getElementsByTagName","osElem","currentMemoryElem","vcpuElem","cpuElem","vcpuCurrentAttr","attributes","getNamedItem","devicesElem","osTypeElem","metadataElem","getSingleOptionalElem","nodeValue","osType","emulatedMachine","getAttribute","currentMemoryUnit","currentMemory","vcpus","disks","parseDumpxmlForDisks","bootOrder","parseDumpxmlForBootOrder","cpuModel","parseDumpxmlForCpuModel","parseDumpxmlForConsoles","interfaces","parseDumpxmlForInterfaces","hasInstallPhase","parseDumpxmlMachinesMetadataElement","installSource","osVariant","metadata","parent","subElems","diskElems","diskElem","targetElem","driverElem","sourceElem","serialElem","aliasElem","readonlyElem","shareableElem","bootElem","sourceHostElem","driver","discard","io","errorPolicy","device","file","dev","pool","volume","protocol","host","port","startupPolicy","bus","serial","aliasName","readonly","shareable","removable","interfaceElems","interfaceElem","macElem","modelElem","virtualportElem","addressElem","linkElem","mtuElem","localElem","networkInterface","managed","mac","model","virtualportType","driverName","mtu","portgroup","address","function","getBootableDeviceType","info","devices","osBootElems","bootNum","bootableDevices","devNum","deviceElem","parseInt","sort","devA","devB","graphicsElems","graphicsElem","tlsPort","autoport","consoleElems","consoleElem","parseDominfo","domInfo","lines","LIBVIRT_PROVIDER","isRunning","getElementsByTagNameNS","METADATA_NAMESPACE","textContent","parseOsInfoList","osList","osColumnsNames","parsedList","osColumns","shortId","parseDommemstat","dommemstat","rssMemory","parseDomstats","domstats","now","disksStats","parseDomstatsForDisks","domstatsLines","physical","NaN","capacity","allocation","buildConsoleVVFile","doUsagePolling","canFailHandler","_ref22","handleEvent","eventRe","exec","_match$slice","_match$slice2","_slicedToArray","event_","startEventMonitor","output_buf","spawn","pty","stream","shift","sliceIterator","_arr","_n","_d","_e","_s","_i","iterator","_jquery","_create_machine","_create_machine2","_install_machine","_install_machine2","_get_os_list","_get_os_list2","_libvirtUtils","CREATE_IN_PROGRESS_UI_TIMEOUT","INSTALL_IN_PROGRESS_UI_TIMEOUT","VM_RECOVER_IN_UI_TIMEOUT","providerContext","canReset","canShutdown","canRun","canInstall","installInProgress","canConsole","canSendNMI","GET_VM","GET_ALL_VMS","promises","GET_OS_INFO_LIST","environ","_ref10","_ref11","CREATE_VM","_ref12","os","memorySize","storageSize","openConsoleTab","INSTALL_VM","_ref13","prepareDisksParam","prepareDisplaysParam","DELETE_VM","_ref14","destroy","undefine","storage","CHANGE_NETWORK_STATE","_ref15","USAGE_START_POLLING","_ref16","USAGE_STOP_POLLING","_ref17","_ref18","SENDNMI_VM","_ref19","jQuery","_ref$args","stdin","spawnArgs","command","stdout","chunk","prepareParams","objectData","valueTransformer","startLine","optionKey","listen","tlsport","isVolume","getVolume","getPath","path","vol","boot_order","driver_name","driver_type","error_policy","startup_policy","OVIRT_CONF_FILE","doReadConfiguration","doReadHostname","read","_InstallationDialog2","_config4","debug","doLogin","storeSsoUri","location","accessTokenStart","lastIndexOf","ssoUri","sessionStorage","setItem","hostname","setHostname","top","tokenStart","hash","token","getItem","onLoginSuccessful","redirectToOvirtSSO","loginInProgress","checkApiVersion","baseUrl","getOvirtBaseUrl","authorizedRedirect","hostUrl","apiMetaData","actual","compareVersion","major","minor","REQUIRED_OVIRT_API_VERSION","startOvirtPolling","_config3","_InstallationDialog","CONFIG","OVIRT_FQDN","OVIRT_PORT","INSTALL_SH","VDSM_CONF_FILE","PEM_FILE","OVIRT_DEFAULT_PORT","spice","vnc","rdp","CONSOLE_CLIENT_RESOURCES_URL","ovirt_polling_interval","cockpitPort","getHttpClient","httpClient","http","tls","authority","certificate","custHeaders","Content-Type","Authorization","url","get","handleOvirtError","request","status","fault","httpGet","setInterval","pollOvirtAction","lastOvirtPoll","callOncePerTimeperiod","lastCall","Infinity","doRefreshEvents","always","fullReload","lastEventIndexReceived","vmsToRefresh","templatesToRefresh","hostsToRefresh","clustersToRefresh","parseEvent","doRefreshClusters","doRefreshHosts","doRefreshVms","doRefreshTemplates","eventIndex","doRefreshResource","parseHosts","removeHost","clusterId","parseClusters","removeCluster","doRefreshResourceWithCurrentCluster","parseVms","removeVm","templateId","parseTemplates","removeTemplate","currentCluster","filterPredicate","allIconIds","collectIconIds","large_icon","small_icon","parseResourceGeneric","vmConverter","downloadIcons","templateConverter","updateTemplate","hostConverter","updateHost","clusterConverter","updateCluster","converterFunction","updateAction","resourceCallback","alwaysTrue","resourceId","parserFunction","removeAction","isApiSearchOnCluster","waitForCurrentCluster","reason","suspendVm","migrateVm","createVmFromTemplate","switchHostToMaintenance","isInProgress","goToSubpage","memory","cpu","topology","sockets","cores","threads","description","architecture","creationTime","creation_time","highAvailability","high_availability","icons","largeId","smallId","stateless","baseTemplateId","base_template","mapOvirtStatusToLibvirtState","fqdn","startTime","start_time","ovirtStatus","ovirtIcon","getHost","hosts","hostAddress","getHostAddress","find","getCurrentClusterFromState","getCurrentCluster","clusters","currentHost","_waitForCurrentCluster","counter","_helpers2","localHost","localAddress","isSameHostAddress","toGigaBytes","amount","currentUnit","valueOrDefault","def","isNumeric","formatDateTime","milliseconds","date","isYearDifferent","getUTCFullYear","getTime","month","year","day","hour","hour12","minute","localeString","toLocaleString","language","installationDialog","oVirtUrl","oVirtPort","dlg","_cockpitComponentsDialog","show_modal_dialog","InstallationDialogBody","onChange","actions","caption","clicked","configureOvirtUrl","oVirtFqdn","doRegisterOvirt","superuser","reload","errMsg","exit_status","INSTALL_SH_ERRORS","for","DialogFooter","cancel_clicked","cancel_caption","static_error","dialog_done","action_in_progress","action_in_progress_promise","action_progress_message","action_canceled","error_message","keyUpHandler","keyCode","cancel_click","stopPropagation","classList","remove","update_progress","action_click","progress","cancel","cancel_style","wait_element","actions_disabled","error_element","action_buttons","button_style","button_style_mapping","primary","danger","action_disabled","onClick","Dialog","no_backdrop","footer","activeElement","blur","backdrop","tabindex","footerProps","updateFooterAndRender","dialogObj","dialogName","rootElement","origCallback","closeCallback","setFooterProps","removeResource","hostsReducer","clustersReducer","iconsReducer","configReducer","vmsReducer","updatedPartOfState","templatesReducer","updatedTemplate","routerReducer","route","callSubReducer","substateName","temp","clusterVm","idPrefix","VmIcon","dangerouslySetInnerHTML","_classCallCheck","Constructor","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","canVmMigrateToHost","_createClass","defineProperties","descriptor","protoProps","staticProps","_ConfirmButtons","_ConfirmButtons2","_infoRecord","_infoRecord2","_rephraseUI","_rephraseUI2","MigrateTo","_React$Component","confirmAction","selectedHostId","_this2","_props","onHostChange","onAction","onActionCanceled","onActionConfirmed","confirmText","dismissText","onYes","onNo","VmTemplate","templates","descr","VmHA","enabled","OVirtTab","ConfirmButtons","InfoRecord","descrClass","valueClass","hostStatus","preparing_for_maintenance","initializing","install_failed","maintenance","non_operational","non_responsive","pending_approval","connecting","reboot","unassigned","installing_os","kdumping","true","false","_hostvmslist","_hostvmslist2","_ClusterVms","_ClusterVms2","_ClusterTemplates","_ClusterTemplates2","_VdsmView","_VdsmView2","_HostToMaintenance","_HostToMaintenance2","_HostStatus","_HostStatus2","LoginInProgress","TopMenu","router","onNavigate","HostVmsListDecorated","App","StateIcon","_c3charts","_c3charts2","_cockpitComponentsListing","_vmDisksTabLibvirt","_vmDisksTabLibvirt2","_vmnetworktab","_vmnetworktab2","_consoles","_consoles2","_deleteDialog","_dropdownButtons","_dropdownButtons2","_createVmDialog","_vmOverviewTabLibvirt","_vmOverviewTabLibvirt2","onStart","onInstall","onReboot","onForceReboot","onShutdown","onForceoff","onSendNMI","reset","buttons","run","install","providerActions","ProviderActions","deleteAction","deleteDialog","IconElement","data-toggle","data-placement","valueId","extra","stateMap","vmStateMap","VmUsageTab","onUsageStartPolling","onUsageStopPolling","rssMem","memTotal","available","totalCpus","memChartData","columns","groups","cpuChartData","chartSize","tooltipText","primaryTitle","secondaryTitle","format_bytes","Vm","hostDevices","uiState","stateAlert","stateIcon","usageTabName","disksTabName","networkTabName","consolesTabName","tabRenderers","renderer","presence","tabRender","tabName","initiallyExpanded","createInProgress","initiallyActiveTab","ListingRow","rowId","header","listingActions","initallyExpanded","HostVmsList","_React$Component2","deviceProxyHandler","client","dbus","deviceProxies","proxies","close","_this3","sortFunction","vmA","vmB","localeCompare","allActions","createVmDialog","Listing","columnTitles","emptyCaption","_c","_c2","idCounter","DonutChart","domId","_renderChart","donutChart","bindTo","c3ChartDefaults","getDefaultDonutConfig","prepareProps","bindto","donut","tooltip","contents","pfGetUtilizationDonutTooltipContentsFn","generate","pfSetDonutChartTitle","AxisInternal","internal","d3","linear","range","innerTickSize","outerTickSize","withOuterTick","tickPadding","tickValues","tickFormat","tickArguments","tickOffset","tickCulling","tickCentered","tickTextCharSize","tickTextRotate","tickLength","axis","generateAxis","owner","componentKey","fn","c3","chart","Chart","$$","ChartInternal","loadConfig","beforeInit","afterInit","bindThis","argThis","c3_chart_fn","api","getDefaultConfig","axes","c3_axis_fn","c3_axis_internal_fn","CLASS","chartLine","chartLines","chartBar","chartBars","chartText","chartTexts","chartArc","chartArcs","chartArcsTitle","chartArcsBackground","chartArcsGaugeUnit","chartArcsGaugeMax","chartArcsGaugeMin","selectedCircle","selectedCircles","eventRect","eventRects","eventRectsSingle","eventRectsMultiple","zoomRect","brush","focused","defocused","region","regions","tooltipContainer","tooltipName","shapes","bar","bars","circle","circles","arc","arcLabelLine","arcs","area","areas","empty","texts","gaugeValue","grid","gridLines","xgrid","xgrids","xgridLine","xgridLines","xgridFocus","ygrid","ygrids","ygridLine","ygridLines","axisX","axisXLabel","axisY","axisYLabel","axisY2","axisY2Label","legendBackground","legendItem","legendItemEvent","legendItemTile","legendItemHidden","legendItemFocused","dragarea","EXPANDED","SELECTED","INCLUDED","_typeof","classCallCheck","inherits","possibleConstructorReturn","isValue","isFunction","isString","isUndefined","isDefined","ceil10","ceil","asHalfPixel","diffDomain","notEmpty","c3_chart_internal_fn","getOption","hasValue","dict","found","sanitise","getPathBox","box","getBoundingClientRect","items","pathSegList","minX","minY","selection","attr","scaleExtent","domain","stop","generateTicks","ticks","unshift","copyScale","newScale","copy","isCategory","textFormatted","formatted","updateRange","rangeExtent","updateTickTextCharSize","tick","each","transitionise","withoutTransition","transition","isVertical","tspanData","splitted","tickMultiline","splitTickText","spaceIndex","subtext","textWidth","maxWidth","tickText","tickWidth","updateTickLength","lineY2","tickPosition","textY","textTransform","textTextAnchor","tspanDx","sin","PI","tspanDy","tickTransform","tickX","tickY","scale0","__chart__","scale1","selectAll","tickEnter","enter","insert","tickExit","exit","tickUpdate","append","lineUpdate","textUpdate","tspanUpdate","pathUpdate","rangeBand","right","bottom","left","isCentered","tickInterval","interval","getTotalLength","culling","Axis","_Component","main","clipPathForXAxis","getTranslate","axis_x_show","axis_rotated","textAnchorForXAxisLabel","axis_y_inner","clipPathForYAxis","axis_y_show","textAnchorForYAxisLabel","axis_y2_show","textAnchorForY2AxisLabel","getXAxis","withoutRotateTickText","axisParams","isCategorized","axis_x_tick_multiline","axis_x_tick_width","axis_x_tick_rotate","isTimeSeries","parseDate","axis_x_tick_centered","axis_x_tick_culling","updateXAxisTickValues","targets","axis_x_tick_fit","axis_x_tick_count","generateTickValues","mapTargetsToUniqueXs","xAxis","subXAxis","getYAxis","axis_y_tick_rotate","isTimeSeriesY","time","axis_y_tick_time_value","axis_y_tick_time_interval","getId","data_axes","getXAxisTickFormat","defaultAxisTimeFormat","categoryName","axis_x_tick_format","axisTimeFormat","getTickValues","getXAxisTickValues","axis_x_tick_values","getYAxisTickValues","axis_y_tick_values","yAxis","getY2AxisTickValues","axis_y2_tick_values","y2Axis","getLabelOptionByAxisId","axisId","axis_y_label","axis_y2_label","axis_x_label","getLabelText","setLabelText","getLabelPosition","defaultPosition","isInner","isOuter","isLeft","isCenter","isRight","isTop","isMiddle","isBottom","getXAxisLabelPosition","getYAxisLabelPosition","getY2AxisLabelPosition","getLabelPositionById","textForXAxisLabel","textForYAxisLabel","textForY2AxisLabel","xForAxisLabel","forHorizontal","dxForAxisLabel","textAnchorForAxisLabel","xForXAxisLabel","xForYAxisLabel","xForY2AxisLabel","dxForXAxisLabel","dxForYAxisLabel","dxForY2AxisLabel","dyForXAxisLabel","getMaxTickWidth","axis_x_height","dyForYAxisLabel","dyForY2AxisLabel","axis_y2_inner","withoutRecompute","targetsToShow","dummy","svg","currentMaxTickWidths","filterTargetsToShow","getYDomain","yOrient","axis_y_tick_format","yAxisTickValues","y2Orient","axis_y2_tick_format","y2AxisTickValues","getXDomain","xOrient","xAxisTickFormat","xAxisTickValues","classed","updateLabels","withTransition","getPadding","domainLength","convertPixelsToAxisPadding","pixels","tickCount","forTimeSeries","targetCount","tickValue","generateTransitions","duration","axisSubX","subx","redraw","transitions","isHidden","initParams","data_url","convertUrlToData","data_mimeType","data_headers","data_keys","initWithData","data_json","convertJsonToData","data_rows","convertRowsToData","data_columns","convertColumnsToData","clipId","clipIdForXAxis","clipIdForYAxis","clipIdForGrid","clipIdForSubchart","getClipPath","clipPathForGrid","clipPathForSubchart","dragStart","dragging","flowing","cancelClick","mouseover","transiting","generateColor","levelColor","generateLevelColor","dataTimeFormat","data_xLocaltime","utc","axis_x_localtime","multi","getMilliseconds","getSeconds","getMinutes","getHours","getDay","getDate","getMonth","hiddenTargetIds","hiddenLegendIds","focusedTargetIds","defocusedTargetIds","subXOrient","isLegendRight","legend_position","isLegendInset","isLegendTop","legend_inset_anchor","isLegendLeft","legendStep","legendItemWidth","legendItemHeight","rotated_padding_left","rotated_padding_right","rotated_padding_top","withoutFadeIn","intervalForObserveInserted","initChartElements","initBar","initLine","initArc","initGauge","initText","defs","binding","initPie","initBrush","initZoom","selectChart","observeInserted","html","xs","convertDataToTargets","data_filter","data_hide","addHiddenTargetIds","mapToIds","legend_hide","addHiddenLegendIds","updateSizes","updateScales","extent","subX","subY","subY2","orgXDomain","zoom_enabled","on","onmouseover","onmouseout","svg_classname","clipChart","appendClip","clipXAxis","clipYAxis","clipGrid","clipSubchart","updateSvgSize","initSubchart","initTooltip","initLegend","initTitle","initRegion","initGrid","grid_lines_front","initGridLines","initEventRect","zoom_privileged","axis_x_extent","getDefaultExtent","updateTargets","updateDimension","oninit","withTransform","withUpdateXDomain","withUpdateOrgXDomain","withTransitionForAxis","bindResize","smoothLines","el","legendHeight","legend","getLegendHeight","legendWidth","getLegendWidth","legendHeightForBottom","hasArc","hasArcType","xAxisHeight","getHorizontalAxisHeight","subchartHeight","subchart_show","subchart_size_height","currentWidth","getCurrentWidth","currentHeight","getCurrentHeight","margin","getCurrentPaddingTop","getCurrentPaddingRight","getCurrentPaddingBottom","getCurrentPaddingLeft","margin2","margin3","updateSizeForLegend","width2","height2","arcWidth","arcHeight","hasType","gauge_fullCircle","getGaugeLabelHeight","updateRadius","radiusExpanded","updateTargetsForText","updateTargetsForBar","updateTargetsForLine","updateTargetsForArc","updateTargetsForSubchart","showTargets","isTargetToShow","transition_duration","withY","withSubchart","withTransitionForExit","withTrimXDomain","withLegend","withEventRect","withDimension","withUpdateXAxis","drawArea","drawBar","drawLine","xForText","yForText","durationForExit","durationForAxis","waitForDraw","flow","intervalForCulling","xDomainForZoom","areaIndices","getShapeIndices","isAreaType","barIndices","isBarType","lineIndices","isLineType","hideAxis","xv","legend_show","updateLegend","updateXDomain","zoom_rescale","orgDomain","axis_y_tick_count","axis_y2_tick_count","axis_x_tick_culling_max","generateDrawArea","generateDrawBar","generateDrawLine","generateXYForText","updateXgridFocus","data_empty_label_text","updateGrid","updateRegion","updateBar","updateLine","updateArea","updateCircle","hasDataLabel","updateText","redrawTitle","redrawArc","redrawSubchart","interaction_enabled","redrawEventRect","updateZoom","updateCircleY","circleY","circleX","generateFlow","isTabVisible","transitionsToWait","redrawBar","redrawLine","redrawArea","redrawCircle","redrawText","redrawRegion","redrawGrid","generateWait","onrendered","updateAndRedraw","withTransitionForTransform","transformAll","redrawWithoutRescale","axis_x_type","isCustomX","data_x","data_xs","axis_y_type","initialOpacity","initialOpacityForCircle","opacityForCircle","isPointShouldBeShown","point_show","isScatterType","opacityForText","xx","axis_x_categories","yv","yScale","subxx","transformMain","transformContext","transformLegend","getXAxisClipX","getXAxisClipY","getXAxisClipWidth","getXAxisClipHeight","getYAxisClipX","getYAxisClipY","getYAxisClipWidth","getYAxisClipHeight","withoutAxis","observer","MutationObserver","mutations","mutation","previousSibling","disconnect","clearInterval","update","observe","childList","characterData","resizeFunction","generateResize","onresize","resize_auto","resizeTimeout","flush","onresized","resizeIfElementDisplayed","offsetParent","attachEvent","wrapper","callResizeFunctions","resizeFunctions","endall","parsedDate","data_xFormat","mozHidden","msHidden","webkitHidden","oThis","aArgs","fToBind","fNOP","fBound","SVGPathSeg","typeAsLetter","owningPathSegList","pathSegType","pathSegTypeAsLetter","_owningPathSegList","classname","PATHSEG_UNKNOWN","PATHSEG_CLOSEPATH","PATHSEG_MOVETO_ABS","PATHSEG_MOVETO_REL","PATHSEG_LINETO_ABS","PATHSEG_LINETO_REL","PATHSEG_CURVETO_CUBIC_ABS","PATHSEG_CURVETO_CUBIC_REL","PATHSEG_CURVETO_QUADRATIC_ABS","PATHSEG_CURVETO_QUADRATIC_REL","PATHSEG_ARC_ABS","PATHSEG_ARC_REL","PATHSEG_LINETO_HORIZONTAL_ABS","PATHSEG_LINETO_HORIZONTAL_REL","PATHSEG_LINETO_VERTICAL_ABS","PATHSEG_LINETO_VERTICAL_REL","PATHSEG_CURVETO_CUBIC_SMOOTH_ABS","PATHSEG_CURVETO_CUBIC_SMOOTH_REL","PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS","PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL","_segmentChanged","segmentChanged","SVGPathSegClosePath","_asPathString","clone","SVGPathSegMovetoAbs","_x","_y","set","SVGPathSegMovetoRel","SVGPathSegLinetoAbs","SVGPathSegLinetoRel","SVGPathSegCurvetoCubicAbs","_x1","_y1","_x2","_y2","SVGPathSegCurvetoCubicRel","SVGPathSegCurvetoQuadraticAbs","SVGPathSegCurvetoQuadraticRel","SVGPathSegArcAbs","r1","r2","angle","largeArcFlag","sweepFlag","_r1","_r2","_angle","_largeArcFlag","_sweepFlag","SVGPathSegArcRel","SVGPathSegLinetoHorizontalAbs","SVGPathSegLinetoHorizontalRel","SVGPathSegLinetoVerticalAbs","SVGPathSegLinetoVerticalRel","SVGPathSegCurvetoCubicSmoothAbs","SVGPathSegCurvetoCubicSmoothRel","SVGPathSegCurvetoQuadraticSmoothAbs","SVGPathSegCurvetoQuadraticSmoothRel","SVGPathElement","createSVGPathSegClosePath","createSVGPathSegMovetoAbs","createSVGPathSegMovetoRel","createSVGPathSegLinetoAbs","createSVGPathSegLinetoRel","createSVGPathSegCurvetoCubicAbs","createSVGPathSegCurvetoCubicRel","createSVGPathSegCurvetoQuadraticAbs","createSVGPathSegCurvetoQuadraticRel","createSVGPathSegArcAbs","createSVGPathSegArcRel","createSVGPathSegLinetoHorizontalAbs","createSVGPathSegLinetoHorizontalRel","createSVGPathSegLinetoVerticalAbs","createSVGPathSegLinetoVerticalRel","createSVGPathSegCurvetoCubicSmoothAbs","createSVGPathSegCurvetoCubicSmoothRel","createSVGPathSegCurvetoQuadraticSmoothAbs","createSVGPathSegCurvetoQuadraticSmoothRel","getPathSegAtLength","distance","isFinite","measurementElement","lastPathSegment","numberOfItems","removeItem","SVGPathSegList","pathElement","_pathElement","_list","_parsePath","_mutationObserverConfig","attributeFilter","_pathElementMutationObserver","_updateListFromPathMutations","_checkPathSynchronizedToList","_pathSegList","takeRecords","mutationRecords","hasPathMutations","record","_writeListToPath","_pathSegArrayAsString","pathSeg","clear","initialize","newItem","_checkValidIndex","insertItemBefore","replaceItem","appendItem","pathSegArray","first","Builder","appendSegment","Source","_string","_currentIndex","_endIndex","_previousCommand","_skipOptionalSpaces","_isCurrentSpace","character","_skipOptionalSpacesOrDelimiter","hasMoreData","peekSegmentType","lookahead","_pathSegTypeFromChar","_nextCommandHelper","previousCommand","initialCommandIsMoveTo","_parseNumber","integer","frac","decimal","sign","expsign","startIndex","startIntPartIndex","scanIntPartIndex","multiplier","_parseArcFlag","flag","flagChar","parseSegment","arcAngle","arcLarge","arcSweep","builder","labels","axis_x_max","axis_y_max","axis_y2_max","axis_x_min","axis_y_min","axis_y2_min","category","categories","resize","size_width","size_height","detachEvent","targetIds","shown","targetId","names","clearLegendItemTextBoxCache","updateDataAttributes","colors","dataCount","baseTarget","baseValue","notfoundIds","orgDataCount","getMaxDataCount","tail","json","getOtherTargetX","missing","translateX","scaleX","flowIndex","flowLength","flowStart","getValueOnIndex","flowEnd","durationForFlow","wait","mainRegion","mainText","mainBar","mainLine","mainArea","mainCircle","updateXGrid","hideXGridFocus","ease","isRegionOnX","xgridAttr","regionX","regionWidth","focus","candidates","mapToTargetIds","selectorTargets","revert","defocus","expandArc","toggleFocusLegend","unexpandArc","showLegend","isLegendToShow","selectorLegends","grids","grid_x_lines","removeGridLines","grid_y_lines","data_groups","show","hide","hideLegend","load","addXs","classes","data_classes","data_colors","hasCaches","cacheIds","getCaches","unload","loadFromArgs","ids","merge","getTargetSelectorSuffix","__data__","indices","resetOther","data_selection_enabled","toggle","getToggle","isTargetId","data_selection_grouped","isTargetIndex","isSelected","data_selection_isselectable","unselect","removeHiddenTargetIds","that","mouse","isMultipleX","getYScale","getIndexByX","tooltip_onshow","tooltip_onhide","transformTo","optionsForRedraw","setTargetType","updateTargetX","updateTargetXs","zoom_onzoom","unzoom","zoom_x_max","zoom_x_min","pie","layout","getOrderFunction","gauge_width","donut_width","gaugeArcWidth","gauge_arcs_minWidth","innerRadiusRatio","innerRadius","updateArc","svgArc","getSvgArc","svgArcExpanded","getSvgArcExpanded","svgArcExpandedSub","updateAngle","gMin","gMax","gTic","gValue","startAngle","endAngle","isGaugeType","gauge_min","gauge_max","gauge_startingAngle","hasGaugeType","singleArcWidth","outerRadius","newArc","withoutUpdate","updated","centroid","rate","expandWidth","getArc","force","isArcType","transformForArcLabel","ratio","translate","hasGauge","sqrt","donut_label_ratio","pie_label_ratio","cos","getArcRatio","whole","convertToArcData","addName","textForArcLabel","shouldShowArcLabel","meetsArcLabelThreshold","getArcLabelFormat","defaultArcValueFormat","textForGaugeMinMax","isMax","getGaugeLabelExtents","shouldExpand","expandDuration","isDonutType","donut_expand_duration","gauge_expand_duration","isPieType","pie_expand_duration","donut_expand","gauge_expand","pie_expand","shouldShow","donut_label_show","pie_label_show","threshold","donut_label_threshold","pie_label_threshold","pie_label_format","gauge_label_format","donut_label_format","gauge_label_extents","getArcTitle","donut_title","mainPieUpdate","mainPieEnter","classChartArc","classArcs","classFocus","mainArc","backgroundArc","mainArcLabelLine","arcData","classArc","_current","color_pattern","gauge_labelLine_show","lineLength","lineThickness","innerLineLength","lineAngle","arcInnerRadius","linePositioningAngle","data_onmouseover","selectedData","showTooltip","revertLegend","hideTooltip","data_onmouseout","toggleShape","data_onclick","attrTween","interpolate","interpolated","d1","gauge_label_show","gauge_units","addCache","cloneTarget","generateClass","classText","classTexts","classShape","classShapes","classLine","classLines","classCircle","classCircles","classBar","classBars","classArea","classAreas","classRegion","classEvent","classTarget","additionalClassSuffix","additionalClass","classFocused","classDefocused","classChartText","classChartLine","classChartBar","selectorTarget","selectorLegend","isIE9","appVersion","URL","getAxisClipX","getAxisClipY","getAxisClipWidth","getAxisClipHeight","category10","data_color","color_threshold","asValue","padding_left","padding_right","padding_top","padding_bottom","zoom_extent","zoom_onzoomstart","zoom_onzoomend","interaction_brighten","data_xSort","data_idConverter","data_names","data_type","data_types","data_labels","data_order","data_regions","data_selection_multiple","data_selection_draggable","data_onselected","data_onunselected","subchart_axis_x_show","subchart_onbrush","legend_inset_x","legend_inset_y","legend_inset_step","legend_item_onclick","legend_item_onmouseover","legend_item_onmouseout","legend_equally","legend_padding","legend_item_tile_width","legend_item_tile_height","axis_x_tick_outer","axis_x_padding","axis_y_inverted","axis_y_center","axis_y_tick_outer","axis_y_padding","axis_y_default","axis_y2_inverted","axis_y2_center","axis_y2_tick_outer","axis_y2_padding","axis_y2_default","grid_x_show","grid_x_type","grid_y_show","grid_y_ticks","grid_focus_show","point_r","point_sensitivity","point_focus_expand_enabled","point_focus_expand_r","point_select_r","line_connectNull","line_step_type","bar_width","bar_width_ratio","bar_width_max","bar_zerobased","bar_space","area_zerobased","area_above","spline_interpolation_type","tooltip_show","tooltip_grouped","tooltip_order","tooltip_format_title","tooltip_format_name","tooltip_format_value","tooltip_position","tooltip_contents","defaultTitleFormat","defaultValueFormat","getTooltipContent","tooltip_init_show","tooltip_init_x","tooltip_init_position","title_text","title_padding","title_position","additionalConfig","this_config","req","xhr","dataResponse","response","responseText","responseURL","statusText","convertTsvToData","convertCsvToData","convertXsvToData","xsv","parser","parseRows","csv","tsv","targetKeys","new_rows","new_row","findValueInJson","pathArray","newRows","newRow","appendXs","isNotX","isX","xKey","getXKey","rawX","generateTargetX","getOtherTargetXs","getXValuesOfXKey","convertedId","id_org","v1","v2","hasNegativeValue","hasNegativeValueInTargets","hasPositiveValue","hasPositiveValueInTargets","xValues","filterByX","getXValue","idsForX","hasMultipleX","valueOnIndex","updateXs","getPrevX","getNextX","getMaxDataCountTarget","maxTarget","getEdgeX","hasTarget","removeHiddenLegendIds","getValuesAsIdKeyed","ys","checkValueInTargets","checker","isOrderDesc","isOrderAsc","orderAsc","orderDesc","t1","t2","t1Sum","t2Sum","orderTargets","fct","reverse","filterRemoveNull","filterByXDomain","xDomain","getDataLabelLength","lengths","paddingCoef","dataLabelFormat","isNoneArc","isArc","findSameXOfValues","sames","findClosestFromTargets","pos","findClosest","closest","minDist","isWithinBar","dist","xIndex","yIndex","convertValuesToStep","converted","attrs","current","types","getYDomainMin","baseId","idsInGroup","getYDomainMax","yDomainAbs","isAllPositive","isAllNegative","targetsByAxisId","yTargets","yMin","yMax","yDomainMin","yDomainMax","center","isZeroBased","isInverted","showHorizontalDataLabel","showVerticalDataLabel","getXDomainMin","getXDomainMax","getXDomainPadding","maxDataCount","paddingLeft","paddingRight","firstX","lastX","withTrim","updateScaleExtent","trimXDomain","zoomDomain","getZoomDomain","drag","sx","sy","mx","my","maxX","maxY","altDomain","_w","_h","isIncluded","isWithin","togglePoint","togglePath","dragstart","dragend","getYFormat","forArc","formatForY","yFormat","formatForY2","y2Format","defaultFormat","xgridData","generateGridData","updateYGrid","gridValues","gridTextAnchor","gridTextDx","xGridTextX","yGridTextX","showXGridFocus","dataToShow","focusEl","firstYear","lastYear","gridData","tickNum","getGridFilterToRemove","param","forX","toRemove","toShow","eventRectUpdate","maxDataCountTarget","generateEventRectsForMultipleXs","updateEventRect","datum","generateEventRectsForSingleX","rectW","rectX","getEventRectWidth","prevX","nextX","thisX","eventRectEnter","expandCircles","expandBars","unexpandCircles","unexpandBars","isStepType","isWithinShape","behavior","mouseout","sameXData","selector","createEvent","initMouseEvent","legendItemTextBox","legendHasRendered","updateLegendWithDefaults","insetLegendPosition","updateLegendStep","updateLegendItemWidth","updateLegendItemHeight","opacityForLegend","opacityForUnfocusedLegend","getTextBox","textElement","getTextRect","updatePositions","updateValues","withoutStep","areaLength","totalLength","itemLength","posMin","steps","margins","offsets","isLast","itemWidth","tileWidth","itemHeight","paddingTop","maxHeight","heights","xForLegend","xForLegendText","xForLegendRect","yForLegend","yForLegendText","yForLegendRect","x1ForLegendTile","x2ForLegendTile","yForLegendTile","rects","tiles","background","altKey","parentData","regionY","regionHeight","xPos","yPos","getScale","forTimeseries","getX","_scale","raw","getY","getSubYScale","forInit","xMin","xMax","subXMin","subXMax","subYMin","subYMax","selectPoint","pointSelectR","unselectPoint","selectPath","rgb","brighter","unselectPath","mainBarUpdate","mainBarEnter","barData","getBarW","barTargetsNum","getBars","isSub","getPoints","generateGetBarPoints","indexX","indexY","__max__","barW","barX","getShapeX","barY","getShapeY","barOffset","getShapeOffset","barSpaceOffset","y0","posX","posY","seg0","seg1","ey","typeFilter","targetsNum","isWithinStep","isWithinCircle","getInterpolate","interpolation","isInterpolationType","isSplineType","mainLineUpdate","mainLineEnter","lineData","generateGetLinePoints","yScaleGetter","xValue","yValue","defined","x0","lineWithRegions","lineTargetsNum","lineOffset","_regions","isWithinRegions","generateM","sWithRegion","xp","yp","dd","diffx2","prev","xOffset","d0","x_diff","xv0","xv1","orgAreaOpacity","generateGetAreaPoints","value0","getAreaBaseValue","value1","areaTargetsNum","areaOffset","lineOrScatterData","pointR","getCircles","pointExpandedR","d3_this","getParentWidth","getParentHeight","getTitlePadding","getAxisWidthByAxisId","defaultPadding","legendWidthOnRight","getParentRectValue","offsetWidth","getSvgLeft","hasLeftAxisRect","leftAxisClass","leftAxis","svgRect","chartRect","svgLeft","redrawForBrush","contextLineEnter","contextLineUpdate","contextBarEnter","contextBarUpdate","updateBarForSubchart","contextBar","redrawBarForSubchart","drawBarOnSub","updateLineForSubchart","contextLine","redrawLineForSubchart","drawLineOnSub","updateAreaForSubchart","contextArea","redrawAreaForSubchart","drawAreaOnSub","mainTextUpdate","mainTextEnter","barOrLineData","forFlow","cls","rect","font","getAreaPoints","getBarPoints","getLinePoints","getter","getXForText","getYForText","isSafari","isChrome","xForTitle","yForTitle","getTooltipSortFunction","valueOf","bgcolor","titleFormat","nameFormat","valueFormat","tooltipSortFunction","tooltipPosition","tWidth","tHeight","tooltipLeft","tooltipRight","tooltipTop","chartRight","positionFunction","has","ua","startEvent","sourceEvent","redrawForZoom","clientX","clientY","orgScaleExtent","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","d3_documentElement","ownerDocument","documentElement","d3_window","defaultView","d3_ascending","d3_number","d3_numeric","d3_bisector","compare","lo","hi","mid","d3_transposeLength","d3_range_integerScale","d3_class","ctor","d3_Map","d3_map_escape","d3_map_proto","d3_map_zero","d3_map_unescape","d3_map_has","d3_map_remove","d3_map_keys","d3_map_size","d3_map_empty","d3_Set","d3_identity","d3_rebind","d3_vendorSymbol","d3_vendorPrefixes","prefixName","d3_noop","d3_dispatch","d3_dispatch_event","listeners","listenerByName","d3_eventPreventDefault","d3_eventSource","d3_eventDispatch","of","thiz","argumentz","e1","e0","d3_selection","d3_subclass","d3_selectionPrototype","d3_selection_selector","d3_select","d3_selection_selectorAll","d3_selectAll","d3_selection_attr","attrNull","attrNullNS","removeAttributeNS","space","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","ns","qualify","d3_collapse","d3_selection_classedRe","requote","d3_selection_classes","d3_selection_classed","classedConstant","classedFunction","d3_selection_classedName","re","lastIndex","d3_selection_style","priority","styleNull","removeProperty","styleConstant","setProperty","styleFunction","d3_selection_property","propertyNull","propertyConstant","propertyFunction","d3_selection_creator","d3_nsXhtml","createNS","d3_selectionRemove","d3_selection_dataNode","d3_selection_filter","d3_selectMatches","d3_selection_sortComparator","comparator","d3_selection_each","group","d3_selection_enter","d3_selection_enterPrototype","d3_selection_enterInsertBefore","i0","j0","d3_selection_on","onRemove","$","onAdd","d3_array","removeAll","d3_selection_onListener","d3_selection_onFilters","d3_selection_onFilter","related","relatedTarget","compareDocumentPosition","d3_event_dragSuppress","d3_event_dragId","d3_event_dragSelect","suppressClick","off","d3_mousePoint","changedTouches","ownerSVGElement","createSVGPoint","point","d3_mouse_bug44083","scrollX","scrollY","border","ctm","getScreenCTM","pageX","pageY","matrixTransform","inverse","clientLeft","clientTop","d3_behavior_dragTouchId","identifier","d3_sgn","d3_cross2d","d3_acos","","acos","d3_asin","half","asin","d3_sinh","exp","d3_cosh","d3_tanh","d3_haversin","d3_color","d3_hsl","d3_rgb_parse","d3_rgb_hsl","d3_hsl_rgb","m1","m2","vv","d3_rgb","d3_hcl","d3_lab","d3_lab_hcl","d3_rgb_lab","d3_hcl_lab","d3_radians","d3_lab_rgb","d3_lab_xyz","d3_lab_X","d3_lab_Y","d3_lab_Z","d3_xyz_rgb","atan2","d3_degrees","d3_xyz_lab","d3_rgbNumber","d3_rgbString","d3_rgb_hex","hsl","parseFloat","d3_rgb_parseNumber","d3_rgb_names","d3_rgb_xyz","d3_functor","d3_xhrType","d3_xhr","respond","d3_xhrHasResponse","XMLHttpRequest","responseType","XDomainRequest","onreadystatechange","readyState","send","setRequestHeader","overrideMimeType","beforesend","abort","rebind","d3_xhr_fixCallback","d3_timer","d3_timer_queueTail","d3_timer_queueHead","d3_timer_interval","d3_timer_timeout","d3_timer_frame","d3_timer_step","d3_timer_mark","d3_timer_sweep","t0","d3_format_precision","LN10","d3_formatPrefix","symbol","d3_locale_numberFormat","locale","locale_decimal","locale_thousands","thousands","locale_grouping","grouping","locale_currency","currency","formatGroup","specifier","d3_format_re","align","zfill","comma","suffix","d3_format_types","d3_format_typeDefault","zcomma","fullSuffix","negative","formatPrefix","before","after","d3_date_utc","UTC","d3_time_interval","d3_date","dt","times","range_utc","d3_time_interval_utc","d3_locale_timeFormat","d3_time_format","charCodeAt","d3_time_formatPads","d3_time_formats","H","M","L","Z","d3_time_parse","localZ","W","U","setHours","d3_time_parsers","d3_time_parseWeekdayAbbrev","d3_time_dayAbbrevRe","d3_time_dayAbbrevLookup","d3_time_parseWeekday","d3_time_dayRe","d3_time_dayLookup","d3_time_parseMonthAbbrev","d3_time_monthAbbrevRe","d3_time_monthAbbrevLookup","d3_time_parseMonth","d3_time_monthRe","d3_time_monthLookup","d3_time_parseLocaleFull","d3_time_parseLocaleDate","d3_time_parseLocaleTime","X","d3_time_parseAmPm","d3_time_periodLookup","locale_dateTime","locale_date","locale_time","locale_periods","periods","locale_days","days","locale_shortDays","shortDays","locale_months","months","locale_shortMonths","shortMonths","d3_time_formatMulti","d3_time_formatRe","d3_time_formatLookup","d3_time_formatPad","d3_time","dayOfYear","sundayOfYear","mondayOfYear","Y","d3_time_zone","%","d3_time_parseDay","d3_time_parseHour24","d3_time_parseDayOfYear","d3_time_parseMilliseconds","d3_time_parseMonthNumber","d3_time_parseMinutes","d3_time_parseSeconds","d3_time_parseWeekNumberSunday","d3_time_parseWeekdayNumber","d3_time_parseWeekNumberMonday","d3_time_parseYear","d3_time_parseFullYear","d3_time_parseZone","d3_time_parseLiteralPercent","d3_time_numberRe","d3_time_expandYear","getTimezoneOffset","zs","zh","zm","d3_time_percentRe","formats","d3_adder","d3_adderSum","bv","av","d3_geo_streamGeometry","geometry","d3_geo_streamGeometryType","d3_geo_streamLine","coordinates","closed","coordinate","lineStart","lineEnd","d3_geo_streamPolygon","polygonStart","polygonEnd","d3_geo_areaRingStart","nextPoint","","","d","0","sd","ad","cos","sin","sin0","cos0","d3_geo_areaRingSum","00","00","d3_geo_area","d3_geo_cartesian","spherical","d3_geo_cartesianDot","d3_geo_cartesianCross","d3_geo_cartesianAdd","d3_geo_cartesianScale","vector","d3_geo_cartesianNormalize","d3_geo_spherical","cartesian","d3_geo_sphericalEqual","","d3_geo_centroidPoint","d3_geo_centroidPointXYZ","d3_geo_centroidW0","d3_geo_centroidX0","d3_geo_centroidY0","d3_geo_centroidZ0","d3_geo_centroidLineStart","z0","d3_geo_centroidW1","d3_geo_centroidX1","d3_geo_centroidY1","d3_geo_centroidZ1","d3_geo_centroid","d3_geo_centroidLineEnd","d3_geo_centroidRingStart","cz","d3_geo_centroidX2","d3_geo_centroidY2","d3_geo_centroidZ2","d3_geo_compose","invert","d3_true","d3_geo_clipPolygon","segments","clipStartInside","subject","segment","p0","p1","d3_geo_clipPolygonIntersection","d3_geo_clipPolygonLinkCircular","entry","isSubject","other","d3_geo_clip","pointVisible","clipLine","clipStart","pointLine","pointRing","ring","ringListener","ringStart","ringEnd","clean","ringSegments","buffer","polygon","polygonStarted","d3_geo_clipSegmentLength1","rotatedClipStart","d3_geo_pointInPolygon","d3_geo_clipSort","sphere","d3_geo_clipBufferListener","rejoin","d3_geo_clipAntimeridianLine","0","s0","1","1","s1","d3_geo_clipAntimeridianIntersect","cos1","sin0_1","atan","d3_geo_clipAntimeridianInterpolate","meridian","parallel","meridianNormal","polarAngle","winding","point0","antimeridian","","intersection","arc","d3_geo_clipCircle","visible","cr","c0","v0","v00","point2","point1","smallRadius","code","intersect","notHemisphere","two","pa","pb","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","uu","q","","polar","q1","d3_geo_circleInterpolate","d3_geom_clipLine","ax","ay","bx","d3_geo_clipExtent","corner","comparePoints","ca","cb","insidePolygon","wn","a1","linePoint","v_","x_","y_","x__","y__","v__","bufferListener","d3_geo_clipExtentMAX","listener_","inside","d3_geo_conic","projectAt","d3_geo_projectionMutator","parallels","d3_geo_conicEqualArea","forward","","C","0","0_y","d3_geo_pathAreaRingStart","d3_geo_pathAreaPolygon","x00","y00","d3_geo_pathArea","d3_geo_pathBoundsPoint","d3_geo_pathBoundsX0","d3_geo_pathBoundsX1","d3_geo_pathBoundsY0","d3_geo_pathBoundsY1","d3_geo_pathBuffer","pointCircle","pointLineStart","lineEndPolygon","d3_geo_pathBufferCircle","pointRadius","d3_geo_pathCentroidPoint","d3_geo_pathCentroidLineStart","d3_geo_pathCentroid","d3_geo_pathCentroidLineEnd","d3_geo_pathCentroidRingStart","d3_geo_pathContext","moveTo","lineTo","closePath","d3_geo_resample","project","resample","maxDepth","resampleRecursive","resampleNone","d3_geo_transformPoint","resampleLineTo","a0","b0","ringPoint","a00","b00","c00","b1","depth","d2","2","2","2","dx2","dy2","dz","cosMinDistance","d3_geo_pathProjectStream","d3_geo_projectionRadians","d3_geo_transform","d3_geo_projection","projection","projectRotate","x","y","d3_geo_rotation","","","invalidate","valid","projectResample","preclip","d3_geo_clipAntimeridian","postclip","clipAngle","clipExtent","d3_geo_equirectangular","d3_geo_identityRotation","d3_geo_rotation","d3_geo_rotation","d3_geo_forwardRotation","rotation","cos","sin","cos","sin","sr","d3_geo_circleAngle","d3_geo_graticuleX","d3_geo_graticuleY","d3_source","d3_target","d3_geo_interpolate","cy0","sy0","cy1","sy1","kx0","ky0","kx1","ky1","d3_geo_lengthLineStart","cos","d3_geo_lengthSum","d3_geo_length","d3_geo_azimuthal","azimuthal","cos","sinc","cosc","d3_geo_conicConformal","F","tan","d3_geo_mercator","d3_geo_conicEquidistant","G","d3_geo_mercatorProjection","clipAuto","d3_geo_transverseMercator","d3_geom_pointX","d3_geom_pointY","d3_geom_hullUpper","hull","hs","d3_geom_hullOrder","d3_geom_polygonInside","d3_geom_polygonIntersect","x3","x21","x43","y3","y21","y43","d3_geom_polygonClosed","d3_geom_voronoiBeach","d3_geom_voronoiRedBlackNode","edge","site","d3_geom_voronoiCreateBeach","beach","d3_geom_voronoiBeachPool","d3_geom_voronoiDetachBeach","d3_geom_voronoiDetachCircle","d3_geom_voronoiBeaches","d3_geom_voronoiRemoveBeach","vertex","previous","disappearing","lArc","rArc","iArc","nArcs","d3_geom_voronoiSetEdgeEnd","d3_geom_voronoiCreateEdge","d3_geom_voronoiAttachCircle","d3_geom_voronoiAddBeach","dxl","dxr","directrix","d3_geom_voronoiLeftBreakPoint","d3_geom_voronoiRightBreakPoint","lSite","rSite","hb","hc","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","d3_geom_voronoiCell","edges","d3_geom_voronoiCloseCells","cell","iHalfEdge","halfEdges","nHalfEdges","cells","d3_geom_voronoiCells","iCell","prepare","d3_geom_voronoiHalfEdge","d3_geom_voronoiCreateBorderEdge","d3_geom_voronoiHalfEdgeOrder","d3_geom_voronoiCircle","cSite","2","ha","d3_geom_voronoiCirclePool","d3_geom_voronoiCircles","d3_geom_voronoiFirstCircle","d3_geom_voronoiClipEdges","d3_geom_voronoiEdges","d3_geom_voronoiConnectEdge","vb","fm","fb","va","lx","ly","d3_geom_voronoiEdge","d3_geom_voronoiRedBlackTree","d3_geom_voronoiRedBlackRotateLeft","tree","d3_geom_voronoiRedBlackRotateRight","d3_geom_voronoiRedBlackFirst","d3_geom_voronoi","sites","d3_geom_voronoiVertexOrder","diagram","d3_geom_voronoiTriangleArea","d3_geom_quadtreeCompatX","d3_geom_quadtreeCompatY","d3_geom_quadtreeNode","leaf","nodes","d3_geom_quadtreeVisit","d3_geom_quadtreeFind","root","closestPoint","minDistance2","distance2","xm","ym","below","d3_interpolateRgb","ar","ag","ab","br","bg","bb","d3_interpolateObject","d3_interpolate","d3_interpolateNumber","d3_interpolateString","am","bm","bs","bi","d3_interpolate_numberA","d3_interpolate_numberB","interpolators","d3_interpolateArray","na","nb","n0","d3_ease_clamp","d3_ease_reverse","d3_ease_reflect","d3_ease_quad","d3_ease_cubic","d3_ease_cubicInOut","t3","d3_ease_poly","d3_ease_sin","d3_ease_exp","d3_ease_circle","d3_ease_elastic","d3_ease_back","d3_ease_bounce","d3_interpolateHcl","hcl","ah","ac","al","bh","bc","bl","d3_interpolateHsl","as","d3_interpolateLab","lab","aa","ba","d3_interpolateRound","d3_transform","r0","kx","d3_transformNormalize","kz","d3_transformDot","ky","d3_transformCombine","skew","d3_interpolateTransformPop","d3_interpolateTranslate","ta","tb","d3_interpolateRotate","ra","rb","d3_interpolateSkew","wa","wb","d3_interpolateScale","ka","kb","d3_interpolateTransform","d3_uninterpolateNumber","d3_uninterpolateClamp","d3_layout_bundlePath","link","lca","d3_layout_bundleLeastCommonAncestor","d3_layout_bundleAncestors","ancestors","aNodes","bNodes","aNode","bNode","sharedNode","d3_layout_forceDragstart","fixed","d3_layout_forceDragend","d3_layout_forceMouseover","px","py","d3_layout_forceMouseout","d3_layout_forceAccumulate","quad","alpha","charges","charge","pointCharge","d3_layout_hierarchyRebind","hierarchy","links","d3_layout_hierarchyLinks","d3_layout_hierarchyVisitBefore","d3_layout_hierarchyVisitAfter","nodes2","d3_layout_hierarchyChildren","d3_layout_hierarchyValue","d3_layout_hierarchySort","d3_layout_stackX","d3_layout_stackY","d3_layout_stackOut","d3_layout_stackOrderDefault","d3_layout_stackOffsetZero","d3_layout_stackMaxIndex","d3_layout_stackReduceSum","d3_layout_stackSum","d3_layout_histogramBinSturges","d3_layout_histogramBinFixed","LN2","d3_layout_histogramRange","d3_layout_packSort","d3_layout_packInsert","_pack_next","_pack_prev","d3_layout_packSplice","d3_layout_packIntersects","dr","d3_layout_packSiblings","bound","d3_layout_packLink","d3_layout_packPlace","isect","s1","s2","d3_layout_packUnlink","d3_layout_packTransform","db","da","dc","d3_layout_treeSeparation","d3_layout_treeLeft","d3_layout_treeRight","d3_layout_treeMove","wm","wp","change","d3_layout_treeShift","d3_layout_treeAncestor","vim","ancestor","d3_layout_clusterY","d3_layout_clusterX","d3_layout_clusterLeft","d3_layout_clusterRight","d3_layout_treemapPadNull","d3_layout_treemapPad","d3_scaleExtent","d3_scaleRange","d3_scale_bilinear","uninterpolate","d3_scale_nice","nice","i1","d3_scale_niceStep","d3_scale_niceIdentity","d3_scale_polylinear","bisect","d3_scale_linear","clamp","rescale","rangeRound","d3_scale_linearTicks","d3_scale_linearTickFormat","d3_scale_linearNice","d3_scale_linearRebind","d3_scale_linearTickRange","d3_scale_linearPrecision","d3_scale_linearFormatPrecision","d3_scale_linearFormatSignificant","d3_scale_log","base","positive","niced","d3_scale_logNiceNegative","d3_scale_logFormat","d3_scale_pow","powp","d3_scale_powPow","powb","d3_scale_ordinal","ranger","xi","rangePoints","rangeRoundPoints","rangeBands","outerPadding","rangeRoundBands","d3_scale_quantile","thresholds","quantile","quantiles","invertExtent","d3_scale_quantize","d3_scale_threshold","d3_scale_identity","d3_zero","d3_svg_arcInnerRadius","d3_svg_arcOuterRadius","d3_svg_arcStartAngle","d3_svg_arcEndAngle","d3_svg_arcPadAngle","padAngle","d3_svg_arcSweep","d3_svg_arcCornerTangents","rc","cw","x01","y01","ox","oy","D","cx0","cx1","dx0","dy0","dx1","dy1","d3_svg_line","tension","d3_svg_lineLinear","interpolateKey","d3_svg_lineInterpolators","d3_svg_lineLinearClosed","d3_svg_lineStep","d3_svg_lineStepBefore","d3_svg_lineStepAfter","d3_svg_lineCardinalOpen","d3_svg_lineHermite","d3_svg_lineCardinalTangents","d3_svg_lineCardinalClosed","d3_svg_lineCardinal","tangents","pi","lp","p2","d3_svg_lineBasis","d3_svg_lineDot4","d3_svg_lineBasisBezier3","d3_svg_lineBasisBezier","d3_svg_lineBasisOpen","d3_svg_lineBasisClosed","d3_svg_lineBundle","d3_svg_lineBasisBezier1","d3_svg_lineBasisBezier2","d3_svg_lineSlope","d3_svg_lineFiniteDifferences","d3_svg_lineMonotoneTangents","d3_svg_lineMonotone","d3_svg_lineRadial","d3_svg_area","points1","interpolateReverse","points0","fx0","fy0","fx1","fy1","d3_svg_chordRadius","d3_svg_diagonalProjection","d3_svg_diagonalRadialProjection","d3_svg_symbolSize","d3_svg_symbolType","d3_svg_symbolCircle","d3_selection_interruptNS","lock","activeId","active","interrupt","d3_transition","d3_transitionPrototype","d3_transition_tween","tween","d3_transition_text","d3_transitionNamespace","d3_transitionNode","inherit","schedule","elapsed","cancelId","tweens","d3_svg_axisX","d3_svg_axisY","d3_time_formatIsoNative","toISOString","d3_time_scale","methods","tickMethod","d3_time_scaleSteps","d3_time_scaleMilliseconds","d3_time_scaleDate","skip","skipped","d3_json","d3_html","d3_document","createRange","selectNode","createContextualFragment","d3_arraySlice","d3_element_prototype","Element","d3_element_setAttribute","d3_element_setAttributeNS","d3_style_prototype","CSSStyleDeclaration","d3_style_setProperty","ascending","descending","sum","mean","median","numbers","variance","deviation","d3_bisect","bisectLeft","bisectRight","bisector","shuffle","permute","indexes","permutes","pairs","transpose","matrix","row","zip","entries","arrays","merged","nest","mapType","rollup","sortValues","keyValue","setter","valuesByKey","sortKey","sortKeys","d3_requote_re","querySelector","querySelectorAll","d3_selectMatcher","matches","Sizzle","matchesSelector","subgroup","subnode","subgroups","d3_nsPrefix","xhtml","getAttributeNS","contains","getComputedStyle","getPropertyValue","groupData","nodeData","updateNodes","enterNodes","exitNodes","nodeByKeyValue","keyValues","nextSibling","upgroup","mouseenter","mouseleave","touch","touches","mousedown","touchstart","move","moved","position1","dragId","position0","dragged","dragOffset","ended","dragSubject","dragName","dragRestore","correspondingElement","","SQRT2","2","4","interpolateZoom","ux0","uy0","w0","ux1","uy1","w1","coshr0","mousedowned","d3_behavior_zoomWheel","mousewheeled","dblclicked","touchstarted","view","scaleTo","translateTo","zoomTo","center0","zoomstarted","zooming","zoomed","zoomended","location0","mousemove","mouseup","d3_selection_interrupt","relocate","locations0","started","touchmove","touchend","changed","touchtime","distance0","l0","l1","distance1","zoomName","mousewheelTimer","translate0","d3_behavior_zoomDelta","shiftKey","d3_behavior_zoomInfinity","deltaY","deltaMode","wheelDelta","view1","d3_transitionInheritId","d3_hslPrototype","darker","d3_hclPrototype","d3_lab_K","d3_labPrototype","d3_rgbPrototype","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","functor","dsv","delimiter","typedResponse","formatRow","formatValue","reFormat","delimiterCode","EOF","eol","EOL","formatRows","fieldSet","fields","d3_formatPrefixes","fromCharCode","toPrecision","toExponential","getUTCDate","getUTCDay","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","setDate","d3_time_prototype","setUTCDate","setDay","setUTCDay","setUTCFullYear","setUTCHours","setMilliseconds","setUTCMilliseconds","setMinutes","setUTCMinutes","setMonth","setUTCMonth","setSeconds","setUTCSeconds","setTime","years","week","sunday","weeks","weekOfYear","-","numberFormat","timeFormat","d3_locale_enUS","geo","d3_adderTemp","d3_geo_streamObjectType","Feature","feature","FeatureCollection","features","Sphere","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection","geometries","d3_geo_areaSum","bounds","ranges","normal","equatorial","inflection","_","i","i","dSum","__","__","compareRanges","withinRange","best","conicEqualArea","albers","albersUsa","lower48Point","alaskaPoint","hawaiiPoint","lower48","alaska","hawaii","pointStream","lower48Stream","alaskaStream","hawaiiStream","d3_geo_pathAreaSum","d3_geo_pathBounds","contextStream","cacheStream","projectStream","projectionMutator","equirectangular","","sin","sin1","graticule","X0","DX","X1","Y0","DY","Y1","outline","majorExtent","minorExtent","majorStep","minorStep","greatArc","source_","target_","d3_geo_azimuthalEqualArea","coscos","azimuthalEqualArea","d3_geo_azimuthalEquidistant","azimuthalEquidistant","conicConformal","conicEquidistant","d3_geo_gnomonic","gnomonic","mercator","d3_geo_orthographic","orthographic","d3_geo_stereographic","stereographic","transverseMercator","geom","vertices","flippedPoints","upper","lower","skipLeft","skipRight","d3_geom_polygonPrototype","grandpa","uncle","sibling","voronoi","polygons","d3_geom_voronoiClipExtent","triangles","s0","delaunay","quadtree","nx","ny","insertChild","nPoint","x1_","y1_","x2_","y2_","compat","visit","interpolateRgb","interpolateObject","interpolateNumber","interpolateString","interpolateArray","d3_ease_default","d3_ease","poly","cubic","elastic","back","bounce","d3_ease_mode","out","in-out","out-in","interpolateHcl","interpolateHsl","interpolateLab","interpolateRound","baseVal","consolidate","d3_transformIdentity","interpolateTransform","bundle","chord","relayout","groupSums","groupIndex","subgroupIndex","chords","sortGroups","sortSubgroups","di","dj","subindex","sortChords","resort","repulse","dw","dn","theta2","chargeDistance2","dragmove","resume","distances","strengths","friction","linkDistance","d3_layout_forceLinkDistance","linkStrength","d3_layout_forceLinkStrength","d3_layout_forceChargeDistance2","gravity","weight","chargeDistance","theta","dimension","neighbors","stack","childs","revalue","partition","d3_layout_pieSortByValue","series","orders","d3_layout_stackOrders","d3_layout_stackOffsets","inside-out","sums","tops","bottoms","silhouette","wiggle","s3","o0","expand","zero","histogram","bin","bins","valuer","binner","frequency","pack","root0","root1","wrapTree","firstWalk","secondWalk","nodeSize","sizeNode","tx","separation","node1","queue","siblings","midpoint","apportion","vip","vop","vom","sip","sop","sim","som","previousNode","treemap","squarify","score","pad","remaining","worst","stickify","rmax","rmin","stickies","sticky","padFunction","padConstant","","","logNormal","bates","irwinHall","ordinal","d3_category10","category20","d3_category20","category20b","d3_category20b","category20c","d3_category20c","quantize","circleSegment","rp","ap","padRadius","d3_svg_arcAuto","h1","h0","cornerRadius","rc1","rc0","oc","kc","lc","t30","t12","t03","t21","linear-closed","step-before","step-after","basis","basis-open","basis-closed","cardinal","cardinal-open","cardinal-closed","monotone","radial","equals","curve","diagonal","p3","projection_","d3_svg_symbols","cross","diamond","d3_svg_symbolTan30","square","triangle-down","d3_svg_symbolSqrt3","triangle-up","symbolTypes","d3_transitionId","d3_transitionInherit","subnodes","nameNS","attrTweenNS","styleString","styleTween","inheritId","id0","id1","tickArguments_","tickFormat_","tickSpacing","lineEnter","textEnter","d3_svg_axisDefaultOrient","d3_svg_axisOrients","tickSize","tickSubdivide","brushstart","resizes","d3_svg_brushCursor","gUpdate","backgroundUpdate","redrawX","redrawY","xExtent","yExtent","keydown","keyup","brushmove","resizingX","move1","resizingY","yClamp","xClamp","yExtentDomain","xExtentDomain","brushend","eventTarget","resizing","d3_svg_brushResizes","extent1","extent0","yi","nw","ne","se","sw","d3_time_formatUtc","d3_time_formatIso","iso","second","seconds","minutes","timezone","hours","d3_time_scaleLocalMethods","d3_time_scaleLocalFormat","d3_time_scaleUtcMethods","d3_time_scaleUtcFormat","responseXML","_extends","navigateToItem","listingDetail","selectChanged","expandChanged","expanded","activeTab","loadedTabs","handleNavigateClick","handleExpandClick","willBeExpanded","tabIdx","tabPresence","handleSelectClick","handleTabClick","prevTab","prevTabPresence","expandToggle","allowNavigate","headerEntries","itm","tight","allowExpand","listingItemClasses","clickHandler","allowSelect","listingItem","data-row-id","Renderer","rendererData","idx","tabs","fullWidth","columnTitleClick","bodyClasses","headerClasses","headerRow","selectableRows","_vmDisksTab","_vmDisksTab2","_vmDiskSourceCell","_vmDiskSourceCell2","VmDisksTabLibvirt","areDiskStatsSupported","some","diskStats","used","diskSourceCell","diskSource","getDiskStatsSupport","prepareDiskData","renderCapacity","notificationText","getNotification","_inlineNotification","DiskTotal","StorageUnit","VmDiskCell","VmDisksTab","renderCapacityUsed","renderReadOnly","notification","Info","textId","idPrefixRow","Alert","InlineNotification","isDetail","toggleDetail","notificationClass","iconClass","onDismiss","detailButton","detailButtonText","dismissableClass","closeButton","aria-hidden","DiskSourceCell","addOptional","chunks","VmNetworkTab","checkDeviceAviability","Interface","sourceJump","jump","transport","onChangeState","addressPortSource","networkId","detailMap","setSourceClass","mapSource","additionalMap","isUp","column","_cockpitComponentsSelect","_cockpitComponentsSelect2","_serialConsole","_serialConsole2","_vnc","_vnc2","_desktopConsole","_desktopConsole2","VmNotRunning","ConsoleSelector","isSerialConsole","isDesktop","SelectEntry","StatelessSelect","extraClass","NoConsoleDefined","Consoles","consoleType","onConsoleTypeSelected","getDefaultConsole","onDesktopConsoleDownload","_props2","_props3","_props4","onDesktopConsole","VncActions","textForUndefined","documentClickHandler","handleDocumentClick","ev","liElement","elementData","getItemData","getItemValue","selectedEntries","selectedEntry","currentValue","buttonClasses","Select","currentData","initial","_React$Component3","data-value","data-data","SelectDivider","SelectHeader","_cockpitComponentsTerminal","SerialConsole","channel","focusTerminal","onResetClick","onDisconnectClick","createChannel","resetButton","disconnectButton","terminal","Terminal","disconnectDisabled","Term","onTitleChanged","term","screenKeys","connectChannel","onWindowResize","control","disconnectChannel","prevProps","onFocusIn","onFocusOut","onChannelMessage","write","onChannelClose","problem","cursorHidden","refresh","ch","parentElement","clientHeight","clientWidth","onBeforeUnload","returnValue","__WEBPACK_AMD_DEFINE_ARRAY__","EventEmitter","_events","Stream","defaults","_colors","setRawMode","isTTY","isRaw","ybase","ydisp","convertEol","scrollTop","scrollBottom","applicationKeypad","applicationCursor","originMode","insertMode","wraparoundMode","prefixMode","selectMode","visualMode","searchMode","searchDown","entryPrefix","_real","_selected","_textarea","charset","gcharset","glevel","charsets","decLocator","x10Mouse","vt200Mouse","vt300Mouse","normalMouse","mouseEvents","sendFocus","utfMouse","sgrMouse","urxvtMouse","refreshStart","refreshEnd","savedX","savedY","savedCols","readable","defAttr","curAttr","currentParam","postfix","blankLine","setupStops","isBoldBroken","scrollWidth","w2","isWide","matchColor","_cache","b2","ldiff","li","vcolors","iter","con","addListener","removeListener","removeAllListeners","once","emit","dest","unbind","ondata","onend","escaped","csi","osc","dcs","ignore","UDK","tangoColors","xtermColors","hex","termName","visualBell","popOnBell","scrollback","initGlobal","_boundDocs","bindPaste","bindKeys","bindCopy","isMobile","fixMobile","clipboardData","getData","srcElement","keyDown","keyPress","textarea","getCopyTextarea","grabText","setSelectionRange","backgroundColor","borderStyle","outlineStyle","autocapitalize","autocorrect","isAndroid","div","isMac","isIpad","isIphone","isMSIE","useEvents","useFocus","which","useMouse","bindMouse","brokenBold","sendButton","getButton","getCoords","sendEvent","pressed","wheelEvent","sendMove","encode","page","meta","ctrl","mod","wheelDeltaY","metaKey","ctrlKey","offsetLeft","offsetTop","scrollDisp","destroySoon","destroyed","_blink","fg","flags","showCursor","scroll","disp","cs","maxRange","lch","bell","nextStop","setgLevel","reverseIndex","setgCharset","US","saveCursor","restoreCursor","tabSet","SCLD","UK","Dutch","Finnish","French","FrenchCanadian","German","Italian","NorwegianDanish","Spanish","Swedish","Swiss","ISOLatin","handleTitle","cursorUp","cursorDown","cursorForward","cursorBackward","cursorPos","eraseInDisplay","eraseInLine","charAttributes","deviceStatus","insertChars","cursorNextLine","cursorPrecedingLine","cursorCharAbsolute","insertLines","deleteLines","deleteChars","eraseChars","charPosAbsolute","HPositionRelative","sendDeviceAttributes","linePosAbsolute","VPositionRelative","HVPosition","setMode","resetMode","setScrollRegion","cursorForwardTab","scrollUp","scrollDown","cursorBackwardTab","repeatPrecedingCharacter","tabClear","softReset","pt","clearAll","eraseBelow","lockKeys","dontLockKeys","keyList","part","hexKeyValue","writeln","ret","pause","enterPrefix","leavePrefix","leaveVisual","keySelect","keyPrefix","borderColor","prevStop","eraseAttr","eraseRight","eraseLeft","eraseLine","cur","col","initMouseTracking","resetTitleModes","mediaCopy","setResources","disableModifiers","setPointerMode","requestAnsiMode","requestPrivateMode","setConformanceLevel","loadLEDs","setCursorStyle","setCharProtectionAttr","restorePrivateValues","setAttrInRectangle","savePrivateValues","manipulateWindow","reverseAttrInRectangle","setTitleModeFeature","setWarningBellVolume","setMarginBellVolume","copyRectangle","enableFilterRectangle","requestParameters","selectChangeExtent","fillRectangle","enableLocatorReporting","eraseRectangle","setLocatorEvents","selectiveEraseRectangle","requestLocatorPosition","insertColumns","deleteColumns","enterSelect","copyBuffer","leaveSelect","enterVisual","preVisual","selectText","enterSearch","preSearch","preSearchX","preSearchY","leaveSearch","_copyTextarea","copyText","ox1","ox2","oy1","oy2","tmp","xl","old","buf","keySearch","oyd","yb","saw_space","saw_full","first_is_space","wrapped","`","{","|","}","~","Frame","novncContainerId","data-container-id","Vnc","vmIdPrefix","encrypt","MoreInformationInstallVariant","innerHtml","MoreInformationContent","msg1","msg2","downloadMsg","MoreInformation","getContent","_props$config","ProviderConsoleClientResources","ConnectWithRemoteViewer","onLaunch","ManualConnectionDetails","spiceAddress","spicePort","spiceTlsPort","vncPort","vncTlsPort","vncAddress","singleAddress","ManualConnection","isVNC","isSPICE","DesktopConsoleDownload","DeleteDialogBody","disk_row","alert","DropdownButtons","buttonsHtml","caretId","validateParams","sourceType","COCKPIT_FILESYSTEM_SOURCE","URL_SOURCE","_cockpitComponentsDialog2","_cockpitComponentsFileAutocomplete","_cockpitComponentsFileAutocomplete2","_createVmDialogUtils","WAIT_IF_SCRIPT_FAILS_WITH_ERROR","MemorySelectRow","initialUnit","onValueChange","onUnitChange","onKeyPress","CreateVM","vendor","memorySizeUnit","storageSizeUnit","onChangedValue","valueParams","notifyValuesChanged","valuesChanged","_setState","vendorMap","vendorSelectEntries","familyMap","DIVIDER_FAMILY","NOT_SPECIFIED","familyList","family","vendors","osEntries","getOSStringRepresentation","installationSource","installationSourceId","FileAutoComplete","onChangedEventValue","onChangedEventChecked","OTHER_OS_SHORT_ID","changeParams","prepareVendors","dialogBody","dialogProps","updateFiles","directory","directoryFiles","displayFiles","getDirectoryForValue","last","stateUpdate","updateIfDirectoryChanged","filterFiles","onChangeCallback","onMouseDown","selecting","onBlur","delayedOnChange","finishUpdate","sensitivity","inputLength","inputValue","dirLength","showAllOptions","selectItem","innerText","renderError","controlClasses","listItems","data-type","autocomplete","appendix","includes","codename","OTHER_OS","sort_family","sort_vendor","correctSpecialCases","LINUX","IGNORE_VENDORS","filterReleaseEolDates","sortByVersionOnly","compareDates","releaseDate","numeric","customVendorSort","eolDate","ACCEPT_RELEASE_DATES_AFTER","ACCEPT_EOL_DATES_AFTER","emptyFirst","WINDOWS","BSD","getBootOrder","bootDevice","_vmOverviewTab","_vmOverviewTab2","_vmLastMessage","_vmLastMessage2","VmOverviewTabLibvirt","commonTitles","MEMORY","CPUS","extraItems","Items","divider","colClass","VmOverviewTab","VmLastMessage","VmStateless","VmOS","VmCpu","VmMemory","VmDescription","NoVm","NoVmUnitialized","mem","vCpus","VmHost","cockpitUrl","baseTemplateName","runButton","runHereButton","ClusterVms","_config$providerState","NoTemplate","NoTemplateUnitialized","CreateVmFromTemplate","enterDetails","onDoCreateVm","onCreateVm","onCancel","onVmNameChanged","TemplateActions","Template","ClusterTemplates","VdsmConf","fileContent","reloadConfirmation","saveConfirmation","onSave","onSaveConfirmed","onSaveCanceled","onReload","onReloadConfirmed","onReloadCanceled","onEditorChange","doReload","doSave","reloadButton","saveButton","VdsmView","hostToMaintenanceDialog","showHostToMaintenanceDialog","hostToMaintenance","HostStatus"],"mappings":"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WAAA;wBACA;;oBAIA,YAAAinD,KAAA,QAAAA,KAAA,QAAAA,KAAA,QAAAA,GAAA;wBACArxK,KAAA80K,UAAAzD;wBACA;;oBAOA,IAJArxK,KAAA67B,OAAAtF,KAAAv2B,KAAA60K,eACA70K,KAAA60K,eAAA,GAGA,QAAAxD,GAAqB;oBAIrB,QAFArxK,KAAAoI,QAAA4pJ,GAEAqf;sBAGA;wBACArxK,KAAAw8K,SAAAx8K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAy8K,WAAAz8K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAA08K,cAAA18K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAA28K,eAAA38K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAA48K,UAAA58K,KAAA67B;wBACA;;sBAGA;wBACA77B,KAAA68K,eAAA78K,KAAA67B;wBACA;;sBAGA;wBACA77B,KAAA88K,YAAA98K,KAAA67B;wBACA;;sBAGA;wBACA77B,KAAAmN,UACAnN,KAAA+8K,eAAA/8K,KAAA67B;wBAEA;;sBAGA;wBACA77B,KAAAmN,UACAnN,KAAAg9K,aAAAh9K,KAAA67B;wBAEA;;sBAQA;wBACA77B,KAAAi9K,YAAAj9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAk9K,eAAAl9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAm9K,oBAAAn9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAo9K,mBAAAp9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAq9K,YAAAr9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAs9K,YAAAt9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAu9K,YAAAv9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAw9K,WAAAx9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAAy9K,gBAAAz9K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAA09K,kBAAA19K,KAAA67B;wBACA;;sBAMA;wBACA77B,KAAA29K,qBAAA39K,KAAA67B;wBACA;;sBAIA;wBACA77B,KAAA49K,gBAAA59K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","file":"ovirt/ovirt.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(10);\n\tmodule.exports = __webpack_require__(99);\n\n\n/***/ },\n/* 1 */,\n/* 2 */,\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t(function() {\n\t  \"use strict\";\n\t\n\t  document.addEventListener(\"DOMContentLoaded\", function() {\n\t    var vmsApp = __webpack_require__(11);\n\t    vmsApp.appMain();\n\t  });\n\t}());\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.appMain = appMain;\n\t\n\t__webpack_require__(12);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _store = __webpack_require__(14);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _provider = __webpack_require__(26);\n\t\n\tvar _provider2 = _interopRequireDefault(_provider);\n\t\n\tvar _App = __webpack_require__(57);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _provider3 = __webpack_require__(25);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tfunction render() {\n\t    _react2.default.render(_react2.default.createElement(_App2.default, { store: _store2.default }), document.getElementById('app'));\n\t}\n\t\n\t/**\n\t * Start the application.\n\t */\n\t// once per application\n\t\n\tfunction appMain() {\n\t    console.log(\"loading ovirt package\");\n\t    (0, _helpers.logDebug)('index.es6: initial state: ' + JSON.stringify(_store2.default.getState()));\n\t\n\t    (0, _provider3.setVirtProvider)(_provider2.default);\n\t\n\t    // re-render app every time the state changes\n\t    _store2.default.subscribe(render);\n\t\n\t    // do initial render\n\t    render();\n\t\n\t    // initiate data retrieval\n\t    _store2.default.dispatch((0, _actions.getAllVms)());\n\t}\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t/**\n\t This file contains various polyfills and other compatibility hacks\n\t */\n\t\n\t// for IE 11\n\tif (!String.prototype.startsWith) {\n\t    String.prototype.startsWith = function (searchString, position) {\n\t        position = position || 0;\n\t        return this.substr(position, searchString.length) === searchString;\n\t    };\n\t}\n\t\n\tif (!Array.prototype.findIndex) {\n\t    Array.prototype.findIndex = function (predicate) {\n\t        if (this === null) {\n\t            throw new TypeError('Array.prototype.findIndex called on null or undefined');\n\t        }\n\t        if (typeof predicate !== 'function') {\n\t            throw new TypeError('predicate must be a function');\n\t        }\n\t        var list = Object(this);\n\t        var length = list.length >>> 0;\n\t        var thisArg = arguments[1];\n\t        var value;\n\t\n\t        for (var i = 0; i < length; i++) {\n\t            value = list[i];\n\t            if (predicate.call(thisArg, value, i, list)) {\n\t                return i;\n\t            }\n\t        }\n\t        return -1;\n\t    };\n\t}\n\t\n\t// for IE 11\n\tif (typeof Object.assign != 'function') {\n\t    // Must be writable: true, enumerable: false, configurable: true\n\t    Object.defineProperty(Object, \"assign\", {\n\t        value: function assign(target, varArgs) { // .length of function is 2\n\t            'use strict';\n\t            if (target === null) { // TypeError if undefined or null\n\t                throw new TypeError('Cannot convert undefined or null to object');\n\t            }\n\t\n\t            var to = Object(target);\n\t\n\t            for (var index = 1; index < arguments.length; index++) {\n\t                var nextSource = arguments[index];\n\t\n\t                if (nextSource !== null) { // Skip over if undefined or null\n\t                    for (var nextKey in nextSource) {\n\t                        // Avoid bugs when hasOwnProperty is shadowed\n\t                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\t                            to[nextKey] = nextSource[nextKey];\n\t                        }\n\t                    }\n\t                }\n\t            }\n\t            return to;\n\t        },\n\t        writable: true,\n\t        configurable: true\n\t    });\n\t}\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * react-lite.js v0.15.39\n\t * (c) 2017 Jade Gu\n\t * Released under the MIT License.\n\t */\n\t(function (global, factory) {\n\t   true ? module.exports = factory() :\n\t  typeof define === 'function' && define.amd ? define(factory) :\n\t  global.React = factory();\n\t}(this, function () { 'use strict';\n\t\n\t  var HTML_KEY = 'dangerouslySetInnerHTML';\n\t  var SVGNamespaceURI = 'http://www.w3.org/2000/svg';\n\t  var COMPONENT_ID = 'liteid';\n\t  var VELEMENT = 2;\n\t  var VSTATELESS = 3;\n\t  var VCOMPONENT = 4;\n\t  var VCOMMENT = 5;\n\t  var ELEMENT_NODE_TYPE = 1;\n\t  var DOC_NODE_TYPE = 9;\n\t  var DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\t\n\t  /**\r\n\t   * current stateful component's refs property\r\n\t   * will attach to every vnode created by calling component.render method\r\n\t   */\n\t  var refs = null;\n\t\n\t  function createVnode(vtype, type, props, key, ref) {\n\t      var vnode = {\n\t          vtype: vtype,\n\t          type: type,\n\t          props: props,\n\t          refs: refs,\n\t          key: key,\n\t          ref: ref\n\t      };\n\t      if (vtype === VSTATELESS || vtype === VCOMPONENT) {\n\t          vnode.uid = getUid();\n\t      }\n\t      return vnode;\n\t  }\n\t\n\t  function initVnode(vnode, parentContext, namespaceURI) {\n\t      var vtype = vnode.vtype;\n\t\n\t      var node = null;\n\t      if (!vtype) {\n\t          // init text\n\t          node = document.createTextNode(vnode);\n\t      } else if (vtype === VELEMENT) {\n\t          // init element\n\t          node = initVelem(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VCOMPONENT) {\n\t          // init stateful component\n\t          node = initVcomponent(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VSTATELESS) {\n\t          // init stateless component\n\t          node = initVstateless(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VCOMMENT) {\n\t          // init comment\n\t          node = document.createComment('react-text: ' + (vnode.uid || getUid()));\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function updateVnode(vnode, newVnode, node, parentContext) {\n\t      var vtype = vnode.vtype;\n\t\n\t      if (vtype === VCOMPONENT) {\n\t          return updateVcomponent(vnode, newVnode, node, parentContext);\n\t      }\n\t\n\t      if (vtype === VSTATELESS) {\n\t          return updateVstateless(vnode, newVnode, node, parentContext);\n\t      }\n\t\n\t      // ignore VCOMMENT and other vtypes\n\t      if (vtype !== VELEMENT) {\n\t          return node;\n\t      }\n\t\n\t      var oldHtml = vnode.props[HTML_KEY] && vnode.props[HTML_KEY].__html;\n\t      if (oldHtml != null) {\n\t          updateVelem(vnode, newVnode, node, parentContext);\n\t          initVchildren(newVnode, node, parentContext);\n\t      } else {\n\t          updateVChildren(vnode, newVnode, node, parentContext);\n\t          updateVelem(vnode, newVnode, node, parentContext);\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function updateVChildren(vnode, newVnode, node, parentContext) {\n\t      var patches = {\n\t          removes: [],\n\t          updates: [],\n\t          creates: []\n\t      };\n\t      diffVchildren(patches, vnode, newVnode, node, parentContext);\n\t      flatEach(patches.removes, applyDestroy);\n\t      flatEach(patches.updates, applyUpdate);\n\t      flatEach(patches.creates, applyCreate);\n\t  }\n\t\n\t  function applyUpdate(data) {\n\t      if (!data) {\n\t          return;\n\t      }\n\t      var vnode = data.vnode;\n\t      var newNode = data.node;\n\t\n\t      // update\n\t      if (!data.shouldIgnore) {\n\t          if (!vnode.vtype) {\n\t              newNode.replaceData(0, newNode.length, data.newVnode);\n\t          } else if (vnode.vtype === VELEMENT) {\n\t              updateVelem(vnode, data.newVnode, newNode, data.parentContext);\n\t          } else if (vnode.vtype === VSTATELESS) {\n\t              newNode = updateVstateless(vnode, data.newVnode, newNode, data.parentContext);\n\t          } else if (vnode.vtype === VCOMPONENT) {\n\t              newNode = updateVcomponent(vnode, data.newVnode, newNode, data.parentContext);\n\t          }\n\t      }\n\t\n\t      // re-order\n\t      var currentNode = newNode.parentNode.childNodes[data.index];\n\t      if (currentNode !== newNode) {\n\t          newNode.parentNode.insertBefore(newNode, currentNode);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function applyDestroy(data) {\n\t      destroyVnode(data.vnode, data.node);\n\t      data.node.parentNode.removeChild(data.node);\n\t  }\n\t\n\t  function applyCreate(data) {\n\t      var node = initVnode(data.vnode, data.parentContext, data.parentNode.namespaceURI);\n\t      data.parentNode.insertBefore(node, data.parentNode.childNodes[data.index]);\n\t  }\n\t\n\t  /**\r\n\t   * Only vnode which has props.children need to call destroy function\r\n\t   * to check whether subTree has component that need to call lify-cycle method and release cache.\r\n\t   */\n\t\n\t  function destroyVnode(vnode, node) {\n\t      var vtype = vnode.vtype;\n\t\n\t      if (vtype === VELEMENT) {\n\t          // destroy element\n\t          destroyVelem(vnode, node);\n\t      } else if (vtype === VCOMPONENT) {\n\t          // destroy state component\n\t          destroyVcomponent(vnode, node);\n\t      } else if (vtype === VSTATELESS) {\n\t          // destroy stateless component\n\t          destroyVstateless(vnode, node);\n\t      }\n\t  }\n\t\n\t  function initVelem(velem, parentContext, namespaceURI) {\n\t      var type = velem.type;\n\t      var props = velem.props;\n\t\n\t      var node = null;\n\t\n\t      if (type === 'svg' || namespaceURI === SVGNamespaceURI) {\n\t          node = document.createElementNS(SVGNamespaceURI, type);\n\t          namespaceURI = SVGNamespaceURI;\n\t      } else {\n\t          node = document.createElement(type);\n\t      }\n\t\n\t      initVchildren(velem, node, parentContext);\n\t\n\t      var isCustomComponent = type.indexOf('-') >= 0 || props.is != null;\n\t      setProps(node, props, isCustomComponent);\n\t\n\t      if (velem.ref != null) {\n\t          addItem(pendingRefs, velem);\n\t          addItem(pendingRefs, node);\n\t      }\n\t\n\t      return node;\n\t  }\n\t\n\t  function initVchildren(velem, node, parentContext) {\n\t      var vchildren = node.vchildren = getFlattenChildren(velem);\n\t      var namespaceURI = node.namespaceURI;\n\t      for (var i = 0, len = vchildren.length; i < len; i++) {\n\t          node.appendChild(initVnode(vchildren[i], parentContext, namespaceURI));\n\t      }\n\t  }\n\t\n\t  function getFlattenChildren(vnode) {\n\t      var children = vnode.props.children;\n\t\n\t      var vchildren = [];\n\t      if (isArr(children)) {\n\t          flatEach(children, collectChild, vchildren);\n\t      } else {\n\t          collectChild(children, vchildren);\n\t      }\n\t      return vchildren;\n\t  }\n\t\n\t  function collectChild(child, children) {\n\t      if (child != null && typeof child !== 'boolean') {\n\t          if (!child.vtype) {\n\t              // convert immutablejs data\n\t              if (child.toJS) {\n\t                  child = child.toJS();\n\t                  if (isArr(child)) {\n\t                      flatEach(child, collectChild, children);\n\t                  } else {\n\t                      collectChild(child, children);\n\t                  }\n\t                  return;\n\t              }\n\t              child = '' + child;\n\t          }\n\t          children[children.length] = child;\n\t      }\n\t  }\n\t\n\t  function diffVchildren(patches, vnode, newVnode, node, parentContext) {\n\t      if (!node.vchildren) return; // react-lite hasn't seen this DOM node before\n\t\n\t      var childNodes = node.childNodes;\n\t      var vchildren = node.vchildren;\n\t\n\t      var newVchildren = node.vchildren = getFlattenChildren(newVnode);\n\t      var vchildrenLen = vchildren.length;\n\t      var newVchildrenLen = newVchildren.length;\n\t\n\t      if (vchildrenLen === 0) {\n\t          if (newVchildrenLen > 0) {\n\t              for (var i = 0; i < newVchildrenLen; i++) {\n\t                  addItem(patches.creates, {\n\t                      vnode: newVchildren[i],\n\t                      parentNode: node,\n\t                      parentContext: parentContext,\n\t                      index: i\n\t                  });\n\t              }\n\t          }\n\t          return;\n\t      } else if (newVchildrenLen === 0) {\n\t          for (var i = 0; i < vchildrenLen; i++) {\n\t              addItem(patches.removes, {\n\t                  vnode: vchildren[i],\n\t                  node: childNodes[i]\n\t              });\n\t          }\n\t          return;\n\t      }\n\t\n\t      var updates = Array(newVchildrenLen);\n\t      var removes = null;\n\t      var creates = null;\n\t\n\t      // isEqual\n\t      for (var i = 0; i < vchildrenLen; i++) {\n\t          var _vnode = vchildren[i];\n\t          for (var j = 0; j < newVchildrenLen; j++) {\n\t              if (updates[j]) {\n\t                  continue;\n\t              }\n\t              var _newVnode = newVchildren[j];\n\t              if (_vnode === _newVnode) {\n\t                  updates[j] = {\n\t                      shouldIgnore: shouldIgnoreUpdate(node),\n\t                      vnode: _vnode,\n\t                      newVnode: _newVnode,\n\t                      node: childNodes[i],\n\t                      parentContext: parentContext,\n\t                      index: j\n\t                  };\n\t                  vchildren[i] = null;\n\t                  break;\n\t              }\n\t          }\n\t      }\n\t\n\t      // isSimilar\n\t      for (var i = 0; i < vchildrenLen; i++) {\n\t          var _vnode2 = vchildren[i];\n\t          if (_vnode2 === null) {\n\t              continue;\n\t          }\n\t          var shouldRemove = true;\n\t          for (var j = 0; j < newVchildrenLen; j++) {\n\t              if (updates[j]) {\n\t                  continue;\n\t              }\n\t              var _newVnode2 = newVchildren[j];\n\t              if (_newVnode2.type === _vnode2.type && _newVnode2.key === _vnode2.key && _newVnode2.refs === _vnode2.refs) {\n\t                  updates[j] = {\n\t                      vnode: _vnode2,\n\t                      newVnode: _newVnode2,\n\t                      node: childNodes[i],\n\t                      parentContext: parentContext,\n\t                      index: j\n\t                  };\n\t                  shouldRemove = false;\n\t                  break;\n\t              }\n\t          }\n\t          if (shouldRemove) {\n\t              if (!removes) {\n\t                  removes = [];\n\t              }\n\t              addItem(removes, {\n\t                  vnode: _vnode2,\n\t                  node: childNodes[i]\n\t              });\n\t          }\n\t      }\n\t\n\t      for (var i = 0; i < newVchildrenLen; i++) {\n\t          var item = updates[i];\n\t          if (!item) {\n\t              if (!creates) {\n\t                  creates = [];\n\t              }\n\t              addItem(creates, {\n\t                  vnode: newVchildren[i],\n\t                  parentNode: node,\n\t                  parentContext: parentContext,\n\t                  index: i\n\t              });\n\t          } else if (item.vnode.vtype === VELEMENT) {\n\t              diffVchildren(patches, item.vnode, item.newVnode, item.node, item.parentContext);\n\t          }\n\t      }\n\t\n\t      if (removes) {\n\t          addItem(patches.removes, removes);\n\t      }\n\t      if (creates) {\n\t          addItem(patches.creates, creates);\n\t      }\n\t      addItem(patches.updates, updates);\n\t  }\n\t\n\t  function updateVelem(velem, newVelem, node) {\n\t      var isCustomComponent = velem.type.indexOf('-') >= 0 || velem.props.is != null;\n\t      patchProps(node, velem.props, newVelem.props, isCustomComponent);\n\t      if (velem.ref !== newVelem.ref) {\n\t          detachRef(velem.refs, velem.ref, node);\n\t          attachRef(newVelem.refs, newVelem.ref, node);\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function destroyVelem(velem, node) {\n\t      var props = velem.props;\n\t      var vchildren = node.vchildren;\n\t      var childNodes = node.childNodes;\n\t\n\t      if (vchildren) {\n\t          for (var i = 0, len = vchildren.length; i < len; i++) {\n\t              destroyVnode(vchildren[i], childNodes[i]);\n\t          }\n\t      }\n\t      detachRef(velem.refs, velem.ref, node);\n\t      node.eventStore = node.vchildren = null;\n\t  }\n\t\n\t  function initVstateless(vstateless, parentContext, namespaceURI) {\n\t      var vnode = renderVstateless(vstateless, parentContext);\n\t      var node = initVnode(vnode, parentContext, namespaceURI);\n\t      node.cache = node.cache || {};\n\t      node.cache[vstateless.uid] = vnode;\n\t      return node;\n\t  }\n\t\n\t  function updateVstateless(vstateless, newVstateless, node, parentContext) {\n\t      var uid = vstateless.uid;\n\t      var vnode = node.cache[uid];\n\t      delete node.cache[uid];\n\t      var newVnode = renderVstateless(newVstateless, parentContext);\n\t      var newNode = compareTwoVnodes(vnode, newVnode, node, parentContext);\n\t      newNode.cache = newNode.cache || {};\n\t      newNode.cache[newVstateless.uid] = newVnode;\n\t      if (newNode !== node) {\n\t          syncCache(newNode.cache, node.cache, newNode);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function destroyVstateless(vstateless, node) {\n\t      var uid = vstateless.uid;\n\t      var vnode = node.cache[uid];\n\t      delete node.cache[uid];\n\t      destroyVnode(vnode, node);\n\t  }\n\t\n\t  function renderVstateless(vstateless, parentContext) {\n\t      var factory = vstateless.type;\n\t      var props = vstateless.props;\n\t\n\t      var componentContext = getContextByTypes(parentContext, factory.contextTypes);\n\t      var vnode = factory(props, componentContext);\n\t      if (vnode && vnode.render) {\n\t          vnode = vnode.render();\n\t      }\n\t      if (vnode === null || vnode === false) {\n\t          vnode = createVnode(VCOMMENT);\n\t      } else if (!vnode || !vnode.vtype) {\n\t          throw new Error('@' + factory.name + '#render:You may have returned undefined, an array or some other invalid object');\n\t      }\n\t      return vnode;\n\t  }\n\t\n\t  function initVcomponent(vcomponent, parentContext, namespaceURI) {\n\t      var Component = vcomponent.type;\n\t      var props = vcomponent.props;\n\t      var uid = vcomponent.uid;\n\t\n\t      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n\t      var component = new Component(props, componentContext);\n\t      var updater = component.$updater;\n\t      var cache = component.$cache;\n\t\n\t      cache.parentContext = parentContext;\n\t      updater.isPending = true;\n\t      component.props = component.props || props;\n\t      component.context = component.context || componentContext;\n\t      if (component.componentWillMount) {\n\t          component.componentWillMount();\n\t          component.state = updater.getState();\n\t      }\n\t      var vnode = renderComponent(component);\n\t      var node = initVnode(vnode, getChildContext(component, parentContext), namespaceURI);\n\t      node.cache = node.cache || {};\n\t      node.cache[uid] = component;\n\t      cache.vnode = vnode;\n\t      cache.node = node;\n\t      cache.isMounted = true;\n\t      addItem(pendingComponents, component);\n\t\n\t      if (vcomponent.ref != null) {\n\t          addItem(pendingRefs, vcomponent);\n\t          addItem(pendingRefs, component);\n\t      }\n\t\n\t      return node;\n\t  }\n\t\n\t  function updateVcomponent(vcomponent, newVcomponent, node, parentContext) {\n\t      var uid = vcomponent.uid;\n\t      var component = node.cache[uid];\n\t      var updater = component.$updater;\n\t      var cache = component.$cache;\n\t      var Component = newVcomponent.type;\n\t      var nextProps = newVcomponent.props;\n\t\n\t      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n\t      delete node.cache[uid];\n\t      node.cache[newVcomponent.uid] = component;\n\t      cache.parentContext = parentContext;\n\t      if (component.componentWillReceiveProps) {\n\t          var needToggleIsPending = !updater.isPending;\n\t          if (needToggleIsPending) updater.isPending = true;\n\t          component.componentWillReceiveProps(nextProps, componentContext);\n\t          if (needToggleIsPending) updater.isPending = false;\n\t      }\n\t\n\t      if (vcomponent.ref !== newVcomponent.ref) {\n\t          detachRef(vcomponent.refs, vcomponent.ref, component);\n\t          attachRef(newVcomponent.refs, newVcomponent.ref, component);\n\t      }\n\t\n\t      updater.emitUpdate(nextProps, componentContext);\n\t\n\t      return cache.node;\n\t  }\n\t\n\t  function destroyVcomponent(vcomponent, node) {\n\t      var uid = vcomponent.uid;\n\t      var component = node.cache[uid];\n\t      var cache = component.$cache;\n\t      delete node.cache[uid];\n\t      detachRef(vcomponent.refs, vcomponent.ref, component);\n\t      component.setState = component.forceUpdate = noop;\n\t      if (component.componentWillUnmount) {\n\t          component.componentWillUnmount();\n\t      }\n\t      destroyVnode(cache.vnode, node);\n\t      delete component.setState;\n\t      cache.isMounted = false;\n\t      cache.node = cache.parentContext = cache.vnode = component.refs = component.context = null;\n\t  }\n\t\n\t  function getContextByTypes(curContext, contextTypes) {\n\t      var context = {};\n\t      if (!contextTypes || !curContext) {\n\t          return context;\n\t      }\n\t      for (var key in contextTypes) {\n\t          if (contextTypes.hasOwnProperty(key)) {\n\t              context[key] = curContext[key];\n\t          }\n\t      }\n\t      return context;\n\t  }\n\t\n\t  function renderComponent(component, parentContext) {\n\t      refs = component.refs;\n\t      var vnode = component.render();\n\t      if (vnode === null || vnode === false) {\n\t          vnode = createVnode(VCOMMENT);\n\t      } else if (!vnode || !vnode.vtype) {\n\t          throw new Error('@' + component.constructor.name + '#render:You may have returned undefined, an array or some other invalid object');\n\t      }\n\t      refs = null;\n\t      return vnode;\n\t  }\n\t\n\t  function getChildContext(component, parentContext) {\n\t      if (component.getChildContext) {\n\t          var curContext = component.getChildContext();\n\t          if (curContext) {\n\t              parentContext = extend(extend({}, parentContext), curContext);\n\t          }\n\t      }\n\t      return parentContext;\n\t  }\n\t\n\t  var pendingComponents = [];\n\t  function clearPendingComponents() {\n\t      var len = pendingComponents.length;\n\t      if (!len) {\n\t          return;\n\t      }\n\t      var components = pendingComponents;\n\t      pendingComponents = [];\n\t      var i = -1;\n\t      while (len--) {\n\t          var component = components[++i];\n\t          var updater = component.$updater;\n\t          if (component.componentDidMount) {\n\t              component.componentDidMount();\n\t          }\n\t          updater.isPending = false;\n\t          updater.emitUpdate();\n\t      }\n\t  }\n\t\n\t  var pendingRefs = [];\n\t  function clearPendingRefs() {\n\t      var len = pendingRefs.length;\n\t      if (!len) {\n\t          return;\n\t      }\n\t      var list = pendingRefs;\n\t      pendingRefs = [];\n\t      for (var i = 0; i < len; i += 2) {\n\t          var vnode = list[i];\n\t          var refValue = list[i + 1];\n\t          attachRef(vnode.refs, vnode.ref, refValue);\n\t      }\n\t  }\n\t\n\t  function clearPending() {\n\t      clearPendingRefs();\n\t      clearPendingComponents();\n\t  }\n\t\n\t  function compareTwoVnodes(vnode, newVnode, node, parentContext) {\n\t      var newNode = node;\n\t      if (newVnode == null) {\n\t          // remove\n\t          destroyVnode(vnode, node);\n\t          node.parentNode.removeChild(node);\n\t      } else if (vnode.type !== newVnode.type || vnode.key !== newVnode.key) {\n\t          // replace\n\t          destroyVnode(vnode, node);\n\t          newNode = initVnode(newVnode, parentContext, node.namespaceURI);\n\t          node.parentNode.replaceChild(newNode, node);\n\t      } else if (vnode !== newVnode || parentContext) {\n\t          // same type and same key -> update\n\t          newNode = updateVnode(vnode, newVnode, node, parentContext);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function getDOMNode() {\n\t      return this;\n\t  }\n\t\n\t  function attachRef(refs, refKey, refValue) {\n\t      if (refKey == null || !refValue) {\n\t          return;\n\t      }\n\t      if (refValue.nodeName && !refValue.getDOMNode) {\n\t          // support react v0.13 style: this.refs.myInput.getDOMNode()\n\t          refValue.getDOMNode = getDOMNode;\n\t      }\n\t      if (isFn(refKey)) {\n\t          refKey(refValue);\n\t      } else if (refs) {\n\t          refs[refKey] = refValue;\n\t      }\n\t  }\n\t\n\t  function detachRef(refs, refKey, refValue) {\n\t      if (refKey == null) {\n\t          return;\n\t      }\n\t      if (isFn(refKey)) {\n\t          refKey(null);\n\t      } else if (refs && refs[refKey] === refValue) {\n\t          delete refs[refKey];\n\t      }\n\t  }\n\t\n\t  function syncCache(cache, oldCache, node) {\n\t      for (var key in oldCache) {\n\t          if (!oldCache.hasOwnProperty(key)) {\n\t              continue;\n\t          }\n\t          var value = oldCache[key];\n\t          cache[key] = value;\n\t\n\t          // is component, update component.$cache.node\n\t          if (value.forceUpdate) {\n\t              value.$cache.node = node;\n\t          }\n\t      }\n\t  }\n\t\n\t  function shouldIgnoreUpdate(node) {\n\t      var vchildren = node.vchildren;\n\t      var children = node.children;\n\t\n\t      if (vchildren) {\n\t          for (var i = 0; i < vchildren.length; i++) {\n\t              var vchild = vchildren[i];\n\t              if (vchild.vtype === VCOMPONENT || vchild.vtype === VSTATELESS) {\n\t                  if (vchild.type.contextTypes) {\n\t                      return false;\n\t                  }\n\t              }\n\t          }\n\t      }\n\t\n\t      if (children) {\n\t          for (var i = 0; i < children.length; i++) {\n\t              if (!shouldIgnoreUpdate(children[i])) {\n\t                  return false;\n\t              }\n\t          }\n\t      }\n\t\n\t      return true;\n\t  }\n\t\n\t  var updateQueue = {\n\t  \tupdaters: [],\n\t  \tisPending: false,\n\t  \tadd: function add(updater) {\n\t  \t\taddItem(this.updaters, updater);\n\t  \t},\n\t  \tbatchUpdate: function batchUpdate() {\n\t  \t\tif (this.isPending) {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tthis.isPending = true;\n\t  \t\t/*\r\n\t     each updater.update may add new updater to updateQueue\r\n\t     clear them with a loop\r\n\t     event bubbles from bottom-level to top-level\r\n\t     reverse the updater order can merge some props and state and reduce the refresh times\r\n\t     see Updater.update method below to know why\r\n\t    */\n\t  \t\tvar updaters = this.updaters;\n\t\n\t  \t\tvar updater = undefined;\n\t  \t\twhile (updater = updaters.pop()) {\n\t  \t\t\tupdater.updateComponent();\n\t  \t\t}\n\t  \t\tthis.isPending = false;\n\t  \t}\n\t  };\n\t\n\t  function Updater(instance) {\n\t  \tthis.instance = instance;\n\t  \tthis.pendingStates = [];\n\t  \tthis.pendingCallbacks = [];\n\t  \tthis.isPending = false;\n\t  \tthis.nextProps = this.nextContext = null;\n\t  \tthis.clearCallbacks = this.clearCallbacks.bind(this);\n\t  }\n\t\n\t  Updater.prototype = {\n\t  \temitUpdate: function emitUpdate(nextProps, nextContext) {\n\t  \t\tthis.nextProps = nextProps;\n\t  \t\tthis.nextContext = nextContext;\n\t  \t\t// receive nextProps!! should update immediately\n\t  \t\tnextProps || !updateQueue.isPending ? this.updateComponent() : updateQueue.add(this);\n\t  \t},\n\t  \tupdateComponent: function updateComponent() {\n\t  \t\tvar instance = this.instance;\n\t  \t\tvar pendingStates = this.pendingStates;\n\t  \t\tvar nextProps = this.nextProps;\n\t  \t\tvar nextContext = this.nextContext;\n\t\n\t  \t\tif (nextProps || pendingStates.length > 0) {\n\t  \t\t\tnextProps = nextProps || instance.props;\n\t  \t\t\tnextContext = nextContext || instance.context;\n\t  \t\t\tthis.nextProps = this.nextContext = null;\n\t  \t\t\t// merge the nextProps and nextState and update by one time\n\t  \t\t\tshouldUpdate(instance, nextProps, this.getState(), nextContext, this.clearCallbacks);\n\t  \t\t}\n\t  \t},\n\t  \taddState: function addState(nextState) {\n\t  \t\tif (nextState) {\n\t  \t\t\taddItem(this.pendingStates, nextState);\n\t  \t\t\tif (!this.isPending) {\n\t  \t\t\t\tthis.emitUpdate();\n\t  \t\t\t}\n\t  \t\t}\n\t  \t},\n\t  \treplaceState: function replaceState(nextState) {\n\t  \t\tvar pendingStates = this.pendingStates;\n\t\n\t  \t\tpendingStates.pop();\n\t  \t\t// push special params to point out should replace state\n\t  \t\taddItem(pendingStates, [nextState]);\n\t  \t},\n\t  \tgetState: function getState() {\n\t  \t\tvar instance = this.instance;\n\t  \t\tvar pendingStates = this.pendingStates;\n\t  \t\tvar state = instance.state;\n\t  \t\tvar props = instance.props;\n\t\n\t  \t\tif (pendingStates.length) {\n\t  \t\t\tstate = extend({}, state);\n\t  \t\t\tpendingStates.forEach(function (nextState) {\n\t  \t\t\t\tvar isReplace = isArr(nextState);\n\t  \t\t\t\tif (isReplace) {\n\t  \t\t\t\t\tnextState = nextState[0];\n\t  \t\t\t\t}\n\t  \t\t\t\tif (isFn(nextState)) {\n\t  \t\t\t\t\tnextState = nextState.call(instance, state, props);\n\t  \t\t\t\t}\n\t  \t\t\t\t// replace state\n\t  \t\t\t\tif (isReplace) {\n\t  \t\t\t\t\tstate = extend({}, nextState);\n\t  \t\t\t\t} else {\n\t  \t\t\t\t\textend(state, nextState);\n\t  \t\t\t\t}\n\t  \t\t\t});\n\t  \t\t\tpendingStates.length = 0;\n\t  \t\t}\n\t  \t\treturn state;\n\t  \t},\n\t  \tclearCallbacks: function clearCallbacks() {\n\t  \t\tvar pendingCallbacks = this.pendingCallbacks;\n\t  \t\tvar instance = this.instance;\n\t\n\t  \t\tif (pendingCallbacks.length > 0) {\n\t  \t\t\tthis.pendingCallbacks = [];\n\t  \t\t\tpendingCallbacks.forEach(function (callback) {\n\t  \t\t\t\treturn callback.call(instance);\n\t  \t\t\t});\n\t  \t\t}\n\t  \t},\n\t  \taddCallback: function addCallback(callback) {\n\t  \t\tif (isFn(callback)) {\n\t  \t\t\taddItem(this.pendingCallbacks, callback);\n\t  \t\t}\n\t  \t}\n\t  };\n\t  function Component(props, context) {\n\t  \tthis.$updater = new Updater(this);\n\t  \tthis.$cache = { isMounted: false };\n\t  \tthis.props = props;\n\t  \tthis.state = {};\n\t  \tthis.refs = {};\n\t  \tthis.context = context;\n\t  }\n\t\n\t  var ReactComponentSymbol = {};\n\t\n\t  Component.prototype = {\n\t  \tconstructor: Component,\n\t  \tisReactComponent: ReactComponentSymbol,\n\t  \t// getChildContext: _.noop,\n\t  \t// componentWillUpdate: _.noop,\n\t  \t// componentDidUpdate: _.noop,\n\t  \t// componentWillReceiveProps: _.noop,\n\t  \t// componentWillMount: _.noop,\n\t  \t// componentDidMount: _.noop,\n\t  \t// componentWillUnmount: _.noop,\n\t  \t// shouldComponentUpdate(nextProps, nextState) {\n\t  \t// \treturn true\n\t  \t// },\n\t  \tforceUpdate: function forceUpdate(callback) {\n\t  \t\tvar $updater = this.$updater;\n\t  \t\tvar $cache = this.$cache;\n\t  \t\tvar props = this.props;\n\t  \t\tvar state = this.state;\n\t  \t\tvar context = this.context;\n\t\n\t  \t\tif (!$cache.isMounted) {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\t// if updater is pending, add state to trigger nexttick update\n\t  \t\tif ($updater.isPending) {\n\t  \t\t\t$updater.addState(state);\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tvar nextProps = $cache.props || props;\n\t  \t\tvar nextState = $cache.state || state;\n\t  \t\tvar nextContext = $cache.context || context;\n\t  \t\tvar parentContext = $cache.parentContext;\n\t  \t\tvar node = $cache.node;\n\t  \t\tvar vnode = $cache.vnode;\n\t  \t\t$cache.props = $cache.state = $cache.context = null;\n\t  \t\t$updater.isPending = true;\n\t  \t\tif (this.componentWillUpdate) {\n\t  \t\t\tthis.componentWillUpdate(nextProps, nextState, nextContext);\n\t  \t\t}\n\t  \t\tthis.state = nextState;\n\t  \t\tthis.props = nextProps;\n\t  \t\tthis.context = nextContext;\n\t  \t\tvar newVnode = renderComponent(this);\n\t  \t\tvar newNode = compareTwoVnodes(vnode, newVnode, node, getChildContext(this, parentContext));\n\t  \t\tif (newNode !== node) {\n\t  \t\t\tnewNode.cache = newNode.cache || {};\n\t  \t\t\tsyncCache(newNode.cache, node.cache, newNode);\n\t  \t\t}\n\t  \t\t$cache.vnode = newVnode;\n\t  \t\t$cache.node = newNode;\n\t  \t\tclearPending();\n\t  \t\tif (this.componentDidUpdate) {\n\t  \t\t\tthis.componentDidUpdate(props, state, context);\n\t  \t\t}\n\t  \t\tif (callback) {\n\t  \t\t\tcallback.call(this);\n\t  \t\t}\n\t  \t\t$updater.isPending = false;\n\t  \t\t$updater.emitUpdate();\n\t  \t},\n\t  \tsetState: function setState(nextState, callback) {\n\t  \t\tvar $updater = this.$updater;\n\t\n\t  \t\t$updater.addCallback(callback);\n\t  \t\t$updater.addState(nextState);\n\t  \t},\n\t  \treplaceState: function replaceState(nextState, callback) {\n\t  \t\tvar $updater = this.$updater;\n\t\n\t  \t\t$updater.addCallback(callback);\n\t  \t\t$updater.replaceState(nextState);\n\t  \t},\n\t  \tgetDOMNode: function getDOMNode() {\n\t  \t\tvar node = this.$cache.node;\n\t  \t\treturn node && node.nodeName === '#comment' ? null : node;\n\t  \t},\n\t  \tisMounted: function isMounted() {\n\t  \t\treturn this.$cache.isMounted;\n\t  \t}\n\t  };\n\t\n\t  function shouldUpdate(component, nextProps, nextState, nextContext, callback) {\n\t  \tvar shouldComponentUpdate = true;\n\t  \tif (component.shouldComponentUpdate) {\n\t  \t\tshouldComponentUpdate = component.shouldComponentUpdate(nextProps, nextState, nextContext);\n\t  \t}\n\t  \tif (shouldComponentUpdate === false) {\n\t  \t\tcomponent.props = nextProps;\n\t  \t\tcomponent.state = nextState;\n\t  \t\tcomponent.context = nextContext || {};\n\t  \t\treturn;\n\t  \t}\n\t  \tvar cache = component.$cache;\n\t  \tcache.props = nextProps;\n\t  \tcache.state = nextState;\n\t  \tcache.context = nextContext || {};\n\t  \tcomponent.forceUpdate(callback);\n\t  }\n\t\n\t  // event config\n\t  var unbubbleEvents = {\n\t      /**\r\n\t       * should not bind mousemove in document scope\r\n\t       * even though mousemove event can bubble\r\n\t       */\n\t      onmousemove: 1,\n\t      ontouchmove: 1,\n\t      onmouseleave: 1,\n\t      onmouseenter: 1,\n\t      onload: 1,\n\t      onunload: 1,\n\t      onscroll: 1,\n\t      onfocus: 1,\n\t      onblur: 1,\n\t      onrowexit: 1,\n\t      onbeforeunload: 1,\n\t      onstop: 1,\n\t      ondragdrop: 1,\n\t      ondragenter: 1,\n\t      ondragexit: 1,\n\t      ondraggesture: 1,\n\t      ondragover: 1,\n\t      oncontextmenu: 1,\n\t      onerror: 1,\n\t\n\t      // media event\n\t      onabort: 1,\n\t      oncanplay: 1,\n\t      oncanplaythrough: 1,\n\t      ondurationchange: 1,\n\t      onemptied: 1,\n\t      onended: 1,\n\t      onloadeddata: 1,\n\t      onloadedmetadata: 1,\n\t      onloadstart: 1,\n\t      onencrypted: 1,\n\t      onpause: 1,\n\t      onplay: 1,\n\t      onplaying: 1,\n\t      onprogress: 1,\n\t      onratechange: 1,\n\t      onseeking: 1,\n\t      onseeked: 1,\n\t      onstalled: 1,\n\t      onsuspend: 1,\n\t      ontimeupdate: 1,\n\t      onvolumechange: 1,\n\t      onwaiting: 1\n\t  };\n\t\n\t  function getEventName(key) {\n\t      if (key === 'onDoubleClick') {\n\t          key = 'ondblclick';\n\t      } else if (key === 'onTouchTap') {\n\t          key = 'onclick';\n\t      }\n\t\n\t      return key.toLowerCase();\n\t  }\n\t\n\t  // Mobile Safari does not fire properly bubble click events on\n\t  // non-interactive elements, which means delegated click listeners do not\n\t  // fire. The workaround for this bug involves attaching an empty click\n\t  // listener on the target node.\n\t  var inMobile = ('ontouchstart' in document);\n\t  var emptyFunction = function emptyFunction() {};\n\t  var ON_CLICK_KEY = 'onclick';\n\t\n\t  var eventTypes = {};\n\t\n\t  function addEvent(elem, eventType, listener) {\n\t      eventType = getEventName(eventType);\n\t\n\t      var eventStore = elem.eventStore || (elem.eventStore = {});\n\t      eventStore[eventType] = listener;\n\t\n\t      if (unbubbleEvents[eventType] === 1) {\n\t          elem[eventType] = dispatchUnbubbleEvent;\n\t          return;\n\t      } else if (!eventTypes[eventType]) {\n\t          // onclick -> click\n\t          document.addEventListener(eventType.substr(2), dispatchEvent, false);\n\t          eventTypes[eventType] = true;\n\t      }\n\t\n\t      if (inMobile && eventType === ON_CLICK_KEY) {\n\t          elem.addEventListener('click', emptyFunction, false);\n\t          return;\n\t      }\n\t\n\t      var nodeName = elem.nodeName;\n\t\n\t      if (eventType === 'onchange' && supportInputEvent(elem)) {\n\t          addEvent(elem, 'oninput', listener);\n\t      }\n\t  }\n\t\n\t  function removeEvent(elem, eventType) {\n\t      eventType = getEventName(eventType);\n\t\n\t      var eventStore = elem.eventStore || (elem.eventStore = {});\n\t      delete eventStore[eventType];\n\t\n\t      if (unbubbleEvents[eventType] === 1) {\n\t          elem[eventType] = null;\n\t          return;\n\t      } else if (inMobile && eventType === ON_CLICK_KEY) {\n\t          elem.removeEventListener('click', emptyFunction, false);\n\t          return;\n\t      }\n\t\n\t      var nodeName = elem.nodeName;\n\t\n\t      if (eventType === 'onchange' && supportInputEvent(elem)) {\n\t          delete eventStore['oninput'];\n\t      }\n\t  }\n\t\n\t  function dispatchEvent(event) {\n\t      var target = event.target;\n\t      var type = event.type;\n\t\n\t      var eventType = 'on' + type;\n\t      var syntheticEvent = undefined;\n\t\n\t      updateQueue.isPending = true;\n\t      while (target) {\n\t          var _target = target;\n\t          var eventStore = _target.eventStore;\n\t\n\t          var listener = eventStore && eventStore[eventType];\n\t          if (!listener) {\n\t              target = target.parentNode;\n\t              continue;\n\t          }\n\t          if (!syntheticEvent) {\n\t              syntheticEvent = createSyntheticEvent(event);\n\t          }\n\t          syntheticEvent.currentTarget = target;\n\t          listener.call(target, syntheticEvent);\n\t          if (syntheticEvent.$cancelBubble) {\n\t              break;\n\t          }\n\t          target = target.parentNode;\n\t      }\n\t      updateQueue.isPending = false;\n\t      updateQueue.batchUpdate();\n\t  }\n\t\n\t  function dispatchUnbubbleEvent(event) {\n\t      var target = event.currentTarget || event.target;\n\t      var eventType = 'on' + event.type;\n\t      var syntheticEvent = createSyntheticEvent(event);\n\t\n\t      syntheticEvent.currentTarget = target;\n\t      updateQueue.isPending = true;\n\t\n\t      var eventStore = target.eventStore;\n\t\n\t      var listener = eventStore && eventStore[eventType];\n\t      if (listener) {\n\t          listener.call(target, syntheticEvent);\n\t      }\n\t\n\t      updateQueue.isPending = false;\n\t      updateQueue.batchUpdate();\n\t  }\n\t\n\t  function createSyntheticEvent(nativeEvent) {\n\t      var syntheticEvent = {};\n\t      var cancelBubble = function cancelBubble() {\n\t          return syntheticEvent.$cancelBubble = true;\n\t      };\n\t      syntheticEvent.nativeEvent = nativeEvent;\n\t      syntheticEvent.persist = noop;\n\t      for (var key in nativeEvent) {\n\t          if (typeof nativeEvent[key] !== 'function') {\n\t              syntheticEvent[key] = nativeEvent[key];\n\t          } else if (key === 'stopPropagation' || key === 'stopImmediatePropagation') {\n\t              syntheticEvent[key] = cancelBubble;\n\t          } else {\n\t              syntheticEvent[key] = nativeEvent[key].bind(nativeEvent);\n\t          }\n\t      }\n\t      return syntheticEvent;\n\t  }\n\t\n\t  function supportInputEvent(elem) {\n\t      var nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n\t      return nodeName !== 'select' && !(nodeName === 'input' && elem.type === 'file');\n\t  }\n\t\n\t  function setStyle(elemStyle, styles) {\n\t      for (var styleName in styles) {\n\t          if (styles.hasOwnProperty(styleName)) {\n\t              setStyleValue(elemStyle, styleName, styles[styleName]);\n\t          }\n\t      }\n\t  }\n\t\n\t  function removeStyle(elemStyle, styles) {\n\t      for (var styleName in styles) {\n\t          if (styles.hasOwnProperty(styleName)) {\n\t              elemStyle[styleName] = '';\n\t          }\n\t      }\n\t  }\n\t\n\t  function patchStyle(elemStyle, style, newStyle) {\n\t      if (style === newStyle) {\n\t          return;\n\t      }\n\t      if (!newStyle && style) {\n\t          removeStyle(elemStyle, style);\n\t          return;\n\t      } else if (newStyle && !style) {\n\t          setStyle(elemStyle, newStyle);\n\t          return;\n\t      }\n\t\n\t      for (var key in style) {\n\t          if (newStyle.hasOwnProperty(key)) {\n\t              if (newStyle[key] !== style[key]) {\n\t                  setStyleValue(elemStyle, key, newStyle[key]);\n\t              }\n\t          } else {\n\t              elemStyle[key] = '';\n\t          }\n\t      }\n\t      for (var key in newStyle) {\n\t          if (!style.hasOwnProperty(key)) {\n\t              setStyleValue(elemStyle, key, newStyle[key]);\n\t          }\n\t      }\n\t  }\n\t\n\t  /**\r\n\t   * CSS properties which accept numbers but are not in units of \"px\".\r\n\t   */\n\t  var isUnitlessNumber = {\n\t      animationIterationCount: 1,\n\t      borderImageOutset: 1,\n\t      borderImageSlice: 1,\n\t      borderImageWidth: 1,\n\t      boxFlex: 1,\n\t      boxFlexGroup: 1,\n\t      boxOrdinalGroup: 1,\n\t      columnCount: 1,\n\t      flex: 1,\n\t      flexGrow: 1,\n\t      flexPositive: 1,\n\t      flexShrink: 1,\n\t      flexNegative: 1,\n\t      flexOrder: 1,\n\t      gridRow: 1,\n\t      gridColumn: 1,\n\t      fontWeight: 1,\n\t      lineClamp: 1,\n\t      lineHeight: 1,\n\t      opacity: 1,\n\t      order: 1,\n\t      orphans: 1,\n\t      tabSize: 1,\n\t      widows: 1,\n\t      zIndex: 1,\n\t      zoom: 1,\n\t\n\t      // SVG-related properties\n\t      fillOpacity: 1,\n\t      floodOpacity: 1,\n\t      stopOpacity: 1,\n\t      strokeDasharray: 1,\n\t      strokeDashoffset: 1,\n\t      strokeMiterlimit: 1,\n\t      strokeOpacity: 1,\n\t      strokeWidth: 1\n\t  };\n\t\n\t  function prefixKey(prefix, key) {\n\t      return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\t  }\n\t\n\t  var prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\t\n\t  Object.keys(isUnitlessNumber).forEach(function (prop) {\n\t      prefixes.forEach(function (prefix) {\n\t          isUnitlessNumber[prefixKey(prefix, prop)] = 1;\n\t      });\n\t  });\n\t\n\t  var RE_NUMBER = /^-?\\d+(\\.\\d+)?$/;\n\t  function setStyleValue(elemStyle, styleName, styleValue) {\n\t\n\t      if (!isUnitlessNumber[styleName] && RE_NUMBER.test(styleValue)) {\n\t          elemStyle[styleName] = styleValue + 'px';\n\t          return;\n\t      }\n\t\n\t      if (styleName === 'float') {\n\t          styleName = 'cssFloat';\n\t      }\n\t\n\t      if (styleValue == null || typeof styleValue === 'boolean') {\n\t          styleValue = '';\n\t      }\n\t\n\t      elemStyle[styleName] = styleValue;\n\t  }\n\t\n\t  var ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n\t  var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\uB7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\t\n\t  var VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\t\n\t  var isCustomAttribute = RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\n\t  // will merge some data in properties below\n\t  var properties = {};\n\t\n\t  /**\r\n\t   * Mapping from normalized, camelcased property names to a configuration that\r\n\t   * specifies how the associated DOM property should be accessed or rendered.\r\n\t   */\n\t  var MUST_USE_PROPERTY = 0x1;\n\t  var HAS_BOOLEAN_VALUE = 0x4;\n\t  var HAS_NUMERIC_VALUE = 0x8;\n\t  var HAS_POSITIVE_NUMERIC_VALUE = 0x10 | 0x8;\n\t  var HAS_OVERLOADED_BOOLEAN_VALUE = 0x20;\n\t\n\t  // html config\n\t  var HTMLDOMPropertyConfig = {\n\t      props: {\n\t          /**\r\n\t           * Standard Properties\r\n\t           */\n\t          accept: 0,\n\t          acceptCharset: 0,\n\t          accessKey: 0,\n\t          action: 0,\n\t          allowFullScreen: HAS_BOOLEAN_VALUE,\n\t          allowTransparency: 0,\n\t          alt: 0,\n\t          async: HAS_BOOLEAN_VALUE,\n\t          autoComplete: 0,\n\t          autoFocus: HAS_BOOLEAN_VALUE,\n\t          autoPlay: HAS_BOOLEAN_VALUE,\n\t          capture: HAS_BOOLEAN_VALUE,\n\t          cellPadding: 0,\n\t          cellSpacing: 0,\n\t          charSet: 0,\n\t          challenge: 0,\n\t          checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          cite: 0,\n\t          classID: 0,\n\t          className: 0,\n\t          cols: HAS_POSITIVE_NUMERIC_VALUE,\n\t          colSpan: 0,\n\t          content: 0,\n\t          contentEditable: 0,\n\t          contextMenu: 0,\n\t          controls: HAS_BOOLEAN_VALUE,\n\t          coords: 0,\n\t          crossOrigin: 0,\n\t          data: 0, // For `<object />` acts as `src`.\n\t          dateTime: 0,\n\t          'default': HAS_BOOLEAN_VALUE,\n\t          // not in regular react, they did it in other way\n\t          defaultValue: MUST_USE_PROPERTY,\n\t          // not in regular react, they did it in other way\n\t          defaultChecked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          defer: HAS_BOOLEAN_VALUE,\n\t          dir: 0,\n\t          disabled: HAS_BOOLEAN_VALUE,\n\t          download: HAS_OVERLOADED_BOOLEAN_VALUE,\n\t          draggable: 0,\n\t          encType: 0,\n\t          form: 0,\n\t          formAction: 0,\n\t          formEncType: 0,\n\t          formMethod: 0,\n\t          formNoValidate: HAS_BOOLEAN_VALUE,\n\t          formTarget: 0,\n\t          frameBorder: 0,\n\t          headers: 0,\n\t          height: 0,\n\t          hidden: HAS_BOOLEAN_VALUE,\n\t          high: 0,\n\t          href: 0,\n\t          hrefLang: 0,\n\t          htmlFor: 0,\n\t          httpEquiv: 0,\n\t          icon: 0,\n\t          id: 0,\n\t          inputMode: 0,\n\t          integrity: 0,\n\t          is: 0,\n\t          keyParams: 0,\n\t          keyType: 0,\n\t          kind: 0,\n\t          label: 0,\n\t          lang: 0,\n\t          list: 0,\n\t          loop: HAS_BOOLEAN_VALUE,\n\t          low: 0,\n\t          manifest: 0,\n\t          marginHeight: 0,\n\t          marginWidth: 0,\n\t          max: 0,\n\t          maxLength: 0,\n\t          media: 0,\n\t          mediaGroup: 0,\n\t          method: 0,\n\t          min: 0,\n\t          minLength: 0,\n\t          // Caution; `option.selected` is not updated if `select.multiple` is\n\t          // disabled with `removeAttribute`.\n\t          multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          name: 0,\n\t          nonce: 0,\n\t          noValidate: HAS_BOOLEAN_VALUE,\n\t          open: HAS_BOOLEAN_VALUE,\n\t          optimum: 0,\n\t          pattern: 0,\n\t          placeholder: 0,\n\t          poster: 0,\n\t          preload: 0,\n\t          profile: 0,\n\t          radioGroup: 0,\n\t          readOnly: HAS_BOOLEAN_VALUE,\n\t          referrerPolicy: 0,\n\t          rel: 0,\n\t          required: HAS_BOOLEAN_VALUE,\n\t          reversed: HAS_BOOLEAN_VALUE,\n\t          role: 0,\n\t          rows: HAS_POSITIVE_NUMERIC_VALUE,\n\t          rowSpan: HAS_NUMERIC_VALUE,\n\t          sandbox: 0,\n\t          scope: 0,\n\t          scoped: HAS_BOOLEAN_VALUE,\n\t          scrolling: 0,\n\t          seamless: HAS_BOOLEAN_VALUE,\n\t          selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          shape: 0,\n\t          size: HAS_POSITIVE_NUMERIC_VALUE,\n\t          sizes: 0,\n\t          span: HAS_POSITIVE_NUMERIC_VALUE,\n\t          spellCheck: 0,\n\t          src: 0,\n\t          srcDoc: 0,\n\t          srcLang: 0,\n\t          srcSet: 0,\n\t          start: HAS_NUMERIC_VALUE,\n\t          step: 0,\n\t          style: 0,\n\t          summary: 0,\n\t          tabIndex: 0,\n\t          target: 0,\n\t          title: 0,\n\t          // Setting .type throws on non-<input> tags\n\t          type: 0,\n\t          useMap: 0,\n\t          value: MUST_USE_PROPERTY,\n\t          width: 0,\n\t          wmode: 0,\n\t          wrap: 0,\n\t\n\t          /**\r\n\t           * RDFa Properties\r\n\t           */\n\t          about: 0,\n\t          datatype: 0,\n\t          inlist: 0,\n\t          prefix: 0,\n\t          // property is also supported for OpenGraph in meta tags.\n\t          property: 0,\n\t          playsInline: HAS_BOOLEAN_VALUE,\n\t          resource: 0,\n\t          'typeof': 0,\n\t          vocab: 0,\n\t\n\t          /**\r\n\t           * Non-standard Properties\r\n\t           */\n\t          // autoCapitalize and autoCorrect are supported in Mobile Safari for\n\t          // keyboard hints.\n\t          autoCapitalize: 0,\n\t          autoCorrect: 0,\n\t          // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n\t          autoSave: 0,\n\t          // color is for Safari mask-icon link\n\t          color: 0,\n\t          // itemProp, itemScope, itemType are for\n\t          // Microdata support. See http://schema.org/docs/gs.html\n\t          itemProp: 0,\n\t          itemScope: HAS_BOOLEAN_VALUE,\n\t          itemType: 0,\n\t          // itemID and itemRef are for Microdata support as well but\n\t          // only specified in the WHATWG spec document. See\n\t          // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n\t          itemID: 0,\n\t          itemRef: 0,\n\t          // results show looking glass icon and recent searches on input\n\t          // search fields in WebKit/Blink\n\t          results: 0,\n\t          // IE-only attribute that specifies security restrictions on an iframe\n\t          // as an alternative to the sandbox attribute on IE<10\n\t          security: 0,\n\t          // IE-only attribute that controls focus behavior\n\t          unselectable: 0\n\t      },\n\t      attrNS: {},\n\t      domAttrs: {\n\t          acceptCharset: 'accept-charset',\n\t          className: 'class',\n\t          htmlFor: 'for',\n\t          httpEquiv: 'http-equiv'\n\t      },\n\t      domProps: {}\n\t  };\n\t\n\t  // svg config\n\t  var xlink = 'http://www.w3.org/1999/xlink';\n\t  var xml = 'http://www.w3.org/XML/1998/namespace';\n\t\n\t  // We use attributes for everything SVG so let's avoid some duplication and run\n\t  // code instead.\n\t  // The following are all specified in the HTML config already so we exclude here.\n\t  // - class (as className)\n\t  // - color\n\t  // - height\n\t  // - id\n\t  // - lang\n\t  // - max\n\t  // - media\n\t  // - method\n\t  // - min\n\t  // - name\n\t  // - style\n\t  // - target\n\t  // - type\n\t  // - width\n\t  var ATTRS = {\n\t      accentHeight: 'accent-height',\n\t      accumulate: 0,\n\t      additive: 0,\n\t      alignmentBaseline: 'alignment-baseline',\n\t      allowReorder: 'allowReorder',\n\t      alphabetic: 0,\n\t      amplitude: 0,\n\t      arabicForm: 'arabic-form',\n\t      ascent: 0,\n\t      attributeName: 'attributeName',\n\t      attributeType: 'attributeType',\n\t      autoReverse: 'autoReverse',\n\t      azimuth: 0,\n\t      baseFrequency: 'baseFrequency',\n\t      baseProfile: 'baseProfile',\n\t      baselineShift: 'baseline-shift',\n\t      bbox: 0,\n\t      begin: 0,\n\t      bias: 0,\n\t      by: 0,\n\t      calcMode: 'calcMode',\n\t      capHeight: 'cap-height',\n\t      clip: 0,\n\t      clipPath: 'clip-path',\n\t      clipRule: 'clip-rule',\n\t      clipPathUnits: 'clipPathUnits',\n\t      colorInterpolation: 'color-interpolation',\n\t      colorInterpolationFilters: 'color-interpolation-filters',\n\t      colorProfile: 'color-profile',\n\t      colorRendering: 'color-rendering',\n\t      contentScriptType: 'contentScriptType',\n\t      contentStyleType: 'contentStyleType',\n\t      cursor: 0,\n\t      cx: 0,\n\t      cy: 0,\n\t      d: 0,\n\t      decelerate: 0,\n\t      descent: 0,\n\t      diffuseConstant: 'diffuseConstant',\n\t      direction: 0,\n\t      display: 0,\n\t      divisor: 0,\n\t      dominantBaseline: 'dominant-baseline',\n\t      dur: 0,\n\t      dx: 0,\n\t      dy: 0,\n\t      edgeMode: 'edgeMode',\n\t      elevation: 0,\n\t      enableBackground: 'enable-background',\n\t      end: 0,\n\t      exponent: 0,\n\t      externalResourcesRequired: 'externalResourcesRequired',\n\t      fill: 0,\n\t      fillOpacity: 'fill-opacity',\n\t      fillRule: 'fill-rule',\n\t      filter: 0,\n\t      filterRes: 'filterRes',\n\t      filterUnits: 'filterUnits',\n\t      floodColor: 'flood-color',\n\t      floodOpacity: 'flood-opacity',\n\t      focusable: 0,\n\t      fontFamily: 'font-family',\n\t      fontSize: 'font-size',\n\t      fontSizeAdjust: 'font-size-adjust',\n\t      fontStretch: 'font-stretch',\n\t      fontStyle: 'font-style',\n\t      fontVariant: 'font-variant',\n\t      fontWeight: 'font-weight',\n\t      format: 0,\n\t      from: 0,\n\t      fx: 0,\n\t      fy: 0,\n\t      g1: 0,\n\t      g2: 0,\n\t      glyphName: 'glyph-name',\n\t      glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n\t      glyphOrientationVertical: 'glyph-orientation-vertical',\n\t      glyphRef: 'glyphRef',\n\t      gradientTransform: 'gradientTransform',\n\t      gradientUnits: 'gradientUnits',\n\t      hanging: 0,\n\t      horizAdvX: 'horiz-adv-x',\n\t      horizOriginX: 'horiz-origin-x',\n\t      ideographic: 0,\n\t      imageRendering: 'image-rendering',\n\t      'in': 0,\n\t      in2: 0,\n\t      intercept: 0,\n\t      k: 0,\n\t      k1: 0,\n\t      k2: 0,\n\t      k3: 0,\n\t      k4: 0,\n\t      kernelMatrix: 'kernelMatrix',\n\t      kernelUnitLength: 'kernelUnitLength',\n\t      kerning: 0,\n\t      keyPoints: 'keyPoints',\n\t      keySplines: 'keySplines',\n\t      keyTimes: 'keyTimes',\n\t      lengthAdjust: 'lengthAdjust',\n\t      letterSpacing: 'letter-spacing',\n\t      lightingColor: 'lighting-color',\n\t      limitingConeAngle: 'limitingConeAngle',\n\t      local: 0,\n\t      markerEnd: 'marker-end',\n\t      markerMid: 'marker-mid',\n\t      markerStart: 'marker-start',\n\t      markerHeight: 'markerHeight',\n\t      markerUnits: 'markerUnits',\n\t      markerWidth: 'markerWidth',\n\t      mask: 0,\n\t      maskContentUnits: 'maskContentUnits',\n\t      maskUnits: 'maskUnits',\n\t      mathematical: 0,\n\t      mode: 0,\n\t      numOctaves: 'numOctaves',\n\t      offset: 0,\n\t      opacity: 0,\n\t      operator: 0,\n\t      order: 0,\n\t      orient: 0,\n\t      orientation: 0,\n\t      origin: 0,\n\t      overflow: 0,\n\t      overlinePosition: 'overline-position',\n\t      overlineThickness: 'overline-thickness',\n\t      paintOrder: 'paint-order',\n\t      panose1: 'panose-1',\n\t      pathLength: 'pathLength',\n\t      patternContentUnits: 'patternContentUnits',\n\t      patternTransform: 'patternTransform',\n\t      patternUnits: 'patternUnits',\n\t      pointerEvents: 'pointer-events',\n\t      points: 0,\n\t      pointsAtX: 'pointsAtX',\n\t      pointsAtY: 'pointsAtY',\n\t      pointsAtZ: 'pointsAtZ',\n\t      preserveAlpha: 'preserveAlpha',\n\t      preserveAspectRatio: 'preserveAspectRatio',\n\t      primitiveUnits: 'primitiveUnits',\n\t      r: 0,\n\t      radius: 0,\n\t      refX: 'refX',\n\t      refY: 'refY',\n\t      renderingIntent: 'rendering-intent',\n\t      repeatCount: 'repeatCount',\n\t      repeatDur: 'repeatDur',\n\t      requiredExtensions: 'requiredExtensions',\n\t      requiredFeatures: 'requiredFeatures',\n\t      restart: 0,\n\t      result: 0,\n\t      rotate: 0,\n\t      rx: 0,\n\t      ry: 0,\n\t      scale: 0,\n\t      seed: 0,\n\t      shapeRendering: 'shape-rendering',\n\t      slope: 0,\n\t      spacing: 0,\n\t      specularConstant: 'specularConstant',\n\t      specularExponent: 'specularExponent',\n\t      speed: 0,\n\t      spreadMethod: 'spreadMethod',\n\t      startOffset: 'startOffset',\n\t      stdDeviation: 'stdDeviation',\n\t      stemh: 0,\n\t      stemv: 0,\n\t      stitchTiles: 'stitchTiles',\n\t      stopColor: 'stop-color',\n\t      stopOpacity: 'stop-opacity',\n\t      strikethroughPosition: 'strikethrough-position',\n\t      strikethroughThickness: 'strikethrough-thickness',\n\t      string: 0,\n\t      stroke: 0,\n\t      strokeDasharray: 'stroke-dasharray',\n\t      strokeDashoffset: 'stroke-dashoffset',\n\t      strokeLinecap: 'stroke-linecap',\n\t      strokeLinejoin: 'stroke-linejoin',\n\t      strokeMiterlimit: 'stroke-miterlimit',\n\t      strokeOpacity: 'stroke-opacity',\n\t      strokeWidth: 'stroke-width',\n\t      surfaceScale: 'surfaceScale',\n\t      systemLanguage: 'systemLanguage',\n\t      tableValues: 'tableValues',\n\t      targetX: 'targetX',\n\t      targetY: 'targetY',\n\t      textAnchor: 'text-anchor',\n\t      textDecoration: 'text-decoration',\n\t      textRendering: 'text-rendering',\n\t      textLength: 'textLength',\n\t      to: 0,\n\t      transform: 0,\n\t      u1: 0,\n\t      u2: 0,\n\t      underlinePosition: 'underline-position',\n\t      underlineThickness: 'underline-thickness',\n\t      unicode: 0,\n\t      unicodeBidi: 'unicode-bidi',\n\t      unicodeRange: 'unicode-range',\n\t      unitsPerEm: 'units-per-em',\n\t      vAlphabetic: 'v-alphabetic',\n\t      vHanging: 'v-hanging',\n\t      vIdeographic: 'v-ideographic',\n\t      vMathematical: 'v-mathematical',\n\t      values: 0,\n\t      vectorEffect: 'vector-effect',\n\t      version: 0,\n\t      vertAdvY: 'vert-adv-y',\n\t      vertOriginX: 'vert-origin-x',\n\t      vertOriginY: 'vert-origin-y',\n\t      viewBox: 'viewBox',\n\t      viewTarget: 'viewTarget',\n\t      visibility: 0,\n\t      widths: 0,\n\t      wordSpacing: 'word-spacing',\n\t      writingMode: 'writing-mode',\n\t      x: 0,\n\t      xHeight: 'x-height',\n\t      x1: 0,\n\t      x2: 0,\n\t      xChannelSelector: 'xChannelSelector',\n\t      xlinkActuate: 'xlink:actuate',\n\t      xlinkArcrole: 'xlink:arcrole',\n\t      xlinkHref: 'xlink:href',\n\t      xlinkRole: 'xlink:role',\n\t      xlinkShow: 'xlink:show',\n\t      xlinkTitle: 'xlink:title',\n\t      xlinkType: 'xlink:type',\n\t      xmlBase: 'xml:base',\n\t      xmlns: 0,\n\t      xmlnsXlink: 'xmlns:xlink',\n\t      xmlLang: 'xml:lang',\n\t      xmlSpace: 'xml:space',\n\t      y: 0,\n\t      y1: 0,\n\t      y2: 0,\n\t      yChannelSelector: 'yChannelSelector',\n\t      z: 0,\n\t      zoomAndPan: 'zoomAndPan'\n\t  };\n\t\n\t  var SVGDOMPropertyConfig = {\n\t      props: {},\n\t      attrNS: {\n\t          xlinkActuate: xlink,\n\t          xlinkArcrole: xlink,\n\t          xlinkHref: xlink,\n\t          xlinkRole: xlink,\n\t          xlinkShow: xlink,\n\t          xlinkTitle: xlink,\n\t          xlinkType: xlink,\n\t          xmlBase: xml,\n\t          xmlLang: xml,\n\t          xmlSpace: xml\n\t      },\n\t      domAttrs: {},\n\t      domProps: {}\n\t  };\n\t\n\t  Object.keys(ATTRS).map(function (key) {\n\t      SVGDOMPropertyConfig.props[key] = 0;\n\t      if (ATTRS[key]) {\n\t          SVGDOMPropertyConfig.domAttrs[key] = ATTRS[key];\n\t      }\n\t  });\n\t\n\t  // merge html and svg config into properties\n\t  mergeConfigToProperties(HTMLDOMPropertyConfig);\n\t  mergeConfigToProperties(SVGDOMPropertyConfig);\n\t\n\t  function mergeConfigToProperties(config) {\n\t      var\n\t      // all react/react-lite supporting property names in here\n\t      props = config.props;\n\t      var\n\t      // attributes namespace in here\n\t      attrNS = config.attrNS;\n\t      var\n\t      // propName in props which should use to be dom-attribute in here\n\t      domAttrs = config.domAttrs;\n\t      var\n\t      // propName in props which should use to be dom-property in here\n\t      domProps = config.domProps;\n\t\n\t      for (var propName in props) {\n\t          if (!props.hasOwnProperty(propName)) {\n\t              continue;\n\t          }\n\t          var propConfig = props[propName];\n\t          properties[propName] = {\n\t              attributeName: domAttrs.hasOwnProperty(propName) ? domAttrs[propName] : propName.toLowerCase(),\n\t              propertyName: domProps.hasOwnProperty(propName) ? domProps[propName] : propName,\n\t              attributeNamespace: attrNS.hasOwnProperty(propName) ? attrNS[propName] : null,\n\t              mustUseProperty: checkMask(propConfig, MUST_USE_PROPERTY),\n\t              hasBooleanValue: checkMask(propConfig, HAS_BOOLEAN_VALUE),\n\t              hasNumericValue: checkMask(propConfig, HAS_NUMERIC_VALUE),\n\t              hasPositiveNumericValue: checkMask(propConfig, HAS_POSITIVE_NUMERIC_VALUE),\n\t              hasOverloadedBooleanValue: checkMask(propConfig, HAS_OVERLOADED_BOOLEAN_VALUE)\n\t          };\n\t      }\n\t  }\n\t\n\t  function checkMask(value, bitmask) {\n\t      return (value & bitmask) === bitmask;\n\t  }\n\t\n\t  /**\r\n\t   * Sets the value for a property on a node.\r\n\t   *\r\n\t   * @param {DOMElement} node\r\n\t   * @param {string} name\r\n\t   * @param {*} value\r\n\t   */\n\t\n\t  function setPropValue(node, name, value) {\n\t      var propInfo = properties.hasOwnProperty(name) && properties[name];\n\t      if (propInfo) {\n\t          // should delete value from dom\n\t          if (value == null || propInfo.hasBooleanValue && !value || propInfo.hasNumericValue && isNaN(value) || propInfo.hasPositiveNumericValue && value < 1 || propInfo.hasOverloadedBooleanValue && value === false) {\n\t              removePropValue(node, name);\n\t          } else if (propInfo.mustUseProperty) {\n\t              node[propInfo.propertyName] = value;\n\t          } else {\n\t              var attributeName = propInfo.attributeName;\n\t              var namespace = propInfo.attributeNamespace;\n\t\n\t              // `setAttribute` with objects becomes only `[object]` in IE8/9,\n\t              // ('' + value) makes it output the correct toString()-value.\n\t              if (namespace) {\n\t                  node.setAttributeNS(namespace, attributeName, '' + value);\n\t              } else if (propInfo.hasBooleanValue || propInfo.hasOverloadedBooleanValue && value === true) {\n\t                  node.setAttribute(attributeName, '');\n\t              } else {\n\t                  node.setAttribute(attributeName, '' + value);\n\t              }\n\t          }\n\t      } else if (isCustomAttribute(name) && VALID_ATTRIBUTE_NAME_REGEX.test(name)) {\n\t          if (value == null) {\n\t              node.removeAttribute(name);\n\t          } else {\n\t              node.setAttribute(name, '' + value);\n\t          }\n\t      }\n\t  }\n\t\n\t  /**\r\n\t   * Deletes the value for a property on a node.\r\n\t   *\r\n\t   * @param {DOMElement} node\r\n\t   * @param {string} name\r\n\t   */\n\t\n\t  function removePropValue(node, name) {\n\t      var propInfo = properties.hasOwnProperty(name) && properties[name];\n\t      if (propInfo) {\n\t          if (propInfo.mustUseProperty) {\n\t              var propName = propInfo.propertyName;\n\t              if (propInfo.hasBooleanValue) {\n\t                  node[propName] = false;\n\t              } else {\n\t                  node[propName] = '';\n\t              }\n\t          } else {\n\t              node.removeAttribute(propInfo.attributeName);\n\t          }\n\t      } else if (isCustomAttribute(name)) {\n\t          node.removeAttribute(name);\n\t      }\n\t  }\n\t\n\t  function updateSelectOptions(select, multiple, propValue) {\n\t      var selectedValue, i;\n\t      var options = select.options;\n\t\n\t      if (multiple) {\n\t          select.multiple = true;\n\t          if (!Array.isArray(propValue)) {\n\t              throw new Error('The value prop supplied to <select> must be an array if `multiple` is true');\n\t          }\n\t          selectedValue = {};\n\t          for (i = 0; i < propValue.length; i++) {\n\t              selectedValue['' + propValue[i]] = true;\n\t          }\n\t          for (i = 0; i < options.length; i++) {\n\t              var selected = selectedValue.hasOwnProperty(options[i].value);\n\t              if (options[i].selected !== selected) {\n\t                  options[i].selected = selected;\n\t              }\n\t          }\n\t      } else {\n\t          select.multiple = false;\n\t          if (Array.isArray(propValue)) {\n\t              throw new Error('The value prop supplied to <select> must be a scalar value if `multiple` is false.');\n\t          }\n\t          // Do not set `select.value` as exact behavior isn't consistent across all\n\t          // browsers for all cases.\n\t          selectedValue = '' + propValue;\n\t          for (i = 0; i < options.length; i++) {\n\t              var option = options[i];\n\t              if (option.value === selectedValue) {\n\t                  if (!option.selected) {\n\t                      option.selected = true;\n\t                  }\n\t              } else {\n\t                  if (option.selected) {\n\t                      option.selected = false;\n\t                  }\n\t              }\n\t          }\n\t\n\t          if (options.selectedIndex < 0 && options.length) {\n\t              options[0].selected = true;\n\t          }\n\t      }\n\t  }\n\t\n\t  function isFn(obj) {\n\t      return typeof obj === 'function';\n\t  }\n\t\n\t  var isArr = Array.isArray;\n\t\n\t  function noop() {}\n\t\n\t  function identity(obj) {\n\t      return obj;\n\t  }\n\t\n\t  function pipe(fn1, fn2) {\n\t      return function () {\n\t          fn1.apply(this, arguments);\n\t          return fn2.apply(this, arguments);\n\t      };\n\t  }\n\t\n\t  function addItem(list, item) {\n\t      list[list.length] = item;\n\t  }\n\t\n\t  function flatEach(list, iteratee, a) {\n\t      var len = list.length;\n\t      var i = -1;\n\t\n\t      while (len--) {\n\t          var item = list[++i];\n\t          if (isArr(item)) {\n\t              flatEach(item, iteratee, a);\n\t          } else {\n\t              iteratee(item, a);\n\t          }\n\t      }\n\t  }\n\t\n\t  function extend(to, from) {\n\t      if (!from) {\n\t          return to;\n\t      }\n\t      var keys = Object.keys(from);\n\t      var i = keys.length;\n\t      while (i--) {\n\t          to[keys[i]] = from[keys[i]];\n\t      }\n\t      return to;\n\t  }\n\t\n\t  var uid = 0;\n\t\n\t  function getUid() {\n\t      return ++uid;\n\t  }\n\t\n\t  var EVENT_KEYS = /^on/i;\n\t\n\t  function setProp(elem, key, value, isCustomComponent) {\n\t      if (EVENT_KEYS.test(key)) {\n\t          addEvent(elem, key, value);\n\t      } else if (key === 'style') {\n\t          setStyle(elem.style, value);\n\t      } else if (key === HTML_KEY) {\n\t          if (value && value.__html != null) {\n\t              elem.innerHTML = value.__html;\n\t          }\n\t      } else if (isCustomComponent) {\n\t          if (value == null) {\n\t              elem.removeAttribute(key);\n\t          } else {\n\t              elem.setAttribute(key, '' + value);\n\t          }\n\t      } else {\n\t          setPropValue(elem, key, value);\n\t      }\n\t  }\n\t\n\t  function removeProp(elem, key, oldValue, isCustomComponent) {\n\t      if (EVENT_KEYS.test(key)) {\n\t          removeEvent(elem, key);\n\t      } else if (key === 'style') {\n\t          removeStyle(elem.style, oldValue);\n\t      } else if (key === HTML_KEY) {\n\t          elem.innerHTML = '';\n\t      } else if (isCustomComponent) {\n\t          elem.removeAttribute(key);\n\t      } else {\n\t          removePropValue(elem, key);\n\t      }\n\t  }\n\t\n\t  function patchProp(elem, key, value, oldValue, isCustomComponent) {\n\t      if (key === 'value' || key === 'checked') {\n\t          oldValue = elem[key];\n\t      }\n\t      if (value === oldValue) {\n\t          return;\n\t      }\n\t      if (value === undefined) {\n\t          removeProp(elem, key, oldValue, isCustomComponent);\n\t          return;\n\t      }\n\t      if (key === 'style') {\n\t          patchStyle(elem.style, oldValue, value);\n\t      } else {\n\t          setProp(elem, key, value, isCustomComponent);\n\t      }\n\t  }\n\t\n\t  function setProps(elem, props, isCustomComponent) {\n\t      var isSelect = elem.nodeName === 'SELECT';\n\t      for (var key in props) {\n\t          if (key !== 'children') {\n\t              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                  updateSelectOptions(elem, props.multiple, props[key]);\n\t              } else {\n\t                  setProp(elem, key, props[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t  }\n\t\n\t  function patchProps(elem, props, newProps, isCustomComponent) {\n\t      var isSelect = elem.nodeName === 'SELECT';\n\t      for (var key in props) {\n\t          if (key !== 'children') {\n\t              if (newProps.hasOwnProperty(key)) {\n\t                  if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                      updateSelectOptions(elem, newProps.multiple, newProps[key]);\n\t                  } else {\n\t                      patchProp(elem, key, newProps[key], props[key], isCustomComponent);\n\t                  }\n\t              } else {\n\t                  removeProp(elem, key, props[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t      for (var key in newProps) {\n\t          if (key !== 'children' && !props.hasOwnProperty(key)) {\n\t              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                  updateSelectOptions(elem, newProps.multiple, newProps[key]);\n\t              } else {\n\t                  setProp(elem, key, newProps[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t  }\n\t\n\t  if (!Object.freeze) {\n\t      Object.freeze = identity;\n\t  }\n\t\n\t  function isValidContainer(node) {\n\t  \treturn !!(node && (node.nodeType === ELEMENT_NODE_TYPE || node.nodeType === DOC_NODE_TYPE || node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE));\n\t  }\n\t\n\t  var pendingRendering = {};\n\t  var vnodeStore = {};\n\t  function renderTreeIntoContainer(vnode, container, callback, parentContext) {\n\t  \tif (!vnode.vtype) {\n\t  \t\tthrow new Error('cannot render ' + vnode + ' to container');\n\t  \t}\n\t  \tif (!isValidContainer(container)) {\n\t  \t\tthrow new Error('container ' + container + ' is not a DOM element');\n\t  \t}\n\t  \tvar id = container[COMPONENT_ID] || (container[COMPONENT_ID] = getUid());\n\t  \tvar argsCache = pendingRendering[id];\n\t\n\t  \t// component lify cycle method maybe call root rendering\n\t  \t// should bundle them and render by only one time\n\t  \tif (argsCache) {\n\t  \t\tif (argsCache === true) {\n\t  \t\t\tpendingRendering[id] = argsCache = { vnode: vnode, callback: callback, parentContext: parentContext };\n\t  \t\t} else {\n\t  \t\t\targsCache.vnode = vnode;\n\t  \t\t\targsCache.parentContext = parentContext;\n\t  \t\t\targsCache.callback = argsCache.callback ? pipe(argsCache.callback, callback) : callback;\n\t  \t\t}\n\t  \t\treturn;\n\t  \t}\n\t\n\t  \tpendingRendering[id] = true;\n\t  \tvar oldVnode = null;\n\t  \tvar rootNode = null;\n\t  \tif (oldVnode = vnodeStore[id]) {\n\t  \t\trootNode = compareTwoVnodes(oldVnode, vnode, container.firstChild, parentContext);\n\t  \t} else {\n\t  \t\trootNode = initVnode(vnode, parentContext, container.namespaceURI);\n\t  \t\tvar childNode = null;\n\t  \t\twhile (childNode = container.lastChild) {\n\t  \t\t\tcontainer.removeChild(childNode);\n\t  \t\t}\n\t  \t\tcontainer.appendChild(rootNode);\n\t  \t}\n\t  \tvnodeStore[id] = vnode;\n\t  \tvar isPending = updateQueue.isPending;\n\t  \tupdateQueue.isPending = true;\n\t  \tclearPending();\n\t  \targsCache = pendingRendering[id];\n\t  \tdelete pendingRendering[id];\n\t\n\t  \tvar result = null;\n\t  \tif (typeof argsCache === 'object') {\n\t  \t\tresult = renderTreeIntoContainer(argsCache.vnode, container, argsCache.callback, argsCache.parentContext);\n\t  \t} else if (vnode.vtype === VELEMENT) {\n\t  \t\tresult = rootNode;\n\t  \t} else if (vnode.vtype === VCOMPONENT) {\n\t  \t\tresult = rootNode.cache[vnode.uid];\n\t  \t}\n\t\n\t  \tif (!isPending) {\n\t  \t\tupdateQueue.isPending = false;\n\t  \t\tupdateQueue.batchUpdate();\n\t  \t}\n\t\n\t  \tif (callback) {\n\t  \t\tcallback.call(result);\n\t  \t}\n\t\n\t  \treturn result;\n\t  }\n\t\n\t  function render(vnode, container, callback) {\n\t  \treturn renderTreeIntoContainer(vnode, container, callback);\n\t  }\n\t\n\t  function unstable_renderSubtreeIntoContainer(parentComponent, subVnode, container, callback) {\n\t  \tvar context = parentComponent.$cache.parentContext;\n\t  \treturn renderTreeIntoContainer(subVnode, container, callback, context);\n\t  }\n\t\n\t  function unmountComponentAtNode(container) {\n\t  \tif (!container.nodeName) {\n\t  \t\tthrow new Error('expect node');\n\t  \t}\n\t  \tvar id = container[COMPONENT_ID];\n\t  \tvar vnode = null;\n\t  \tif (vnode = vnodeStore[id]) {\n\t  \t\tdestroyVnode(vnode, container.firstChild);\n\t  \t\tcontainer.removeChild(container.firstChild);\n\t  \t\tdelete vnodeStore[id];\n\t  \t\treturn true;\n\t  \t}\n\t  \treturn false;\n\t  }\n\t\n\t  function findDOMNode(node) {\n\t  \tif (node == null) {\n\t  \t\treturn null;\n\t  \t}\n\t  \tif (node.nodeName) {\n\t  \t\treturn node;\n\t  \t}\n\t  \tvar component = node;\n\t  \t// if component.node equal to false, component must be unmounted\n\t  \tif (component.getDOMNode && component.$cache.isMounted) {\n\t  \t\treturn component.getDOMNode();\n\t  \t}\n\t  \tthrow new Error('findDOMNode can not find Node');\n\t  }\n\t\n\t  var ReactDOM = Object.freeze({\n\t  \trender: render,\n\t  \tunstable_renderSubtreeIntoContainer: unstable_renderSubtreeIntoContainer,\n\t  \tunmountComponentAtNode: unmountComponentAtNode,\n\t  \tfindDOMNode: findDOMNode\n\t  });\n\t\n\t  function createElement(type, props, children) {\n\t  \tvar vtype = null;\n\t  \tif (typeof type === 'string') {\n\t  \t\tvtype = VELEMENT;\n\t  \t} else if (typeof type === 'function') {\n\t  \t\tif (type.prototype && type.prototype.isReactComponent) {\n\t  \t\t\tvtype = VCOMPONENT;\n\t  \t\t} else {\n\t  \t\t\tvtype = VSTATELESS;\n\t  \t\t}\n\t  \t} else {\n\t  \t\tthrow new Error('React.createElement: unexpect type [ ' + type + ' ]');\n\t  \t}\n\t\n\t  \tvar key = null;\n\t  \tvar ref = null;\n\t  \tvar finalProps = {};\n\t  \tif (props != null) {\n\t  \t\tfor (var propKey in props) {\n\t  \t\t\tif (!props.hasOwnProperty(propKey)) {\n\t  \t\t\t\tcontinue;\n\t  \t\t\t}\n\t  \t\t\tif (propKey === 'key') {\n\t  \t\t\t\tif (props.key !== undefined) {\n\t  \t\t\t\t\tkey = '' + props.key;\n\t  \t\t\t\t}\n\t  \t\t\t} else if (propKey === 'ref') {\n\t  \t\t\t\tif (props.ref !== undefined) {\n\t  \t\t\t\t\tref = props.ref;\n\t  \t\t\t\t}\n\t  \t\t\t} else {\n\t  \t\t\t\tfinalProps[propKey] = props[propKey];\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t\n\t  \tvar defaultProps = type.defaultProps;\n\t\n\t  \tif (defaultProps) {\n\t  \t\tfor (var propKey in defaultProps) {\n\t  \t\t\tif (finalProps[propKey] === undefined) {\n\t  \t\t\t\tfinalProps[propKey] = defaultProps[propKey];\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t\n\t  \tvar argsLen = arguments.length;\n\t  \tvar finalChildren = children;\n\t\n\t  \tif (argsLen > 3) {\n\t  \t\tfinalChildren = Array(argsLen - 2);\n\t  \t\tfor (var i = 2; i < argsLen; i++) {\n\t  \t\t\tfinalChildren[i - 2] = arguments[i];\n\t  \t\t}\n\t  \t}\n\t\n\t  \tif (finalChildren !== undefined) {\n\t  \t\tfinalProps.children = finalChildren;\n\t  \t}\n\t\n\t  \treturn createVnode(vtype, type, finalProps, key, ref);\n\t  }\n\t\n\t  function isValidElement(obj) {\n\t  \treturn obj != null && !!obj.vtype;\n\t  }\n\t\n\t  function cloneElement(originElem, props) {\n\t  \tvar type = originElem.type;\n\t  \tvar key = originElem.key;\n\t  \tvar ref = originElem.ref;\n\t\n\t  \tvar newProps = extend(extend({ key: key, ref: ref }, originElem.props), props);\n\t\n\t  \tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t  \t\tchildren[_key - 2] = arguments[_key];\n\t  \t}\n\t\n\t  \tvar vnode = createElement.apply(undefined, [type, newProps].concat(children));\n\t  \tif (vnode.ref === originElem.ref) {\n\t  \t\tvnode.refs = originElem.refs;\n\t  \t}\n\t  \treturn vnode;\n\t  }\n\t\n\t  function createFactory(type) {\n\t  \tvar factory = function factory() {\n\t  \t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t  \t\t\targs[_key2] = arguments[_key2];\n\t  \t\t}\n\t\n\t  \t\treturn createElement.apply(undefined, [type].concat(args));\n\t  \t};\n\t  \tfactory.type = type;\n\t  \treturn factory;\n\t  }\n\t\n\t  var tagNames = 'a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan';\n\t  var DOM = {};\n\t  tagNames.split('|').forEach(function (tagName) {\n\t  \tDOM[tagName] = createFactory(tagName);\n\t  });\n\t\n\t  var check = function check() {\n\t      return check;\n\t  };\n\t  check.isRequired = check;\n\t  var PropTypes = {\n\t      \"array\": check,\n\t      \"bool\": check,\n\t      \"func\": check,\n\t      \"number\": check,\n\t      \"object\": check,\n\t      \"string\": check,\n\t      \"any\": check,\n\t      \"arrayOf\": check,\n\t      \"element\": check,\n\t      \"instanceOf\": check,\n\t      \"node\": check,\n\t      \"objectOf\": check,\n\t      \"oneOf\": check,\n\t      \"oneOfType\": check,\n\t      \"shape\": check\n\t  };\n\t\n\t  function only(children) {\n\t  \tif (isValidElement(children)) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tthrow new Error('expect only one child');\n\t  }\n\t\n\t  function forEach(children, iteratee, context) {\n\t  \tif (children == null) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tvar index = 0;\n\t  \tif (isArr(children)) {\n\t  \t\tflatEach(children, function (child) {\n\t  \t\t\t// from traverseAllChildrenImpl in react\n\t  \t\t\tvar type = typeof child;\n\t  \t\t\tif (type === 'undefined' || type === 'boolean') {\n\t  \t\t\t\t// All of the above are perceived as null.\n\t  \t\t\t\tchild = null;\n\t  \t\t\t}\n\t\n\t  \t\t\titeratee.call(context, child, index++);\n\t  \t\t});\n\t  \t} else {\n\t  \t\t// from traverseAllChildrenImpl in react\n\t  \t\tvar type = typeof children;\n\t  \t\tif (type === 'undefined' || type === 'boolean') {\n\t  \t\t\t// All of the above are perceived as null.\n\t  \t\t\tchildren = null;\n\t  \t\t}\n\t  \t\titeratee.call(context, children, index);\n\t  \t}\n\t  }\n\t\n\t  function map(children, iteratee, context) {\n\t  \tif (children == null) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tvar store = [];\n\t  \tvar keyMap = {};\n\t  \tforEach(children, function (child, index) {\n\t  \t\tvar data = {};\n\t  \t\tdata.child = iteratee.call(context, child, index) || child;\n\t  \t\tdata.isEqual = data.child === child;\n\t  \t\tvar key = data.key = getKey(child, index);\n\t  \t\tif (keyMap.hasOwnProperty(key)) {\n\t  \t\t\tkeyMap[key] += 1;\n\t  \t\t} else {\n\t  \t\t\tkeyMap[key] = 0;\n\t  \t\t}\n\t  \t\tdata.index = keyMap[key];\n\t  \t\taddItem(store, data);\n\t  \t});\n\t  \tvar result = [];\n\t  \tstore.forEach(function (_ref) {\n\t  \t\tvar child = _ref.child;\n\t  \t\tvar key = _ref.key;\n\t  \t\tvar index = _ref.index;\n\t  \t\tvar isEqual = _ref.isEqual;\n\t\n\t  \t\tif (child == null || typeof child === 'boolean') {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tif (!isValidElement(child) || key == null) {\n\t  \t\t\taddItem(result, child);\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tif (keyMap[key] !== 0) {\n\t  \t\t\tkey += ':' + index;\n\t  \t\t}\n\t  \t\tif (!isEqual) {\n\t  \t\t\tkey = escapeUserProvidedKey(child.key || '') + '/' + key;\n\t  \t\t}\n\t  \t\tchild = cloneElement(child, { key: key });\n\t  \t\taddItem(result, child);\n\t  \t});\n\t  \treturn result;\n\t  }\n\t\n\t  function count(children) {\n\t  \tvar count = 0;\n\t  \tforEach(children, function () {\n\t  \t\tcount++;\n\t  \t});\n\t  \treturn count;\n\t  }\n\t\n\t  function toArray(children) {\n\t  \treturn map(children, identity) || [];\n\t  }\n\t\n\t  function getKey(child, index) {\n\t  \tvar key = undefined;\n\t  \tif (isValidElement(child) && typeof child.key === 'string') {\n\t  \t\tkey = '.$' + child.key;\n\t  \t} else {\n\t  \t\tkey = '.' + index.toString(36);\n\t  \t}\n\t  \treturn key;\n\t  }\n\t\n\t  var userProvidedKeyEscapeRegex = /\\/(?!\\/)/g;\n\t  function escapeUserProvidedKey(text) {\n\t  \treturn ('' + text).replace(userProvidedKeyEscapeRegex, '//');\n\t  }\n\t\n\t  var Children = Object.freeze({\n\t  \tonly: only,\n\t  \tforEach: forEach,\n\t  \tmap: map,\n\t  \tcount: count,\n\t  \ttoArray: toArray\n\t  });\n\t\n\t  function eachMixin(mixins, iteratee) {\n\t  \tmixins.forEach(function (mixin) {\n\t  \t\tif (mixin) {\n\t  \t\t\tif (isArr(mixin.mixins)) {\n\t  \t\t\t\teachMixin(mixin.mixins, iteratee);\n\t  \t\t\t}\n\t  \t\t\titeratee(mixin);\n\t  \t\t}\n\t  \t});\n\t  }\n\t\n\t  function combineMixinToProto(proto, mixin) {\n\t  \tfor (var key in mixin) {\n\t  \t\tif (!mixin.hasOwnProperty(key)) {\n\t  \t\t\tcontinue;\n\t  \t\t}\n\t  \t\tvar value = mixin[key];\n\t  \t\tif (key === 'getInitialState') {\n\t  \t\t\taddItem(proto.$getInitialStates, value);\n\t  \t\t\tcontinue;\n\t  \t\t}\n\t  \t\tvar curValue = proto[key];\n\t  \t\tif (isFn(curValue) && isFn(value)) {\n\t  \t\t\tproto[key] = pipe(curValue, value);\n\t  \t\t} else {\n\t  \t\t\tproto[key] = value;\n\t  \t\t}\n\t  \t}\n\t  }\n\t\n\t  function combineMixinToClass(Component, mixin) {\n\t  \tif (mixin.propTypes) {\n\t  \t\tComponent.propTypes = Component.propTypes || {};\n\t  \t\textend(Component.propTypes, mixin.propTypes);\n\t  \t}\n\t  \tif (mixin.contextTypes) {\n\t  \t\tComponent.contextTypes = Component.contextTypes || {};\n\t  \t\textend(Component.contextTypes, mixin.contextTypes);\n\t  \t}\n\t  \textend(Component, mixin.statics);\n\t  \tif (isFn(mixin.getDefaultProps)) {\n\t  \t\tComponent.defaultProps = Component.defaultProps || {};\n\t  \t\textend(Component.defaultProps, mixin.getDefaultProps());\n\t  \t}\n\t  }\n\t\n\t  function bindContext(obj, source) {\n\t  \tfor (var key in source) {\n\t  \t\tif (source.hasOwnProperty(key)) {\n\t  \t\t\tif (isFn(source[key])) {\n\t  \t\t\t\tobj[key] = source[key].bind(obj);\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t  }\n\t\n\t  var Facade = function Facade() {};\n\t  Facade.prototype = Component.prototype;\n\t\n\t  function getInitialState() {\n\t  \tvar _this = this;\n\t\n\t  \tvar state = {};\n\t  \tvar setState = this.setState;\n\t  \tthis.setState = Facade;\n\t  \tthis.$getInitialStates.forEach(function (getInitialState) {\n\t  \t\tif (isFn(getInitialState)) {\n\t  \t\t\textend(state, getInitialState.call(_this));\n\t  \t\t}\n\t  \t});\n\t  \tthis.setState = setState;\n\t  \treturn state;\n\t  }\n\t  function createClass(spec) {\n\t  \tif (!isFn(spec.render)) {\n\t  \t\tthrow new Error('createClass: spec.render is not function');\n\t  \t}\n\t  \tvar specMixins = spec.mixins || [];\n\t  \tvar mixins = specMixins.concat(spec);\n\t  \tspec.mixins = null;\n\t  \tfunction Klass(props, context) {\n\t  \t\tComponent.call(this, props, context);\n\t  \t\tthis.constructor = Klass;\n\t  \t\tspec.autobind !== false && bindContext(this, Klass.prototype);\n\t  \t\tthis.state = this.getInitialState() || this.state;\n\t  \t}\n\t  \tKlass.displayName = spec.displayName;\n\t  \tvar proto = Klass.prototype = new Facade();\n\t  \tproto.$getInitialStates = [];\n\t  \teachMixin(mixins, function (mixin) {\n\t  \t\tcombineMixinToProto(proto, mixin);\n\t  \t\tcombineMixinToClass(Klass, mixin);\n\t  \t});\n\t  \tproto.getInitialState = getInitialState;\n\t  \tspec.mixins = specMixins;\n\t  \treturn Klass;\n\t  }\n\t\n\t  function shallowEqual(objA, objB) {\n\t      if (objA === objB) {\n\t          return true;\n\t      }\n\t\n\t      if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n\t          return false;\n\t      }\n\t\n\t      var keysA = Object.keys(objA);\n\t      var keysB = Object.keys(objB);\n\t\n\t      if (keysA.length !== keysB.length) {\n\t          return false;\n\t      }\n\t\n\t      // Test for A's keys different from B.\n\t      for (var i = 0; i < keysA.length; i++) {\n\t          if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n\t              return false;\n\t          }\n\t      }\n\t\n\t      return true;\n\t  }\n\t\n\t  function PureComponent(props, context) {\n\t  \tComponent.call(this, props, context);\n\t  }\n\t\n\t  PureComponent.prototype = Object.create(Component.prototype);\n\t  PureComponent.prototype.constructor = PureComponent;\n\t  PureComponent.prototype.isPureReactComponent = true;\n\t  PureComponent.prototype.shouldComponentUpdate = shallowCompare;\n\t\n\t  function shallowCompare(nextProps, nextState) {\n\t  \treturn !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n\t  }\n\t\n\t  var React = extend({\n\t      version: '0.15.1',\n\t      cloneElement: cloneElement,\n\t      isValidElement: isValidElement,\n\t      createElement: createElement,\n\t      createFactory: createFactory,\n\t      Component: Component,\n\t      PureComponent: PureComponent,\n\t      createClass: createClass,\n\t      Children: Children,\n\t      PropTypes: PropTypes,\n\t      DOM: DOM\n\t  }, ReactDOM);\n\t\n\t  React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactDOM;\n\t\n\t  return React;\n\t\n\t}));\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.waitForReducerSubtreeInit = waitForReducerSubtreeInit;\n\t\n\tvar _store = __webpack_require__(15);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tfunction waitForReducerSubtreeInit(delayedFunc) {\n\t    var state = _store2.default.getState();\n\t    if (state && state.config && state.config.providerState && state.config.providerState.ovirtConfig) {\n\t        delayedFunc();\n\t    } else {\n\t        (0, _helpers.logDebug)('waitForReducerSubtreeInit(): subtree not yet initialized, waiting ...');\n\t        window.setTimeout(function () {\n\t            return waitForReducerSubtreeInit(delayedFunc);\n\t        }, 500);\n\t    }\n\t}\n\t\n\t// Let pkg/machines build the Redux store and extend it at runtime.\n\texports.default = _store2.default;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _redux = __webpack_require__(16);\n\t\n\tvar _reducers = __webpack_require__(18);\n\t\n\tvar _reducers2 = _interopRequireDefault(_reducers);\n\t\n\tvar _middlewares = __webpack_require__(22);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar createStoreWithMiddleware = (0, _redux.applyMiddleware)(_middlewares.thunk)(_redux.createStore); /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar store = createStoreWithMiddleware(_reducers2.default);\n\t\n\texports.default = store;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global, module) {!function(t,e){ true?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.Redux=t.Redux||{})}(this,function(t){\"use strict\";function e(t){var e=h.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(t){}var o=v.call(t);return r&&(e?t[g]=n:delete t[g]),o}function n(t){return j.call(t)}function r(t){return null==t?void 0===t?m:w:O&&O in Object(t)?e(t):n(t)}function o(t){return null!=t&&\"object\"==typeof t}function i(t){if(!o(t)||r(t)!=E)return!1;var e=x(t);if(null===e)return!0;var n=N.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&S.call(n)==A}function u(t,e,n){function r(){p===l&&(p=l.slice())}function o(){return s}function c(t){if(\"function\"!=typeof t)throw Error(\"Expected listener to be a function.\");var e=!0;return r(),p.push(t),function(){if(e){e=!1,r();var n=p.indexOf(t);p.splice(n,1)}}}function a(t){if(!i(t))throw Error(\"Actions must be plain objects. Use custom middleware for async actions.\");if(void 0===t.type)throw Error('Actions may not have an undefined \"type\" property. Have you misspelled a constant?');if(y)throw Error(\"Reducers may not dispatch actions.\");try{y=!0,s=d(s,t)}finally{y=!1}for(var e=l=p,n=0;e.length>n;n++)(0,e[n])();return t}var f;if(\"function\"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if(\"function\"!=typeof n)throw Error(\"Expected the enhancer to be a function.\");return n(u)(t,e)}if(\"function\"!=typeof t)throw Error(\"Expected the reducer to be a function.\");var d=t,s=e,l=[],p=l,y=!1;return a({type:P.INIT}),f={dispatch:a,subscribe:c,getState:o,replaceReducer:function(t){if(\"function\"!=typeof t)throw Error(\"Expected the nextReducer to be a function.\");d=t,a({type:P.INIT})}},f[R]=function(){var t,e=c;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if(\"object\"!=typeof t)throw new TypeError(\"Expected the observer to be an object.\");return n(),{unsubscribe:e(n)}}},t[R]=function(){return this},t},f}function c(t,e){var n=e&&e.type;return\"Given action \"+(n&&'\"'+n+'\"'||\"an action\")+', reducer \"'+t+'\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:P.INIT}))throw Error('Reducer \"'+e+\"\\\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.\");if(void 0===n(void 0,{type:\"@@redux/PROBE_UNKNOWN_ACTION_\"+Math.random().toString(36).substring(7).split(\"\").join(\".\")}))throw Error('Reducer \"'+e+\"\\\" returned undefined when probed with a random type. Don't try to handle \"+P.INIT+' or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function f(t,e){return function(){return e(t.apply(void 0,arguments))}}function d(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}var s,l=\"object\"==typeof global&&global&&global.Object===Object&&global,p=\"object\"==typeof self&&self&&self.Object===Object&&self,y=(l||p||Function(\"return this\")()).Symbol,b=Object.prototype,h=b.hasOwnProperty,v=b.toString,g=y?y.toStringTag:void 0,j=Object.prototype.toString,w=\"[object Null]\",m=\"[object Undefined]\",O=y?y.toStringTag:void 0,x=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),E=\"[object Object]\",I=Function.prototype,T=Object.prototype,S=I.toString,N=T.hasOwnProperty,A=S.call(Object),R=function(t){var e,n=t.Symbol;return\"function\"==typeof n?n.observable?e=n.observable:(e=n(\"observable\"),n.observable=e):e=\"@@observable\",e}(s=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global: true?module:Function(\"return this\")()),P={INIT:\"@@redux/INIT\"},k=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t.createStore=u,t.combineReducers=function(t){for(var e=Object.keys(t),n={},r=0;e.length>r;r++){var o=e[r];\"function\"==typeof t[o]&&(n[o]=t[o])}var i=Object.keys(n),u=void 0;try{a(n)}catch(t){u=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;i.length>a;a++){var f=i[a],d=n[f],s=t[f],l=d(s,e);if(void 0===l){var p=c(f,e);throw Error(p)}o[f]=l,r=r||l!==s}return r?o:t}},t.bindActionCreators=function(t,e){if(\"function\"==typeof t)return f(t,e);if(\"object\"!=typeof t||null===t)throw Error(\"bindActionCreators expected an object or a function, instead received \"+(null===t?\"null\":typeof t)+'. Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');for(var n=Object.keys(t),r={},o=0;n.length>o;o++){var i=n[o],u=t[i];\"function\"==typeof u&&(r[i]=f(u,e))}return r},t.applyMiddleware=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var i=t(n,r,o),u=i.dispatch,c=[],a={getState:i.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(a)}),u=d.apply(void 0,c)(i.dispatch),k({},i,{dispatch:u})}}},t.compose=d,Object.defineProperty(t,\"__esModule\",{value:!0})});\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }()), __webpack_require__(17)(module)))\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = function(module) {\n\t\tif(!module.webpackPolyfill) {\n\t\t\tmodule.deprecate = function() {};\n\t\t\tmodule.paths = [];\n\t\t\t// module.parent = undefined by default\n\t\t\tmodule.children = [];\n\t\t\tmodule.webpackPolyfill = 1;\n\t\t}\n\t\treturn module;\n\t}\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _redux = __webpack_require__(16);\n\t\n\tvar _config = __webpack_require__(19);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\t// --- helpers -------------------\n\tfunction getFirstIndexOfVm(state, field, value, connectionName) {\n\t    return state.findIndex(function (e) {\n\t        return e.connectionName === connectionName && e[field] === value;\n\t    });\n\t}\n\t\n\t// --- reducers ------------------\n\tfunction config(state, action) {\n\t    state = state ? state : {\n\t        provider: null,\n\t        providerState: null,\n\t        refreshInterval: _config2.default.DefaultRefreshInterval\n\t    };\n\t\n\t    switch (action.type) {\n\t        case 'SET_PROVIDER':\n\t            return Object.assign({}, state, { provider: action.provider });\n\t        case 'SET_REFRESH_INTERVAL':\n\t            {\n\t                var newState = Object.assign({}, state);\n\t                newState.refreshInterval = action.refreshInterval;\n\t                return newState;\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\t/**\n\t * Provider might optionally extend the reducer tree (see state.provider.reducer() function)\n\t */\n\tfunction lazyComposedReducer(_ref) {\n\t    var parentReducer = _ref.parentReducer,\n\t        getSubreducer = _ref.getSubreducer,\n\t        getSubstate = _ref.getSubstate,\n\t        setSubstate = _ref.setSubstate;\n\t\n\t    return function (state, action) {\n\t        var newState = parentReducer(state, action);\n\t        var subreducer = getSubreducer(newState);\n\t        if (subreducer) {\n\t            var newSubstate = subreducer(getSubstate(newState), action);\n\t            if (newSubstate !== getSubstate(newState)) {\n\t                newState = setSubstate(newState, newSubstate);\n\t            }\n\t        }\n\t        return newState;\n\t    };\n\t}\n\t\n\tfunction vms(state, action) {\n\t    state = state ? state : [];\n\t\n\t    (0, _helpers.logDebug)('reducer vms: action=' + JSON.stringify(action));\n\t\n\t    function findVmToUpdate(state, _ref2) {\n\t        var connectionName = _ref2.connectionName,\n\t            id = _ref2.id,\n\t            name = _ref2.name;\n\t\n\t        var index = id ? getFirstIndexOfVm(state, 'id', id, connectionName) : getFirstIndexOfVm(state, 'name', name, connectionName);\n\t        if (index < 0) {\n\t            (0, _helpers.logDebug)('vms reducer: vm (name=\\'' + name + '\\', connectionName=\\'' + connectionName + '\\') not found, skipping');\n\t            return null;\n\t        }\n\t        return { // return object of {index, copyOfVm}\n\t            index: index,\n\t            vmCopy: Object.assign({}, state[index]) // TODO: consider immutableJs\n\t        };\n\t    }\n\t\n\t    function replaceVm(_ref3) {\n\t        var state = _ref3.state,\n\t            updatedVm = _ref3.updatedVm,\n\t            index = _ref3.index;\n\t\n\t        return state.slice(0, index).concat(updatedVm).concat(state.slice(index + 1));\n\t    }\n\t\n\t    switch (action.type) {\n\t        case 'UPDATE_ADD_VM':\n\t            {\n\t                var connectionName = action.vm.connectionName;\n\t                var index = action.vm.id ? getFirstIndexOfVm(state, 'id', action.vm.id, connectionName) : getFirstIndexOfVm(state, 'name', action.vm.name, connectionName);\n\t                if (index < 0) {\n\t                    // add\n\t                    return [].concat(_toConsumableArray(state), [action.vm]);\n\t                }\n\t\n\t                var updatedVm = Object.assign({}, state[index], action.vm);\n\t                return replaceVm({ state: state, updatedVm: updatedVm, index: index });\n\t            }\n\t        case 'UPDATE_VM':\n\t            {\n\t                var indexedVm = findVmToUpdate(state, action.vm);\n\t                if (!indexedVm) {\n\t                    return state;\n\t                }\n\t\n\t                var _updatedVm = void 0;\n\t                if (action.vm['actualTimeInMs'] < 0) {\n\t                    // clear the usage data (i.e. VM went down)\n\t                    (0, _helpers.logDebug)('Clearing usage data for vm \\'' + action.vm.name + '\\'');\n\t                    _updatedVm = Object.assign(indexedVm.vmCopy, action.vm);\n\t                    clearUsageData(_updatedVm);\n\t                } else {\n\t                    timeSampleUsageData(action.vm, indexedVm.vmCopy);\n\t                    _updatedVm = Object.assign(indexedVm.vmCopy, action.vm);\n\t                }\n\t\n\t                // replace whole object\n\t                return replaceVm({ state: state, updatedVm: _updatedVm, index: indexedVm.index });\n\t            }\n\t        case 'VM_ACTION_FAILED':\n\t            {\n\t                var _indexedVm = findVmToUpdate(state, action.payload);\n\t                if (!_indexedVm) {\n\t                    // already logged\n\t                    return state;\n\t                }\n\t                var _updatedVm2 = Object.assign(_indexedVm.vmCopy, {\n\t                    lastMessage: action.payload.message,\n\t                    lastMessageDetail: action.payload.detail\n\t                });\n\t\n\t                return replaceVm({ state: state, updatedVm: _updatedVm2, index: _indexedVm.index });\n\t            }\n\t        case 'UNDEFINE_VM':\n\t            {\n\t                return state.filter(function (vm) {\n\t                    return action.connectionName !== vm.connectionName || action.name != vm.name || action.transientOnly && vm.persistent;\n\t                });\n\t            }\n\t        case 'DELETE_UNLISTED_VMS':\n\t            {\n\t                return state.filter(function (vm) {\n\t                    return action.connectionName !== vm.connectionName || action.vmNames.indexOf(vm.name) >= 0;\n\t                });\n\t            }\n\t        default:\n\t            // by default all reducers should return initial state on unknown actions\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction osInfoList(state, action) {\n\t    state = state ? state : [];\n\t\n\t    switch (action.type) {\n\t        case 'UPDATE_OS_INFO_LIST':\n\t            {\n\t                return action.osInfoList instanceof Array ? [].concat(_toConsumableArray(action.osInfoList)) : state;\n\t            }\n\t        default:\n\t            // by default all reducers should return initial state on unknown actions\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction ui(state, action) {\n\t    state = state ? state : {\n\t        vmsCreated: {}, // transient property\n\t        vmsInstallInitiated: {} // transient property\n\t    };\n\t\n\t    switch (action.type) {\n\t        case 'VM_CREATE_IN_PROGRESS':\n\t            {\n\t                state.vmsCreated = Object.assign({}, state.vmsCreated, _defineProperty({}, action.vm.name, action.vm));\n\t                return state;\n\t            }\n\t        case 'VM_CREATE_COMPLETED':\n\t            delete state.vmsCreated[action.vm.name];\n\t            return state;\n\t        case 'VM_INSTALL_IN_PROGRESS':\n\t            {\n\t                state.vmsInstallInitiated = Object.assign({}, state.vmsInstallInitiated, _defineProperty({}, action.vm.name, action.vm));\n\t                return state;\n\t            }\n\t        case 'VM_INSTALL_COMPLETED':\n\t            delete state.vmsInstallInitiated[action.vm.name];\n\t            return state;\n\t\n\t        default:\n\t            // by default all reducers should return initial state on unknown actions\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction clearUsageData(updatedVm) {\n\t    updatedVm['actualTimeInMs'] = undefined;\n\t    updatedVm['cpuTime'] = undefined;\n\t    updatedVm['cpuUsage'] = undefined;\n\t\n\t    updatedVm['rssMemory'] = undefined;\n\t}\n\t\n\tfunction timeSampleUsageData(newVmRecord, previousVmRecord) {\n\t    if (newVmRecord['actualTimeInMs']) {\n\t        // new usage data are provided\n\t        if (previousVmRecord['actualTimeInMs']) {\n\t            // diff can be computed\n\t            var timeDiff = (newVmRecord.actualTimeInMs - previousVmRecord.actualTimeInMs) * 1000000; // in nanosecs\n\t            if (timeDiff <= 0) {\n\t                (0, _helpers.logDebug)('-- timeSampleUsageData(): no time difference');\n\t                return;\n\t            }\n\t            var cpuTimeDiff = newVmRecord.cpuTime - previousVmRecord.cpuTime; // in nanosecs\n\t\n\t            // store computed actual usage stats\n\t            newVmRecord.cpuUsage = (100 * cpuTimeDiff / timeDiff).toFixed(1);\n\t\n\t            return;\n\t        } else {\n\t            (0, _helpers.logDebug)('timeSampleUsageData(): can\\'t compute diff - missing previous record');\n\t            newVmRecord.cpuUsage = 0;\n\t        }\n\t    }\n\t}\n\t\n\texports.default = (0, _redux.combineReducers)({\n\t    config: lazyComposedReducer({\n\t        parentReducer: config,\n\t        getSubreducer: function getSubreducer(state) {\n\t            return state.provider && state.provider.reducer ? state.provider.reducer : undefined;\n\t        },\n\t        getSubstate: function getSubstate(state) {\n\t            return state.providerState;\n\t        },\n\t        setSubstate: function setSubstate(state, subState) {\n\t            return Object.assign({}, state, { providerState: subState });\n\t        }\n\t    }),\n\t    vms: vms,\n\t    osInfoList: osInfoList,\n\t    ui: ui\n\t});\n\n/***/ },\n/* 19 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t/**\n\t * Application-wide constants\n\t * TODO: make this configurable by user\n\t */\n\tvar VMS_CONFIG = {\n\t    DefaultRefreshInterval: 10000, // in ms\n\t    Virsh: {\n\t        connections: {\n\t            'system': {\n\t                params: ['-c', 'qemu:///system']\n\t            },\n\t            'session': {\n\t                params: ['-c', 'qemu:///session']\n\t            }\n\t        }\n\t    },\n\t    // TODO: make it configurable via config file\n\t    isDev: false // Never commit with 'true'\n\t};\n\t\n\texports.default = VMS_CONFIG;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.units = undefined;\n\texports.toReadableNumber = toReadableNumber;\n\texports.convertToBestUnit = convertToBestUnit;\n\texports.convertToUnit = convertToUnit;\n\texports.convertToUnitVerbose = convertToUnitVerbose;\n\texports.isEmpty = isEmpty;\n\texports.arrayEquals = arrayEquals;\n\texports.logDebug = logDebug;\n\texports.logError = logError;\n\texports.digitFilter = digitFilter;\n\texports.getTodayYearShifted = getTodayYearShifted;\n\texports.rephraseUI = rephraseUI;\n\texports.toFixedPrecision = toFixedPrecision;\n\texports.fileDownload = fileDownload;\n\texports.vmId = vmId;\n\texports.mouseClick = mouseClick;\n\texports.timeoutedPromise = timeoutedPromise;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _config = __webpack_require__(19);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tfunction toReadableNumber(number) {\n\t    if (number < 1) {\n\t        return number.toFixed(2);\n\t    } else {\n\t        var fixed1 = number.toFixed(1);\n\t        return number - fixed1 === 0 ? number.toFixed(0) : fixed1;\n\t    }\n\t}\n\t\n\tvar units = exports.units = {\n\t    B: {\n\t        name: \"B\",\n\t        base1024Exponent: 0\n\t    },\n\t    KiB: {\n\t        name: \"KiB\",\n\t        base1024Exponent: 1\n\t    },\n\t    MiB: {\n\t        name: \"MiB\",\n\t        base1024Exponent: 2\n\t    },\n\t    GiB: {\n\t        name: \"GiB\",\n\t        base1024Exponent: 3\n\t    },\n\t    TiB: {\n\t        name: \"TiB\",\n\t        base1024Exponent: 4\n\t    },\n\t    PiB: {\n\t        name: \"PiB\",\n\t        base1024Exponent: 5\n\t    },\n\t    EiB: {\n\t        name: \"EiB\",\n\t        base1024Exponent: 6\n\t    }\n\t};\n\t\n\tvar logUnitMap = {\n\t    '0': units.B,\n\t    '1': units.KiB,\n\t    '2': units.MiB,\n\t    '3': units.GiB,\n\t    '4': units.TiB,\n\t    '5': units.PiB,\n\t    '6': units.EiB\n\t};\n\t\n\tfunction getPowerOf1024(exponent) {\n\t    return exponent === 0 ? 1 : Math.pow(1024, exponent);\n\t}\n\t\n\tfunction getLogarithmOfBase1024(value) {\n\t    return value > 0 ? Math.floor(Math.log(value) / Math.log(1024)) : 0;\n\t}\n\t\n\tfunction convertToBestUnit(input, inputUnit) {\n\t    return convertToUnitVerbose(input, inputUnit, logUnitMap[getLogarithmOfBase1024(convertToUnitVerbose(input, inputUnit, units.B).value)]);\n\t}\n\t\n\tfunction convertToUnit(input, inputUnit, outputUnit) {\n\t    return convertToUnitVerbose(input, inputUnit, outputUnit).value;\n\t}\n\t\n\tfunction convertToUnitVerbose(input, inputUnit, outputUnit) {\n\t    var result = {\n\t        value: 0,\n\t        unit: units.B.name\n\t    };\n\t\n\t    input = Number(input);\n\t    if (isNaN(input)) {\n\t        console.error('input is not a number');\n\t        return result;\n\t    }\n\t\n\t    if (input < 0) {\n\t        console.error('input == ' + input + ' cannot be less than zero');\n\t        return result;\n\t    }\n\t\n\t    var inUnit = units[typeof inputUnit === 'string' ? inputUnit : inputUnit.name];\n\t    var outUnit = units[typeof outputUnit === 'string' ? outputUnit : outputUnit.name];\n\t\n\t    if (!inUnit || !outUnit) {\n\t        console.error('unknown unit ' + (!inUnit ? inputUnit : outputUnit));\n\t        return result;\n\t    }\n\t\n\t    var exponentDiff = inUnit.base1024Exponent - outUnit.base1024Exponent;\n\t    if (exponentDiff < 0) {\n\t        result.value = input / getPowerOf1024(-1 * exponentDiff);\n\t    } else {\n\t        result.value = input * getPowerOf1024(exponentDiff);\n\t    }\n\t    result.unit = outUnit.name;\n\t\n\t    return result;\n\t}\n\t\n\tfunction isEmpty(str) {\n\t    return !str || 0 === str.length;\n\t}\n\t\n\tfunction arrayEquals(arr1, arr2) {\n\t    if (arr1.length !== arr2.length) {\n\t        return false;\n\t    }\n\t\n\t    var diff = arr1.filter(function (v, index) {\n\t        return v !== arr2[index];\n\t    });\n\t    return diff.length === 0;\n\t}\n\t\n\tfunction logDebug(msg) {\n\t    if (_config2.default.isDev) {\n\t        var _console;\n\t\n\t        for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n\t            params[_key - 1] = arguments[_key];\n\t        }\n\t\n\t        (_console = console).log.apply(_console, [msg].concat(params));\n\t    }\n\t}\n\t\n\tfunction logError(msg) {\n\t    var _console2;\n\t\n\t    for (var _len2 = arguments.length, params = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n\t        params[_key2 - 1] = arguments[_key2];\n\t    }\n\t\n\t    (_console2 = console).error.apply(_console2, [msg].concat(params));\n\t}\n\t\n\tfunction digitFilter(event) {\n\t    var allowDots = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t    var doNotFilter = allowDots && event.charCode === 46 || event.charCode >= 48 && event.charCode <= 57;\n\t\n\t    if (!doNotFilter) {\n\t        event.preventDefault();\n\t    }\n\t\n\t    return doNotFilter;\n\t}\n\t\n\tfunction getTodayYearShifted(yearDifference) {\n\t    var result = new Date();\n\t    result.setFullYear(result.getFullYear() + yearDifference);\n\t    return result;\n\t}\n\t\n\tvar transform = {\n\t    'autostart': {\n\t        'disable': _(\"disabled\"),\n\t        'enable': _(\"enabled\")\n\t    },\n\t    'connections': {\n\t        'system': _(\"System\"),\n\t        'session': _(\"Session\")\n\t    },\n\t    'vmStates': {\n\t        'running': _(\"running\"),\n\t        'idle': _(\"idle\"),\n\t        'paused': _(\"paused\"),\n\t        'shutdown': _(\"shutdown\"),\n\t        'shut off': _(\"shut off\"),\n\t        'crashed': _(\"crashed\"),\n\t        'dying': _(\"dying\"),\n\t        'pmsuspended': _(\"suspended (PM)\")\n\t    },\n\t    'bootableDisk': {\n\t        'disk': _(\"disk\"),\n\t        'cdrom': _(\"cdrom\"),\n\t        'interface': _(\"network\"),\n\t        'hd': _(\"disk\")\n\t    },\n\t    'cpuMode': {\n\t        'custom': _(\"custom\"),\n\t        'host-model': _(\"host\")\n\t    },\n\t    'networkType': {\n\t        'direct': _(\"direct\"),\n\t        'network': _(\"network\"),\n\t        'bridge': _(\"bridge\"),\n\t        'user': _(\"user\"),\n\t        'ethernet': _(\"ethernet\"),\n\t        'hostdev': _(\"hostdev\"),\n\t        'mcast': _(\"mcast\"),\n\t        'server': _(\"server\"),\n\t        'udp': _(\"udp\"),\n\t        'vhostuser': _(\"vhostuser\")\n\t    },\n\t    'networkManaged': {\n\t        'yes': _(\"yes\"),\n\t        'no': _(\"no\")\n\t    },\n\t    'networkState': {\n\t        'up': _(\"up\"),\n\t        'down': _(\"down\")\n\t    }\n\t};\n\t\n\tfunction rephraseUI(key, original) {\n\t    if (!(key in transform)) {\n\t        logDebug('rephraseUI(key=\\'' + key + '\\', original=\\'' + original + '\\'): unknown key');\n\t        return original;\n\t    }\n\t\n\t    if (!(original in transform[key])) {\n\t        logDebug('rephraseUI(key=\\'' + key + '\\', original=\\'' + original + '\\'): unknown original value');\n\t        return original;\n\t    }\n\t\n\t    return transform[key][original];\n\t}\n\t\n\tfunction toFixedPrecision(value, precision) {\n\t    precision = precision || 0;\n\t    var power = Math.pow(10, precision);\n\t    var absValue = Math.abs(Math.round(value * power));\n\t    var result = (value < 0 ? '-' : '') + String(Math.floor(absValue / power));\n\t\n\t    if (precision > 0) {\n\t        var fraction = String(absValue % power);\n\t        var padding = new Array(Math.max(precision - fraction.length, 0) + 1).join('0');\n\t        result += '.' + padding + fraction;\n\t    }\n\t    return result;\n\t}\n\t\n\tfunction isFirefox() {\n\t    return window.navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\t}\n\t\n\t/**\n\t * Download given content as a file in the browser\n\t *\n\t * @param data Content of the file\n\t * @param fileName\n\t * @param mimeType\n\t * @returns {*}\n\t */\n\tfunction fileDownload(_ref) {\n\t    var data = _ref.data,\n\t        _ref$fileName = _ref.fileName,\n\t        fileName = _ref$fileName === undefined ? 'myFile.dat' : _ref$fileName,\n\t        _ref$mimeType = _ref.mimeType,\n\t        mimeType = _ref$mimeType === undefined ? 'application/octet-stream' : _ref$mimeType;\n\t\n\t    if (!data) {\n\t        console.error('fileDownload(): no data to download');\n\t        return false;\n\t    }\n\t\n\t    var a = document.createElement('a');\n\t    a.id = 'dynamically-generated-file';\n\t    a.href = 'data:' + mimeType + ',' + encodeURIComponent(data);\n\t    document.body.appendChild(a); // if not used further then at least within integration tests\n\t\n\t    // Workaround since I can't get CSP working on newer Firefox versions for this\n\t    if (!isFirefox() && 'download' in a) {\n\t        // html5 A[download]\n\t        logDebug('fileDownload() is using A.HREF');\n\t        a.setAttribute('download', fileName);\n\t        a.click();\n\t    } else {\n\t        // do iframe dataURL download (old ch+FF):\n\t        logDebug('fileDownload() is using IFRAME');\n\t        var f = document.createElement('iframe');\n\t        f.width = '1';\n\t        f.height = '1';\n\t        document.body.appendChild(f);\n\t        var nicerText = '\\n[...............................GraphicsConsole]\\n';\n\t        f.src = 'data:' + mimeType + ',' + encodeURIComponent(data + nicerText);\n\t        window.setTimeout(function () {\n\t            return document.body.removeChild(f);\n\t        }, 333);\n\t    }\n\t\n\t    window.setTimeout(function () {\n\t        // give test browser some time ...\n\t        logDebug('removing temporary A.HREF for filedownload');\n\t        document.body.removeChild(a);\n\t    }, 5000);\n\t    return true;\n\t}\n\t\n\tfunction vmId(vmName) {\n\t    return 'vm-' + vmName;\n\t}\n\t\n\tfunction mouseClick(fun) {\n\t    return function (event) {\n\t        if (!event || event.button !== 0) return;\n\t        event.preventDefault();\n\t        return fun(event);\n\t    };\n\t}\n\t\n\t/**\n\t * Let promise resolve itself in specified delay or force resolve it with 0 arguments\n\t *\n\t * @param promise\n\t * @param delay of timeout in ms\n\t * @returns new promise\n\t */\n\tfunction timeoutedPromise(promise, delay) {\n\t    var deferred = _cockpit2.default.defer();\n\t    var done = false;\n\t\n\t    var timer = window.setTimeout(function () {\n\t        if (!done) {\n\t            deferred.resolve();\n\t            done = true;\n\t        }\n\t    }, delay);\n\t\n\t    promise.then(function () /* ... */{\n\t        if (!done) {\n\t            deferred.resolve.apply(deferred, arguments);\n\t            done = true;\n\t            window.clearTimeout(timer);\n\t        }\n\t    });\n\t\n\t    promise.catch(function () /* ... */{\n\t        if (!done) {\n\t            deferred.reject.apply(deferred, arguments);\n\t            done = true;\n\t            window.clearTimeout(timer);\n\t        }\n\t    });\n\t\n\t    return deferred.promise;\n\t}\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\tmodule.exports = cockpit;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.thunk = thunk;\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\t/**\n\t * Middleware that resolves functions taking (dispatch, getState) and promises.\n\t *\n\t * If a promise is passed the dispatch will just return the passed promise.\n\t * This is done to simplify some client code that can sometime dispatch a promise and sometimes a plain action.\n\t *\n\t * If a function is passed (which is not a promise) we perform the usual injection of (dispatch, getState).\n\t */\n\tfunction thunk(_ref) {\n\t    var dispatch = _ref.dispatch,\n\t        getState = _ref.getState;\n\t\n\t    (0, _helpers.logDebug)('thunk-middleware');\n\t\n\t    return function (next) {\n\t        return function (action) {\n\t            if (typeof action === 'function') {\n\t                // cockpit style promise is also typeof 'function'\n\t                // so we differentiate between those two by the presence of property 'then' or 'done'\n\t                return action.then || action.done ? action : action(dispatch, getState);\n\t            }\n\t\n\t            return next(action);\n\t        };\n\t    };\n\t} /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getAllVms = getAllVms;\n\texports.getVm = getVm;\n\texports.getOsInfoList = getOsInfoList;\n\texports.shutdownVm = shutdownVm;\n\texports.forceVmOff = forceVmOff;\n\texports.rebootVm = rebootVm;\n\texports.forceRebootVm = forceRebootVm;\n\texports.startVm = startVm;\n\texports.deleteVm = deleteVm;\n\texports.installVm = installVm;\n\texports.createVm = createVm;\n\texports.vmDesktopConsole = vmDesktopConsole;\n\texports.usageStartPolling = usageStartPolling;\n\texports.usageStopPolling = usageStopPolling;\n\texports.sendNMI = sendNMI;\n\texports.changeNetworkState = changeNetworkState;\n\texports.delayPolling = delayPolling;\n\texports.setProvider = setProvider;\n\texports.setRefreshInterval = setRefreshInterval;\n\texports.updateOrAddVm = updateOrAddVm;\n\texports.updateVm = updateVm;\n\texports.updateOsInfoList = updateOsInfoList;\n\texports.vmCreateInProgress = vmCreateInProgress;\n\texports.vmCreateCompleted = vmCreateCompleted;\n\texports.vmInstallInProgress = vmInstallInProgress;\n\texports.vmInstallCompleted = vmInstallCompleted;\n\texports.vmActionFailed = vmActionFailed;\n\texports.deleteVmMessage = deleteVmMessage;\n\texports.undefineVm = undefineVm;\n\texports.deleteUnlistedVMs = deleteUnlistedVMs;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _selectors = __webpack_require__(24);\n\t\n\tvar _config = __webpack_require__(19);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _provider = __webpack_require__(25);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\n\t * All actions dispatchable by in the application\n\t */\n\t\n\t// --- Provider actions -----------------------------------------\n\t/**\n\t *\n\t * @param connectionName optional - if `undefined` then for all connections\n\t */\n\tfunction getAllVms(connectionName) {\n\t    return (0, _provider.virt)('GET_ALL_VMS', { connectionName: connectionName });\n\t} /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tfunction getVm(connectionName, lookupId) {\n\t    return (0, _provider.virt)('GET_VM', {\n\t        lookupId: lookupId, // provider-specific (i.e. libvirt uses vm_name)\n\t        connectionName: connectionName\n\t    });\n\t}\n\t\n\tfunction getOsInfoList() {\n\t    return (0, _provider.virt)('GET_OS_INFO_LIST');\n\t}\n\t\n\tfunction shutdownVm(vm) {\n\t    return (0, _provider.virt)('SHUTDOWN_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction forceVmOff(vm) {\n\t    return (0, _provider.virt)('FORCEOFF_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction rebootVm(vm) {\n\t    return (0, _provider.virt)('REBOOT_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction forceRebootVm(vm) {\n\t    return (0, _provider.virt)('FORCEREBOOT_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction startVm(vm) {\n\t    return (0, _provider.virt)('START_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction deleteVm(vm, options) {\n\t    return (0, _provider.virt)('DELETE_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName, options: options });\n\t}\n\t\n\tfunction installVm(vm) {\n\t    return (0, _provider.virt)('INSTALL_VM', vm);\n\t}\n\t\n\tfunction createVm(vmParams) {\n\t    return (0, _provider.virt)('CREATE_VM', vmParams);\n\t}\n\t\n\tfunction vmDesktopConsole(vm, consoleDetail) {\n\t    return (0, _provider.virt)('CONSOLE_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName, consoleDetail: consoleDetail });\n\t}\n\t\n\tfunction usageStartPolling(vm) {\n\t    return (0, _provider.virt)('USAGE_START_POLLING', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction usageStopPolling(vm) {\n\t    return (0, _provider.virt)('USAGE_STOP_POLLING', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction sendNMI(vm) {\n\t    return (0, _provider.virt)('SENDNMI_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n\t}\n\t\n\tfunction changeNetworkState(vm, networkMac, state) {\n\t    return (0, _provider.virt)('CHANGE_NETWORK_STATE', { name: vm.name, networkMac: networkMac, state: state, connectionName: vm.connectionName });\n\t}\n\t\n\t/**\n\t * Delay call of polling action.\n\t *\n\t * To avoid execution overlap, the setTimeout() is used instead of setInterval().\n\t *\n\t * The delayPolling() function is called after previous execution is finished so\n\t * the refresh interval starts counting since that moment.\n\t *\n\t * If the application is not visible, the polling action execution is skipped\n\t * and scheduled on later.\n\t *\n\t * @param action I.e. getAllVms()\n\t * @param timeout Non-default timeout\n\t */\n\tfunction delayPolling(action, timeout) {\n\t    return function (dispatch, getState) {\n\t        timeout = timeout || (0, _selectors.getRefreshInterval)(getState());\n\t\n\t        if (timeout > 0 && !_cockpit2.default.hidden) {\n\t            (0, _helpers.logDebug)('Scheduling ' + timeout + ' ms delayed action');\n\t            window.setTimeout(function () {\n\t                (0, _helpers.logDebug)('Executing delayed action');\n\t                dispatch(action);\n\t            }, timeout);\n\t        } else {\n\t            // logDebug(`Skipping delayed action since refreshing is switched off`);\n\t            window.setTimeout(function () {\n\t                return dispatch(delayPolling(action, timeout));\n\t            }, _config2.default.DefaultRefreshInterval);\n\t        }\n\t    };\n\t}\n\t\n\t// --- Store actions --------------------------------------------\n\tfunction setProvider(provider) {\n\t    return {\n\t        type: 'SET_PROVIDER',\n\t        provider: provider\n\t    };\n\t}\n\t\n\tfunction setRefreshInterval(refreshInterval) {\n\t    return {\n\t        type: 'SET_REFRESH_INTERVAL',\n\t        refreshInterval: refreshInterval\n\t    };\n\t}\n\t\n\tfunction updateOrAddVm(props) {\n\t    return {\n\t        type: 'UPDATE_ADD_VM',\n\t        vm: props\n\t    };\n\t}\n\t\n\tfunction updateVm(props) {\n\t    return {\n\t        type: 'UPDATE_VM',\n\t        vm: props\n\t    };\n\t}\n\t\n\tfunction updateOsInfoList(osInfoList) {\n\t    return {\n\t        type: 'UPDATE_OS_INFO_LIST',\n\t        osInfoList: osInfoList\n\t    };\n\t}\n\t\n\tfunction vmCreateInProgress(vm) {\n\t    return {\n\t        type: 'VM_CREATE_IN_PROGRESS',\n\t        vm: vm\n\t    };\n\t}\n\t\n\tfunction vmCreateCompleted(vm) {\n\t    return {\n\t        type: 'VM_CREATE_COMPLETED',\n\t        vm: vm\n\t    };\n\t}\n\t\n\tfunction vmInstallInProgress(vm) {\n\t    return {\n\t        type: 'VM_INSTALL_IN_PROGRESS',\n\t        vm: vm\n\t    };\n\t}\n\t\n\tfunction vmInstallCompleted(vm) {\n\t    return {\n\t        type: 'VM_INSTALL_COMPLETED',\n\t        vm: vm\n\t    };\n\t}\n\t\n\tfunction vmActionFailed(_ref) {\n\t    var name = _ref.name,\n\t        connectionName = _ref.connectionName,\n\t        message = _ref.message,\n\t        detail = _ref.detail,\n\t        extraPayload = _ref.extraPayload;\n\t\n\t    return {\n\t        type: 'VM_ACTION_FAILED',\n\t        payload: {\n\t            name: name,\n\t            connectionName: connectionName,\n\t            message: message,\n\t            detail: detail,\n\t            extraPayload: extraPayload\n\t        }\n\t    };\n\t}\n\t\n\tfunction deleteVmMessage(_ref2) {\n\t    var name = _ref2.name,\n\t        connectionName = _ref2.connectionName;\n\t\n\t    // recently there's just the last error message kept so we can reuse the code\n\t    return vmActionFailed({ name: name, connectionName: connectionName, message: null, detail: null, extraPayload: null });\n\t}\n\t\n\tfunction undefineVm(connectionName, name, transientOnly) {\n\t    return {\n\t        type: 'UNDEFINE_VM',\n\t        name: name,\n\t        connectionName: connectionName,\n\t        transientOnly: transientOnly\n\t    };\n\t}\n\t\n\tfunction deleteUnlistedVMs(connectionName, vmNames) {\n\t    return {\n\t        type: 'DELETE_UNLISTED_VMS',\n\t        vmNames: vmNames,\n\t        connectionName: connectionName\n\t    };\n\t}\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getRefreshInterval = getRefreshInterval;\n\texports.usagePollingEnabled = usagePollingEnabled;\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t/*\n\t * Selectors are pattern that enables to decouple the View layer from the exact layout of\n\t * the state in Redux store. This also enables to put derived (computed) data on the same level\n\t * as the objects stored in the store directly.\n\t *\n\t * Reference: http://redux.js.org/docs/recipes/ComputingDerivedData.html\n\t */\n\t\n\tfunction getRefreshInterval(state) {\n\t    return state.config.refreshInterval;\n\t}\n\t\n\tfunction usagePollingEnabled(state, name, connectionName) {\n\t    for (var i = 0; i < state.vms.length; i++) {\n\t        var vm = state.vms[i];\n\t        if (vm.connectionName === connectionName && vm.name === name) return vm.usagePolling;\n\t    }\n\t    return false; // VM got undefined\n\t}\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setVirtProvider = setVirtProvider;\n\texports.virt = virt;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar provider = null; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tfunction setVirtProvider(prov) {\n\t    provider = prov;\n\t}\n\t\n\tfunction getVirtProvider(store) {\n\t    var state = store.getState();\n\t    if (state.config.provider) {\n\t        return _cockpit2.default.resolve(state.config.provider);\n\t    } else {\n\t        var deferred = _cockpit2.default.defer();\n\t        (0, _helpers.logDebug)('Discovering provider');\n\t\n\t        if (!provider) {\n\t            //  no provider available\n\t            deferred.reject();\n\t        } else {\n\t            if (!provider.init) {\n\t                // Skip the initialization if provider does not define the `init` hook.\n\t                (0, _helpers.logDebug)('No init() method in the provider');\n\t                store.dispatch((0, _actions.setProvider)(provider));\n\t                deferred.resolve(provider);\n\t            } else {\n\t                // The external provider plugin lives in the same context as the parent code, so it should be shared.\n\t                // The provider is meant to support lazy initialization, especially of the React which is\n\t                // provided by the parent application.\n\t                var initResult = provider.init({ dispatch: store.dispatch });\n\t\n\t                if (initResult && initResult.then) {\n\t                    // if Promise or $.jqXHR, the then() is defined\n\t                    initResult.then(function () {\n\t                        (0, _helpers.logDebug)('Provider\\'s Init() is returning resolved Promise');\n\t                        store.dispatch((0, _actions.setProvider)(provider));\n\t                        deferred.resolve(provider);\n\t                    }, function (ex) {\n\t                        (0, _helpers.logDebug)('Provider\\'s Init() is returning rejected Promise');\n\t                        deferred.reject(ex);\n\t                    });\n\t                } else {\n\t                    // Promise is not returned, so at least 'true' is expected\n\t                    if (initResult) {\n\t                        (0, _helpers.logDebug)('No Promise returned, but successful init: ' + JSON.stringify(initResult));\n\t                        store.dispatch((0, _actions.setProvider)(provider));\n\t                        deferred.resolve(provider);\n\t                    } else {\n\t                        deferred.reject();\n\t                    }\n\t                }\n\t            }\n\t        }\n\t\n\t        return deferred.promise;\n\t    }\n\t}\n\t\n\t/**\n\t * Helper for dispatching virt provider methods.\n\t *\n\t * Lazily initializes the virt provider and dispatches given method on it.\n\t */\n\tfunction virt(method, action) {\n\t    return function (dispatch, getState) {\n\t        return getVirtProvider({ dispatch: dispatch, getState: getState }).fail(function (err) {\n\t            console.error('could not detect any virt provider');\n\t        }).then(function (provider) {\n\t            if (method in provider) {\n\t                (0, _helpers.logDebug)('Calling ' + provider.name + '.' + method, action);\n\t                return dispatch(provider[method](action));\n\t            } else {\n\t                var msg = 'method: \\'' + method + '\\' is not supported by provider: \\'' + provider.name + '\\'';\n\t                console.warn(msg);\n\t                return _cockpit2.default.reject(msg);\n\t            }\n\t        });\n\t    };\n\t}\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setOvirtApiCheckResult = setOvirtApiCheckResult;\n\texports.isOvirtApiCheckPassed = isOvirtApiCheckPassed;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _libvirt = __webpack_require__(27);\n\t\n\tvar _libvirt2 = _interopRequireDefault(_libvirt);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _configFuncs = __webpack_require__(34);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _ovirtApiAccess = __webpack_require__(36);\n\t\n\tvar _ovirt = __webpack_require__(37);\n\t\n\tvar _ovirtConverters = __webpack_require__(39);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _selectors = __webpack_require__(40);\n\t\n\tvar _reducers = __webpack_require__(47);\n\t\n\tvar _VmActions = __webpack_require__(48);\n\t\n\tvar _VmActions2 = _interopRequireDefault(_VmActions);\n\t\n\tvar _VmOverviewColumn = __webpack_require__(49);\n\t\n\tvar _VmOverviewColumn2 = _interopRequireDefault(_VmOverviewColumn);\n\t\n\tvar _ConsoleClientResources = __webpack_require__(51);\n\t\n\tvar _ConsoleClientResources2 = _interopRequireDefault(_ConsoleClientResources);\n\t\n\tvar _OVirtTab = __webpack_require__(52);\n\t\n\tvar _OVirtTab2 = _interopRequireDefault(_OVirtTab);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar OVIRT_PROVIDER = Object.create(_libvirt2.default); // inherit whatever is not implemented here\n\t\n\tvar QEMU_SYSTEM = 'system'; // conforms connection name defined in parent's cockpit:machines/config.es6\n\t\n\tOVIRT_PROVIDER.name = 'oVirt';\n\tOVIRT_PROVIDER.ovirtApiMetadata = {\n\t    passed: undefined // check for oVirt API version\n\t}; // will be filled by initialization\n\t\n\tOVIRT_PROVIDER.reducer = _reducers.ovirtReducer;\n\t\n\t// --- React extension\n\tOVIRT_PROVIDER.VmActions = _VmActions2.default;\n\tOVIRT_PROVIDER.vmOverviewExtra = _VmOverviewColumn2.default;\n\tOVIRT_PROVIDER.ConsoleClientResources = _ConsoleClientResources2.default;\n\tOVIRT_PROVIDER.vmTabRenderers = [{\n\t    name: _(\"oVirt\"),\n\t    idPostfix: 'ovirt',\n\t    component: _OVirtTab2.default\n\t}];\n\t\n\t// --- enable/disable actions in UI\n\tOVIRT_PROVIDER.canDelete = function (vmState, vmId, providerState) {\n\t    return (0, _selectors.isVmManagedByOvirt)(providerState, vmId) ? false : _libvirt2.default.canDelete(vmState, vmId);\n\t};\n\t\n\t/* Use of serial Console is disabled.\n\t  TODO: use ssh to connect to serial console of oVirt-managed VM.\n\t  https://www.ovirt.org/develop/release-management/features/virt/serial-console/\n\t  https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.1/html/virtual_machine_management_guide/sect-starting_the_virtual_machine\n\t*/\n\tOVIRT_PROVIDER.serialConsoleCommand = function (_ref) {\n\t    var vm = _ref.vm;\n\t    return false;\n\t};\n\t\n\t// --- verbs\n\tOVIRT_PROVIDER.init = function (_ref2) {\n\t    var dispatch = _ref2.dispatch;\n\t\n\t    (0, _helpers.logDebug)('Virtual Machines Provider used: ' + this.name);\n\t    return (0, _configFuncs.readConfiguration)({ dispatch: dispatch }); // and do oVirt login\n\t};\n\t\n\tOVIRT_PROVIDER.POLL_OVIRT = function (payload) {\n\t    return (0, _ovirt.pollOvirt)();\n\t};\n\t\n\tOVIRT_PROVIDER.SHUTDOWN_VM = function (payload) {\n\t    (0, _helpers.logDebug)('SHUTDOWN_VM(payload: ' + JSON.stringify(payload) + ')');\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match, redirecting the action to Libvirt');\n\t        return _libvirt2.default.SHUTDOWN_VM(payload);\n\t    }\n\t\n\t    var id = payload.id;\n\t    var vmName = payload.name;\n\t    return function (dispatch) {\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t        return (0, _ovirtApiAccess.ovirtApiPost)('vms/' + id + '/shutdown', '<action><async>false</async></action>', (0, _libvirt.buildFailHandler)({\n\t            dispatch: dispatch,\n\t            name: vmName,\n\t            connectionName: payload.connectionName,\n\t            message: _(\"SHUTDOWN action failed\")\n\t        }));\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.FORCEOFF_VM = function (payload) {\n\t    (0, _helpers.logDebug)('FORCEOFF_VM(payload: ' + JSON.stringify(payload) + ')');\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match, redirecting the action to Libvirt');\n\t        return _libvirt2.default.FORCEOFF_VM(payload);\n\t    }\n\t\n\t    var id = payload.id;\n\t    var vmName = payload.name;\n\t    return function (dispatch) {\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t        return (0, _ovirtApiAccess.ovirtApiPost)('vms/' + id + '/stop', '<action><async>false</async></action>', (0, _libvirt.buildFailHandler)({\n\t            dispatch: dispatch,\n\t            name: vmName,\n\t            connectionName: payload.connectionName,\n\t            message: _(\"SHUTDOWN action failed\")\n\t        }));\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.REBOOT_VM = function (payload) {\n\t    (0, _helpers.logDebug)('REBOOT_VM(payload: ' + JSON.stringify(payload) + ')');\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match, redirecting the action to Libvirt');\n\t        return _libvirt2.default.REBOOT_VM(payload);\n\t    }\n\t\n\t    var vmName = payload.name;\n\t    var id = payload.id;\n\t    return function (dispatch) {\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t        return (0, _ovirtApiAccess.ovirtApiPost)('vms/' + id + '/reboot', '<action><async>false</async></action>', (0, _libvirt.buildFailHandler)({\n\t            dispatch: dispatch,\n\t            name: vmName,\n\t            connectionName: payload.connectionName,\n\t            message: _(\"REBOOT action failed\")\n\t        }));\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.FORCEREBOOT_VM = function (payload) {\n\t    (0, _helpers.logDebug)('FORCEREBOOT_VM(payload: ' + JSON.stringify(payload) + ')');\n\t    return OVIRT_PROVIDER.REBOOT_VM(payload); // TODO: implement the 'force' - seems like not exposed by oVirt API\n\t};\n\t\n\tOVIRT_PROVIDER.START_VM = function (payload) {\n\t    (0, _helpers.logDebug)('START_VM(payload: ' + JSON.stringify(payload) + ')');\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match, redirecting the action to Libvirt');\n\t        return _libvirt2.default.START_VM(payload);\n\t    }\n\t\n\t    var id = payload.id;\n\t    var vmName = payload.name;\n\t    var hostName = payload.hostName; // optional\n\t\n\t    var actionXml = hostName ? '<action><async>false</async><vm><placement_policy><hosts><host><name>' + hostName + '</name></host></hosts></placement_policy></vm></action>' : '<action><async>false</async></action>';\n\t\n\t    return function (dispatch) {\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t\n\t        return (0, _ovirtApiAccess.ovirtApiPost)('vms/' + id + '/start', actionXml, (0, _libvirt.buildFailHandler)({\n\t            dispatch: dispatch,\n\t            name: vmName,\n\t            connectionName: payload.connectionName,\n\t            message: _(\"START action failed\")\n\t        }));\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.CREATE_VM_FROM_TEMPLATE = function (payload) {\n\t    (0, _helpers.logDebug)('CREATE_VM: payload = ' + JSON.stringify(payload));\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match, but CREATE_VM action is not supported by the Libvirt provider. Skipping.');\n\t        return function () {};\n\t    }\n\t\n\t    var templateName = payload.templateName || 'blank'; // optional\n\t    var clusterName = payload.clusterName || 'default'; // optional\n\t    var vm = payload.vm;\n\t\n\t\n\t    var name = '<name>' + vm.name + '</name>';\n\t    var template = '<template><name>' + templateName + '</name></template>';\n\t    var cluster = '<cluster><name>' + clusterName + '</name></cluster>';\n\t    var action = '<vm>' + name + cluster + template + '</vm>';\n\t\n\t    return function (dispatch) {\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t        return (0, _ovirtApiAccess.ovirtApiPost)('vms', action, (0, _libvirt.buildFailHandler)({\n\t            dispatch: dispatch,\n\t            name: vm.name,\n\t            connectionName: QEMU_SYSTEM,\n\t            message: _(\"CREATE VM action failed\"),\n\t            extraPayload: { templateName: templateName }\n\t        }));\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.MIGRATE_VM = function (_ref3) {\n\t    var vmId = _ref3.vmId,\n\t        vmName = _ref3.vmName,\n\t        hostId = _ref3.hostId;\n\t\n\t    (0, _helpers.logDebug)('MIGRATE_VM(payload: {vmId: \"' + vmId + '\", hostId: \"' + hostId + '\"}');\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match but the MIGRATE action is not supported by Libvirt provider, skipping');\n\t        return function () {};\n\t    }\n\t\n\t    var action = hostId ? '<action><async>false</async><host id=\"' + hostId + '\"/></action>' : '<action/>';\n\t\n\t    return function (dispatch) {\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t        (0, _ovirtApiAccess.ovirtApiPost)('vms/' + vmId + '/migrate', action, (0, _libvirt.buildFailHandler)({\n\t            dispatch: dispatch,\n\t            name: vmName,\n\t            connectionName: undefined, // TODO: oVirt-only, not implemented for Libvirt\n\t            message: _(\"MIGRATE action failed\")\n\t        }));\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.SUSPEND_VM = function (_ref4) {\n\t    var id = _ref4.id,\n\t        name = _ref4.name;\n\t\n\t    (0, _helpers.logDebug)('SUSPEND_VM(id=' + id + ')');\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match, but SUSPEND_VM action is not supported by the Libvirt provider. Skipping.');\n\t        return function () {};\n\t    }\n\t\n\t    return function (dispatch) {\n\t        return (0, _ovirtApiAccess.ovirtApiPost)('vms/' + id + '/suspend', '<action><async>false</async></action>', (0, _libvirt.buildFailHandler)({\n\t            dispatch: dispatch,\n\t            name: name,\n\t            connectionName: undefined, // TODO: oVirt-only, not implemented for Libvirt\n\t            message: _(\"SUSPEND action failed\")\n\t        })).then(function (data) {\n\t            (0, _helpers.logDebug)('SUSPEND_VM finished', data);\n\t            window.setTimeout(_ovirt.forceNextOvirtPoll, 5000); // hack for better user experience\n\t        });\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.DOWNLOAD_ICON = function (_ref5) {\n\t    var iconId = _ref5.iconId;\n\t\n\t    (0, _helpers.logDebug)('DOWNLOAD_ICON(iconId=' + iconId + ')');\n\t    return function (dispatch) {\n\t        return (0, _ovirtApiAccess.ovirtApiGet)('icons/' + iconId).then(function (data) {\n\t            var icon = JSON.parse(data);\n\t            if (icon && icon['media_type'] && icon['data']) {\n\t                dispatch((0, _actions.updateIcon)((0, _ovirtConverters.oVirtIconToInternal)(icon)));\n\t            }\n\t        });\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.DOWNLOAD_ICONS = function (_ref6) {\n\t    var iconIds = _ref6.iconIds,\n\t        forceReload = _ref6.forceReload;\n\t\n\t    (0, _helpers.logDebug)('DOWNLOAD_ICONS(forceReload=' + forceReload + ') called for ' + iconIds.length + ' icon ids');\n\t\n\t    return function (dispatch, getState) {\n\t        var existingIcons = forceReload ? {} : (0, _selectors.getAllIcons)(getState());\n\t        var iconIdsToDownload = Object.getOwnPropertyNames(iconIds).filter(function (iconId) {\n\t            return !existingIcons[iconId];\n\t        });\n\t        iconIdsToDownload.forEach(function (iconId) {\n\t            return dispatch((0, _actions.downloadIcon)({ iconId: iconId }));\n\t        });\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.onConsoleAboutToShow = function (_ref7) {\n\t    var type = _ref7.type,\n\t        vm = _ref7.vm,\n\t        providerState = _ref7.providerState;\n\t\n\t    (0, _helpers.logDebug)('onConsoleAboutToShow(payload: {vmId: \"' + vm.id + '\", type: \"' + type + '\"}');\n\t    var vmId = vm.id;\n\t    var orig = vm.displays[type];\n\t\n\t    if (!(0, _selectors.isVmManagedByOvirt)(providerState, vmId) || !isOvirtApiCheckPassed()) {\n\t        return _cockpit2.default.resolve(orig);\n\t    }\n\t\n\t    var consoleDetail = Object.assign({}, orig); // to be updated and returned as a result of promise\n\t    var consoleId = _config.CONSOLE_TYPE_ID_MAP[type];\n\t\n\t    return (0, _ovirtApiAccess.ovirtApiGet)('vms/' + vmId + '/graphicsconsoles/' + consoleId, { Accept: 'application/x-virt-viewer' }).then(function (vvFile) {\n\t        var password = vvFile.match(/[^\\r\\n]+/g).filter(function (line) {\n\t            return line.trim().startsWith('password=');\n\t        });\n\t        if (password) {\n\t            consoleDetail.password = password[0].substring('password='.length);\n\t        }\n\t        return consoleDetail;\n\t    });\n\t};\n\t\n\tOVIRT_PROVIDER.CONSOLE_VM = function (payload) {\n\t    // download a .vv file generated by oVirt\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match, redirecting CONSOLE_VM action to Libvirt');\n\t        return _libvirt2.default.CONSOLE_VM(payload);\n\t    }\n\t\n\t    var type = payload.consoleDetail.type; // spice, vnc, rdp\n\t    var vmId = payload.id;\n\t\n\t    // console ID is so far considered as a constant in oVirt for particular console type.\n\t    // TODO: cleaner (but slower) approach would be to query 'vms/${vmId}/graphicsconsoles' first to get full list\n\t    var consoleId = _config.CONSOLE_TYPE_ID_MAP[type];\n\t    if (!consoleId) {\n\t        (0, _helpers.logError)('CONSOLE_VM: unable to map console type to id. Payload: ' + JSON.stringify(payload));\n\t        return;\n\t    }\n\t\n\t    return function (dispatch, getState) {\n\t        if (!(0, _selectors.isVmManagedByOvirt)(getState().config.providerState, vmId)) {\n\t            (0, _helpers.logDebug)('CONSOLE_VM: vmId: ' + vmId + ' is not managed by oVirt, redirecting to Libvirt');\n\t            return _libvirt2.default.CONSOLE_VM(payload)(dispatch, getState);\n\t        }\n\t\n\t        (0, _helpers.logDebug)('CONSOLE_VM: requesting .vv file from oVirt for vmId: ' + vmId + ', type: ' + type);\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t        return (0, _ovirtApiAccess.ovirtApiGet)('vms/' + vmId + '/graphicsconsoles/' + consoleId, { Accept: 'application/x-virt-viewer' }).then(function (vvFile) {\n\t            (0, _helpers.fileDownload)({\n\t                data: vvFile,\n\t                fileName: type + 'Console.vv',\n\t                mimeType: 'application/x-virt-viewer'\n\t            });\n\t        });\n\t    };\n\t};\n\t\n\tOVIRT_PROVIDER.HOST_TO_MAINTENANCE = function (_ref8) {\n\t    var hostId = _ref8.hostId;\n\t\n\t    (0, _helpers.logDebug)('HOST_TO_MAINTENANCE(hostId=' + hostId + ')');\n\t    if (!isOvirtApiCheckPassed()) {\n\t        (0, _helpers.logDebug)('oVirt API version does not match but the HOST_TO_MAINTENANCE action is not supported by Libvirt provider, skipping');\n\t        return function () {};\n\t    }\n\t\n\t    return function (dispatch) {\n\t        (0, _ovirt.forceNextOvirtPoll)();\n\t\n\t        var dfd = _cockpit2.default.defer();\n\t        dfd.notify(_(\"Switching host to maintenance mode in progress ...\"));\n\t\n\t        (0, _ovirtApiAccess.ovirtApiPost)('hosts/' + hostId + '/deactivate', '<action/>', function (_ref9) {\n\t            var data = _ref9.data,\n\t                exception = _ref9.exception;\n\t\n\t            dfd.reject(_(\"Switching host to maintenance mode failed. Received error: \") + data);\n\t        }).then(function () {\n\t            dfd.resolve();\n\t        });\n\t\n\t        return dfd.promise;\n\t    };\n\t};\n\t\n\tfunction setOvirtApiCheckResult(passed) {\n\t    OVIRT_PROVIDER.ovirtApiMetadata.passed = passed;\n\t    if (!passed) {\n\t        // showFailedOvirtApiVersionCheck(REQUIRED_OVIRT_API_VERSION);\n\t        // TODO: dispatch action to show error message for incompatible OVIRT API version\n\t    }\n\t}\n\t\n\tfunction isOvirtApiCheckPassed() {\n\t    return OVIRT_PROVIDER.ovirtApiMetadata.passed;\n\t}\n\t\n\texports.default = OVIRT_PROVIDER;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.buildFailHandler = buildFailHandler;\n\texports.buildScriptTimeoutFailHandler = buildScriptTimeoutFailHandler;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _jquery = __webpack_require__(28);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _create_machine = __webpack_require__(29);\n\t\n\tvar _create_machine2 = _interopRequireDefault(_create_machine);\n\t\n\tvar _install_machine = __webpack_require__(30);\n\t\n\tvar _install_machine2 = _interopRequireDefault(_install_machine);\n\t\n\tvar _get_os_list = __webpack_require__(31);\n\t\n\tvar _get_os_list2 = _interopRequireDefault(_get_os_list);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tvar _selectors = __webpack_require__(24);\n\t\n\tvar _services = __webpack_require__(32);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _libvirtUtils = __webpack_require__(33);\n\t\n\tvar _config = __webpack_require__(19);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t/*\n\t * Provider for Libvirt\n\t */\n\t\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar METADATA_NAMESPACE = \"https://github.com/cockpit-project/cockpit/tree/master/pkg/machines\";\n\t\n\tvar CREATE_IN_PROGRESS_UI_TIMEOUT = 10000;\n\tvar INSTALL_IN_PROGRESS_UI_TIMEOUT = 4000;\n\tvar VM_RECOVER_IN_UI_TIMEOUT = 3000;\n\t\n\t/**\n\t * Parse non-XML stdout of virsh.\n\t *\n\t * @param virshStdout\n\t * @returns {*}\n\t */\n\tfunction parseLines(virshStdout) {\n\t    return virshStdout.match(/[^\\r\\n]+/g);\n\t}\n\t\n\t/**\n\t * Parse format of:\n\t * Pattern: value\n\t * @param parsedLines\n\t * @param pattern\n\t */\n\tfunction getValueFromLine(parsedLines, pattern) {\n\t    var selectedLine = parsedLines.filter(function (line) {\n\t        return line.trim().startsWith(pattern);\n\t    });\n\t    return (0, _helpers.isEmpty)(selectedLine) ? undefined : selectedLine.toString().trim().substring(pattern.length).trim();\n\t}\n\t\n\t/**\n\t * Returns a function handling VM action failures.\n\t */\n\tfunction buildFailHandler(_ref) {\n\t    var dispatch = _ref.dispatch,\n\t        name = _ref.name,\n\t        connectionName = _ref.connectionName,\n\t        message = _ref.message,\n\t        extraPayload = _ref.extraPayload;\n\t\n\t    return function (_ref2) {\n\t        var exception = _ref2.exception,\n\t            data = _ref2.data;\n\t        return dispatch((0, _actions.vmActionFailed)({\n\t            name: name,\n\t            connectionName: connectionName,\n\t            message: message,\n\t            detail: {\n\t                exception: exception,\n\t                data: data\n\t            },\n\t            extraPayload: extraPayload\n\t        }));\n\t    };\n\t}\n\t\n\tfunction buildScriptTimeoutFailHandler(args, delay) {\n\t    var handler = buildFailHandler(args);\n\t    return function (_ref3) {\n\t        var message = _ref3.message,\n\t            exception = _ref3.exception;\n\t\n\t        window.setTimeout(function () {\n\t            handler({\n\t                exception: exception ? exception : message\n\t            });\n\t        }, delay);\n\t    };\n\t}\n\t\n\tvar LIBVIRT_PROVIDER = {};\n\tLIBVIRT_PROVIDER = {\n\t    name: 'Libvirt',\n\t\n\t    /**\n\t     * Initialize the provider.\n\t     * Arguments are used for reference only, they are actually not needed for this Libvirt provider.\n\t     *\n\t     * @param providerContext - see `getProviderContext()` in provider.es6\n\t     * @returns {boolean} - true, if initialization succeeded; or Promise\n\t     */\n\t    init: function init(providerContext) {\n\t        // This is default provider - the Libvirt, so we do not need to use the providerContext param.\n\t        // The method is here for reference only.\n\t        return true; // or Promise\n\t    },\n\t\n\t\n\t    canReset: function canReset(vmState) {\n\t        return vmState == 'running' || vmState == 'idle' || vmState == 'paused';\n\t    },\n\t    canShutdown: function canShutdown(vmState) {\n\t        return LIBVIRT_PROVIDER.canReset(vmState);\n\t    },\n\t    canDelete: function canDelete(vmState, vmId, providerState) {\n\t        return true;\n\t    },\n\t    isRunning: function isRunning(vmState) {\n\t        return LIBVIRT_PROVIDER.canReset(vmState);\n\t    },\n\t    canRun: function canRun(vmState, hasInstallPhase) {\n\t        return !hasInstallPhase && vmState == 'shut off';\n\t    },\n\t    canInstall: function canInstall(vmState, hasInstallPhase, installInProgress) {\n\t        return vmState != 'running' && hasInstallPhase && !installInProgress;\n\t    },\n\t    canConsole: function canConsole(vmState) {\n\t        return vmState == 'running';\n\t    },\n\t    canSendNMI: function canSendNMI(vmState) {\n\t        return LIBVIRT_PROVIDER.canReset(vmState);\n\t    },\n\t\n\t    serialConsoleCommand: function serialConsoleCommand(_ref4) {\n\t        var vm = _ref4.vm;\n\t        return !!vm.displays['pty'] ? ['virsh'].concat(_toConsumableArray(_config2.default.Virsh.connections[vm.connectionName].params), ['console', vm.name]) : false;\n\t    },\n\t\n\t    /**\n\t     * Read VM properties of a single VM (virsh)\n\t     *\n\t     * @param VM name\n\t     * @returns {Function}\n\t     */\n\t    GET_VM: function GET_VM(_ref5) {\n\t        var name = _ref5.lookupId,\n\t            connectionName = _ref5.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.GET_VM()');\n\t\n\t        return function (dispatch) {\n\t            if (!(0, _helpers.isEmpty)(name)) {\n\t                return spawnVirshReadOnly({ connectionName: connectionName, method: 'dumpxml', name: name }).then(function (domXml) {\n\t                    parseDumpxml(dispatch, connectionName, domXml);\n\t                    return spawnVirshReadOnly({ connectionName: connectionName, method: 'dominfo', name: name });\n\t                }).then(function (domInfo) {\n\t                    parseDominfo(dispatch, connectionName, name, domInfo);\n\t                }); // end of GET_VM return\n\t            }\n\t        };\n\t    },\n\t\n\t\n\t    /**\n\t     * Initiate read of all VMs\n\t     *\n\t     * @returns {Function}\n\t     */\n\t    GET_ALL_VMS: function GET_ALL_VMS(_ref6) {\n\t        var connectionName = _ref6.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.GET_ALL_VMS(connectionName=\\'' + connectionName + '\\'):');\n\t        if (connectionName) {\n\t            return function (dispatch) {\n\t                startEventMonitor(dispatch, connectionName);\n\t                doGetAllVms(dispatch, connectionName);\n\t                dispatch((0, _actions.getOsInfoList)());\n\t            };\n\t        }\n\t\n\t        return function (dispatch) {\n\t            // for all connections\n\t            return _cockpit2.default.user().done(function (loggedUser) {\n\t                var promises = Object.getOwnPropertyNames(_config2.default.Virsh.connections).filter(\n\t                // The 'root' user does not have its own qemu:///session just qemu:///system\n\t                // https://bugzilla.redhat.com/show_bug.cgi?id=1045069\n\t                function (connectionName) {\n\t                    return canLoggedUserConnectSession(connectionName, loggedUser);\n\t                }).map(function (connectionName) {\n\t                    return dispatch((0, _actions.getAllVms)(connectionName));\n\t                });\n\t\n\t                return _cockpit2.default.all(promises);\n\t            });\n\t        };\n\t    },\n\t    GET_OS_INFO_LIST: function GET_OS_INFO_LIST() {\n\t        (0, _helpers.logDebug)(this.name + '.GET_OS_INFO_LIST():');\n\t        return function (dispatch) {\n\t            return _cockpit2.default.script(_get_os_list2.default, null, { err: \"message\", environ: ['LC_ALL=en_US.UTF-8'] }).then(function (osList) {\n\t                parseOsInfoList(dispatch, osList);\n\t            }).fail(function (exception, data) {\n\t                console.error('get os list returned error: \"' + JSON.stringify(exception) + '\", data: \"' + JSON.stringify(data) + '\"');\n\t            });\n\t        };\n\t    },\n\t    SHUTDOWN_VM: function SHUTDOWN_VM(_ref7) {\n\t        var name = _ref7.name,\n\t            connectionName = _ref7.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.SHUTDOWN_VM(' + name + '):');\n\t        return function (dispatch) {\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'SHUTDOWN_VM',\n\t                failHandler: buildFailHandler({ dispatch: dispatch, name: name, connectionName: connectionName, message: _(\"VM SHUT DOWN action failed\") }),\n\t                args: ['shutdown', name]\n\t            });\n\t        };\n\t    },\n\t    FORCEOFF_VM: function FORCEOFF_VM(_ref8) {\n\t        var name = _ref8.name,\n\t            connectionName = _ref8.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.FORCEOFF_VM(' + name + '):');\n\t        return function (dispatch) {\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'FORCEOFF_VM',\n\t                failHandler: buildFailHandler({ dispatch: dispatch, name: name, connectionName: connectionName, message: _(\"VM FORCE OFF action failed\") }),\n\t                args: ['destroy', name]\n\t            });\n\t        };\n\t    },\n\t    REBOOT_VM: function REBOOT_VM(_ref9) {\n\t        var name = _ref9.name,\n\t            connectionName = _ref9.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.REBOOT_VM(' + name + '):');\n\t        return function (dispatch) {\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'REBOOT_VM',\n\t                failHandler: buildFailHandler({ dispatch: dispatch, name: name, connectionName: connectionName, message: _(\"VM REBOOT action failed\") }),\n\t                args: ['reboot', name]\n\t            });\n\t        };\n\t    },\n\t    FORCEREBOOT_VM: function FORCEREBOOT_VM(_ref10) {\n\t        var name = _ref10.name,\n\t            connectionName = _ref10.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.FORCEREBOOT_VM(' + name + '):');\n\t        return function (dispatch) {\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'FORCEREBOOT_VM',\n\t                failHandler: buildFailHandler({ dispatch: dispatch, name: name, connectionName: connectionName, message: _(\"VM FORCE REBOOT action failed\") }),\n\t                args: ['reset', name]\n\t            });\n\t        };\n\t    },\n\t    START_VM: function START_VM(_ref11) {\n\t        var name = _ref11.name,\n\t            connectionName = _ref11.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.START_VM(' + name + '):');\n\t        return function (dispatch) {\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'START_VM',\n\t                failHandler: buildFailHandler({ dispatch: dispatch, name: name, connectionName: connectionName, message: _(\"VM START action failed\") }),\n\t                args: ['start', name]\n\t            });\n\t        };\n\t    },\n\t    CREATE_VM: function CREATE_VM(_ref12) {\n\t        var vmName = _ref12.vmName,\n\t            source = _ref12.source,\n\t            os = _ref12.os,\n\t            memorySize = _ref12.memorySize,\n\t            storageSize = _ref12.storageSize,\n\t            startVm = _ref12.startVm;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.CREATE_VM(' + vmName + '):');\n\t        return function (dispatch) {\n\t            // presume that vm gets created, because we can get response from virsh before createVmScript finishes\n\t            dispatch((0, _actions.vmCreateInProgress)({\n\t                name: vmName,\n\t                openConsoleTab: true\n\t            }));\n\t\n\t            if (startVm) {\n\t                dispatch((0, _actions.vmInstallInProgress)({\n\t                    name: vmName\n\t                }));\n\t            }\n\t\n\t            // wait few secs for ui to get the new vm and to see that this ui created the vm\n\t            window.setTimeout(function () {\n\t                dispatch((0, _actions.vmCreateCompleted)({\n\t                    name: vmName\n\t                }));\n\t            }, CREATE_IN_PROGRESS_UI_TIMEOUT);\n\t\n\t            if (startVm) {\n\t                window.setTimeout(function () {\n\t                    dispatch((0, _actions.vmInstallCompleted)({\n\t                        name: vmName\n\t                    }));\n\t                }, INSTALL_IN_PROGRESS_UI_TIMEOUT);\n\t            }\n\t\n\t            return _cockpit2.default.script(_create_machine2.default, [vmName, source, os, memorySize, storageSize, startVm], { err: \"message\", environ: ['LC_ALL=C'] }).fail(function (exception, data) {\n\t                console.info('spawn \\'vm creation\\' returned error: \"' + JSON.stringify(exception) + '\", data: \"' + JSON.stringify(data) + '\"');\n\t            });\n\t        };\n\t    },\n\t    INSTALL_VM: function INSTALL_VM(_ref13) {\n\t        var name = _ref13.name,\n\t            vcpus = _ref13.vcpus,\n\t            currentMemory = _ref13.currentMemory,\n\t            metadata = _ref13.metadata,\n\t            disks = _ref13.disks,\n\t            displays = _ref13.displays,\n\t            connectionName = _ref13.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.INSTALL_VM(' + name + '):');\n\t        return function (dispatch) {\n\t            dispatch((0, _actions.vmInstallInProgress)({\n\t                name: name\n\t            }));\n\t\n\t            window.setTimeout(function () {\n\t                dispatch((0, _actions.vmInstallCompleted)({\n\t                    name: name\n\t                }));\n\t            }, INSTALL_IN_PROGRESS_UI_TIMEOUT);\n\t\n\t            return _cockpit2.default.script(_install_machine2.default, [name, metadata.installSource, metadata.osVariant, (0, _helpers.convertToUnit)(currentMemory, _helpers.units.KiB, _helpers.units.MiB), vcpus, (0, _libvirtUtils.prepareDisksParam)(disks), (0, _libvirtUtils.prepareDisplaysParam)(displays)], { err: \"message\", environ: ['LC_ALL=C'] }).fail(buildScriptTimeoutFailHandler({\n\t                dispatch: dispatch,\n\t                name: name,\n\t                connectionName: connectionName,\n\t                message: _(\"INSTALL VM action failed\")\n\t            }, VM_RECOVER_IN_UI_TIMEOUT));\n\t        };\n\t    },\n\t    DELETE_VM: function DELETE_VM(_ref14) {\n\t        var name = _ref14.name,\n\t            connectionName = _ref14.connectionName,\n\t            options = _ref14.options;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.DELETE_VM(' + name + ', ' + JSON.stringify(options) + '):');\n\t\n\t        function destroy() {\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'DELETE_VM',\n\t                args: ['destroy', name]\n\t            });\n\t        }\n\t\n\t        function undefine() {\n\t            var args = ['undefine', name, '--managed-save'];\n\t            if (options.storage) {\n\t                args.push('--storage');\n\t                args.push(options.storage.join(','));\n\t            }\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'DELETE_VM',\n\t                args: args\n\t            });\n\t        }\n\t\n\t        return function (dispatch) {\n\t            if (options.destroy) {\n\t                return destroy().then(undefine);\n\t            } else {\n\t                return undefine();\n\t            }\n\t        };\n\t    },\n\t    CHANGE_NETWORK_STATE: function CHANGE_NETWORK_STATE(_ref15) {\n\t        var name = _ref15.name,\n\t            networkMac = _ref15.networkMac,\n\t            state = _ref15.state,\n\t            connectionName = _ref15.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.CHANGE_NETWORK_STATE(' + name + '.' + networkMac + ' ' + state + '):');\n\t        return function (dispatch) {\n\t            spawnVirsh({ connectionName: connectionName,\n\t                method: 'CHANGE_NETWORK_STATE',\n\t                failHandler: buildFailHandler({ dispatch: dispatch, name: name, connectionName: connectionName, message: _(\"CHANGE NETWORK STATE action failed\") }),\n\t                args: ['domif-setlink', name, networkMac, state]\n\t            }).then(function () {\n\t                dispatch((0, _actions.getVm)(connectionName, name));\n\t            });\n\t        };\n\t    },\n\t    USAGE_START_POLLING: function USAGE_START_POLLING(_ref16) {\n\t        var name = _ref16.name,\n\t            connectionName = _ref16.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.USAGE_START_POLLING(' + name + '):');\n\t        return function (dispatch) {\n\t            dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, usagePolling: true }));\n\t            dispatch(doUsagePolling(name, connectionName));\n\t        };\n\t    },\n\t    USAGE_STOP_POLLING: function USAGE_STOP_POLLING(_ref17) {\n\t        var name = _ref17.name,\n\t            connectionName = _ref17.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.USAGE_STOP_POLLING(' + name + '):');\n\t        return function (dispatch) {\n\t            return dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, usagePolling: false }));\n\t        };\n\t    },\n\t\n\t\n\t    /**\n\t     * Basic, but working.\n\t     * TODO: provide support for more complex scenarios, like with TLS or proxy\n\t     *\n\t     * To try with virt-install: --graphics spice,listen=[external host IP]\n\t     */\n\t    CONSOLE_VM: function CONSOLE_VM(_ref18) {\n\t        var name = _ref18.name,\n\t            consoleDetail = _ref18.consoleDetail;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.CONSOLE_VM(name=\\'' + name + '\\'), detail = ', consoleDetail);\n\t        return function (dispatch) {\n\t            (0, _helpers.fileDownload)({\n\t                data: buildConsoleVVFile(consoleDetail),\n\t                fileName: 'console.vv',\n\t                mimeType: 'application/x-virt-viewer'\n\t            });\n\t        };\n\t    },\n\t    SENDNMI_VM: function SENDNMI_VM(_ref19) {\n\t        var name = _ref19.name,\n\t            connectionName = _ref19.connectionName;\n\t\n\t        (0, _helpers.logDebug)(this.name + '.SENDNMI_VM(' + name + '):');\n\t        return function (dispatch) {\n\t            return spawnVirsh({ connectionName: connectionName,\n\t                method: 'SENDNMI_VM',\n\t                failHandler: buildFailHandler({ dispatch: dispatch, name: name, connectionName: connectionName, message: _(\"VM SEND Non-Maskable Interrrupt action failed\") }),\n\t                args: ['inject-nmi', name]\n\t            });\n\t        };\n\t    }\n\t};\n\t\n\tfunction canLoggedUserConnectSession(connectionName, loggedUser) {\n\t    return connectionName !== 'session' || loggedUser.name !== 'root';\n\t}\n\t\n\tfunction doGetAllVms(dispatch, connectionName) {\n\t    var connection = _config2.default.Virsh.connections[connectionName];\n\t\n\t    return (0, _services.spawnScript)({\n\t        script: 'virsh ' + connection.params.join(' ') + ' -r list --all | awk \\'$1 == \"-\" || $1+0 > 0 { print $2 }\\''\n\t    }).then(function (output) {\n\t        var vmNames = output.trim().split(/\\r?\\n/);\n\t        vmNames.forEach(function (vmName, index) {\n\t            vmNames[index] = vmName.trim();\n\t        });\n\t        (0, _helpers.logDebug)('GET_ALL_VMS: vmNames: ' + JSON.stringify(vmNames));\n\t\n\t        // remove undefined domains\n\t        dispatch((0, _actions.deleteUnlistedVMs)(connectionName, vmNames));\n\t\n\t        // read VM details\n\t        return _cockpit2.default.all(vmNames.map(function (name) {\n\t            return dispatch((0, _actions.getVm)(connectionName, name));\n\t        }));\n\t    });\n\t}\n\t\n\t// TODO: add configurable custom virsh attribs - i.e. libvirt user/pwd\n\tfunction spawnVirsh(_ref20) {\n\t    var connectionName = _ref20.connectionName,\n\t        method = _ref20.method,\n\t        failHandler = _ref20.failHandler,\n\t        args = _ref20.args;\n\t\n\t    return (0, _services.spawnProcess)({\n\t        cmd: 'virsh',\n\t        args: _config2.default.Virsh.connections[connectionName].params.concat(args),\n\t        failHandler: failHandler\n\t    }).fail(function (ex, data, output) {\n\t        var msg = method + '() exception: \\'' + ex + '\\', data: \\'' + data + '\\', output: \\'' + output + '\\'';\n\t        if (failHandler) {\n\t            (0, _helpers.logDebug)(msg);\n\t            return;\n\t        }\n\t        console.warn(msg);\n\t    });\n\t}\n\t\n\tfunction spawnVirshReadOnly(_ref21) {\n\t    var connectionName = _ref21.connectionName,\n\t        method = _ref21.method,\n\t        name = _ref21.name,\n\t        failHandler = _ref21.failHandler;\n\t\n\t    return spawnVirsh({ connectionName: connectionName, method: method, args: ['-r', method, name], failHandler: failHandler });\n\t}\n\t\n\tfunction parseDumpxml(dispatch, connectionName, domXml) {\n\t    var xmlDoc = _jquery2.default.parseXML(domXml);\n\t\n\t    if (!xmlDoc) {\n\t        console.warn('Can\\'t parse dumpxml, input: \"' + domXml + '\"');\n\t        return;\n\t    }\n\t\n\t    var domainElem = xmlDoc.getElementsByTagName(\"domain\")[0];\n\t    var osElem = domainElem.getElementsByTagName(\"os\")[0];\n\t    var currentMemoryElem = domainElem.getElementsByTagName(\"currentMemory\")[0];\n\t    var vcpuElem = domainElem.getElementsByTagName(\"vcpu\")[0];\n\t    var cpuElem = domainElem.getElementsByTagName(\"cpu\")[0];\n\t    var vcpuCurrentAttr = vcpuElem.attributes.getNamedItem('current');\n\t    var devicesElem = domainElem.getElementsByTagName(\"devices\")[0];\n\t    var osTypeElem = osElem.getElementsByTagName(\"type\")[0];\n\t    var metadataElem = getSingleOptionalElem(domainElem, \"metadata\");\n\t\n\t    var name = domainElem.getElementsByTagName(\"name\")[0].childNodes[0].nodeValue;\n\t    var id = domainElem.getElementsByTagName(\"uuid\")[0].childNodes[0].nodeValue;\n\t    var osType = osTypeElem.nodeValue;\n\t    var emulatedMachine = osTypeElem.getAttribute(\"machine\");\n\t\n\t    var currentMemoryUnit = currentMemoryElem.getAttribute(\"unit\");\n\t    var currentMemory = (0, _helpers.convertToUnit)(currentMemoryElem.childNodes[0].nodeValue, currentMemoryUnit, _helpers.units.KiB);\n\t\n\t    var vcpus = vcpuCurrentAttr && vcpuCurrentAttr.value ? vcpuCurrentAttr.value : vcpuElem.childNodes[0].nodeValue;\n\t\n\t    var disks = parseDumpxmlForDisks(devicesElem);\n\t    var bootOrder = parseDumpxmlForBootOrder(osElem, devicesElem);\n\t    var cpuModel = parseDumpxmlForCpuModel(cpuElem);\n\t    var displays = parseDumpxmlForConsoles(devicesElem);\n\t    var interfaces = parseDumpxmlForInterfaces(devicesElem);\n\t\n\t    var hasInstallPhase = parseDumpxmlMachinesMetadataElement(metadataElem, 'has_install_phase') === 'true';\n\t    var installSource = parseDumpxmlMachinesMetadataElement(metadataElem, 'install_source');\n\t    var osVariant = parseDumpxmlMachinesMetadataElement(metadataElem, 'os_variant');\n\t\n\t    var metadata = {\n\t        hasInstallPhase: hasInstallPhase,\n\t        installSource: installSource,\n\t        osVariant: osVariant\n\t    };\n\t\n\t    dispatch((0, _actions.updateOrAddVm)({\n\t        connectionName: connectionName, name: name, id: id,\n\t        osType: osType,\n\t        currentMemory: currentMemory,\n\t        vcpus: vcpus,\n\t        disks: disks,\n\t        emulatedMachine: emulatedMachine,\n\t        cpuModel: cpuModel,\n\t        bootOrder: bootOrder,\n\t        displays: displays,\n\t        interfaces: interfaces,\n\t        metadata: metadata\n\t    }));\n\t}\n\t\n\tfunction getSingleOptionalElem(parent, name) {\n\t    var subElems = parent.getElementsByTagName(name);\n\t    return subElems.length > 0 ? subElems[0] : undefined; // optional\n\t}\n\t\n\tfunction parseDumpxmlForDisks(devicesElem) {\n\t    var disks = {};\n\t    var diskElems = devicesElem.getElementsByTagName('disk');\n\t    if (diskElems) {\n\t        for (var i = 0; i < diskElems.length; i++) {\n\t            var diskElem = diskElems[i];\n\t\n\t            var targetElem = diskElem.getElementsByTagName('target')[0];\n\t\n\t            var driverElem = getSingleOptionalElem(diskElem, 'driver');\n\t            var sourceElem = getSingleOptionalElem(diskElem, 'source');\n\t            var serialElem = getSingleOptionalElem(diskElem, 'serial');\n\t            var aliasElem = getSingleOptionalElem(diskElem, 'alias');\n\t            var readonlyElem = getSingleOptionalElem(diskElem, 'readonly');\n\t            var shareableElem = getSingleOptionalElem(diskElem, 'shareable');\n\t            var bootElem = getSingleOptionalElem(diskElem, 'boot');\n\t\n\t            var sourceHostElem = sourceElem ? getSingleOptionalElem(sourceElem, 'host') : undefined;\n\t\n\t            var disk = { // see https://libvirt.org/formatdomain.html#elementsDisks\n\t                target: targetElem.getAttribute('dev'), // identifier of the disk, i.e. sda, hdc\n\t                driver: {\n\t                    name: driverElem ? driverElem.getAttribute('name') : undefined, // optional\n\t                    type: driverElem ? driverElem.getAttribute('type') : undefined,\n\t                    cache: driverElem ? driverElem.getAttribute('cache') : undefined, // optional\n\t                    discard: driverElem ? driverElem.getAttribute('discard') : undefined, // optional\n\t                    io: driverElem ? driverElem.getAttribute('io') : undefined, // optional\n\t                    errorPolicy: driverElem ? driverElem.getAttribute('error_policy') : undefined // optional\n\t                },\n\t                bootOrder: bootElem ? bootElem.getAttribute('order') : undefined,\n\t                type: diskElem.getAttribute('type'), // i.e.: file\n\t                device: diskElem.getAttribute('device'), // i.e. cdrom, disk\n\t                source: {\n\t                    file: sourceElem ? sourceElem.getAttribute('file') : undefined, // optional file name of the disk\n\t                    dev: sourceElem ? sourceElem.getAttribute('dev') : undefined,\n\t                    pool: sourceElem ? sourceElem.getAttribute('pool') : undefined,\n\t                    volume: sourceElem ? sourceElem.getAttribute('volumne') : undefined,\n\t                    protocol: sourceElem ? sourceElem.getAttribute('protocol') : undefined,\n\t                    host: {\n\t                        name: sourceHostElem ? sourceHostElem.getAttribute('name') : undefined,\n\t                        port: sourceHostElem ? sourceHostElem.getAttribute('port') : undefined\n\t                    },\n\t                    startupPolicy: sourceElem ? sourceElem.getAttribute('startupPolicy') : undefined // optional startupPolicy of the disk\n\t\n\t                },\n\t                bus: targetElem.getAttribute('bus'), // i.e. scsi, ide\n\t                serial: serialElem ? serialElem.getAttribute('serial') : undefined, // optional serial number\n\t                aliasName: aliasElem ? aliasElem.getAttribute('name') : undefined, // i.e. scsi0-0-0-0, ide0-1-0\n\t                readonly: readonlyElem ? true : false,\n\t                shareable: shareableElem ? true : false,\n\t                removable: targetElem.getAttribute('removable')\n\t            };\n\t\n\t            if (disk.target) {\n\t                disks[disk.target] = disk;\n\t                (0, _helpers.logDebug)('parseDumpxmlForDisks(): disk device found: ' + JSON.stringify(disk));\n\t            } else {\n\t                console.warn('parseDumpxmlForDisks(): mandatory properties are missing in dumpxml, found: ' + JSON.stringify(disk));\n\t            }\n\t        }\n\t    }\n\t\n\t    return disks;\n\t}\n\t\n\tfunction parseDumpxmlForInterfaces(devicesElem) {\n\t    var interfaces = [];\n\t    var interfaceElems = devicesElem.getElementsByTagName('interface');\n\t    if (interfaceElems) {\n\t        for (var i = 0; i < interfaceElems.length; i++) {\n\t            var interfaceElem = interfaceElems[i];\n\t\n\t            var targetElem = interfaceElem.getElementsByTagName('target')[0];\n\t            var macElem = getSingleOptionalElem(interfaceElem, 'mac');\n\t            var modelElem = getSingleOptionalElem(interfaceElem, 'model');\n\t            var aliasElem = getSingleOptionalElem(interfaceElem, 'alias');\n\t            var sourceElem = getSingleOptionalElem(interfaceElem, 'source');\n\t            var driverElem = getSingleOptionalElem(interfaceElem, 'driver');\n\t            var virtualportElem = getSingleOptionalElem(interfaceElem, 'virtualport');\n\t            var addressElem = getSingleOptionalElem(interfaceElem, 'address');\n\t            var linkElem = getSingleOptionalElem(interfaceElem, 'link');\n\t            var mtuElem = getSingleOptionalElem(interfaceElem, 'mtu');\n\t            var localElem = addressElem ? getSingleOptionalElem(addressElem, 'local') : null;\n\t\n\t            var networkInterface = { // see https://libvirt.org/formatdomain.html#elementsNICS\n\t                type: interfaceElem.getAttribute('type'), //Only one required parameter\n\t                managed: interfaceElem.getAttribute('managed'),\n\t                name: interfaceElem.getAttribute('name') ? interfaceElem.getAttribute('name') : undefined, //Name of interface\n\t                target: targetElem ? targetElem.getAttribute('dev') : undefined,\n\t                mac: macElem.getAttribute('address'), //MAC address\n\t                model: modelElem.getAttribute('type'), //Device model\n\t                aliasName: aliasElem ? aliasElem.getAttribute('name') : undefined,\n\t                virtualportType: virtualportElem ? virtualportElem.getAttribute('type') : undefined,\n\t                driverName: driverElem ? driverElem.getAttribute('name') : undefined,\n\t                state: linkElem ? linkElem.getAttribute('state') : 'up', //State of interface, up/down (plug/unplug)\n\t                mtu: mtuElem ? mtuElem.getAttribute('size') : undefined,\n\t                source: {\n\t                    bridge: sourceElem ? sourceElem.getAttribute('bridge') : undefined,\n\t                    network: sourceElem ? sourceElem.getAttribute('network') : undefined,\n\t                    portgroup: sourceElem ? sourceElem.getAttribute('portgroup') : undefined,\n\t                    dev: sourceElem ? sourceElem.getAttribute('dev') : undefined,\n\t                    mode: sourceElem ? sourceElem.getAttribute('mode') : undefined,\n\t                    address: sourceElem ? sourceElem.getAttribute('address') : undefined,\n\t                    port: sourceElem ? sourceElem.getAttribute('port') : undefined,\n\t                    local: {\n\t                        address: localElem ? localElem.getAttribute('address') : undefined,\n\t                        port: localElem ? localElem.getAttribute('port') : undefined\n\t                    }\n\t                },\n\t                address: {\n\t                    bus: addressElem ? addressElem.getAttribute('bus') : undefined,\n\t                    function: addressElem ? addressElem.getAttribute('function') : undefined\n\t                }\n\t            };\n\t            interfaces.push(networkInterface);\n\t        }\n\t    }\n\t    return interfaces;\n\t}\n\t\n\tfunction getBootableDeviceType(device) {\n\t    var tagName = device.tagName;\n\t    var type = _(\"other\");\n\t    switch (tagName) {\n\t        case 'disk':\n\t            type = (0, _helpers.rephraseUI)('bootableDisk', device.getAttribute('device')); // Example: disk, cdrom\n\t            break;\n\t        case 'interface':\n\t            type = (0, _helpers.rephraseUI)('bootableDisk', 'interface');\n\t            break;\n\t        default:\n\t            console.info('Unrecognized type of bootable device: ' + tagName);\n\t    }\n\t    return type;\n\t}\n\t\n\tfunction parseDumpxmlForBootOrder(osElem, devicesElem) {\n\t    var bootOrder = {\n\t        devices: []\n\t    };\n\t\n\t    // Prefer boot order defined in domain/os element\n\t    var osBootElems = osElem.getElementsByTagName('boot');\n\t    if (osBootElems.length > 0) {\n\t        for (var bootNum = 0; bootNum < osBootElems.length; bootNum++) {\n\t            var bootElem = osBootElems[bootNum];\n\t            var dev = bootElem.getAttribute('dev');\n\t            if (dev) {\n\t                bootOrder.devices.push({\n\t                    order: bootNum,\n\t                    type: (0, _helpers.rephraseUI)('bootableDisk', dev) // Example: hd, network, fd, cdrom\n\t                });\n\t            }\n\t        }\n\t        return bootOrder; // already sorted\n\t    }\n\t\n\t    // domain/os/boot elements not found, decide from device's boot elements\n\t    // VM can be theoretically booted from any device.\n\t    var bootableDevices = [];\n\t    for (var devNum = 0; devNum < devicesElem.childNodes.length; devNum++) {\n\t        var deviceElem = devicesElem.childNodes[devNum];\n\t        if (deviceElem.nodeType === 1) {\n\t            // XML elements only\n\t            var _bootElem = getSingleOptionalElem(deviceElem, 'boot');\n\t            if (_bootElem && _bootElem.getAttribute('order')) {\n\t                bootableDevices.push({\n\t                    // so far just the 'type' is rendered, skipping redundant attributes\n\t                    order: parseInt(_bootElem.getAttribute('order')),\n\t                    type: getBootableDeviceType(deviceElem)\n\t                });\n\t            }\n\t        }\n\t    }\n\t    bootOrder.devices = bootableDevices.sort(function (devA, devB) {\n\t        return devA.order - devB.order;\n\t    });\n\t    return bootOrder;\n\t}\n\t\n\tfunction parseDumpxmlForCpuModel(cpuElem) {\n\t    if (!cpuElem) {\n\t        return undefined;\n\t    }\n\t\n\t    var cpuMode = cpuElem.getAttribute('mode');\n\t    var cpuModel = '';\n\t    if (cpuMode && cpuMode === 'custom') {\n\t        var modelElem = getSingleOptionalElem(cpuElem, 'model');\n\t        if (modelElem) {\n\t            cpuModel = modelElem.childNodes[0].nodeValue; // content of the domain/cpu/model element\n\t        }\n\t    }\n\t\n\t    return (0, _helpers.rephraseUI)('cpuMode', cpuMode) + (cpuModel ? ' (' + cpuModel + ')' : '');\n\t}\n\t\n\tfunction parseDumpxmlForConsoles(devicesElem) {\n\t    var displays = {};\n\t    var graphicsElems = devicesElem.getElementsByTagName(\"graphics\");\n\t    if (graphicsElems) {\n\t        for (var i = 0; i < graphicsElems.length; i++) {\n\t            var graphicsElem = graphicsElems[i];\n\t            var display = {\n\t                type: graphicsElem.getAttribute('type'),\n\t                port: graphicsElem.getAttribute('port'),\n\t                tlsPort: graphicsElem.getAttribute('tlsPort'),\n\t                address: graphicsElem.getAttribute('listen'),\n\t                autoport: graphicsElem.getAttribute('autoport')\n\t            };\n\t            if (display.type && (display.autoport || display.address && (display.port || display.tlsPort))) {\n\t                displays[display.type] = display;\n\t                (0, _helpers.logDebug)('parseDumpxmlForConsoles(): graphics device found: ' + JSON.stringify(display));\n\t            } else {\n\t                console.warn('parseDumpxmlForConsoles(): mandatory properties are missing in dumpxml, found: ' + JSON.stringify(display));\n\t            }\n\t        }\n\t    }\n\t\n\t    // console type='pty'\n\t    var consoleElems = devicesElem.getElementsByTagName(\"console\");\n\t    if (consoleElems) {\n\t        for (var _i = 0; _i < consoleElems.length; _i++) {\n\t            var consoleElem = consoleElems[_i];\n\t            if (consoleElem.getAttribute('type') === 'pty') {\n\t                // Definition of serial console is detected.\n\t                // So far no additional details needs to be parsed since the console is accessed via 'virsh console'.\n\t                displays['pty'] = {};\n\t            }\n\t        }\n\t    }\n\t\n\t    return displays;\n\t}\n\t\n\tfunction parseDominfo(dispatch, connectionName, name, domInfo) {\n\t    var lines = parseLines(domInfo);\n\t    var state = getValueFromLine(lines, 'State:');\n\t    var autostart = getValueFromLine(lines, 'Autostart:');\n\t    var persistent = getValueFromLine(lines, 'Persistent:') == 'yes';\n\t\n\t    if (!LIBVIRT_PROVIDER.isRunning(state)) {\n\t        // clean usage data\n\t        dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, state: state, autostart: autostart, persistent: persistent, actualTimeInMs: -1 }));\n\t    } else {\n\t        dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, state: state, persistent: persistent, autostart: autostart }));\n\t    }\n\t\n\t    return state;\n\t}\n\t\n\tfunction parseDumpxmlMachinesMetadataElement(metadataElem, name) {\n\t    if (!metadataElem) {\n\t        return null;\n\t    }\n\t    var subElems = metadataElem.getElementsByTagNameNS(METADATA_NAMESPACE, name);\n\t\n\t    return subElems.length > 0 ? subElems[0].textContent : null;\n\t}\n\t\n\tfunction parseOsInfoList(dispatch, osList) {\n\t    var osColumnsNames = ['shortId', 'name', 'version', 'family', 'vendor', 'releaseDate', 'eolDate', 'codename'];\n\t    var parsedList = [];\n\t\n\t    osList.split('\\n').forEach(function (line) {\n\t        var osColumns = line.split('|');\n\t\n\t        var result = {};\n\t\n\t        for (var i = 0; i < osColumnsNames.length; i++) {\n\t            result[osColumnsNames[i]] = osColumns.length > i ? osColumns[i] : null;\n\t        }\n\t\n\t        if (result.shortId) {\n\t            parsedList.push(result);\n\t        }\n\t    });\n\t\n\t    dispatch((0, _actions.updateOsInfoList)(parsedList));\n\t}\n\t\n\tfunction parseDommemstat(dispatch, connectionName, name, dommemstat) {\n\t    var lines = parseLines(dommemstat);\n\t\n\t    var rssMemory = getValueFromLine(lines, 'rss'); // in KiB\n\t\n\t    if (rssMemory) {\n\t        dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, rssMemory: rssMemory }));\n\t    }\n\t}\n\t\n\tfunction parseDomstats(dispatch, connectionName, name, domstats) {\n\t    var actualTimeInMs = Date.now();\n\t\n\t    var lines = parseLines(domstats);\n\t\n\t    var cpuTime = getValueFromLine(lines, 'cpu\\.time=');\n\t    // TODO: Add network usage statistics\n\t\n\t    if (cpuTime) {\n\t        dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, actualTimeInMs: actualTimeInMs, cpuTime: cpuTime }));\n\t    }\n\t\n\t    dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, disksStats: parseDomstatsForDisks(lines) }));\n\t}\n\t\n\tfunction parseDomstatsForDisks(domstatsLines) {\n\t    var count = getValueFromLine(domstatsLines, 'block\\.count=');\n\t    if (!count) {\n\t        return;\n\t    }\n\t\n\t    // Libvirt reports disk capacity since version 1.2.18 (year 2015)\n\t    // TODO: If disk stats is required for old systems, find a way how to get it when 'block.X.capacity' is not present, consider various options for 'sources'\n\t    var disksStats = {};\n\t    for (var i = 0; i < count; i++) {\n\t        var target = getValueFromLine(domstatsLines, 'block.' + i + '.name=');\n\t        var physical = getValueFromLine(domstatsLines, 'block.' + i + '.physical=') || NaN;\n\t        var capacity = getValueFromLine(domstatsLines, 'block.' + i + '.capacity=') || NaN;\n\t        var allocation = getValueFromLine(domstatsLines, 'block.' + i + '.allocation=') || NaN;\n\t\n\t        if (target) {\n\t            disksStats[target] = {\n\t                physical: physical,\n\t                capacity: capacity,\n\t                allocation: allocation\n\t            };\n\t        } else {\n\t            console.warn('parseDomstatsForDisks(): mandatory property is missing in domstats (block.' + i + '.name)');\n\t        }\n\t    }\n\t    return disksStats;\n\t}\n\t\n\tfunction buildConsoleVVFile(consoleDetail) {\n\t    return '[virt-viewer]\\n' + ('type=' + consoleDetail.type + '\\n') + ('host=' + consoleDetail.address + '\\n') + ('port=' + consoleDetail.port + '\\n') + 'delete-this-file=1\\n' + 'fullscreen=0\\n';\n\t}\n\t\n\tfunction doUsagePolling(name, connectionName) {\n\t    (0, _helpers.logDebug)('doUsagePolling(' + name + ', ' + connectionName + ')');\n\t\n\t    var canFailHandler = function canFailHandler(_ref22) {\n\t        var exception = _ref22.exception,\n\t            data = _ref22.data;\n\t\n\t        console.info('The \\'virsh\\' command failed, as expected: \"' + JSON.stringify(exception) + '\", data: \"' + JSON.stringify(data) + '\"');\n\t        return _cockpit2.default.resolve();\n\t    };\n\t\n\t    return function (dispatch, getState) {\n\t        if (!(0, _selectors.usagePollingEnabled)(getState(), name, connectionName)) {\n\t            (0, _helpers.logDebug)('doUsagePolling(' + name + ', ' + connectionName + '): usage polling disabled, stopping loop');\n\t            return;\n\t        }\n\t\n\t        // Do polling even if following virsh calls fails. Might fail i.e. if a VM is not (yet) started\n\t        dispatch((0, _actions.delayPolling)(doUsagePolling(name, connectionName), null, name, connectionName));\n\t\n\t        return spawnVirshReadOnly({ connectionName: connectionName, method: 'dommemstat', name: name, failHandler: canFailHandler }).then(function (dommemstat) {\n\t            if (dommemstat) {\n\t                // is undefined if vm is not running\n\t                parseDommemstat(dispatch, connectionName, name, dommemstat);\n\t                return spawnVirshReadOnly({ connectionName: connectionName, method: 'domstats', name: name, failHandler: canFailHandler });\n\t            }\n\t        }).then(function (domstats) {\n\t            if (domstats) parseDomstats(dispatch, connectionName, name, domstats);\n\t        });\n\t    };\n\t}\n\t\n\tfunction handleEvent(dispatch, connectionName, line) {\n\t    // example lines, some with detail, one without:\n\t    // event 'reboot' for domain sid-lxde\n\t    // event 'lifecycle' for domain sid-lxde: Shutdown Finished\n\t    // event 'device-removed' for domain green: virtio-disk2\n\t    var eventRe = /event '([a-z-]+)' .* domain ([^:]+)(?:: (.*))?$/;\n\t\n\t    var match = eventRe.exec(line);\n\t    if (!match) {\n\t        console.warn(\"Unable to parse event, ignoring:\", line);\n\t        return;\n\t    }\n\t\n\t    var _match$slice = match.slice(1),\n\t        _match$slice2 = _slicedToArray(_match$slice, 3),\n\t        event_ = _match$slice2[0],\n\t        name = _match$slice2[1],\n\t        info = _match$slice2[2];\n\t\n\t    (0, _helpers.logDebug)('handleEvent(' + connectionName + '): domain ' + name + ': got event ' + event_ + '; details: ' + info);\n\t\n\t    // types and details: https://libvirt.org/html/libvirt-libvirt-domain.html#virDomainEventID\n\t    switch (event_) {\n\t        case 'lifecycle':\n\t            {\n\t                var type = info.split(' ')[0];\n\t                switch (type) {\n\t                    case 'Undefined':\n\t                        dispatch((0, _actions.undefineVm)(connectionName, name));\n\t                        break;\n\t\n\t                    case 'Defined':\n\t                    case 'Started':\n\t                        dispatch((0, _actions.getVm)(connectionName, name));\n\t                        break;\n\t\n\t                    case 'Stopped':\n\t                        dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, state: 'shut off', actualTimeInMs: -1 }));\n\t                        // transient VMs don't have a separate Undefined event, so remove them on stop\n\t                        dispatch((0, _actions.undefineVm)(connectionName, name, true));\n\t                        break;\n\t\n\t                    case 'Suspended':\n\t                        dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, state: 'paused' }));\n\t                        break;\n\t\n\t                    case 'Resumed':\n\t                        dispatch((0, _actions.updateVm)({ connectionName: connectionName, name: name, state: 'running' }));\n\t                        break;\n\t\n\t                    default:\n\t                        (0, _helpers.logDebug)('Unhandled lifecycle event type ' + type + ' in event: ' + line);\n\t                }\n\t                break;\n\t            }\n\t        case 'metadata-change':\n\t        case 'device-added':\n\t        case 'device-removed':\n\t        case 'disk-change':\n\t        case 'tray-change':\n\t        case 'control-error':\n\t            // these (can) change what we display, so re-read the state\n\t            dispatch((0, _actions.getVm)(connectionName, name));\n\t            break;\n\t\n\t        default:\n\t            (0, _helpers.logDebug)('handleEvent ' + connectionName + ' ' + name + ': ignoring event ' + line);\n\t    }\n\t}\n\t\n\tfunction startEventMonitor(dispatch, connectionName) {\n\t    var output_buf = '';\n\t\n\t    // set up event monitor for that connection; force PTY as otherwise the buffering\n\t    // will not show every line immediately\n\t    _cockpit2.default.spawn(['virsh'].concat(_config2.default.Virsh.connections[connectionName].params).concat(['-r', 'event', '--all', '--loop']), { 'err': 'message', 'pty': true }).stream(function (data) {\n\t        // buffer and line-split the output, there is no guarantee that we always get whole lines\n\t        output_buf += data;\n\t        var lines = output_buf.split('\\n');\n\t        while (lines.length > 1) {\n\t            handleEvent(dispatch, connectionName, lines.shift().trim());\n\t        }output_buf = lines[0];\n\t    }).fail(function (ex) {\n\t        // this usually happens if libvirtd gets stopped or isn't running; retry connecting every 10s\n\t        console.log(\"virsh event failed:\", ex);\n\t        dispatch((0, _actions.deleteUnlistedVMs)(connectionName, []));\n\t        dispatch((0, _actions.delayPolling)((0, _actions.getAllVms)(connectionName)));\n\t    });\n\t}\n\t\n\texports.default = LIBVIRT_PROVIDER;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports) {\n\n\tmodule.exports = jQuery;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"#!/bin/sh\\n\\nset -u -o noglob\\nVM_NAME=\\\"$1\\\"\\nSOURCE=\\\"$2\\\"\\nOS=\\\"$3\\\"\\nMEMORY_SIZE=\\\"$4\\\" # in MiB\\nSTORAGE_SIZE=\\\"$5\\\" # in GiB\\nSTART_VM=\\\"$6\\\"\\n\\nendIfFailed(){\\n\\tif [ $1 -ne 0 ]; then\\n\\t    rm -f \\\"$XMLS_FILE\\\"\\n        exit $1\\n    fi\\n}\\n\\n# prepare virt-install parameters\\nCOMPARISON=$(awk 'BEGIN{ print \\\"'$STORAGE_SIZE'\\\"<=0 }')\\nif [ \\\"$COMPARISON\\\" -eq 1 ]; then\\n    # default to no disk if size 0\\n    DISK_OPTIONS=\\\"none\\\"\\nelse\\n    DISK_OPTIONS=\\\"size=$STORAGE_SIZE,format=qcow2\\\"\\nfi\\n\\nGRAPHICS_PARAM=\\\"--graphics spice,listen=127.0.0.1 --graphics vnc,listen=127.0.0.1\\\"\\n\\nif [ \\\"$OS\\\" = \\\"other-os\\\" -o  -z \\\"$OS\\\" ]; then\\n    OS=\\\"auto\\\"\\nfi\\n\\nFIRST_1_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c 1`\\\"\\nFIRST_3_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -3`\\\"\\nFIRST_4_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -4`\\\"\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" -a \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -a ! -f \\\"$SOURCE\\\" ]; then\\n    echo \\\"$SOURCE does not exist or is not a file\\\" 1>&2\\n    exit 1\\nfi\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" -a \\\\( \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -o \\\"$FIRST_4_SOURCE\\\" = \\\"http\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"ftp\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"nfs\\\" \\\\) ]; then\\n    LOCATION_PARAM=\\\"--cdrom $SOURCE\\\"\\nelse\\n    # prevents creating duplicate cdroms if start vm is false\\n    # or if no source received\\n    LOCATION_PARAM=\\\"\\\"\\nfi\\n\\n\\nXMLS_FILE=\\\"`mktemp`\\\"\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" ]; then\\n    STARTUP_PARAMS=\\\"--wait -1 --noautoconsole --noreboot\\\"\\n    HAS_INSTALL_PHASE=\\\"false\\\"\\nelse\\n    # 2 = last phase only\\n    STARTUP_PARAMS=\\\"--print-xml\\\"\\n    HAS_INSTALL_PHASE=\\\"true\\\"\\nfi\\n\\nvirt-install \\\\\\n    --name \\\"$VM_NAME\\\" \\\\\\n    --os-variant \\\"$OS\\\" \\\\\\n    --memory \\\"$MEMORY_SIZE\\\" \\\\\\n    --quiet \\\\\\n    --disk  \\\"$DISK_OPTIONS\\\" \\\\\\n    $STARTUP_PARAMS \\\\\\n    $LOCATION_PARAM \\\\\\n    $GRAPHICS_PARAM \\\\\\n> \\\"$XMLS_FILE\\\"\\n\\nendIfFailed $?\\n\\n# add metadata to domain\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" ]; then\\n    virsh -q dumpxml \\\"$VM_NAME\\\" > \\\"$XMLS_FILE\\\"\\nfi\\n\\n# LAST STEP ONLY - virt-install can output 1 or 2 steps\\nDOMAIN_MATCHES=`grep -n '</domain>' \\\"$XMLS_FILE\\\"`\\nLAST_STEP=`echo \\\"$DOMAIN_MATCHES\\\" | wc -l`\\nCURRENT_STEP=1\\nSTART_LINE=1\\n\\n# go through all domains (line numbers) and increment steps\\necho \\\"$DOMAIN_MATCHES\\\"  |  sed 's/[^0-9]//g' | while read -r FINISH_LINE ; do\\n        QUIT_LINE=\\\"`expr $FINISH_LINE + 1`\\\"\\n        # define only last step\\n        if [ \\\"$CURRENT_STEP\\\" = \\\"$LAST_STEP\\\" ]; then\\n            sed -n -i \\\"$START_LINE\\\"','\\\"$FINISH_LINE\\\"'p;'\\\"$QUIT_LINE\\\"'q' \\\"$XMLS_FILE\\\"\\n            METADATA_LINE=`grep -n '</metadata>' \\\"$XMLS_FILE\\\" | sed 's/[^0-9]//g'`\\n\\n            METADATA='    <cockpit_machines:data xmlns:cockpit_machines=\\\"https://github.com/cockpit-project/cockpit/tree/master/pkg/machines\\\"> \\\\\\n      <cockpit_machines:has_install_phase>'\\\"$HAS_INSTALL_PHASE\\\"'</cockpit_machines:has_install_phase> \\\\\\n      <cockpit_machines:install_source>'\\\"$SOURCE\\\"'</cockpit_machines:install_source> \\\\\\n      <cockpit_machines:os_variant>'\\\"$OS\\\"'</cockpit_machines:os_variant> \\\\\\n    </cockpit_machines:data>'\\n\\n            if [ -z \\\"$METADATA_LINE\\\"  ]; then\\n                METADATA_LINE=\\\"`cat \\\"$XMLS_FILE\\\" | wc -l`\\\"\\n                METADATA='\\\\ \\\\ <metadata> \\\\\\n'\\\"$METADATA\\\"' \\\\\\n  </metadata>'\\n            fi\\n\\n            #inject metadata, and define\\n            sed \\\"$METADATA_LINE\\\"\\\"i $METADATA\\\" \\\"$XMLS_FILE\\\" | virsh -q define /dev/stdin\\n            endIfFailed $?\\n        else\\n            START_LINE=\\\"$QUIT_LINE\\\"\\n            CURRENT_STEP=\\\"`expr $CURRENT_STEP + 1`\\\"\\n        fi\\ndone\\n\\nrm -f \\\"$XMLS_FILE\\\"\\n\"\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"#!/bin/sh\\n\\nset -u -o noglob\\n\\nVM_NAME=\\\"$1\\\"\\nSOURCE=\\\"$2\\\"\\nOS=\\\"$3\\\"\\nMEMORY_SIZE=\\\"$4\\\" # in Mib\\nVCPUS=\\\"$5\\\"\\nDISKS=\\\"$6\\\"\\nDISPLAYS=\\\"$7\\\"\\n\\n# prepare virt-install parameters\\n\\ncreateOptions(){\\n    CREATE_OPTIONS_RESULT=\\\"\\\"\\n\\twhile IFS= read -r PARAM\\n    do\\n       if [ -n \\\"$PARAM\\\" ]; then\\n           CREATE_OPTIONS_RESULT=\\\"${CREATE_OPTIONS_RESULT} $2 $PARAM\\\"\\n       fi\\n    done << EOF\\n    $1\\nEOF\\n}\\n\\nif [ -z \\\"$OS\\\" ]; then\\n    OS=\\\"auto\\\"\\nfi\\n\\nif [ -z \\\"$DISKS\\\" ]; then\\n    DISKS_PARAM=\\\"--disk none\\\"\\nelse\\n    createOptions \\\"$DISKS\\\" \\\"--disk\\\"\\n    DISKS_PARAM=\\\"$CREATE_OPTIONS_RESULT\\\"\\nfi\\n\\nif [ -z \\\"$DISPLAYS\\\" ]; then\\n    GRAPHICS_PARAM=\\\"--graphics none\\\"\\nelse\\n    createOptions \\\"$DISPLAYS\\\" \\\"--graphics\\\"\\n    GRAPHICS_PARAM=\\\"$CREATE_OPTIONS_RESULT\\\"\\nfi\\n\\nFIRST_1_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c 1`\\\"\\nFIRST_3_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -3`\\\"\\nFIRST_4_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -4`\\\"\\n\\nif [ \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -a ! -f \\\"$SOURCE\\\" ]; then\\n    echo \\\"$SOURCE does not exist or is not a file\\\" 1>&2\\n    exit 1\\nfi\\n\\nif [ \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -o \\\"$FIRST_4_SOURCE\\\" = \\\"http\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"ftp\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"nfs\\\" ]; then\\n    LOCATION_PARAM=\\\"--cdrom $SOURCE\\\"\\nelse\\n    LOCATION_PARAM=\\\"\\\"\\nfi\\n\\n# backup\\nDOMAIN_FILE=\\\"`mktemp`\\\"\\n\\nvirsh -q destroy \\\"$VM_NAME\\\" 2>/dev/null\\nvirsh -q dumpxml \\\"$VM_NAME\\\" > \\\"$DOMAIN_FILE\\\"\\nvirsh -q undefine \\\"$VM_NAME\\\" --managed-save\\n\\nvirt-install \\\\\\n    --name \\\"$VM_NAME\\\" \\\\\\n    --os-variant \\\"$OS\\\" \\\\\\n    --memory \\\"$MEMORY_SIZE\\\" \\\\\\n    --vcpus \\\"$VCPUS\\\" \\\\\\n    --quiet \\\\\\n    --wait -1 \\\\\\n    --noautoconsole \\\\\\n    --noreboot \\\\\\n    $DISKS_PARAM \\\\\\n    $LOCATION_PARAM \\\\\\n    $GRAPHICS_PARAM\\nEXIT_STATUS=$?\\n\\nif [ \\\"$EXIT_STATUS\\\" -eq 0 ]; then\\n    # set metadata\\n    virsh -q dumpxml \\\"$VM_NAME\\\" > \\\"$DOMAIN_FILE\\\"\\n    METADATA_LINE=`grep -n '</metadata>' \\\"$DOMAIN_FILE\\\" | sed 's/[^0-9]//g'`\\n    METADATA='    <cockpit_machines:data xmlns:cockpit_machines=\\\"https://github.com/cockpit-project/cockpit/tree/master/pkg/machines\\\"> \\\\\\n      <cockpit_machines:has_install_phase>false</cockpit_machines:has_install_phase> \\\\\\n      <cockpit_machines:install_source>'\\\"$SOURCE\\\"'</cockpit_machines:install_source> \\\\\\n      <cockpit_machines:os_variant>'\\\"$OS\\\"'</cockpit_machines:os_variant> \\\\\\n    </cockpit_machines:data>'\\n\\n    if [ -z \\\"$METADATA_LINE\\\"  ]; then\\n        METADATA_LINE=\\\"`cat \\\"$DOMAIN_FILE\\\" | wc -l`\\\"\\n        METADATA='\\\\ \\\\ <metadata> \\\\\\n'\\\"$METADATA\\\"' \\\\\\n  </metadata>'\\n    fi\\n\\n    #inject metadata, and define\\n    sed \\\"$METADATA_LINE\\\"\\\"i $METADATA\\\" \\\"$DOMAIN_FILE\\\" | virsh -q define /dev/stdin\\n    rm -f \\\"$DOMAIN_FILE\\\"\\nelse\\n    # return back if failed\\n    if virsh list --all | awk  '{print $2}' | grep -q --line-regexp --fixed-strings \\\"$VM_NAME\\\"; then\\n        # undefine if the domain was created but still failed\\n        virsh -q undefine \\\"$VM_NAME\\\" --managed-save\\n    fi\\n    virsh -q define \\\"$DOMAIN_FILE\\\"\\n    rm -f \\\"$DOMAIN_FILE\\\"\\n    exit 1\\nfi\\n\"\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"#!/bin/sh\\n\\n# sed strips spaces at the end, the beginning and spaces around '|'\\nosinfo-query os --fields=short-id,name,version,family,vendor,release-date,eol-date,codename | tail -n +3 | sed -e 's/\\\\s*|\\\\s*/|/g; s/^\\\\s*//g; s/\\\\s*$//g'\\n\"\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.spawnProcess = spawnProcess;\n\texports.spawnScript = spawnScript;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tfunction spawnProcess(_ref) {\n\t    var cmd = _ref.cmd,\n\t        _ref$args = _ref.args,\n\t        args = _ref$args === undefined ? [] : _ref$args,\n\t        stdin = _ref.stdin,\n\t        failHandler = _ref.failHandler;\n\t\n\t    var spawnArgs = [cmd].concat(_toConsumableArray(args));\n\t    (0, _helpers.logDebug)('spawn process args: ' + spawnArgs);\n\t\n\t    return spawn(_cockpit2.default.spawn(spawnArgs, { err: \"message\", environ: ['LC_ALL=C'] }).input(stdin)).fail(function (exception, data) {\n\t        if (failHandler) {\n\t            return failHandler({ exception: exception, data: data, spawnArgs: spawnArgs });\n\t        }\n\t        console.warn('spawn \\'' + cmd + '\\' process returned error: \"' + JSON.stringify(exception) + '\", data: \"' + JSON.stringify(data) + '\"');\n\t    });\n\t}\n\t\n\tfunction spawnScript(_ref2) {\n\t    var script = _ref2.script;\n\t\n\t    var spawnArgs = [script];\n\t    (0, _helpers.logDebug)('spawn script args: ' + spawnArgs);\n\t\n\t    return spawn(_cockpit2.default.script(spawnArgs, [], { err: \"message\", environ: ['LC_ALL=C'] })).fail(function (ex, data) {\n\t        return console.warn('spawn \\'' + script + '\\' script error: \"' + JSON.stringify(ex) + '\", data: \"' + JSON.stringify(data) + '\"');\n\t    });\n\t}\n\t\n\tfunction spawn(command) {\n\t    var deferred = _cockpit2.default.defer();\n\t    var stdout = '';\n\t    command.stream(function (chunk) {\n\t        stdout += chunk;\n\t    }).done(function () {\n\t        deferred.resolve(stdout);\n\t    }).fail(function (ex, data) {\n\t        deferred.reject(ex, data, stdout);\n\t    });\n\t\n\t    return deferred.promise;\n\t}\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.prepareDisplaysParam = prepareDisplaysParam;\n\texports.prepareDisksParam = prepareDisksParam;\n\t/*jshint esversion: 6 */\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tfunction prepareParams(objectData, valueTransformer) {\n\t    var result = '';\n\t    var startLine = true;\n\t    Object.keys(objectData).forEach(function (key) {\n\t        var options = valueTransformer(objectData[key]);\n\t\n\t        Object.keys(options).forEach(function (optionKey) {\n\t            var option = options[optionKey];\n\t            if (option) {\n\t                result += startLine ? optionKey + '=' + option : ',' + optionKey + '=' + option;\n\t                if (startLine) {\n\t                    startLine = false;\n\t                }\n\t            }\n\t        });\n\t        result += '\\n';\n\t        startLine = true;\n\t    });\n\t\n\t    return result;\n\t}\n\t\n\tfunction prepareDisplaysParam(displays) {\n\t    return prepareParams(displays, function (display) {\n\t        return {\n\t            type: display.type,\n\t            listen: display.address,\n\t            port: display.port,\n\t            tlsport: display.tlsPort\n\t        };\n\t    });\n\t}\n\t\n\tfunction prepareDisksParam(disks) {\n\t    var isVolume = function isVolume(disk) {\n\t        return disk.source.volume && disk.source.pool;\n\t    };\n\t    var getVolume = function getVolume(disk) {\n\t        return isVolume(disk) ? disk.source.pool + '/' + disk.source.volume : null;\n\t    };\n\t    var getPath = function getPath(disk) {\n\t        return isVolume(disk) ? null : disk.source.file;\n\t    };\n\t\n\t    return prepareParams(disks, function (disk) {\n\t        return {\n\t            path: getPath(disk),\n\t            vol: getVolume(disk),\n\t            device: disk.device,\n\t            boot_order: disk.bootOrder,\n\t            bus: disk.bus,\n\t            removable: disk.removable,\n\t            readonly: disk.readonly ? 'on' : 'off',\n\t            shareable: disk.shareable ? 'on' : 'off',\n\t            cache: disk.driver.cache,\n\t            discard: disk.driver.discard,\n\t            driver_name: disk.driver.name,\n\t            driver_type: disk.driver.type,\n\t            io: disk.driver.io,\n\t            error_policy: disk.driver.errorPolicy,\n\t            startup_policy: disk.source.startupPolicy\n\t            // format: libvirt's format auto-detection\n\t        };\n\t    });\n\t}\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.readConfiguration = readConfiguration;\n\texports.redirectToOvirtSSO = redirectToOvirtSSO;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _config3 = __webpack_require__(19);\n\t\n\tvar _config4 = _interopRequireDefault(_config3);\n\t\n\tvar _provider = __webpack_require__(26);\n\t\n\tvar _ovirtApiAccess = __webpack_require__(36);\n\t\n\tvar _ovirt = __webpack_require__(37);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _InstallationDialog = __webpack_require__(42);\n\t\n\tvar _InstallationDialog2 = _interopRequireDefault(_InstallationDialog);\n\t\n\tvar _store = __webpack_require__(14);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tfunction readConfiguration(_ref) {\n\t    var dispatch = _ref.dispatch;\n\t\n\t    (0, _helpers.logDebug)('readConfiguration() called for configUrl=\\'' + _config.OVIRT_CONF_FILE + '\\'');\n\t\n\t    var promises = [];\n\t    promises.push(doReadConfiguration({ dispatch: dispatch }));\n\t    promises.push(doReadHostname({ dispatch: dispatch }));\n\t\n\t    return _cockpit2.default.all(promises);\n\t}\n\t\n\t/**\n\t * Configuration can be changed by admin after installation\n\t * and is kept in separate file (out of manifest.json)\n\t * @param dispatch\n\t */\n\tfunction doReadConfiguration(_ref2) {\n\t    var dispatch = _ref2.dispatch;\n\t\n\t    // Configuration can be changed by admin after installation\n\t    // and so is kept in separate file (out of manifest.json)\n\t    return _cockpit2.default.file(_config.OVIRT_CONF_FILE).read().done(function (content) {\n\t        if (!content) {\n\t            console.info('Configuration file empty, post-installation setup follows to generate: ', _config.OVIRT_CONF_FILE);\n\t            (0, _InstallationDialog2.default)();\n\t            return;\n\t        }\n\t\n\t        console.log('Configuration file ' + _config.OVIRT_CONF_FILE + ' content is read ...');\n\t        var config = JSON.parse(content);\n\t        console.log('... and parsed');\n\t        Object.assign(_config2.default, config);\n\t\n\t        _config4.default.isDev = _config2.default.debug;\n\t\n\t        if (_config2.default.Virsh && _config2.default.Virsh.connections) {\n\t            _config4.default.Virsh = _config2.default.Virsh; // adjust pkg/machines\n\t            _config2.default.Virsh = null; // not used anywhere else within pkg/ovirt\n\t            (0, _helpers.logDebug)('Connection params for virsh: ', JSON.stringify(_config4.default.Virsh));\n\t        }\n\t\n\t        (0, _helpers.logDebug)('Configuration parsed, using merged result: ' + JSON.stringify(_config2.default));\n\t        return doLogin({ dispatch: dispatch });\n\t    }).fail(function () {\n\t        console.info('Failed to read configuration, post-installation setup follows to generate: ', _config.OVIRT_CONF_FILE);\n\t        (0, _InstallationDialog2.default)();\n\t    });\n\t}\n\t\n\tfunction storeSsoUri(location) {\n\t    var accessTokenStart = location.href.lastIndexOf('access_token=');\n\t    if (accessTokenStart >= 0) {\n\t        // valid only if ovirt-cockpit-sso is involved\n\t        var ssoUri = location.href.substr(0, accessTokenStart + 'access_token='.length);\n\t        (0, _helpers.logDebug)('storeSsoUri(): ', ssoUri);\n\t        window.sessionStorage.setItem('OVIRT_PROVIDER_SSO_URI', ssoUri);\n\t    }\n\t}\n\t\n\tfunction doReadHostname(_ref3) {\n\t    var dispatch = _ref3.dispatch;\n\t\n\t    var hostname = '';\n\t    return _cockpit2.default.spawn(['hostname', '-f'], { 'err': 'message' }).stream(function (data) {\n\t        hostname += data;\n\t    }).done(function () {\n\t        hostname = hostname.trim();\n\t        (0, _helpers.logDebug)('hostname read: ', hostname);\n\t        (0, _store.waitForReducerSubtreeInit)(function () {\n\t            return dispatch((0, _actions.setHostname)(hostname));\n\t        });\n\t    }).fail(function (ex) {\n\t        console.error(\"Getting 'hostname' failed:\", ex);\n\t    });\n\t}\n\t\n\tfunction doLogin(_ref4) {\n\t    var dispatch = _ref4.dispatch;\n\t\n\t    (0, _helpers.logDebug)('doLogin() called');\n\t\n\t    var location = window.top.location;\n\t    var tokenStart = location.hash.indexOf('token=');\n\t    var token = window.sessionStorage.getItem('OVIRT_PROVIDER_TOKEN'); // as default\n\t\n\t    (0, _helpers.logDebug)('location: \\'' + location.toString() + '\\'\\ntokenStart=\\'' + tokenStart + '\\'\\ntoken=\\'' + token + '\\'');\n\t\n\t    if (tokenStart >= 0) {\n\t        // TOKEN received as a part of URL has precedence\n\t        (0, _helpers.logDebug)('doLogin(): token from params stored to sessionStorage, now removing the token hash from the url');\n\t        storeSsoUri(location);\n\t\n\t        token = location.hash.substr(tokenStart + 'token='.length);\n\t        window.sessionStorage.setItem('OVIRT_PROVIDER_TOKEN', token);\n\t        (0, _helpers.logDebug)('doLogin(): token from params stored to sessionStorage, now removing the token hash from the url. ', token);\n\t        window.top.location.hash = '';\n\t        return onLoginSuccessful({ dispatch: dispatch, token: token });\n\t    } else if (token) {\n\t        // found in the sessionStorrage\n\t        (0, _helpers.logDebug)('doLogin(): token found in sessionStorrage: ' + token);\n\t        return onLoginSuccessful({ dispatch: dispatch, token: token });\n\t    } else {\n\t        redirectToOvirtSSO();\n\t    }\n\t    return false;\n\t}\n\t\n\tfunction onLoginSuccessful(_ref5) {\n\t    var dispatch = _ref5.dispatch,\n\t        token = _ref5.token;\n\t\n\t    _config2.default.token = token;\n\t\n\t    // Turn-off user notification about progress\n\t    // Provider's reducer subtree must not be initialized at this point\n\t    (0, _store.waitForReducerSubtreeInit)(function () {\n\t        return dispatch((0, _actions.loginInProgress)(false));\n\t    });\n\t\n\t    return checkApiVersion({ dispatch: dispatch });\n\t}\n\t\n\tfunction redirectToOvirtSSO() {\n\t    console.info('Redirecting to oVirt SSO');\n\t\n\t    // hack to get the dispatch() function without it's extensive passing in the call hierarchy\n\t    _store2.default.dispatch((0, _actions.loginInProgress)(true)); // for expired token: force user notification to render; connection to oVirt SSO Login page might take a while\n\t\n\t    var baseUrl = (0, _config.getOvirtBaseUrl)();\n\t    var authorizedRedirect = baseUrl + '/web-ui/authorizedRedirect.jsp?redirectUrl=';\n\t\n\t    var ssoUri = window.sessionStorage.getItem('OVIRT_PROVIDER_SSO_URI');\n\t    if (ssoUri) {\n\t        // https://[ENGINE_FQDN]:9986/=[OVIRT_HOST_UUID]/machines#access_token=[VALID_OVIRT_ACCESS_TOKEN]\n\t        ssoUri = ssoUri.replace('#', '__hash__');\n\t        authorizedRedirect = authorizedRedirect + (ssoUri + 'TOKEN');\n\t    } else {\n\t        var hostUrl = 'https://' + window.location.host;\n\t        authorizedRedirect = authorizedRedirect + (hostUrl + '/machines/__hash__token=TOKEN');\n\t    }\n\t\n\t    console.info('Redirecting to oVirt SSO: ', authorizedRedirect);\n\t    window.top.location = authorizedRedirect;\n\t}\n\t\n\tfunction checkApiVersion(_ref6) {\n\t    var dispatch = _ref6.dispatch;\n\t\n\t    (0, _helpers.logDebug)('checkApiVersion() started');\n\t\n\t    var failHandler = function failHandler(data, ex) {\n\t        (0, _helpers.logError)('checkApiVersion(): failed to load oVirt API metadata');\n\t        (0, _provider.setOvirtApiCheckResult)(false);\n\t    };\n\t\n\t    return (0, _ovirtApiAccess.ovirtApiGet)('', // just the /ovirt-engine/api\n\t    {}, failHandler).then(function (data) {\n\t        (0, _helpers.logDebug)('checkApiVersion() - API metadata retrieved: ', data);\n\t        var apiMetaData = JSON.parse(data);\n\t\n\t        if (!(apiMetaData && apiMetaData['product_info'] && apiMetaData['product_info']['version'] && apiMetaData['product_info']['version']['major'] && apiMetaData['product_info']['version']['minor'])) {\n\t            console.error('Incompatible oVirt API version: ', apiMetaData);\n\t\n\t            (0, _provider.setOvirtApiCheckResult)(false);\n\t            return;\n\t        }\n\t\n\t        var actual = apiMetaData['product_info']['version'];\n\t        var passed = compareVersion({ major: parseInt(actual.major, 10), minor: parseInt(actual.minor, 10) }, _config.REQUIRED_OVIRT_API_VERSION);\n\t\n\t        (0, _helpers.logDebug)('checkApiVersion(): ', passed);\n\t        (0, _provider.setOvirtApiCheckResult)(passed);\n\t\n\t        if (passed) {\n\t            (0, _ovirt.startOvirtPolling)({ dispatch: dispatch });\n\t        }\n\t    });\n\t}\n\t\n\tfunction compareVersion(actual, required) {\n\t    (0, _helpers.logDebug)('compareVersion(), actual=' + JSON.stringify(actual) + ', required=' + JSON.stringify(required));\n\t\n\t    // assuming backward compatibility of oVirt API\n\t    if (actual.major >= required.major) {\n\t        if (actual.major === required.major) {\n\t            if (actual.minor < required.minor) {\n\t                return false;\n\t            }\n\t        }\n\t        return true;\n\t    }\n\t    return false;\n\t}\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.getOvirtBaseUrl = getOvirtBaseUrl;\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar INSTALL_SH = exports.INSTALL_SH = '/usr/share/cockpit/ovirt/install.sh';\n\t\n\tvar OVIRT_CONF_FILE = exports.OVIRT_CONF_FILE = '/etc/cockpit/machines-ovirt.config'; // relative URL for async download\n\tvar VDSM_CONF_FILE = exports.VDSM_CONF_FILE = '/etc/vdsm/vdsm.conf';\n\tvar PEM_FILE = exports.PEM_FILE = '/etc/pki/vdsm/certs/cacert.pem';\n\tvar OVIRT_DEFAULT_PORT = exports.OVIRT_DEFAULT_PORT = 443;\n\t\n\tvar CONSOLE_TYPE_ID_MAP = exports.CONSOLE_TYPE_ID_MAP = {\n\t  // TODO: replace this by API call /vms/[ID]/graphicsconsoles for more flexibility\n\t  // but it's hardcoded in oVirt anyway ...\n\t  'spice': '7370696365',\n\t  'vnc': '766e63',\n\t  'rdp': 'rdp_not_yet_supported'\n\t};\n\t\n\tvar REQUIRED_OVIRT_API_VERSION = exports.REQUIRED_OVIRT_API_VERSION = {\n\t  major: 4,\n\t  minor: 0 // TODO: do not commit change, keep to 0!\n\t};\n\t\n\tvar CONFIG = { // will be dynamically replaced by content of CONFIG_FILE_URL within OVIRT_PROVIDER.init()\n\t  /**\n\t   * Set to false to turn off the debug logging\n\t   * See install.sh for production default.\n\t   */\n\t  debug: true,\n\t\n\t  OVIRT_FQDN: 'replace.by.engine.fqdn',\n\t  OVIRT_PORT: 443,\n\t\n\t  CONSOLE_CLIENT_RESOURCES_URL: 'https://www.ovirt.org/documentation/admin-guide/virt/console-client-resources/',\n\t\n\t  /**\n\t   * oVirt polling is not called more than once per this time period.\n\t   * Just single execution can be in progress at a time.\n\t   * The delay window starts since previous polling processing is finished.\n\t   * In ms.\n\t   *\n\t   * See install.sh for production default.\n\t   */\n\t  ovirt_polling_interval: 5000,\n\t\n\t  cockpitPort: 9090,\n\t\n\t  /**\n\t   * If optional 'Virsh' property is provided here, it will be injected\n\t   * to machines/config.es6 to adjust virsh connection parameters.\n\t   *\n\t   * See machines/config.es6\n\t   * See ovirt/configFuncs.es6:readConfiguration()\n\t   */\n\t  Virsh: {\n\t    connections: null\n\t  },\n\t\n\t  /**\n\t   * oVirt SSO token, filled in login.js\n\t   */\n\t  token: null\n\t};\n\t\n\tfunction getOvirtBaseUrl() {\n\t  return 'https://' + CONFIG.OVIRT_FQDN + ':' + CONFIG.OVIRT_PORT + '/ovirt-engine';\n\t}\n\t\n\texports.default = CONFIG;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.ovirtApiGet = ovirtApiGet;\n\texports.ovirtApiPost = ovirtApiPost;\n\texports.handleOvirtError = handleOvirtError;\n\texports.httpGet = httpGet;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _configFuncs = __webpack_require__(34);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar httpClient = null;\n\t\n\t/**\n\t * Reusable Http Client to access oVirt API.\n\t * @returns {*}\n\t */\n\tfunction getHttpClient() {\n\t    if (!httpClient) {\n\t        httpClient = _cockpit2.default.http({\n\t            \"port\": _config2.default.OVIRT_PORT,\n\t            \"address\": _config2.default.OVIRT_FQDN,\n\t            \"tls\": {\n\t                \"authority\": {\n\t                    \"file\": _config.PEM_FILE\n\t                },\n\t                \"key\": {\n\t                    \"file\": _config.PEM_FILE\n\t                },\n\t                \"certificate\": {\n\t                    \"file\": _config.PEM_FILE\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    return httpClient;\n\t}\n\t\n\t// TODO: use \"Filter: true\" header for non-admins\n\tfunction ovirtApiGet(resource, custHeaders, failHandler) {\n\t    var headers = Object.assign({}, {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/xml', // TODO: change to JSON once verified\n\t        'Authorization': 'Bearer ' + _config2.default.token\n\t    }, custHeaders);\n\t\n\t    var url = '/ovirt-engine/api/' + resource;\n\t    (0, _helpers.logDebug)('ovirtApiGet(): resource: ' + resource + ', headers: ' + JSON.stringify(headers) + ', url: ' + url);\n\t\n\t    return getHttpClient().get(url, null, headers).fail(function (exception, error) {\n\t        console.info('HTTP GET failed: ' + JSON.stringify(error) + ', ' + JSON.stringify(exception) + ', url: ', url);\n\t        handleOvirtError({ error: error, exception: exception, failHandler: failHandler });\n\t    });\n\t}\n\t\n\tfunction ovirtApiPost(resource, body, failHandler) {\n\t    (0, _helpers.logDebug)('ovirtApiPost(): resource: ' + resource + ', body: ' + body);\n\t\n\t    var headers = {\n\t        'Accept': 'application/json',\n\t        'Content-Type': 'application/xml',\n\t        'Authorization': 'Bearer ' + _config2.default.token\n\t    };\n\t\n\t    var url = '/ovirt-engine/api/' + resource;\n\t    return getHttpClient().request({\n\t        method: 'POST',\n\t        path: url,\n\t        headers: headers,\n\t        body: body\n\t    }).fail(function (exception, error) {\n\t        console.info('HTTP POST failed: ' + JSON.stringify(error), url);\n\t        handleOvirtError({ error: error, exception: exception, failHandler: failHandler });\n\t    });\n\t}\n\t\n\tfunction handleOvirtError(_ref) {\n\t    var error = _ref.error,\n\t        exception = _ref.exception,\n\t        failHandler = _ref.failHandler;\n\t\n\t    if (!error) {\n\t        (0, _helpers.logError)('oVirt operation failed but no error received');\n\t        return;\n\t    }\n\t\n\t    console.info('handleOvirtError, error = ', error, 'exception = ', exception);\n\t\n\t    if (!exception) {\n\t        (0, _helpers.logError)('oVirt operation failed but no exception received');\n\t        return;\n\t    }\n\t\n\t    switch (exception.status) {\n\t        case 401:\n\t            {\n\t                // Unauthorized\n\t                // clear token from sessionStorage and refresh --> SSO will pass again\n\t                window.sessionStorage.setItem('OVIRT_PROVIDER_TOKEN', undefined); // see login.js\n\t                (0, _configFuncs.redirectToOvirtSSO)();\n\t                return; // never comes here\n\t            }\n\t        case 404: /* falls through */\n\t        default:\n\t            if (failHandler) {\n\t                try {\n\t                    // returned error might be JSON-formatted\n\t                    error = JSON.parse(error);\n\t                } catch (ex) {\n\t                    (0, _helpers.logDebug)('handleOvirtError(): error is not a JSON string');\n\t                }\n\t\n\t                var data = error;\n\t                if (error.detail) {\n\t                    data = error.detail;\n\t                } else if (error.fault) {\n\t                    data = error.fault.detail || error.fault;\n\t                }\n\t\n\t                failHandler({ data: data, exception: exception });\n\t            } else {\n\t                (0, _helpers.logError)('oVirt operation failed but no failHandler defined. Error: ' + JSON.stringify(error));\n\t            }\n\t    }\n\t}\n\t\n\t/**\n\t * Issue general-purpose HTTP GET.\n\t * Please use oVirtApiGet() to access the API instead.\n\t */\n\tfunction httpGet(address, port, resource) {\n\t    console.info('httpGet(): ', address, port, resource);\n\t    return _cockpit2.default.http({\n\t        \"port\": parseInt(port),\n\t        \"address\": address,\n\t        \"tls\": {\n\t            \"authority\": {\n\t                \"file\": _config.PEM_FILE\n\t            },\n\t            \"key\": {\n\t                \"file\": _config.PEM_FILE\n\t            },\n\t            \"certificate\": {\n\t                \"file\": _config.PEM_FILE\n\t            }\n\t        }\n\t    }).get(resource);\n\t}\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.startOvirtPolling = startOvirtPolling;\n\texports.forceNextOvirtPoll = forceNextOvirtPoll;\n\texports.pollOvirt = pollOvirt;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _ovirtConverters = __webpack_require__(39);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _ovirtApiAccess = __webpack_require__(36);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _provider = __webpack_require__(26);\n\t\n\tvar _selectors = __webpack_require__(40);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar lastOvirtPoll = -1; // timestamp\n\t/**\n\t * Initiate polling of oVirt data.\n\t *\n\t * @param dispatch\n\t */\n\tfunction startOvirtPolling(_ref) {\n\t    var dispatch = _ref.dispatch;\n\t\n\t    if (!(0, _provider.isOvirtApiCheckPassed)()) {\n\t        (0, _helpers.logDebug)('Skipping oVirt poling due to failed/unfinished oVirt API check');\n\t        return;\n\t    }\n\t\n\t    window.setInterval(function () {\n\t        return dispatch((0, _actions.pollOvirtAction)());\n\t    }, 1000); // see pollOvirt(), polling will be effectively started less often\n\t}\n\t\n\t/**\n\t * Shortens the period for next oVirt event polling, so it will be executed at next earliest opportunity.\n\t *\n\t * Useful to shorten reaction after user action.\n\t */\n\tfunction forceNextOvirtPoll() {\n\t    lastOvirtPoll = -1;\n\t}\n\t\n\t/**\n\t * Ensure, the function `call()` is not executed more than once per timeperiod.\n\t */\n\tfunction callOncePerTimeperiod(_ref2) {\n\t    var call = _ref2.call,\n\t        delay = _ref2.delay,\n\t        lastCall = _ref2.lastCall;\n\t\n\t    var now = Date.now();\n\t\n\t    if (lastCall + delay <= now) {\n\t        return call();\n\t    }\n\t\n\t    return null;\n\t}\n\t\n\tfunction pollOvirt() {\n\t    return function (dispatch, getState) {\n\t        callOncePerTimeperiod({\n\t            lastCall: lastOvirtPoll,\n\t            delay: _config2.default.ovirt_polling_interval, // do not poll more than once per this period\n\t            call: function call() {\n\t                if (_cockpit2.default.hidden) {\n\t                    // plugin is not visible in Cockpit\n\t                    (0, _helpers.logDebug)('oVirt polling skipped since the plugin is not visible');\n\t                    return;\n\t                }\n\t\n\t                (0, _helpers.logDebug)('Executing oVirt polling');\n\t                lastOvirtPoll = Infinity; // avoid parallel execution\n\t                return doRefreshEvents(dispatch, getState).always(function () {\n\t                    // update the timestamp\n\t                    (0, _helpers.logDebug)('oVirt polling finished');\n\t                    lastOvirtPoll = Date.now(); // single polling finished, re-enable it\n\t                });\n\t            }\n\t        });\n\t    };\n\t}\n\t\n\tvar lastEventIndexReceived = -1; // oVirt strictly increases event indexes to allow incremental polling\n\tfunction doRefreshEvents(dispatch, getState) {\n\t    (0, _helpers.logDebug)('doRefreshEvents() called');\n\t\n\t    var fullReload = false;\n\t    var params = '?from=' + lastEventIndexReceived;\n\t    if (lastEventIndexReceived < 0) {\n\t        // first run, take last event index and do full reload\n\t        params = '?max=1&search=sortby%20time%20desc'; // just the last one\n\t        fullReload = true;\n\t    }\n\t\n\t    var deferred = _cockpit2.default.defer();\n\t\n\t    (0, _ovirtApiAccess.ovirtApiGet)('events' + params).done(function (data) {\n\t        var result = JSON.parse(data);\n\t        if (result && result.event && result.event instanceof Array) {\n\t            var vmsToRefresh = {};\n\t            var templatesToRefresh = {};\n\t            var hostsToRefresh = {};\n\t            var clustersToRefresh = {};\n\t\n\t            result.event.forEach(function (event) {\n\t                return parseEvent(event, {\n\t                    vmsToRefresh: vmsToRefresh,\n\t                    templatesToRefresh: templatesToRefresh,\n\t                    hostsToRefresh: hostsToRefresh,\n\t                    clustersToRefresh: clustersToRefresh\n\t                });\n\t            });\n\t\n\t            var promises = [];\n\t\n\t            if (fullReload) {\n\t                // first run\n\t                promises.push(doRefreshClusters(dispatch));\n\t                promises.push(doRefreshHosts(dispatch));\n\t\n\t                promises.push(doRefreshVms(dispatch, getState));\n\t                promises.push(doRefreshTemplates(dispatch, getState));\n\t            } else {\n\t                // partial reload based on events only\n\t                Object.getOwnPropertyNames(clustersToRefresh).forEach(function (id) {\n\t                    return promises.push(doRefreshClusters(dispatch, id));\n\t                });\n\t\n\t                Object.getOwnPropertyNames(hostsToRefresh).forEach(function (id) {\n\t                    return promises.push(doRefreshHosts(dispatch, id));\n\t                });\n\t\n\t                Object.getOwnPropertyNames(vmsToRefresh).forEach(function (id) {\n\t                    return promises.push(doRefreshVms(dispatch, getState, id));\n\t                });\n\t\n\t                Object.getOwnPropertyNames(templatesToRefresh).forEach(function (id) {\n\t                    return promises.push(doRefreshTemplates(dispatch, getState, id));\n\t                });\n\t            }\n\t\n\t            _cockpit2.default.all(promises).then(function () {\n\t                return deferred.resolve();\n\t            }).fail(function (r) {\n\t                return deferred.reject(r);\n\t            });\n\t        } else {\n\t            if (result && Object.getOwnPropertyNames(result).length === 0) {\n\t                // no new events\n\t                (0, _helpers.logDebug)('No new oVirt events received');\n\t                deferred.resolve();\n\t            } else {\n\t                (0, _helpers.logError)('doRefreshEvents() failed, data: ', data, ', result: ', result);\n\t                deferred.reject('Array of events expected');\n\t            }\n\t        }\n\t    }).fail(function () {\n\t        (0, _helpers.logError)('Failed to retrieve oVirt events');\n\t        deferred.reject('Failed to retrieve oVirt events');\n\t    });\n\t\n\t    return deferred.promise;\n\t}\n\t\n\tfunction parseEvent(event, _ref3) {\n\t    var vmsToRefresh = _ref3.vmsToRefresh,\n\t        templatesToRefresh = _ref3.templatesToRefresh,\n\t        hostsToRefresh = _ref3.hostsToRefresh,\n\t        clustersToRefresh = _ref3.clustersToRefresh;\n\t\n\t    (0, _helpers.logDebug)('parseEvent: ', event);\n\t    var eventIndex = parseInt(event.index);\n\t    lastEventIndexReceived = lastEventIndexReceived < eventIndex ? eventIndex : lastEventIndexReceived;\n\t\n\t    // TODO: improve refresh decision based on event type and not just on presence of related resource\n\t    if (event.host && event.host.id) {\n\t        hostsToRefresh[event.host.id] = true;\n\t    }\n\t\n\t    if (event.vm && event.vm.id) {\n\t        vmsToRefresh[event.vm.id] = true;\n\t    }\n\t\n\t    if (event.template && event.template.id) {\n\t        templatesToRefresh[event.template.id] = true;\n\t    }\n\t\n\t    if (event.cluster && event.cluster.id) {\n\t        clustersToRefresh[event.cluster.id] = true;\n\t    }\n\t}\n\t\n\tfunction doRefreshHosts(dispatch, hostId) {\n\t    return doRefreshResource(dispatch, 'hosts', hostId, parseHosts, _actions.removeHost);\n\t}\n\t\n\tfunction doRefreshClusters(dispatch, clusterId) {\n\t    return doRefreshResource(dispatch, 'clusters', clusterId, parseClusters, _actions.removeCluster);\n\t}\n\t\n\tfunction doRefreshVms(dispatch, getState, vmId) {\n\t    return doRefreshResourceWithCurrentCluster(dispatch, getState, 'vms', vmId, parseVms, _actions.removeVm, true);\n\t}\n\t\n\tfunction doRefreshTemplates(dispatch, getState, templateId) {\n\t    return doRefreshResourceWithCurrentCluster(dispatch, getState, 'templates', templateId, parseTemplates, _actions.removeTemplate, false);\n\t}\n\t\n\tfunction parseVms(deferred, data, dispatch, currentCluster) {\n\t    var filterPredicate = function filterPredicate(vm) {\n\t        return vm.cluster && vm.cluster.id === currentCluster.id;\n\t    };\n\t\n\t    var allIconIds = {}; // used as a set\n\t    var collectIconIds = function collectIconIds(vm) {\n\t        if (vm.large_icon) {\n\t            allIconIds[vm.large_icon.id] = true;\n\t        }\n\t        if (vm.small_icon) {\n\t            allIconIds[vm.small_icon.id] = true;\n\t        }\n\t    };\n\t\n\t    parseResourceGeneric(data, dispatch, 'vm', _ovirtConverters.vmConverter, _actions.updateVm, filterPredicate, deferred, collectIconIds);\n\t    dispatch((0, _actions.downloadIcons)({ iconIds: allIconIds, forceReload: false }));\n\t}\n\t\n\tfunction parseTemplates(deferred, data, dispatch, currentCluster) {\n\t    var filterPredicate = function filterPredicate(template) {\n\t        return !template.cluster || template.cluster.id === currentCluster.id;\n\t    };\n\t    parseResourceGeneric(data, dispatch, 'template', _ovirtConverters.templateConverter, _actions.updateTemplate, filterPredicate, deferred);\n\t}\n\t\n\tfunction parseHosts(data, dispatch) {\n\t    parseResourceGeneric(data, dispatch, 'host', _ovirtConverters.hostConverter, _actions.updateHost);\n\t}\n\t\n\tfunction parseClusters(data, dispatch) {\n\t    parseResourceGeneric(data, dispatch, 'cluster', _ovirtConverters.clusterConverter, _actions.updateCluster);\n\t}\n\t\n\t/**\n\t * Generic function to parse received oVirt JSON resource string and update redux store.\n\t */\n\tfunction parseResourceGeneric(data, dispatch, name, converterFunction, updateAction, filterPredicate, deferred, resourceCallback) {\n\t    var alwaysTrue = function alwaysTrue() {\n\t        return true;\n\t    };\n\t    filterPredicate = filterPredicate || alwaysTrue;\n\t\n\t    var result = JSON.parse(data);\n\t    if (result && result[name] && result[name] instanceof Array) {\n\t        result[name].filter(filterPredicate).forEach(function (resource) {\n\t            if (resourceCallback) {\n\t                resourceCallback(resource);\n\t            }\n\t            dispatch(updateAction(converterFunction(resource)));\n\t        });\n\t\n\t        if (deferred) {\n\t            deferred.resolve();\n\t        }\n\t    } else if (result && result.id) {\n\t        // single entry\n\t        if (resourceCallback) {\n\t            resourceCallback(result);\n\t        }\n\t        dispatch(updateAction(converterFunction(result)));\n\t        if (deferred) {\n\t            deferred.resolve();\n\t        }\n\t    } else {\n\t        if (result && Object.getOwnPropertyNames(result).length === 0) {\n\t            // no resource received\n\t            (0, _helpers.logDebug)('No oVirt \\'' + name + '\\' received');\n\t        } else {\n\t            (0, _helpers.logError)('parseResourceGeneric() failed, name: ', name, ', data:\\n', data, '\\n, result:\\n', result);\n\t        }\n\t\n\t        if (deferred) {\n\t            deferred.reject(result);\n\t        }\n\t    }\n\t}\n\t\n\t/**\n\t * Generic function to refresh oVirt API resource\n\t */\n\tfunction doRefreshResource(dispatch, name, resourceId, parserFunction, removeAction) {\n\t    var url = '' + name + (resourceId ? '/' + resourceId : '');\n\t    (0, _helpers.logDebug)('doRefreshResource() called for ' + url);\n\t\n\t    return (0, _ovirtApiAccess.ovirtApiGet)(url).done(function (data) {\n\t        return parserFunction(data, dispatch);\n\t    }).fail(function (data) {\n\t        console.info('Failed to get ' + url + ', ', data);\n\t        if (resourceId) {\n\t            console.info('The ' + name + ' ' + resourceId + ' is about to be removed from the list.');\n\t            dispatch(removeAction(resourceId));\n\t        }\n\t    });\n\t}\n\t\n\t/**\n\t * Like doRefreshResource() but waits for 'cluster' to be loaded\n\t */\n\tfunction doRefreshResourceWithCurrentCluster(dispatch, getState, name, resourceId, parserFunction, removeAction, isApiSearchOnCluster) {\n\t    (0, _helpers.logDebug)('doRefreshResourceWithCurrentCluster() called, name=' + name + ', resourceId=' + resourceId + ' ');\n\t\n\t    var deferred = _cockpit2.default.defer();\n\t\n\t    (0, _selectors.waitForCurrentCluster)(getState).done(function (currentCluster) {\n\t        (0, _helpers.logDebug)('Reading ' + name + ' for currentCluster: ', currentCluster);\n\t\n\t        var url = isApiSearchOnCluster ? name + '?search=cluster%3D' + currentCluster.name : '' + name; // special case for templates - no way to get cluster templates + Blank from API\n\t        if (resourceId) {\n\t            url = name + '/' + resourceId; // currently no way to filter on cluster for single resource\n\t        }\n\t\n\t        (0, _helpers.logDebug)('doRefreshResourceWithCurrentCluster(), url: ', url);\n\t        (0, _ovirtApiAccess.ovirtApiGet)(url) // TODO: consider paging; there might be thousands of resources within initial load\n\t        .done(function (data) {\n\t            return parserFunction(deferred, data, dispatch, currentCluster);\n\t        }).fail(function (data) {\n\t            console.info('Failed to get ' + url + ', ', data);\n\t            if (resourceId) {\n\t                console.info('The ' + name + ' ' + resourceId + ' is about to be removed from the list.');\n\t                dispatch(removeAction(resourceId));\n\t            }\n\t            deferred.reject(data);\n\t        });\n\t    }).fail(function (reason) {\n\t        return deferred.reject(reason);\n\t    });\n\t\n\t    return deferred.promise;\n\t}\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.suspendVm = suspendVm;\n\texports.migrateVm = migrateVm;\n\texports.pollOvirtAction = pollOvirtAction;\n\texports.downloadIcons = downloadIcons;\n\texports.downloadIcon = downloadIcon;\n\texports.startVm = startVm;\n\texports.createVmFromTemplate = createVmFromTemplate;\n\texports.switchHostToMaintenance = switchHostToMaintenance;\n\texports.updateHost = updateHost;\n\texports.removeHost = removeHost;\n\texports.updateVm = updateVm;\n\texports.removeVm = removeVm;\n\texports.updateTemplate = updateTemplate;\n\texports.removeTemplate = removeTemplate;\n\texports.updateCluster = updateCluster;\n\texports.removeCluster = removeCluster;\n\texports.updateIcon = updateIcon;\n\texports.loginInProgress = loginInProgress;\n\texports.goToSubpage = goToSubpage;\n\texports.setHostname = setHostname;\n\t\n\tvar _provider = __webpack_require__(25);\n\t\n\tfunction suspendVm(_ref) {\n\t    var id = _ref.id,\n\t        name = _ref.name,\n\t        connectionName = _ref.connectionName;\n\t\n\t    return (0, _provider.virt)('SUSPEND_VM', { id: id, name: name, connectionName: connectionName });\n\t} /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tfunction migrateVm(vmId, vmName, hostId) {\n\t    return (0, _provider.virt)('MIGRATE_VM', { vmId: vmId, vmName: vmName, hostId: hostId });\n\t}\n\t\n\tfunction pollOvirtAction() {\n\t    return (0, _provider.virt)('POLL_OVIRT', {});\n\t}\n\t\n\tfunction downloadIcons(_ref2) {\n\t    var iconIds = _ref2.iconIds,\n\t        forceReload = _ref2.forceReload;\n\t\n\t    return (0, _provider.virt)('DOWNLOAD_ICONS', { iconIds: iconIds, forceReload: forceReload });\n\t}\n\t\n\tfunction downloadIcon(_ref3) {\n\t    var iconId = _ref3.iconId;\n\t\n\t    return (0, _provider.virt)('DOWNLOAD_ICON', { iconId: iconId });\n\t}\n\t\n\tfunction startVm(vm, hostName) {\n\t    // matches action creator in ../machines/actions.es6\n\t    return (0, _provider.virt)('START_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName, hostName: hostName });\n\t}\n\t\n\tfunction createVmFromTemplate(_ref4) {\n\t    var templateName = _ref4.templateName,\n\t        clusterName = _ref4.clusterName,\n\t        vm = _ref4.vm;\n\t\n\t    return (0, _provider.virt)('CREATE_VM_FROM_TEMPLATE', { templateName: templateName, clusterName: clusterName, vm: vm });\n\t}\n\t\n\tfunction switchHostToMaintenance(_ref5) {\n\t    var hostId = _ref5.hostId;\n\t\n\t    return (0, _provider.virt)('HOST_TO_MAINTENANCE', { hostId: hostId });\n\t}\n\t\n\tfunction updateHost(host) {\n\t    return {\n\t        type: 'OVIRT_UPDATE_HOST',\n\t        payload: host\n\t    };\n\t}\n\t\n\tfunction removeHost(id) {\n\t    return {\n\t        type: 'OVIRT_REMOVE_HOST',\n\t        payload: {\n\t            id: id\n\t        }\n\t    };\n\t}\n\t\n\tfunction updateVm(vm) {\n\t    return {\n\t        type: 'OVIRT_UPDATE_VM',\n\t        payload: vm\n\t    };\n\t}\n\t\n\tfunction removeVm(id) {\n\t    return {\n\t        type: 'OVIRT_REMOVE_VM',\n\t        payload: {\n\t            id: id\n\t        }\n\t    };\n\t}\n\t\n\tfunction updateTemplate(template) {\n\t    return {\n\t        type: 'OVIRT_UPDATE_TEMPLATE',\n\t        payload: template\n\t    };\n\t}\n\t\n\tfunction removeTemplate(id) {\n\t    return {\n\t        type: 'OVIRT_REMOVE_TEMPLATE',\n\t        payload: {\n\t            id: id\n\t        }\n\t    };\n\t}\n\t\n\tfunction updateCluster(cluster) {\n\t    return {\n\t        type: 'OVIRT_UPDATE_CLUSTER',\n\t        payload: cluster\n\t    };\n\t}\n\t\n\tfunction removeCluster(id) {\n\t    return {\n\t        type: 'OVIRT_REMOVE_CLUSTER',\n\t        payload: {\n\t            id: id\n\t        }\n\t    };\n\t}\n\t\n\tfunction updateIcon(icon) {\n\t    return {\n\t        type: 'OVIRT_UPDATE_ICON',\n\t        payload: icon\n\t    };\n\t}\n\t\n\tfunction loginInProgress(isInProgress) {\n\t    return {\n\t        type: 'OVIRT_LOGIN_IN_PROGRESS',\n\t        payload: {\n\t            loginInProgress: isInProgress\n\t        }\n\t    };\n\t}\n\t\n\tfunction goToSubpage(target) {\n\t    return {\n\t        type: 'OVIRT_GOTO_SUBPAGE',\n\t        payload: {\n\t            target: target\n\t        }\n\t    };\n\t}\n\t\n\tfunction setHostname(hostname) {\n\t    return {\n\t        type: 'OVIRT_SET_HOSTNAME',\n\t        payload: {\n\t            hostname: hostname\n\t        }\n\t    };\n\t}\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.clusterConverter = clusterConverter;\n\texports.hostConverter = hostConverter;\n\texports.templateConverter = templateConverter;\n\texports.vmConverter = vmConverter;\n\texports.oVirtIconToInternal = oVirtIconToInternal;\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t/**\n\t * @param cluster - parsed oVirt resource\n\t */\n\tfunction clusterConverter(cluster) {\n\t    return {\n\t        id: cluster.id,\n\t        name: cluster.name\n\t        // TODO: add more, if needed\n\t    };\n\t}\n\t\n\tfunction hostConverter(host) {\n\t    return {\n\t        id: host.id,\n\t        name: host.name,\n\t        address: host.address,\n\t        clusterId: host.cluster ? host.cluster.id : undefined,\n\t        status: host.status,\n\t        memory: host.memory,\n\t        cpu: host.cpu ? {\n\t            name: host.cpu.name,\n\t            speed: host.cpu.speed,\n\t            topology: host.cpu.topology ? {\n\t                sockets: host.cpu.topology.sockets,\n\t                cores: host.cpu.topology.cores,\n\t                threads: host.cpu.topology.threads\n\t            } : undefined\n\t        } : undefined\n\t        // summary\n\t        // vdsm version\n\t        // libvirt_version\n\t    };\n\t}\n\t\n\tfunction templateConverter(template) {\n\t    return {\n\t        id: template.id,\n\t        name: template.name,\n\t        description: template.description,\n\t        cpu: {\n\t            architecture: template.cpu.architecture,\n\t            topology: {\n\t                sockets: template.cpu.topology.sockets,\n\t                cores: template.cpu.topology.cores,\n\t                threads: template.cpu.topology.threads\n\t            }\n\t        },\n\t        memory: template.memory,\n\t        creationTime: template.creation_time,\n\t\n\t        highAvailability: template.high_availability,\n\t        icons: {\n\t            largeId: template.large_icon ? template.large_icon.id : undefined,\n\t            smallId: template.small_icon ? template.small_icon.id : undefined\n\t        },\n\t        os: {\n\t            type: template.os.type\n\t        },\n\t        stateless: template.stateless,\n\t        type: template.type, // server, desktop\n\t        version: {\n\t            name: template.version ? template.version.name : undefined,\n\t            number: template.version ? template.version.number : undefined,\n\t            baseTemplateId: template.version && template.version.base_template ? template.version.base_template.id : undefined\n\t        }\n\t\n\t        // bios\n\t        // display\n\t        // migration\n\t        // memory_policy\n\t        // os.boot\n\t        // start_paused\n\t        // usb\n\t    };\n\t}\n\t\n\tfunction vmConverter(vm) {\n\t    return {\n\t        id: vm.id,\n\t        name: vm.name,\n\t        state: mapOvirtStatusToLibvirtState(vm.status),\n\t        description: vm.description,\n\t        highAvailability: vm.high_availability,\n\t        icons: {\n\t            largeId: vm.large_icon && vm.large_icon.id || undefined,\n\t            smallId: vm.small_icon && vm.small_icon.id || undefined\n\t        },\n\t        memory: vm.memory,\n\t        cpu: {\n\t            architecture: vm.cpu.architecture,\n\t            topology: {\n\t                sockets: vm.cpu.topology.sockets,\n\t                cores: vm.cpu.topology.cores,\n\t                threads: vm.cpu.topology.threads\n\t            }\n\t        },\n\t        origin: vm.origin,\n\t        os: {\n\t            type: vm.os.type\n\t        },\n\t        type: vm.type, // server, desktop\n\t        stateless: vm.stateless,\n\t        clusterId: vm.cluster.id,\n\t        templateId: vm.template.id,\n\t        hostId: vm.host ? vm.host.id : undefined,\n\t        fqdn: vm.fqdn,\n\t        startTime: vm.start_time // in milliseconds since 1970/01/01\n\t    };\n\t}\n\t\n\tfunction mapOvirtStatusToLibvirtState(ovirtStatus) {\n\t    switch (ovirtStatus) {// TODO: finish - add additional states\n\t        case 'up':\n\t            return 'running';\n\t        case 'down':\n\t            return 'shut off';\n\t        default:\n\t            return ovirtStatus;\n\t    }\n\t}\n\t\n\tfunction oVirtIconToInternal(ovirtIcon) {\n\t    return {\n\t        id: ovirtIcon.id,\n\t        type: ovirtIcon['media_type'],\n\t        data: ovirtIcon.data\n\t    };\n\t}\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getAllIcons = getAllIcons;\n\texports.getHost = getHost;\n\texports.getCurrentClusterFromState = getCurrentClusterFromState;\n\texports.getCurrentCluster = getCurrentCluster;\n\texports.isVmManagedByOvirt = isVmManagedByOvirt;\n\texports.waitForCurrentCluster = waitForCurrentCluster;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(41);\n\t\n\tvar _helpers2 = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getAllIcons(state) {\n\t    return state.config && state.config.providerState ? state.config.providerState.icons : {};\n\t} /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tfunction getHost(hosts, ovirtConfig) {\n\t    if (!hosts) {\n\t        return null;\n\t    }\n\t\n\t    // match by browser URL first\n\t    var hostAddress = (0, _helpers.getHostAddress)();\n\t    var hostId = Object.getOwnPropertyNames(hosts).find(function (hostId) {\n\t        return hosts[hostId].address === hostAddress;\n\t    });\n\t\n\t    // match by system's hostname as fallback\n\t    if (!hostId && ovirtConfig && ovirtConfig.hostname) {\n\t        hostId = Object.getOwnPropertyNames(hosts).find(function (hostId) {\n\t            return hosts[hostId].address === ovirtConfig.hostname;\n\t        });\n\t    }\n\t\n\t    return hostId && hosts[hostId];\n\t}\n\t\n\tfunction getCurrentClusterFromState(state) {\n\t    return getCurrentCluster(state.config.providerState.hosts, state.config.providerState.clusters, state.config.providerState.ovirtConfig);\n\t}\n\t\n\tfunction getCurrentCluster(hosts, clusters, ovirtConfig) {\n\t    var currentHost = getHost(hosts, ovirtConfig);\n\t    if (!currentHost || !clusters || !currentHost.clusterId) {\n\t        return null;\n\t    }\n\t\n\t    return clusters[currentHost.clusterId];\n\t}\n\t\n\tfunction isVmManagedByOvirt(providerState, vmId) {\n\t    return vmId && providerState && !!providerState.vms[vmId];\n\t}\n\t\n\tfunction _waitForCurrentCluster(deferred, getState, counter) {\n\t    if (counter <= 0) {\n\t        (0, _helpers2.logError)('waitForCurrentCluster(): timeout reached, list of hosts and/or clusters has not yet finished');\n\t        deferred.reject();\n\t    }\n\t\n\t    (0, _helpers2.logDebug)('Sleeping in _waitForCurrentCluster(), ', counter);\n\t    window.setTimeout(function () {\n\t        var currentCluster = getCurrentClusterFromState(getState());\n\t        if (currentCluster) {\n\t            deferred.resolve(currentCluster);\n\t        } else {\n\t            _waitForCurrentCluster(deferred, getState, counter - 1);\n\t        }\n\t    }, 250);\n\t}\n\t\n\tfunction waitForCurrentCluster(getState) {\n\t    var currentCluster = getCurrentClusterFromState(getState());\n\t    if (currentCluster) {\n\t        return _cockpit2.default.resolve(currentCluster);\n\t    }\n\t\n\t    var deferred = _cockpit2.default.defer();\n\t    (0, _helpers2.logDebug)('Waiting for list of clusters and hosts to be loaded');\n\t\n\t    _waitForCurrentCluster(deferred, getState, 20);\n\t\n\t    return deferred.promise;\n\t}\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getHostAddress = getHostAddress;\n\texports.isSameHostAddress = isSameHostAddress;\n\texports.toGigaBytes = toGigaBytes;\n\texports.valueOrDefault = valueOrDefault;\n\texports.isNumeric = isNumeric;\n\texports.formatDateTime = formatDateTime;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction getHostAddress() {\n\t    var localHost = window.location.host;\n\t    var localAddress = localHost.substring(0, localHost.indexOf(':'));\n\t    return localAddress;\n\t} /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tfunction isSameHostAddress(hostAddress) {\n\t    return getHostAddress() === hostAddress;\n\t}\n\t\n\tfunction toGigaBytes(amount, currentUnit) {\n\t    var result = void 0;\n\t    switch (currentUnit) {\n\t        case 'B':\n\t            result = amount / 1024 / 1024 / 1024;\n\t            break;\n\t        case 'KiB':\n\t            result = amount / 1024 / 1024;\n\t            break;\n\t        default:\n\t            console.error('toGigaBytes(): unknown unit: ' + currentUnit);\n\t            result = amount / 1;\n\t    }\n\t\n\t    if (result < 1) {\n\t        result = result.toFixed(2);\n\t    } else {\n\t        var fixed1 = result.toFixed(1);\n\t        result = result - fixed1 === 0 ? result.toFixed(0) : fixed1;\n\t    }\n\t\n\t    return result;\n\t}\n\t\n\tfunction valueOrDefault(value, def) {\n\t    return value === undefined || value === null ? def : value;\n\t}\n\t\n\tfunction isNumeric(value) {\n\t    return (/^\\d+$/.test(value)\n\t    );\n\t}\n\t\n\t/**\n\t * \"Month Number Hour:Minute\" (ie. September 17 18:15)\n\t * or \"August 12, 2016 20:15\" if the year is different from actual\n\t */\n\tfunction formatDateTime(milliseconds) {\n\t    var now = new Date(); // Should be server time (not browser), but do we care for decision about the year difference?\n\t    var date = new Date(milliseconds);\n\t    var isYearDifferent = now.getUTCFullYear() - date.getUTCFullYear() !== 0;\n\t\n\t    if (isNaN(date.getTime())) {\n\t        return ''; // invalid date\n\t    }\n\t\n\t    var options = {\n\t        month: 'long',\n\t        year: isYearDifferent ? 'numeric' : undefined,\n\t        day: 'numeric',\n\t        hour: 'numeric',\n\t        hour12: false,\n\t        minute: 'numeric'\n\t    };\n\t\n\t    var localeString = date.toLocaleString(_cockpit2.default.language || 'en', options);\n\t    localeString = localeString.replace(/,([^,]*)$/, '$1'); // remove ',' before time\n\t    return localeString;\n\t}\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _ovirtApiAccess = __webpack_require__(36);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _helpers2 = __webpack_require__(41);\n\t\n\tvar _cockpitComponentsDialog = __webpack_require__(43);\n\t\n\t__webpack_require__(46);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\t_react2.default;\n\t\n\tvar INSTALL_SH_ERRORS = {\n\t    '1': _(\"oVirt Provider installation script failed due to missing arguments.\"),\n\t    '3': _(\"oVirt Provider installation script failed: Can't write to /etc/cockpit/machines-ovirt.config, try as root.\")\n\t};\n\t\n\tvar InstallationDialogBody = function InstallationDialogBody(_ref) {\n\t    var values = _ref.values,\n\t        _onChange = _ref.onChange;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'modal-body' },\n\t        _react2.default.createElement(\n\t            'table',\n\t            { className: 'form-table-ct' },\n\t            _react2.default.createElement(\n\t                'tr',\n\t                null,\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    { className: 'top' },\n\t                    _react2.default.createElement(\n\t                        'label',\n\t                        { className: 'control-label', 'for': 'ovirt-provider-install-dialog-engine-fqdn' },\n\t                        _(\"FQDN\")\n\t                    )\n\t                ),\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    null,\n\t                    _react2.default.createElement('input', { id: 'ovirt-provider-install-dialog-engine-fqdn',\n\t                        className: 'form-control',\n\t                        type: 'text',\n\t                        placeholder: 'engine.mydomain.com',\n\t                        onChange: function onChange(event) {\n\t                            values.oVirtUrl = event.target.value;\n\t                            _onChange();\n\t                        }\n\t                    })\n\t                )\n\t            ),\n\t            _react2.default.createElement(\n\t                'tr',\n\t                null,\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    { className: 'top' },\n\t                    _react2.default.createElement(\n\t                        'label',\n\t                        { className: 'control-label', 'for': 'ovirt-provider-install-dialog-engine-port' },\n\t                        _(\"Port\")\n\t                    )\n\t                ),\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    null,\n\t                    _react2.default.createElement('input', { id: 'ovirt-provider-install-dialog-engine-fqdn',\n\t                        className: 'form-control',\n\t                        type: 'text',\n\t                        placeholder: _config.OVIRT_DEFAULT_PORT,\n\t                        onChange: function onChange(event) {\n\t                            values.oVirtPort = (0, _helpers2.isNumeric)(event.target.value) ? event.target.value : values.oVirtPort;\n\t                            _onChange();\n\t                        }\n\t                    })\n\t                )\n\t            ),\n\t            _react2.default.createElement(\n\t                'tr',\n\t                null,\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    { colSpan: '2' },\n\t                    _react2.default.createElement(\n\t                        'p',\n\t                        null,\n\t                        _(\"Please provide fully qualified domain name and port of the oVirt engine.\")\n\t                    )\n\t                )\n\t            )\n\t        )\n\t    );\n\t};\n\t\n\tfunction installationDialog() {\n\t    // TODO: check for root user (permission to write to configuration file)\n\t\n\t    var values = {\n\t        oVirtUrl: null,\n\t        oVirtPort: _config.OVIRT_DEFAULT_PORT\n\t    };\n\t\n\t    var dlg = (0, _cockpitComponentsDialog.show_modal_dialog)({ title: _(\"Connect to oVirt Engine\"),\n\t        body: _react2.default.createElement(InstallationDialogBody, { values: values, onChange: function onChange() {\n\t                return dlg.render();\n\t            } })\n\t    }, { actions: [{ caption: _(\"Register oVirt\"),\n\t            style: 'primary',\n\t            clicked: function clicked() {\n\t                return configureOvirtUrl(values.oVirtUrl, values.oVirtPort);\n\t            }\n\t        }]\n\t    });\n\t}\n\t\n\t/**\n\t * Run cockpit/ovirt/install.sh script to configure\n\t *\n\t * @param oVirtUrl\n\t * @returns {boolean}\n\t */\n\tfunction configureOvirtUrl(oVirtFqdn, oVirtPort) {\n\t    console.info('configureOvirtUrl: ', oVirtFqdn, oVirtPort);\n\t\n\t    var dfd = _cockpit2.default.defer();\n\t    dfd.notify(_(\"Registering oVirt to Cockpit\"));\n\t\n\t    var failHandler = function failHandler(ex, data) {\n\t        if (ex && ex.status === 302) {\n\t            // Found, redirects would follow\n\t            doRegisterOvirt(oVirtFqdn, oVirtPort, dfd);\n\t            return;\n\t        }\n\t\n\t        console.info('Unable to access oVirt engine: ', JSON.stringify(ex), JSON.stringify(data));\n\t        dfd.reject(_(\"Please provide valid oVirt engine fully qualified domain name (FQDN) and port (443 by default)\"));\n\t    };\n\t\n\t    (0, _ovirtApiAccess.httpGet)( // make a dummy request to verify just the FQDN:PORT\n\t    oVirtFqdn, oVirtPort, '/ovirt-engine' // contextRoot - just the main page, the API would require authorization\n\t    ).then(function () {\n\t        doRegisterOvirt(oVirtFqdn, oVirtPort, dfd);\n\t    }).fail(failHandler);\n\t\n\t    return dfd.promise;\n\t}\n\t\n\tfunction doRegisterOvirt(oVirtFqdn, oVirtPort, dfd) {\n\t    console.info('configureOvirtUrl() - oVirt engine connection can be established', oVirtFqdn, oVirtPort);\n\t    _cockpit2.default.spawn(['bash', _config.INSTALL_SH, oVirtFqdn, oVirtPort], { \"superuser\": \"try\" }).done(function () {\n\t        console.info('oVirt installation script was successful');\n\t        window.location.reload(); // to force configuration reload\n\t        dfd.resolve();\n\t    }).fail(function (ex, data) {\n\t        (0, _helpers.logError)('oVirt installation script failed. Exception: ', JSON.stringify(ex), ', output: ', JSON.stringify(data));\n\t\n\t        var errMsg = _(\"oVirt installation script failed with following output: \") + (ex.message || data);\n\t        if (ex.exit_status && ex.exit_status >= 1) {\n\t            errMsg = INSTALL_SH_ERRORS[ex.exit_status] || errMsg;\n\t        }\n\t        dfd.reject(errMsg);\n\t    });\n\t}\n\t\n\texports.default = installationDialog;\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar cockpit = __webpack_require__(21);\n\tvar React = __webpack_require__(13);\n\tvar _ = cockpit.gettext;\n\t\n\t__webpack_require__(44);\n\t\n\t/*\n\t * React template for a Cockpit dialog footer\n\t * It can display an error, wait for an action to complete,\n\t * has a 'Cancel' button and an action button (defaults to 'OK')\n\t * Expected props:\n\t *  - cancel_clicked optional\n\t *     Callback called when the dialog is canceled\n\t *  - cancel_style\n\t *     css class used for the cancel button, defaults to 'cancel'\n\t *  - cancel_caption optional, defaults to 'Cancel'\n\t *  - list of actions, each an object with:\n\t *      - clicked\n\t *         Callback function that is expected to return a promise.\n\t *         parameter: callback to set the progress text (will be displayed next to spinner)\n\t *      - caption optional, defaults to 'Ok'\n\t *      - disabled optional, defaults to false\n\t *      - style defaults to 'default', other options: 'primary', 'danger'\n\t *  - static_error optional, always show this error\n\t *  - dialog_done optional, callback when dialog is finished (param true if success, false on cancel)\n\t */\n\tvar DialogFooter = React.createClass({\n\t    displayName: \"DialogFooter\",\n\t\n\t    propTypes: {\n\t        cancel_clicked: React.PropTypes.func,\n\t        cancel_caption: React.PropTypes.string,\n\t        actions: React.PropTypes.array,\n\t        static_error: React.PropTypes.string,\n\t        dialog_done: React.PropTypes.func\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            action_in_progress: false,\n\t            action_in_progress_promise: null,\n\t            action_progress_message: '',\n\t            action_canceled: false,\n\t            error_message: null\n\t        };\n\t    },\n\t    keyUpHandler: function keyUpHandler(e) {\n\t        if (e.keyCode == 27) {\n\t            this.cancel_click();\n\t            e.stopPropagation();\n\t        }\n\t    },\n\t    componentDidMount: function componentDidMount() {\n\t        document.body.classList.add(\"modal-in\");\n\t        document.addEventListener('keyup', this.keyUpHandler.bind(this));\n\t    },\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        document.body.classList.remove(\"modal-in\");\n\t        document.removeEventListener('keyup', this.keyUpHandler.bind(this));\n\t    },\n\t    update_progress: function update_progress(msg) {\n\t        this.setState({ action_progress_message: msg });\n\t    },\n\t    action_click: function action_click(handler, e) {\n\t        // only consider clicks with the primary button\n\t        if (e && e.button !== 0) return;\n\t        var self = this;\n\t        this.setState({\n\t            error_message: null,\n\t            action_progress_message: '',\n\t            action_in_progress: true,\n\t            action_canceled: false\n\t        });\n\t        this.state.action_in_progress_promise = handler(this.update_progress.bind(this)).done(function () {\n\t            self.setState({ action_in_progress: false, error_message: null });\n\t            if (self.props.dialog_done) self.props.dialog_done(true);\n\t        }).fail(function (error) {\n\t            if (self.state.action_canceled) {\n\t                if (self.props.dialog_done) self.props.dialog_done(false);\n\t            }\n\t\n\t            /* Always log global dialog errors for easier debugging */\n\t            console.warn(error);\n\t\n\t            self.setState({ action_in_progress: false, error_message: error });\n\t        }).progress(this.update_progress.bind(this));\n\t        if (e) e.stopPropagation();\n\t    },\n\t    cancel_click: function cancel_click(e) {\n\t        // only consider clicks with the primary button\n\t        if (e && e.button !== 0) return;\n\t\n\t        this.setState({ action_canceled: true });\n\t\n\t        if (this.props.cancel_clicked) this.props.cancel_clicked();\n\t\n\t        // an action might be in progress, let that handler decide what to do if they added a cancel function\n\t        if (this.state.action_in_progress && 'cancel' in this.state.action_in_progress_promise) {\n\t            this.state.action_in_progress_promise.cancel();\n\t            return;\n\t        }\n\t\n\t        if (this.props.dialog_done) this.props.dialog_done(false);\n\t        if (e) e.stopPropagation();\n\t    },\n\t    render: function render() {\n\t        var cancel_caption, cancel_style;\n\t        if ('cancel_caption' in this.props) cancel_caption = this.props.cancel_caption;else cancel_caption = _(\"Cancel\");\n\t\n\t        if ('cancel_style' in this.props) cancel_style = this.props.cancel_style;else cancel_style = \"cancel\";\n\t        cancel_style = \"btn btn-default \" + cancel_style;\n\t\n\t        // If an action is in progress, show the spinner with its message and disable all actions except cancel\n\t        var wait_element;\n\t        var actions_disabled;\n\t        if (this.state.action_in_progress) {\n\t            actions_disabled = 'disabled';\n\t            wait_element = React.createElement(\n\t                \"div\",\n\t                { className: \"dialog-wait-ct pull-left\" },\n\t                React.createElement(\"div\", { className: \"spinner spinner-sm\" }),\n\t                React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    this.state.action_progress_message\n\t                )\n\t            );\n\t        }\n\t\n\t        var self = this;\n\t        var action_buttons = this.props.actions.map(function (action) {\n\t            var caption;\n\t            if ('caption' in action) caption = action.caption;else caption = _(\"Ok\");\n\t\n\t            var button_style = \"btn-default\";\n\t            var button_style_mapping = { 'primary': 'btn-primary', 'danger': 'btn-danger' };\n\t            if ('style' in action && action.style in button_style_mapping) button_style = button_style_mapping[action.style];\n\t            button_style = \"btn \" + button_style + \" apply\";\n\t            var action_disabled = actions_disabled || 'disabled' in action && action.disabled;\n\t            return React.createElement(\n\t                \"button\",\n\t                {\n\t                    key: caption,\n\t                    className: button_style,\n\t                    onClick: self.action_click.bind(self, action.clicked),\n\t                    disabled: action_disabled\n\t                },\n\t                caption\n\t            );\n\t        });\n\t\n\t        // If we have an error message, display the error\n\t        var error_element;\n\t        var error_message;\n\t        if (this.props.static_error !== undefined && this.props.static_error !== null) error_message = this.props.static_error;else error_message = this.state.error_message;\n\t        if (error_message) {\n\t            error_element = React.createElement(\n\t                \"div\",\n\t                { className: \"alert alert-danger dialog-error\" },\n\t                React.createElement(\"span\", { className: \"fa fa-exclamation-triangle\" }),\n\t                React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    error_message\n\t                )\n\t            );\n\t        }\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"modal-footer\" },\n\t            error_element,\n\t            wait_element,\n\t            React.createElement(\n\t                \"button\",\n\t                {\n\t                    className: cancel_style,\n\t                    onClick: this.cancel_click.bind(this)\n\t                },\n\t                cancel_caption\n\t            ),\n\t            action_buttons\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t * React template for a Cockpit dialog\n\t * The primary action button is disabled while its action is in progress (waiting for promise)\n\t * Removes focus on other elements on showing\n\t * Expected props:\n\t *  - title (string)\n\t *  - no_backdrop optional, skip backdrop if true\n\t *  - body (react element, top element should be of class modal-body)\n\t *      It is recommended for information gathering dialogs to pass references\n\t *      to the input components to the controller. That way, the controller can\n\t *      extract all necessary information (e.g. for input validation) when an\n\t *      action is triggered.\n\t *  - footer (react element, top element should be of class modal-footer)\n\t *  - id optional, id that is assigned to the top level dialog node, but not the backdrop\n\t */\n\tvar Dialog = React.createClass({\n\t    displayName: \"Dialog\",\n\t\n\t    propTypes: {\n\t        title: React.PropTypes.string.isRequired,\n\t        no_backdrop: React.PropTypes.bool,\n\t        body: React.PropTypes.element.isRequired,\n\t        footer: React.PropTypes.element.isRequired,\n\t        id: React.PropTypes.string\n\t    },\n\t    componentDidMount: function componentDidMount() {\n\t        // if we used a button to open this, make sure it's not focused anymore\n\t        if (document.activeElement) document.activeElement.blur();\n\t    },\n\t    render: function render() {\n\t        var backdrop;\n\t        if (!this.props.no_backdrop) {\n\t            backdrop = React.createElement(\"div\", { className: \"modal-backdrop fade in\" });\n\t        }\n\t        return React.createElement(\n\t            \"div\",\n\t            null,\n\t            backdrop,\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"modal fade in dialog-ct-visible\", tabindex: \"-1\" },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { id: this.props.id, className: \"modal-dialog\" },\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"modal-content\" },\n\t                        React.createElement(\n\t                            \"div\",\n\t                            { className: \"modal-header\" },\n\t                            React.createElement(\n\t                                \"h4\",\n\t                                { className: \"modal-title\" },\n\t                                this.props.title\n\t                            )\n\t                        ),\n\t                        this.props.body,\n\t                        this.props.footer\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/* Create and show a dialog\n\t * For this, create a containing DOM node at the body level\n\t * The returned object has the following methods:\n\t *     - setFooterProps replace the current footerProps and render\n\t *     - setProps       replace the current props and render\n\t *     - render         render again using the stored props\n\t * The DOM node and React metadata are freed once the dialog has closed\n\t */\n\tvar show_modal_dialog = function show_modal_dialog(props, footerProps) {\n\t    var dialogName = 'cockpit_modal_dialog';\n\t    // don't allow nested dialogs\n\t    if (document.getElementById(dialogName)) {\n\t        console.warn('Unable to create nested dialog');\n\t        return;\n\t    }\n\t    // create an element to render into\n\t    var rootElement = document.createElement(\"div\");\n\t    rootElement.id = dialogName;\n\t    document.body.appendChild(rootElement);\n\t\n\t    // register our own on-close callback\n\t    var origCallback;\n\t    var closeCallback = function closeCallback() {\n\t        if (origCallback) origCallback.apply(this, arguments);\n\t        React.unmountComponentAtNode(rootElement);\n\t        rootElement.remove();\n\t    };\n\t\n\t    var dialogObj = {};\n\t    dialogObj.props = null;\n\t    dialogObj.footerProps = null;\n\t    dialogObj.render = function () {\n\t        dialogObj.props.footer = React.createElement(DialogFooter, dialogObj.footerProps);\n\t        React.render(React.createElement(Dialog, dialogObj.props), rootElement);\n\t    };\n\t    function updateFooterAndRender() {\n\t        if (dialogObj.props === null || dialogObj.props === undefined) dialogObj.props = {};\n\t        dialogObj.props.footer = React.createElement(DialogFooter, dialogObj.footerProps);\n\t        dialogObj.render();\n\t    }\n\t    dialogObj.setFooterProps = function (footerProps) {\n\t        /* Always log error messages to console for easier debugging */\n\t        if (footerProps.static_error) console.warn(footerProps.static_error);\n\t        dialogObj.footerProps = footerProps;\n\t        if (dialogObj.footerProps === null || dialogObj.footerProps === undefined) dialogObj.footerProps = {};\n\t        if (dialogObj.footerProps.dialog_done != closeCallback) {\n\t            origCallback = dialogObj.footerProps.dialog_done;\n\t            dialogObj.footerProps.dialog_done = closeCallback;\n\t        }\n\t        updateFooterAndRender();\n\t    };\n\t    dialogObj.setProps = function (props) {\n\t        dialogObj.props = props;\n\t        updateFooterAndRender();\n\t    };\n\t    dialogObj.setFooterProps(footerProps);\n\t    dialogObj.setProps(props);\n\t\n\t    // now actually render\n\t    dialogObj.render();\n\t\n\t    return dialogObj;\n\t};\n\t\n\tmodule.exports = {\n\t    Dialog: Dialog,\n\t    DialogFooter: DialogFooter,\n\t    show_modal_dialog: show_modal_dialog\n\t};\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 45 */,\n/* 46 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.ovirtReducer = ovirtReducer;\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\t// TODO: consider immutableJS\n\t// TODO: reducers share common code - generalize\n\t\n\tfunction removeResource(state, id) {\n\t    if (state[id]) {\n\t        var newState = Object.assign({}, state);\n\t        delete newState[id];\n\t        return newState;\n\t    }\n\t    return state;\n\t} /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tfunction hostsReducer(state, action) {\n\t    state = state || {}; // object of 'hostId: host'\n\t\n\t    switch (action.type) {\n\t        case 'OVIRT_UPDATE_HOST':\n\t            {\n\t                var newState = Object.assign({}, state);\n\t                newState[action.payload.id] = newState[action.payload.id] || {};\n\t                Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n\t                return newState;\n\t            }\n\t        case 'OVIRT_REMOVE_HOST':\n\t            {\n\t                return removeResource(state, action.payload.id);\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction clustersReducer(state, action) {\n\t    state = state || {}; // object of 'clusterId: cluster'\n\t\n\t    switch (action.type) {\n\t        case 'OVIRT_UPDATE_CLUSTER':\n\t            {\n\t                var newState = Object.assign({}, state);\n\t                newState[action.payload.id] = newState[action.payload.id] || {};\n\t                Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n\t                return newState;\n\t            }\n\t        case 'OVIRT_REMOVE_CLUSTER':\n\t            {\n\t                return removeResource(state, action.payload.id);\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction iconsReducer(state, action) {\n\t    state = state || {}; // object of 'iconId: icon'\n\t\n\t    switch (action.type) {\n\t        case 'OVIRT_UPDATE_ICON':\n\t            {\n\t                var newState = Object.assign({}, state);\n\t                newState[action.payload.id] = newState[action.payload.id] || {};\n\t                Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n\t                return newState;\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction configReducer(state, action) {\n\t    state = state || {\n\t        loginInProgress: true\n\t    };\n\t\n\t    switch (action.type) {\n\t        case 'OVIRT_LOGIN_IN_PROGRESS':\n\t            {\n\t                return Object.assign({}, state, { loginInProgress: action.payload.loginInProgress });\n\t            }\n\t        case 'OVIRT_SET_HOSTNAME':\n\t            {\n\t                return Object.assign({}, state, { hostname: action.payload.hostname });\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction vmsReducer(state, action) {\n\t    state = state || {}; // object of 'vmId: vm'\n\t\n\t    switch (action.type) {\n\t        case 'OVIRT_UPDATE_VM':\n\t            {\n\t                var newState = Object.assign({}, state);\n\t                newState[action.payload.id] = newState[action.payload.id] || {};\n\t                Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n\t                return newState;\n\t            }\n\t        case 'OVIRT_REMOVE_VM':\n\t            {\n\t                return removeResource(state, action.payload.id);\n\t            }\n\t        case 'VM_ACTION_FAILED':\n\t            // this reducer seconds the implementation in cockpit:machines (see the 'vms' reducer there).\n\t            {\n\t                // If an action failed on a VM running on this host, the error will be recorded on two places - it's as expected.\n\t                // If the VM is unknown for this host, the user needs to be still informed about the result\n\t                // So far, the VM is identified by \"name\" only\n\t                // See the templatesReducer() as well.\n\t                var vmId = Object.getOwnPropertyNames(state).filter(function (vmId) {\n\t                    return state[vmId].name === action.payload.name;\n\t                });\n\t                if (!vmId || vmId.length === 0) {\n\t                    return state;\n\t                }\n\t\n\t                var updatedVm = Object.assign({}, state[vmId], { lastMessage: action.payload.message, lastMessageDetail: action.payload.detail });\n\t                var updatedPartOfState = {};\n\t                updatedPartOfState[vmId] = updatedVm;\n\t                var _newState = Object.assign({}, state, updatedPartOfState);\n\t                return _newState;\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction templatesReducer(state, action) {\n\t    state = state || {}; // object of 'templateId: template'\n\t\n\t    switch (action.type) {\n\t        case 'OVIRT_UPDATE_TEMPLATE':\n\t            {\n\t                var newState = Object.assign({}, state);\n\t                newState[action.payload.id] = newState[action.payload.id] || {};\n\t                Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n\t                return newState;\n\t            }\n\t        case 'OVIRT_REMOVE_TEMPLATE':\n\t            {\n\t                return removeResource(state, action.payload.id);\n\t            }\n\t        case 'VM_ACTION_FAILED':\n\t            // this reducer seconds the implementation in cockpit:machines and the vmsReducer()\n\t            {\n\t                (0, _helpers.logDebug)('templateReducer() VM_ACTION_FAILED payload: ' + JSON.stringify(action.payload));\n\t                if (action.payload.extraPayload && action.payload.extraPayload.templateName) {\n\t                    var templateId = Object.getOwnPropertyNames(state).filter(function (templateId) {\n\t                        return state[templateId].name === action.payload.extraPayload.templateName;\n\t                    });\n\t                    var updatedTemplate = Object.assign({}, state[templateId], {\n\t                        lastMessage: action.payload.message,\n\t                        lastMessageDetail: action.payload.detail\n\t                    });\n\t                    var updatedPartOfState = {};\n\t                    updatedPartOfState[templateId] = updatedTemplate;\n\t                    var _newState2 = Object.assign({}, state, updatedPartOfState);\n\t                    (0, _helpers.logDebug)('templateReducer() VM_ACTION_FAILED: ' + JSON.stringify(_newState2));\n\t                    return _newState2;\n\t                }\n\t                return state;\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction routerReducer(state, action) {\n\t    state = state || {\n\t        route: 'hostvms'\n\t    };\n\t\n\t    switch (action.type) {\n\t        case 'OVIRT_GOTO_SUBPAGE':\n\t            {\n\t                return Object.assign({}, state, { route: action.payload.target });\n\t            }\n\t        default:\n\t            return state;\n\t    }\n\t}\n\t\n\tfunction callSubReducer(newState, action, subreducer, substateName) {\n\t    var newSubstate = subreducer(newState[substateName], action);\n\t    if (newState[substateName] !== newSubstate) {\n\t        var temp = {};\n\t        temp[substateName] = newSubstate;\n\t        newState = Object.assign({}, newState, temp);\n\t    }\n\t    return newState;\n\t}\n\t\n\tfunction ovirtReducer(state, action) {\n\t    state = state || {\n\t        hosts: {} // {id:host}\n\t    };\n\t\n\t    var newState = state;\n\t    newState = callSubReducer(newState, action, hostsReducer, 'hosts');\n\t    newState = callSubReducer(newState, action, vmsReducer, 'vms');\n\t    newState = callSubReducer(newState, action, templatesReducer, 'templates');\n\t    newState = callSubReducer(newState, action, clustersReducer, 'clusters');\n\t    newState = callSubReducer(newState, action, iconsReducer, 'icons');\n\t    newState = callSubReducer(newState, action, configReducer, 'ovirtConfig');\n\t    newState = callSubReducer(newState, action, routerReducer, 'router');\n\t\n\t    return newState;\n\t}\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t_react2.default;\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar VmActions = function VmActions(_ref) {\n\t    var vm = _ref.vm,\n\t        providerState = _ref.providerState,\n\t        dispatch = _ref.dispatch;\n\t\n\t    var clusterVm = providerState.vms[vm.id];\n\t    if (!clusterVm) {\n\t        // not an oVirt-managed VM\n\t        return null;\n\t    }\n\t\n\t    var idPrefix = (0, _helpers.vmId)(vm.name) + '-ovirt';\n\t\n\t    // TODO: add user confirmation\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'btn-group' },\n\t        _react2.default.createElement(\n\t            'button',\n\t            { className: 'btn btn-default', id: idPrefix + '-suspendbutton',\n\t                onClick: function onClick() {\n\t                    return dispatch((0, _actions.suspendVm)({ id: clusterVm.id, name: clusterVm.name, connectionName: vm.connectionName }));\n\t                } },\n\t            _(\"Suspend\")\n\t        )\n\t    );\n\t};\n\t\n\texports.default = VmActions;\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _helpers = __webpack_require__(41);\n\t\n\t__webpack_require__(50);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_react2.default; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar VmIcon = function VmIcon(_ref) {\n\t    var icons = _ref.icons,\n\t        iconId = _ref.iconId;\n\t\n\t    if (!iconId || !icons || !icons[iconId] || !icons[iconId].data) {\n\t        return null;\n\t    }\n\t\n\t    var icon = icons[iconId];\n\t    var src = 'data:' + icon.type + ';base64,' + icon.data;\n\t\n\t    return _react2.default.createElement('img', { src: src, className: 'ovirt-provider-overview-icon', alt: _(\"VM icon\") });\n\t};\n\t\n\t/**\n\t * Additional (oVirt-specific) columns for the Overview subatb\n\t */\n\tvar vmOverviewExtra = function vmOverviewExtra(vm, providerState) {\n\t    var clusterVm = providerState.vms[vm.id];\n\t    if (!clusterVm) {\n\t        // not an oVirt-managed VM\n\t        return [];\n\t    }\n\t\n\t    return [[{ title: _(\"Description:\"), value: clusterVm.description, idPostfix: 'ovirt-description' }, { title: _(\"Address:\"), value: clusterVm.fqdn, idPostfix: 'ovirt-fqdn' }, { title: _(\"Running Since:\"), value: (0, _helpers.formatDateTime)(clusterVm.startTime), idPostfix: 'ovirt-starttime' }], [{ title: null, value: _react2.default.createElement(VmIcon, { icons: providerState.icons, iconId: clusterVm.icons.largeId }), idPostfix: 'ovirt-icon' }]];\n\t};\n\t\n\texports.default = vmOverviewExtra;\n\n/***/ },\n/* 50 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_react2.default; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar ConsoleClientResources = function ConsoleClientResources(_ref) {\n\t    var vm = _ref.vm,\n\t        providerState = _ref.providerState;\n\t\n\t    var clusterVm = providerState.vms[vm.id];\n\t    if (!clusterVm) {\n\t        // not an oVirt-managed VM\n\t        return null;\n\t    }\n\t\n\t    var msg = _cockpit2.default.format(_(\"Please refer to oVirt's $0 for more information about Remote Viewer setup.\"), '<a href=\"' + _config2.default.CONSOLE_CLIENT_RESOURCES_URL + '\" target=\"_blank\">Console Client Resources</a>');\n\t\n\t    return _react2.default.createElement('div', { dangerouslySetInnerHTML: { __html: msg } });\n\t};\n\t\n\texports.default = ConsoleClientResources;\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _helpers = __webpack_require__(41);\n\t\n\tvar _helpers2 = __webpack_require__(20);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _ConfirmButtons = __webpack_require__(53);\n\t\n\tvar _ConfirmButtons2 = _interopRequireDefault(_ConfirmButtons);\n\t\n\tvar _infoRecord = __webpack_require__(54);\n\t\n\tvar _infoRecord2 = _interopRequireDefault(_infoRecord);\n\t\n\tvar _rephraseUI = __webpack_require__(55);\n\t\n\tvar _rephraseUI2 = _interopRequireDefault(_rephraseUI);\n\t\n\t__webpack_require__(56);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\t_react2.default;\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tfunction canVmMigrateToHost(_ref) {\n\t    var host = _ref.host;\n\t\n\t    return host.status === 'up';\n\t}\n\t\n\tvar MigrateTo = function (_React$Component) {\n\t    _inherits(MigrateTo, _React$Component);\n\t\n\t    function MigrateTo(props) {\n\t        _classCallCheck(this, MigrateTo);\n\t\n\t        var _this = _possibleConstructorReturn(this, (MigrateTo.__proto__ || Object.getPrototypeOf(MigrateTo)).call(this, props));\n\t\n\t        _this.state = {\n\t            confirmAction: false,\n\t            selectedHostId: null\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(MigrateTo, [{\n\t        key: 'render',\n\t        value: function render() {\n\t            var _this2 = this;\n\t\n\t            var _props = this.props,\n\t                vm = _props.vm,\n\t                hosts = _props.hosts,\n\t                dispatch = _props.dispatch;\n\t\n\t\n\t            var onHostChange = function onHostChange(e) {\n\t                _this2.setState({ selectedHostId: e.target.value });\n\t            };\n\t            var onAction = function onAction() {\n\t                _this2.setState({ confirmAction: true });\n\t            };\n\t            var onActionCanceled = function onActionCanceled() {\n\t                _this2.setState({ confirmAction: false });\n\t            };\n\t            var onActionConfirmed = function onActionConfirmed() {\n\t                _this2.setState({ confirmAction: false });\n\t                dispatch((0, _actions.migrateVm)(vm.id, vm.name, _this2.state.selectedHostId));\n\t            };\n\t\n\t            var idPrefix = (0, _helpers2.vmId)(vm.name) + '-ovirt';\n\t\n\t            return _react2.default.createElement(\n\t                'tr',\n\t                null,\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    null,\n\t                    this.state.confirmAction ? _react2.default.createElement(_ConfirmButtons2.default, { confirmText: _(\"Confirm migration\"),\n\t                        dismissText: _(\"Cancel\"),\n\t                        onYes: onActionConfirmed,\n\t                        onNo: onActionCanceled }) : _react2.default.createElement(\n\t                        'button',\n\t                        { className: 'btn btn-default btn-danger', onClick: onAction, id: idPrefix + '-migratetobutton' },\n\t                        _(\"Migrate To:\")\n\t                    )\n\t                ),\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    null,\n\t                    _react2.default.createElement(\n\t                        'select',\n\t                        { className: 'combobox form-control ovirt-provider-migrateto-combo', onChange: onHostChange, disabled: this.state.confirmAction, id: idPrefix + '-migratetoselect' },\n\t                        _react2.default.createElement(\n\t                            'option',\n\t                            { value: null, selected: !this.state.selectedHostId },\n\t                            _react2.default.createElement(\n\t                                'i',\n\t                                null,\n\t                                _(\"Automatically selected host\")\n\t                            )\n\t                        ),\n\t                        Object.getOwnPropertyNames(hosts).filter(function (hostId) {\n\t                            return canVmMigrateToHost({ host: hosts[hostId] });\n\t                        }).map(function (hostId) {\n\t                            return _react2.default.createElement(\n\t                                'option',\n\t                                { value: hostId,\n\t                                    selected: hostId === _this2.state.selectedHostId,\n\t                                    disabled: (0, _helpers.isSameHostAddress)(hosts[hostId].address) },\n\t                                hosts[hostId].name\n\t                            );\n\t                        })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return MigrateTo;\n\t}(_react2.default.Component);\n\t\n\tvar VmTemplate = function VmTemplate(_ref2) {\n\t    var clusterVm = _ref2.clusterVm,\n\t        templates = _ref2.templates,\n\t        id = _ref2.id;\n\t\n\t    if (!templates || !clusterVm) {\n\t        return null;\n\t    }\n\t\n\t    var template = templates[clusterVm.templateId];\n\t    if (!template) {\n\t        return _react2.default.createElement(_infoRecord2.default, { descr: _(\"Base template:\"),\n\t            value: '' });\n\t    }\n\t\n\t    var version = template.version;\n\t    return _react2.default.createElement(_infoRecord2.default, { descr: _(\"Base template:\"),\n\t        value: version.name ? version.name + ' (' + template.name + ')' : template.name,\n\t        id: id\n\t    });\n\t};\n\t\n\tvar VmHA = function VmHA(_ref3) {\n\t    var clusterVm = _ref3.clusterVm,\n\t        id = _ref3.id;\n\t\n\t    var value = _(\"disabled\");\n\t    if (clusterVm.highAvailability && clusterVm.highAvailability.enabled === 'true') {\n\t        value = _(\"enabled\");\n\t    }\n\t\n\t    return _react2.default.createElement(_infoRecord2.default, { descr: _(\"HA:\"), value: value, id: id });\n\t};\n\t\n\tvar OVirtTab = function OVirtTab(_ref4) {\n\t    var vm = _ref4.vm,\n\t        providerState = _ref4.providerState,\n\t        dispatch = _ref4.dispatch;\n\t\n\t    var clusterVm = providerState.vms[vm.id]; // 'vm' is from Libvirt, 'clusterVm' is from oVirt\n\t    if (!clusterVm) {\n\t        return _react2.default.createElement(\n\t            'div',\n\t            null,\n\t            _(\"This virtual machine is not managed by oVirt\")\n\t        );\n\t    }\n\t\n\t    var idPrefix = (0, _helpers2.vmId)(vm.name) + '-ovirt';\n\t\n\t    return _react2.default.createElement(\n\t        'table',\n\t        { className: 'machines-width-max' },\n\t        _react2.default.createElement(\n\t            'tr',\n\t            { className: 'machines-listing-ct-body-detail' },\n\t            _react2.default.createElement(\n\t                'td',\n\t                { className: 'ovirt-provider-listing-top-column' },\n\t                _react2.default.createElement(\n\t                    'table',\n\t                    { className: 'form-table-ct' },\n\t                    _react2.default.createElement(_infoRecord2.default, { descr: _(\"Description:\"), value: clusterVm.description, id: idPrefix + '-description' }),\n\t                    _react2.default.createElement(VmTemplate, { clusterVm: clusterVm, templates: providerState.templates, id: idPrefix + '-template' }),\n\t                    _react2.default.createElement(_infoRecord2.default, { descr: _(\"OS Type:\"), value: clusterVm.os.type, id: idPrefix + '-ostype' })\n\t                )\n\t            ),\n\t            _react2.default.createElement(\n\t                'td',\n\t                { className: 'ovirt-provider-listing-top-column' },\n\t                _react2.default.createElement(\n\t                    'table',\n\t                    { className: 'form-table-ct' },\n\t                    _react2.default.createElement(VmHA, { clusterVm: clusterVm, id: idPrefix + '-ha' }),\n\t                    _react2.default.createElement(_infoRecord2.default, { descr: _(\"Stateless:\"), value: (0, _rephraseUI2.default)('stateless', clusterVm.stateless), id: idPrefix + '-stateless' }),\n\t                    _react2.default.createElement(_infoRecord2.default, { descr: _(\"Optimized for:\"), value: clusterVm.type, id: idPrefix + '-optimizedfor' })\n\t                )\n\t            ),\n\t            _react2.default.createElement(\n\t                'td',\n\t                { className: 'ovirt-provider-listing-top-column' },\n\t                _react2.default.createElement(\n\t                    'table',\n\t                    { className: 'form-table-ct' },\n\t                    _react2.default.createElement(MigrateTo, { vm: vm, hosts: providerState.hosts, dispatch: dispatch })\n\t                )\n\t            )\n\t        )\n\t    );\n\t};\n\t\n\texports.default = OVirtTab;\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_react2.default;\n\t\n\t// TODO: replace this by Cockpit's modal dialog\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar ConfirmButtons = function ConfirmButtons(_ref) {\n\t    var confirmText = _ref.confirmText,\n\t        dismissText = _ref.dismissText,\n\t        onYes = _ref.onYes,\n\t        onNo = _ref.onNo;\n\t\n\t    return _react2.default.createElement(\n\t        'span',\n\t        null,\n\t        _react2.default.createElement(\n\t            'button',\n\t            { className: 'btn btn-danger btn-xs', type: 'button', onClick: onYes },\n\t            confirmText\n\t        ),\n\t        '\\xA0',\n\t        _react2.default.createElement(\n\t            'button',\n\t            { className: 'btn btn-primary btn-xs', type: 'button', onClick: onNo },\n\t            dismissText\n\t        )\n\t    );\n\t};\n\t\n\texports.default = ConfirmButtons;\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_react2.default; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar InfoRecord = function InfoRecord(_ref) {\n\t    var id = _ref.id,\n\t        descr = _ref.descr,\n\t        value = _ref.value,\n\t        descrClass = _ref.descrClass,\n\t        valueClass = _ref.valueClass;\n\t\n\t    return _react2.default.createElement(\n\t        'tr',\n\t        null,\n\t        _react2.default.createElement(\n\t            'td',\n\t            { className: descrClass ? descrClass : 'top' },\n\t            _react2.default.createElement(\n\t                'label',\n\t                { className: 'control-label' },\n\t                descr\n\t            )\n\t        ),\n\t        _react2.default.createElement(\n\t            'td',\n\t            { id: id, className: valueClass },\n\t            value\n\t        )\n\t    );\n\t};\n\t\n\tInfoRecord.propTypes = {\n\t    id: _react.PropTypes.string,\n\t    descr: _react.PropTypes.string.isRequired,\n\t    descrClass: _react.PropTypes.string,\n\t    valueClass: _react.PropTypes.string,\n\t    value: _react.PropTypes.oneOfType([_react.PropTypes.string, _react.PropTypes.element]).isRequired\n\t};\n\t\n\texports.default = InfoRecord;\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar transform = {\n\t    'hostStatus': {\n\t        'preparing_for_maintenance': _(\"Preparing for Maintenance\"),\n\t        'up': _(\"up\"),\n\t        'down': _(\"down\"),\n\t        'error': _(\"error\"),\n\t        'initializing': _(\"initializing\"),\n\t        'install_failed': _(\"installation failed\"),\n\t        'maintenance': _(\"maintenance\"),\n\t        'non_operational': _(\"non operational\"),\n\t        'non_responsive': _(\"non responsive\"),\n\t        'pending_approval': _(\"pending approval\"),\n\t        'connecting': _(\"connecting\"),\n\t        'reboot': _(\"reboot\"),\n\t        'unassigned': _(\"unassigned\"),\n\t        'installing_os': _(\"installing OS\"),\n\t        'kdumping': _(\"kdumping\")\n\t    },\n\t    'stateless': {\n\t        'true': _(\"yes\"),\n\t        'false': _(\"no\")\n\t    }\n\t};\n\t\n\tfunction rephraseUI(key, original) {\n\t    if (!(key in transform)) {\n\t        (0, _helpers.logDebug)('ovirt rephraseUI(key=\\'' + key + '\\', original=\\'' + original + '\\'): unknown key');\n\t        return original;\n\t    }\n\t\n\t    if (!(original in transform[key])) {\n\t        (0, _helpers.logDebug)('ovirt rephraseUI(key=\\'' + key + '\\', original=\\'' + original + '\\'): unknown original value');\n\t        return original;\n\t    }\n\t\n\t    return transform[key][original];\n\t}\n\t\n\texports.default = rephraseUI;\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _hostvmslist = __webpack_require__(58);\n\t\n\tvar _hostvmslist2 = _interopRequireDefault(_hostvmslist);\n\t\n\tvar _ClusterVms = __webpack_require__(91);\n\t\n\tvar _ClusterVms2 = _interopRequireDefault(_ClusterVms);\n\t\n\tvar _ClusterTemplates = __webpack_require__(92);\n\t\n\tvar _ClusterTemplates2 = _interopRequireDefault(_ClusterTemplates);\n\t\n\tvar _VdsmView = __webpack_require__(93);\n\t\n\tvar _VdsmView2 = _interopRequireDefault(_VdsmView);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _HostToMaintenance = __webpack_require__(95);\n\t\n\tvar _HostToMaintenance2 = _interopRequireDefault(_HostToMaintenance);\n\t\n\tvar _HostStatus = __webpack_require__(97);\n\t\n\tvar _HostStatus2 = _interopRequireDefault(_HostStatus);\n\t\n\tvar _selectors = __webpack_require__(40);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar LoginInProgress = function LoginInProgress(_ref) {\n\t    var ovirtConfig = _ref.ovirtConfig;\n\t\n\t    if (ovirtConfig && ovirtConfig.loginInProgress) {\n\t        return _react2.default.createElement(\n\t            'p',\n\t            { className: 'ovirt-login-in-progress' },\n\t            _(\"oVirt login in progress\") + '\\xa0',\n\t            _react2.default.createElement('span', { className: 'spinner spinner-xs spinner-inline' })\n\t        );\n\t    }\n\t\n\t    return null;\n\t};\n\t\n\tvar TopMenu = function TopMenu(_ref2) {\n\t    var ovirtConfig = _ref2.ovirtConfig,\n\t        router = _ref2.router,\n\t        dispatch = _ref2.dispatch;\n\t\n\t    /* TODO: design\n\t     - http://www.patternfly.org/pattern-library/navigation/horizontal-navigation\n\t     - or use \"dashboard\" in manifest.json ?\n\t     */\n\t    if (!ovirtConfig) {\n\t        return null; // oVirt is not yet initialized\n\t    }\n\t    var onNavigate = function onNavigate(target) {\n\t        dispatch((0, _actions.goToSubpage)(target));\n\t    };\n\t\n\t    var selected = function selected(target) {\n\t        if (!router) {\n\t            return '';\n\t        }\n\t\n\t        if (router.route === target || !router.route && target === 'hostvms') {\n\t            return ' top-menu-selected';\n\t        }\n\t\n\t        return '';\n\t    };\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'content-extra-header' },\n\t        _react2.default.createElement(\n\t            'a',\n\t            { className: 'top-menu-link' + selected('hostvms'), href: '#',\n\t                id: 'ovirt-topnav-hostvms',\n\t                onClick: function onClick() {\n\t                    return onNavigate('hostvms');\n\t                } },\n\t            _(\"Host\")\n\t        ),\n\t        _react2.default.createElement(\n\t            'a',\n\t            { className: 'top-menu-link' + selected('clustervms'), href: '#',\n\t                id: 'ovirt-topnav-clustervms',\n\t                onClick: function onClick() {\n\t                    return onNavigate('clustervms');\n\t                } },\n\t            _(\"Cluster\")\n\t        ),\n\t        _react2.default.createElement(\n\t            'a',\n\t            { className: 'top-menu-link' + selected('clustertemplates'), href: '#',\n\t                id: 'ovirt-topnav-clustertemplates',\n\t                onClick: function onClick() {\n\t                    return onNavigate('clustertemplates');\n\t                } },\n\t            _(\"Templates\")\n\t        ),\n\t        _react2.default.createElement(\n\t            'a',\n\t            { className: 'top-menu-link' + selected('vdsm'), href: '#',\n\t                id: 'ovirt-topnav-vdsm',\n\t                onClick: function onClick() {\n\t                    return onNavigate('vdsm');\n\t                } },\n\t            _(\"VDSM\")\n\t        ),\n\t        _react2.default.createElement(LoginInProgress, { ovirtConfig: ovirtConfig })\n\t    );\n\t};\n\t\n\tvar HostVmsListDecorated = function HostVmsListDecorated(_ref3) {\n\t    var vms = _ref3.vms,\n\t        config = _ref3.config,\n\t        osInfoList = _ref3.osInfoList,\n\t        ui = _ref3.ui,\n\t        dispatch = _ref3.dispatch,\n\t        host = _ref3.host;\n\t\n\t    var actions = host && [(0, _HostToMaintenance2.default)({ dispatch: dispatch, host: host })];\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'container-fluid' },\n\t        _react2.default.createElement(_HostStatus2.default, { host: host }),\n\t        _react2.default.createElement(_hostvmslist2.default, { vms: vms,\n\t            config: config,\n\t            osInfoList: osInfoList,\n\t            ui: ui,\n\t            dispatch: dispatch,\n\t            actions: actions })\n\t    );\n\t};\n\t\n\tvar App = function App(_ref4) {\n\t    var store = _ref4.store;\n\t\n\t    var state = store.getState();\n\t    var dispatch = store.dispatch;\n\t    var vms = state.vms,\n\t        config = state.config,\n\t        osInfoList = state.osInfoList,\n\t        ui = state.ui;\n\t\n\t\n\t    var ovirtConfig = void 0,\n\t        hosts = void 0,\n\t        router = void 0;\n\t    if (config.providerState) {\n\t        ovirtConfig = config.providerState.ovirtConfig;\n\t        hosts = config.providerState.hosts;\n\t        router = config.providerState.router;\n\t    }\n\t\n\t    var host = (0, _selectors.getHost)(hosts, ovirtConfig); // oVirt record for current host\n\t    var route = router && router.route;\n\t\n\t    var component = null;\n\t    switch (route) {\n\t        case 'clustervms':\n\t            component = _react2.default.createElement(_ClusterVms2.default, { config: config, dispatch: dispatch });\n\t            break;\n\t        case 'clustertemplates':\n\t            component = _react2.default.createElement(_ClusterTemplates2.default, { config: config, dispatch: dispatch });\n\t            break;\n\t        case 'vdsm':\n\t            component = _react2.default.createElement(_VdsmView2.default, null);\n\t            break;\n\t        default:\n\t            component = _react2.default.createElement(HostVmsListDecorated, { vms: vms, config: config, osInfoList: osInfoList, ui: ui, dispatch: dispatch, host: host });\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'main-app-div' },\n\t        component,\n\t        _react2.default.createElement(TopMenu, { ovirtConfig: ovirtConfig, router: router, dispatch: dispatch })\n\t    );\n\t};\n\tApp.propTypes = {\n\t    store: _react2.default.PropTypes.object.isRequired\n\t};\n\t\n\texports.default = App;\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.StateIcon = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _c3charts = __webpack_require__(59);\n\t\n\tvar _c3charts2 = _interopRequireDefault(_c3charts);\n\t\n\tvar _cockpitComponentsListing = __webpack_require__(62);\n\t\n\tvar _vmDisksTabLibvirt = __webpack_require__(64);\n\t\n\tvar _vmDisksTabLibvirt2 = _interopRequireDefault(_vmDisksTabLibvirt);\n\t\n\tvar _vmnetworktab = __webpack_require__(69);\n\t\n\tvar _vmnetworktab2 = _interopRequireDefault(_vmnetworktab);\n\t\n\tvar _consoles = __webpack_require__(70);\n\t\n\tvar _consoles2 = _interopRequireDefault(_consoles);\n\t\n\tvar _deleteDialog = __webpack_require__(79);\n\t\n\tvar _dropdownButtons = __webpack_require__(81);\n\t\n\tvar _dropdownButtons2 = _interopRequireDefault(_dropdownButtons);\n\t\n\tvar _createVmDialog = __webpack_require__(83);\n\t\n\tvar _vmOverviewTabLibvirt = __webpack_require__(88);\n\t\n\tvar _vmOverviewTabLibvirt2 = _interopRequireDefault(_vmOverviewTabLibvirt);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar VmActions = function VmActions(_ref) {\n\t    var vm = _ref.vm,\n\t        config = _ref.config,\n\t        dispatch = _ref.dispatch,\n\t        onStart = _ref.onStart,\n\t        onInstall = _ref.onInstall,\n\t        onReboot = _ref.onReboot,\n\t        onForceReboot = _ref.onForceReboot,\n\t        onShutdown = _ref.onShutdown,\n\t        onForceoff = _ref.onForceoff,\n\t        onSendNMI = _ref.onSendNMI,\n\t        installInProgress = _ref.installInProgress;\n\t\n\t    var id = (0, _helpers.vmId)(vm.name);\n\t    var state = vm.state;\n\t    var hasInstallPhase = vm.metadata.hasInstallPhase;\n\t\n\t    var reset = null;\n\t    if (config.provider.canReset(state)) {\n\t        reset = (0, _dropdownButtons2.default)({\n\t            buttons: [{\n\t                title: _(\"Restart\"),\n\t                action: onReboot,\n\t                id: id + \"-reboot\"\n\t            }, {\n\t                title: _(\"Force Restart\"),\n\t                action: onForceReboot,\n\t                id: id + \"-forceReboot\"\n\t            }]\n\t        });\n\t    }\n\t\n\t    var shutdown = null;\n\t    if (config.provider.canShutdown(state)) {\n\t        var buttons = [{\n\t            title: _(\"Shut Down\"),\n\t            action: onShutdown,\n\t            id: id + \"-off\"\n\t        }, {\n\t            title: _(\"Force Shut Down\"),\n\t            action: onForceoff,\n\t            id: id + \"-forceOff\"\n\t        }];\n\t        if (config.provider.canSendNMI && config.provider.canSendNMI(state)) {\n\t            buttons.push({\n\t                title: _(\"Send Non-Maskable Interrupt\"),\n\t                action: onSendNMI,\n\t                id: id + \"-sendNMI\"\n\t            });\n\t        }\n\t        shutdown = (0, _dropdownButtons2.default)({ buttons: buttons });\n\t    }\n\t\n\t    var run = null;\n\t    if (config.provider.canRun(state, hasInstallPhase)) {\n\t        run = _react2.default.createElement(\n\t            \"button\",\n\t            { className: \"btn btn-default btn-danger\", onClick: (0, _helpers.mouseClick)(onStart), id: id + \"-run\" },\n\t            _(\"Run\")\n\t        );\n\t    }\n\t\n\t    var install = null;\n\t    if (config.provider.canInstall(state, hasInstallPhase, installInProgress)) {\n\t        install = _react2.default.createElement(\n\t            \"button\",\n\t            { className: \"btn btn-default btn-danger\", onClick: (0, _helpers.mouseClick)(onInstall), id: id + \"-install\" },\n\t            _(\"Install\")\n\t        );\n\t    }\n\t\n\t    var providerActions = null;\n\t    if (config.provider.VmActions) {\n\t        var ProviderActions = config.provider.VmActions;\n\t        providerActions = _react2.default.createElement(ProviderActions, { vm: vm, providerState: config.providerState, dispatch: dispatch });\n\t    }\n\t\n\t    var deleteAction = null;\n\t    if (state !== undefined && config.provider.canDelete && config.provider.canDelete(state, vm.id, config.providerState)) {\n\t        deleteAction = _react2.default.createElement(\n\t            \"button\",\n\t            { className: \"btn btn-danger\", id: id + \"-delete\",\n\t                onClick: (0, _helpers.mouseClick)(function () {\n\t                    return (0, _deleteDialog.deleteDialog)(vm, dispatch);\n\t                }) },\n\t            _(\"Delete\")\n\t        );\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        null,\n\t        reset,\n\t        shutdown,\n\t        run,\n\t        install,\n\t        providerActions,\n\t        deleteAction\n\t    );\n\t};\n\tVmActions.propTypes = {\n\t    vm: _react.PropTypes.object.isRequired,\n\t    config: _react.PropTypes.string.isRequired,\n\t    dispatch: _react.PropTypes.func.isRequired,\n\t    onStart: _react.PropTypes.func.isRequired,\n\t    onReboot: _react.PropTypes.func.isRequired,\n\t    onForceReboot: _react.PropTypes.func.isRequired,\n\t    onShutdown: _react.PropTypes.func.isRequired,\n\t    onForceoff: _react.PropTypes.func.isRequired,\n\t    onSendNMI: _react.PropTypes.func.isRequired\n\t};\n\t\n\tvar IconElement = function IconElement(_ref2) {\n\t    var onClick = _ref2.onClick,\n\t        className = _ref2.className,\n\t        title = _ref2.title,\n\t        state = _ref2.state;\n\t\n\t    return _react2.default.createElement(\n\t        \"span\",\n\t        { title: title, \"data-toggle\": \"tooltip\", \"data-placement\": \"left\" },\n\t        state,\n\t        \"\\xA0\",\n\t        _react2.default.createElement(\"i\", { onClick: (0, _helpers.mouseClick)(onClick), className: className })\n\t    );\n\t};\n\tIconElement.propTypes = {\n\t    onClick: _react.PropTypes.func,\n\t    className: _react.PropTypes.string.isRequired,\n\t    title: _react.PropTypes.string.isRequired,\n\t    state: _react.PropTypes.string.isRequired\n\t};\n\t\n\tvar StateIcon = exports.StateIcon = function StateIcon(_ref3) {\n\t    var state = _ref3.state,\n\t        config = _ref3.config,\n\t        valueId = _ref3.valueId,\n\t        extra = _ref3.extra;\n\t\n\t    if (state === undefined) {\n\t        return _react2.default.createElement(\"div\", null);\n\t    }\n\t\n\t    var stateMap = {\n\t        running: { className: 'pficon pficon-ok icon-1x-vms', title: _(\"The VM is running.\") }, // TODO: display VM screenshot if available or the ok-icon otherwise\n\t        idle: { className: 'pficon pficon-running icon-1x-vms', title: _(\"The VM is idle.\") },\n\t        paused: { className: 'pficon pficon-pause icon-1x-vms', title: _(\"The VM is paused.\") },\n\t        shutdown: { className: 'glyphicon glyphicon-wrench icon-1x-vms', title: _(\"The VM is going down.\") },\n\t        'shut off': { className: 'fa fa-arrow-circle-o-down icon-1x-vms', title: _(\"The VM is down.\") },\n\t        crashed: { className: 'pficon pficon-error-circle-o icon-1x-vms', title: _(\"The VM crashed.\") },\n\t        dying: {\n\t            className: 'pficon pficon-warning-triangle-o icon-1x-vms',\n\t            title: _(\"The VM is in process of dying (shut down or crash is not completed).\")\n\t        },\n\t        pmsuspended: {\n\t            className: 'pficon pficon-ok icon-1x-vms',\n\t            title: _(\"The VM is suspended by guest power management.\")\n\t        }\n\t    };\n\t    if (config.provider.vmStateMap) {\n\t        // merge default and provider's stateMap to allow both reuse and extension\n\t        stateMap = Object.assign(stateMap, config.provider.vmStateMap);\n\t    }\n\t\n\t    if (stateMap[state]) {\n\t        return _react2.default.createElement(\n\t            \"span\",\n\t            { title: stateMap[state].title, \"data-toggle\": \"tooltip\", \"data-placement\": \"left\" },\n\t            extra,\n\t            _react2.default.createElement(\n\t                \"span\",\n\t                { id: valueId },\n\t                (0, _helpers.rephraseUI)('vmStates', state)\n\t            )\n\t        );\n\t    }\n\t    return _react2.default.createElement(\n\t        \"small\",\n\t        null,\n\t        state\n\t    );\n\t};\n\tStateIcon.propTypes = {\n\t    state: _react.PropTypes.string.isRequired,\n\t    config: _react.PropTypes.string.isRequired,\n\t    valueId: _react.PropTypes.string,\n\t    extra: _react.PropTypes.any\n\t};\n\t\n\tvar VmUsageTab = function (_React$Component) {\n\t    _inherits(VmUsageTab, _React$Component);\n\t\n\t    function VmUsageTab() {\n\t        _classCallCheck(this, VmUsageTab);\n\t\n\t        return _possibleConstructorReturn(this, (VmUsageTab.__proto__ || Object.getPrototypeOf(VmUsageTab)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(VmUsageTab, [{\n\t        key: \"componentDidMount\",\n\t        value: function componentDidMount() {\n\t            this.props.onUsageStartPolling();\n\t        }\n\t    }, {\n\t        key: \"componentWillUnmount\",\n\t        value: function componentWillUnmount() {\n\t            this.props.onUsageStopPolling();\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var vm = this.props.vm;\n\t            var width = 220;\n\t            var height = 170;\n\t\n\t            var rssMem = vm[\"rssMemory\"] ? vm[\"rssMemory\"] : 0; // in KiB\n\t            var memTotal = vm[\"currentMemory\"] ? vm[\"currentMemory\"] : 0; // in KiB\n\t            var available = memTotal - rssMem; // in KiB\n\t            available = available < 0 ? 0 : available;\n\t\n\t            var totalCpus = vm['vcpus'] > 0 ? vm['vcpus'] : 0;\n\t            // 4 CPU system can have usage 400%, let's keep % between 0..100\n\t            var cpuUsage = vm['cpuUsage'] / (totalCpus > 0 ? totalCpus : 1);\n\t            cpuUsage = isNaN(cpuUsage) ? 0 : cpuUsage;\n\t            cpuUsage = (0, _helpers.toFixedPrecision)(cpuUsage, 1);\n\t\n\t            (0, _helpers.logDebug)(\"VmUsageTab.render(): rssMem: \" + rssMem + \" KiB, memTotal: \" + memTotal + \" KiB, available: \" + available + \" KiB, totalCpus: \" + totalCpus + \", cpuUsage: \" + cpuUsage);\n\t\n\t            var memChartData = {\n\t                columns: [[_(\"Used\"), (0, _helpers.toReadableNumber)((0, _helpers.convertToUnit)(rssMem, _helpers.units.KiB, _helpers.units.GiB))], [_(\"Available\"), (0, _helpers.toReadableNumber)((0, _helpers.convertToUnit)(available, _helpers.units.KiB, _helpers.units.GiB))]],\n\t                groups: [[\"used\", \"available\"]],\n\t                order: null\n\t            };\n\t\n\t            var cpuChartData = {\n\t                columns: [[_(\"Used\"), cpuUsage], [_(\"Available\"), 100.0 - cpuUsage]],\n\t                groups: [[\"used\", \"available\"]],\n\t                order: null\n\t            };\n\t\n\t            var chartSize = {\n\t                width: width, // keep the .usage-donut-caption CSS in sync\n\t                height: height\n\t            };\n\t\n\t            return _react2.default.createElement(\n\t                \"table\",\n\t                null,\n\t                _react2.default.createElement(\n\t                    \"tr\",\n\t                    null,\n\t                    _react2.default.createElement(\n\t                        \"td\",\n\t                        null,\n\t                        _react2.default.createElement(_c3charts2.default, { data: memChartData, size: chartSize, width: \"8\", tooltipText: \" \",\n\t                            primaryTitle: (0, _helpers.toReadableNumber)((0, _helpers.convertToUnit)(rssMem, _helpers.units.KiB, _helpers.units.GiB)),\n\t                            secondaryTitle: \"GiB\",\n\t                            caption: \"used from \" + _cockpit2.default.format_bytes(memTotal * 1024) + \" memory\" })\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"td\",\n\t                        null,\n\t                        _react2.default.createElement(_c3charts2.default, { data: cpuChartData, size: chartSize, width: \"8\", tooltipText: \" \",\n\t                            primaryTitle: cpuUsage, secondaryTitle: \"%\",\n\t                            caption: \"used from \" + totalCpus + \" vCPUs\" })\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return VmUsageTab;\n\t}(_react2.default.Component);\n\t\n\tVmUsageTab.propTypes = {\n\t    vm: _react2.default.PropTypes.object.isRequired,\n\t    onUsageStartPolling: _react.PropTypes.func.isRequired,\n\t    onUsageStopPolling: _react.PropTypes.func.isRequired\n\t};\n\t\n\t/** One VM in the list (a row)\n\t */\n\tvar Vm = function Vm(_ref4) {\n\t    var vm = _ref4.vm,\n\t        config = _ref4.config,\n\t        hostDevices = _ref4.hostDevices,\n\t        onStart = _ref4.onStart,\n\t        onInstall = _ref4.onInstall,\n\t        onShutdown = _ref4.onShutdown,\n\t        onForceoff = _ref4.onForceoff,\n\t        onReboot = _ref4.onReboot,\n\t        onForceReboot = _ref4.onForceReboot,\n\t        onUsageStartPolling = _ref4.onUsageStartPolling,\n\t        onUsageStopPolling = _ref4.onUsageStopPolling,\n\t        onSendNMI = _ref4.onSendNMI,\n\t        uiState = _ref4.uiState,\n\t        dispatch = _ref4.dispatch;\n\t\n\t    var stateAlert = vm.lastMessage && _react2.default.createElement(\"span\", { className: \"pficon-warning-triangle-o machines-status-alert\" });\n\t    var stateIcon = _react2.default.createElement(StateIcon, { state: vm.state, config: config, valueId: (0, _helpers.vmId)(vm.name) + \"-state\", extra: stateAlert });\n\t\n\t    var usageTabName = _react2.default.createElement(\n\t        \"div\",\n\t        { id: (0, _helpers.vmId)(vm.name) + \"-usage\" },\n\t        _(\"Usage\")\n\t    );\n\t    var disksTabName = _react2.default.createElement(\n\t        \"div\",\n\t        { id: (0, _helpers.vmId)(vm.name) + \"-disks\" },\n\t        _(\"Disks\")\n\t    );\n\t    var networkTabName = _react2.default.createElement(\n\t        \"div\",\n\t        { id: (0, _helpers.vmId)(vm.name) + \"-networks\" },\n\t        _(\"Networks\")\n\t    );\n\t    var consolesTabName = _react2.default.createElement(\n\t        \"div\",\n\t        { id: (0, _helpers.vmId)(vm.name) + \"-consoles\" },\n\t        _(\"Consoles\")\n\t    );\n\t\n\t    var tabRenderers = [{ name: _(\"Overview\"), renderer: _vmOverviewTabLibvirt2.default, data: { vm: vm, config: config, dispatch: dispatch } }, { name: usageTabName, renderer: VmUsageTab, data: { vm: vm, onUsageStartPolling: onUsageStartPolling, onUsageStopPolling: onUsageStopPolling }, presence: 'onlyActive' }, { name: disksTabName, renderer: _vmDisksTabLibvirt2.default, data: { vm: vm, onUsageStartPolling: onUsageStartPolling, onUsageStopPolling: onUsageStopPolling }, presence: 'onlyActive' }, { name: networkTabName, renderer: _vmnetworktab2.default, data: { vm: vm, dispatch: dispatch, hostDevices: hostDevices } }, { name: consolesTabName, renderer: _consoles2.default, data: { vm: vm, config: config, dispatch: dispatch } }];\n\t\n\t    if (config.provider.vmTabRenderers) {\n\t        // External Provider might extend the subtab list\n\t        tabRenderers = tabRenderers.concat(config.provider.vmTabRenderers.map(function (tabRender) {\n\t            var tabName = tabRender.name;\n\t            if (tabRender.idPostfix) {\n\t                tabName = _react2.default.createElement(\n\t                    \"div\",\n\t                    { id: (0, _helpers.vmId)(vm.name) + \"-\" + tabRender.idPostfix },\n\t                    tabRender.name\n\t                );\n\t            }\n\t            return {\n\t                name: tabName,\n\t                renderer: tabRender.component,\n\t                data: { vm: vm, providerState: config.providerState, dispatch: dispatch }\n\t            };\n\t        }));\n\t    }\n\t\n\t    var initiallyExpanded = uiState && uiState.createInProgress;\n\t    var initiallyActiveTab = null;\n\t    if (uiState && uiState.createInProgress && uiState.createInProgress.openConsoleTab) {\n\t        initiallyActiveTab = tabRenderers.map(function (o) {\n\t            return o.name;\n\t        }).indexOf(consolesTabName);\n\t    }\n\t\n\t    var name = _react2.default.createElement(\n\t        \"span\",\n\t        { id: (0, _helpers.vmId)(vm.name) + \"-row\" },\n\t        vm.name\n\t    );\n\t\n\t    return _react2.default.createElement(_cockpitComponentsListing.ListingRow, {\n\t        rowId: \"\" + (0, _helpers.vmId)(vm.name),\n\t        columns: [{ name: name, 'header': true }, (0, _helpers.rephraseUI)('connections', vm.connectionName), stateIcon],\n\t        initiallyExpanded: initiallyExpanded,\n\t        initiallyActiveTab: initiallyActiveTab,\n\t        tabRenderers: tabRenderers,\n\t        listingActions: VmActions({\n\t            vm: vm, config: config, dispatch: dispatch,\n\t            onStart: onStart, onInstall: onInstall, onReboot: onReboot, onForceReboot: onForceReboot, onShutdown: onShutdown, onForceoff: onForceoff, onSendNMI: onSendNMI,\n\t            installInProgress: !!uiState.installInProgress\n\t        }) });\n\t};\n\tVm.propTypes = {\n\t    vm: _react.PropTypes.object.isRequired,\n\t    config: _react.PropTypes.object.isRequired,\n\t    hostDevices: _react.PropTypes.object.isRequired,\n\t    onStart: _react.PropTypes.func.isRequired,\n\t    onShutdown: _react.PropTypes.func.isRequired,\n\t    onForceoff: _react.PropTypes.func.isRequired,\n\t    onReboot: _react.PropTypes.func.isRequired,\n\t    onForceReboot: _react.PropTypes.func.isRequired,\n\t    onUsageStartPolling: _react.PropTypes.func.isRequired,\n\t    onUsageStopPolling: _react.PropTypes.func.isRequired,\n\t    onSendNMI: _react2.default.PropTypes.func.isRequired,\n\t    dispatch: _react.PropTypes.func.isRequired,\n\t    initallyExpanded: _react.PropTypes.bool\n\t};\n\t\n\t/**\n\t * List of all VMs defined on this host\n\t */\n\t\n\tvar HostVmsList = function (_React$Component2) {\n\t    _inherits(HostVmsList, _React$Component2);\n\t\n\t    function HostVmsList(props) {\n\t        _classCallCheck(this, HostVmsList);\n\t\n\t        var _this2 = _possibleConstructorReturn(this, (HostVmsList.__proto__ || Object.getPrototypeOf(HostVmsList)).call(this, props));\n\t\n\t        _this2.deviceProxyHandler = _this2.deviceProxyHandler.bind(_this2);\n\t        _this2.client = _cockpit2.default.dbus(\"org.freedesktop.NetworkManager\", {});\n\t        _this2.deviceProxies = _this2.client.proxies(\"org.freedesktop.NetworkManager.Device\");\n\t        _this2.deviceProxies.addEventListener('changed', _this2.deviceProxyHandler);\n\t        _this2.deviceProxies.addEventListener('removed', _this2.deviceProxyHandler);\n\t        return _this2;\n\t    }\n\t\n\t    _createClass(HostVmsList, [{\n\t        key: \"componentWillUnmount\",\n\t        value: function componentWillUnmount() {\n\t            this.client.close();\n\t        }\n\t    }, {\n\t        key: \"deviceProxyHandler\",\n\t        value: function deviceProxyHandler() {\n\t            this.forceUpdate();\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _this3 = this;\n\t\n\t            var _props = this.props,\n\t                vms = _props.vms,\n\t                config = _props.config,\n\t                osInfoList = _props.osInfoList,\n\t                ui = _props.ui,\n\t                dispatch = _props.dispatch,\n\t                actions = _props.actions;\n\t\n\t\n\t            var sortFunction = function sortFunction(vmA, vmB) {\n\t                return vmA.name.localeCompare(vmB.name);\n\t            };\n\t\n\t            var allActions = [_react2.default.createElement(\n\t                \"a\",\n\t                { className: \"card-pf-link-with-icon pull-right\", id: \"create-new-vm\",\n\t                    onClick: (0, _helpers.mouseClick)(function () {\n\t                        return (0, _createVmDialog.createVmDialog)(dispatch, osInfoList);\n\t                    }) },\n\t                _react2.default.createElement(\"span\", { className: \"pficon pficon-add-circle-o\" }),\n\t                _(\"Create New VM\")\n\t            )];\n\t\n\t            if (actions) {\n\t                allActions = allActions.concat(actions);\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"container-fluid\" },\n\t                _react2.default.createElement(\n\t                    _cockpitComponentsListing.Listing,\n\t                    { title: _(\"Virtual Machines\"),\n\t                        columnTitles: [_(\"Name\"), _(\"Connection\"), _(\"State\")],\n\t                        actions: allActions,\n\t                        emptyCaption: _(\"No VM is running or defined on this host\") },\n\t                    vms.sort(sortFunction).map(function (vm) {\n\t                        return _react2.default.createElement(Vm, { vm: vm, config: config,\n\t                            hostDevices: _this3.deviceProxies,\n\t                            onStart: function onStart() {\n\t                                return dispatch((0, _actions.startVm)(vm));\n\t                            },\n\t                            onInstall: function onInstall() {\n\t                                return dispatch((0, _actions.installVm)(vm));\n\t                            },\n\t                            onReboot: function onReboot() {\n\t                                return dispatch((0, _actions.rebootVm)(vm));\n\t                            },\n\t                            onForceReboot: function onForceReboot() {\n\t                                return dispatch((0, _actions.forceRebootVm)(vm));\n\t                            },\n\t                            onShutdown: function onShutdown() {\n\t                                return dispatch((0, _actions.shutdownVm)(vm));\n\t                            },\n\t                            onForceoff: function onForceoff() {\n\t                                return dispatch((0, _actions.forceVmOff)(vm));\n\t                            },\n\t                            onUsageStartPolling: function onUsageStartPolling() {\n\t                                return dispatch((0, _actions.usageStartPolling)(vm));\n\t                            },\n\t                            onUsageStopPolling: function onUsageStopPolling() {\n\t                                return dispatch((0, _actions.usageStopPolling)(vm));\n\t                            },\n\t                            onSendNMI: function onSendNMI() {\n\t                                return dispatch((0, _actions.sendNMI)(vm));\n\t                            },\n\t                            dispatch: dispatch,\n\t                            uiState: {\n\t                                createInProgress: ui.vmsCreated[vm.name],\n\t                                installInProgress: ui.vmsInstallInitiated[vm.name]\n\t                            },\n\t                            key: \"\" + (0, _helpers.vmId)(vm.name)\n\t                        });\n\t                    })\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return HostVmsList;\n\t}(_react2.default.Component);\n\t\n\tHostVmsList.propTypes = {\n\t    vms: _react.PropTypes.array.isRequired,\n\t    config: _react.PropTypes.object.isRequired,\n\t    osInfoList: _react.PropTypes.array.isRequired,\n\t    ui: _react.PropTypes.object.isRequired,\n\t    dispatch: _react.PropTypes.func.isRequired\n\t};\n\t\n\texports.default = HostVmsList;\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _jquery = __webpack_require__(28);\n\t\n\tvar _jquery2 = _interopRequireDefault(_jquery);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _c = __webpack_require__(60);\n\t\n\tvar _c2 = _interopRequireDefault(_c);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar idCounter = 0; // To keep <div id=\"\"> unique\n\t\n\tvar DonutChart = function (_React$Component) {\n\t    _inherits(DonutChart, _React$Component);\n\t\n\t    function DonutChart(props) {\n\t        _classCallCheck(this, DonutChart);\n\t\n\t        var _this = _possibleConstructorReturn(this, (DonutChart.__proto__ || Object.getPrototypeOf(DonutChart)).call(this, props));\n\t\n\t        _this.domId = \"chart-donut-\" + idCounter++;\n\t        return _this;\n\t    }\n\t\n\t    _createClass(DonutChart, [{\n\t        key: \"prepareProps\",\n\t        value: function prepareProps(props) {\n\t            var state = {\n\t                data: props['data'] ? props['data'] : {},\n\t                size: props['size'] ? props['size'] : { width: 150, height: 100 },\n\t                width: props['width'] ? props['width'] : 10,\n\t\n\t                tooltipText: props['tooltipText'],\n\t                primaryTitle: props['primaryTitle'],\n\t                secondaryTitle: props['secondaryTitle'],\n\t\n\t                caption: props['caption'] ? props['caption'] : ''\n\t            };\n\t            state.data['type'] = 'donut';\n\t            return state;\n\t        }\n\t    }, {\n\t        key: \"componentDidMount\",\n\t        value: function componentDidMount() {\n\t            this._renderChart();\n\t        }\n\t    }, {\n\t        key: \"componentWillUnmount\",\n\t        value: function componentWillUnmount() {\n\t            this.donutChart.destroy();\n\t        }\n\t    }, {\n\t        key: \"shouldComponentUpdate\",\n\t        value: function shouldComponentUpdate(nextProps) {\n\t            if (this.props['data']) {\n\t                var result = JSON.stringify(this.props.data.columns) !== JSON.stringify(nextProps.data.columns);\n\t                (0, _helpers.logDebug)(\"shouldComponentUpdate() \" + result + \"\\nold: \" + JSON.stringify(this.props.data.columns) + \"\\nnew: \" + JSON.stringify(nextProps.data.columns));\n\t                return result;\n\t            }\n\t\n\t            return true;\n\t        }\n\t    }, {\n\t        key: \"_renderChart\",\n\t        value: function _renderChart() {\n\t            (0, _helpers.logDebug)('DonutChart._render() called');\n\t            var bindTo = \"#\" + this.domId;\n\t            var c3ChartDefaults = (0, _jquery2.default)().c3ChartDefaults();\n\t            var options = c3ChartDefaults.getDefaultDonutConfig('');\n\t\n\t            var props = this.prepareProps(this.props);\n\t\n\t            options.bindto = bindTo;\n\t            options.data = props.data;\n\t            options.size = props.size;\n\t            options.donut.width = props.width;\n\t            options.tooltip = props.tooltipText ? { contents: (0, _jquery2.default)().pfGetUtilizationDonutTooltipContentsFn(props.tooltipText) } : options.tooltip;\n\t\n\t            try {\n\t                this.donutChart = _c2.default.generate(options);\n\t                (0, _jquery2.default)().pfSetDonutChartTitle(bindTo, props.primaryTitle, props.secondaryTitle);\n\t            } catch (err) {\n\t                (0, _helpers.logDebug)('Exception thrown when rendering donut chart: ', err);\n\t            }\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            this._renderChart();\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                null,\n\t                _react2.default.createElement(\"div\", { id: this.domId }),\n\t                _react2.default.createElement(\n\t                    \"div\",\n\t                    { className: \"usage-donut-caption\" },\n\t                    this.props['caption']\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return DonutChart;\n\t}(_react2.default.Component);\n\t\n\texports.default = DonutChart;\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* @license C3.js v0.4.21 | (c) C3 Team and other contributors | http://c3js.org/ */\n\t(function (global, factory) {\n\t\t true ? module.exports = factory() :\n\t\ttypeof define === 'function' && define.amd ? define(factory) :\n\t\t(global.c3 = factory());\n\t}(this, (function () { 'use strict';\n\t\n\tvar CLASS = {\n\t    target: 'c3-target',\n\t    chart: 'c3-chart',\n\t    chartLine: 'c3-chart-line',\n\t    chartLines: 'c3-chart-lines',\n\t    chartBar: 'c3-chart-bar',\n\t    chartBars: 'c3-chart-bars',\n\t    chartText: 'c3-chart-text',\n\t    chartTexts: 'c3-chart-texts',\n\t    chartArc: 'c3-chart-arc',\n\t    chartArcs: 'c3-chart-arcs',\n\t    chartArcsTitle: 'c3-chart-arcs-title',\n\t    chartArcsBackground: 'c3-chart-arcs-background',\n\t    chartArcsGaugeUnit: 'c3-chart-arcs-gauge-unit',\n\t    chartArcsGaugeMax: 'c3-chart-arcs-gauge-max',\n\t    chartArcsGaugeMin: 'c3-chart-arcs-gauge-min',\n\t    selectedCircle: 'c3-selected-circle',\n\t    selectedCircles: 'c3-selected-circles',\n\t    eventRect: 'c3-event-rect',\n\t    eventRects: 'c3-event-rects',\n\t    eventRectsSingle: 'c3-event-rects-single',\n\t    eventRectsMultiple: 'c3-event-rects-multiple',\n\t    zoomRect: 'c3-zoom-rect',\n\t    brush: 'c3-brush',\n\t    focused: 'c3-focused',\n\t    defocused: 'c3-defocused',\n\t    region: 'c3-region',\n\t    regions: 'c3-regions',\n\t    title: 'c3-title',\n\t    tooltipContainer: 'c3-tooltip-container',\n\t    tooltip: 'c3-tooltip',\n\t    tooltipName: 'c3-tooltip-name',\n\t    shape: 'c3-shape',\n\t    shapes: 'c3-shapes',\n\t    line: 'c3-line',\n\t    lines: 'c3-lines',\n\t    bar: 'c3-bar',\n\t    bars: 'c3-bars',\n\t    circle: 'c3-circle',\n\t    circles: 'c3-circles',\n\t    arc: 'c3-arc',\n\t    arcLabelLine: 'c3-arc-label-line',\n\t    arcs: 'c3-arcs',\n\t    area: 'c3-area',\n\t    areas: 'c3-areas',\n\t    empty: 'c3-empty',\n\t    text: 'c3-text',\n\t    texts: 'c3-texts',\n\t    gaugeValue: 'c3-gauge-value',\n\t    grid: 'c3-grid',\n\t    gridLines: 'c3-grid-lines',\n\t    xgrid: 'c3-xgrid',\n\t    xgrids: 'c3-xgrids',\n\t    xgridLine: 'c3-xgrid-line',\n\t    xgridLines: 'c3-xgrid-lines',\n\t    xgridFocus: 'c3-xgrid-focus',\n\t    ygrid: 'c3-ygrid',\n\t    ygrids: 'c3-ygrids',\n\t    ygridLine: 'c3-ygrid-line',\n\t    ygridLines: 'c3-ygrid-lines',\n\t    axis: 'c3-axis',\n\t    axisX: 'c3-axis-x',\n\t    axisXLabel: 'c3-axis-x-label',\n\t    axisY: 'c3-axis-y',\n\t    axisYLabel: 'c3-axis-y-label',\n\t    axisY2: 'c3-axis-y2',\n\t    axisY2Label: 'c3-axis-y2-label',\n\t    legendBackground: 'c3-legend-background',\n\t    legendItem: 'c3-legend-item',\n\t    legendItemEvent: 'c3-legend-item-event',\n\t    legendItemTile: 'c3-legend-item-tile',\n\t    legendItemHidden: 'c3-legend-item-hidden',\n\t    legendItemFocused: 'c3-legend-item-focused',\n\t    dragarea: 'c3-dragarea',\n\t    EXPANDED: '_expanded_',\n\t    SELECTED: '_selected_',\n\t    INCLUDED: '_included_'\n\t};\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n\t  return typeof obj;\n\t} : function (obj) {\n\t  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n\t};\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar classCallCheck = function (instance, Constructor) {\n\t  if (!(instance instanceof Constructor)) {\n\t    throw new TypeError(\"Cannot call a class as a function\");\n\t  }\n\t};\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar inherits = function (subClass, superClass) {\n\t  if (typeof superClass !== \"function\" && superClass !== null) {\n\t    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n\t  }\n\t\n\t  subClass.prototype = Object.create(superClass && superClass.prototype, {\n\t    constructor: {\n\t      value: subClass,\n\t      enumerable: false,\n\t      writable: true,\n\t      configurable: true\n\t    }\n\t  });\n\t  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n\t};\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\t\n\tvar possibleConstructorReturn = function (self, call) {\n\t  if (!self) {\n\t    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\t  }\n\t\n\t  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n\t};\n\t\n\tvar isValue = function isValue(v) {\n\t    return v || v === 0;\n\t};\n\tvar isFunction = function isFunction(o) {\n\t    return typeof o === 'function';\n\t};\n\tvar isArray = function isArray(o) {\n\t    return Array.isArray(o);\n\t};\n\tvar isString = function isString(o) {\n\t    return typeof o === 'string';\n\t};\n\tvar isUndefined = function isUndefined(v) {\n\t    return typeof v === 'undefined';\n\t};\n\tvar isDefined = function isDefined(v) {\n\t    return typeof v !== 'undefined';\n\t};\n\tvar ceil10 = function ceil10(v) {\n\t    return Math.ceil(v / 10) * 10;\n\t};\n\tvar asHalfPixel = function asHalfPixel(n) {\n\t    return Math.ceil(n) + 0.5;\n\t};\n\tvar diffDomain = function diffDomain(d) {\n\t    return d[1] - d[0];\n\t};\n\tvar isEmpty = function isEmpty(o) {\n\t    return typeof o === 'undefined' || o === null || isString(o) && o.length === 0 || (typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object' && Object.keys(o).length === 0;\n\t};\n\tvar notEmpty = function notEmpty(o) {\n\t    return !c3_chart_internal_fn.isEmpty(o);\n\t};\n\tvar getOption = function getOption(options, key, defaultValue) {\n\t    return isDefined(options[key]) ? options[key] : defaultValue;\n\t};\n\tvar hasValue = function hasValue(dict, value) {\n\t    var found = false;\n\t    Object.keys(dict).forEach(function (key) {\n\t        if (dict[key] === value) {\n\t            found = true;\n\t        }\n\t    });\n\t    return found;\n\t};\n\tvar sanitise = function sanitise(str) {\n\t    return typeof str === 'string' ? str.replace(/</g, '&lt;').replace(/>/g, '&gt;') : str;\n\t};\n\tvar getPathBox = function getPathBox(path) {\n\t    var box = path.getBoundingClientRect(),\n\t        items = [path.pathSegList.getItem(0), path.pathSegList.getItem(1)],\n\t        minX = items[0].x,\n\t        minY = Math.min(items[0].y, items[1].y);\n\t    return { x: minX, y: minY, width: box.width, height: box.height };\n\t};\n\t\n\tvar c3_axis_fn;\n\tvar c3_axis_internal_fn;\n\t\n\tfunction AxisInternal(component, params) {\n\t    var internal = this;\n\t    internal.component = component;\n\t    internal.params = params || {};\n\t\n\t    internal.d3 = component.d3;\n\t    internal.scale = internal.d3.scale.linear();\n\t    internal.range;\n\t    internal.orient = \"bottom\";\n\t    internal.innerTickSize = 6;\n\t    internal.outerTickSize = this.params.withOuterTick ? 6 : 0;\n\t    internal.tickPadding = 3;\n\t    internal.tickValues = null;\n\t    internal.tickFormat;\n\t    internal.tickArguments;\n\t\n\t    internal.tickOffset = 0;\n\t    internal.tickCulling = true;\n\t    internal.tickCentered;\n\t    internal.tickTextCharSize;\n\t    internal.tickTextRotate = internal.params.tickTextRotate;\n\t    internal.tickLength;\n\t\n\t    internal.axis = internal.generateAxis();\n\t}\n\tc3_axis_internal_fn = AxisInternal.prototype;\n\t\n\tc3_axis_internal_fn.axisX = function (selection, x, tickOffset) {\n\t    selection.attr(\"transform\", function (d) {\n\t        return \"translate(\" + Math.ceil(x(d) + tickOffset) + \", 0)\";\n\t    });\n\t};\n\tc3_axis_internal_fn.axisY = function (selection, y) {\n\t    selection.attr(\"transform\", function (d) {\n\t        return \"translate(0,\" + Math.ceil(y(d)) + \")\";\n\t    });\n\t};\n\tc3_axis_internal_fn.scaleExtent = function (domain) {\n\t    var start = domain[0],\n\t        stop = domain[domain.length - 1];\n\t    return start < stop ? [start, stop] : [stop, start];\n\t};\n\tc3_axis_internal_fn.generateTicks = function (scale) {\n\t    var internal = this;\n\t    var i,\n\t        domain,\n\t        ticks = [];\n\t    if (scale.ticks) {\n\t        return scale.ticks.apply(scale, internal.tickArguments);\n\t    }\n\t    domain = scale.domain();\n\t    for (i = Math.ceil(domain[0]); i < domain[1]; i++) {\n\t        ticks.push(i);\n\t    }\n\t    if (ticks.length > 0 && ticks[0] > 0) {\n\t        ticks.unshift(ticks[0] - (ticks[1] - ticks[0]));\n\t    }\n\t    return ticks;\n\t};\n\tc3_axis_internal_fn.copyScale = function () {\n\t    var internal = this;\n\t    var newScale = internal.scale.copy(),\n\t        domain;\n\t    if (internal.params.isCategory) {\n\t        domain = internal.scale.domain();\n\t        newScale.domain([domain[0], domain[1] - 1]);\n\t    }\n\t    return newScale;\n\t};\n\tc3_axis_internal_fn.textFormatted = function (v) {\n\t    var internal = this,\n\t        formatted = internal.tickFormat ? internal.tickFormat(v) : v;\n\t    return typeof formatted !== 'undefined' ? formatted : '';\n\t};\n\tc3_axis_internal_fn.updateRange = function () {\n\t    var internal = this;\n\t    internal.range = internal.scale.rangeExtent ? internal.scale.rangeExtent() : internal.scaleExtent(internal.scale.range());\n\t    return internal.range;\n\t};\n\tc3_axis_internal_fn.updateTickTextCharSize = function (tick) {\n\t    var internal = this;\n\t    if (internal.tickTextCharSize) {\n\t        return internal.tickTextCharSize;\n\t    }\n\t    var size = {\n\t        h: 11.5,\n\t        w: 5.5\n\t    };\n\t    tick.select('text').text(function (d) {\n\t        return internal.textFormatted(d);\n\t    }).each(function (d) {\n\t        var box = this.getBoundingClientRect(),\n\t            text = internal.textFormatted(d),\n\t            h = box.height,\n\t            w = text ? box.width / text.length : undefined;\n\t        if (h && w) {\n\t            size.h = h;\n\t            size.w = w;\n\t        }\n\t    }).text('');\n\t    internal.tickTextCharSize = size;\n\t    return size;\n\t};\n\tc3_axis_internal_fn.transitionise = function (selection) {\n\t    return this.params.withoutTransition ? selection : this.d3.transition(selection);\n\t};\n\tc3_axis_internal_fn.isVertical = function () {\n\t    return this.orient === 'left' || this.orient === 'right';\n\t};\n\tc3_axis_internal_fn.tspanData = function (d, i, ticks, scale) {\n\t    var internal = this;\n\t    var splitted = internal.params.tickMultiline ? internal.splitTickText(d, ticks, scale) : [].concat(internal.textFormatted(d));\n\t    return splitted.map(function (s) {\n\t        return { index: i, splitted: s, length: splitted.length };\n\t    });\n\t};\n\tc3_axis_internal_fn.splitTickText = function (d, ticks, scale) {\n\t    var internal = this,\n\t        tickText = internal.textFormatted(d),\n\t        maxWidth = internal.params.tickWidth,\n\t        subtext,\n\t        spaceIndex,\n\t        textWidth,\n\t        splitted = [];\n\t\n\t    if (Object.prototype.toString.call(tickText) === \"[object Array]\") {\n\t        return tickText;\n\t    }\n\t\n\t    if (!maxWidth || maxWidth <= 0) {\n\t        maxWidth = internal.isVertical() ? 95 : internal.params.isCategory ? Math.ceil(scale(ticks[1]) - scale(ticks[0])) - 12 : 110;\n\t    }\n\t\n\t    function split(splitted, text) {\n\t        spaceIndex = undefined;\n\t        for (var i = 1; i < text.length; i++) {\n\t            if (text.charAt(i) === ' ') {\n\t                spaceIndex = i;\n\t            }\n\t            subtext = text.substr(0, i + 1);\n\t            textWidth = internal.tickTextCharSize.w * subtext.length;\n\t            // if text width gets over tick width, split by space index or crrent index\n\t            if (maxWidth < textWidth) {\n\t                return split(splitted.concat(text.substr(0, spaceIndex ? spaceIndex : i)), text.slice(spaceIndex ? spaceIndex + 1 : i));\n\t            }\n\t        }\n\t        return splitted.concat(text);\n\t    }\n\t\n\t    return split(splitted, tickText + \"\");\n\t};\n\tc3_axis_internal_fn.updateTickLength = function () {\n\t    var internal = this;\n\t    internal.tickLength = Math.max(internal.innerTickSize, 0) + internal.tickPadding;\n\t};\n\tc3_axis_internal_fn.lineY2 = function (d) {\n\t    var internal = this,\n\t        tickPosition = internal.scale(d) + (internal.tickCentered ? 0 : internal.tickOffset);\n\t    return internal.range[0] < tickPosition && tickPosition < internal.range[1] ? internal.innerTickSize : 0;\n\t};\n\tc3_axis_internal_fn.textY = function () {\n\t    var internal = this,\n\t        rotate = internal.tickTextRotate;\n\t    return rotate ? 11.5 - 2.5 * (rotate / 15) * (rotate > 0 ? 1 : -1) : internal.tickLength;\n\t};\n\tc3_axis_internal_fn.textTransform = function () {\n\t    var internal = this,\n\t        rotate = internal.tickTextRotate;\n\t    return rotate ? \"rotate(\" + rotate + \")\" : \"\";\n\t};\n\tc3_axis_internal_fn.textTextAnchor = function () {\n\t    var internal = this,\n\t        rotate = internal.tickTextRotate;\n\t    return rotate ? rotate > 0 ? \"start\" : \"end\" : \"middle\";\n\t};\n\tc3_axis_internal_fn.tspanDx = function () {\n\t    var internal = this,\n\t        rotate = internal.tickTextRotate;\n\t    return rotate ? 8 * Math.sin(Math.PI * (rotate / 180)) : 0;\n\t};\n\tc3_axis_internal_fn.tspanDy = function (d, i) {\n\t    var internal = this,\n\t        dy = internal.tickTextCharSize.h;\n\t    if (i === 0) {\n\t        if (internal.isVertical()) {\n\t            dy = -((d.length - 1) * (internal.tickTextCharSize.h / 2) - 3);\n\t        } else {\n\t            dy = \".71em\";\n\t        }\n\t    }\n\t    return dy;\n\t};\n\t\n\tc3_axis_internal_fn.generateAxis = function () {\n\t    var internal = this,\n\t        d3 = internal.d3,\n\t        params = internal.params;\n\t    function axis(g) {\n\t        g.each(function () {\n\t            var g = axis.g = d3.select(this);\n\t\n\t            var scale0 = this.__chart__ || internal.scale,\n\t                scale1 = this.__chart__ = internal.copyScale();\n\t\n\t            var ticks = internal.tickValues ? internal.tickValues : internal.generateTicks(scale1),\n\t                tick = g.selectAll(\".tick\").data(ticks, scale1),\n\t                tickEnter = tick.enter().insert(\"g\", \".domain\").attr(\"class\", \"tick\").style(\"opacity\", 1e-6),\n\t\n\t            // MEMO: No exit transition. The reason is this transition affects max tick width calculation because old tick will be included in the ticks.\n\t            tickExit = tick.exit().remove(),\n\t                tickUpdate = internal.transitionise(tick).style(\"opacity\", 1),\n\t                tickTransform,\n\t                tickX,\n\t                tickY;\n\t\n\t            if (params.isCategory) {\n\t                internal.tickOffset = Math.ceil((scale1(1) - scale1(0)) / 2);\n\t                tickX = internal.tickCentered ? 0 : internal.tickOffset;\n\t                tickY = internal.tickCentered ? internal.tickOffset : 0;\n\t            } else {\n\t                internal.tickOffset = tickX = 0;\n\t            }\n\t\n\t            tickEnter.append(\"line\");\n\t            tickEnter.append(\"text\");\n\t\n\t            internal.updateRange();\n\t            internal.updateTickLength();\n\t            internal.updateTickTextCharSize(g.select('.tick'));\n\t\n\t            var lineUpdate = tickUpdate.select(\"line\"),\n\t                textUpdate = tickUpdate.select(\"text\"),\n\t                tspanUpdate = tick.select(\"text\").selectAll('tspan').data(function (d, i) {\n\t                return internal.tspanData(d, i, ticks, scale1);\n\t            });\n\t\n\t            tspanUpdate.enter().append('tspan');\n\t            tspanUpdate.exit().remove();\n\t            tspanUpdate.text(function (d) {\n\t                return d.splitted;\n\t            });\n\t\n\t            var path = g.selectAll(\".domain\").data([0]),\n\t                pathUpdate = (path.enter().append(\"path\").attr(\"class\", \"domain\"), internal.transitionise(path));\n\t\n\t            // TODO: each attr should be one function and change its behavior by internal.orient, probably\n\t            switch (internal.orient) {\n\t                case \"bottom\":\n\t                    {\n\t                        tickTransform = internal.axisX;\n\t                        lineUpdate.attr(\"x1\", tickX).attr(\"x2\", tickX).attr(\"y2\", function (d, i) {\n\t                            return internal.lineY2(d, i);\n\t                        });\n\t                        textUpdate.attr(\"x\", 0).attr(\"y\", function (d, i) {\n\t                            return internal.textY(d, i);\n\t                        }).attr(\"transform\", function (d, i) {\n\t                            return internal.textTransform(d, i);\n\t                        }).style(\"text-anchor\", function (d, i) {\n\t                            return internal.textTextAnchor(d, i);\n\t                        });\n\t                        tspanUpdate.attr('x', 0).attr(\"dy\", function (d, i) {\n\t                            return internal.tspanDy(d, i);\n\t                        }).attr('dx', function (d, i) {\n\t                            return internal.tspanDx(d, i);\n\t                        });\n\t                        pathUpdate.attr(\"d\", \"M\" + internal.range[0] + \",\" + internal.outerTickSize + \"V0H\" + internal.range[1] + \"V\" + internal.outerTickSize);\n\t                        break;\n\t                    }\n\t                case \"top\":\n\t                    {\n\t                        // TODO: rotated tick text\n\t                        tickTransform = internal.axisX;\n\t                        lineUpdate.attr(\"x2\", 0).attr(\"y2\", -internal.innerTickSize);\n\t                        textUpdate.attr(\"x\", 0).attr(\"y\", -internal.tickLength).style(\"text-anchor\", \"middle\");\n\t                        tspanUpdate.attr('x', 0).attr(\"dy\", \"0em\");\n\t                        pathUpdate.attr(\"d\", \"M\" + internal.range[0] + \",\" + -internal.outerTickSize + \"V0H\" + internal.range[1] + \"V\" + -internal.outerTickSize);\n\t                        break;\n\t                    }\n\t                case \"left\":\n\t                    {\n\t                        tickTransform = internal.axisY;\n\t                        lineUpdate.attr(\"x2\", -internal.innerTickSize).attr(\"y1\", tickY).attr(\"y2\", tickY);\n\t                        textUpdate.attr(\"x\", -internal.tickLength).attr(\"y\", internal.tickOffset).style(\"text-anchor\", \"end\");\n\t                        tspanUpdate.attr('x', -internal.tickLength).attr(\"dy\", function (d, i) {\n\t                            return internal.tspanDy(d, i);\n\t                        });\n\t                        pathUpdate.attr(\"d\", \"M\" + -internal.outerTickSize + \",\" + internal.range[0] + \"H0V\" + internal.range[1] + \"H\" + -internal.outerTickSize);\n\t                        break;\n\t                    }\n\t                case \"right\":\n\t                    {\n\t                        tickTransform = internal.axisY;\n\t                        lineUpdate.attr(\"x2\", internal.innerTickSize).attr(\"y2\", 0);\n\t                        textUpdate.attr(\"x\", internal.tickLength).attr(\"y\", 0).style(\"text-anchor\", \"start\");\n\t                        tspanUpdate.attr('x', internal.tickLength).attr(\"dy\", function (d, i) {\n\t                            return internal.tspanDy(d, i);\n\t                        });\n\t                        pathUpdate.attr(\"d\", \"M\" + internal.outerTickSize + \",\" + internal.range[0] + \"H0V\" + internal.range[1] + \"H\" + internal.outerTickSize);\n\t                        break;\n\t                    }\n\t            }\n\t            if (scale1.rangeBand) {\n\t                var x = scale1,\n\t                    dx = x.rangeBand() / 2;\n\t                scale0 = scale1 = function scale1(d) {\n\t                    return x(d) + dx;\n\t                };\n\t            } else if (scale0.rangeBand) {\n\t                scale0 = scale1;\n\t            } else {\n\t                tickExit.call(tickTransform, scale1, internal.tickOffset);\n\t            }\n\t            tickEnter.call(tickTransform, scale0, internal.tickOffset);\n\t            tickUpdate.call(tickTransform, scale1, internal.tickOffset);\n\t        });\n\t    }\n\t    axis.scale = function (x) {\n\t        if (!arguments.length) {\n\t            return internal.scale;\n\t        }\n\t        internal.scale = x;\n\t        return axis;\n\t    };\n\t    axis.orient = function (x) {\n\t        if (!arguments.length) {\n\t            return internal.orient;\n\t        }\n\t        internal.orient = x in { top: 1, right: 1, bottom: 1, left: 1 } ? x + \"\" : \"bottom\";\n\t        return axis;\n\t    };\n\t    axis.tickFormat = function (format) {\n\t        if (!arguments.length) {\n\t            return internal.tickFormat;\n\t        }\n\t        internal.tickFormat = format;\n\t        return axis;\n\t    };\n\t    axis.tickCentered = function (isCentered) {\n\t        if (!arguments.length) {\n\t            return internal.tickCentered;\n\t        }\n\t        internal.tickCentered = isCentered;\n\t        return axis;\n\t    };\n\t    axis.tickOffset = function () {\n\t        return internal.tickOffset;\n\t    };\n\t    axis.tickInterval = function () {\n\t        var interval, length;\n\t        if (params.isCategory) {\n\t            interval = internal.tickOffset * 2;\n\t        } else {\n\t            length = axis.g.select('path.domain').node().getTotalLength() - internal.outerTickSize * 2;\n\t            interval = length / axis.g.selectAll('line').size();\n\t        }\n\t        return interval === Infinity ? 0 : interval;\n\t    };\n\t    axis.ticks = function () {\n\t        if (!arguments.length) {\n\t            return internal.tickArguments;\n\t        }\n\t        internal.tickArguments = arguments;\n\t        return axis;\n\t    };\n\t    axis.tickCulling = function (culling) {\n\t        if (!arguments.length) {\n\t            return internal.tickCulling;\n\t        }\n\t        internal.tickCulling = culling;\n\t        return axis;\n\t    };\n\t    axis.tickValues = function (x) {\n\t        if (typeof x === 'function') {\n\t            internal.tickValues = function () {\n\t                return x(internal.scale.domain());\n\t            };\n\t        } else {\n\t            if (!arguments.length) {\n\t                return internal.tickValues;\n\t            }\n\t            internal.tickValues = x;\n\t        }\n\t        return axis;\n\t    };\n\t    return axis;\n\t};\n\t\n\tvar Axis = function (_Component) {\n\t    inherits(Axis, _Component);\n\t\n\t    function Axis(owner) {\n\t        classCallCheck(this, Axis);\n\t\n\t        var fn = {\n\t            fn: c3_axis_fn,\n\t            internal: {\n\t                fn: c3_axis_internal_fn\n\t            }\n\t        };\n\t\n\t        var _this = possibleConstructorReturn(this, (Axis.__proto__ || Object.getPrototypeOf(Axis)).call(this, owner, 'axis', fn));\n\t\n\t        _this.d3 = owner.d3;\n\t        _this.internal = AxisInternal;\n\t        return _this;\n\t    }\n\t\n\t    return Axis;\n\t}(Component);\n\t\n\tc3_axis_fn = Axis.prototype;\n\t\n\tc3_axis_fn.init = function init() {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        main = $$.main;\n\t    $$.axes.x = main.append(\"g\").attr(\"class\", CLASS.axis + ' ' + CLASS.axisX).attr(\"clip-path\", $$.clipPathForXAxis).attr(\"transform\", $$.getTranslate('x')).style(\"visibility\", config.axis_x_show ? 'visible' : 'hidden');\n\t    $$.axes.x.append(\"text\").attr(\"class\", CLASS.axisXLabel).attr(\"transform\", config.axis_rotated ? \"rotate(-90)\" : \"\").style(\"text-anchor\", this.textAnchorForXAxisLabel.bind(this));\n\t    $$.axes.y = main.append(\"g\").attr(\"class\", CLASS.axis + ' ' + CLASS.axisY).attr(\"clip-path\", config.axis_y_inner ? \"\" : $$.clipPathForYAxis).attr(\"transform\", $$.getTranslate('y')).style(\"visibility\", config.axis_y_show ? 'visible' : 'hidden');\n\t    $$.axes.y.append(\"text\").attr(\"class\", CLASS.axisYLabel).attr(\"transform\", config.axis_rotated ? \"\" : \"rotate(-90)\").style(\"text-anchor\", this.textAnchorForYAxisLabel.bind(this));\n\t\n\t    $$.axes.y2 = main.append(\"g\").attr(\"class\", CLASS.axis + ' ' + CLASS.axisY2)\n\t    // clip-path?\n\t    .attr(\"transform\", $$.getTranslate('y2')).style(\"visibility\", config.axis_y2_show ? 'visible' : 'hidden');\n\t    $$.axes.y2.append(\"text\").attr(\"class\", CLASS.axisY2Label).attr(\"transform\", config.axis_rotated ? \"\" : \"rotate(-90)\").style(\"text-anchor\", this.textAnchorForY2AxisLabel.bind(this));\n\t};\n\tc3_axis_fn.getXAxis = function getXAxis(scale, orient, tickFormat, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        axisParams = {\n\t        isCategory: $$.isCategorized(),\n\t        withOuterTick: withOuterTick,\n\t        tickMultiline: config.axis_x_tick_multiline,\n\t        tickWidth: config.axis_x_tick_width,\n\t        tickTextRotate: withoutRotateTickText ? 0 : config.axis_x_tick_rotate,\n\t        withoutTransition: withoutTransition\n\t    },\n\t        axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient);\n\t\n\t    if ($$.isTimeSeries() && tickValues && typeof tickValues !== \"function\") {\n\t        tickValues = tickValues.map(function (v) {\n\t            return $$.parseDate(v);\n\t        });\n\t    }\n\t\n\t    // Set tick\n\t    axis.tickFormat(tickFormat).tickValues(tickValues);\n\t    if ($$.isCategorized()) {\n\t        axis.tickCentered(config.axis_x_tick_centered);\n\t        if (isEmpty(config.axis_x_tick_culling)) {\n\t            config.axis_x_tick_culling = false;\n\t        }\n\t    }\n\t\n\t    return axis;\n\t};\n\tc3_axis_fn.updateXAxisTickValues = function updateXAxisTickValues(targets, axis) {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        tickValues;\n\t    if (config.axis_x_tick_fit || config.axis_x_tick_count) {\n\t        tickValues = this.generateTickValues($$.mapTargetsToUniqueXs(targets), config.axis_x_tick_count, $$.isTimeSeries());\n\t    }\n\t    if (axis) {\n\t        axis.tickValues(tickValues);\n\t    } else {\n\t        $$.xAxis.tickValues(tickValues);\n\t        $$.subXAxis.tickValues(tickValues);\n\t    }\n\t    return tickValues;\n\t};\n\tc3_axis_fn.getYAxis = function getYAxis(scale, orient, tickFormat, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        axisParams = {\n\t        withOuterTick: withOuterTick,\n\t        withoutTransition: withoutTransition,\n\t        tickTextRotate: withoutRotateTickText ? 0 : config.axis_y_tick_rotate\n\t    },\n\t        axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient).tickFormat(tickFormat);\n\t    if ($$.isTimeSeriesY()) {\n\t        axis.ticks($$.d3.time[config.axis_y_tick_time_value], config.axis_y_tick_time_interval);\n\t    } else {\n\t        axis.tickValues(tickValues);\n\t    }\n\t    return axis;\n\t};\n\tc3_axis_fn.getId = function getId(id) {\n\t    var config = this.owner.config;\n\t    return id in config.data_axes ? config.data_axes[id] : 'y';\n\t};\n\tc3_axis_fn.getXAxisTickFormat = function getXAxisTickFormat() {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        format = $$.isTimeSeries() ? $$.defaultAxisTimeFormat : $$.isCategorized() ? $$.categoryName : function (v) {\n\t        return v < 0 ? v.toFixed(0) : v;\n\t    };\n\t    if (config.axis_x_tick_format) {\n\t        if (isFunction(config.axis_x_tick_format)) {\n\t            format = config.axis_x_tick_format;\n\t        } else if ($$.isTimeSeries()) {\n\t            format = function format(date) {\n\t                return date ? $$.axisTimeFormat(config.axis_x_tick_format)(date) : \"\";\n\t            };\n\t        }\n\t    }\n\t    return isFunction(format) ? function (v) {\n\t        return format.call($$, v);\n\t    } : format;\n\t};\n\tc3_axis_fn.getTickValues = function getTickValues(tickValues, axis) {\n\t    return tickValues ? tickValues : axis ? axis.tickValues() : undefined;\n\t};\n\tc3_axis_fn.getXAxisTickValues = function getXAxisTickValues() {\n\t    return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);\n\t};\n\tc3_axis_fn.getYAxisTickValues = function getYAxisTickValues() {\n\t    return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);\n\t};\n\tc3_axis_fn.getY2AxisTickValues = function getY2AxisTickValues() {\n\t    return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);\n\t};\n\tc3_axis_fn.getLabelOptionByAxisId = function getLabelOptionByAxisId(axisId) {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        option;\n\t    if (axisId === 'y') {\n\t        option = config.axis_y_label;\n\t    } else if (axisId === 'y2') {\n\t        option = config.axis_y2_label;\n\t    } else if (axisId === 'x') {\n\t        option = config.axis_x_label;\n\t    }\n\t    return option;\n\t};\n\tc3_axis_fn.getLabelText = function getLabelText(axisId) {\n\t    var option = this.getLabelOptionByAxisId(axisId);\n\t    return isString(option) ? option : option ? option.text : null;\n\t};\n\tc3_axis_fn.setLabelText = function setLabelText(axisId, text) {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        option = this.getLabelOptionByAxisId(axisId);\n\t    if (isString(option)) {\n\t        if (axisId === 'y') {\n\t            config.axis_y_label = text;\n\t        } else if (axisId === 'y2') {\n\t            config.axis_y2_label = text;\n\t        } else if (axisId === 'x') {\n\t            config.axis_x_label = text;\n\t        }\n\t    } else if (option) {\n\t        option.text = text;\n\t    }\n\t};\n\tc3_axis_fn.getLabelPosition = function getLabelPosition(axisId, defaultPosition) {\n\t    var option = this.getLabelOptionByAxisId(axisId),\n\t        position = option && (typeof option === 'undefined' ? 'undefined' : _typeof(option)) === 'object' && option.position ? option.position : defaultPosition;\n\t    return {\n\t        isInner: position.indexOf('inner') >= 0,\n\t        isOuter: position.indexOf('outer') >= 0,\n\t        isLeft: position.indexOf('left') >= 0,\n\t        isCenter: position.indexOf('center') >= 0,\n\t        isRight: position.indexOf('right') >= 0,\n\t        isTop: position.indexOf('top') >= 0,\n\t        isMiddle: position.indexOf('middle') >= 0,\n\t        isBottom: position.indexOf('bottom') >= 0\n\t    };\n\t};\n\tc3_axis_fn.getXAxisLabelPosition = function getXAxisLabelPosition() {\n\t    return this.getLabelPosition('x', this.owner.config.axis_rotated ? 'inner-top' : 'inner-right');\n\t};\n\tc3_axis_fn.getYAxisLabelPosition = function getYAxisLabelPosition() {\n\t    return this.getLabelPosition('y', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\n\t};\n\tc3_axis_fn.getY2AxisLabelPosition = function getY2AxisLabelPosition() {\n\t    return this.getLabelPosition('y2', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\n\t};\n\tc3_axis_fn.getLabelPositionById = function getLabelPositionById(id) {\n\t    return id === 'y2' ? this.getY2AxisLabelPosition() : id === 'y' ? this.getYAxisLabelPosition() : this.getXAxisLabelPosition();\n\t};\n\tc3_axis_fn.textForXAxisLabel = function textForXAxisLabel() {\n\t    return this.getLabelText('x');\n\t};\n\tc3_axis_fn.textForYAxisLabel = function textForYAxisLabel() {\n\t    return this.getLabelText('y');\n\t};\n\tc3_axis_fn.textForY2AxisLabel = function textForY2AxisLabel() {\n\t    return this.getLabelText('y2');\n\t};\n\tc3_axis_fn.xForAxisLabel = function xForAxisLabel(forHorizontal, position) {\n\t    var $$ = this.owner;\n\t    if (forHorizontal) {\n\t        return position.isLeft ? 0 : position.isCenter ? $$.width / 2 : $$.width;\n\t    } else {\n\t        return position.isBottom ? -$$.height : position.isMiddle ? -$$.height / 2 : 0;\n\t    }\n\t};\n\tc3_axis_fn.dxForAxisLabel = function dxForAxisLabel(forHorizontal, position) {\n\t    if (forHorizontal) {\n\t        return position.isLeft ? \"0.5em\" : position.isRight ? \"-0.5em\" : \"0\";\n\t    } else {\n\t        return position.isTop ? \"-0.5em\" : position.isBottom ? \"0.5em\" : \"0\";\n\t    }\n\t};\n\tc3_axis_fn.textAnchorForAxisLabel = function textAnchorForAxisLabel(forHorizontal, position) {\n\t    if (forHorizontal) {\n\t        return position.isLeft ? 'start' : position.isCenter ? 'middle' : 'end';\n\t    } else {\n\t        return position.isBottom ? 'start' : position.isMiddle ? 'middle' : 'end';\n\t    }\n\t};\n\tc3_axis_fn.xForXAxisLabel = function xForXAxisLabel() {\n\t    return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\n\t};\n\tc3_axis_fn.xForYAxisLabel = function xForYAxisLabel() {\n\t    return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\n\t};\n\tc3_axis_fn.xForY2AxisLabel = function xForY2AxisLabel() {\n\t    return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\n\t};\n\tc3_axis_fn.dxForXAxisLabel = function dxForXAxisLabel() {\n\t    return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\n\t};\n\tc3_axis_fn.dxForYAxisLabel = function dxForYAxisLabel() {\n\t    return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\n\t};\n\tc3_axis_fn.dxForY2AxisLabel = function dxForY2AxisLabel() {\n\t    return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\n\t};\n\tc3_axis_fn.dyForXAxisLabel = function dyForXAxisLabel() {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        position = this.getXAxisLabelPosition();\n\t    if (config.axis_rotated) {\n\t        return position.isInner ? \"1.2em\" : -25 - this.getMaxTickWidth('x');\n\t    } else {\n\t        return position.isInner ? \"-0.5em\" : config.axis_x_height ? config.axis_x_height - 10 : \"3em\";\n\t    }\n\t};\n\tc3_axis_fn.dyForYAxisLabel = function dyForYAxisLabel() {\n\t    var $$ = this.owner,\n\t        position = this.getYAxisLabelPosition();\n\t    if ($$.config.axis_rotated) {\n\t        return position.isInner ? \"-0.5em\" : \"3em\";\n\t    } else {\n\t        return position.isInner ? \"1.2em\" : -10 - ($$.config.axis_y_inner ? 0 : this.getMaxTickWidth('y') + 10);\n\t    }\n\t};\n\tc3_axis_fn.dyForY2AxisLabel = function dyForY2AxisLabel() {\n\t    var $$ = this.owner,\n\t        position = this.getY2AxisLabelPosition();\n\t    if ($$.config.axis_rotated) {\n\t        return position.isInner ? \"1.2em\" : \"-2.2em\";\n\t    } else {\n\t        return position.isInner ? \"-0.5em\" : 15 + ($$.config.axis_y2_inner ? 0 : this.getMaxTickWidth('y2') + 15);\n\t    }\n\t};\n\tc3_axis_fn.textAnchorForXAxisLabel = function textAnchorForXAxisLabel() {\n\t    var $$ = this.owner;\n\t    return this.textAnchorForAxisLabel(!$$.config.axis_rotated, this.getXAxisLabelPosition());\n\t};\n\tc3_axis_fn.textAnchorForYAxisLabel = function textAnchorForYAxisLabel() {\n\t    var $$ = this.owner;\n\t    return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getYAxisLabelPosition());\n\t};\n\tc3_axis_fn.textAnchorForY2AxisLabel = function textAnchorForY2AxisLabel() {\n\t    var $$ = this.owner;\n\t    return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getY2AxisLabelPosition());\n\t};\n\tc3_axis_fn.getMaxTickWidth = function getMaxTickWidth(id, withoutRecompute) {\n\t    var $$ = this.owner,\n\t        config = $$.config,\n\t        maxWidth = 0,\n\t        targetsToShow,\n\t        scale,\n\t        axis,\n\t        dummy,\n\t        svg;\n\t    if (withoutRecompute && $$.currentMaxTickWidths[id]) {\n\t        return $$.currentMaxTickWidths[id];\n\t    }\n\t    if ($$.svg) {\n\t        targetsToShow = $$.filterTargetsToShow($$.data.targets);\n\t        if (id === 'y') {\n\t            scale = $$.y.copy().domain($$.getYDomain(targetsToShow, 'y'));\n\t            axis = this.getYAxis(scale, $$.yOrient, config.axis_y_tick_format, $$.yAxisTickValues, false, true, true);\n\t        } else if (id === 'y2') {\n\t            scale = $$.y2.copy().domain($$.getYDomain(targetsToShow, 'y2'));\n\t            axis = this.getYAxis(scale, $$.y2Orient, config.axis_y2_tick_format, $$.y2AxisTickValues, false, true, true);\n\t        } else {\n\t            scale = $$.x.copy().domain($$.getXDomain(targetsToShow));\n\t            axis = this.getXAxis(scale, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, false, true, true);\n\t            this.updateXAxisTickValues(targetsToShow, axis);\n\t        }\n\t        dummy = $$.d3.select('body').append('div').classed('c3', true);\n\t        svg = dummy.append(\"svg\").style('visibility', 'hidden').style('position', 'fixed').style('top', 0).style('left', 0), svg.append('g').call(axis).each(function () {\n\t            $$.d3.select(this).selectAll('text').each(function () {\n\t                var box = this.getBoundingClientRect();\n\t                if (maxWidth < box.width) {\n\t                    maxWidth = box.width;\n\t                }\n\t            });\n\t            dummy.remove();\n\t        });\n\t    }\n\t    $$.currentMaxTickWidths[id] = maxWidth <= 0 ? $$.currentMaxTickWidths[id] : maxWidth;\n\t    return $$.currentMaxTickWidths[id];\n\t};\n\t\n\tc3_axis_fn.updateLabels = function updateLabels(withTransition) {\n\t    var $$ = this.owner;\n\t    var axisXLabel = $$.main.select('.' + CLASS.axisX + ' .' + CLASS.axisXLabel),\n\t        axisYLabel = $$.main.select('.' + CLASS.axisY + ' .' + CLASS.axisYLabel),\n\t        axisY2Label = $$.main.select('.' + CLASS.axisY2 + ' .' + CLASS.axisY2Label);\n\t    (withTransition ? axisXLabel.transition() : axisXLabel).attr(\"x\", this.xForXAxisLabel.bind(this)).attr(\"dx\", this.dxForXAxisLabel.bind(this)).attr(\"dy\", this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));\n\t    (withTransition ? axisYLabel.transition() : axisYLabel).attr(\"x\", this.xForYAxisLabel.bind(this)).attr(\"dx\", this.dxForYAxisLabel.bind(this)).attr(\"dy\", this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));\n\t    (withTransition ? axisY2Label.transition() : axisY2Label).attr(\"x\", this.xForY2AxisLabel.bind(this)).attr(\"dx\", this.dxForY2AxisLabel.bind(this)).attr(\"dy\", this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this));\n\t};\n\tc3_axis_fn.getPadding = function getPadding(padding, key, defaultValue, domainLength) {\n\t    var p = typeof padding === 'number' ? padding : padding[key];\n\t    if (!isValue(p)) {\n\t        return defaultValue;\n\t    }\n\t    if (padding.unit === 'ratio') {\n\t        return padding[key] * domainLength;\n\t    }\n\t    // assume padding is pixels if unit is not specified\n\t    return this.convertPixelsToAxisPadding(p, domainLength);\n\t};\n\tc3_axis_fn.convertPixelsToAxisPadding = function convertPixelsToAxisPadding(pixels, domainLength) {\n\t    var $$ = this.owner,\n\t        length = $$.config.axis_rotated ? $$.width : $$.height;\n\t    return domainLength * (pixels / length);\n\t};\n\tc3_axis_fn.generateTickValues = function generateTickValues(values, tickCount, forTimeSeries) {\n\t    var tickValues = values,\n\t        targetCount,\n\t        start,\n\t        end,\n\t        count,\n\t        interval,\n\t        i,\n\t        tickValue;\n\t    if (tickCount) {\n\t        targetCount = isFunction(tickCount) ? tickCount() : tickCount;\n\t        // compute ticks according to tickCount\n\t        if (targetCount === 1) {\n\t            tickValues = [values[0]];\n\t        } else if (targetCount === 2) {\n\t            tickValues = [values[0], values[values.length - 1]];\n\t        } else if (targetCount > 2) {\n\t            count = targetCount - 2;\n\t            start = values[0];\n\t            end = values[values.length - 1];\n\t            interval = (end - start) / (count + 1);\n\t            // re-construct unique values\n\t            tickValues = [start];\n\t            for (i = 0; i < count; i++) {\n\t                tickValue = +start + interval * (i + 1);\n\t                tickValues.push(forTimeSeries ? new Date(tickValue) : tickValue);\n\t            }\n\t            tickValues.push(end);\n\t        }\n\t    }\n\t    if (!forTimeSeries) {\n\t        tickValues = tickValues.sort(function (a, b) {\n\t            return a - b;\n\t        });\n\t    }\n\t    return tickValues;\n\t};\n\tc3_axis_fn.generateTransitions = function generateTransitions(duration) {\n\t    var $$ = this.owner,\n\t        axes = $$.axes;\n\t    return {\n\t        axisX: duration ? axes.x.transition().duration(duration) : axes.x,\n\t        axisY: duration ? axes.y.transition().duration(duration) : axes.y,\n\t        axisY2: duration ? axes.y2.transition().duration(duration) : axes.y2,\n\t        axisSubX: duration ? axes.subx.transition().duration(duration) : axes.subx\n\t    };\n\t};\n\tc3_axis_fn.redraw = function redraw(transitions, isHidden) {\n\t    var $$ = this.owner;\n\t    $$.axes.x.style(\"opacity\", isHidden ? 0 : 1);\n\t    $$.axes.y.style(\"opacity\", isHidden ? 0 : 1);\n\t    $$.axes.y2.style(\"opacity\", isHidden ? 0 : 1);\n\t    $$.axes.subx.style(\"opacity\", isHidden ? 0 : 1);\n\t    transitions.axisX.call($$.xAxis);\n\t    transitions.axisY.call($$.yAxis);\n\t    transitions.axisY2.call($$.y2Axis);\n\t    transitions.axisSubX.call($$.subXAxis);\n\t};\n\t\n\tvar c3 = { version: \"0.4.21\" };\n\t\n\tvar c3_chart_fn;\n\tvar c3_chart_internal_fn;\n\t\n\tfunction Component(owner, componentKey, fn) {\n\t    this.owner = owner;\n\t    c3.chart.internal[componentKey] = fn;\n\t}\n\t\n\tfunction Chart(config) {\n\t    var $$ = this.internal = new ChartInternal(this);\n\t    $$.loadConfig(config);\n\t\n\t    $$.beforeInit(config);\n\t    $$.init();\n\t    $$.afterInit(config);\n\t\n\t    // bind \"this\" to nested API\n\t    (function bindThis(fn, target, argThis) {\n\t        Object.keys(fn).forEach(function (key) {\n\t            target[key] = fn[key].bind(argThis);\n\t            if (Object.keys(fn[key]).length > 0) {\n\t                bindThis(fn[key], target[key], argThis);\n\t            }\n\t        });\n\t    })(c3_chart_fn, this, this);\n\t}\n\t\n\tfunction ChartInternal(api) {\n\t    var $$ = this;\n\t    $$.d3 = window.d3 ? window.d3 :  true ? __webpack_require__(61) : undefined;\n\t    $$.api = api;\n\t    $$.config = $$.getDefaultConfig();\n\t    $$.data = {};\n\t    $$.cache = {};\n\t    $$.axes = {};\n\t}\n\t\n\tc3.generate = function (config) {\n\t    return new Chart(config);\n\t};\n\t\n\tc3.chart = {\n\t    fn: Chart.prototype,\n\t    internal: {\n\t        fn: ChartInternal.prototype\n\t    }\n\t};\n\tc3_chart_fn = c3.chart.fn;\n\tc3_chart_internal_fn = c3.chart.internal.fn;\n\t\n\tc3_chart_internal_fn.beforeInit = function () {\n\t    // can do something\n\t};\n\tc3_chart_internal_fn.afterInit = function () {\n\t    // can do something\n\t};\n\tc3_chart_internal_fn.init = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t\n\t    $$.initParams();\n\t\n\t    if (config.data_url) {\n\t        $$.convertUrlToData(config.data_url, config.data_mimeType, config.data_headers, config.data_keys, $$.initWithData);\n\t    } else if (config.data_json) {\n\t        $$.initWithData($$.convertJsonToData(config.data_json, config.data_keys));\n\t    } else if (config.data_rows) {\n\t        $$.initWithData($$.convertRowsToData(config.data_rows));\n\t    } else if (config.data_columns) {\n\t        $$.initWithData($$.convertColumnsToData(config.data_columns));\n\t    } else {\n\t        throw Error('url or json or rows or columns is required.');\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.initParams = function () {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config;\n\t\n\t    // MEMO: clipId needs to be unique because it conflicts when multiple charts exist\n\t    $$.clipId = \"c3-\" + +new Date() + '-clip', $$.clipIdForXAxis = $$.clipId + '-xaxis', $$.clipIdForYAxis = $$.clipId + '-yaxis', $$.clipIdForGrid = $$.clipId + '-grid', $$.clipIdForSubchart = $$.clipId + '-subchart', $$.clipPath = $$.getClipPath($$.clipId), $$.clipPathForXAxis = $$.getClipPath($$.clipIdForXAxis), $$.clipPathForYAxis = $$.getClipPath($$.clipIdForYAxis);\n\t    $$.clipPathForGrid = $$.getClipPath($$.clipIdForGrid), $$.clipPathForSubchart = $$.getClipPath($$.clipIdForSubchart), $$.dragStart = null;\n\t    $$.dragging = false;\n\t    $$.flowing = false;\n\t    $$.cancelClick = false;\n\t    $$.mouseover = false;\n\t    $$.transiting = false;\n\t\n\t    $$.color = $$.generateColor();\n\t    $$.levelColor = $$.generateLevelColor();\n\t\n\t    $$.dataTimeFormat = config.data_xLocaltime ? d3.time.format : d3.time.format.utc;\n\t    $$.axisTimeFormat = config.axis_x_localtime ? d3.time.format : d3.time.format.utc;\n\t    $$.defaultAxisTimeFormat = $$.axisTimeFormat.multi([[\".%L\", function (d) {\n\t        return d.getMilliseconds();\n\t    }], [\":%S\", function (d) {\n\t        return d.getSeconds();\n\t    }], [\"%I:%M\", function (d) {\n\t        return d.getMinutes();\n\t    }], [\"%I %p\", function (d) {\n\t        return d.getHours();\n\t    }], [\"%-m/%-d\", function (d) {\n\t        return d.getDay() && d.getDate() !== 1;\n\t    }], [\"%-m/%-d\", function (d) {\n\t        return d.getDate() !== 1;\n\t    }], [\"%-m/%-d\", function (d) {\n\t        return d.getMonth();\n\t    }], [\"%Y/%-m/%-d\", function () {\n\t        return true;\n\t    }]]);\n\t\n\t    $$.hiddenTargetIds = [];\n\t    $$.hiddenLegendIds = [];\n\t    $$.focusedTargetIds = [];\n\t    $$.defocusedTargetIds = [];\n\t\n\t    $$.xOrient = config.axis_rotated ? \"left\" : \"bottom\";\n\t    $$.yOrient = config.axis_rotated ? config.axis_y_inner ? \"top\" : \"bottom\" : config.axis_y_inner ? \"right\" : \"left\";\n\t    $$.y2Orient = config.axis_rotated ? config.axis_y2_inner ? \"bottom\" : \"top\" : config.axis_y2_inner ? \"left\" : \"right\";\n\t    $$.subXOrient = config.axis_rotated ? \"left\" : \"bottom\";\n\t\n\t    $$.isLegendRight = config.legend_position === 'right';\n\t    $$.isLegendInset = config.legend_position === 'inset';\n\t    $$.isLegendTop = config.legend_inset_anchor === 'top-left' || config.legend_inset_anchor === 'top-right';\n\t    $$.isLegendLeft = config.legend_inset_anchor === 'top-left' || config.legend_inset_anchor === 'bottom-left';\n\t    $$.legendStep = 0;\n\t    $$.legendItemWidth = 0;\n\t    $$.legendItemHeight = 0;\n\t\n\t    $$.currentMaxTickWidths = {\n\t        x: 0,\n\t        y: 0,\n\t        y2: 0\n\t    };\n\t\n\t    $$.rotated_padding_left = 30;\n\t    $$.rotated_padding_right = config.axis_rotated && !config.axis_x_show ? 0 : 30;\n\t    $$.rotated_padding_top = 5;\n\t\n\t    $$.withoutFadeIn = {};\n\t\n\t    $$.intervalForObserveInserted = undefined;\n\t\n\t    $$.axes.subx = d3.selectAll([]); // needs when excluding subchart.js\n\t};\n\t\n\tc3_chart_internal_fn.initChartElements = function () {\n\t    if (this.initBar) {\n\t        this.initBar();\n\t    }\n\t    if (this.initLine) {\n\t        this.initLine();\n\t    }\n\t    if (this.initArc) {\n\t        this.initArc();\n\t    }\n\t    if (this.initGauge) {\n\t        this.initGauge();\n\t    }\n\t    if (this.initText) {\n\t        this.initText();\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.initWithData = function (data) {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config;\n\t    var defs,\n\t        main,\n\t        binding = true;\n\t\n\t    $$.axis = new Axis($$);\n\t\n\t    if ($$.initPie) {\n\t        $$.initPie();\n\t    }\n\t    if ($$.initBrush) {\n\t        $$.initBrush();\n\t    }\n\t    if ($$.initZoom) {\n\t        $$.initZoom();\n\t    }\n\t\n\t    if (!config.bindto) {\n\t        $$.selectChart = d3.selectAll([]);\n\t    } else if (typeof config.bindto.node === 'function') {\n\t        $$.selectChart = config.bindto;\n\t    } else {\n\t        $$.selectChart = d3.select(config.bindto);\n\t    }\n\t    if ($$.selectChart.empty()) {\n\t        $$.selectChart = d3.select(document.createElement('div')).style('opacity', 0);\n\t        $$.observeInserted($$.selectChart);\n\t        binding = false;\n\t    }\n\t    $$.selectChart.html(\"\").classed(\"c3\", true);\n\t\n\t    // Init data as targets\n\t    $$.data.xs = {};\n\t    $$.data.targets = $$.convertDataToTargets(data);\n\t\n\t    if (config.data_filter) {\n\t        $$.data.targets = $$.data.targets.filter(config.data_filter);\n\t    }\n\t\n\t    // Set targets to hide if needed\n\t    if (config.data_hide) {\n\t        $$.addHiddenTargetIds(config.data_hide === true ? $$.mapToIds($$.data.targets) : config.data_hide);\n\t    }\n\t    if (config.legend_hide) {\n\t        $$.addHiddenLegendIds(config.legend_hide === true ? $$.mapToIds($$.data.targets) : config.legend_hide);\n\t    }\n\t\n\t    // Init sizes and scales\n\t    $$.updateSizes();\n\t    $$.updateScales();\n\t\n\t    // Set domains for each scale\n\t    $$.x.domain(d3.extent($$.getXDomain($$.data.targets)));\n\t    $$.y.domain($$.getYDomain($$.data.targets, 'y'));\n\t    $$.y2.domain($$.getYDomain($$.data.targets, 'y2'));\n\t    $$.subX.domain($$.x.domain());\n\t    $$.subY.domain($$.y.domain());\n\t    $$.subY2.domain($$.y2.domain());\n\t\n\t    // Save original x domain for zoom update\n\t    $$.orgXDomain = $$.x.domain();\n\t\n\t    // Set initialized scales to brush and zoom\n\t    if ($$.brush) {\n\t        $$.brush.scale($$.subX);\n\t    }\n\t    if (config.zoom_enabled) {\n\t        $$.zoom.scale($$.x);\n\t    }\n\t\n\t    /*-- Basic Elements --*/\n\t\n\t    // Define svgs\n\t    $$.svg = $$.selectChart.append(\"svg\").style(\"overflow\", \"hidden\").on('mouseenter', function () {\n\t        return config.onmouseover.call($$);\n\t    }).on('mouseleave', function () {\n\t        return config.onmouseout.call($$);\n\t    });\n\t\n\t    if ($$.config.svg_classname) {\n\t        $$.svg.attr('class', $$.config.svg_classname);\n\t    }\n\t\n\t    // Define defs\n\t    defs = $$.svg.append(\"defs\");\n\t    $$.clipChart = $$.appendClip(defs, $$.clipId);\n\t    $$.clipXAxis = $$.appendClip(defs, $$.clipIdForXAxis);\n\t    $$.clipYAxis = $$.appendClip(defs, $$.clipIdForYAxis);\n\t    $$.clipGrid = $$.appendClip(defs, $$.clipIdForGrid);\n\t    $$.clipSubchart = $$.appendClip(defs, $$.clipIdForSubchart);\n\t    $$.updateSvgSize();\n\t\n\t    // Define regions\n\t    main = $$.main = $$.svg.append(\"g\").attr(\"transform\", $$.getTranslate('main'));\n\t\n\t    if ($$.initSubchart) {\n\t        $$.initSubchart();\n\t    }\n\t    if ($$.initTooltip) {\n\t        $$.initTooltip();\n\t    }\n\t    if ($$.initLegend) {\n\t        $$.initLegend();\n\t    }\n\t    if ($$.initTitle) {\n\t        $$.initTitle();\n\t    }\n\t\n\t    /*-- Main Region --*/\n\t\n\t    // text when empty\n\t    main.append(\"text\").attr(\"class\", CLASS.text + ' ' + CLASS.empty).attr(\"text-anchor\", \"middle\") // horizontal centering of text at x position in all browsers.\n\t    .attr(\"dominant-baseline\", \"middle\"); // vertical centering of text at y position in all browsers, except IE.\n\t\n\t    // Regions\n\t    $$.initRegion();\n\t\n\t    // Grids\n\t    $$.initGrid();\n\t\n\t    // Define g for chart area\n\t    main.append('g').attr(\"clip-path\", $$.clipPath).attr('class', CLASS.chart);\n\t\n\t    // Grid lines\n\t    if (config.grid_lines_front) {\n\t        $$.initGridLines();\n\t    }\n\t\n\t    // Cover whole with rects for events\n\t    $$.initEventRect();\n\t\n\t    // Define g for chart\n\t    $$.initChartElements();\n\t\n\t    // if zoom privileged, insert rect to forefront\n\t    // TODO: is this needed?\n\t    main.insert('rect', config.zoom_privileged ? null : 'g.' + CLASS.regions).attr('class', CLASS.zoomRect).attr('width', $$.width).attr('height', $$.height).style('opacity', 0).on(\"dblclick.zoom\", null);\n\t\n\t    // Set default extent if defined\n\t    if (config.axis_x_extent) {\n\t        $$.brush.extent($$.getDefaultExtent());\n\t    }\n\t\n\t    // Add Axis\n\t    $$.axis.init();\n\t\n\t    // Set targets\n\t    $$.updateTargets($$.data.targets);\n\t\n\t    // Draw with targets\n\t    if (binding) {\n\t        $$.updateDimension();\n\t        $$.config.oninit.call($$);\n\t        $$.redraw({\n\t            withTransition: false,\n\t            withTransform: true,\n\t            withUpdateXDomain: true,\n\t            withUpdateOrgXDomain: true,\n\t            withTransitionForAxis: false\n\t        });\n\t    }\n\t\n\t    // Bind resize event\n\t    $$.bindResize();\n\t\n\t    // export element of the chart\n\t    $$.api.element = $$.selectChart.node();\n\t};\n\t\n\tc3_chart_internal_fn.smoothLines = function (el, type) {\n\t    var $$ = this;\n\t    if (type === 'grid') {\n\t        el.each(function () {\n\t            var g = $$.d3.select(this),\n\t                x1 = g.attr('x1'),\n\t                x2 = g.attr('x2'),\n\t                y1 = g.attr('y1'),\n\t                y2 = g.attr('y2');\n\t            g.attr({\n\t                'x1': Math.ceil(x1),\n\t                'x2': Math.ceil(x2),\n\t                'y1': Math.ceil(y1),\n\t                'y2': Math.ceil(y2)\n\t            });\n\t        });\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.updateSizes = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    var legendHeight = $$.legend ? $$.getLegendHeight() : 0,\n\t        legendWidth = $$.legend ? $$.getLegendWidth() : 0,\n\t        legendHeightForBottom = $$.isLegendRight || $$.isLegendInset ? 0 : legendHeight,\n\t        hasArc = $$.hasArcType(),\n\t        xAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x'),\n\t        subchartHeight = config.subchart_show && !hasArc ? config.subchart_size_height + xAxisHeight : 0;\n\t\n\t    $$.currentWidth = $$.getCurrentWidth();\n\t    $$.currentHeight = $$.getCurrentHeight();\n\t\n\t    // for main\n\t    $$.margin = config.axis_rotated ? {\n\t        top: $$.getHorizontalAxisHeight('y2') + $$.getCurrentPaddingTop(),\n\t        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n\t        bottom: $$.getHorizontalAxisHeight('y') + legendHeightForBottom + $$.getCurrentPaddingBottom(),\n\t        left: subchartHeight + (hasArc ? 0 : $$.getCurrentPaddingLeft())\n\t    } : {\n\t        top: 4 + $$.getCurrentPaddingTop(), // for top tick text\n\t        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n\t        bottom: xAxisHeight + subchartHeight + legendHeightForBottom + $$.getCurrentPaddingBottom(),\n\t        left: hasArc ? 0 : $$.getCurrentPaddingLeft()\n\t    };\n\t\n\t    // for subchart\n\t    $$.margin2 = config.axis_rotated ? {\n\t        top: $$.margin.top,\n\t        right: NaN,\n\t        bottom: 20 + legendHeightForBottom,\n\t        left: $$.rotated_padding_left\n\t    } : {\n\t        top: $$.currentHeight - subchartHeight - legendHeightForBottom,\n\t        right: NaN,\n\t        bottom: xAxisHeight + legendHeightForBottom,\n\t        left: $$.margin.left\n\t    };\n\t\n\t    // for legend\n\t    $$.margin3 = {\n\t        top: 0,\n\t        right: NaN,\n\t        bottom: 0,\n\t        left: 0\n\t    };\n\t    if ($$.updateSizeForLegend) {\n\t        $$.updateSizeForLegend(legendHeight, legendWidth);\n\t    }\n\t\n\t    $$.width = $$.currentWidth - $$.margin.left - $$.margin.right;\n\t    $$.height = $$.currentHeight - $$.margin.top - $$.margin.bottom;\n\t    if ($$.width < 0) {\n\t        $$.width = 0;\n\t    }\n\t    if ($$.height < 0) {\n\t        $$.height = 0;\n\t    }\n\t\n\t    $$.width2 = config.axis_rotated ? $$.margin.left - $$.rotated_padding_left - $$.rotated_padding_right : $$.width;\n\t    $$.height2 = config.axis_rotated ? $$.height : $$.currentHeight - $$.margin2.top - $$.margin2.bottom;\n\t    if ($$.width2 < 0) {\n\t        $$.width2 = 0;\n\t    }\n\t    if ($$.height2 < 0) {\n\t        $$.height2 = 0;\n\t    }\n\t\n\t    // for arc\n\t    $$.arcWidth = $$.width - ($$.isLegendRight ? legendWidth + 10 : 0);\n\t    $$.arcHeight = $$.height - ($$.isLegendRight ? 0 : 10);\n\t    if ($$.hasType('gauge') && !config.gauge_fullCircle) {\n\t        $$.arcHeight += $$.height - $$.getGaugeLabelHeight();\n\t    }\n\t    if ($$.updateRadius) {\n\t        $$.updateRadius();\n\t    }\n\t\n\t    if ($$.isLegendRight && hasArc) {\n\t        $$.margin3.left = $$.arcWidth / 2 + $$.radiusExpanded * 1.1;\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.updateTargets = function (targets) {\n\t    var $$ = this;\n\t\n\t    /*-- Main --*/\n\t\n\t    //-- Text --//\n\t    $$.updateTargetsForText(targets);\n\t\n\t    //-- Bar --//\n\t    $$.updateTargetsForBar(targets);\n\t\n\t    //-- Line --//\n\t    $$.updateTargetsForLine(targets);\n\t\n\t    //-- Arc --//\n\t    if ($$.hasArcType() && $$.updateTargetsForArc) {\n\t        $$.updateTargetsForArc(targets);\n\t    }\n\t\n\t    /*-- Sub --*/\n\t\n\t    if ($$.updateTargetsForSubchart) {\n\t        $$.updateTargetsForSubchart(targets);\n\t    }\n\t\n\t    // Fade-in each chart\n\t    $$.showTargets();\n\t};\n\tc3_chart_internal_fn.showTargets = function () {\n\t    var $$ = this;\n\t    $$.svg.selectAll('.' + CLASS.target).filter(function (d) {\n\t        return $$.isTargetToShow(d.id);\n\t    }).transition().duration($$.config.transition_duration).style(\"opacity\", 1);\n\t};\n\t\n\tc3_chart_internal_fn.redraw = function (options, transitions) {\n\t    var $$ = this,\n\t        main = $$.main,\n\t        d3 = $$.d3,\n\t        config = $$.config;\n\t    var areaIndices = $$.getShapeIndices($$.isAreaType),\n\t        barIndices = $$.getShapeIndices($$.isBarType),\n\t        lineIndices = $$.getShapeIndices($$.isLineType);\n\t    var withY, withSubchart, withTransition, withTransitionForExit, withTransitionForAxis, withTransform, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain, withLegend, withEventRect, withDimension, withUpdateXAxis;\n\t    var hideAxis = $$.hasArcType();\n\t    var drawArea, drawBar, drawLine, xForText, yForText;\n\t    var duration, durationForExit, durationForAxis;\n\t    var waitForDraw, flow;\n\t    var targetsToShow = $$.filterTargetsToShow($$.data.targets),\n\t        tickValues,\n\t        i,\n\t        intervalForCulling,\n\t        xDomainForZoom;\n\t    var xv = $$.xv.bind($$),\n\t        cx,\n\t        cy;\n\t\n\t    options = options || {};\n\t    withY = getOption(options, \"withY\", true);\n\t    withSubchart = getOption(options, \"withSubchart\", true);\n\t    withTransition = getOption(options, \"withTransition\", true);\n\t    withTransform = getOption(options, \"withTransform\", false);\n\t    withUpdateXDomain = getOption(options, \"withUpdateXDomain\", false);\n\t    withUpdateOrgXDomain = getOption(options, \"withUpdateOrgXDomain\", false);\n\t    withTrimXDomain = getOption(options, \"withTrimXDomain\", true);\n\t    withUpdateXAxis = getOption(options, \"withUpdateXAxis\", withUpdateXDomain);\n\t    withLegend = getOption(options, \"withLegend\", false);\n\t    withEventRect = getOption(options, \"withEventRect\", true);\n\t    withDimension = getOption(options, \"withDimension\", true);\n\t    withTransitionForExit = getOption(options, \"withTransitionForExit\", withTransition);\n\t    withTransitionForAxis = getOption(options, \"withTransitionForAxis\", withTransition);\n\t\n\t    duration = withTransition ? config.transition_duration : 0;\n\t    durationForExit = withTransitionForExit ? duration : 0;\n\t    durationForAxis = withTransitionForAxis ? duration : 0;\n\t\n\t    transitions = transitions || $$.axis.generateTransitions(durationForAxis);\n\t\n\t    // update legend and transform each g\n\t    if (withLegend && config.legend_show) {\n\t        $$.updateLegend($$.mapToIds($$.data.targets), options, transitions);\n\t    } else if (withDimension) {\n\t        // need to update dimension (e.g. axis.y.tick.values) because y tick values should change\n\t        // no need to update axis in it because they will be updated in redraw()\n\t        $$.updateDimension(true);\n\t    }\n\t\n\t    // MEMO: needed for grids calculation\n\t    if ($$.isCategorized() && targetsToShow.length === 0) {\n\t        $$.x.domain([0, $$.axes.x.selectAll('.tick').size()]);\n\t    }\n\t\n\t    if (targetsToShow.length) {\n\t        $$.updateXDomain(targetsToShow, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain);\n\t        if (!config.axis_x_tick_values) {\n\t            tickValues = $$.axis.updateXAxisTickValues(targetsToShow);\n\t        }\n\t    } else {\n\t        $$.xAxis.tickValues([]);\n\t        $$.subXAxis.tickValues([]);\n\t    }\n\t\n\t    if (config.zoom_rescale && !options.flow) {\n\t        xDomainForZoom = $$.x.orgDomain();\n\t    }\n\t\n\t    $$.y.domain($$.getYDomain(targetsToShow, 'y', xDomainForZoom));\n\t    $$.y2.domain($$.getYDomain(targetsToShow, 'y2', xDomainForZoom));\n\t\n\t    if (!config.axis_y_tick_values && config.axis_y_tick_count) {\n\t        $$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(), config.axis_y_tick_count));\n\t    }\n\t    if (!config.axis_y2_tick_values && config.axis_y2_tick_count) {\n\t        $$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(), config.axis_y2_tick_count));\n\t    }\n\t\n\t    // axes\n\t    $$.axis.redraw(transitions, hideAxis);\n\t\n\t    // Update axis label\n\t    $$.axis.updateLabels(withTransition);\n\t\n\t    // show/hide if manual culling needed\n\t    if ((withUpdateXDomain || withUpdateXAxis) && targetsToShow.length) {\n\t        if (config.axis_x_tick_culling && tickValues) {\n\t            for (i = 1; i < tickValues.length; i++) {\n\t                if (tickValues.length / i < config.axis_x_tick_culling_max) {\n\t                    intervalForCulling = i;\n\t                    break;\n\t                }\n\t            }\n\t            $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').each(function (e) {\n\t                var index = tickValues.indexOf(e);\n\t                if (index >= 0) {\n\t                    d3.select(this).style('display', index % intervalForCulling ? 'none' : 'block');\n\t                }\n\t            });\n\t        } else {\n\t            $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').style('display', 'block');\n\t        }\n\t    }\n\t\n\t    // setup drawer - MEMO: these must be called after axis updated\n\t    drawArea = $$.generateDrawArea ? $$.generateDrawArea(areaIndices, false) : undefined;\n\t    drawBar = $$.generateDrawBar ? $$.generateDrawBar(barIndices) : undefined;\n\t    drawLine = $$.generateDrawLine ? $$.generateDrawLine(lineIndices, false) : undefined;\n\t    xForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, true);\n\t    yForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, false);\n\t\n\t    // Update sub domain\n\t    if (withY) {\n\t        $$.subY.domain($$.getYDomain(targetsToShow, 'y'));\n\t        $$.subY2.domain($$.getYDomain(targetsToShow, 'y2'));\n\t    }\n\t\n\t    // xgrid focus\n\t    $$.updateXgridFocus();\n\t\n\t    // Data empty label positioning and text.\n\t    main.select(\"text.\" + CLASS.text + '.' + CLASS.empty).attr(\"x\", $$.width / 2).attr(\"y\", $$.height / 2).text(config.data_empty_label_text).transition().style('opacity', targetsToShow.length ? 0 : 1);\n\t\n\t    // grid\n\t    $$.updateGrid(duration);\n\t\n\t    // rect for regions\n\t    $$.updateRegion(duration);\n\t\n\t    // bars\n\t    $$.updateBar(durationForExit);\n\t\n\t    // lines, areas and cricles\n\t    $$.updateLine(durationForExit);\n\t    $$.updateArea(durationForExit);\n\t    $$.updateCircle();\n\t\n\t    // text\n\t    if ($$.hasDataLabel()) {\n\t        $$.updateText(durationForExit);\n\t    }\n\t\n\t    // title\n\t    if ($$.redrawTitle) {\n\t        $$.redrawTitle();\n\t    }\n\t\n\t    // arc\n\t    if ($$.redrawArc) {\n\t        $$.redrawArc(duration, durationForExit, withTransform);\n\t    }\n\t\n\t    // subchart\n\t    if ($$.redrawSubchart) {\n\t        $$.redrawSubchart(withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices);\n\t    }\n\t\n\t    // circles for select\n\t    main.selectAll('.' + CLASS.selectedCircles).filter($$.isBarType.bind($$)).selectAll('circle').remove();\n\t\n\t    // event rects will redrawn when flow called\n\t    if (config.interaction_enabled && !options.flow && withEventRect) {\n\t        $$.redrawEventRect();\n\t        if ($$.updateZoom) {\n\t            $$.updateZoom();\n\t        }\n\t    }\n\t\n\t    // update circleY based on updated parameters\n\t    $$.updateCircleY();\n\t\n\t    // generate circle x/y functions depending on updated params\n\t    cx = ($$.config.axis_rotated ? $$.circleY : $$.circleX).bind($$);\n\t    cy = ($$.config.axis_rotated ? $$.circleX : $$.circleY).bind($$);\n\t\n\t    if (options.flow) {\n\t        flow = $$.generateFlow({\n\t            targets: targetsToShow,\n\t            flow: options.flow,\n\t            duration: options.flow.duration,\n\t            drawBar: drawBar,\n\t            drawLine: drawLine,\n\t            drawArea: drawArea,\n\t            cx: cx,\n\t            cy: cy,\n\t            xv: xv,\n\t            xForText: xForText,\n\t            yForText: yForText\n\t        });\n\t    }\n\t\n\t    if ((duration || flow) && $$.isTabVisible()) {\n\t        // Only use transition if tab visible. See #938.\n\t        // transition should be derived from one transition\n\t        d3.transition().duration(duration).each(function () {\n\t            var transitionsToWait = [];\n\t\n\t            // redraw and gather transitions\n\t            [$$.redrawBar(drawBar, true), $$.redrawLine(drawLine, true), $$.redrawArea(drawArea, true), $$.redrawCircle(cx, cy, true), $$.redrawText(xForText, yForText, options.flow, true), $$.redrawRegion(true), $$.redrawGrid(true)].forEach(function (transitions) {\n\t                transitions.forEach(function (transition) {\n\t                    transitionsToWait.push(transition);\n\t                });\n\t            });\n\t\n\t            // Wait for end of transitions to call flow and onrendered callback\n\t            waitForDraw = $$.generateWait();\n\t            transitionsToWait.forEach(function (t) {\n\t                waitForDraw.add(t);\n\t            });\n\t        }).call(waitForDraw, function () {\n\t            if (flow) {\n\t                flow();\n\t            }\n\t            if (config.onrendered) {\n\t                config.onrendered.call($$);\n\t            }\n\t        });\n\t    } else {\n\t        $$.redrawBar(drawBar);\n\t        $$.redrawLine(drawLine);\n\t        $$.redrawArea(drawArea);\n\t        $$.redrawCircle(cx, cy);\n\t        $$.redrawText(xForText, yForText, options.flow);\n\t        $$.redrawRegion();\n\t        $$.redrawGrid();\n\t        if (config.onrendered) {\n\t            config.onrendered.call($$);\n\t        }\n\t    }\n\t\n\t    // update fadein condition\n\t    $$.mapToIds($$.data.targets).forEach(function (id) {\n\t        $$.withoutFadeIn[id] = true;\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.updateAndRedraw = function (options) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        transitions;\n\t    options = options || {};\n\t    // same with redraw\n\t    options.withTransition = getOption(options, \"withTransition\", true);\n\t    options.withTransform = getOption(options, \"withTransform\", false);\n\t    options.withLegend = getOption(options, \"withLegend\", false);\n\t    // NOT same with redraw\n\t    options.withUpdateXDomain = true;\n\t    options.withUpdateOrgXDomain = true;\n\t    options.withTransitionForExit = false;\n\t    options.withTransitionForTransform = getOption(options, \"withTransitionForTransform\", options.withTransition);\n\t    // MEMO: this needs to be called before updateLegend and it means this ALWAYS needs to be called)\n\t    $$.updateSizes();\n\t    // MEMO: called in updateLegend in redraw if withLegend\n\t    if (!(options.withLegend && config.legend_show)) {\n\t        transitions = $$.axis.generateTransitions(options.withTransitionForAxis ? config.transition_duration : 0);\n\t        // Update scales\n\t        $$.updateScales();\n\t        $$.updateSvgSize();\n\t        // Update g positions\n\t        $$.transformAll(options.withTransitionForTransform, transitions);\n\t    }\n\t    // Draw with new sizes & scales\n\t    $$.redraw(options, transitions);\n\t};\n\tc3_chart_internal_fn.redrawWithoutRescale = function () {\n\t    this.redraw({\n\t        withY: false,\n\t        withSubchart: false,\n\t        withEventRect: false,\n\t        withTransitionForAxis: false\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.isTimeSeries = function () {\n\t    return this.config.axis_x_type === 'timeseries';\n\t};\n\tc3_chart_internal_fn.isCategorized = function () {\n\t    return this.config.axis_x_type.indexOf('categor') >= 0;\n\t};\n\tc3_chart_internal_fn.isCustomX = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return !$$.isTimeSeries() && (config.data_x || notEmpty(config.data_xs));\n\t};\n\t\n\tc3_chart_internal_fn.isTimeSeriesY = function () {\n\t    return this.config.axis_y_type === 'timeseries';\n\t};\n\t\n\tc3_chart_internal_fn.getTranslate = function (target) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        x,\n\t        y;\n\t    if (target === 'main') {\n\t        x = asHalfPixel($$.margin.left);\n\t        y = asHalfPixel($$.margin.top);\n\t    } else if (target === 'context') {\n\t        x = asHalfPixel($$.margin2.left);\n\t        y = asHalfPixel($$.margin2.top);\n\t    } else if (target === 'legend') {\n\t        x = $$.margin3.left;\n\t        y = $$.margin3.top;\n\t    } else if (target === 'x') {\n\t        x = 0;\n\t        y = config.axis_rotated ? 0 : $$.height;\n\t    } else if (target === 'y') {\n\t        x = 0;\n\t        y = config.axis_rotated ? $$.height : 0;\n\t    } else if (target === 'y2') {\n\t        x = config.axis_rotated ? 0 : $$.width;\n\t        y = config.axis_rotated ? 1 : 0;\n\t    } else if (target === 'subx') {\n\t        x = 0;\n\t        y = config.axis_rotated ? 0 : $$.height2;\n\t    } else if (target === 'arc') {\n\t        x = $$.arcWidth / 2;\n\t        y = $$.arcHeight / 2 - ($$.hasType('gauge') ? 6 : 0); // to prevent wrong display of min and max label\n\t    }\n\t    return \"translate(\" + x + \",\" + y + \")\";\n\t};\n\tc3_chart_internal_fn.initialOpacity = function (d) {\n\t    return d.value !== null && this.withoutFadeIn[d.id] ? 1 : 0;\n\t};\n\tc3_chart_internal_fn.initialOpacityForCircle = function (d) {\n\t    return d.value !== null && this.withoutFadeIn[d.id] ? this.opacityForCircle(d) : 0;\n\t};\n\tc3_chart_internal_fn.opacityForCircle = function (d) {\n\t    var isPointShouldBeShown = isFunction(this.config.point_show) ? this.config.point_show(d) : this.config.point_show;\n\t    var opacity = isPointShouldBeShown ? 1 : 0;\n\t    return isValue(d.value) ? this.isScatterType(d) ? 0.5 : opacity : 0;\n\t};\n\tc3_chart_internal_fn.opacityForText = function () {\n\t    return this.hasDataLabel() ? 1 : 0;\n\t};\n\tc3_chart_internal_fn.xx = function (d) {\n\t    return d ? this.x(d.x) : null;\n\t};\n\tc3_chart_internal_fn.xv = function (d) {\n\t    var $$ = this,\n\t        value = d.value;\n\t    if ($$.isTimeSeries()) {\n\t        value = $$.parseDate(d.value);\n\t    } else if ($$.isCategorized() && typeof d.value === 'string') {\n\t        value = $$.config.axis_x_categories.indexOf(d.value);\n\t    }\n\t    return Math.ceil($$.x(value));\n\t};\n\tc3_chart_internal_fn.yv = function (d) {\n\t    var $$ = this,\n\t        yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y;\n\t    return Math.ceil(yScale(d.value));\n\t};\n\tc3_chart_internal_fn.subxx = function (d) {\n\t    return d ? this.subX(d.x) : null;\n\t};\n\t\n\tc3_chart_internal_fn.transformMain = function (withTransition, transitions) {\n\t    var $$ = this,\n\t        xAxis,\n\t        yAxis,\n\t        y2Axis;\n\t    if (transitions && transitions.axisX) {\n\t        xAxis = transitions.axisX;\n\t    } else {\n\t        xAxis = $$.main.select('.' + CLASS.axisX);\n\t        if (withTransition) {\n\t            xAxis = xAxis.transition();\n\t        }\n\t    }\n\t    if (transitions && transitions.axisY) {\n\t        yAxis = transitions.axisY;\n\t    } else {\n\t        yAxis = $$.main.select('.' + CLASS.axisY);\n\t        if (withTransition) {\n\t            yAxis = yAxis.transition();\n\t        }\n\t    }\n\t    if (transitions && transitions.axisY2) {\n\t        y2Axis = transitions.axisY2;\n\t    } else {\n\t        y2Axis = $$.main.select('.' + CLASS.axisY2);\n\t        if (withTransition) {\n\t            y2Axis = y2Axis.transition();\n\t        }\n\t    }\n\t    (withTransition ? $$.main.transition() : $$.main).attr(\"transform\", $$.getTranslate('main'));\n\t    xAxis.attr(\"transform\", $$.getTranslate('x'));\n\t    yAxis.attr(\"transform\", $$.getTranslate('y'));\n\t    y2Axis.attr(\"transform\", $$.getTranslate('y2'));\n\t    $$.main.select('.' + CLASS.chartArcs).attr(\"transform\", $$.getTranslate('arc'));\n\t};\n\tc3_chart_internal_fn.transformAll = function (withTransition, transitions) {\n\t    var $$ = this;\n\t    $$.transformMain(withTransition, transitions);\n\t    if ($$.config.subchart_show) {\n\t        $$.transformContext(withTransition, transitions);\n\t    }\n\t    if ($$.legend) {\n\t        $$.transformLegend(withTransition);\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.updateSvgSize = function () {\n\t    var $$ = this,\n\t        brush = $$.svg.select(\".c3-brush .background\");\n\t    $$.svg.attr('width', $$.currentWidth).attr('height', $$.currentHeight);\n\t    $$.svg.selectAll(['#' + $$.clipId, '#' + $$.clipIdForGrid]).select('rect').attr('width', $$.width).attr('height', $$.height);\n\t    $$.svg.select('#' + $$.clipIdForXAxis).select('rect').attr('x', $$.getXAxisClipX.bind($$)).attr('y', $$.getXAxisClipY.bind($$)).attr('width', $$.getXAxisClipWidth.bind($$)).attr('height', $$.getXAxisClipHeight.bind($$));\n\t    $$.svg.select('#' + $$.clipIdForYAxis).select('rect').attr('x', $$.getYAxisClipX.bind($$)).attr('y', $$.getYAxisClipY.bind($$)).attr('width', $$.getYAxisClipWidth.bind($$)).attr('height', $$.getYAxisClipHeight.bind($$));\n\t    $$.svg.select('#' + $$.clipIdForSubchart).select('rect').attr('width', $$.width).attr('height', brush.size() ? brush.attr('height') : 0);\n\t    $$.svg.select('.' + CLASS.zoomRect).attr('width', $$.width).attr('height', $$.height);\n\t    // MEMO: parent div's height will be bigger than svg when <!DOCTYPE html>\n\t    $$.selectChart.style('max-height', $$.currentHeight + \"px\");\n\t};\n\t\n\tc3_chart_internal_fn.updateDimension = function (withoutAxis) {\n\t    var $$ = this;\n\t    if (!withoutAxis) {\n\t        if ($$.config.axis_rotated) {\n\t            $$.axes.x.call($$.xAxis);\n\t            $$.axes.subx.call($$.subXAxis);\n\t        } else {\n\t            $$.axes.y.call($$.yAxis);\n\t            $$.axes.y2.call($$.y2Axis);\n\t        }\n\t    }\n\t    $$.updateSizes();\n\t    $$.updateScales();\n\t    $$.updateSvgSize();\n\t    $$.transformAll(false);\n\t};\n\t\n\tc3_chart_internal_fn.observeInserted = function (selection) {\n\t    var $$ = this,\n\t        observer;\n\t    if (typeof MutationObserver === 'undefined') {\n\t        window.console.error(\"MutationObserver not defined.\");\n\t        return;\n\t    }\n\t    observer = new MutationObserver(function (mutations) {\n\t        mutations.forEach(function (mutation) {\n\t            if (mutation.type === 'childList' && mutation.previousSibling) {\n\t                observer.disconnect();\n\t                // need to wait for completion of load because size calculation requires the actual sizes determined after that completion\n\t                $$.intervalForObserveInserted = window.setInterval(function () {\n\t                    // parentNode will NOT be null when completed\n\t                    if (selection.node().parentNode) {\n\t                        window.clearInterval($$.intervalForObserveInserted);\n\t                        $$.updateDimension();\n\t                        if ($$.brush) {\n\t                            $$.brush.update();\n\t                        }\n\t                        $$.config.oninit.call($$);\n\t                        $$.redraw({\n\t                            withTransform: true,\n\t                            withUpdateXDomain: true,\n\t                            withUpdateOrgXDomain: true,\n\t                            withTransition: false,\n\t                            withTransitionForTransform: false,\n\t                            withLegend: true\n\t                        });\n\t                        selection.transition().style('opacity', 1);\n\t                    }\n\t                }, 10);\n\t            }\n\t        });\n\t    });\n\t    observer.observe(selection.node(), { attributes: true, childList: true, characterData: true });\n\t};\n\t\n\tc3_chart_internal_fn.bindResize = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t\n\t    $$.resizeFunction = $$.generateResize(); // need to call .remove\n\t\n\t    $$.resizeFunction.add(function () {\n\t        config.onresize.call($$);\n\t    });\n\t    if (config.resize_auto) {\n\t        $$.resizeFunction.add(function () {\n\t            if ($$.resizeTimeout !== undefined) {\n\t                window.clearTimeout($$.resizeTimeout);\n\t            }\n\t            $$.resizeTimeout = window.setTimeout(function () {\n\t                delete $$.resizeTimeout;\n\t                $$.api.flush();\n\t            }, 100);\n\t        });\n\t    }\n\t    $$.resizeFunction.add(function () {\n\t        config.onresized.call($$);\n\t    });\n\t\n\t    $$.resizeIfElementDisplayed = function () {\n\t        // if element not displayed skip it\n\t        if ($$.api == null || !$$.api.element.offsetParent) {\n\t            return;\n\t        }\n\t\n\t        $$.resizeFunction();\n\t    };\n\t\n\t    if (window.attachEvent) {\n\t        window.attachEvent('onresize', $$.resizeIfElementDisplayed);\n\t    } else if (window.addEventListener) {\n\t        window.addEventListener('resize', $$.resizeIfElementDisplayed, false);\n\t    } else {\n\t        // fallback to this, if this is a very old browser\n\t        var wrapper = window.onresize;\n\t        if (!wrapper) {\n\t            // create a wrapper that will call all charts\n\t            wrapper = $$.generateResize();\n\t        } else if (!wrapper.add || !wrapper.remove) {\n\t            // there is already a handler registered, make sure we call it too\n\t            wrapper = $$.generateResize();\n\t            wrapper.add(window.onresize);\n\t        }\n\t        // add this graph to the wrapper, we will be removed if the user calls destroy\n\t        wrapper.add($$.resizeFunction);\n\t        window.onresize = function () {\n\t            // if element not displayed skip it\n\t            if (!$$.api.element.offsetParent) {\n\t                return;\n\t            }\n\t\n\t            wrapper();\n\t        };\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.generateResize = function () {\n\t    var resizeFunctions = [];\n\t    function callResizeFunctions() {\n\t        resizeFunctions.forEach(function (f) {\n\t            f();\n\t        });\n\t    }\n\t    callResizeFunctions.add = function (f) {\n\t        resizeFunctions.push(f);\n\t    };\n\t    callResizeFunctions.remove = function (f) {\n\t        for (var i = 0; i < resizeFunctions.length; i++) {\n\t            if (resizeFunctions[i] === f) {\n\t                resizeFunctions.splice(i, 1);\n\t                break;\n\t            }\n\t        }\n\t    };\n\t    return callResizeFunctions;\n\t};\n\t\n\tc3_chart_internal_fn.endall = function (transition, callback) {\n\t    var n = 0;\n\t    transition.each(function () {\n\t        ++n;\n\t    }).each(\"end\", function () {\n\t        if (! --n) {\n\t            callback.apply(this, arguments);\n\t        }\n\t    });\n\t};\n\tc3_chart_internal_fn.generateWait = function () {\n\t    var transitionsToWait = [],\n\t        f = function f(transition, callback) {\n\t        var timer = setInterval(function () {\n\t            var done = 0;\n\t            transitionsToWait.forEach(function (t) {\n\t                if (t.empty()) {\n\t                    done += 1;\n\t                    return;\n\t                }\n\t                try {\n\t                    t.transition();\n\t                } catch (e) {\n\t                    done += 1;\n\t                }\n\t            });\n\t            if (done === transitionsToWait.length) {\n\t                clearInterval(timer);\n\t                if (callback) {\n\t                    callback();\n\t                }\n\t            }\n\t        }, 10);\n\t    };\n\t    f.add = function (transition) {\n\t        transitionsToWait.push(transition);\n\t    };\n\t    return f;\n\t};\n\t\n\tc3_chart_internal_fn.parseDate = function (date) {\n\t    var $$ = this,\n\t        parsedDate;\n\t    if (date instanceof Date) {\n\t        parsedDate = date;\n\t    } else if (typeof date === 'string') {\n\t        parsedDate = $$.dataTimeFormat($$.config.data_xFormat).parse(date);\n\t    } else if ((typeof date === 'undefined' ? 'undefined' : _typeof(date)) === 'object') {\n\t        parsedDate = new Date(+date);\n\t    } else if (typeof date === 'number' && !isNaN(date)) {\n\t        parsedDate = new Date(+date);\n\t    }\n\t    if (!parsedDate || isNaN(+parsedDate)) {\n\t        window.console.error(\"Failed to parse x '\" + date + \"' to Date object\");\n\t    }\n\t    return parsedDate;\n\t};\n\t\n\tc3_chart_internal_fn.isTabVisible = function () {\n\t    var hidden;\n\t    if (typeof document.hidden !== \"undefined\") {\n\t        // Opera 12.10 and Firefox 18 and later support\n\t        hidden = \"hidden\";\n\t    } else if (typeof document.mozHidden !== \"undefined\") {\n\t        hidden = \"mozHidden\";\n\t    } else if (typeof document.msHidden !== \"undefined\") {\n\t        hidden = \"msHidden\";\n\t    } else if (typeof document.webkitHidden !== \"undefined\") {\n\t        hidden = \"webkitHidden\";\n\t    }\n\t\n\t    return document[hidden] ? false : true;\n\t};\n\t\n\tc3_chart_internal_fn.isValue = isValue;\n\tc3_chart_internal_fn.isFunction = isFunction;\n\tc3_chart_internal_fn.isString = isString;\n\tc3_chart_internal_fn.isUndefined = isUndefined;\n\tc3_chart_internal_fn.isDefined = isDefined;\n\tc3_chart_internal_fn.ceil10 = ceil10;\n\tc3_chart_internal_fn.asHalfPixel = asHalfPixel;\n\tc3_chart_internal_fn.diffDomain = diffDomain;\n\tc3_chart_internal_fn.isEmpty = isEmpty;\n\tc3_chart_internal_fn.notEmpty = notEmpty;\n\tc3_chart_internal_fn.notEmpty = notEmpty;\n\tc3_chart_internal_fn.getOption = getOption;\n\tc3_chart_internal_fn.hasValue = hasValue;\n\tc3_chart_internal_fn.sanitise = sanitise;\n\tc3_chart_internal_fn.getPathBox = getPathBox;\n\tc3_chart_internal_fn.CLASS = CLASS;\n\t\n\t/* jshint ignore:start */\n\t\n\t// PhantomJS doesn't have support for Function.prototype.bind, which has caused confusion. Use\n\t// this polyfill to avoid the confusion.\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\n\t\n\tif (!Function.prototype.bind) {\n\t    Function.prototype.bind = function (oThis) {\n\t        if (typeof this !== 'function') {\n\t            // closest thing possible to the ECMAScript 5\n\t            // internal IsCallable function\n\t            throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n\t        }\n\t\n\t        var aArgs = Array.prototype.slice.call(arguments, 1),\n\t            fToBind = this,\n\t            fNOP = function fNOP() {},\n\t            fBound = function fBound() {\n\t            return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n\t        };\n\t\n\t        fNOP.prototype = this.prototype;\n\t        fBound.prototype = new fNOP();\n\t\n\t        return fBound;\n\t    };\n\t}\n\t\n\t// SVGPathSeg API polyfill\n\t// https://github.com/progers/pathseg\n\t//\n\t// This is a drop-in replacement for the SVGPathSeg and SVGPathSegList APIs that were removed from\n\t// SVG2 (https://lists.w3.org/Archives/Public/www-svg/2015Jun/0044.html), including the latest spec\n\t// changes which were implemented in Firefox 43 and Chrome 46.\n\t\n\t(function () {\n\t    if (!(\"SVGPathSeg\" in window)) {\n\t        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\n\t        window.SVGPathSeg = function (type, typeAsLetter, owningPathSegList) {\n\t            this.pathSegType = type;\n\t            this.pathSegTypeAsLetter = typeAsLetter;\n\t            this._owningPathSegList = owningPathSegList;\n\t        };\n\t\n\t        window.SVGPathSeg.prototype.classname = \"SVGPathSeg\";\n\t\n\t        window.SVGPathSeg.PATHSEG_UNKNOWN = 0;\n\t        window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;\n\t        window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\n\t        window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;\n\t        window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;\n\t        window.SVGPathSeg.PATHSEG_LINETO_REL = 5;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\n\t        window.SVGPathSeg.PATHSEG_ARC_ABS = 10;\n\t        window.SVGPathSeg.PATHSEG_ARC_REL = 11;\n\t        window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\n\t        window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\n\t        window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\n\t        window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\n\t        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\n\t\n\t        // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\n\t        window.SVGPathSeg.prototype._segmentChanged = function () {\n\t            if (this._owningPathSegList) this._owningPathSegList.segmentChanged(this);\n\t        };\n\t\n\t        window.SVGPathSegClosePath = function (owningPathSegList) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CLOSEPATH, \"z\", owningPathSegList);\n\t        };\n\t        window.SVGPathSegClosePath.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegClosePath.prototype.toString = function () {\n\t            return \"[object SVGPathSegClosePath]\";\n\t        };\n\t        window.SVGPathSegClosePath.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter;\n\t        };\n\t        window.SVGPathSegClosePath.prototype.clone = function () {\n\t            return new window.SVGPathSegClosePath(undefined);\n\t        };\n\t\n\t        window.SVGPathSegMovetoAbs = function (owningPathSegList, x, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_ABS, \"M\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegMovetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegMovetoAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegMovetoAbs]\";\n\t        };\n\t        window.SVGPathSegMovetoAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegMovetoAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegMovetoRel = function (owningPathSegList, x, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_REL, \"m\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegMovetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegMovetoRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegMovetoRel]\";\n\t        };\n\t        window.SVGPathSegMovetoRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegMovetoRel.prototype.clone = function () {\n\t            return new window.SVGPathSegMovetoRel(undefined, this._x, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegMovetoRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegMovetoRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegLinetoAbs = function (owningPathSegList, x, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_ABS, \"L\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegLinetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegLinetoAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegLinetoAbs]\";\n\t        };\n\t        window.SVGPathSegLinetoAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegLinetoAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegLinetoRel = function (owningPathSegList, x, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_REL, \"l\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegLinetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegLinetoRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegLinetoRel]\";\n\t        };\n\t        window.SVGPathSegLinetoRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegLinetoRel.prototype.clone = function () {\n\t            return new window.SVGPathSegLinetoRel(undefined, this._x, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegLinetoRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegLinetoRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoCubicAbs = function (owningPathSegList, x, y, x1, y1, x2, y2) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, \"C\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._x1 = x1;\n\t            this._y1 = y1;\n\t            this._x2 = x2;\n\t            this._y2 = y2;\n\t        };\n\t        window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoCubicAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoCubicAbs]\";\n\t        };\n\t        window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoCubicAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"x1\", { get: function get() {\n\t                return this._x1;\n\t            }, set: function set(x1) {\n\t                this._x1 = x1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"y1\", { get: function get() {\n\t                return this._y1;\n\t            }, set: function set(y1) {\n\t                this._y1 = y1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"x2\", { get: function get() {\n\t                return this._x2;\n\t            }, set: function set(x2) {\n\t                this._x2 = x2;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"y2\", { get: function get() {\n\t                return this._y2;\n\t            }, set: function set(y2) {\n\t                this._y2 = y2;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoCubicRel = function (owningPathSegList, x, y, x1, y1, x2, y2) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, \"c\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._x1 = x1;\n\t            this._y1 = y1;\n\t            this._x2 = x2;\n\t            this._y2 = y2;\n\t        };\n\t        window.SVGPathSegCurvetoCubicRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoCubicRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoCubicRel]\";\n\t        };\n\t        window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoCubicRel.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"x1\", { get: function get() {\n\t                return this._x1;\n\t            }, set: function set(x1) {\n\t                this._x1 = x1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"y1\", { get: function get() {\n\t                return this._y1;\n\t            }, set: function set(y1) {\n\t                this._y1 = y1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"x2\", { get: function get() {\n\t                return this._x2;\n\t            }, set: function set(x2) {\n\t                this._x2 = x2;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"y2\", { get: function get() {\n\t                return this._y2;\n\t            }, set: function set(y2) {\n\t                this._y2 = y2;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoQuadraticAbs = function (owningPathSegList, x, y, x1, y1) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, \"Q\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._x1 = x1;\n\t            this._y1 = y1;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoQuadraticAbs]\";\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"x1\", { get: function get() {\n\t                return this._x1;\n\t            }, set: function set(x1) {\n\t                this._x1 = x1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"y1\", { get: function get() {\n\t                return this._y1;\n\t            }, set: function set(y1) {\n\t                this._y1 = y1;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoQuadraticRel = function (owningPathSegList, x, y, x1, y1) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, \"q\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._x1 = x1;\n\t            this._y1 = y1;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoQuadraticRel]\";\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"x1\", { get: function get() {\n\t                return this._x1;\n\t            }, set: function set(x1) {\n\t                this._x1 = x1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"y1\", { get: function get() {\n\t                return this._y1;\n\t            }, set: function set(y1) {\n\t                this._y1 = y1;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegArcAbs = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_ABS, \"A\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._r1 = r1;\n\t            this._r2 = r2;\n\t            this._angle = angle;\n\t            this._largeArcFlag = largeArcFlag;\n\t            this._sweepFlag = sweepFlag;\n\t        };\n\t        window.SVGPathSegArcAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegArcAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegArcAbs]\";\n\t        };\n\t        window.SVGPathSegArcAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._r1 + \" \" + this._r2 + \" \" + this._angle + \" \" + (this._largeArcFlag ? \"1\" : \"0\") + \" \" + (this._sweepFlag ? \"1\" : \"0\") + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegArcAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"r1\", { get: function get() {\n\t                return this._r1;\n\t            }, set: function set(r1) {\n\t                this._r1 = r1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"r2\", { get: function get() {\n\t                return this._r2;\n\t            }, set: function set(r2) {\n\t                this._r2 = r2;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"angle\", { get: function get() {\n\t                return this._angle;\n\t            }, set: function set(angle) {\n\t                this._angle = angle;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"largeArcFlag\", { get: function get() {\n\t                return this._largeArcFlag;\n\t            }, set: function set(largeArcFlag) {\n\t                this._largeArcFlag = largeArcFlag;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"sweepFlag\", { get: function get() {\n\t                return this._sweepFlag;\n\t            }, set: function set(sweepFlag) {\n\t                this._sweepFlag = sweepFlag;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegArcRel = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_REL, \"a\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._r1 = r1;\n\t            this._r2 = r2;\n\t            this._angle = angle;\n\t            this._largeArcFlag = largeArcFlag;\n\t            this._sweepFlag = sweepFlag;\n\t        };\n\t        window.SVGPathSegArcRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegArcRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegArcRel]\";\n\t        };\n\t        window.SVGPathSegArcRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._r1 + \" \" + this._r2 + \" \" + this._angle + \" \" + (this._largeArcFlag ? \"1\" : \"0\") + \" \" + (this._sweepFlag ? \"1\" : \"0\") + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegArcRel.prototype.clone = function () {\n\t            return new window.SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"r1\", { get: function get() {\n\t                return this._r1;\n\t            }, set: function set(r1) {\n\t                this._r1 = r1;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"r2\", { get: function get() {\n\t                return this._r2;\n\t            }, set: function set(r2) {\n\t                this._r2 = r2;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"angle\", { get: function get() {\n\t                return this._angle;\n\t            }, set: function set(angle) {\n\t                this._angle = angle;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"largeArcFlag\", { get: function get() {\n\t                return this._largeArcFlag;\n\t            }, set: function set(largeArcFlag) {\n\t                this._largeArcFlag = largeArcFlag;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"sweepFlag\", { get: function get() {\n\t                return this._sweepFlag;\n\t            }, set: function set(sweepFlag) {\n\t                this._sweepFlag = sweepFlag;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegLinetoHorizontalAbs = function (owningPathSegList, x) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, \"H\", owningPathSegList);\n\t            this._x = x;\n\t        };\n\t        window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegLinetoHorizontalAbs]\";\n\t        };\n\t        window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x;\n\t        };\n\t        window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegLinetoHorizontalRel = function (owningPathSegList, x) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, \"h\", owningPathSegList);\n\t            this._x = x;\n\t        };\n\t        window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegLinetoHorizontalRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegLinetoHorizontalRel]\";\n\t        };\n\t        window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x;\n\t        };\n\t        window.SVGPathSegLinetoHorizontalRel.prototype.clone = function () {\n\t            return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegLinetoVerticalAbs = function (owningPathSegList, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, \"V\", owningPathSegList);\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegLinetoVerticalAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegLinetoVerticalAbs]\";\n\t        };\n\t        window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegLinetoVerticalAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegLinetoVerticalRel = function (owningPathSegList, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, \"v\", owningPathSegList);\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegLinetoVerticalRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegLinetoVerticalRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegLinetoVerticalRel]\";\n\t        };\n\t        window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegLinetoVerticalRel.prototype.clone = function () {\n\t            return new window.SVGPathSegLinetoVerticalRel(undefined, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoCubicSmoothAbs = function (owningPathSegList, x, y, x2, y2) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, \"S\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._x2 = x2;\n\t            this._y2 = y2;\n\t        };\n\t        window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoCubicSmoothAbs]\";\n\t        };\n\t        window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"x2\", { get: function get() {\n\t                return this._x2;\n\t            }, set: function set(x2) {\n\t                this._x2 = x2;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"y2\", { get: function get() {\n\t                return this._y2;\n\t            }, set: function set(y2) {\n\t                this._y2 = y2;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoCubicSmoothRel = function (owningPathSegList, x, y, x2, y2) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, \"s\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t            this._x2 = x2;\n\t            this._y2 = y2;\n\t        };\n\t        window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoCubicSmoothRel]\";\n\t        };\n\t        window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"x2\", { get: function get() {\n\t                return this._x2;\n\t            }, set: function set(x2) {\n\t                this._x2 = x2;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"y2\", { get: function get() {\n\t                return this._y2;\n\t            }, set: function set(y2) {\n\t                this._y2 = y2;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoQuadraticSmoothAbs = function (owningPathSegList, x, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, \"T\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoQuadraticSmoothAbs]\";\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        window.SVGPathSegCurvetoQuadraticSmoothRel = function (owningPathSegList, x, y) {\n\t            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, \"t\", owningPathSegList);\n\t            this._x = x;\n\t            this._y = y;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\n\t        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function () {\n\t            return \"[object SVGPathSegCurvetoQuadraticSmoothRel]\";\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function () {\n\t            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n\t        };\n\t        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function () {\n\t            return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y);\n\t        };\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, \"x\", { get: function get() {\n\t                return this._x;\n\t            }, set: function set(x) {\n\t                this._x = x;this._segmentChanged();\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, \"y\", { get: function get() {\n\t                return this._y;\n\t            }, set: function set(y) {\n\t                this._y = y;this._segmentChanged();\n\t            }, enumerable: true });\n\t\n\t        // Add createSVGPathSeg* functions to window.SVGPathElement.\n\t        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-Interfacewindow.SVGPathElement.\n\t        window.SVGPathElement.prototype.createSVGPathSegClosePath = function () {\n\t            return new window.SVGPathSegClosePath(undefined);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) {\n\t            return new window.SVGPathSegMovetoAbs(undefined, x, y);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) {\n\t            return new window.SVGPathSegMovetoRel(undefined, x, y);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) {\n\t            return new window.SVGPathSegLinetoAbs(undefined, x, y);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) {\n\t            return new window.SVGPathSegLinetoRel(undefined, x, y);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) {\n\t            return new window.SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) {\n\t            return new window.SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) {\n\t            return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) {\n\t            return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n\t            return new window.SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n\t            return new window.SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) {\n\t            return new window.SVGPathSegLinetoHorizontalAbs(undefined, x);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) {\n\t            return new window.SVGPathSegLinetoHorizontalRel(undefined, x);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) {\n\t            return new window.SVGPathSegLinetoVerticalAbs(undefined, y);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) {\n\t            return new window.SVGPathSegLinetoVerticalRel(undefined, y);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) {\n\t            return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) {\n\t            return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) {\n\t            return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y);\n\t        };\n\t        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) {\n\t            return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y);\n\t        };\n\t\n\t        if (!(\"getPathSegAtLength\" in window.SVGPathElement.prototype)) {\n\t            // Add getPathSegAtLength to SVGPathElement.\n\t            // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\n\t            // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\n\t            window.SVGPathElement.prototype.getPathSegAtLength = function (distance) {\n\t                if (distance === undefined || !isFinite(distance)) throw \"Invalid arguments.\";\n\t\n\t                var measurementElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n\t                measurementElement.setAttribute(\"d\", this.getAttribute(\"d\"));\n\t                var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\n\t\n\t                // If the path is empty, return 0.\n\t                if (lastPathSegment <= 0) return 0;\n\t\n\t                do {\n\t                    measurementElement.pathSegList.removeItem(lastPathSegment);\n\t                    if (distance > measurementElement.getTotalLength()) break;\n\t                    lastPathSegment--;\n\t                } while (lastPathSegment > 0);\n\t                return lastPathSegment;\n\t            };\n\t        }\n\t    }\n\t\n\t    if (!(\"SVGPathSegList\" in window)) {\n\t        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\n\t        window.SVGPathSegList = function (pathElement) {\n\t            this._pathElement = pathElement;\n\t            this._list = this._parsePath(this._pathElement.getAttribute(\"d\"));\n\t\n\t            // Use a MutationObserver to catch changes to the path's \"d\" attribute.\n\t            this._mutationObserverConfig = { \"attributes\": true, \"attributeFilter\": [\"d\"] };\n\t            this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));\n\t            this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.classname = \"SVGPathSegList\";\n\t\n\t        Object.defineProperty(window.SVGPathSegList.prototype, \"numberOfItems\", {\n\t            get: function get() {\n\t                this._checkPathSynchronizedToList();\n\t                return this._list.length;\n\t            },\n\t            enumerable: true\n\t        });\n\t\n\t        // Add the pathSegList accessors to window.SVGPathElement.\n\t        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\n\t        Object.defineProperty(window.SVGPathElement.prototype, \"pathSegList\", {\n\t            get: function get() {\n\t                if (!this._pathSegList) this._pathSegList = new window.SVGPathSegList(this);\n\t                return this._pathSegList;\n\t            },\n\t            enumerable: true\n\t        });\n\t        // FIXME: The following are not implemented and simply return window.SVGPathElement.pathSegList.\n\t        Object.defineProperty(window.SVGPathElement.prototype, \"normalizedPathSegList\", { get: function get() {\n\t                return this.pathSegList;\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathElement.prototype, \"animatedPathSegList\", { get: function get() {\n\t                return this.pathSegList;\n\t            }, enumerable: true });\n\t        Object.defineProperty(window.SVGPathElement.prototype, \"animatedNormalizedPathSegList\", { get: function get() {\n\t                return this.pathSegList;\n\t            }, enumerable: true });\n\t\n\t        // Process any pending mutations to the path element and update the list as needed.\n\t        // This should be the first call of all public functions and is needed because\n\t        // MutationObservers are not synchronous so we can have pending asynchronous mutations.\n\t        window.SVGPathSegList.prototype._checkPathSynchronizedToList = function () {\n\t            this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());\n\t        };\n\t\n\t        window.SVGPathSegList.prototype._updateListFromPathMutations = function (mutationRecords) {\n\t            if (!this._pathElement) return;\n\t            var hasPathMutations = false;\n\t            mutationRecords.forEach(function (record) {\n\t                if (record.attributeName == \"d\") hasPathMutations = true;\n\t            });\n\t            if (hasPathMutations) this._list = this._parsePath(this._pathElement.getAttribute(\"d\"));\n\t        };\n\t\n\t        // Serialize the list and update the path's 'd' attribute.\n\t        window.SVGPathSegList.prototype._writeListToPath = function () {\n\t            this._pathElementMutationObserver.disconnect();\n\t            this._pathElement.setAttribute(\"d\", window.SVGPathSegList._pathSegArrayAsString(this._list));\n\t            this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n\t        };\n\t\n\t        // When a path segment changes the list needs to be synchronized back to the path element.\n\t        window.SVGPathSegList.prototype.segmentChanged = function (pathSeg) {\n\t            this._writeListToPath();\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.clear = function () {\n\t            this._checkPathSynchronizedToList();\n\t\n\t            this._list.forEach(function (pathSeg) {\n\t                pathSeg._owningPathSegList = null;\n\t            });\n\t            this._list = [];\n\t            this._writeListToPath();\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.initialize = function (newItem) {\n\t            this._checkPathSynchronizedToList();\n\t\n\t            this._list = [newItem];\n\t            newItem._owningPathSegList = this;\n\t            this._writeListToPath();\n\t            return newItem;\n\t        };\n\t\n\t        window.SVGPathSegList.prototype._checkValidIndex = function (index) {\n\t            if (isNaN(index) || index < 0 || index >= this.numberOfItems) throw \"INDEX_SIZE_ERR\";\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.getItem = function (index) {\n\t            this._checkPathSynchronizedToList();\n\t\n\t            this._checkValidIndex(index);\n\t            return this._list[index];\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.insertItemBefore = function (newItem, index) {\n\t            this._checkPathSynchronizedToList();\n\t\n\t            // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\n\t            if (index > this.numberOfItems) index = this.numberOfItems;\n\t            if (newItem._owningPathSegList) {\n\t                // SVG2 spec says to make a copy.\n\t                newItem = newItem.clone();\n\t            }\n\t            this._list.splice(index, 0, newItem);\n\t            newItem._owningPathSegList = this;\n\t            this._writeListToPath();\n\t            return newItem;\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.replaceItem = function (newItem, index) {\n\t            this._checkPathSynchronizedToList();\n\t\n\t            if (newItem._owningPathSegList) {\n\t                // SVG2 spec says to make a copy.\n\t                newItem = newItem.clone();\n\t            }\n\t            this._checkValidIndex(index);\n\t            this._list[index] = newItem;\n\t            newItem._owningPathSegList = this;\n\t            this._writeListToPath();\n\t            return newItem;\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.removeItem = function (index) {\n\t            this._checkPathSynchronizedToList();\n\t\n\t            this._checkValidIndex(index);\n\t            var item = this._list[index];\n\t            this._list.splice(index, 1);\n\t            this._writeListToPath();\n\t            return item;\n\t        };\n\t\n\t        window.SVGPathSegList.prototype.appendItem = function (newItem) {\n\t            this._checkPathSynchronizedToList();\n\t\n\t            if (newItem._owningPathSegList) {\n\t                // SVG2 spec says to make a copy.\n\t                newItem = newItem.clone();\n\t            }\n\t            this._list.push(newItem);\n\t            newItem._owningPathSegList = this;\n\t            // TODO: Optimize this to just append to the existing attribute.\n\t            this._writeListToPath();\n\t            return newItem;\n\t        };\n\t\n\t        window.SVGPathSegList._pathSegArrayAsString = function (pathSegArray) {\n\t            var string = \"\";\n\t            var first = true;\n\t            pathSegArray.forEach(function (pathSeg) {\n\t                if (first) {\n\t                    first = false;\n\t                    string += pathSeg._asPathString();\n\t                } else {\n\t                    string += \" \" + pathSeg._asPathString();\n\t                }\n\t            });\n\t            return string;\n\t        };\n\t\n\t        // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\n\t        window.SVGPathSegList.prototype._parsePath = function (string) {\n\t            if (!string || string.length == 0) return [];\n\t\n\t            var owningPathSegList = this;\n\t\n\t            var Builder = function Builder() {\n\t                this.pathSegList = [];\n\t            };\n\t\n\t            Builder.prototype.appendSegment = function (pathSeg) {\n\t                this.pathSegList.push(pathSeg);\n\t            };\n\t\n\t            var Source = function Source(string) {\n\t                this._string = string;\n\t                this._currentIndex = 0;\n\t                this._endIndex = this._string.length;\n\t                this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;\n\t\n\t                this._skipOptionalSpaces();\n\t            };\n\t\n\t            Source.prototype._isCurrentSpace = function () {\n\t                var character = this._string[this._currentIndex];\n\t                return character <= \" \" && (character == \" \" || character == \"\\n\" || character == \"\\t\" || character == \"\\r\" || character == \"\\f\");\n\t            };\n\t\n\t            Source.prototype._skipOptionalSpaces = function () {\n\t                while (this._currentIndex < this._endIndex && this._isCurrentSpace()) {\n\t                    this._currentIndex++;\n\t                }return this._currentIndex < this._endIndex;\n\t            };\n\t\n\t            Source.prototype._skipOptionalSpacesOrDelimiter = function () {\n\t                if (this._currentIndex < this._endIndex && !this._isCurrentSpace() && this._string.charAt(this._currentIndex) != \",\") return false;\n\t                if (this._skipOptionalSpaces()) {\n\t                    if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \",\") {\n\t                        this._currentIndex++;\n\t                        this._skipOptionalSpaces();\n\t                    }\n\t                }\n\t                return this._currentIndex < this._endIndex;\n\t            };\n\t\n\t            Source.prototype.hasMoreData = function () {\n\t                return this._currentIndex < this._endIndex;\n\t            };\n\t\n\t            Source.prototype.peekSegmentType = function () {\n\t                var lookahead = this._string[this._currentIndex];\n\t                return this._pathSegTypeFromChar(lookahead);\n\t            };\n\t\n\t            Source.prototype._pathSegTypeFromChar = function (lookahead) {\n\t                switch (lookahead) {\n\t                    case \"Z\":\n\t                    case \"z\":\n\t                        return window.SVGPathSeg.PATHSEG_CLOSEPATH;\n\t                    case \"M\":\n\t                        return window.SVGPathSeg.PATHSEG_MOVETO_ABS;\n\t                    case \"m\":\n\t                        return window.SVGPathSeg.PATHSEG_MOVETO_REL;\n\t                    case \"L\":\n\t                        return window.SVGPathSeg.PATHSEG_LINETO_ABS;\n\t                    case \"l\":\n\t                        return window.SVGPathSeg.PATHSEG_LINETO_REL;\n\t                    case \"C\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;\n\t                    case \"c\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;\n\t                    case \"Q\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;\n\t                    case \"q\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;\n\t                    case \"A\":\n\t                        return window.SVGPathSeg.PATHSEG_ARC_ABS;\n\t                    case \"a\":\n\t                        return window.SVGPathSeg.PATHSEG_ARC_REL;\n\t                    case \"H\":\n\t                        return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;\n\t                    case \"h\":\n\t                        return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;\n\t                    case \"V\":\n\t                        return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;\n\t                    case \"v\":\n\t                        return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;\n\t                    case \"S\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;\n\t                    case \"s\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;\n\t                    case \"T\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;\n\t                    case \"t\":\n\t                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;\n\t                    default:\n\t                        return window.SVGPathSeg.PATHSEG_UNKNOWN;\n\t                }\n\t            };\n\t\n\t            Source.prototype._nextCommandHelper = function (lookahead, previousCommand) {\n\t                // Check for remaining coordinates in the current command.\n\t                if ((lookahead == \"+\" || lookahead == \"-\" || lookahead == \".\" || lookahead >= \"0\" && lookahead <= \"9\") && previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH) {\n\t                    if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS) return window.SVGPathSeg.PATHSEG_LINETO_ABS;\n\t                    if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL) return window.SVGPathSeg.PATHSEG_LINETO_REL;\n\t                    return previousCommand;\n\t                }\n\t                return window.SVGPathSeg.PATHSEG_UNKNOWN;\n\t            };\n\t\n\t            Source.prototype.initialCommandIsMoveTo = function () {\n\t                // If the path is empty it is still valid, so return true.\n\t                if (!this.hasMoreData()) return true;\n\t                var command = this.peekSegmentType();\n\t                // Path must start with moveTo.\n\t                return command == window.SVGPathSeg.PATHSEG_MOVETO_ABS || command == window.SVGPathSeg.PATHSEG_MOVETO_REL;\n\t            };\n\t\n\t            // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\n\t            // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\n\t            Source.prototype._parseNumber = function () {\n\t                var exponent = 0;\n\t                var integer = 0;\n\t                var frac = 1;\n\t                var decimal = 0;\n\t                var sign = 1;\n\t                var expsign = 1;\n\t\n\t                var startIndex = this._currentIndex;\n\t\n\t                this._skipOptionalSpaces();\n\t\n\t                // Read the sign.\n\t                if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \"+\") this._currentIndex++;else if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \"-\") {\n\t                    this._currentIndex++;\n\t                    sign = -1;\n\t                }\n\t\n\t                if (this._currentIndex == this._endIndex || (this._string.charAt(this._currentIndex) < \"0\" || this._string.charAt(this._currentIndex) > \"9\") && this._string.charAt(this._currentIndex) != \".\")\n\t                    // The first character of a number must be one of [0-9+-.].\n\t                    return undefined;\n\t\n\t                // Read the integer part, build right-to-left.\n\t                var startIntPartIndex = this._currentIndex;\n\t                while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= \"0\" && this._string.charAt(this._currentIndex) <= \"9\") {\n\t                    this._currentIndex++;\n\t                } // Advance to first non-digit.\n\t\n\t                if (this._currentIndex != startIntPartIndex) {\n\t                    var scanIntPartIndex = this._currentIndex - 1;\n\t                    var multiplier = 1;\n\t                    while (scanIntPartIndex >= startIntPartIndex) {\n\t                        integer += multiplier * (this._string.charAt(scanIntPartIndex--) - \"0\");\n\t                        multiplier *= 10;\n\t                    }\n\t                }\n\t\n\t                // Read the decimals.\n\t                if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \".\") {\n\t                    this._currentIndex++;\n\t\n\t                    // There must be a least one digit following the .\n\t                    if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < \"0\" || this._string.charAt(this._currentIndex) > \"9\") return undefined;\n\t                    while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= \"0\" && this._string.charAt(this._currentIndex) <= \"9\") {\n\t                        frac *= 10;\n\t                        decimal += (this._string.charAt(this._currentIndex) - \"0\") / frac;\n\t                        this._currentIndex += 1;\n\t                    }\n\t                }\n\t\n\t                // Read the exponent part.\n\t                if (this._currentIndex != startIndex && this._currentIndex + 1 < this._endIndex && (this._string.charAt(this._currentIndex) == \"e\" || this._string.charAt(this._currentIndex) == \"E\") && this._string.charAt(this._currentIndex + 1) != \"x\" && this._string.charAt(this._currentIndex + 1) != \"m\") {\n\t                    this._currentIndex++;\n\t\n\t                    // Read the sign of the exponent.\n\t                    if (this._string.charAt(this._currentIndex) == \"+\") {\n\t                        this._currentIndex++;\n\t                    } else if (this._string.charAt(this._currentIndex) == \"-\") {\n\t                        this._currentIndex++;\n\t                        expsign = -1;\n\t                    }\n\t\n\t                    // There must be an exponent.\n\t                    if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < \"0\" || this._string.charAt(this._currentIndex) > \"9\") return undefined;\n\t\n\t                    while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= \"0\" && this._string.charAt(this._currentIndex) <= \"9\") {\n\t                        exponent *= 10;\n\t                        exponent += this._string.charAt(this._currentIndex) - \"0\";\n\t                        this._currentIndex++;\n\t                    }\n\t                }\n\t\n\t                var number = integer + decimal;\n\t                number *= sign;\n\t\n\t                if (exponent) number *= Math.pow(10, expsign * exponent);\n\t\n\t                if (startIndex == this._currentIndex) return undefined;\n\t\n\t                this._skipOptionalSpacesOrDelimiter();\n\t\n\t                return number;\n\t            };\n\t\n\t            Source.prototype._parseArcFlag = function () {\n\t                if (this._currentIndex >= this._endIndex) return undefined;\n\t                var flag = false;\n\t                var flagChar = this._string.charAt(this._currentIndex++);\n\t                if (flagChar == \"0\") flag = false;else if (flagChar == \"1\") flag = true;else return undefined;\n\t\n\t                this._skipOptionalSpacesOrDelimiter();\n\t                return flag;\n\t            };\n\t\n\t            Source.prototype.parseSegment = function () {\n\t                var lookahead = this._string[this._currentIndex];\n\t                var command = this._pathSegTypeFromChar(lookahead);\n\t                if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {\n\t                    // Possibly an implicit command. Not allowed if this is the first command.\n\t                    if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN) return null;\n\t                    command = this._nextCommandHelper(lookahead, this._previousCommand);\n\t                    if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) return null;\n\t                } else {\n\t                    this._currentIndex++;\n\t                }\n\t\n\t                this._previousCommand = command;\n\t\n\t                switch (command) {\n\t                    case window.SVGPathSeg.PATHSEG_MOVETO_REL:\n\t                        return new window.SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_MOVETO_ABS:\n\t                        return new window.SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_LINETO_REL:\n\t                        return new window.SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_LINETO_ABS:\n\t                        return new window.SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\n\t                        return new window.SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\n\t                        return new window.SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\n\t                        return new window.SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\n\t                        return new window.SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_CLOSEPATH:\n\t                        this._skipOptionalSpaces();\n\t                        return new window.SVGPathSegClosePath(owningPathSegList);\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:\n\t                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:\n\t                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:\n\t                        var points = { x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:\n\t                        var points = { x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:\n\t                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:\n\t                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\n\t                        return new window.SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\n\t                        return new window.SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n\t                    case window.SVGPathSeg.PATHSEG_ARC_REL:\n\t                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n\t                    case window.SVGPathSeg.PATHSEG_ARC_ABS:\n\t                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber() };\n\t                        return new window.SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n\t                    default:\n\t                        throw \"Unknown path seg type.\";\n\t                }\n\t            };\n\t\n\t            var builder = new Builder();\n\t            var source = new Source(string);\n\t\n\t            if (!source.initialCommandIsMoveTo()) return [];\n\t            while (source.hasMoreData()) {\n\t                var pathSeg = source.parseSegment();\n\t                if (!pathSeg) return [];\n\t                builder.appendSegment(pathSeg);\n\t            }\n\t\n\t            return builder.pathSegList;\n\t        };\n\t    }\n\t})();\n\t\n\t/* jshint ignore:end */\n\t\n\tc3_chart_fn.axis = function () {};\n\tc3_chart_fn.axis.labels = function (labels) {\n\t    var $$ = this.internal;\n\t    if (arguments.length) {\n\t        Object.keys(labels).forEach(function (axisId) {\n\t            $$.axis.setLabelText(axisId, labels[axisId]);\n\t        });\n\t        $$.axis.updateLabels();\n\t    }\n\t    // TODO: return some values?\n\t};\n\tc3_chart_fn.axis.max = function (max) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (arguments.length) {\n\t        if ((typeof max === 'undefined' ? 'undefined' : _typeof(max)) === 'object') {\n\t            if (isValue(max.x)) {\n\t                config.axis_x_max = max.x;\n\t            }\n\t            if (isValue(max.y)) {\n\t                config.axis_y_max = max.y;\n\t            }\n\t            if (isValue(max.y2)) {\n\t                config.axis_y2_max = max.y2;\n\t            }\n\t        } else {\n\t            config.axis_y_max = config.axis_y2_max = max;\n\t        }\n\t        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n\t    } else {\n\t        return {\n\t            x: config.axis_x_max,\n\t            y: config.axis_y_max,\n\t            y2: config.axis_y2_max\n\t        };\n\t    }\n\t};\n\tc3_chart_fn.axis.min = function (min) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (arguments.length) {\n\t        if ((typeof min === 'undefined' ? 'undefined' : _typeof(min)) === 'object') {\n\t            if (isValue(min.x)) {\n\t                config.axis_x_min = min.x;\n\t            }\n\t            if (isValue(min.y)) {\n\t                config.axis_y_min = min.y;\n\t            }\n\t            if (isValue(min.y2)) {\n\t                config.axis_y2_min = min.y2;\n\t            }\n\t        } else {\n\t            config.axis_y_min = config.axis_y2_min = min;\n\t        }\n\t        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n\t    } else {\n\t        return {\n\t            x: config.axis_x_min,\n\t            y: config.axis_y_min,\n\t            y2: config.axis_y2_min\n\t        };\n\t    }\n\t};\n\tc3_chart_fn.axis.range = function (range) {\n\t    if (arguments.length) {\n\t        if (isDefined(range.max)) {\n\t            this.axis.max(range.max);\n\t        }\n\t        if (isDefined(range.min)) {\n\t            this.axis.min(range.min);\n\t        }\n\t    } else {\n\t        return {\n\t            max: this.axis.max(),\n\t            min: this.axis.min()\n\t        };\n\t    }\n\t};\n\t\n\tc3_chart_fn.category = function (i, category) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (arguments.length > 1) {\n\t        config.axis_x_categories[i] = category;\n\t        $$.redraw();\n\t    }\n\t    return config.axis_x_categories[i];\n\t};\n\tc3_chart_fn.categories = function (categories) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (!arguments.length) {\n\t        return config.axis_x_categories;\n\t    }\n\t    config.axis_x_categories = categories;\n\t    $$.redraw();\n\t    return config.axis_x_categories;\n\t};\n\t\n\tc3_chart_fn.resize = function (size) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    config.size_width = size ? size.width : null;\n\t    config.size_height = size ? size.height : null;\n\t    this.flush();\n\t};\n\t\n\tc3_chart_fn.flush = function () {\n\t    var $$ = this.internal;\n\t    $$.updateAndRedraw({ withLegend: true, withTransition: false, withTransitionForTransform: false });\n\t};\n\t\n\tc3_chart_fn.destroy = function () {\n\t    var $$ = this.internal;\n\t\n\t    window.clearInterval($$.intervalForObserveInserted);\n\t\n\t    if ($$.resizeTimeout !== undefined) {\n\t        window.clearTimeout($$.resizeTimeout);\n\t    }\n\t\n\t    if (window.detachEvent) {\n\t        window.detachEvent('onresize', $$.resizeIfElementDisplayed);\n\t    } else if (window.removeEventListener) {\n\t        window.removeEventListener('resize', $$.resizeIfElementDisplayed);\n\t    } else {\n\t        var wrapper = window.onresize;\n\t        // check if no one else removed our wrapper and remove our resizeFunction from it\n\t        if (wrapper && wrapper.add && wrapper.remove) {\n\t            wrapper.remove($$.resizeFunction);\n\t        }\n\t    }\n\t\n\t    // remove the inner resize functions\n\t    $$.resizeFunction.remove();\n\t\n\t    $$.selectChart.classed('c3', false).html(\"\");\n\t\n\t    // MEMO: this is needed because the reference of some elements will not be released, then memory leak will happen.\n\t    Object.keys($$).forEach(function (key) {\n\t        $$[key] = null;\n\t    });\n\t\n\t    return null;\n\t};\n\t\n\t// TODO: fix\n\tc3_chart_fn.color = function (id) {\n\t    var $$ = this.internal;\n\t    return $$.color(id); // more patterns\n\t};\n\t\n\tc3_chart_fn.data = function (targetIds) {\n\t    var targets = this.internal.data.targets;\n\t    return typeof targetIds === 'undefined' ? targets : targets.filter(function (t) {\n\t        return [].concat(targetIds).indexOf(t.id) >= 0;\n\t    });\n\t};\n\tc3_chart_fn.data.shown = function (targetIds) {\n\t    return this.internal.filterTargetsToShow(this.data(targetIds));\n\t};\n\tc3_chart_fn.data.values = function (targetId) {\n\t    var targets,\n\t        values = null;\n\t    if (targetId) {\n\t        targets = this.data(targetId);\n\t        values = targets[0] ? targets[0].values.map(function (d) {\n\t            return d.value;\n\t        }) : null;\n\t    }\n\t    return values;\n\t};\n\tc3_chart_fn.data.names = function (names) {\n\t    this.internal.clearLegendItemTextBoxCache();\n\t    return this.internal.updateDataAttributes('names', names);\n\t};\n\tc3_chart_fn.data.colors = function (colors) {\n\t    return this.internal.updateDataAttributes('colors', colors);\n\t};\n\tc3_chart_fn.data.axes = function (axes) {\n\t    return this.internal.updateDataAttributes('axes', axes);\n\t};\n\t\n\tc3_chart_fn.flow = function (args) {\n\t    var $$ = this.internal,\n\t        targets,\n\t        data,\n\t        notfoundIds = [],\n\t        orgDataCount = $$.getMaxDataCount(),\n\t        dataCount,\n\t        domain,\n\t        baseTarget,\n\t        baseValue,\n\t        length = 0,\n\t        tail = 0,\n\t        diff,\n\t        to;\n\t\n\t    if (args.json) {\n\t        data = $$.convertJsonToData(args.json, args.keys);\n\t    } else if (args.rows) {\n\t        data = $$.convertRowsToData(args.rows);\n\t    } else if (args.columns) {\n\t        data = $$.convertColumnsToData(args.columns);\n\t    } else {\n\t        return;\n\t    }\n\t    targets = $$.convertDataToTargets(data, true);\n\t\n\t    // Update/Add data\n\t    $$.data.targets.forEach(function (t) {\n\t        var found = false,\n\t            i,\n\t            j;\n\t        for (i = 0; i < targets.length; i++) {\n\t            if (t.id === targets[i].id) {\n\t                found = true;\n\t\n\t                if (t.values[t.values.length - 1]) {\n\t                    tail = t.values[t.values.length - 1].index + 1;\n\t                }\n\t                length = targets[i].values.length;\n\t\n\t                for (j = 0; j < length; j++) {\n\t                    targets[i].values[j].index = tail + j;\n\t                    if (!$$.isTimeSeries()) {\n\t                        targets[i].values[j].x = tail + j;\n\t                    }\n\t                }\n\t                t.values = t.values.concat(targets[i].values);\n\t\n\t                targets.splice(i, 1);\n\t                break;\n\t            }\n\t        }\n\t        if (!found) {\n\t            notfoundIds.push(t.id);\n\t        }\n\t    });\n\t\n\t    // Append null for not found targets\n\t    $$.data.targets.forEach(function (t) {\n\t        var i, j;\n\t        for (i = 0; i < notfoundIds.length; i++) {\n\t            if (t.id === notfoundIds[i]) {\n\t                tail = t.values[t.values.length - 1].index + 1;\n\t                for (j = 0; j < length; j++) {\n\t                    t.values.push({\n\t                        id: t.id,\n\t                        index: tail + j,\n\t                        x: $$.isTimeSeries() ? $$.getOtherTargetX(tail + j) : tail + j,\n\t                        value: null\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    });\n\t\n\t    // Generate null values for new target\n\t    if ($$.data.targets.length) {\n\t        targets.forEach(function (t) {\n\t            var i,\n\t                missing = [];\n\t            for (i = $$.data.targets[0].values[0].index; i < tail; i++) {\n\t                missing.push({\n\t                    id: t.id,\n\t                    index: i,\n\t                    x: $$.isTimeSeries() ? $$.getOtherTargetX(i) : i,\n\t                    value: null\n\t                });\n\t            }\n\t            t.values.forEach(function (v) {\n\t                v.index += tail;\n\t                if (!$$.isTimeSeries()) {\n\t                    v.x += tail;\n\t                }\n\t            });\n\t            t.values = missing.concat(t.values);\n\t        });\n\t    }\n\t    $$.data.targets = $$.data.targets.concat(targets); // add remained\n\t\n\t    // check data count because behavior needs to change when it's only one\n\t    dataCount = $$.getMaxDataCount();\n\t    baseTarget = $$.data.targets[0];\n\t    baseValue = baseTarget.values[0];\n\t\n\t    // Update length to flow if needed\n\t    if (isDefined(args.to)) {\n\t        length = 0;\n\t        to = $$.isTimeSeries() ? $$.parseDate(args.to) : args.to;\n\t        baseTarget.values.forEach(function (v) {\n\t            if (v.x < to) {\n\t                length++;\n\t            }\n\t        });\n\t    } else if (isDefined(args.length)) {\n\t        length = args.length;\n\t    }\n\t\n\t    // If only one data, update the domain to flow from left edge of the chart\n\t    if (!orgDataCount) {\n\t        if ($$.isTimeSeries()) {\n\t            if (baseTarget.values.length > 1) {\n\t                diff = baseTarget.values[baseTarget.values.length - 1].x - baseValue.x;\n\t            } else {\n\t                diff = baseValue.x - $$.getXDomain($$.data.targets)[0];\n\t            }\n\t        } else {\n\t            diff = 1;\n\t        }\n\t        domain = [baseValue.x - diff, baseValue.x];\n\t        $$.updateXDomain(null, true, true, false, domain);\n\t    } else if (orgDataCount === 1) {\n\t        if ($$.isTimeSeries()) {\n\t            diff = (baseTarget.values[baseTarget.values.length - 1].x - baseValue.x) / 2;\n\t            domain = [new Date(+baseValue.x - diff), new Date(+baseValue.x + diff)];\n\t            $$.updateXDomain(null, true, true, false, domain);\n\t        }\n\t    }\n\t\n\t    // Set targets\n\t    $$.updateTargets($$.data.targets);\n\t\n\t    // Redraw with new targets\n\t    $$.redraw({\n\t        flow: {\n\t            index: baseValue.index,\n\t            length: length,\n\t            duration: isValue(args.duration) ? args.duration : $$.config.transition_duration,\n\t            done: args.done,\n\t            orgDataCount: orgDataCount\n\t        },\n\t        withLegend: true,\n\t        withTransition: orgDataCount > 1,\n\t        withTrimXDomain: false,\n\t        withUpdateXAxis: true\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.generateFlow = function (args) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        d3 = $$.d3;\n\t\n\t    return function () {\n\t        var targets = args.targets,\n\t            flow = args.flow,\n\t            drawBar = args.drawBar,\n\t            drawLine = args.drawLine,\n\t            drawArea = args.drawArea,\n\t            cx = args.cx,\n\t            cy = args.cy,\n\t            xv = args.xv,\n\t            xForText = args.xForText,\n\t            yForText = args.yForText,\n\t            duration = args.duration;\n\t\n\t        var translateX,\n\t            scaleX = 1,\n\t            transform,\n\t            flowIndex = flow.index,\n\t            flowLength = flow.length,\n\t            flowStart = $$.getValueOnIndex($$.data.targets[0].values, flowIndex),\n\t            flowEnd = $$.getValueOnIndex($$.data.targets[0].values, flowIndex + flowLength),\n\t            orgDomain = $$.x.domain(),\n\t            domain,\n\t            durationForFlow = flow.duration || duration,\n\t            done = flow.done || function () {},\n\t            wait = $$.generateWait();\n\t\n\t        var xgrid = $$.xgrid || d3.selectAll([]),\n\t            xgridLines = $$.xgridLines || d3.selectAll([]),\n\t            mainRegion = $$.mainRegion || d3.selectAll([]),\n\t            mainText = $$.mainText || d3.selectAll([]),\n\t            mainBar = $$.mainBar || d3.selectAll([]),\n\t            mainLine = $$.mainLine || d3.selectAll([]),\n\t            mainArea = $$.mainArea || d3.selectAll([]),\n\t            mainCircle = $$.mainCircle || d3.selectAll([]);\n\t\n\t        // set flag\n\t        $$.flowing = true;\n\t\n\t        // remove head data after rendered\n\t        $$.data.targets.forEach(function (d) {\n\t            d.values.splice(0, flowLength);\n\t        });\n\t\n\t        // update x domain to generate axis elements for flow\n\t        domain = $$.updateXDomain(targets, true, true);\n\t        // update elements related to x scale\n\t        if ($$.updateXGrid) {\n\t            $$.updateXGrid(true);\n\t        }\n\t\n\t        // generate transform to flow\n\t        if (!flow.orgDataCount) {\n\t            // if empty\n\t            if ($$.data.targets[0].values.length !== 1) {\n\t                translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n\t            } else {\n\t                if ($$.isTimeSeries()) {\n\t                    flowStart = $$.getValueOnIndex($$.data.targets[0].values, 0);\n\t                    flowEnd = $$.getValueOnIndex($$.data.targets[0].values, $$.data.targets[0].values.length - 1);\n\t                    translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\n\t                } else {\n\t                    translateX = diffDomain(domain) / 2;\n\t                }\n\t            }\n\t        } else if (flow.orgDataCount === 1 || (flowStart && flowStart.x) === (flowEnd && flowEnd.x)) {\n\t            translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n\t        } else {\n\t            if ($$.isTimeSeries()) {\n\t                translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n\t            } else {\n\t                translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\n\t            }\n\t        }\n\t        scaleX = diffDomain(orgDomain) / diffDomain(domain);\n\t        transform = 'translate(' + translateX + ',0) scale(' + scaleX + ',1)';\n\t\n\t        $$.hideXGridFocus();\n\t\n\t        d3.transition().ease('linear').duration(durationForFlow).each(function () {\n\t            wait.add($$.axes.x.transition().call($$.xAxis));\n\t            wait.add(mainBar.transition().attr('transform', transform));\n\t            wait.add(mainLine.transition().attr('transform', transform));\n\t            wait.add(mainArea.transition().attr('transform', transform));\n\t            wait.add(mainCircle.transition().attr('transform', transform));\n\t            wait.add(mainText.transition().attr('transform', transform));\n\t            wait.add(mainRegion.filter($$.isRegionOnX).transition().attr('transform', transform));\n\t            wait.add(xgrid.transition().attr('transform', transform));\n\t            wait.add(xgridLines.transition().attr('transform', transform));\n\t        }).call(wait, function () {\n\t            var i,\n\t                shapes = [],\n\t                texts = [],\n\t                eventRects = [];\n\t\n\t            // remove flowed elements\n\t            if (flowLength) {\n\t                for (i = 0; i < flowLength; i++) {\n\t                    shapes.push('.' + CLASS.shape + '-' + (flowIndex + i));\n\t                    texts.push('.' + CLASS.text + '-' + (flowIndex + i));\n\t                    eventRects.push('.' + CLASS.eventRect + '-' + (flowIndex + i));\n\t                }\n\t                $$.svg.selectAll('.' + CLASS.shapes).selectAll(shapes).remove();\n\t                $$.svg.selectAll('.' + CLASS.texts).selectAll(texts).remove();\n\t                $$.svg.selectAll('.' + CLASS.eventRects).selectAll(eventRects).remove();\n\t                $$.svg.select('.' + CLASS.xgrid).remove();\n\t            }\n\t\n\t            // draw again for removing flowed elements and reverting attr\n\t            xgrid.attr('transform', null).attr($$.xgridAttr);\n\t            xgridLines.attr('transform', null);\n\t            xgridLines.select('line').attr(\"x1\", config.axis_rotated ? 0 : xv).attr(\"x2\", config.axis_rotated ? $$.width : xv);\n\t            xgridLines.select('text').attr(\"x\", config.axis_rotated ? $$.width : 0).attr(\"y\", xv);\n\t            mainBar.attr('transform', null).attr(\"d\", drawBar);\n\t            mainLine.attr('transform', null).attr(\"d\", drawLine);\n\t            mainArea.attr('transform', null).attr(\"d\", drawArea);\n\t            mainCircle.attr('transform', null).attr(\"cx\", cx).attr(\"cy\", cy);\n\t            mainText.attr('transform', null).attr('x', xForText).attr('y', yForText).style('fill-opacity', $$.opacityForText.bind($$));\n\t            mainRegion.attr('transform', null);\n\t            mainRegion.select('rect').filter($$.isRegionOnX).attr(\"x\", $$.regionX.bind($$)).attr(\"width\", $$.regionWidth.bind($$));\n\t\n\t            if (config.interaction_enabled) {\n\t                $$.redrawEventRect();\n\t            }\n\t\n\t            // callback for end of flow\n\t            done();\n\t\n\t            $$.flowing = false;\n\t        });\n\t    };\n\t};\n\t\n\tc3_chart_fn.focus = function (targetIds) {\n\t    var $$ = this.internal,\n\t        candidates;\n\t\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t    candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))), this.revert();\n\t    this.defocus();\n\t    candidates.classed(CLASS.focused, true).classed(CLASS.defocused, false);\n\t    if ($$.hasArcType()) {\n\t        $$.expandArc(targetIds);\n\t    }\n\t    $$.toggleFocusLegend(targetIds, true);\n\t\n\t    $$.focusedTargetIds = targetIds;\n\t    $$.defocusedTargetIds = $$.defocusedTargetIds.filter(function (id) {\n\t        return targetIds.indexOf(id) < 0;\n\t    });\n\t};\n\t\n\tc3_chart_fn.defocus = function (targetIds) {\n\t    var $$ = this.internal,\n\t        candidates;\n\t\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t    candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))), candidates.classed(CLASS.focused, false).classed(CLASS.defocused, true);\n\t    if ($$.hasArcType()) {\n\t        $$.unexpandArc(targetIds);\n\t    }\n\t    $$.toggleFocusLegend(targetIds, false);\n\t\n\t    $$.focusedTargetIds = $$.focusedTargetIds.filter(function (id) {\n\t        return targetIds.indexOf(id) < 0;\n\t    });\n\t    $$.defocusedTargetIds = targetIds;\n\t};\n\t\n\tc3_chart_fn.revert = function (targetIds) {\n\t    var $$ = this.internal,\n\t        candidates;\n\t\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t    candidates = $$.svg.selectAll($$.selectorTargets(targetIds)); // should be for all targets\n\t\n\t    candidates.classed(CLASS.focused, false).classed(CLASS.defocused, false);\n\t    if ($$.hasArcType()) {\n\t        $$.unexpandArc(targetIds);\n\t    }\n\t    if ($$.config.legend_show) {\n\t        $$.showLegend(targetIds.filter($$.isLegendToShow.bind($$)));\n\t        $$.legend.selectAll($$.selectorLegends(targetIds)).filter(function () {\n\t            return $$.d3.select(this).classed(CLASS.legendItemFocused);\n\t        }).classed(CLASS.legendItemFocused, false);\n\t    }\n\t\n\t    $$.focusedTargetIds = [];\n\t    $$.defocusedTargetIds = [];\n\t};\n\t\n\tc3_chart_fn.xgrids = function (grids) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (!grids) {\n\t        return config.grid_x_lines;\n\t    }\n\t    config.grid_x_lines = grids;\n\t    $$.redrawWithoutRescale();\n\t    return config.grid_x_lines;\n\t};\n\tc3_chart_fn.xgrids.add = function (grids) {\n\t    var $$ = this.internal;\n\t    return this.xgrids($$.config.grid_x_lines.concat(grids ? grids : []));\n\t};\n\tc3_chart_fn.xgrids.remove = function (params) {\n\t    // TODO: multiple\n\t    var $$ = this.internal;\n\t    $$.removeGridLines(params, true);\n\t};\n\t\n\tc3_chart_fn.ygrids = function (grids) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (!grids) {\n\t        return config.grid_y_lines;\n\t    }\n\t    config.grid_y_lines = grids;\n\t    $$.redrawWithoutRescale();\n\t    return config.grid_y_lines;\n\t};\n\tc3_chart_fn.ygrids.add = function (grids) {\n\t    var $$ = this.internal;\n\t    return this.ygrids($$.config.grid_y_lines.concat(grids ? grids : []));\n\t};\n\tc3_chart_fn.ygrids.remove = function (params) {\n\t    // TODO: multiple\n\t    var $$ = this.internal;\n\t    $$.removeGridLines(params, false);\n\t};\n\t\n\tc3_chart_fn.groups = function (groups) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (isUndefined(groups)) {\n\t        return config.data_groups;\n\t    }\n\t    config.data_groups = groups;\n\t    $$.redraw();\n\t    return config.data_groups;\n\t};\n\t\n\tc3_chart_fn.legend = function () {};\n\tc3_chart_fn.legend.show = function (targetIds) {\n\t    var $$ = this.internal;\n\t    $$.showLegend($$.mapToTargetIds(targetIds));\n\t    $$.updateAndRedraw({ withLegend: true });\n\t};\n\tc3_chart_fn.legend.hide = function (targetIds) {\n\t    var $$ = this.internal;\n\t    $$.hideLegend($$.mapToTargetIds(targetIds));\n\t    $$.updateAndRedraw({ withLegend: true });\n\t};\n\t\n\tc3_chart_fn.load = function (args) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    // update xs if specified\n\t    if (args.xs) {\n\t        $$.addXs(args.xs);\n\t    }\n\t    // update names if exists\n\t    if ('names' in args) {\n\t        c3_chart_fn.data.names.bind(this)(args.names);\n\t    }\n\t    // update classes if exists\n\t    if ('classes' in args) {\n\t        Object.keys(args.classes).forEach(function (id) {\n\t            config.data_classes[id] = args.classes[id];\n\t        });\n\t    }\n\t    // update categories if exists\n\t    if ('categories' in args && $$.isCategorized()) {\n\t        config.axis_x_categories = args.categories;\n\t    }\n\t    // update axes if exists\n\t    if ('axes' in args) {\n\t        Object.keys(args.axes).forEach(function (id) {\n\t            config.data_axes[id] = args.axes[id];\n\t        });\n\t    }\n\t    // update colors if exists\n\t    if ('colors' in args) {\n\t        Object.keys(args.colors).forEach(function (id) {\n\t            config.data_colors[id] = args.colors[id];\n\t        });\n\t    }\n\t    // use cache if exists\n\t    if ('cacheIds' in args && $$.hasCaches(args.cacheIds)) {\n\t        $$.load($$.getCaches(args.cacheIds), args.done);\n\t        return;\n\t    }\n\t    // unload if needed\n\t    if ('unload' in args) {\n\t        // TODO: do not unload if target will load (included in url/rows/columns)\n\t        $$.unload($$.mapToTargetIds(typeof args.unload === 'boolean' && args.unload ? null : args.unload), function () {\n\t            $$.loadFromArgs(args);\n\t        });\n\t    } else {\n\t        $$.loadFromArgs(args);\n\t    }\n\t};\n\t\n\tc3_chart_fn.unload = function (args) {\n\t    var $$ = this.internal;\n\t    args = args || {};\n\t    if (args instanceof Array) {\n\t        args = { ids: args };\n\t    } else if (typeof args === 'string') {\n\t        args = { ids: [args] };\n\t    }\n\t    $$.unload($$.mapToTargetIds(args.ids), function () {\n\t        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n\t        if (args.done) {\n\t            args.done();\n\t        }\n\t    });\n\t};\n\t\n\tc3_chart_fn.regions = function (regions) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (!regions) {\n\t        return config.regions;\n\t    }\n\t    config.regions = regions;\n\t    $$.redrawWithoutRescale();\n\t    return config.regions;\n\t};\n\tc3_chart_fn.regions.add = function (regions) {\n\t    var $$ = this.internal,\n\t        config = $$.config;\n\t    if (!regions) {\n\t        return config.regions;\n\t    }\n\t    config.regions = config.regions.concat(regions);\n\t    $$.redrawWithoutRescale();\n\t    return config.regions;\n\t};\n\tc3_chart_fn.regions.remove = function (options) {\n\t    var $$ = this.internal,\n\t        config = $$.config,\n\t        duration,\n\t        classes,\n\t        regions;\n\t\n\t    options = options || {};\n\t    duration = $$.getOption(options, \"duration\", config.transition_duration);\n\t    classes = $$.getOption(options, \"classes\", [CLASS.region]);\n\t\n\t    regions = $$.main.select('.' + CLASS.regions).selectAll(classes.map(function (c) {\n\t        return '.' + c;\n\t    }));\n\t    (duration ? regions.transition().duration(duration) : regions).style('opacity', 0).remove();\n\t\n\t    config.regions = config.regions.filter(function (region) {\n\t        var found = false;\n\t        if (!region['class']) {\n\t            return true;\n\t        }\n\t        region['class'].split(' ').forEach(function (c) {\n\t            if (classes.indexOf(c) >= 0) {\n\t                found = true;\n\t            }\n\t        });\n\t        return !found;\n\t    });\n\t\n\t    return config.regions;\n\t};\n\t\n\tc3_chart_fn.selected = function (targetId) {\n\t    var $$ = this.internal,\n\t        d3 = $$.d3;\n\t    return d3.merge($$.main.selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(targetId)).selectAll('.' + CLASS.shape).filter(function () {\n\t        return d3.select(this).classed(CLASS.SELECTED);\n\t    }).map(function (d) {\n\t        return d.map(function (d) {\n\t            var data = d.__data__;return data.data ? data.data : data;\n\t        });\n\t    }));\n\t};\n\tc3_chart_fn.select = function (ids, indices, resetOther) {\n\t    var $$ = this.internal,\n\t        d3 = $$.d3,\n\t        config = $$.config;\n\t    if (!config.data_selection_enabled) {\n\t        return;\n\t    }\n\t    $$.main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).each(function (d, i) {\n\t        var shape = d3.select(this),\n\t            id = d.data ? d.data.id : d.id,\n\t            toggle = $$.getToggle(this, d).bind($$),\n\t            isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n\t            isTargetIndex = !indices || indices.indexOf(i) >= 0,\n\t            isSelected = shape.classed(CLASS.SELECTED);\n\t        // line/area selection not supported yet\n\t        if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n\t            return;\n\t        }\n\t        if (isTargetId && isTargetIndex) {\n\t            if (config.data_selection_isselectable(d) && !isSelected) {\n\t                toggle(true, shape.classed(CLASS.SELECTED, true), d, i);\n\t            }\n\t        } else if (isDefined(resetOther) && resetOther) {\n\t            if (isSelected) {\n\t                toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n\t            }\n\t        }\n\t    });\n\t};\n\tc3_chart_fn.unselect = function (ids, indices) {\n\t    var $$ = this.internal,\n\t        d3 = $$.d3,\n\t        config = $$.config;\n\t    if (!config.data_selection_enabled) {\n\t        return;\n\t    }\n\t    $$.main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).each(function (d, i) {\n\t        var shape = d3.select(this),\n\t            id = d.data ? d.data.id : d.id,\n\t            toggle = $$.getToggle(this, d).bind($$),\n\t            isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n\t            isTargetIndex = !indices || indices.indexOf(i) >= 0,\n\t            isSelected = shape.classed(CLASS.SELECTED);\n\t        // line/area selection not supported yet\n\t        if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n\t            return;\n\t        }\n\t        if (isTargetId && isTargetIndex) {\n\t            if (config.data_selection_isselectable(d)) {\n\t                if (isSelected) {\n\t                    toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n\t                }\n\t            }\n\t        }\n\t    });\n\t};\n\t\n\tc3_chart_fn.show = function (targetIds, options) {\n\t    var $$ = this.internal,\n\t        targets;\n\t\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t    options = options || {};\n\t\n\t    $$.removeHiddenTargetIds(targetIds);\n\t    targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\t\n\t    targets.transition().style('opacity', 1, 'important').call($$.endall, function () {\n\t        targets.style('opacity', null).style('opacity', 1);\n\t    });\n\t\n\t    if (options.withLegend) {\n\t        $$.showLegend(targetIds);\n\t    }\n\t\n\t    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n\t};\n\t\n\tc3_chart_fn.hide = function (targetIds, options) {\n\t    var $$ = this.internal,\n\t        targets;\n\t\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t    options = options || {};\n\t\n\t    $$.addHiddenTargetIds(targetIds);\n\t    targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\t\n\t    targets.transition().style('opacity', 0, 'important').call($$.endall, function () {\n\t        targets.style('opacity', null).style('opacity', 0);\n\t    });\n\t\n\t    if (options.withLegend) {\n\t        $$.hideLegend(targetIds);\n\t    }\n\t\n\t    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n\t};\n\t\n\tc3_chart_fn.toggle = function (targetIds, options) {\n\t    var that = this,\n\t        $$ = this.internal;\n\t    $$.mapToTargetIds(targetIds).forEach(function (targetId) {\n\t        $$.isTargetToShow(targetId) ? that.hide(targetId, options) : that.show(targetId, options);\n\t    });\n\t};\n\t\n\tc3_chart_fn.tooltip = function () {};\n\tc3_chart_fn.tooltip.show = function (args) {\n\t    var $$ = this.internal,\n\t        index,\n\t        mouse;\n\t\n\t    // determine mouse position on the chart\n\t    if (args.mouse) {\n\t        mouse = args.mouse;\n\t    }\n\t\n\t    // determine focus data\n\t    if (args.data) {\n\t        if ($$.isMultipleX()) {\n\t            // if multiple xs, target point will be determined by mouse\n\t            mouse = [$$.x(args.data.x), $$.getYScale(args.data.id)(args.data.value)];\n\t            index = null;\n\t        } else {\n\t            // TODO: when tooltip_grouped = false\n\t            index = isValue(args.data.index) ? args.data.index : $$.getIndexByX(args.data.x);\n\t        }\n\t    } else if (typeof args.x !== 'undefined') {\n\t        index = $$.getIndexByX(args.x);\n\t    } else if (typeof args.index !== 'undefined') {\n\t        index = args.index;\n\t    }\n\t\n\t    // emulate mouse events to show\n\t    $$.dispatchEvent('mouseover', index, mouse);\n\t    $$.dispatchEvent('mousemove', index, mouse);\n\t\n\t    $$.config.tooltip_onshow.call($$, args.data);\n\t};\n\tc3_chart_fn.tooltip.hide = function () {\n\t    // TODO: get target data by checking the state of focus\n\t    this.internal.dispatchEvent('mouseout', 0);\n\t\n\t    this.internal.config.tooltip_onhide.call(this);\n\t};\n\t\n\tc3_chart_fn.transform = function (type, targetIds) {\n\t    var $$ = this.internal,\n\t        options = ['pie', 'donut'].indexOf(type) >= 0 ? { withTransform: true } : null;\n\t    $$.transformTo(targetIds, type, options);\n\t};\n\t\n\tc3_chart_internal_fn.transformTo = function (targetIds, type, optionsForRedraw) {\n\t    var $$ = this,\n\t        withTransitionForAxis = !$$.hasArcType(),\n\t        options = optionsForRedraw || { withTransitionForAxis: withTransitionForAxis };\n\t    options.withTransitionForTransform = false;\n\t    $$.transiting = false;\n\t    $$.setTargetType(targetIds, type);\n\t    $$.updateTargets($$.data.targets); // this is needed when transforming to arc\n\t    $$.updateAndRedraw(options);\n\t};\n\t\n\tc3_chart_fn.x = function (x) {\n\t    var $$ = this.internal;\n\t    if (arguments.length) {\n\t        $$.updateTargetX($$.data.targets, x);\n\t        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n\t    }\n\t    return $$.data.xs;\n\t};\n\tc3_chart_fn.xs = function (xs) {\n\t    var $$ = this.internal;\n\t    if (arguments.length) {\n\t        $$.updateTargetXs($$.data.targets, xs);\n\t        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n\t    }\n\t    return $$.data.xs;\n\t};\n\t\n\tc3_chart_fn.zoom = function (domain) {\n\t    var $$ = this.internal;\n\t    if (domain) {\n\t        if ($$.isTimeSeries()) {\n\t            domain = domain.map(function (x) {\n\t                return $$.parseDate(x);\n\t            });\n\t        }\n\t        $$.brush.extent(domain);\n\t        $$.redraw({ withUpdateXDomain: true, withY: $$.config.zoom_rescale });\n\t        $$.config.zoom_onzoom.call(this, $$.x.orgDomain());\n\t    }\n\t    return $$.brush.extent();\n\t};\n\tc3_chart_fn.zoom.enable = function (enabled) {\n\t    var $$ = this.internal;\n\t    $$.config.zoom_enabled = enabled;\n\t    $$.updateAndRedraw();\n\t};\n\tc3_chart_fn.unzoom = function () {\n\t    var $$ = this.internal;\n\t    $$.brush.clear().update();\n\t    $$.redraw({ withUpdateXDomain: true });\n\t};\n\t\n\tc3_chart_fn.zoom.max = function (max) {\n\t    var $$ = this.internal,\n\t        config = $$.config,\n\t        d3 = $$.d3;\n\t    if (max === 0 || max) {\n\t        config.zoom_x_max = d3.max([$$.orgXDomain[1], max]);\n\t    } else {\n\t        return config.zoom_x_max;\n\t    }\n\t};\n\t\n\tc3_chart_fn.zoom.min = function (min) {\n\t    var $$ = this.internal,\n\t        config = $$.config,\n\t        d3 = $$.d3;\n\t    if (min === 0 || min) {\n\t        config.zoom_x_min = d3.min([$$.orgXDomain[0], min]);\n\t    } else {\n\t        return config.zoom_x_min;\n\t    }\n\t};\n\t\n\tc3_chart_fn.zoom.range = function (range) {\n\t    if (arguments.length) {\n\t        if (isDefined(range.max)) {\n\t            this.domain.max(range.max);\n\t        }\n\t        if (isDefined(range.min)) {\n\t            this.domain.min(range.min);\n\t        }\n\t    } else {\n\t        return {\n\t            max: this.domain.max(),\n\t            min: this.domain.min()\n\t        };\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.initPie = function () {\n\t    var $$ = this,\n\t        d3 = $$.d3;\n\t    $$.pie = d3.layout.pie().value(function (d) {\n\t        return d.values.reduce(function (a, b) {\n\t            return a + b.value;\n\t        }, 0);\n\t    });\n\t    $$.pie.sort($$.getOrderFunction() || null);\n\t};\n\t\n\tc3_chart_internal_fn.updateRadius = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        w = config.gauge_width || config.donut_width,\n\t        gaugeArcWidth = $$.filterTargetsToShow($$.data.targets).length * $$.config.gauge_arcs_minWidth;\n\t    $$.radiusExpanded = Math.min($$.arcWidth, $$.arcHeight) / 2 * ($$.hasType('gauge') ? 0.85 : 1);\n\t    $$.radius = $$.radiusExpanded * 0.95;\n\t    $$.innerRadiusRatio = w ? ($$.radius - w) / $$.radius : 0.6;\n\t    $$.innerRadius = $$.hasType('donut') || $$.hasType('gauge') ? $$.radius * $$.innerRadiusRatio : 0;\n\t    $$.gaugeArcWidth = w ? w : gaugeArcWidth <= $$.radius - $$.innerRadius ? $$.radius - $$.innerRadius : gaugeArcWidth <= $$.radius ? gaugeArcWidth : $$.radius;\n\t};\n\t\n\tc3_chart_internal_fn.updateArc = function () {\n\t    var $$ = this;\n\t    $$.svgArc = $$.getSvgArc();\n\t    $$.svgArcExpanded = $$.getSvgArcExpanded();\n\t    $$.svgArcExpandedSub = $$.getSvgArcExpanded(0.98);\n\t};\n\t\n\tc3_chart_internal_fn.updateAngle = function (d) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        found = false,\n\t        index = 0,\n\t        gMin,\n\t        gMax,\n\t        gTic,\n\t        gValue;\n\t\n\t    if (!config) {\n\t        return null;\n\t    }\n\t\n\t    $$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function (t) {\n\t        if (!found && t.data.id === d.data.id) {\n\t            found = true;\n\t            d = t;\n\t            d.index = index;\n\t        }\n\t        index++;\n\t    });\n\t    if (isNaN(d.startAngle)) {\n\t        d.startAngle = 0;\n\t    }\n\t    if (isNaN(d.endAngle)) {\n\t        d.endAngle = d.startAngle;\n\t    }\n\t    if ($$.isGaugeType(d.data)) {\n\t        gMin = config.gauge_min;\n\t        gMax = config.gauge_max;\n\t        gTic = Math.PI * (config.gauge_fullCircle ? 2 : 1) / (gMax - gMin);\n\t        gValue = d.value < gMin ? 0 : d.value < gMax ? d.value - gMin : gMax - gMin;\n\t        d.startAngle = config.gauge_startingAngle;\n\t        d.endAngle = d.startAngle + gTic * gValue;\n\t    }\n\t    return found ? d : null;\n\t};\n\t\n\tc3_chart_internal_fn.getSvgArc = function () {\n\t    var $$ = this,\n\t        hasGaugeType = $$.hasType('gauge'),\n\t        singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length,\n\t        arc = $$.d3.svg.arc().outerRadius(function (d) {\n\t        return hasGaugeType ? $$.radius - singleArcWidth * d.index : $$.radius;\n\t    }).innerRadius(function (d) {\n\t        return hasGaugeType ? $$.radius - singleArcWidth * (d.index + 1) : $$.innerRadius;\n\t    }),\n\t        newArc = function newArc(d, withoutUpdate) {\n\t        var updated;\n\t        if (withoutUpdate) {\n\t            return arc(d);\n\t        } // for interpolate\n\t        updated = $$.updateAngle(d);\n\t        return updated ? arc(updated) : \"M 0 0\";\n\t    };\n\t    // TODO: extends all function\n\t    newArc.centroid = arc.centroid;\n\t    return newArc;\n\t};\n\t\n\tc3_chart_internal_fn.getSvgArcExpanded = function (rate) {\n\t    rate = rate || 1;\n\t    var $$ = this,\n\t        hasGaugeType = $$.hasType('gauge'),\n\t        singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length,\n\t        expandWidth = Math.min($$.radiusExpanded * rate - $$.radius, singleArcWidth * 0.8 - (1 - rate) * 100),\n\t        arc = $$.d3.svg.arc().outerRadius(function (d) {\n\t        return hasGaugeType ? $$.radius - singleArcWidth * d.index + expandWidth : $$.radiusExpanded * rate;\n\t    }).innerRadius(function (d) {\n\t        return hasGaugeType ? $$.radius - singleArcWidth * (d.index + 1) : $$.innerRadius;\n\t    });\n\t    return function (d) {\n\t        var updated = $$.updateAngle(d);\n\t        return updated ? arc(updated) : \"M 0 0\";\n\t    };\n\t};\n\t\n\tc3_chart_internal_fn.getArc = function (d, withoutUpdate, force) {\n\t    return force || this.isArcType(d.data) ? this.svgArc(d, withoutUpdate) : \"M 0 0\";\n\t};\n\t\n\tc3_chart_internal_fn.transformForArcLabel = function (d) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        updated = $$.updateAngle(d),\n\t        c,\n\t        x,\n\t        y,\n\t        h,\n\t        ratio,\n\t        translate = \"\",\n\t        hasGauge = $$.hasType('gauge');\n\t    if (updated && !hasGauge) {\n\t        c = this.svgArc.centroid(updated);\n\t        x = isNaN(c[0]) ? 0 : c[0];\n\t        y = isNaN(c[1]) ? 0 : c[1];\n\t        h = Math.sqrt(x * x + y * y);\n\t        if ($$.hasType('donut') && config.donut_label_ratio) {\n\t            ratio = isFunction(config.donut_label_ratio) ? config.donut_label_ratio(d, $$.radius, h) : config.donut_label_ratio;\n\t        } else if ($$.hasType('pie') && config.pie_label_ratio) {\n\t            ratio = isFunction(config.pie_label_ratio) ? config.pie_label_ratio(d, $$.radius, h) : config.pie_label_ratio;\n\t        } else {\n\t            ratio = $$.radius && h ? (36 / $$.radius > 0.375 ? 1.175 - 36 / $$.radius : 0.8) * $$.radius / h : 0;\n\t        }\n\t        translate = \"translate(\" + x * ratio + ',' + y * ratio + \")\";\n\t    } else if (updated && hasGauge && $$.filterTargetsToShow($$.data.targets).length > 1) {\n\t        var y1 = Math.sin(updated.endAngle - Math.PI / 2);\n\t        x = Math.cos(updated.endAngle - Math.PI / 2) * ($$.radiusExpanded + 25);\n\t        y = y1 * ($$.radiusExpanded + 15 - Math.abs(y1 * 10)) + 3;\n\t        translate = \"translate(\" + x + ',' + y + \")\";\n\t    }\n\t    return translate;\n\t};\n\t\n\tc3_chart_internal_fn.getArcRatio = function (d) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        whole = Math.PI * ($$.hasType('gauge') && !config.gauge_fullCircle ? 1 : 2);\n\t    return d ? (d.endAngle - d.startAngle) / whole : null;\n\t};\n\t\n\tc3_chart_internal_fn.convertToArcData = function (d) {\n\t    return this.addName({\n\t        id: d.data.id,\n\t        value: d.value,\n\t        ratio: this.getArcRatio(d),\n\t        index: d.index\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.textForArcLabel = function (d) {\n\t    var $$ = this,\n\t        updated,\n\t        value,\n\t        ratio,\n\t        id,\n\t        format;\n\t    if (!$$.shouldShowArcLabel()) {\n\t        return \"\";\n\t    }\n\t    updated = $$.updateAngle(d);\n\t    value = updated ? updated.value : null;\n\t    ratio = $$.getArcRatio(updated);\n\t    id = d.data.id;\n\t    if (!$$.hasType('gauge') && !$$.meetsArcLabelThreshold(ratio)) {\n\t        return \"\";\n\t    }\n\t    format = $$.getArcLabelFormat();\n\t    return format ? format(value, ratio, id) : $$.defaultArcValueFormat(value, ratio);\n\t};\n\t\n\tc3_chart_internal_fn.textForGaugeMinMax = function (value, isMax) {\n\t    var $$ = this,\n\t        format = $$.getGaugeLabelExtents();\n\t\n\t    return format ? format(value, isMax) : value;\n\t};\n\t\n\tc3_chart_internal_fn.expandArc = function (targetIds) {\n\t    var $$ = this,\n\t        interval;\n\t\n\t    // MEMO: avoid to cancel transition\n\t    if ($$.transiting) {\n\t        interval = window.setInterval(function () {\n\t            if (!$$.transiting) {\n\t                window.clearInterval(interval);\n\t                if ($$.legend.selectAll('.c3-legend-item-focused').size() > 0) {\n\t                    $$.expandArc(targetIds);\n\t                }\n\t            }\n\t        }, 10);\n\t        return;\n\t    }\n\t\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t\n\t    $$.svg.selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc)).each(function (d) {\n\t        if (!$$.shouldExpand(d.data.id)) {\n\t            return;\n\t        }\n\t        $$.d3.select(this).selectAll('path').transition().duration($$.expandDuration(d.data.id)).attr(\"d\", $$.svgArcExpanded).transition().duration($$.expandDuration(d.data.id) * 2).attr(\"d\", $$.svgArcExpandedSub).each(function (d) {\n\t            if ($$.isDonutType(d.data)) {\n\t                // callback here\n\t            }\n\t        });\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.unexpandArc = function (targetIds) {\n\t    var $$ = this;\n\t\n\t    if ($$.transiting) {\n\t        return;\n\t    }\n\t\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t\n\t    $$.svg.selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc)).selectAll('path').transition().duration(function (d) {\n\t        return $$.expandDuration(d.data.id);\n\t    }).attr(\"d\", $$.svgArc);\n\t    $$.svg.selectAll('.' + CLASS.arc);\n\t};\n\t\n\tc3_chart_internal_fn.expandDuration = function (id) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t\n\t    if ($$.isDonutType(id)) {\n\t        return config.donut_expand_duration;\n\t    } else if ($$.isGaugeType(id)) {\n\t        return config.gauge_expand_duration;\n\t    } else if ($$.isPieType(id)) {\n\t        return config.pie_expand_duration;\n\t    } else {\n\t        return 50;\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.shouldExpand = function (id) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return $$.isDonutType(id) && config.donut_expand || $$.isGaugeType(id) && config.gauge_expand || $$.isPieType(id) && config.pie_expand;\n\t};\n\t\n\tc3_chart_internal_fn.shouldShowArcLabel = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        shouldShow = true;\n\t    if ($$.hasType('donut')) {\n\t        shouldShow = config.donut_label_show;\n\t    } else if ($$.hasType('pie')) {\n\t        shouldShow = config.pie_label_show;\n\t    }\n\t    // when gauge, always true\n\t    return shouldShow;\n\t};\n\t\n\tc3_chart_internal_fn.meetsArcLabelThreshold = function (ratio) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        threshold = $$.hasType('donut') ? config.donut_label_threshold : config.pie_label_threshold;\n\t    return ratio >= threshold;\n\t};\n\t\n\tc3_chart_internal_fn.getArcLabelFormat = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        format = config.pie_label_format;\n\t    if ($$.hasType('gauge')) {\n\t        format = config.gauge_label_format;\n\t    } else if ($$.hasType('donut')) {\n\t        format = config.donut_label_format;\n\t    }\n\t    return format;\n\t};\n\t\n\tc3_chart_internal_fn.getGaugeLabelExtents = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return config.gauge_label_extents;\n\t};\n\t\n\tc3_chart_internal_fn.getArcTitle = function () {\n\t    var $$ = this;\n\t    return $$.hasType('donut') ? $$.config.donut_title : \"\";\n\t};\n\t\n\tc3_chart_internal_fn.updateTargetsForArc = function (targets) {\n\t    var $$ = this,\n\t        main = $$.main,\n\t        mainPieUpdate,\n\t        mainPieEnter,\n\t        classChartArc = $$.classChartArc.bind($$),\n\t        classArcs = $$.classArcs.bind($$),\n\t        classFocus = $$.classFocus.bind($$);\n\t    mainPieUpdate = main.select('.' + CLASS.chartArcs).selectAll('.' + CLASS.chartArc).data($$.pie(targets)).attr(\"class\", function (d) {\n\t        return classChartArc(d) + classFocus(d.data);\n\t    });\n\t    mainPieEnter = mainPieUpdate.enter().append(\"g\").attr(\"class\", classChartArc);\n\t    mainPieEnter.append('g').attr('class', classArcs);\n\t    mainPieEnter.append(\"text\").attr(\"dy\", $$.hasType('gauge') ? \"-.1em\" : \".35em\").style(\"opacity\", 0).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n\t    // MEMO: can not keep same color..., but not bad to update color in redraw\n\t    //mainPieUpdate.exit().remove();\n\t};\n\t\n\tc3_chart_internal_fn.initArc = function () {\n\t    var $$ = this;\n\t    $$.arcs = $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartArcs).attr(\"transform\", $$.getTranslate('arc'));\n\t    $$.arcs.append('text').attr('class', CLASS.chartArcsTitle).style(\"text-anchor\", \"middle\").text($$.getArcTitle());\n\t};\n\t\n\tc3_chart_internal_fn.redrawArc = function (duration, durationForExit, withTransform) {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config,\n\t        main = $$.main,\n\t        mainArc,\n\t        backgroundArc,\n\t        mainArcLabelLine,\n\t        hasGaugeType = $$.hasType('gauge');\n\t    mainArc = main.selectAll('.' + CLASS.arcs).selectAll('.' + CLASS.arc).data($$.arcData.bind($$));\n\t    mainArc.enter().append('path').attr(\"class\", $$.classArc.bind($$)).style(\"fill\", function (d) {\n\t        return $$.color(d.data);\n\t    }).style(\"cursor\", function (d) {\n\t        return config.interaction_enabled && config.data_selection_isselectable(d) ? \"pointer\" : null;\n\t    }).each(function (d) {\n\t        if ($$.isGaugeType(d.data)) {\n\t            d.startAngle = d.endAngle = config.gauge_startingAngle;\n\t        }\n\t        this._current = d;\n\t    });\n\t    if (hasGaugeType) {\n\t        mainArcLabelLine = main.selectAll('.' + CLASS.arcs).selectAll('.' + CLASS.arcLabelLine).data($$.arcData.bind($$));\n\t        mainArcLabelLine.enter().append('rect').attr(\"class\", function (d) {\n\t            return CLASS.arcLabelLine + ' ' + CLASS.target + ' ' + CLASS.target + '-' + d.data.id;\n\t        });\n\t        if ($$.filterTargetsToShow($$.data.targets).length === 1) {\n\t            mainArcLabelLine.style(\"display\", \"none\");\n\t        } else {\n\t            mainArcLabelLine.style(\"fill\", function (d) {\n\t                return config.color_pattern.length > 0 ? $$.levelColor(d.data.values[0].value) : $$.color(d.data);\n\t            }).style(\"display\", config.gauge_labelLine_show ? \"\" : \"none\").each(function (d) {\n\t                var lineLength = 0,\n\t                    lineThickness = 2,\n\t                    x = 0,\n\t                    y = 0,\n\t                    transform = \"\";\n\t                if ($$.hiddenTargetIds.indexOf(d.data.id) < 0) {\n\t                    var updated = $$.updateAngle(d),\n\t                        innerLineLength = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length * (updated.index + 1),\n\t                        lineAngle = updated.endAngle - Math.PI / 2,\n\t                        arcInnerRadius = $$.radius - innerLineLength,\n\t                        linePositioningAngle = lineAngle - (arcInnerRadius === 0 ? 0 : 1 / arcInnerRadius);\n\t                    lineLength = $$.radiusExpanded - $$.radius + innerLineLength;\n\t                    x = Math.cos(linePositioningAngle) * arcInnerRadius;\n\t                    y = Math.sin(linePositioningAngle) * arcInnerRadius;\n\t                    transform = \"rotate(\" + lineAngle * 180 / Math.PI + \", \" + x + \", \" + y + \")\";\n\t                }\n\t                d3.select(this).attr({ x: x, y: y, width: lineLength, height: lineThickness, transform: transform }).style(\"stroke-dasharray\", \"0, \" + (lineLength + lineThickness) + \", 0\");\n\t            });\n\t        }\n\t    }\n\t    mainArc.attr(\"transform\", function (d) {\n\t        return !$$.isGaugeType(d.data) && withTransform ? \"scale(0)\" : \"\";\n\t    }).on('mouseover', config.interaction_enabled ? function (d) {\n\t        var updated, arcData;\n\t        if ($$.transiting) {\n\t            // skip while transiting\n\t            return;\n\t        }\n\t        updated = $$.updateAngle(d);\n\t        if (updated) {\n\t            arcData = $$.convertToArcData(updated);\n\t            // transitions\n\t            $$.expandArc(updated.data.id);\n\t            $$.api.focus(updated.data.id);\n\t            $$.toggleFocusLegend(updated.data.id, true);\n\t            $$.config.data_onmouseover(arcData, this);\n\t        }\n\t    } : null).on('mousemove', config.interaction_enabled ? function (d) {\n\t        var updated = $$.updateAngle(d),\n\t            arcData,\n\t            selectedData;\n\t        if (updated) {\n\t            arcData = $$.convertToArcData(updated), selectedData = [arcData];\n\t            $$.showTooltip(selectedData, this);\n\t        }\n\t    } : null).on('mouseout', config.interaction_enabled ? function (d) {\n\t        var updated, arcData;\n\t        if ($$.transiting) {\n\t            // skip while transiting\n\t            return;\n\t        }\n\t        updated = $$.updateAngle(d);\n\t        if (updated) {\n\t            arcData = $$.convertToArcData(updated);\n\t            // transitions\n\t            $$.unexpandArc(updated.data.id);\n\t            $$.api.revert();\n\t            $$.revertLegend();\n\t            $$.hideTooltip();\n\t            $$.config.data_onmouseout(arcData, this);\n\t        }\n\t    } : null).on('click', config.interaction_enabled ? function (d, i) {\n\t        var updated = $$.updateAngle(d),\n\t            arcData;\n\t        if (updated) {\n\t            arcData = $$.convertToArcData(updated);\n\t            if ($$.toggleShape) {\n\t                $$.toggleShape(this, arcData, i);\n\t            }\n\t            $$.config.data_onclick.call($$.api, arcData, this);\n\t        }\n\t    } : null).each(function () {\n\t        $$.transiting = true;\n\t    }).transition().duration(duration).attrTween(\"d\", function (d) {\n\t        var updated = $$.updateAngle(d),\n\t            interpolate;\n\t        if (!updated) {\n\t            return function () {\n\t                return \"M 0 0\";\n\t            };\n\t        }\n\t        //                if (this._current === d) {\n\t        //                    this._current = {\n\t        //                        startAngle: Math.PI*2,\n\t        //                        endAngle: Math.PI*2,\n\t        //                    };\n\t        //                }\n\t        if (isNaN(this._current.startAngle)) {\n\t            this._current.startAngle = 0;\n\t        }\n\t        if (isNaN(this._current.endAngle)) {\n\t            this._current.endAngle = this._current.startAngle;\n\t        }\n\t        interpolate = d3.interpolate(this._current, updated);\n\t        this._current = interpolate(0);\n\t        return function (t) {\n\t            var interpolated = interpolate(t);\n\t            interpolated.data = d.data; // data.id will be updated by interporator\n\t            return $$.getArc(interpolated, true);\n\t        };\n\t    }).attr(\"transform\", withTransform ? \"scale(1)\" : \"\").style(\"fill\", function (d) {\n\t        return $$.levelColor ? $$.levelColor(d.data.values[0].value) : $$.color(d.data.id);\n\t    }) // Where gauge reading color would receive customization.\n\t    .call($$.endall, function () {\n\t        $$.transiting = false;\n\t    });\n\t    mainArc.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n\t    main.selectAll('.' + CLASS.chartArc).select('text').style(\"opacity\", 0).attr('class', function (d) {\n\t        return $$.isGaugeType(d.data) ? CLASS.gaugeValue : '';\n\t    }).text($$.textForArcLabel.bind($$)).attr(\"transform\", $$.transformForArcLabel.bind($$)).style('font-size', function (d) {\n\t        return $$.isGaugeType(d.data) && $$.filterTargetsToShow($$.data.targets).length === 1 ? Math.round($$.radius / 5) + 'px' : '';\n\t    }).transition().duration(duration).style(\"opacity\", function (d) {\n\t        return $$.isTargetToShow(d.data.id) && $$.isArcType(d.data) ? 1 : 0;\n\t    });\n\t    main.select('.' + CLASS.chartArcsTitle).style(\"opacity\", $$.hasType('donut') || hasGaugeType ? 1 : 0);\n\t\n\t    if (hasGaugeType) {\n\t        var index = 0;\n\t        backgroundArc = $$.arcs.select('g.' + CLASS.chartArcsBackground).selectAll('path.' + CLASS.chartArcsBackground).data($$.data.targets);\n\t        backgroundArc.enter().append(\"path\");\n\t        backgroundArc.attr(\"class\", function (d, i) {\n\t            return CLASS.chartArcsBackground + ' ' + CLASS.chartArcsBackground + '-' + i;\n\t        }).attr(\"d\", function (d1) {\n\t            if ($$.hiddenTargetIds.indexOf(d1.id) >= 0) {\n\t                return \"M 0 0\";\n\t            }\n\t\n\t            var d = {\n\t                data: [{ value: config.gauge_max }],\n\t                startAngle: config.gauge_startingAngle,\n\t                endAngle: -1 * config.gauge_startingAngle * (config.gauge_fullCircle ? Math.PI : 1),\n\t                index: index++\n\t            };\n\t            return $$.getArc(d, true, true);\n\t        });\n\t        backgroundArc.exit().remove();\n\t\n\t        $$.arcs.select('.' + CLASS.chartArcsGaugeUnit).attr(\"dy\", \".75em\").text(config.gauge_label_show ? config.gauge_units : '');\n\t        $$.arcs.select('.' + CLASS.chartArcsGaugeMin).attr(\"dx\", -1 * ($$.innerRadius + ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2)) + \"px\").attr(\"dy\", \"1.2em\").text(config.gauge_label_show ? $$.textForGaugeMinMax(config.gauge_min, false) : '');\n\t        $$.arcs.select('.' + CLASS.chartArcsGaugeMax).attr(\"dx\", $$.innerRadius + ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2) + \"px\").attr(\"dy\", \"1.2em\").text(config.gauge_label_show ? $$.textForGaugeMinMax(config.gauge_max, true) : '');\n\t    }\n\t};\n\tc3_chart_internal_fn.initGauge = function () {\n\t    var arcs = this.arcs;\n\t    if (this.hasType('gauge')) {\n\t        arcs.append('g').attr(\"class\", CLASS.chartArcsBackground);\n\t        arcs.append(\"text\").attr(\"class\", CLASS.chartArcsGaugeUnit).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n\t        arcs.append(\"text\").attr(\"class\", CLASS.chartArcsGaugeMin).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n\t        arcs.append(\"text\").attr(\"class\", CLASS.chartArcsGaugeMax).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n\t    }\n\t};\n\tc3_chart_internal_fn.getGaugeLabelHeight = function () {\n\t    return this.config.gauge_label_show ? 20 : 0;\n\t};\n\t\n\tc3_chart_internal_fn.hasCaches = function (ids) {\n\t    for (var i = 0; i < ids.length; i++) {\n\t        if (!(ids[i] in this.cache)) {\n\t            return false;\n\t        }\n\t    }\n\t    return true;\n\t};\n\tc3_chart_internal_fn.addCache = function (id, target) {\n\t    this.cache[id] = this.cloneTarget(target);\n\t};\n\tc3_chart_internal_fn.getCaches = function (ids) {\n\t    var targets = [],\n\t        i;\n\t    for (i = 0; i < ids.length; i++) {\n\t        if (ids[i] in this.cache) {\n\t            targets.push(this.cloneTarget(this.cache[ids[i]]));\n\t        }\n\t    }\n\t    return targets;\n\t};\n\t\n\tc3_chart_internal_fn.categoryName = function (i) {\n\t    var config = this.config;\n\t    return i < config.axis_x_categories.length ? config.axis_x_categories[i] : i;\n\t};\n\t\n\tc3_chart_internal_fn.generateClass = function (prefix, targetId) {\n\t    return \" \" + prefix + \" \" + prefix + this.getTargetSelectorSuffix(targetId);\n\t};\n\tc3_chart_internal_fn.classText = function (d) {\n\t    return this.generateClass(CLASS.text, d.index);\n\t};\n\tc3_chart_internal_fn.classTexts = function (d) {\n\t    return this.generateClass(CLASS.texts, d.id);\n\t};\n\tc3_chart_internal_fn.classShape = function (d) {\n\t    return this.generateClass(CLASS.shape, d.index);\n\t};\n\tc3_chart_internal_fn.classShapes = function (d) {\n\t    return this.generateClass(CLASS.shapes, d.id);\n\t};\n\tc3_chart_internal_fn.classLine = function (d) {\n\t    return this.classShape(d) + this.generateClass(CLASS.line, d.id);\n\t};\n\tc3_chart_internal_fn.classLines = function (d) {\n\t    return this.classShapes(d) + this.generateClass(CLASS.lines, d.id);\n\t};\n\tc3_chart_internal_fn.classCircle = function (d) {\n\t    return this.classShape(d) + this.generateClass(CLASS.circle, d.index);\n\t};\n\tc3_chart_internal_fn.classCircles = function (d) {\n\t    return this.classShapes(d) + this.generateClass(CLASS.circles, d.id);\n\t};\n\tc3_chart_internal_fn.classBar = function (d) {\n\t    return this.classShape(d) + this.generateClass(CLASS.bar, d.index);\n\t};\n\tc3_chart_internal_fn.classBars = function (d) {\n\t    return this.classShapes(d) + this.generateClass(CLASS.bars, d.id);\n\t};\n\tc3_chart_internal_fn.classArc = function (d) {\n\t    return this.classShape(d.data) + this.generateClass(CLASS.arc, d.data.id);\n\t};\n\tc3_chart_internal_fn.classArcs = function (d) {\n\t    return this.classShapes(d.data) + this.generateClass(CLASS.arcs, d.data.id);\n\t};\n\tc3_chart_internal_fn.classArea = function (d) {\n\t    return this.classShape(d) + this.generateClass(CLASS.area, d.id);\n\t};\n\tc3_chart_internal_fn.classAreas = function (d) {\n\t    return this.classShapes(d) + this.generateClass(CLASS.areas, d.id);\n\t};\n\tc3_chart_internal_fn.classRegion = function (d, i) {\n\t    return this.generateClass(CLASS.region, i) + ' ' + ('class' in d ? d['class'] : '');\n\t};\n\tc3_chart_internal_fn.classEvent = function (d) {\n\t    return this.generateClass(CLASS.eventRect, d.index);\n\t};\n\tc3_chart_internal_fn.classTarget = function (id) {\n\t    var $$ = this;\n\t    var additionalClassSuffix = $$.config.data_classes[id],\n\t        additionalClass = '';\n\t    if (additionalClassSuffix) {\n\t        additionalClass = ' ' + CLASS.target + '-' + additionalClassSuffix;\n\t    }\n\t    return $$.generateClass(CLASS.target, id) + additionalClass;\n\t};\n\tc3_chart_internal_fn.classFocus = function (d) {\n\t    return this.classFocused(d) + this.classDefocused(d);\n\t};\n\tc3_chart_internal_fn.classFocused = function (d) {\n\t    return ' ' + (this.focusedTargetIds.indexOf(d.id) >= 0 ? CLASS.focused : '');\n\t};\n\tc3_chart_internal_fn.classDefocused = function (d) {\n\t    return ' ' + (this.defocusedTargetIds.indexOf(d.id) >= 0 ? CLASS.defocused : '');\n\t};\n\tc3_chart_internal_fn.classChartText = function (d) {\n\t    return CLASS.chartText + this.classTarget(d.id);\n\t};\n\tc3_chart_internal_fn.classChartLine = function (d) {\n\t    return CLASS.chartLine + this.classTarget(d.id);\n\t};\n\tc3_chart_internal_fn.classChartBar = function (d) {\n\t    return CLASS.chartBar + this.classTarget(d.id);\n\t};\n\tc3_chart_internal_fn.classChartArc = function (d) {\n\t    return CLASS.chartArc + this.classTarget(d.data.id);\n\t};\n\tc3_chart_internal_fn.getTargetSelectorSuffix = function (targetId) {\n\t    return targetId || targetId === 0 ? ('-' + targetId).replace(/[\\s?!@#$%^&*()_=+,.<>'\":;\\[\\]\\/|~`{}\\\\]/g, '-') : '';\n\t};\n\tc3_chart_internal_fn.selectorTarget = function (id, prefix) {\n\t    return (prefix || '') + '.' + CLASS.target + this.getTargetSelectorSuffix(id);\n\t};\n\tc3_chart_internal_fn.selectorTargets = function (ids, prefix) {\n\t    var $$ = this;\n\t    ids = ids || [];\n\t    return ids.length ? ids.map(function (id) {\n\t        return $$.selectorTarget(id, prefix);\n\t    }) : null;\n\t};\n\tc3_chart_internal_fn.selectorLegend = function (id) {\n\t    return '.' + CLASS.legendItem + this.getTargetSelectorSuffix(id);\n\t};\n\tc3_chart_internal_fn.selectorLegends = function (ids) {\n\t    var $$ = this;\n\t    return ids && ids.length ? ids.map(function (id) {\n\t        return $$.selectorLegend(id);\n\t    }) : null;\n\t};\n\t\n\tc3_chart_internal_fn.getClipPath = function (id) {\n\t    var isIE9 = window.navigator.appVersion.toLowerCase().indexOf(\"msie 9.\") >= 0;\n\t    return \"url(\" + (isIE9 ? \"\" : document.URL.split('#')[0]) + \"#\" + id + \")\";\n\t};\n\tc3_chart_internal_fn.appendClip = function (parent, id) {\n\t    return parent.append(\"clipPath\").attr(\"id\", id).append(\"rect\");\n\t};\n\tc3_chart_internal_fn.getAxisClipX = function (forHorizontal) {\n\t    // axis line width + padding for left\n\t    var left = Math.max(30, this.margin.left);\n\t    return forHorizontal ? -(1 + left) : -(left - 1);\n\t};\n\tc3_chart_internal_fn.getAxisClipY = function (forHorizontal) {\n\t    return forHorizontal ? -20 : -this.margin.top;\n\t};\n\tc3_chart_internal_fn.getXAxisClipX = function () {\n\t    var $$ = this;\n\t    return $$.getAxisClipX(!$$.config.axis_rotated);\n\t};\n\tc3_chart_internal_fn.getXAxisClipY = function () {\n\t    var $$ = this;\n\t    return $$.getAxisClipY(!$$.config.axis_rotated);\n\t};\n\tc3_chart_internal_fn.getYAxisClipX = function () {\n\t    var $$ = this;\n\t    return $$.config.axis_y_inner ? -1 : $$.getAxisClipX($$.config.axis_rotated);\n\t};\n\tc3_chart_internal_fn.getYAxisClipY = function () {\n\t    var $$ = this;\n\t    return $$.getAxisClipY($$.config.axis_rotated);\n\t};\n\tc3_chart_internal_fn.getAxisClipWidth = function (forHorizontal) {\n\t    var $$ = this,\n\t        left = Math.max(30, $$.margin.left),\n\t        right = Math.max(30, $$.margin.right);\n\t    // width + axis line width + padding for left/right\n\t    return forHorizontal ? $$.width + 2 + left + right : $$.margin.left + 20;\n\t};\n\tc3_chart_internal_fn.getAxisClipHeight = function (forHorizontal) {\n\t    // less than 20 is not enough to show the axis label 'outer' without legend\n\t    return (forHorizontal ? this.margin.bottom : this.margin.top + this.height) + 20;\n\t};\n\tc3_chart_internal_fn.getXAxisClipWidth = function () {\n\t    var $$ = this;\n\t    return $$.getAxisClipWidth(!$$.config.axis_rotated);\n\t};\n\tc3_chart_internal_fn.getXAxisClipHeight = function () {\n\t    var $$ = this;\n\t    return $$.getAxisClipHeight(!$$.config.axis_rotated);\n\t};\n\tc3_chart_internal_fn.getYAxisClipWidth = function () {\n\t    var $$ = this;\n\t    return $$.getAxisClipWidth($$.config.axis_rotated) + ($$.config.axis_y_inner ? 20 : 0);\n\t};\n\tc3_chart_internal_fn.getYAxisClipHeight = function () {\n\t    var $$ = this;\n\t    return $$.getAxisClipHeight($$.config.axis_rotated);\n\t};\n\t\n\tc3_chart_internal_fn.generateColor = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        d3 = $$.d3,\n\t        colors = config.data_colors,\n\t        pattern = notEmpty(config.color_pattern) ? config.color_pattern : d3.scale.category10().range(),\n\t        callback = config.data_color,\n\t        ids = [];\n\t\n\t    return function (d) {\n\t        var id = d.id || d.data && d.data.id || d,\n\t            color;\n\t\n\t        // if callback function is provided\n\t        if (colors[id] instanceof Function) {\n\t            color = colors[id](d);\n\t        }\n\t        // if specified, choose that color\n\t        else if (colors[id]) {\n\t                color = colors[id];\n\t            }\n\t            // if not specified, choose from pattern\n\t            else {\n\t                    if (ids.indexOf(id) < 0) {\n\t                        ids.push(id);\n\t                    }\n\t                    color = pattern[ids.indexOf(id) % pattern.length];\n\t                    colors[id] = color;\n\t                }\n\t        return callback instanceof Function ? callback(color, d) : color;\n\t    };\n\t};\n\tc3_chart_internal_fn.generateLevelColor = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        colors = config.color_pattern,\n\t        threshold = config.color_threshold,\n\t        asValue = threshold.unit === 'value',\n\t        values = threshold.values && threshold.values.length ? threshold.values : [],\n\t        max = threshold.max || 100;\n\t    return notEmpty(config.color_threshold) ? function (value) {\n\t        var i,\n\t            v,\n\t            color = colors[colors.length - 1];\n\t        for (i = 0; i < values.length; i++) {\n\t            v = asValue ? value : value * 100 / max;\n\t            if (v < values[i]) {\n\t                color = colors[i];\n\t                break;\n\t            }\n\t        }\n\t        return color;\n\t    } : null;\n\t};\n\t\n\tc3_chart_internal_fn.getDefaultConfig = function () {\n\t    var config = {\n\t        bindto: '#chart',\n\t        svg_classname: undefined,\n\t        size_width: undefined,\n\t        size_height: undefined,\n\t        padding_left: undefined,\n\t        padding_right: undefined,\n\t        padding_top: undefined,\n\t        padding_bottom: undefined,\n\t        resize_auto: true,\n\t        zoom_enabled: false,\n\t        zoom_extent: undefined,\n\t        zoom_privileged: false,\n\t        zoom_rescale: false,\n\t        zoom_onzoom: function zoom_onzoom() {},\n\t        zoom_onzoomstart: function zoom_onzoomstart() {},\n\t        zoom_onzoomend: function zoom_onzoomend() {},\n\t        zoom_x_min: undefined,\n\t        zoom_x_max: undefined,\n\t        interaction_brighten: true,\n\t        interaction_enabled: true,\n\t        onmouseover: function onmouseover() {},\n\t        onmouseout: function onmouseout() {},\n\t        onresize: function onresize() {},\n\t        onresized: function onresized() {},\n\t        oninit: function oninit() {},\n\t        onrendered: function onrendered() {},\n\t        transition_duration: 350,\n\t        data_x: undefined,\n\t        data_xs: {},\n\t        data_xFormat: '%Y-%m-%d',\n\t        data_xLocaltime: true,\n\t        data_xSort: true,\n\t        data_idConverter: function data_idConverter(id) {\n\t            return id;\n\t        },\n\t        data_names: {},\n\t        data_classes: {},\n\t        data_groups: [],\n\t        data_axes: {},\n\t        data_type: undefined,\n\t        data_types: {},\n\t        data_labels: {},\n\t        data_order: 'desc',\n\t        data_regions: {},\n\t        data_color: undefined,\n\t        data_colors: {},\n\t        data_hide: false,\n\t        data_filter: undefined,\n\t        data_selection_enabled: false,\n\t        data_selection_grouped: false,\n\t        data_selection_isselectable: function data_selection_isselectable() {\n\t            return true;\n\t        },\n\t        data_selection_multiple: true,\n\t        data_selection_draggable: false,\n\t        data_onclick: function data_onclick() {},\n\t        data_onmouseover: function data_onmouseover() {},\n\t        data_onmouseout: function data_onmouseout() {},\n\t        data_onselected: function data_onselected() {},\n\t        data_onunselected: function data_onunselected() {},\n\t        data_url: undefined,\n\t        data_headers: undefined,\n\t        data_json: undefined,\n\t        data_rows: undefined,\n\t        data_columns: undefined,\n\t        data_mimeType: undefined,\n\t        data_keys: undefined,\n\t        // configuration for no plot-able data supplied.\n\t        data_empty_label_text: \"\",\n\t        // subchart\n\t        subchart_show: false,\n\t        subchart_size_height: 60,\n\t        subchart_axis_x_show: true,\n\t        subchart_onbrush: function subchart_onbrush() {},\n\t        // color\n\t        color_pattern: [],\n\t        color_threshold: {},\n\t        // legend\n\t        legend_show: true,\n\t        legend_hide: false,\n\t        legend_position: 'bottom',\n\t        legend_inset_anchor: 'top-left',\n\t        legend_inset_x: 10,\n\t        legend_inset_y: 0,\n\t        legend_inset_step: undefined,\n\t        legend_item_onclick: undefined,\n\t        legend_item_onmouseover: undefined,\n\t        legend_item_onmouseout: undefined,\n\t        legend_equally: false,\n\t        legend_padding: 0,\n\t        legend_item_tile_width: 10,\n\t        legend_item_tile_height: 10,\n\t        // axis\n\t        axis_rotated: false,\n\t        axis_x_show: true,\n\t        axis_x_type: 'indexed',\n\t        axis_x_localtime: true,\n\t        axis_x_categories: [],\n\t        axis_x_tick_centered: false,\n\t        axis_x_tick_format: undefined,\n\t        axis_x_tick_culling: {},\n\t        axis_x_tick_culling_max: 10,\n\t        axis_x_tick_count: undefined,\n\t        axis_x_tick_fit: true,\n\t        axis_x_tick_values: null,\n\t        axis_x_tick_rotate: 0,\n\t        axis_x_tick_outer: true,\n\t        axis_x_tick_multiline: true,\n\t        axis_x_tick_width: null,\n\t        axis_x_max: undefined,\n\t        axis_x_min: undefined,\n\t        axis_x_padding: {},\n\t        axis_x_height: undefined,\n\t        axis_x_extent: undefined,\n\t        axis_x_label: {},\n\t        axis_y_show: true,\n\t        axis_y_type: undefined,\n\t        axis_y_max: undefined,\n\t        axis_y_min: undefined,\n\t        axis_y_inverted: false,\n\t        axis_y_center: undefined,\n\t        axis_y_inner: undefined,\n\t        axis_y_label: {},\n\t        axis_y_tick_format: undefined,\n\t        axis_y_tick_outer: true,\n\t        axis_y_tick_values: null,\n\t        axis_y_tick_rotate: 0,\n\t        axis_y_tick_count: undefined,\n\t        axis_y_tick_time_value: undefined,\n\t        axis_y_tick_time_interval: undefined,\n\t        axis_y_padding: {},\n\t        axis_y_default: undefined,\n\t        axis_y2_show: false,\n\t        axis_y2_max: undefined,\n\t        axis_y2_min: undefined,\n\t        axis_y2_inverted: false,\n\t        axis_y2_center: undefined,\n\t        axis_y2_inner: undefined,\n\t        axis_y2_label: {},\n\t        axis_y2_tick_format: undefined,\n\t        axis_y2_tick_outer: true,\n\t        axis_y2_tick_values: null,\n\t        axis_y2_tick_count: undefined,\n\t        axis_y2_padding: {},\n\t        axis_y2_default: undefined,\n\t        // grid\n\t        grid_x_show: false,\n\t        grid_x_type: 'tick',\n\t        grid_x_lines: [],\n\t        grid_y_show: false,\n\t        // not used\n\t        // grid_y_type: 'tick',\n\t        grid_y_lines: [],\n\t        grid_y_ticks: 10,\n\t        grid_focus_show: true,\n\t        grid_lines_front: true,\n\t        // point - point of each data\n\t        point_show: true,\n\t        point_r: 2.5,\n\t        point_sensitivity: 10,\n\t        point_focus_expand_enabled: true,\n\t        point_focus_expand_r: undefined,\n\t        point_select_r: undefined,\n\t        // line\n\t        line_connectNull: false,\n\t        line_step_type: 'step',\n\t        // bar\n\t        bar_width: undefined,\n\t        bar_width_ratio: 0.6,\n\t        bar_width_max: undefined,\n\t        bar_zerobased: true,\n\t        bar_space: 0,\n\t        // area\n\t        area_zerobased: true,\n\t        area_above: false,\n\t        // pie\n\t        pie_label_show: true,\n\t        pie_label_format: undefined,\n\t        pie_label_threshold: 0.05,\n\t        pie_label_ratio: undefined,\n\t        pie_expand: {},\n\t        pie_expand_duration: 50,\n\t        // gauge\n\t        gauge_fullCircle: false,\n\t        gauge_label_show: true,\n\t        gauge_labelLine_show: true,\n\t        gauge_label_format: undefined,\n\t        gauge_min: 0,\n\t        gauge_max: 100,\n\t        gauge_startingAngle: -1 * Math.PI / 2,\n\t        gauge_label_extents: undefined,\n\t        gauge_units: undefined,\n\t        gauge_width: undefined,\n\t        gauge_arcs_minWidth: 5,\n\t        gauge_expand: {},\n\t        gauge_expand_duration: 50,\n\t        // donut\n\t        donut_label_show: true,\n\t        donut_label_format: undefined,\n\t        donut_label_threshold: 0.05,\n\t        donut_label_ratio: undefined,\n\t        donut_width: undefined,\n\t        donut_title: \"\",\n\t        donut_expand: {},\n\t        donut_expand_duration: 50,\n\t        // spline\n\t        spline_interpolation_type: 'cardinal',\n\t        // region - region to change style\n\t        regions: [],\n\t        // tooltip - show when mouseover on each data\n\t        tooltip_show: true,\n\t        tooltip_grouped: true,\n\t        tooltip_order: undefined,\n\t        tooltip_format_title: undefined,\n\t        tooltip_format_name: undefined,\n\t        tooltip_format_value: undefined,\n\t        tooltip_position: undefined,\n\t        tooltip_contents: function tooltip_contents(d, defaultTitleFormat, defaultValueFormat, color) {\n\t            return this.getTooltipContent ? this.getTooltipContent(d, defaultTitleFormat, defaultValueFormat, color) : '';\n\t        },\n\t        tooltip_init_show: false,\n\t        tooltip_init_x: 0,\n\t        tooltip_init_position: { top: '0px', left: '50px' },\n\t        tooltip_onshow: function tooltip_onshow() {},\n\t        tooltip_onhide: function tooltip_onhide() {},\n\t        // title\n\t        title_text: undefined,\n\t        title_padding: {\n\t            top: 0,\n\t            right: 0,\n\t            bottom: 0,\n\t            left: 0\n\t        },\n\t        title_position: 'top-center'\n\t    };\n\t\n\t    Object.keys(this.additionalConfig).forEach(function (key) {\n\t        config[key] = this.additionalConfig[key];\n\t    }, this);\n\t\n\t    return config;\n\t};\n\tc3_chart_internal_fn.additionalConfig = {};\n\t\n\tc3_chart_internal_fn.loadConfig = function (config) {\n\t    var this_config = this.config,\n\t        target,\n\t        keys,\n\t        read;\n\t    function find() {\n\t        var key = keys.shift();\n\t        //        console.log(\"key =>\", key, \", target =>\", target);\n\t        if (key && target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && key in target) {\n\t            target = target[key];\n\t            return find();\n\t        } else if (!key) {\n\t            return target;\n\t        } else {\n\t            return undefined;\n\t        }\n\t    }\n\t    Object.keys(this_config).forEach(function (key) {\n\t        target = config;\n\t        keys = key.split('_');\n\t        read = find();\n\t        //        console.log(\"CONFIG : \", key, read);\n\t        if (isDefined(read)) {\n\t            this_config[key] = read;\n\t        }\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.convertUrlToData = function (url, mimeType, headers, keys, done) {\n\t    var $$ = this,\n\t        type = mimeType ? mimeType : 'csv';\n\t    var req = $$.d3.xhr(url);\n\t    if (headers) {\n\t        Object.keys(headers).forEach(function (header) {\n\t            req.header(header, headers[header]);\n\t        });\n\t    }\n\t    req.get(function (error, data) {\n\t        var d;\n\t        var dataResponse = data.response || data.responseText; // Fixes IE9 XHR issue; see #1345\n\t        if (!data) {\n\t            throw new Error(error.responseURL + ' ' + error.status + ' (' + error.statusText + ')');\n\t        }\n\t        if (type === 'json') {\n\t            d = $$.convertJsonToData(JSON.parse(dataResponse), keys);\n\t        } else if (type === 'tsv') {\n\t            d = $$.convertTsvToData(dataResponse);\n\t        } else {\n\t            d = $$.convertCsvToData(dataResponse);\n\t        }\n\t        done.call($$, d);\n\t    });\n\t};\n\tc3_chart_internal_fn.convertXsvToData = function (xsv, parser) {\n\t    var rows = parser.parseRows(xsv),\n\t        d;\n\t    if (rows.length === 1) {\n\t        d = [{}];\n\t        rows[0].forEach(function (id) {\n\t            d[0][id] = null;\n\t        });\n\t    } else {\n\t        d = parser.parse(xsv);\n\t    }\n\t    return d;\n\t};\n\tc3_chart_internal_fn.convertCsvToData = function (csv) {\n\t    return this.convertXsvToData(csv, this.d3.csv);\n\t};\n\tc3_chart_internal_fn.convertTsvToData = function (tsv) {\n\t    return this.convertXsvToData(tsv, this.d3.tsv);\n\t};\n\tc3_chart_internal_fn.convertJsonToData = function (json, keys) {\n\t    var $$ = this,\n\t        new_rows = [],\n\t        targetKeys,\n\t        data;\n\t    if (keys) {\n\t        // when keys specified, json would be an array that includes objects\n\t        if (keys.x) {\n\t            targetKeys = keys.value.concat(keys.x);\n\t            $$.config.data_x = keys.x;\n\t        } else {\n\t            targetKeys = keys.value;\n\t        }\n\t        new_rows.push(targetKeys);\n\t        json.forEach(function (o) {\n\t            var new_row = [];\n\t            targetKeys.forEach(function (key) {\n\t                // convert undefined to null because undefined data will be removed in convertDataToTargets()\n\t                var v = $$.findValueInJson(o, key);\n\t                if (isUndefined(v)) {\n\t                    v = null;\n\t                }\n\t                new_row.push(v);\n\t            });\n\t            new_rows.push(new_row);\n\t        });\n\t        data = $$.convertRowsToData(new_rows);\n\t    } else {\n\t        Object.keys(json).forEach(function (key) {\n\t            new_rows.push([key].concat(json[key]));\n\t        });\n\t        data = $$.convertColumnsToData(new_rows);\n\t    }\n\t    return data;\n\t};\n\tc3_chart_internal_fn.findValueInJson = function (object, path) {\n\t    path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties (replace [] with .)\n\t    path = path.replace(/^\\./, ''); // strip a leading dot\n\t    var pathArray = path.split('.');\n\t    for (var i = 0; i < pathArray.length; ++i) {\n\t        var k = pathArray[i];\n\t        if (k in object) {\n\t            object = object[k];\n\t        } else {\n\t            return;\n\t        }\n\t    }\n\t    return object;\n\t};\n\t\n\t/**\n\t * Converts the rows to normalized data.\n\t * @param {any[][]} rows The row data\n\t * @return {Object[]}\n\t */\n\tc3_chart_internal_fn.convertRowsToData = function (rows) {\n\t    var newRows = [];\n\t    var keys = rows[0];\n\t\n\t    for (var i = 1; i < rows.length; i++) {\n\t        var newRow = {};\n\t        for (var j = 0; j < rows[i].length; j++) {\n\t            if (isUndefined(rows[i][j])) {\n\t                throw new Error(\"Source data is missing a component at (\" + i + \",\" + j + \")!\");\n\t            }\n\t            newRow[keys[j]] = rows[i][j];\n\t        }\n\t        newRows.push(newRow);\n\t    }\n\t    return newRows;\n\t};\n\t\n\t/**\n\t * Converts the columns to normalized data.\n\t * @param {any[][]} columns The column data\n\t * @return {Object[]}\n\t */\n\tc3_chart_internal_fn.convertColumnsToData = function (columns) {\n\t    var newRows = [];\n\t\n\t    for (var i = 0; i < columns.length; i++) {\n\t        var key = columns[i][0];\n\t        for (var j = 1; j < columns[i].length; j++) {\n\t            if (isUndefined(newRows[j - 1])) {\n\t                newRows[j - 1] = {};\n\t            }\n\t            if (isUndefined(columns[i][j])) {\n\t                throw new Error(\"Source data is missing a component at (\" + i + \",\" + j + \")!\");\n\t            }\n\t            newRows[j - 1][key] = columns[i][j];\n\t        }\n\t    }\n\t\n\t    return newRows;\n\t};\n\t\n\tc3_chart_internal_fn.convertDataToTargets = function (data, appendXs) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        ids = $$.d3.keys(data[0]).filter($$.isNotX, $$),\n\t        xs = $$.d3.keys(data[0]).filter($$.isX, $$),\n\t        targets;\n\t\n\t    // save x for update data by load when custom x and c3.x API\n\t    ids.forEach(function (id) {\n\t        var xKey = $$.getXKey(id);\n\t\n\t        if ($$.isCustomX() || $$.isTimeSeries()) {\n\t            // if included in input data\n\t            if (xs.indexOf(xKey) >= 0) {\n\t                $$.data.xs[id] = (appendXs && $$.data.xs[id] ? $$.data.xs[id] : []).concat(data.map(function (d) {\n\t                    return d[xKey];\n\t                }).filter(isValue).map(function (rawX, i) {\n\t                    return $$.generateTargetX(rawX, id, i);\n\t                }));\n\t            }\n\t            // if not included in input data, find from preloaded data of other id's x\n\t            else if (config.data_x) {\n\t                    $$.data.xs[id] = $$.getOtherTargetXs();\n\t                }\n\t                // if not included in input data, find from preloaded data\n\t                else if (notEmpty(config.data_xs)) {\n\t                        $$.data.xs[id] = $$.getXValuesOfXKey(xKey, $$.data.targets);\n\t                    }\n\t            // MEMO: if no x included, use same x of current will be used\n\t        } else {\n\t            $$.data.xs[id] = data.map(function (d, i) {\n\t                return i;\n\t            });\n\t        }\n\t    });\n\t\n\t    // check x is defined\n\t    ids.forEach(function (id) {\n\t        if (!$$.data.xs[id]) {\n\t            throw new Error('x is not defined for id = \"' + id + '\".');\n\t        }\n\t    });\n\t\n\t    // convert to target\n\t    targets = ids.map(function (id, index) {\n\t        var convertedId = config.data_idConverter(id);\n\t        return {\n\t            id: convertedId,\n\t            id_org: id,\n\t            values: data.map(function (d, i) {\n\t                var xKey = $$.getXKey(id),\n\t                    rawX = d[xKey],\n\t                    value = d[id] !== null && !isNaN(d[id]) ? +d[id] : null,\n\t                    x;\n\t                // use x as categories if custom x and categorized\n\t                if ($$.isCustomX() && $$.isCategorized() && !isUndefined(rawX)) {\n\t                    if (index === 0 && i === 0) {\n\t                        config.axis_x_categories = [];\n\t                    }\n\t                    x = config.axis_x_categories.indexOf(rawX);\n\t                    if (x === -1) {\n\t                        x = config.axis_x_categories.length;\n\t                        config.axis_x_categories.push(rawX);\n\t                    }\n\t                } else {\n\t                    x = $$.generateTargetX(rawX, id, i);\n\t                }\n\t                // mark as x = undefined if value is undefined and filter to remove after mapped\n\t                if (isUndefined(d[id]) || $$.data.xs[id].length <= i) {\n\t                    x = undefined;\n\t                }\n\t                return { x: x, value: value, id: convertedId };\n\t            }).filter(function (v) {\n\t                return isDefined(v.x);\n\t            })\n\t        };\n\t    });\n\t\n\t    // finish targets\n\t    targets.forEach(function (t) {\n\t        var i;\n\t        // sort values by its x\n\t        if (config.data_xSort) {\n\t            t.values = t.values.sort(function (v1, v2) {\n\t                var x1 = v1.x || v1.x === 0 ? v1.x : Infinity,\n\t                    x2 = v2.x || v2.x === 0 ? v2.x : Infinity;\n\t                return x1 - x2;\n\t            });\n\t        }\n\t        // indexing each value\n\t        i = 0;\n\t        t.values.forEach(function (v) {\n\t            v.index = i++;\n\t        });\n\t        // this needs to be sorted because its index and value.index is identical\n\t        $$.data.xs[t.id].sort(function (v1, v2) {\n\t            return v1 - v2;\n\t        });\n\t    });\n\t\n\t    // cache information about values\n\t    $$.hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n\t    $$.hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n\t\n\t    // set target types\n\t    if (config.data_type) {\n\t        $$.setTargetType($$.mapToIds(targets).filter(function (id) {\n\t            return !(id in config.data_types);\n\t        }), config.data_type);\n\t    }\n\t\n\t    // cache as original id keyed\n\t    targets.forEach(function (d) {\n\t        $$.addCache(d.id_org, d);\n\t    });\n\t\n\t    return targets;\n\t};\n\t\n\tc3_chart_internal_fn.isX = function (key) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return config.data_x && key === config.data_x || notEmpty(config.data_xs) && hasValue(config.data_xs, key);\n\t};\n\tc3_chart_internal_fn.isNotX = function (key) {\n\t    return !this.isX(key);\n\t};\n\tc3_chart_internal_fn.getXKey = function (id) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return config.data_x ? config.data_x : notEmpty(config.data_xs) ? config.data_xs[id] : null;\n\t};\n\tc3_chart_internal_fn.getXValuesOfXKey = function (key, targets) {\n\t    var $$ = this,\n\t        xValues,\n\t        ids = targets && notEmpty(targets) ? $$.mapToIds(targets) : [];\n\t    ids.forEach(function (id) {\n\t        if ($$.getXKey(id) === key) {\n\t            xValues = $$.data.xs[id];\n\t        }\n\t    });\n\t    return xValues;\n\t};\n\tc3_chart_internal_fn.getIndexByX = function (x) {\n\t    var $$ = this,\n\t        data = $$.filterByX($$.data.targets, x);\n\t    return data.length ? data[0].index : null;\n\t};\n\tc3_chart_internal_fn.getXValue = function (id, i) {\n\t    var $$ = this;\n\t    return id in $$.data.xs && $$.data.xs[id] && isValue($$.data.xs[id][i]) ? $$.data.xs[id][i] : i;\n\t};\n\tc3_chart_internal_fn.getOtherTargetXs = function () {\n\t    var $$ = this,\n\t        idsForX = Object.keys($$.data.xs);\n\t    return idsForX.length ? $$.data.xs[idsForX[0]] : null;\n\t};\n\tc3_chart_internal_fn.getOtherTargetX = function (index) {\n\t    var xs = this.getOtherTargetXs();\n\t    return xs && index < xs.length ? xs[index] : null;\n\t};\n\tc3_chart_internal_fn.addXs = function (xs) {\n\t    var $$ = this;\n\t    Object.keys(xs).forEach(function (id) {\n\t        $$.config.data_xs[id] = xs[id];\n\t    });\n\t};\n\tc3_chart_internal_fn.hasMultipleX = function (xs) {\n\t    return this.d3.set(Object.keys(xs).map(function (id) {\n\t        return xs[id];\n\t    })).size() > 1;\n\t};\n\tc3_chart_internal_fn.isMultipleX = function () {\n\t    return notEmpty(this.config.data_xs) || !this.config.data_xSort || this.hasType('scatter');\n\t};\n\tc3_chart_internal_fn.addName = function (data) {\n\t    var $$ = this,\n\t        name;\n\t    if (data) {\n\t        name = $$.config.data_names[data.id];\n\t        data.name = name !== undefined ? name : data.id;\n\t    }\n\t    return data;\n\t};\n\tc3_chart_internal_fn.getValueOnIndex = function (values, index) {\n\t    var valueOnIndex = values.filter(function (v) {\n\t        return v.index === index;\n\t    });\n\t    return valueOnIndex.length ? valueOnIndex[0] : null;\n\t};\n\tc3_chart_internal_fn.updateTargetX = function (targets, x) {\n\t    var $$ = this;\n\t    targets.forEach(function (t) {\n\t        t.values.forEach(function (v, i) {\n\t            v.x = $$.generateTargetX(x[i], t.id, i);\n\t        });\n\t        $$.data.xs[t.id] = x;\n\t    });\n\t};\n\tc3_chart_internal_fn.updateTargetXs = function (targets, xs) {\n\t    var $$ = this;\n\t    targets.forEach(function (t) {\n\t        if (xs[t.id]) {\n\t            $$.updateTargetX([t], xs[t.id]);\n\t        }\n\t    });\n\t};\n\tc3_chart_internal_fn.generateTargetX = function (rawX, id, index) {\n\t    var $$ = this,\n\t        x;\n\t    if ($$.isTimeSeries()) {\n\t        x = rawX ? $$.parseDate(rawX) : $$.parseDate($$.getXValue(id, index));\n\t    } else if ($$.isCustomX() && !$$.isCategorized()) {\n\t        x = isValue(rawX) ? +rawX : $$.getXValue(id, index);\n\t    } else {\n\t        x = index;\n\t    }\n\t    return x;\n\t};\n\tc3_chart_internal_fn.cloneTarget = function (target) {\n\t    return {\n\t        id: target.id,\n\t        id_org: target.id_org,\n\t        values: target.values.map(function (d) {\n\t            return { x: d.x, value: d.value, id: d.id };\n\t        })\n\t    };\n\t};\n\tc3_chart_internal_fn.updateXs = function () {\n\t    var $$ = this;\n\t    if ($$.data.targets.length) {\n\t        $$.xs = [];\n\t        $$.data.targets[0].values.forEach(function (v) {\n\t            $$.xs[v.index] = v.x;\n\t        });\n\t    }\n\t};\n\tc3_chart_internal_fn.getPrevX = function (i) {\n\t    var x = this.xs[i - 1];\n\t    return typeof x !== 'undefined' ? x : null;\n\t};\n\tc3_chart_internal_fn.getNextX = function (i) {\n\t    var x = this.xs[i + 1];\n\t    return typeof x !== 'undefined' ? x : null;\n\t};\n\tc3_chart_internal_fn.getMaxDataCount = function () {\n\t    var $$ = this;\n\t    return $$.d3.max($$.data.targets, function (t) {\n\t        return t.values.length;\n\t    });\n\t};\n\tc3_chart_internal_fn.getMaxDataCountTarget = function (targets) {\n\t    var length = targets.length,\n\t        max = 0,\n\t        maxTarget;\n\t    if (length > 1) {\n\t        targets.forEach(function (t) {\n\t            if (t.values.length > max) {\n\t                maxTarget = t;\n\t                max = t.values.length;\n\t            }\n\t        });\n\t    } else {\n\t        maxTarget = length ? targets[0] : null;\n\t    }\n\t    return maxTarget;\n\t};\n\tc3_chart_internal_fn.getEdgeX = function (targets) {\n\t    var $$ = this;\n\t    return !targets.length ? [0, 0] : [$$.d3.min(targets, function (t) {\n\t        return t.values[0].x;\n\t    }), $$.d3.max(targets, function (t) {\n\t        return t.values[t.values.length - 1].x;\n\t    })];\n\t};\n\tc3_chart_internal_fn.mapToIds = function (targets) {\n\t    return targets.map(function (d) {\n\t        return d.id;\n\t    });\n\t};\n\tc3_chart_internal_fn.mapToTargetIds = function (ids) {\n\t    var $$ = this;\n\t    return ids ? [].concat(ids) : $$.mapToIds($$.data.targets);\n\t};\n\tc3_chart_internal_fn.hasTarget = function (targets, id) {\n\t    var ids = this.mapToIds(targets),\n\t        i;\n\t    for (i = 0; i < ids.length; i++) {\n\t        if (ids[i] === id) {\n\t            return true;\n\t        }\n\t    }\n\t    return false;\n\t};\n\tc3_chart_internal_fn.isTargetToShow = function (targetId) {\n\t    return this.hiddenTargetIds.indexOf(targetId) < 0;\n\t};\n\tc3_chart_internal_fn.isLegendToShow = function (targetId) {\n\t    return this.hiddenLegendIds.indexOf(targetId) < 0;\n\t};\n\tc3_chart_internal_fn.filterTargetsToShow = function (targets) {\n\t    var $$ = this;\n\t    return targets.filter(function (t) {\n\t        return $$.isTargetToShow(t.id);\n\t    });\n\t};\n\tc3_chart_internal_fn.mapTargetsToUniqueXs = function (targets) {\n\t    var $$ = this;\n\t    var xs = $$.d3.set($$.d3.merge(targets.map(function (t) {\n\t        return t.values.map(function (v) {\n\t            return +v.x;\n\t        });\n\t    }))).values();\n\t    xs = $$.isTimeSeries() ? xs.map(function (x) {\n\t        return new Date(+x);\n\t    }) : xs.map(function (x) {\n\t        return +x;\n\t    });\n\t    return xs.sort(function (a, b) {\n\t        return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n\t    });\n\t};\n\tc3_chart_internal_fn.addHiddenTargetIds = function (targetIds) {\n\t    targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\n\t    for (var i = 0; i < targetIds.length; i++) {\n\t        if (this.hiddenTargetIds.indexOf(targetIds[i]) < 0) {\n\t            this.hiddenTargetIds = this.hiddenTargetIds.concat(targetIds[i]);\n\t        }\n\t    }\n\t};\n\tc3_chart_internal_fn.removeHiddenTargetIds = function (targetIds) {\n\t    this.hiddenTargetIds = this.hiddenTargetIds.filter(function (id) {\n\t        return targetIds.indexOf(id) < 0;\n\t    });\n\t};\n\tc3_chart_internal_fn.addHiddenLegendIds = function (targetIds) {\n\t    targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\n\t    for (var i = 0; i < targetIds.length; i++) {\n\t        if (this.hiddenLegendIds.indexOf(targetIds[i]) < 0) {\n\t            this.hiddenLegendIds = this.hiddenLegendIds.concat(targetIds[i]);\n\t        }\n\t    }\n\t};\n\tc3_chart_internal_fn.removeHiddenLegendIds = function (targetIds) {\n\t    this.hiddenLegendIds = this.hiddenLegendIds.filter(function (id) {\n\t        return targetIds.indexOf(id) < 0;\n\t    });\n\t};\n\tc3_chart_internal_fn.getValuesAsIdKeyed = function (targets) {\n\t    var ys = {};\n\t    targets.forEach(function (t) {\n\t        ys[t.id] = [];\n\t        t.values.forEach(function (v) {\n\t            ys[t.id].push(v.value);\n\t        });\n\t    });\n\t    return ys;\n\t};\n\tc3_chart_internal_fn.checkValueInTargets = function (targets, checker) {\n\t    var ids = Object.keys(targets),\n\t        i,\n\t        j,\n\t        values;\n\t    for (i = 0; i < ids.length; i++) {\n\t        values = targets[ids[i]].values;\n\t        for (j = 0; j < values.length; j++) {\n\t            if (checker(values[j].value)) {\n\t                return true;\n\t            }\n\t        }\n\t    }\n\t    return false;\n\t};\n\tc3_chart_internal_fn.hasNegativeValueInTargets = function (targets) {\n\t    return this.checkValueInTargets(targets, function (v) {\n\t        return v < 0;\n\t    });\n\t};\n\tc3_chart_internal_fn.hasPositiveValueInTargets = function (targets) {\n\t    return this.checkValueInTargets(targets, function (v) {\n\t        return v > 0;\n\t    });\n\t};\n\tc3_chart_internal_fn.isOrderDesc = function () {\n\t    var config = this.config;\n\t    return typeof config.data_order === 'string' && config.data_order.toLowerCase() === 'desc';\n\t};\n\tc3_chart_internal_fn.isOrderAsc = function () {\n\t    var config = this.config;\n\t    return typeof config.data_order === 'string' && config.data_order.toLowerCase() === 'asc';\n\t};\n\tc3_chart_internal_fn.getOrderFunction = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        orderAsc = $$.isOrderAsc(),\n\t        orderDesc = $$.isOrderDesc();\n\t    if (orderAsc || orderDesc) {\n\t        return function (t1, t2) {\n\t            var reducer = function reducer(p, c) {\n\t                return p + Math.abs(c.value);\n\t            };\n\t            var t1Sum = t1.values.reduce(reducer, 0),\n\t                t2Sum = t2.values.reduce(reducer, 0);\n\t            return orderDesc ? t2Sum - t1Sum : t1Sum - t2Sum;\n\t        };\n\t    } else if (isFunction(config.data_order)) {\n\t        return config.data_order;\n\t    } else if (isArray(config.data_order)) {\n\t        var order = config.data_order;\n\t        return function (t1, t2) {\n\t            return order.indexOf(t1.id) - order.indexOf(t2.id);\n\t        };\n\t    }\n\t};\n\tc3_chart_internal_fn.orderTargets = function (targets) {\n\t    var fct = this.getOrderFunction();\n\t    if (fct) {\n\t        targets.sort(fct);\n\t        if (this.isOrderAsc() || this.isOrderDesc()) {\n\t            targets.reverse();\n\t        }\n\t    }\n\t    return targets;\n\t};\n\tc3_chart_internal_fn.filterByX = function (targets, x) {\n\t    return this.d3.merge(targets.map(function (t) {\n\t        return t.values;\n\t    })).filter(function (v) {\n\t        return v.x - x === 0;\n\t    });\n\t};\n\tc3_chart_internal_fn.filterRemoveNull = function (data) {\n\t    return data.filter(function (d) {\n\t        return isValue(d.value);\n\t    });\n\t};\n\tc3_chart_internal_fn.filterByXDomain = function (targets, xDomain) {\n\t    return targets.map(function (t) {\n\t        return {\n\t            id: t.id,\n\t            id_org: t.id_org,\n\t            values: t.values.filter(function (v) {\n\t                return xDomain[0] <= v.x && v.x <= xDomain[1];\n\t            })\n\t        };\n\t    });\n\t};\n\tc3_chart_internal_fn.hasDataLabel = function () {\n\t    var config = this.config;\n\t    if (typeof config.data_labels === 'boolean' && config.data_labels) {\n\t        return true;\n\t    } else if (_typeof(config.data_labels) === 'object' && notEmpty(config.data_labels)) {\n\t        return true;\n\t    }\n\t    return false;\n\t};\n\tc3_chart_internal_fn.getDataLabelLength = function (min, max, key) {\n\t    var $$ = this,\n\t        lengths = [0, 0],\n\t        paddingCoef = 1.3;\n\t    $$.selectChart.select('svg').selectAll('.dummy').data([min, max]).enter().append('text').text(function (d) {\n\t        return $$.dataLabelFormat(d.id)(d);\n\t    }).each(function (d, i) {\n\t        lengths[i] = this.getBoundingClientRect()[key] * paddingCoef;\n\t    }).remove();\n\t    return lengths;\n\t};\n\tc3_chart_internal_fn.isNoneArc = function (d) {\n\t    return this.hasTarget(this.data.targets, d.id);\n\t}, c3_chart_internal_fn.isArc = function (d) {\n\t    return 'data' in d && this.hasTarget(this.data.targets, d.data.id);\n\t};\n\tc3_chart_internal_fn.findSameXOfValues = function (values, index) {\n\t    var i,\n\t        targetX = values[index].x,\n\t        sames = [];\n\t    for (i = index - 1; i >= 0; i--) {\n\t        if (targetX !== values[i].x) {\n\t            break;\n\t        }\n\t        sames.push(values[i]);\n\t    }\n\t    for (i = index; i < values.length; i++) {\n\t        if (targetX !== values[i].x) {\n\t            break;\n\t        }\n\t        sames.push(values[i]);\n\t    }\n\t    return sames;\n\t};\n\t\n\tc3_chart_internal_fn.findClosestFromTargets = function (targets, pos) {\n\t    var $$ = this,\n\t        candidates;\n\t\n\t    // map to array of closest points of each target\n\t    candidates = targets.map(function (target) {\n\t        return $$.findClosest(target.values, pos);\n\t    });\n\t\n\t    // decide closest point and return\n\t    return $$.findClosest(candidates, pos);\n\t};\n\tc3_chart_internal_fn.findClosest = function (values, pos) {\n\t    var $$ = this,\n\t        minDist = $$.config.point_sensitivity,\n\t        closest;\n\t\n\t    // find mouseovering bar\n\t    values.filter(function (v) {\n\t        return v && $$.isBarType(v.id);\n\t    }).forEach(function (v) {\n\t        var shape = $$.main.select('.' + CLASS.bars + $$.getTargetSelectorSuffix(v.id) + ' .' + CLASS.bar + '-' + v.index).node();\n\t        if (!closest && $$.isWithinBar(shape)) {\n\t            closest = v;\n\t        }\n\t    });\n\t\n\t    // find closest point from non-bar\n\t    values.filter(function (v) {\n\t        return v && !$$.isBarType(v.id);\n\t    }).forEach(function (v) {\n\t        var d = $$.dist(v, pos);\n\t        if (d < minDist) {\n\t            minDist = d;\n\t            closest = v;\n\t        }\n\t    });\n\t\n\t    return closest;\n\t};\n\tc3_chart_internal_fn.dist = function (data, pos) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        xIndex = config.axis_rotated ? 1 : 0,\n\t        yIndex = config.axis_rotated ? 0 : 1,\n\t        y = $$.circleY(data, data.index),\n\t        x = $$.x(data.x);\n\t    return Math.sqrt(Math.pow(x - pos[xIndex], 2) + Math.pow(y - pos[yIndex], 2));\n\t};\n\tc3_chart_internal_fn.convertValuesToStep = function (values) {\n\t    var converted = [].concat(values),\n\t        i;\n\t\n\t    if (!this.isCategorized()) {\n\t        return values;\n\t    }\n\t\n\t    for (i = values.length + 1; 0 < i; i--) {\n\t        converted[i] = converted[i - 1];\n\t    }\n\t\n\t    converted[0] = {\n\t        x: converted[0].x - 1,\n\t        value: converted[0].value,\n\t        id: converted[0].id\n\t    };\n\t    converted[values.length + 1] = {\n\t        x: converted[values.length].x + 1,\n\t        value: converted[values.length].value,\n\t        id: converted[values.length].id\n\t    };\n\t\n\t    return converted;\n\t};\n\tc3_chart_internal_fn.updateDataAttributes = function (name, attrs) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        current = config['data_' + name];\n\t    if (typeof attrs === 'undefined') {\n\t        return current;\n\t    }\n\t    Object.keys(attrs).forEach(function (id) {\n\t        current[id] = attrs[id];\n\t    });\n\t    $$.redraw({ withLegend: true });\n\t    return current;\n\t};\n\t\n\tc3_chart_internal_fn.load = function (targets, args) {\n\t    var $$ = this;\n\t    if (targets) {\n\t        // filter loading targets if needed\n\t        if (args.filter) {\n\t            targets = targets.filter(args.filter);\n\t        }\n\t        // set type if args.types || args.type specified\n\t        if (args.type || args.types) {\n\t            targets.forEach(function (t) {\n\t                var type = args.types && args.types[t.id] ? args.types[t.id] : args.type;\n\t                $$.setTargetType(t.id, type);\n\t            });\n\t        }\n\t        // Update/Add data\n\t        $$.data.targets.forEach(function (d) {\n\t            for (var i = 0; i < targets.length; i++) {\n\t                if (d.id === targets[i].id) {\n\t                    d.values = targets[i].values;\n\t                    targets.splice(i, 1);\n\t                    break;\n\t                }\n\t            }\n\t        });\n\t        $$.data.targets = $$.data.targets.concat(targets); // add remained\n\t    }\n\t\n\t    // Set targets\n\t    $$.updateTargets($$.data.targets);\n\t\n\t    // Redraw with new targets\n\t    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n\t\n\t    if (args.done) {\n\t        args.done();\n\t    }\n\t};\n\tc3_chart_internal_fn.loadFromArgs = function (args) {\n\t    var $$ = this;\n\t    if (args.data) {\n\t        $$.load($$.convertDataToTargets(args.data), args);\n\t    } else if (args.url) {\n\t        $$.convertUrlToData(args.url, args.mimeType, args.headers, args.keys, function (data) {\n\t            $$.load($$.convertDataToTargets(data), args);\n\t        });\n\t    } else if (args.json) {\n\t        $$.load($$.convertDataToTargets($$.convertJsonToData(args.json, args.keys)), args);\n\t    } else if (args.rows) {\n\t        $$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)), args);\n\t    } else if (args.columns) {\n\t        $$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)), args);\n\t    } else {\n\t        $$.load(null, args);\n\t    }\n\t};\n\tc3_chart_internal_fn.unload = function (targetIds, done) {\n\t    var $$ = this;\n\t    if (!done) {\n\t        done = function done() {};\n\t    }\n\t    // filter existing target\n\t    targetIds = targetIds.filter(function (id) {\n\t        return $$.hasTarget($$.data.targets, id);\n\t    });\n\t    // If no target, call done and return\n\t    if (!targetIds || targetIds.length === 0) {\n\t        done();\n\t        return;\n\t    }\n\t    $$.svg.selectAll(targetIds.map(function (id) {\n\t        return $$.selectorTarget(id);\n\t    })).transition().style('opacity', 0).remove().call($$.endall, done);\n\t    targetIds.forEach(function (id) {\n\t        // Reset fadein for future load\n\t        $$.withoutFadeIn[id] = false;\n\t        // Remove target's elements\n\t        if ($$.legend) {\n\t            $$.legend.selectAll('.' + CLASS.legendItem + $$.getTargetSelectorSuffix(id)).remove();\n\t        }\n\t        // Remove target\n\t        $$.data.targets = $$.data.targets.filter(function (t) {\n\t            return t.id !== id;\n\t        });\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.getYDomainMin = function (targets) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        ids = $$.mapToIds(targets),\n\t        ys = $$.getValuesAsIdKeyed(targets),\n\t        j,\n\t        k,\n\t        baseId,\n\t        idsInGroup,\n\t        id,\n\t        hasNegativeValue;\n\t    if (config.data_groups.length > 0) {\n\t        hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n\t        for (j = 0; j < config.data_groups.length; j++) {\n\t            // Determine baseId\n\t            idsInGroup = config.data_groups[j].filter(function (id) {\n\t                return ids.indexOf(id) >= 0;\n\t            });\n\t            if (idsInGroup.length === 0) {\n\t                continue;\n\t            }\n\t            baseId = idsInGroup[0];\n\t            // Consider negative values\n\t            if (hasNegativeValue && ys[baseId]) {\n\t                ys[baseId].forEach(function (v, i) {\n\t                    ys[baseId][i] = v < 0 ? v : 0;\n\t                });\n\t            }\n\t            // Compute min\n\t            for (k = 1; k < idsInGroup.length; k++) {\n\t                id = idsInGroup[k];\n\t                if (!ys[id]) {\n\t                    continue;\n\t                }\n\t                ys[id].forEach(function (v, i) {\n\t                    if ($$.axis.getId(id) === $$.axis.getId(baseId) && ys[baseId] && !(hasNegativeValue && +v > 0)) {\n\t                        ys[baseId][i] += +v;\n\t                    }\n\t                });\n\t            }\n\t        }\n\t    }\n\t    return $$.d3.min(Object.keys(ys).map(function (key) {\n\t        return $$.d3.min(ys[key]);\n\t    }));\n\t};\n\tc3_chart_internal_fn.getYDomainMax = function (targets) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        ids = $$.mapToIds(targets),\n\t        ys = $$.getValuesAsIdKeyed(targets),\n\t        j,\n\t        k,\n\t        baseId,\n\t        idsInGroup,\n\t        id,\n\t        hasPositiveValue;\n\t    if (config.data_groups.length > 0) {\n\t        hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n\t        for (j = 0; j < config.data_groups.length; j++) {\n\t            // Determine baseId\n\t            idsInGroup = config.data_groups[j].filter(function (id) {\n\t                return ids.indexOf(id) >= 0;\n\t            });\n\t            if (idsInGroup.length === 0) {\n\t                continue;\n\t            }\n\t            baseId = idsInGroup[0];\n\t            // Consider positive values\n\t            if (hasPositiveValue && ys[baseId]) {\n\t                ys[baseId].forEach(function (v, i) {\n\t                    ys[baseId][i] = v > 0 ? v : 0;\n\t                });\n\t            }\n\t            // Compute max\n\t            for (k = 1; k < idsInGroup.length; k++) {\n\t                id = idsInGroup[k];\n\t                if (!ys[id]) {\n\t                    continue;\n\t                }\n\t                ys[id].forEach(function (v, i) {\n\t                    if ($$.axis.getId(id) === $$.axis.getId(baseId) && ys[baseId] && !(hasPositiveValue && +v < 0)) {\n\t                        ys[baseId][i] += +v;\n\t                    }\n\t                });\n\t            }\n\t        }\n\t    }\n\t    return $$.d3.max(Object.keys(ys).map(function (key) {\n\t        return $$.d3.max(ys[key]);\n\t    }));\n\t};\n\tc3_chart_internal_fn.getYDomain = function (targets, axisId, xDomain) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        targetsByAxisId = targets.filter(function (t) {\n\t        return $$.axis.getId(t.id) === axisId;\n\t    }),\n\t        yTargets = xDomain ? $$.filterByXDomain(targetsByAxisId, xDomain) : targetsByAxisId,\n\t        yMin = axisId === 'y2' ? config.axis_y2_min : config.axis_y_min,\n\t        yMax = axisId === 'y2' ? config.axis_y2_max : config.axis_y_max,\n\t        yDomainMin = $$.getYDomainMin(yTargets),\n\t        yDomainMax = $$.getYDomainMax(yTargets),\n\t        domain,\n\t        domainLength,\n\t        padding,\n\t        padding_top,\n\t        padding_bottom,\n\t        center = axisId === 'y2' ? config.axis_y2_center : config.axis_y_center,\n\t        yDomainAbs,\n\t        lengths,\n\t        diff,\n\t        ratio,\n\t        isAllPositive,\n\t        isAllNegative,\n\t        isZeroBased = $$.hasType('bar', yTargets) && config.bar_zerobased || $$.hasType('area', yTargets) && config.area_zerobased,\n\t        isInverted = axisId === 'y2' ? config.axis_y2_inverted : config.axis_y_inverted,\n\t        showHorizontalDataLabel = $$.hasDataLabel() && config.axis_rotated,\n\t        showVerticalDataLabel = $$.hasDataLabel() && !config.axis_rotated;\n\t\n\t    // MEMO: avoid inverting domain unexpectedly\n\t    yDomainMin = isValue(yMin) ? yMin : isValue(yMax) ? yDomainMin < yMax ? yDomainMin : yMax - 10 : yDomainMin;\n\t    yDomainMax = isValue(yMax) ? yMax : isValue(yMin) ? yMin < yDomainMax ? yDomainMax : yMin + 10 : yDomainMax;\n\t\n\t    if (yTargets.length === 0) {\n\t        // use current domain if target of axisId is none\n\t        return axisId === 'y2' ? $$.y2.domain() : $$.y.domain();\n\t    }\n\t    if (isNaN(yDomainMin)) {\n\t        // set minimum to zero when not number\n\t        yDomainMin = 0;\n\t    }\n\t    if (isNaN(yDomainMax)) {\n\t        // set maximum to have same value as yDomainMin\n\t        yDomainMax = yDomainMin;\n\t    }\n\t    if (yDomainMin === yDomainMax) {\n\t        yDomainMin < 0 ? yDomainMax = 0 : yDomainMin = 0;\n\t    }\n\t    isAllPositive = yDomainMin >= 0 && yDomainMax >= 0;\n\t    isAllNegative = yDomainMin <= 0 && yDomainMax <= 0;\n\t\n\t    // Cancel zerobased if axis_*_min / axis_*_max specified\n\t    if (isValue(yMin) && isAllPositive || isValue(yMax) && isAllNegative) {\n\t        isZeroBased = false;\n\t    }\n\t\n\t    // Bar/Area chart should be 0-based if all positive|negative\n\t    if (isZeroBased) {\n\t        if (isAllPositive) {\n\t            yDomainMin = 0;\n\t        }\n\t        if (isAllNegative) {\n\t            yDomainMax = 0;\n\t        }\n\t    }\n\t\n\t    domainLength = Math.abs(yDomainMax - yDomainMin);\n\t    padding = padding_top = padding_bottom = domainLength * 0.1;\n\t\n\t    if (typeof center !== 'undefined') {\n\t        yDomainAbs = Math.max(Math.abs(yDomainMin), Math.abs(yDomainMax));\n\t        yDomainMax = center + yDomainAbs;\n\t        yDomainMin = center - yDomainAbs;\n\t    }\n\t    // add padding for data label\n\t    if (showHorizontalDataLabel) {\n\t        lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'width');\n\t        diff = diffDomain($$.y.range());\n\t        ratio = [lengths[0] / diff, lengths[1] / diff];\n\t        padding_top += domainLength * (ratio[1] / (1 - ratio[0] - ratio[1]));\n\t        padding_bottom += domainLength * (ratio[0] / (1 - ratio[0] - ratio[1]));\n\t    } else if (showVerticalDataLabel) {\n\t        lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'height');\n\t        padding_top += $$.axis.convertPixelsToAxisPadding(lengths[1], domainLength);\n\t        padding_bottom += $$.axis.convertPixelsToAxisPadding(lengths[0], domainLength);\n\t    }\n\t    if (axisId === 'y' && notEmpty(config.axis_y_padding)) {\n\t        padding_top = $$.axis.getPadding(config.axis_y_padding, 'top', padding_top, domainLength);\n\t        padding_bottom = $$.axis.getPadding(config.axis_y_padding, 'bottom', padding_bottom, domainLength);\n\t    }\n\t    if (axisId === 'y2' && notEmpty(config.axis_y2_padding)) {\n\t        padding_top = $$.axis.getPadding(config.axis_y2_padding, 'top', padding_top, domainLength);\n\t        padding_bottom = $$.axis.getPadding(config.axis_y2_padding, 'bottom', padding_bottom, domainLength);\n\t    }\n\t    // Bar/Area chart should be 0-based if all positive|negative\n\t    if (isZeroBased) {\n\t        if (isAllPositive) {\n\t            padding_bottom = yDomainMin;\n\t        }\n\t        if (isAllNegative) {\n\t            padding_top = -yDomainMax;\n\t        }\n\t    }\n\t    domain = [yDomainMin - padding_bottom, yDomainMax + padding_top];\n\t    return isInverted ? domain.reverse() : domain;\n\t};\n\tc3_chart_internal_fn.getXDomainMin = function (targets) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return isDefined(config.axis_x_min) ? $$.isTimeSeries() ? this.parseDate(config.axis_x_min) : config.axis_x_min : $$.d3.min(targets, function (t) {\n\t        return $$.d3.min(t.values, function (v) {\n\t            return v.x;\n\t        });\n\t    });\n\t};\n\tc3_chart_internal_fn.getXDomainMax = function (targets) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return isDefined(config.axis_x_max) ? $$.isTimeSeries() ? this.parseDate(config.axis_x_max) : config.axis_x_max : $$.d3.max(targets, function (t) {\n\t        return $$.d3.max(t.values, function (v) {\n\t            return v.x;\n\t        });\n\t    });\n\t};\n\tc3_chart_internal_fn.getXDomainPadding = function (domain) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        diff = domain[1] - domain[0],\n\t        maxDataCount,\n\t        padding,\n\t        paddingLeft,\n\t        paddingRight;\n\t    if ($$.isCategorized()) {\n\t        padding = 0;\n\t    } else if ($$.hasType('bar')) {\n\t        maxDataCount = $$.getMaxDataCount();\n\t        padding = maxDataCount > 1 ? diff / (maxDataCount - 1) / 2 : 0.5;\n\t    } else {\n\t        padding = diff * 0.01;\n\t    }\n\t    if (_typeof(config.axis_x_padding) === 'object' && notEmpty(config.axis_x_padding)) {\n\t        paddingLeft = isValue(config.axis_x_padding.left) ? config.axis_x_padding.left : padding;\n\t        paddingRight = isValue(config.axis_x_padding.right) ? config.axis_x_padding.right : padding;\n\t    } else if (typeof config.axis_x_padding === 'number') {\n\t        paddingLeft = paddingRight = config.axis_x_padding;\n\t    } else {\n\t        paddingLeft = paddingRight = padding;\n\t    }\n\t    return { left: paddingLeft, right: paddingRight };\n\t};\n\tc3_chart_internal_fn.getXDomain = function (targets) {\n\t    var $$ = this,\n\t        xDomain = [$$.getXDomainMin(targets), $$.getXDomainMax(targets)],\n\t        firstX = xDomain[0],\n\t        lastX = xDomain[1],\n\t        padding = $$.getXDomainPadding(xDomain),\n\t        min = 0,\n\t        max = 0;\n\t    // show center of x domain if min and max are the same\n\t    if (firstX - lastX === 0 && !$$.isCategorized()) {\n\t        if ($$.isTimeSeries()) {\n\t            firstX = new Date(firstX.getTime() * 0.5);\n\t            lastX = new Date(lastX.getTime() * 1.5);\n\t        } else {\n\t            firstX = firstX === 0 ? 1 : firstX * 0.5;\n\t            lastX = lastX === 0 ? -1 : lastX * 1.5;\n\t        }\n\t    }\n\t    if (firstX || firstX === 0) {\n\t        min = $$.isTimeSeries() ? new Date(firstX.getTime() - padding.left) : firstX - padding.left;\n\t    }\n\t    if (lastX || lastX === 0) {\n\t        max = $$.isTimeSeries() ? new Date(lastX.getTime() + padding.right) : lastX + padding.right;\n\t    }\n\t    return [min, max];\n\t};\n\tc3_chart_internal_fn.updateXDomain = function (targets, withUpdateXDomain, withUpdateOrgXDomain, withTrim, domain) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t\n\t    if (withUpdateOrgXDomain) {\n\t        $$.x.domain(domain ? domain : $$.d3.extent($$.getXDomain(targets)));\n\t        $$.orgXDomain = $$.x.domain();\n\t        if (config.zoom_enabled) {\n\t            $$.zoom.scale($$.x).updateScaleExtent();\n\t        }\n\t        $$.subX.domain($$.x.domain());\n\t        if ($$.brush) {\n\t            $$.brush.scale($$.subX);\n\t        }\n\t    }\n\t    if (withUpdateXDomain) {\n\t        $$.x.domain(domain ? domain : !$$.brush || $$.brush.empty() ? $$.orgXDomain : $$.brush.extent());\n\t        if (config.zoom_enabled) {\n\t            $$.zoom.scale($$.x).updateScaleExtent();\n\t        }\n\t    }\n\t\n\t    // Trim domain when too big by zoom mousemove event\n\t    if (withTrim) {\n\t        $$.x.domain($$.trimXDomain($$.x.orgDomain()));\n\t    }\n\t\n\t    return $$.x.domain();\n\t};\n\tc3_chart_internal_fn.trimXDomain = function (domain) {\n\t    var zoomDomain = this.getZoomDomain(),\n\t        min = zoomDomain[0],\n\t        max = zoomDomain[1];\n\t    if (domain[0] <= min) {\n\t        domain[1] = +domain[1] + (min - domain[0]);\n\t        domain[0] = min;\n\t    }\n\t    if (max <= domain[1]) {\n\t        domain[0] = +domain[0] - (domain[1] - max);\n\t        domain[1] = max;\n\t    }\n\t    return domain;\n\t};\n\t\n\tc3_chart_internal_fn.drag = function (mouse) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        main = $$.main,\n\t        d3 = $$.d3;\n\t    var sx, sy, mx, my, minX, maxX, minY, maxY;\n\t\n\t    if ($$.hasArcType()) {\n\t        return;\n\t    }\n\t    if (!config.data_selection_enabled) {\n\t        return;\n\t    } // do nothing if not selectable\n\t    if (config.zoom_enabled && !$$.zoom.altDomain) {\n\t        return;\n\t    } // skip if zoomable because of conflict drag dehavior\n\t    if (!config.data_selection_multiple) {\n\t        return;\n\t    } // skip when single selection because drag is used for multiple selection\n\t\n\t    sx = $$.dragStart[0];\n\t    sy = $$.dragStart[1];\n\t    mx = mouse[0];\n\t    my = mouse[1];\n\t    minX = Math.min(sx, mx);\n\t    maxX = Math.max(sx, mx);\n\t    minY = config.data_selection_grouped ? $$.margin.top : Math.min(sy, my);\n\t    maxY = config.data_selection_grouped ? $$.height : Math.max(sy, my);\n\t\n\t    main.select('.' + CLASS.dragarea).attr('x', minX).attr('y', minY).attr('width', maxX - minX).attr('height', maxY - minY);\n\t    // TODO: binary search when multiple xs\n\t    main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).filter(function (d) {\n\t        return config.data_selection_isselectable(d);\n\t    }).each(function (d, i) {\n\t        var shape = d3.select(this),\n\t            isSelected = shape.classed(CLASS.SELECTED),\n\t            isIncluded = shape.classed(CLASS.INCLUDED),\n\t            _x,\n\t            _y,\n\t            _w,\n\t            _h,\n\t            toggle,\n\t            isWithin = false,\n\t            box;\n\t        if (shape.classed(CLASS.circle)) {\n\t            _x = shape.attr(\"cx\") * 1;\n\t            _y = shape.attr(\"cy\") * 1;\n\t            toggle = $$.togglePoint;\n\t            isWithin = minX < _x && _x < maxX && minY < _y && _y < maxY;\n\t        } else if (shape.classed(CLASS.bar)) {\n\t            box = getPathBox(this);\n\t            _x = box.x;\n\t            _y = box.y;\n\t            _w = box.width;\n\t            _h = box.height;\n\t            toggle = $$.togglePath;\n\t            isWithin = !(maxX < _x || _x + _w < minX) && !(maxY < _y || _y + _h < minY);\n\t        } else {\n\t            // line/area selection not supported yet\n\t            return;\n\t        }\n\t        if (isWithin ^ isIncluded) {\n\t            shape.classed(CLASS.INCLUDED, !isIncluded);\n\t            // TODO: included/unincluded callback here\n\t            shape.classed(CLASS.SELECTED, !isSelected);\n\t            toggle.call($$, !isSelected, shape, d, i);\n\t        }\n\t    });\n\t};\n\t\n\tc3_chart_internal_fn.dragstart = function (mouse) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    if ($$.hasArcType()) {\n\t        return;\n\t    }\n\t    if (!config.data_selection_enabled) {\n\t        return;\n\t    } // do nothing if not selectable\n\t    $$.dragStart = mouse;\n\t    $$.main.select('.' + CLASS.chart).append('rect').attr('class', CLASS.dragarea).style('opacity', 0.1);\n\t    $$.dragging = true;\n\t};\n\t\n\tc3_chart_internal_fn.dragend = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    if ($$.hasArcType()) {\n\t        return;\n\t    }\n\t    if (!config.data_selection_enabled) {\n\t        return;\n\t    } // do nothing if not selectable\n\t    $$.main.select('.' + CLASS.dragarea).transition().duration(100).style('opacity', 0).remove();\n\t    $$.main.selectAll('.' + CLASS.shape).classed(CLASS.INCLUDED, false);\n\t    $$.dragging = false;\n\t};\n\t\n\tc3_chart_internal_fn.getYFormat = function (forArc) {\n\t    var $$ = this,\n\t        formatForY = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.yFormat,\n\t        formatForY2 = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.y2Format;\n\t    return function (v, ratio, id) {\n\t        var format = $$.axis.getId(id) === 'y2' ? formatForY2 : formatForY;\n\t        return format.call($$, v, ratio);\n\t    };\n\t};\n\tc3_chart_internal_fn.yFormat = function (v) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        format = config.axis_y_tick_format ? config.axis_y_tick_format : $$.defaultValueFormat;\n\t    return format(v);\n\t};\n\tc3_chart_internal_fn.y2Format = function (v) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        format = config.axis_y2_tick_format ? config.axis_y2_tick_format : $$.defaultValueFormat;\n\t    return format(v);\n\t};\n\tc3_chart_internal_fn.defaultValueFormat = function (v) {\n\t    return isValue(v) ? +v : \"\";\n\t};\n\tc3_chart_internal_fn.defaultArcValueFormat = function (v, ratio) {\n\t    return (ratio * 100).toFixed(1) + '%';\n\t};\n\tc3_chart_internal_fn.dataLabelFormat = function (targetId) {\n\t    var $$ = this,\n\t        data_labels = $$.config.data_labels,\n\t        format,\n\t        defaultFormat = function defaultFormat(v) {\n\t        return isValue(v) ? +v : \"\";\n\t    };\n\t    // find format according to axis id\n\t    if (typeof data_labels.format === 'function') {\n\t        format = data_labels.format;\n\t    } else if (_typeof(data_labels.format) === 'object') {\n\t        if (data_labels.format[targetId]) {\n\t            format = data_labels.format[targetId] === true ? defaultFormat : data_labels.format[targetId];\n\t        } else {\n\t            format = function format() {\n\t                return '';\n\t            };\n\t        }\n\t    } else {\n\t        format = defaultFormat;\n\t    }\n\t    return format;\n\t};\n\t\n\tc3_chart_internal_fn.initGrid = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        d3 = $$.d3;\n\t    $$.grid = $$.main.append('g').attr(\"clip-path\", $$.clipPathForGrid).attr('class', CLASS.grid);\n\t    if (config.grid_x_show) {\n\t        $$.grid.append(\"g\").attr(\"class\", CLASS.xgrids);\n\t    }\n\t    if (config.grid_y_show) {\n\t        $$.grid.append('g').attr('class', CLASS.ygrids);\n\t    }\n\t    if (config.grid_focus_show) {\n\t        $$.grid.append('g').attr(\"class\", CLASS.xgridFocus).append('line').attr('class', CLASS.xgridFocus);\n\t    }\n\t    $$.xgrid = d3.selectAll([]);\n\t    if (!config.grid_lines_front) {\n\t        $$.initGridLines();\n\t    }\n\t};\n\tc3_chart_internal_fn.initGridLines = function () {\n\t    var $$ = this,\n\t        d3 = $$.d3;\n\t    $$.gridLines = $$.main.append('g').attr(\"clip-path\", $$.clipPathForGrid).attr('class', CLASS.grid + ' ' + CLASS.gridLines);\n\t    $$.gridLines.append('g').attr(\"class\", CLASS.xgridLines);\n\t    $$.gridLines.append('g').attr('class', CLASS.ygridLines);\n\t    $$.xgridLines = d3.selectAll([]);\n\t};\n\tc3_chart_internal_fn.updateXGrid = function (withoutUpdate) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        d3 = $$.d3,\n\t        xgridData = $$.generateGridData(config.grid_x_type, $$.x),\n\t        tickOffset = $$.isCategorized() ? $$.xAxis.tickOffset() : 0;\n\t\n\t    $$.xgridAttr = config.axis_rotated ? {\n\t        'x1': 0,\n\t        'x2': $$.width,\n\t        'y1': function y1(d) {\n\t            return $$.x(d) - tickOffset;\n\t        },\n\t        'y2': function y2(d) {\n\t            return $$.x(d) - tickOffset;\n\t        }\n\t    } : {\n\t        'x1': function x1(d) {\n\t            return $$.x(d) + tickOffset;\n\t        },\n\t        'x2': function x2(d) {\n\t            return $$.x(d) + tickOffset;\n\t        },\n\t        'y1': 0,\n\t        'y2': $$.height\n\t    };\n\t\n\t    $$.xgrid = $$.main.select('.' + CLASS.xgrids).selectAll('.' + CLASS.xgrid).data(xgridData);\n\t    $$.xgrid.enter().append('line').attr(\"class\", CLASS.xgrid);\n\t    if (!withoutUpdate) {\n\t        $$.xgrid.attr($$.xgridAttr).style(\"opacity\", function () {\n\t            return +d3.select(this).attr(config.axis_rotated ? 'y1' : 'x1') === (config.axis_rotated ? $$.height : 0) ? 0 : 1;\n\t        });\n\t    }\n\t    $$.xgrid.exit().remove();\n\t};\n\t\n\tc3_chart_internal_fn.updateYGrid = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        gridValues = $$.yAxis.tickValues() || $$.y.ticks(config.grid_y_ticks);\n\t    $$.ygrid = $$.main.select('.' + CLASS.ygrids).selectAll('.' + CLASS.ygrid).data(gridValues);\n\t    $$.ygrid.enter().append('line').attr('class', CLASS.ygrid);\n\t    $$.ygrid.attr(\"x1\", config.axis_rotated ? $$.y : 0).attr(\"x2\", config.axis_rotated ? $$.y : $$.width).attr(\"y1\", config.axis_rotated ? 0 : $$.y).attr(\"y2\", config.axis_rotated ? $$.height : $$.y);\n\t    $$.ygrid.exit().remove();\n\t    $$.smoothLines($$.ygrid, 'grid');\n\t};\n\t\n\tc3_chart_internal_fn.gridTextAnchor = function (d) {\n\t    return d.position ? d.position : \"end\";\n\t};\n\tc3_chart_internal_fn.gridTextDx = function (d) {\n\t    return d.position === 'start' ? 4 : d.position === 'middle' ? 0 : -4;\n\t};\n\tc3_chart_internal_fn.xGridTextX = function (d) {\n\t    return d.position === 'start' ? -this.height : d.position === 'middle' ? -this.height / 2 : 0;\n\t};\n\tc3_chart_internal_fn.yGridTextX = function (d) {\n\t    return d.position === 'start' ? 0 : d.position === 'middle' ? this.width / 2 : this.width;\n\t};\n\tc3_chart_internal_fn.updateGrid = function (duration) {\n\t    var $$ = this,\n\t        main = $$.main,\n\t        config = $$.config,\n\t        xgridLine,\n\t        ygridLine,\n\t        yv;\n\t\n\t    // hide if arc type\n\t    $$.grid.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\t\n\t    main.select('line.' + CLASS.xgridFocus).style(\"visibility\", \"hidden\");\n\t    if (config.grid_x_show) {\n\t        $$.updateXGrid();\n\t    }\n\t    $$.xgridLines = main.select('.' + CLASS.xgridLines).selectAll('.' + CLASS.xgridLine).data(config.grid_x_lines);\n\t    // enter\n\t    xgridLine = $$.xgridLines.enter().append('g').attr(\"class\", function (d) {\n\t        return CLASS.xgridLine + (d['class'] ? ' ' + d['class'] : '');\n\t    });\n\t    xgridLine.append('line').style(\"opacity\", 0);\n\t    xgridLine.append('text').attr(\"text-anchor\", $$.gridTextAnchor).attr(\"transform\", config.axis_rotated ? \"\" : \"rotate(-90)\").attr('dx', $$.gridTextDx).attr('dy', -5).style(\"opacity\", 0);\n\t    // udpate\n\t    // done in d3.transition() of the end of this function\n\t    // exit\n\t    $$.xgridLines.exit().transition().duration(duration).style(\"opacity\", 0).remove();\n\t\n\t    // Y-Grid\n\t    if (config.grid_y_show) {\n\t        $$.updateYGrid();\n\t    }\n\t    $$.ygridLines = main.select('.' + CLASS.ygridLines).selectAll('.' + CLASS.ygridLine).data(config.grid_y_lines);\n\t    // enter\n\t    ygridLine = $$.ygridLines.enter().append('g').attr(\"class\", function (d) {\n\t        return CLASS.ygridLine + (d['class'] ? ' ' + d['class'] : '');\n\t    });\n\t    ygridLine.append('line').style(\"opacity\", 0);\n\t    ygridLine.append('text').attr(\"text-anchor\", $$.gridTextAnchor).attr(\"transform\", config.axis_rotated ? \"rotate(-90)\" : \"\").attr('dx', $$.gridTextDx).attr('dy', -5).style(\"opacity\", 0);\n\t    // update\n\t    yv = $$.yv.bind($$);\n\t    $$.ygridLines.select('line').transition().duration(duration).attr(\"x1\", config.axis_rotated ? yv : 0).attr(\"x2\", config.axis_rotated ? yv : $$.width).attr(\"y1\", config.axis_rotated ? 0 : yv).attr(\"y2\", config.axis_rotated ? $$.height : yv).style(\"opacity\", 1);\n\t    $$.ygridLines.select('text').transition().duration(duration).attr(\"x\", config.axis_rotated ? $$.xGridTextX.bind($$) : $$.yGridTextX.bind($$)).attr(\"y\", yv).text(function (d) {\n\t        return d.text;\n\t    }).style(\"opacity\", 1);\n\t    // exit\n\t    $$.ygridLines.exit().transition().duration(duration).style(\"opacity\", 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawGrid = function (withTransition) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        xv = $$.xv.bind($$),\n\t        lines = $$.xgridLines.select('line'),\n\t        texts = $$.xgridLines.select('text');\n\t    return [(withTransition ? lines.transition() : lines).attr(\"x1\", config.axis_rotated ? 0 : xv).attr(\"x2\", config.axis_rotated ? $$.width : xv).attr(\"y1\", config.axis_rotated ? xv : 0).attr(\"y2\", config.axis_rotated ? xv : $$.height).style(\"opacity\", 1), (withTransition ? texts.transition() : texts).attr(\"x\", config.axis_rotated ? $$.yGridTextX.bind($$) : $$.xGridTextX.bind($$)).attr(\"y\", xv).text(function (d) {\n\t        return d.text;\n\t    }).style(\"opacity\", 1)];\n\t};\n\tc3_chart_internal_fn.showXGridFocus = function (selectedData) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        dataToShow = selectedData.filter(function (d) {\n\t        return d && isValue(d.value);\n\t    }),\n\t        focusEl = $$.main.selectAll('line.' + CLASS.xgridFocus),\n\t        xx = $$.xx.bind($$);\n\t    if (!config.tooltip_show) {\n\t        return;\n\t    }\n\t    // Hide when scatter plot exists\n\t    if ($$.hasType('scatter') || $$.hasArcType()) {\n\t        return;\n\t    }\n\t    focusEl.style(\"visibility\", \"visible\").data([dataToShow[0]]).attr(config.axis_rotated ? 'y1' : 'x1', xx).attr(config.axis_rotated ? 'y2' : 'x2', xx);\n\t    $$.smoothLines(focusEl, 'grid');\n\t};\n\tc3_chart_internal_fn.hideXGridFocus = function () {\n\t    this.main.select('line.' + CLASS.xgridFocus).style(\"visibility\", \"hidden\");\n\t};\n\tc3_chart_internal_fn.updateXgridFocus = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    $$.main.select('line.' + CLASS.xgridFocus).attr(\"x1\", config.axis_rotated ? 0 : -10).attr(\"x2\", config.axis_rotated ? $$.width : -10).attr(\"y1\", config.axis_rotated ? -10 : 0).attr(\"y2\", config.axis_rotated ? -10 : $$.height);\n\t};\n\tc3_chart_internal_fn.generateGridData = function (type, scale) {\n\t    var $$ = this,\n\t        gridData = [],\n\t        xDomain,\n\t        firstYear,\n\t        lastYear,\n\t        i,\n\t        tickNum = $$.main.select(\".\" + CLASS.axisX).selectAll('.tick').size();\n\t    if (type === 'year') {\n\t        xDomain = $$.getXDomain();\n\t        firstYear = xDomain[0].getFullYear();\n\t        lastYear = xDomain[1].getFullYear();\n\t        for (i = firstYear; i <= lastYear; i++) {\n\t            gridData.push(new Date(i + '-01-01 00:00:00'));\n\t        }\n\t    } else {\n\t        gridData = scale.ticks(10);\n\t        if (gridData.length > tickNum) {\n\t            // use only int\n\t            gridData = gridData.filter(function (d) {\n\t                return (\"\" + d).indexOf('.') < 0;\n\t            });\n\t        }\n\t    }\n\t    return gridData;\n\t};\n\tc3_chart_internal_fn.getGridFilterToRemove = function (params) {\n\t    return params ? function (line) {\n\t        var found = false;\n\t        [].concat(params).forEach(function (param) {\n\t            if ('value' in param && line.value === param.value || 'class' in param && line['class'] === param['class']) {\n\t                found = true;\n\t            }\n\t        });\n\t        return found;\n\t    } : function () {\n\t        return true;\n\t    };\n\t};\n\tc3_chart_internal_fn.removeGridLines = function (params, forX) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        toRemove = $$.getGridFilterToRemove(params),\n\t        toShow = function toShow(line) {\n\t        return !toRemove(line);\n\t    },\n\t        classLines = forX ? CLASS.xgridLines : CLASS.ygridLines,\n\t        classLine = forX ? CLASS.xgridLine : CLASS.ygridLine;\n\t    $$.main.select('.' + classLines).selectAll('.' + classLine).filter(toRemove).transition().duration(config.transition_duration).style('opacity', 0).remove();\n\t    if (forX) {\n\t        config.grid_x_lines = config.grid_x_lines.filter(toShow);\n\t    } else {\n\t        config.grid_y_lines = config.grid_y_lines.filter(toShow);\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.initEventRect = function () {\n\t    var $$ = this;\n\t    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.eventRects).style('fill-opacity', 0);\n\t};\n\tc3_chart_internal_fn.redrawEventRect = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        eventRectUpdate,\n\t        maxDataCountTarget,\n\t        isMultipleX = $$.isMultipleX();\n\t\n\t    // rects for mouseover\n\t    var eventRects = $$.main.select('.' + CLASS.eventRects).style('cursor', config.zoom_enabled ? config.axis_rotated ? 'ns-resize' : 'ew-resize' : null).classed(CLASS.eventRectsMultiple, isMultipleX).classed(CLASS.eventRectsSingle, !isMultipleX);\n\t\n\t    // clear old rects\n\t    eventRects.selectAll('.' + CLASS.eventRect).remove();\n\t\n\t    // open as public variable\n\t    $$.eventRect = eventRects.selectAll('.' + CLASS.eventRect);\n\t\n\t    if (isMultipleX) {\n\t        eventRectUpdate = $$.eventRect.data([0]);\n\t        // enter : only one rect will be added\n\t        $$.generateEventRectsForMultipleXs(eventRectUpdate.enter());\n\t        // update\n\t        $$.updateEventRect(eventRectUpdate);\n\t        // exit : not needed because always only one rect exists\n\t    } else {\n\t        // Set data and update $$.eventRect\n\t        maxDataCountTarget = $$.getMaxDataCountTarget($$.data.targets);\n\t        eventRects.datum(maxDataCountTarget ? maxDataCountTarget.values : []);\n\t        $$.eventRect = eventRects.selectAll('.' + CLASS.eventRect);\n\t        eventRectUpdate = $$.eventRect.data(function (d) {\n\t            return d;\n\t        });\n\t        // enter\n\t        $$.generateEventRectsForSingleX(eventRectUpdate.enter());\n\t        // update\n\t        $$.updateEventRect(eventRectUpdate);\n\t        // exit\n\t        eventRectUpdate.exit().remove();\n\t    }\n\t};\n\tc3_chart_internal_fn.updateEventRect = function (eventRectUpdate) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        x,\n\t        y,\n\t        w,\n\t        h,\n\t        rectW,\n\t        rectX;\n\t\n\t    // set update selection if null\n\t    eventRectUpdate = eventRectUpdate || $$.eventRect.data(function (d) {\n\t        return d;\n\t    });\n\t\n\t    if ($$.isMultipleX()) {\n\t        // TODO: rotated not supported yet\n\t        x = 0;\n\t        y = 0;\n\t        w = $$.width;\n\t        h = $$.height;\n\t    } else {\n\t        if (($$.isCustomX() || $$.isTimeSeries()) && !$$.isCategorized()) {\n\t\n\t            // update index for x that is used by prevX and nextX\n\t            $$.updateXs();\n\t\n\t            rectW = function rectW(d) {\n\t                var prevX = $$.getPrevX(d.index),\n\t                    nextX = $$.getNextX(d.index);\n\t\n\t                // if there this is a single data point make the eventRect full width (or height)\n\t                if (prevX === null && nextX === null) {\n\t                    return config.axis_rotated ? $$.height : $$.width;\n\t                }\n\t\n\t                if (prevX === null) {\n\t                    prevX = $$.x.domain()[0];\n\t                }\n\t                if (nextX === null) {\n\t                    nextX = $$.x.domain()[1];\n\t                }\n\t\n\t                return Math.max(0, ($$.x(nextX) - $$.x(prevX)) / 2);\n\t            };\n\t            rectX = function rectX(d) {\n\t                var prevX = $$.getPrevX(d.index),\n\t                    nextX = $$.getNextX(d.index),\n\t                    thisX = $$.data.xs[d.id][d.index];\n\t\n\t                // if there this is a single data point position the eventRect at 0\n\t                if (prevX === null && nextX === null) {\n\t                    return 0;\n\t                }\n\t\n\t                if (prevX === null) {\n\t                    prevX = $$.x.domain()[0];\n\t                }\n\t\n\t                return ($$.x(thisX) + $$.x(prevX)) / 2;\n\t            };\n\t        } else {\n\t            rectW = $$.getEventRectWidth();\n\t            rectX = function rectX(d) {\n\t                return $$.x(d.x) - rectW / 2;\n\t            };\n\t        }\n\t        x = config.axis_rotated ? 0 : rectX;\n\t        y = config.axis_rotated ? rectX : 0;\n\t        w = config.axis_rotated ? $$.width : rectW;\n\t        h = config.axis_rotated ? rectW : $$.height;\n\t    }\n\t\n\t    eventRectUpdate.attr('class', $$.classEvent.bind($$)).attr(\"x\", x).attr(\"y\", y).attr(\"width\", w).attr(\"height\", h);\n\t};\n\tc3_chart_internal_fn.generateEventRectsForSingleX = function (eventRectEnter) {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config;\n\t    eventRectEnter.append(\"rect\").attr(\"class\", $$.classEvent.bind($$)).style(\"cursor\", config.data_selection_enabled && config.data_selection_grouped ? \"pointer\" : null).on('mouseover', function (d) {\n\t        var index = d.index;\n\t\n\t        if ($$.dragging || $$.flowing) {\n\t            return;\n\t        } // do nothing while dragging/flowing\n\t        if ($$.hasArcType()) {\n\t            return;\n\t        }\n\t\n\t        // Expand shapes for selection\n\t        if (config.point_focus_expand_enabled) {\n\t            $$.expandCircles(index, null, true);\n\t        }\n\t        $$.expandBars(index, null, true);\n\t\n\t        // Call event handler\n\t        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function (d) {\n\t            config.data_onmouseover.call($$.api, d);\n\t        });\n\t    }).on('mouseout', function (d) {\n\t        var index = d.index;\n\t        if (!$$.config) {\n\t            return;\n\t        } // chart is destroyed\n\t        if ($$.hasArcType()) {\n\t            return;\n\t        }\n\t        $$.hideXGridFocus();\n\t        $$.hideTooltip();\n\t        // Undo expanded shapes\n\t        $$.unexpandCircles();\n\t        $$.unexpandBars();\n\t        // Call event handler\n\t        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function (d) {\n\t            config.data_onmouseout.call($$.api, d);\n\t        });\n\t    }).on('mousemove', function (d) {\n\t        var selectedData,\n\t            index = d.index,\n\t            eventRect = $$.svg.select('.' + CLASS.eventRect + '-' + index);\n\t\n\t        if ($$.dragging || $$.flowing) {\n\t            return;\n\t        } // do nothing while dragging/flowing\n\t        if ($$.hasArcType()) {\n\t            return;\n\t        }\n\t\n\t        if ($$.isStepType(d) && $$.config.line_step_type === 'step-after' && d3.mouse(this)[0] < $$.x($$.getXValue(d.id, index))) {\n\t            index -= 1;\n\t        }\n\t\n\t        // Show tooltip\n\t        selectedData = $$.filterTargetsToShow($$.data.targets).map(function (t) {\n\t            return $$.addName($$.getValueOnIndex(t.values, index));\n\t        });\n\t\n\t        if (config.tooltip_grouped) {\n\t            $$.showTooltip(selectedData, this);\n\t            $$.showXGridFocus(selectedData);\n\t        }\n\t\n\t        if (config.tooltip_grouped && (!config.data_selection_enabled || config.data_selection_grouped)) {\n\t            return;\n\t        }\n\t\n\t        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function () {\n\t            d3.select(this).classed(CLASS.EXPANDED, true);\n\t            if (config.data_selection_enabled) {\n\t                eventRect.style('cursor', config.data_selection_grouped ? 'pointer' : null);\n\t            }\n\t            if (!config.tooltip_grouped) {\n\t                $$.hideXGridFocus();\n\t                $$.hideTooltip();\n\t                if (!config.data_selection_grouped) {\n\t                    $$.unexpandCircles(index);\n\t                    $$.unexpandBars(index);\n\t                }\n\t            }\n\t        }).filter(function (d) {\n\t            return $$.isWithinShape(this, d);\n\t        }).each(function (d) {\n\t            if (config.data_selection_enabled && (config.data_selection_grouped || config.data_selection_isselectable(d))) {\n\t                eventRect.style('cursor', 'pointer');\n\t            }\n\t            if (!config.tooltip_grouped) {\n\t                $$.showTooltip([d], this);\n\t                $$.showXGridFocus([d]);\n\t                if (config.point_focus_expand_enabled) {\n\t                    $$.expandCircles(index, d.id, true);\n\t                }\n\t                $$.expandBars(index, d.id, true);\n\t            }\n\t        });\n\t    }).on('click', function (d) {\n\t        var index = d.index;\n\t        if ($$.hasArcType() || !$$.toggleShape) {\n\t            return;\n\t        }\n\t        if ($$.cancelClick) {\n\t            $$.cancelClick = false;\n\t            return;\n\t        }\n\t        if ($$.isStepType(d) && config.line_step_type === 'step-after' && d3.mouse(this)[0] < $$.x($$.getXValue(d.id, index))) {\n\t            index -= 1;\n\t        }\n\t        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function (d) {\n\t            if (config.data_selection_grouped || $$.isWithinShape(this, d)) {\n\t                $$.toggleShape(this, d, index);\n\t                $$.config.data_onclick.call($$.api, d, this);\n\t            }\n\t        });\n\t    }).call(config.data_selection_draggable && $$.drag ? d3.behavior.drag().origin(Object).on('drag', function () {\n\t        $$.drag(d3.mouse(this));\n\t    }).on('dragstart', function () {\n\t        $$.dragstart(d3.mouse(this));\n\t    }).on('dragend', function () {\n\t        $$.dragend();\n\t    }) : function () {});\n\t};\n\t\n\tc3_chart_internal_fn.generateEventRectsForMultipleXs = function (eventRectEnter) {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config;\n\t\n\t    function mouseout() {\n\t        $$.svg.select('.' + CLASS.eventRect).style('cursor', null);\n\t        $$.hideXGridFocus();\n\t        $$.hideTooltip();\n\t        $$.unexpandCircles();\n\t        $$.unexpandBars();\n\t    }\n\t\n\t    eventRectEnter.append('rect').attr('x', 0).attr('y', 0).attr('width', $$.width).attr('height', $$.height).attr('class', CLASS.eventRect).on('mouseout', function () {\n\t        if (!$$.config) {\n\t            return;\n\t        } // chart is destroyed\n\t        if ($$.hasArcType()) {\n\t            return;\n\t        }\n\t        mouseout();\n\t    }).on('mousemove', function () {\n\t        var targetsToShow = $$.filterTargetsToShow($$.data.targets);\n\t        var mouse, closest, sameXData, selectedData;\n\t\n\t        if ($$.dragging) {\n\t            return;\n\t        } // do nothing when dragging\n\t        if ($$.hasArcType(targetsToShow)) {\n\t            return;\n\t        }\n\t\n\t        mouse = d3.mouse(this);\n\t        closest = $$.findClosestFromTargets(targetsToShow, mouse);\n\t\n\t        if ($$.mouseover && (!closest || closest.id !== $$.mouseover.id)) {\n\t            config.data_onmouseout.call($$.api, $$.mouseover);\n\t            $$.mouseover = undefined;\n\t        }\n\t\n\t        if (!closest) {\n\t            mouseout();\n\t            return;\n\t        }\n\t\n\t        if ($$.isScatterType(closest) || !config.tooltip_grouped) {\n\t            sameXData = [closest];\n\t        } else {\n\t            sameXData = $$.filterByX(targetsToShow, closest.x);\n\t        }\n\t\n\t        // show tooltip when cursor is close to some point\n\t        selectedData = sameXData.map(function (d) {\n\t            return $$.addName(d);\n\t        });\n\t        $$.showTooltip(selectedData, this);\n\t\n\t        // expand points\n\t        if (config.point_focus_expand_enabled) {\n\t            $$.expandCircles(closest.index, closest.id, true);\n\t        }\n\t        $$.expandBars(closest.index, closest.id, true);\n\t\n\t        // Show xgrid focus line\n\t        $$.showXGridFocus(selectedData);\n\t\n\t        // Show cursor as pointer if point is close to mouse position\n\t        if ($$.isBarType(closest.id) || $$.dist(closest, mouse) < config.point_sensitivity) {\n\t            $$.svg.select('.' + CLASS.eventRect).style('cursor', 'pointer');\n\t            if (!$$.mouseover) {\n\t                config.data_onmouseover.call($$.api, closest);\n\t                $$.mouseover = closest;\n\t            }\n\t        }\n\t    }).on('click', function () {\n\t        var targetsToShow = $$.filterTargetsToShow($$.data.targets);\n\t        var mouse, closest;\n\t        if ($$.hasArcType(targetsToShow)) {\n\t            return;\n\t        }\n\t\n\t        mouse = d3.mouse(this);\n\t        closest = $$.findClosestFromTargets(targetsToShow, mouse);\n\t        if (!closest) {\n\t            return;\n\t        }\n\t        // select if selection enabled\n\t        if ($$.isBarType(closest.id) || $$.dist(closest, mouse) < config.point_sensitivity) {\n\t            $$.main.selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(closest.id)).selectAll('.' + CLASS.shape + '-' + closest.index).each(function () {\n\t                if (config.data_selection_grouped || $$.isWithinShape(this, closest)) {\n\t                    $$.toggleShape(this, closest, closest.index);\n\t                    $$.config.data_onclick.call($$.api, closest, this);\n\t                }\n\t            });\n\t        }\n\t    }).call(config.data_selection_draggable && $$.drag ? d3.behavior.drag().origin(Object).on('drag', function () {\n\t        $$.drag(d3.mouse(this));\n\t    }).on('dragstart', function () {\n\t        $$.dragstart(d3.mouse(this));\n\t    }).on('dragend', function () {\n\t        $$.dragend();\n\t    }) : function () {});\n\t};\n\tc3_chart_internal_fn.dispatchEvent = function (type, index, mouse) {\n\t    var $$ = this,\n\t        selector = '.' + CLASS.eventRect + (!$$.isMultipleX() ? '-' + index : ''),\n\t        eventRect = $$.main.select(selector).node(),\n\t        box = eventRect.getBoundingClientRect(),\n\t        x = box.left + (mouse ? mouse[0] : 0),\n\t        y = box.top + (mouse ? mouse[1] : 0),\n\t        event = document.createEvent(\"MouseEvents\");\n\t\n\t    event.initMouseEvent(type, true, true, window, 0, x, y, x, y, false, false, false, false, 0, null);\n\t    eventRect.dispatchEvent(event);\n\t};\n\t\n\tc3_chart_internal_fn.initLegend = function () {\n\t    var $$ = this;\n\t    $$.legendItemTextBox = {};\n\t    $$.legendHasRendered = false;\n\t    $$.legend = $$.svg.append(\"g\").attr(\"transform\", $$.getTranslate('legend'));\n\t    if (!$$.config.legend_show) {\n\t        $$.legend.style('visibility', 'hidden');\n\t        $$.hiddenLegendIds = $$.mapToIds($$.data.targets);\n\t        return;\n\t    }\n\t    // MEMO: call here to update legend box and tranlate for all\n\t    // MEMO: translate will be upated by this, so transform not needed in updateLegend()\n\t    $$.updateLegendWithDefaults();\n\t};\n\tc3_chart_internal_fn.updateLegendWithDefaults = function () {\n\t    var $$ = this;\n\t    $$.updateLegend($$.mapToIds($$.data.targets), { withTransform: false, withTransitionForTransform: false, withTransition: false });\n\t};\n\tc3_chart_internal_fn.updateSizeForLegend = function (legendHeight, legendWidth) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        insetLegendPosition = {\n\t        top: $$.isLegendTop ? $$.getCurrentPaddingTop() + config.legend_inset_y + 5.5 : $$.currentHeight - legendHeight - $$.getCurrentPaddingBottom() - config.legend_inset_y,\n\t        left: $$.isLegendLeft ? $$.getCurrentPaddingLeft() + config.legend_inset_x + 0.5 : $$.currentWidth - legendWidth - $$.getCurrentPaddingRight() - config.legend_inset_x + 0.5\n\t    };\n\t\n\t    $$.margin3 = {\n\t        top: $$.isLegendRight ? 0 : $$.isLegendInset ? insetLegendPosition.top : $$.currentHeight - legendHeight,\n\t        right: NaN,\n\t        bottom: 0,\n\t        left: $$.isLegendRight ? $$.currentWidth - legendWidth : $$.isLegendInset ? insetLegendPosition.left : 0\n\t    };\n\t};\n\tc3_chart_internal_fn.transformLegend = function (withTransition) {\n\t    var $$ = this;\n\t    (withTransition ? $$.legend.transition() : $$.legend).attr(\"transform\", $$.getTranslate('legend'));\n\t};\n\tc3_chart_internal_fn.updateLegendStep = function (step) {\n\t    this.legendStep = step;\n\t};\n\tc3_chart_internal_fn.updateLegendItemWidth = function (w) {\n\t    this.legendItemWidth = w;\n\t};\n\tc3_chart_internal_fn.updateLegendItemHeight = function (h) {\n\t    this.legendItemHeight = h;\n\t};\n\tc3_chart_internal_fn.getLegendWidth = function () {\n\t    var $$ = this;\n\t    return $$.config.legend_show ? $$.isLegendRight || $$.isLegendInset ? $$.legendItemWidth * ($$.legendStep + 1) : $$.currentWidth : 0;\n\t};\n\tc3_chart_internal_fn.getLegendHeight = function () {\n\t    var $$ = this,\n\t        h = 0;\n\t    if ($$.config.legend_show) {\n\t        if ($$.isLegendRight) {\n\t            h = $$.currentHeight;\n\t        } else {\n\t            h = Math.max(20, $$.legendItemHeight) * ($$.legendStep + 1);\n\t        }\n\t    }\n\t    return h;\n\t};\n\tc3_chart_internal_fn.opacityForLegend = function (legendItem) {\n\t    return legendItem.classed(CLASS.legendItemHidden) ? null : 1;\n\t};\n\tc3_chart_internal_fn.opacityForUnfocusedLegend = function (legendItem) {\n\t    return legendItem.classed(CLASS.legendItemHidden) ? null : 0.3;\n\t};\n\tc3_chart_internal_fn.toggleFocusLegend = function (targetIds, focus) {\n\t    var $$ = this;\n\t    targetIds = $$.mapToTargetIds(targetIds);\n\t    $$.legend.selectAll('.' + CLASS.legendItem).filter(function (id) {\n\t        return targetIds.indexOf(id) >= 0;\n\t    }).classed(CLASS.legendItemFocused, focus).transition().duration(100).style('opacity', function () {\n\t        var opacity = focus ? $$.opacityForLegend : $$.opacityForUnfocusedLegend;\n\t        return opacity.call($$, $$.d3.select(this));\n\t    });\n\t};\n\tc3_chart_internal_fn.revertLegend = function () {\n\t    var $$ = this,\n\t        d3 = $$.d3;\n\t    $$.legend.selectAll('.' + CLASS.legendItem).classed(CLASS.legendItemFocused, false).transition().duration(100).style('opacity', function () {\n\t        return $$.opacityForLegend(d3.select(this));\n\t    });\n\t};\n\tc3_chart_internal_fn.showLegend = function (targetIds) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    if (!config.legend_show) {\n\t        config.legend_show = true;\n\t        $$.legend.style('visibility', 'visible');\n\t        if (!$$.legendHasRendered) {\n\t            $$.updateLegendWithDefaults();\n\t        }\n\t    }\n\t    $$.removeHiddenLegendIds(targetIds);\n\t    $$.legend.selectAll($$.selectorLegends(targetIds)).style('visibility', 'visible').transition().style('opacity', function () {\n\t        return $$.opacityForLegend($$.d3.select(this));\n\t    });\n\t};\n\tc3_chart_internal_fn.hideLegend = function (targetIds) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    if (config.legend_show && isEmpty(targetIds)) {\n\t        config.legend_show = false;\n\t        $$.legend.style('visibility', 'hidden');\n\t    }\n\t    $$.addHiddenLegendIds(targetIds);\n\t    $$.legend.selectAll($$.selectorLegends(targetIds)).style('opacity', 0).style('visibility', 'hidden');\n\t};\n\tc3_chart_internal_fn.clearLegendItemTextBoxCache = function () {\n\t    this.legendItemTextBox = {};\n\t};\n\tc3_chart_internal_fn.updateLegend = function (targetIds, options, transitions) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    var xForLegend, xForLegendText, xForLegendRect, yForLegend, yForLegendText, yForLegendRect, x1ForLegendTile, x2ForLegendTile, yForLegendTile;\n\t    var paddingTop = 4,\n\t        paddingRight = 10,\n\t        maxWidth = 0,\n\t        maxHeight = 0,\n\t        posMin = 10,\n\t        tileWidth = config.legend_item_tile_width + 5;\n\t    var l,\n\t        totalLength = 0,\n\t        offsets = {},\n\t        widths = {},\n\t        heights = {},\n\t        margins = [0],\n\t        steps = {},\n\t        step = 0;\n\t    var withTransition, withTransitionForTransform;\n\t    var texts, rects, tiles, background;\n\t\n\t    // Skip elements when their name is set to null\n\t    targetIds = targetIds.filter(function (id) {\n\t        return !isDefined(config.data_names[id]) || config.data_names[id] !== null;\n\t    });\n\t\n\t    options = options || {};\n\t    withTransition = getOption(options, \"withTransition\", true);\n\t    withTransitionForTransform = getOption(options, \"withTransitionForTransform\", true);\n\t\n\t    function getTextBox(textElement, id) {\n\t        if (!$$.legendItemTextBox[id]) {\n\t            $$.legendItemTextBox[id] = $$.getTextRect(textElement.textContent, CLASS.legendItem, textElement);\n\t        }\n\t        return $$.legendItemTextBox[id];\n\t    }\n\t\n\t    function updatePositions(textElement, id, index) {\n\t        var reset = index === 0,\n\t            isLast = index === targetIds.length - 1,\n\t            box = getTextBox(textElement, id),\n\t            itemWidth = box.width + tileWidth + (isLast && !($$.isLegendRight || $$.isLegendInset) ? 0 : paddingRight) + config.legend_padding,\n\t            itemHeight = box.height + paddingTop,\n\t            itemLength = $$.isLegendRight || $$.isLegendInset ? itemHeight : itemWidth,\n\t            areaLength = $$.isLegendRight || $$.isLegendInset ? $$.getLegendHeight() : $$.getLegendWidth(),\n\t            margin,\n\t            maxLength;\n\t\n\t        // MEMO: care about condifion of step, totalLength\n\t        function updateValues(id, withoutStep) {\n\t            if (!withoutStep) {\n\t                margin = (areaLength - totalLength - itemLength) / 2;\n\t                if (margin < posMin) {\n\t                    margin = (areaLength - itemLength) / 2;\n\t                    totalLength = 0;\n\t                    step++;\n\t                }\n\t            }\n\t            steps[id] = step;\n\t            margins[step] = $$.isLegendInset ? 10 : margin;\n\t            offsets[id] = totalLength;\n\t            totalLength += itemLength;\n\t        }\n\t\n\t        if (reset) {\n\t            totalLength = 0;\n\t            step = 0;\n\t            maxWidth = 0;\n\t            maxHeight = 0;\n\t        }\n\t\n\t        if (config.legend_show && !$$.isLegendToShow(id)) {\n\t            widths[id] = heights[id] = steps[id] = offsets[id] = 0;\n\t            return;\n\t        }\n\t\n\t        widths[id] = itemWidth;\n\t        heights[id] = itemHeight;\n\t\n\t        if (!maxWidth || itemWidth >= maxWidth) {\n\t            maxWidth = itemWidth;\n\t        }\n\t        if (!maxHeight || itemHeight >= maxHeight) {\n\t            maxHeight = itemHeight;\n\t        }\n\t        maxLength = $$.isLegendRight || $$.isLegendInset ? maxHeight : maxWidth;\n\t\n\t        if (config.legend_equally) {\n\t            Object.keys(widths).forEach(function (id) {\n\t                widths[id] = maxWidth;\n\t            });\n\t            Object.keys(heights).forEach(function (id) {\n\t                heights[id] = maxHeight;\n\t            });\n\t            margin = (areaLength - maxLength * targetIds.length) / 2;\n\t            if (margin < posMin) {\n\t                totalLength = 0;\n\t                step = 0;\n\t                targetIds.forEach(function (id) {\n\t                    updateValues(id);\n\t                });\n\t            } else {\n\t                updateValues(id, true);\n\t            }\n\t        } else {\n\t            updateValues(id);\n\t        }\n\t    }\n\t\n\t    if ($$.isLegendInset) {\n\t        step = config.legend_inset_step ? config.legend_inset_step : targetIds.length;\n\t        $$.updateLegendStep(step);\n\t    }\n\t\n\t    if ($$.isLegendRight) {\n\t        xForLegend = function xForLegend(id) {\n\t            return maxWidth * steps[id];\n\t        };\n\t        yForLegend = function yForLegend(id) {\n\t            return margins[steps[id]] + offsets[id];\n\t        };\n\t    } else if ($$.isLegendInset) {\n\t        xForLegend = function xForLegend(id) {\n\t            return maxWidth * steps[id] + 10;\n\t        };\n\t        yForLegend = function yForLegend(id) {\n\t            return margins[steps[id]] + offsets[id];\n\t        };\n\t    } else {\n\t        xForLegend = function xForLegend(id) {\n\t            return margins[steps[id]] + offsets[id];\n\t        };\n\t        yForLegend = function yForLegend(id) {\n\t            return maxHeight * steps[id];\n\t        };\n\t    }\n\t    xForLegendText = function xForLegendText(id, i) {\n\t        return xForLegend(id, i) + 4 + config.legend_item_tile_width;\n\t    };\n\t    yForLegendText = function yForLegendText(id, i) {\n\t        return yForLegend(id, i) + 9;\n\t    };\n\t    xForLegendRect = function xForLegendRect(id, i) {\n\t        return xForLegend(id, i);\n\t    };\n\t    yForLegendRect = function yForLegendRect(id, i) {\n\t        return yForLegend(id, i) - 5;\n\t    };\n\t    x1ForLegendTile = function x1ForLegendTile(id, i) {\n\t        return xForLegend(id, i) - 2;\n\t    };\n\t    x2ForLegendTile = function x2ForLegendTile(id, i) {\n\t        return xForLegend(id, i) - 2 + config.legend_item_tile_width;\n\t    };\n\t    yForLegendTile = function yForLegendTile(id, i) {\n\t        return yForLegend(id, i) + 4;\n\t    };\n\t\n\t    // Define g for legend area\n\t    l = $$.legend.selectAll('.' + CLASS.legendItem).data(targetIds).enter().append('g').attr('class', function (id) {\n\t        return $$.generateClass(CLASS.legendItem, id);\n\t    }).style('visibility', function (id) {\n\t        return $$.isLegendToShow(id) ? 'visible' : 'hidden';\n\t    }).style('cursor', 'pointer').on('click', function (id) {\n\t        if (config.legend_item_onclick) {\n\t            config.legend_item_onclick.call($$, id);\n\t        } else {\n\t            if ($$.d3.event.altKey) {\n\t                $$.api.hide();\n\t                $$.api.show(id);\n\t            } else {\n\t                $$.api.toggle(id);\n\t                $$.isTargetToShow(id) ? $$.api.focus(id) : $$.api.revert();\n\t            }\n\t        }\n\t    }).on('mouseover', function (id) {\n\t        if (config.legend_item_onmouseover) {\n\t            config.legend_item_onmouseover.call($$, id);\n\t        } else {\n\t            $$.d3.select(this).classed(CLASS.legendItemFocused, true);\n\t            if (!$$.transiting && $$.isTargetToShow(id)) {\n\t                $$.api.focus(id);\n\t            }\n\t        }\n\t    }).on('mouseout', function (id) {\n\t        if (config.legend_item_onmouseout) {\n\t            config.legend_item_onmouseout.call($$, id);\n\t        } else {\n\t            $$.d3.select(this).classed(CLASS.legendItemFocused, false);\n\t            $$.api.revert();\n\t        }\n\t    });\n\t    l.append('text').text(function (id) {\n\t        return isDefined(config.data_names[id]) ? config.data_names[id] : id;\n\t    }).each(function (id, i) {\n\t        updatePositions(this, id, i);\n\t    }).style(\"pointer-events\", \"none\").attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendText : -200).attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendText);\n\t    l.append('rect').attr(\"class\", CLASS.legendItemEvent).style('fill-opacity', 0).attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendRect : -200).attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendRect);\n\t    l.append('line').attr('class', CLASS.legendItemTile).style('stroke', $$.color).style(\"pointer-events\", \"none\").attr('x1', $$.isLegendRight || $$.isLegendInset ? x1ForLegendTile : -200).attr('y1', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile).attr('x2', $$.isLegendRight || $$.isLegendInset ? x2ForLegendTile : -200).attr('y2', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile).attr('stroke-width', config.legend_item_tile_height);\n\t\n\t    // Set background for inset legend\n\t    background = $$.legend.select('.' + CLASS.legendBackground + ' rect');\n\t    if ($$.isLegendInset && maxWidth > 0 && background.size() === 0) {\n\t        background = $$.legend.insert('g', '.' + CLASS.legendItem).attr(\"class\", CLASS.legendBackground).append('rect');\n\t    }\n\t\n\t    texts = $$.legend.selectAll('text').data(targetIds).text(function (id) {\n\t        return isDefined(config.data_names[id]) ? config.data_names[id] : id;\n\t    }) // MEMO: needed for update\n\t    .each(function (id, i) {\n\t        updatePositions(this, id, i);\n\t    });\n\t    (withTransition ? texts.transition() : texts).attr('x', xForLegendText).attr('y', yForLegendText);\n\t\n\t    rects = $$.legend.selectAll('rect.' + CLASS.legendItemEvent).data(targetIds);\n\t    (withTransition ? rects.transition() : rects).attr('width', function (id) {\n\t        return widths[id];\n\t    }).attr('height', function (id) {\n\t        return heights[id];\n\t    }).attr('x', xForLegendRect).attr('y', yForLegendRect);\n\t\n\t    tiles = $$.legend.selectAll('line.' + CLASS.legendItemTile).data(targetIds);\n\t    (withTransition ? tiles.transition() : tiles).style('stroke', $$.levelColor ? function (id) {\n\t        return $$.levelColor($$.cache[id].values[0].value);\n\t    } : $$.color).attr('x1', x1ForLegendTile).attr('y1', yForLegendTile).attr('x2', x2ForLegendTile).attr('y2', yForLegendTile);\n\t\n\t    if (background) {\n\t        (withTransition ? background.transition() : background).attr('height', $$.getLegendHeight() - 12).attr('width', maxWidth * (step + 1) + 10);\n\t    }\n\t\n\t    // toggle legend state\n\t    $$.legend.selectAll('.' + CLASS.legendItem).classed(CLASS.legendItemHidden, function (id) {\n\t        return !$$.isTargetToShow(id);\n\t    });\n\t\n\t    // Update all to reflect change of legend\n\t    $$.updateLegendItemWidth(maxWidth);\n\t    $$.updateLegendItemHeight(maxHeight);\n\t    $$.updateLegendStep(step);\n\t    // Update size and scale\n\t    $$.updateSizes();\n\t    $$.updateScales();\n\t    $$.updateSvgSize();\n\t    // Update g positions\n\t    $$.transformAll(withTransitionForTransform, transitions);\n\t    $$.legendHasRendered = true;\n\t};\n\t\n\tc3_chart_internal_fn.initRegion = function () {\n\t    var $$ = this;\n\t    $$.region = $$.main.append('g').attr(\"clip-path\", $$.clipPath).attr(\"class\", CLASS.regions);\n\t};\n\tc3_chart_internal_fn.updateRegion = function (duration) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t\n\t    // hide if arc type\n\t    $$.region.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\t\n\t    $$.mainRegion = $$.main.select('.' + CLASS.regions).selectAll('.' + CLASS.region).data(config.regions);\n\t    $$.mainRegion.enter().append('g').append('rect').style(\"fill-opacity\", 0);\n\t    $$.mainRegion.attr('class', $$.classRegion.bind($$));\n\t    $$.mainRegion.exit().transition().duration(duration).style(\"opacity\", 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawRegion = function (withTransition) {\n\t    var $$ = this,\n\t        regions = $$.mainRegion.selectAll('rect').each(function () {\n\t        // data is binded to g and it's not transferred to rect (child node) automatically,\n\t        // then data of each rect has to be updated manually.\n\t        // TODO: there should be more efficient way to solve this?\n\t        var parentData = $$.d3.select(this.parentNode).datum();\n\t        $$.d3.select(this).datum(parentData);\n\t    }),\n\t        x = $$.regionX.bind($$),\n\t        y = $$.regionY.bind($$),\n\t        w = $$.regionWidth.bind($$),\n\t        h = $$.regionHeight.bind($$);\n\t    return [(withTransition ? regions.transition() : regions).attr(\"x\", x).attr(\"y\", y).attr(\"width\", w).attr(\"height\", h).style(\"fill-opacity\", function (d) {\n\t        return isValue(d.opacity) ? d.opacity : 0.1;\n\t    })];\n\t};\n\tc3_chart_internal_fn.regionX = function (d) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        xPos,\n\t        yScale = d.axis === 'y' ? $$.y : $$.y2;\n\t    if (d.axis === 'y' || d.axis === 'y2') {\n\t        xPos = config.axis_rotated ? 'start' in d ? yScale(d.start) : 0 : 0;\n\t    } else {\n\t        xPos = config.axis_rotated ? 0 : 'start' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start) : 0;\n\t    }\n\t    return xPos;\n\t};\n\tc3_chart_internal_fn.regionY = function (d) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        yPos,\n\t        yScale = d.axis === 'y' ? $$.y : $$.y2;\n\t    if (d.axis === 'y' || d.axis === 'y2') {\n\t        yPos = config.axis_rotated ? 0 : 'end' in d ? yScale(d.end) : 0;\n\t    } else {\n\t        yPos = config.axis_rotated ? 'start' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start) : 0 : 0;\n\t    }\n\t    return yPos;\n\t};\n\tc3_chart_internal_fn.regionWidth = function (d) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        start = $$.regionX(d),\n\t        end,\n\t        yScale = d.axis === 'y' ? $$.y : $$.y2;\n\t    if (d.axis === 'y' || d.axis === 'y2') {\n\t        end = config.axis_rotated ? 'end' in d ? yScale(d.end) : $$.width : $$.width;\n\t    } else {\n\t        end = config.axis_rotated ? $$.width : 'end' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end) : $$.width;\n\t    }\n\t    return end < start ? 0 : end - start;\n\t};\n\tc3_chart_internal_fn.regionHeight = function (d) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        start = this.regionY(d),\n\t        end,\n\t        yScale = d.axis === 'y' ? $$.y : $$.y2;\n\t    if (d.axis === 'y' || d.axis === 'y2') {\n\t        end = config.axis_rotated ? $$.height : 'start' in d ? yScale(d.start) : $$.height;\n\t    } else {\n\t        end = config.axis_rotated ? 'end' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end) : $$.height : $$.height;\n\t    }\n\t    return end < start ? 0 : end - start;\n\t};\n\tc3_chart_internal_fn.isRegionOnX = function (d) {\n\t    return !d.axis || d.axis === 'x';\n\t};\n\t\n\tc3_chart_internal_fn.getScale = function (min, max, forTimeseries) {\n\t    return (forTimeseries ? this.d3.time.scale() : this.d3.scale.linear()).range([min, max]);\n\t};\n\tc3_chart_internal_fn.getX = function (min, max, domain, offset) {\n\t    var $$ = this,\n\t        scale = $$.getScale(min, max, $$.isTimeSeries()),\n\t        _scale = domain ? scale.domain(domain) : scale,\n\t        key;\n\t    // Define customized scale if categorized axis\n\t    if ($$.isCategorized()) {\n\t        offset = offset || function () {\n\t            return 0;\n\t        };\n\t        scale = function scale(d, raw) {\n\t            var v = _scale(d) + offset(d);\n\t            return raw ? v : Math.ceil(v);\n\t        };\n\t    } else {\n\t        scale = function scale(d, raw) {\n\t            var v = _scale(d);\n\t            return raw ? v : Math.ceil(v);\n\t        };\n\t    }\n\t    // define functions\n\t    for (key in _scale) {\n\t        scale[key] = _scale[key];\n\t    }\n\t    scale.orgDomain = function () {\n\t        return _scale.domain();\n\t    };\n\t    // define custom domain() for categorized axis\n\t    if ($$.isCategorized()) {\n\t        scale.domain = function (domain) {\n\t            if (!arguments.length) {\n\t                domain = this.orgDomain();\n\t                return [domain[0], domain[1] + 1];\n\t            }\n\t            _scale.domain(domain);\n\t            return scale;\n\t        };\n\t    }\n\t    return scale;\n\t};\n\tc3_chart_internal_fn.getY = function (min, max, domain) {\n\t    var scale = this.getScale(min, max, this.isTimeSeriesY());\n\t    if (domain) {\n\t        scale.domain(domain);\n\t    }\n\t    return scale;\n\t};\n\tc3_chart_internal_fn.getYScale = function (id) {\n\t    return this.axis.getId(id) === 'y2' ? this.y2 : this.y;\n\t};\n\tc3_chart_internal_fn.getSubYScale = function (id) {\n\t    return this.axis.getId(id) === 'y2' ? this.subY2 : this.subY;\n\t};\n\tc3_chart_internal_fn.updateScales = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        forInit = !$$.x;\n\t    // update edges\n\t    $$.xMin = config.axis_rotated ? 1 : 0;\n\t    $$.xMax = config.axis_rotated ? $$.height : $$.width;\n\t    $$.yMin = config.axis_rotated ? 0 : $$.height;\n\t    $$.yMax = config.axis_rotated ? $$.width : 1;\n\t    $$.subXMin = $$.xMin;\n\t    $$.subXMax = $$.xMax;\n\t    $$.subYMin = config.axis_rotated ? 0 : $$.height2;\n\t    $$.subYMax = config.axis_rotated ? $$.width2 : 1;\n\t    // update scales\n\t    $$.x = $$.getX($$.xMin, $$.xMax, forInit ? undefined : $$.x.orgDomain(), function () {\n\t        return $$.xAxis.tickOffset();\n\t    });\n\t    $$.y = $$.getY($$.yMin, $$.yMax, forInit ? config.axis_y_default : $$.y.domain());\n\t    $$.y2 = $$.getY($$.yMin, $$.yMax, forInit ? config.axis_y2_default : $$.y2.domain());\n\t    $$.subX = $$.getX($$.xMin, $$.xMax, $$.orgXDomain, function (d) {\n\t        return d % 1 ? 0 : $$.subXAxis.tickOffset();\n\t    });\n\t    $$.subY = $$.getY($$.subYMin, $$.subYMax, forInit ? config.axis_y_default : $$.subY.domain());\n\t    $$.subY2 = $$.getY($$.subYMin, $$.subYMax, forInit ? config.axis_y2_default : $$.subY2.domain());\n\t    // update axes\n\t    $$.xAxisTickFormat = $$.axis.getXAxisTickFormat();\n\t    $$.xAxisTickValues = $$.axis.getXAxisTickValues();\n\t    $$.yAxisTickValues = $$.axis.getYAxisTickValues();\n\t    $$.y2AxisTickValues = $$.axis.getY2AxisTickValues();\n\t\n\t    $$.xAxis = $$.axis.getXAxis($$.x, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\n\t    $$.subXAxis = $$.axis.getXAxis($$.subX, $$.subXOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\n\t    $$.yAxis = $$.axis.getYAxis($$.y, $$.yOrient, config.axis_y_tick_format, $$.yAxisTickValues, config.axis_y_tick_outer);\n\t    $$.y2Axis = $$.axis.getYAxis($$.y2, $$.y2Orient, config.axis_y2_tick_format, $$.y2AxisTickValues, config.axis_y2_tick_outer);\n\t\n\t    // Set initialized scales to brush and zoom\n\t    if (!forInit) {\n\t        if ($$.brush) {\n\t            $$.brush.scale($$.subX);\n\t        }\n\t        if (config.zoom_enabled) {\n\t            $$.zoom.scale($$.x);\n\t        }\n\t    }\n\t    // update for arc\n\t    if ($$.updateArc) {\n\t        $$.updateArc();\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.selectPoint = function (target, d, i) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        cx = (config.axis_rotated ? $$.circleY : $$.circleX).bind($$),\n\t        cy = (config.axis_rotated ? $$.circleX : $$.circleY).bind($$),\n\t        r = $$.pointSelectR.bind($$);\n\t    config.data_onselected.call($$.api, d, target.node());\n\t    // add selected-circle on low layer g\n\t    $$.main.select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id)).selectAll('.' + CLASS.selectedCircle + '-' + i).data([d]).enter().append('circle').attr(\"class\", function () {\n\t        return $$.generateClass(CLASS.selectedCircle, i);\n\t    }).attr(\"cx\", cx).attr(\"cy\", cy).attr(\"stroke\", function () {\n\t        return $$.color(d);\n\t    }).attr(\"r\", function (d) {\n\t        return $$.pointSelectR(d) * 1.4;\n\t    }).transition().duration(100).attr(\"r\", r);\n\t};\n\tc3_chart_internal_fn.unselectPoint = function (target, d, i) {\n\t    var $$ = this;\n\t    $$.config.data_onunselected.call($$.api, d, target.node());\n\t    // remove selected-circle from low layer g\n\t    $$.main.select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id)).selectAll('.' + CLASS.selectedCircle + '-' + i).transition().duration(100).attr('r', 0).remove();\n\t};\n\tc3_chart_internal_fn.togglePoint = function (selected, target, d, i) {\n\t    selected ? this.selectPoint(target, d, i) : this.unselectPoint(target, d, i);\n\t};\n\tc3_chart_internal_fn.selectPath = function (target, d) {\n\t    var $$ = this;\n\t    $$.config.data_onselected.call($$, d, target.node());\n\t    if ($$.config.interaction_brighten) {\n\t        target.transition().duration(100).style(\"fill\", function () {\n\t            return $$.d3.rgb($$.color(d)).brighter(0.75);\n\t        });\n\t    }\n\t};\n\tc3_chart_internal_fn.unselectPath = function (target, d) {\n\t    var $$ = this;\n\t    $$.config.data_onunselected.call($$, d, target.node());\n\t    if ($$.config.interaction_brighten) {\n\t        target.transition().duration(100).style(\"fill\", function () {\n\t            return $$.color(d);\n\t        });\n\t    }\n\t};\n\tc3_chart_internal_fn.togglePath = function (selected, target, d, i) {\n\t    selected ? this.selectPath(target, d, i) : this.unselectPath(target, d, i);\n\t};\n\tc3_chart_internal_fn.getToggle = function (that, d) {\n\t    var $$ = this,\n\t        toggle;\n\t    if (that.nodeName === 'circle') {\n\t        if ($$.isStepType(d)) {\n\t            // circle is hidden in step chart, so treat as within the click area\n\t            toggle = function toggle() {}; // TODO: how to select step chart?\n\t        } else {\n\t            toggle = $$.togglePoint;\n\t        }\n\t    } else if (that.nodeName === 'path') {\n\t        toggle = $$.togglePath;\n\t    }\n\t    return toggle;\n\t};\n\tc3_chart_internal_fn.toggleShape = function (that, d, i) {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config,\n\t        shape = d3.select(that),\n\t        isSelected = shape.classed(CLASS.SELECTED),\n\t        toggle = $$.getToggle(that, d).bind($$);\n\t\n\t    if (config.data_selection_enabled && config.data_selection_isselectable(d)) {\n\t        if (!config.data_selection_multiple) {\n\t            $$.main.selectAll('.' + CLASS.shapes + (config.data_selection_grouped ? $$.getTargetSelectorSuffix(d.id) : \"\")).selectAll('.' + CLASS.shape).each(function (d, i) {\n\t                var shape = d3.select(this);\n\t                if (shape.classed(CLASS.SELECTED)) {\n\t                    toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n\t                }\n\t            });\n\t        }\n\t        shape.classed(CLASS.SELECTED, !isSelected);\n\t        toggle(!isSelected, shape, d, i);\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.initBar = function () {\n\t    var $$ = this;\n\t    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartBars);\n\t};\n\tc3_chart_internal_fn.updateTargetsForBar = function (targets) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        mainBarUpdate,\n\t        mainBarEnter,\n\t        classChartBar = $$.classChartBar.bind($$),\n\t        classBars = $$.classBars.bind($$),\n\t        classFocus = $$.classFocus.bind($$);\n\t    mainBarUpdate = $$.main.select('.' + CLASS.chartBars).selectAll('.' + CLASS.chartBar).data(targets).attr('class', function (d) {\n\t        return classChartBar(d) + classFocus(d);\n\t    });\n\t    mainBarEnter = mainBarUpdate.enter().append('g').attr('class', classChartBar).style(\"pointer-events\", \"none\");\n\t    // Bars for each data\n\t    mainBarEnter.append('g').attr(\"class\", classBars).style(\"cursor\", function (d) {\n\t        return config.data_selection_isselectable(d) ? \"pointer\" : null;\n\t    });\n\t};\n\tc3_chart_internal_fn.updateBar = function (durationForExit) {\n\t    var $$ = this,\n\t        barData = $$.barData.bind($$),\n\t        classBar = $$.classBar.bind($$),\n\t        initialOpacity = $$.initialOpacity.bind($$),\n\t        color = function color(d) {\n\t        return $$.color(d.id);\n\t    };\n\t    $$.mainBar = $$.main.selectAll('.' + CLASS.bars).selectAll('.' + CLASS.bar).data(barData);\n\t    $$.mainBar.enter().append('path').attr(\"class\", classBar).style(\"stroke\", color).style(\"fill\", color);\n\t    $$.mainBar.style(\"opacity\", initialOpacity);\n\t    $$.mainBar.exit().transition().duration(durationForExit).remove();\n\t};\n\tc3_chart_internal_fn.redrawBar = function (drawBar, withTransition) {\n\t    return [(withTransition ? this.mainBar.transition(Math.random().toString()) : this.mainBar).attr('d', drawBar).style(\"stroke\", this.color).style(\"fill\", this.color).style(\"opacity\", 1)];\n\t};\n\tc3_chart_internal_fn.getBarW = function (axis, barTargetsNum) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        w = typeof config.bar_width === 'number' ? config.bar_width : barTargetsNum ? axis.tickInterval() * config.bar_width_ratio / barTargetsNum : 0;\n\t    return config.bar_width_max && w > config.bar_width_max ? config.bar_width_max : w;\n\t};\n\tc3_chart_internal_fn.getBars = function (i, id) {\n\t    var $$ = this;\n\t    return (id ? $$.main.selectAll('.' + CLASS.bars + $$.getTargetSelectorSuffix(id)) : $$.main).selectAll('.' + CLASS.bar + (isValue(i) ? '-' + i : ''));\n\t};\n\tc3_chart_internal_fn.expandBars = function (i, id, reset) {\n\t    var $$ = this;\n\t    if (reset) {\n\t        $$.unexpandBars();\n\t    }\n\t    $$.getBars(i, id).classed(CLASS.EXPANDED, true);\n\t};\n\tc3_chart_internal_fn.unexpandBars = function (i) {\n\t    var $$ = this;\n\t    $$.getBars(i).classed(CLASS.EXPANDED, false);\n\t};\n\tc3_chart_internal_fn.generateDrawBar = function (barIndices, isSub) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        getPoints = $$.generateGetBarPoints(barIndices, isSub);\n\t    return function (d, i) {\n\t        // 4 points that make a bar\n\t        var points = getPoints(d, i);\n\t\n\t        // switch points if axis is rotated, not applicable for sub chart\n\t        var indexX = config.axis_rotated ? 1 : 0;\n\t        var indexY = config.axis_rotated ? 0 : 1;\n\t\n\t        var path = 'M ' + points[0][indexX] + ',' + points[0][indexY] + ' ' + 'L' + points[1][indexX] + ',' + points[1][indexY] + ' ' + 'L' + points[2][indexX] + ',' + points[2][indexY] + ' ' + 'L' + points[3][indexX] + ',' + points[3][indexY] + ' ' + 'z';\n\t\n\t        return path;\n\t    };\n\t};\n\tc3_chart_internal_fn.generateGetBarPoints = function (barIndices, isSub) {\n\t    var $$ = this,\n\t        axis = isSub ? $$.subXAxis : $$.xAxis,\n\t        barTargetsNum = barIndices.__max__ + 1,\n\t        barW = $$.getBarW(axis, barTargetsNum),\n\t        barX = $$.getShapeX(barW, barTargetsNum, barIndices, !!isSub),\n\t        barY = $$.getShapeY(!!isSub),\n\t        barOffset = $$.getShapeOffset($$.isBarType, barIndices, !!isSub),\n\t        barSpaceOffset = barW * ($$.config.bar_space / 2),\n\t        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n\t    return function (d, i) {\n\t        var y0 = yScale.call($$, d.id)(0),\n\t            offset = barOffset(d, i) || y0,\n\t            // offset is for stacked bar chart\n\t        posX = barX(d),\n\t            posY = barY(d);\n\t        // fix posY not to overflow opposite quadrant\n\t        if ($$.config.axis_rotated) {\n\t            if (0 < d.value && posY < y0 || d.value < 0 && y0 < posY) {\n\t                posY = y0;\n\t            }\n\t        }\n\t        // 4 points that make a bar\n\t        return [[posX + barSpaceOffset, offset], [posX + barSpaceOffset, posY - (y0 - offset)], [posX + barW - barSpaceOffset, posY - (y0 - offset)], [posX + barW - barSpaceOffset, offset]];\n\t    };\n\t};\n\tc3_chart_internal_fn.isWithinBar = function (that) {\n\t    var mouse = this.d3.mouse(that),\n\t        box = that.getBoundingClientRect(),\n\t        seg0 = that.pathSegList.getItem(0),\n\t        seg1 = that.pathSegList.getItem(1),\n\t        x = Math.min(seg0.x, seg1.x),\n\t        y = Math.min(seg0.y, seg1.y),\n\t        w = box.width,\n\t        h = box.height,\n\t        offset = 2,\n\t        sx = x - offset,\n\t        ex = x + w + offset,\n\t        sy = y + h + offset,\n\t        ey = y - offset;\n\t    return sx < mouse[0] && mouse[0] < ex && ey < mouse[1] && mouse[1] < sy;\n\t};\n\t\n\tc3_chart_internal_fn.getShapeIndices = function (typeFilter) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        indices = {},\n\t        i = 0,\n\t        j,\n\t        k;\n\t    $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$)).forEach(function (d) {\n\t        for (j = 0; j < config.data_groups.length; j++) {\n\t            if (config.data_groups[j].indexOf(d.id) < 0) {\n\t                continue;\n\t            }\n\t            for (k = 0; k < config.data_groups[j].length; k++) {\n\t                if (config.data_groups[j][k] in indices) {\n\t                    indices[d.id] = indices[config.data_groups[j][k]];\n\t                    break;\n\t                }\n\t            }\n\t        }\n\t        if (isUndefined(indices[d.id])) {\n\t            indices[d.id] = i++;\n\t        }\n\t    });\n\t    indices.__max__ = i - 1;\n\t    return indices;\n\t};\n\tc3_chart_internal_fn.getShapeX = function (offset, targetsNum, indices, isSub) {\n\t    var $$ = this,\n\t        scale = isSub ? $$.subX : $$.x;\n\t    return function (d) {\n\t        var index = d.id in indices ? indices[d.id] : 0;\n\t        return d.x || d.x === 0 ? scale(d.x) - offset * (targetsNum / 2 - index) : 0;\n\t    };\n\t};\n\tc3_chart_internal_fn.getShapeY = function (isSub) {\n\t    var $$ = this;\n\t    return function (d) {\n\t        var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id);\n\t        return scale(d.value);\n\t    };\n\t};\n\tc3_chart_internal_fn.getShapeOffset = function (typeFilter, indices, isSub) {\n\t    var $$ = this,\n\t        targets = $$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$))),\n\t        targetIds = targets.map(function (t) {\n\t        return t.id;\n\t    });\n\t    return function (d, i) {\n\t        var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id),\n\t            y0 = scale(0),\n\t            offset = y0;\n\t        targets.forEach(function (t) {\n\t            var values = $$.isStepType(d) ? $$.convertValuesToStep(t.values) : t.values;\n\t            if (t.id === d.id || indices[t.id] !== indices[d.id]) {\n\t                return;\n\t            }\n\t            if (targetIds.indexOf(t.id) < targetIds.indexOf(d.id)) {\n\t                // check if the x values line up\n\t                if (typeof values[i] === 'undefined' || +values[i].x !== +d.x) {\n\t                    // \"+\" for timeseries\n\t                    // if not, try to find the value that does line up\n\t                    i = -1;\n\t                    values.forEach(function (v, j) {\n\t                        if (v.x === d.x) {\n\t                            i = j;\n\t                        }\n\t                    });\n\t                }\n\t                if (i in values && values[i].value * d.value >= 0) {\n\t                    offset += scale(values[i].value) - y0;\n\t                }\n\t            }\n\t        });\n\t        return offset;\n\t    };\n\t};\n\tc3_chart_internal_fn.isWithinShape = function (that, d) {\n\t    var $$ = this,\n\t        shape = $$.d3.select(that),\n\t        isWithin;\n\t    if (!$$.isTargetToShow(d.id)) {\n\t        isWithin = false;\n\t    } else if (that.nodeName === 'circle') {\n\t        isWithin = $$.isStepType(d) ? $$.isWithinStep(that, $$.getYScale(d.id)(d.value)) : $$.isWithinCircle(that, $$.pointSelectR(d) * 1.5);\n\t    } else if (that.nodeName === 'path') {\n\t        isWithin = shape.classed(CLASS.bar) ? $$.isWithinBar(that) : true;\n\t    }\n\t    return isWithin;\n\t};\n\t\n\tc3_chart_internal_fn.getInterpolate = function (d) {\n\t    var $$ = this,\n\t        interpolation = $$.isInterpolationType($$.config.spline_interpolation_type) ? $$.config.spline_interpolation_type : 'cardinal';\n\t    return $$.isSplineType(d) ? interpolation : $$.isStepType(d) ? $$.config.line_step_type : \"linear\";\n\t};\n\t\n\tc3_chart_internal_fn.initLine = function () {\n\t    var $$ = this;\n\t    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartLines);\n\t};\n\tc3_chart_internal_fn.updateTargetsForLine = function (targets) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        mainLineUpdate,\n\t        mainLineEnter,\n\t        classChartLine = $$.classChartLine.bind($$),\n\t        classLines = $$.classLines.bind($$),\n\t        classAreas = $$.classAreas.bind($$),\n\t        classCircles = $$.classCircles.bind($$),\n\t        classFocus = $$.classFocus.bind($$);\n\t    mainLineUpdate = $$.main.select('.' + CLASS.chartLines).selectAll('.' + CLASS.chartLine).data(targets).attr('class', function (d) {\n\t        return classChartLine(d) + classFocus(d);\n\t    });\n\t    mainLineEnter = mainLineUpdate.enter().append('g').attr('class', classChartLine).style('opacity', 0).style(\"pointer-events\", \"none\");\n\t    // Lines for each data\n\t    mainLineEnter.append('g').attr(\"class\", classLines);\n\t    // Areas\n\t    mainLineEnter.append('g').attr('class', classAreas);\n\t    // Circles for each data point on lines\n\t    mainLineEnter.append('g').attr(\"class\", function (d) {\n\t        return $$.generateClass(CLASS.selectedCircles, d.id);\n\t    });\n\t    mainLineEnter.append('g').attr(\"class\", classCircles).style(\"cursor\", function (d) {\n\t        return config.data_selection_isselectable(d) ? \"pointer\" : null;\n\t    });\n\t    // Update date for selected circles\n\t    targets.forEach(function (t) {\n\t        $$.main.selectAll('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(t.id)).selectAll('.' + CLASS.selectedCircle).each(function (d) {\n\t            d.value = t.values[d.index].value;\n\t        });\n\t    });\n\t    // MEMO: can not keep same color...\n\t    //mainLineUpdate.exit().remove();\n\t};\n\tc3_chart_internal_fn.updateLine = function (durationForExit) {\n\t    var $$ = this;\n\t    $$.mainLine = $$.main.selectAll('.' + CLASS.lines).selectAll('.' + CLASS.line).data($$.lineData.bind($$));\n\t    $$.mainLine.enter().append('path').attr('class', $$.classLine.bind($$)).style(\"stroke\", $$.color);\n\t    $$.mainLine.style(\"opacity\", $$.initialOpacity.bind($$)).style('shape-rendering', function (d) {\n\t        return $$.isStepType(d) ? 'crispEdges' : '';\n\t    }).attr('transform', null);\n\t    $$.mainLine.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawLine = function (drawLine, withTransition) {\n\t    return [(withTransition ? this.mainLine.transition(Math.random().toString()) : this.mainLine).attr(\"d\", drawLine).style(\"stroke\", this.color).style(\"opacity\", 1)];\n\t};\n\tc3_chart_internal_fn.generateDrawLine = function (lineIndices, isSub) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        line = $$.d3.svg.line(),\n\t        getPoints = $$.generateGetLinePoints(lineIndices, isSub),\n\t        yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n\t        xValue = function xValue(d) {\n\t        return (isSub ? $$.subxx : $$.xx).call($$, d);\n\t    },\n\t        yValue = function yValue(d, i) {\n\t        return config.data_groups.length > 0 ? getPoints(d, i)[0][1] : yScaleGetter.call($$, d.id)(d.value);\n\t    };\n\t\n\t    line = config.axis_rotated ? line.x(yValue).y(xValue) : line.x(xValue).y(yValue);\n\t    if (!config.line_connectNull) {\n\t        line = line.defined(function (d) {\n\t            return d.value != null;\n\t        });\n\t    }\n\t    return function (d) {\n\t        var values = config.line_connectNull ? $$.filterRemoveNull(d.values) : d.values,\n\t            x = isSub ? $$.x : $$.subX,\n\t            y = yScaleGetter.call($$, d.id),\n\t            x0 = 0,\n\t            y0 = 0,\n\t            path;\n\t        if ($$.isLineType(d)) {\n\t            if (config.data_regions[d.id]) {\n\t                path = $$.lineWithRegions(values, x, y, config.data_regions[d.id]);\n\t            } else {\n\t                if ($$.isStepType(d)) {\n\t                    values = $$.convertValuesToStep(values);\n\t                }\n\t                path = line.interpolate($$.getInterpolate(d))(values);\n\t            }\n\t        } else {\n\t            if (values[0]) {\n\t                x0 = x(values[0].x);\n\t                y0 = y(values[0].value);\n\t            }\n\t            path = config.axis_rotated ? \"M \" + y0 + \" \" + x0 : \"M \" + x0 + \" \" + y0;\n\t        }\n\t        return path ? path : \"M 0 0\";\n\t    };\n\t};\n\tc3_chart_internal_fn.generateGetLinePoints = function (lineIndices, isSub) {\n\t    // partial duplication of generateGetBarPoints\n\t    var $$ = this,\n\t        config = $$.config,\n\t        lineTargetsNum = lineIndices.__max__ + 1,\n\t        x = $$.getShapeX(0, lineTargetsNum, lineIndices, !!isSub),\n\t        y = $$.getShapeY(!!isSub),\n\t        lineOffset = $$.getShapeOffset($$.isLineType, lineIndices, !!isSub),\n\t        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n\t    return function (d, i) {\n\t        var y0 = yScale.call($$, d.id)(0),\n\t            offset = lineOffset(d, i) || y0,\n\t            // offset is for stacked area chart\n\t        posX = x(d),\n\t            posY = y(d);\n\t        // fix posY not to overflow opposite quadrant\n\t        if (config.axis_rotated) {\n\t            if (0 < d.value && posY < y0 || d.value < 0 && y0 < posY) {\n\t                posY = y0;\n\t            }\n\t        }\n\t        // 1 point that marks the line position\n\t        return [[posX, posY - (y0 - offset)], [posX, posY - (y0 - offset)], // needed for compatibility\n\t        [posX, posY - (y0 - offset)], // needed for compatibility\n\t        [posX, posY - (y0 - offset)] // needed for compatibility\n\t        ];\n\t    };\n\t};\n\t\n\tc3_chart_internal_fn.lineWithRegions = function (d, x, y, _regions) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        prev = -1,\n\t        i,\n\t        j,\n\t        s = \"M\",\n\t        sWithRegion,\n\t        xp,\n\t        yp,\n\t        dx,\n\t        dy,\n\t        dd,\n\t        diff,\n\t        diffx2,\n\t        xOffset = $$.isCategorized() ? 0.5 : 0,\n\t        xValue,\n\t        yValue,\n\t        regions = [];\n\t\n\t    function isWithinRegions(x, regions) {\n\t        var i;\n\t        for (i = 0; i < regions.length; i++) {\n\t            if (regions[i].start < x && x <= regions[i].end) {\n\t                return true;\n\t            }\n\t        }\n\t        return false;\n\t    }\n\t\n\t    // Check start/end of regions\n\t    if (isDefined(_regions)) {\n\t        for (i = 0; i < _regions.length; i++) {\n\t            regions[i] = {};\n\t            if (isUndefined(_regions[i].start)) {\n\t                regions[i].start = d[0].x;\n\t            } else {\n\t                regions[i].start = $$.isTimeSeries() ? $$.parseDate(_regions[i].start) : _regions[i].start;\n\t            }\n\t            if (isUndefined(_regions[i].end)) {\n\t                regions[i].end = d[d.length - 1].x;\n\t            } else {\n\t                regions[i].end = $$.isTimeSeries() ? $$.parseDate(_regions[i].end) : _regions[i].end;\n\t            }\n\t        }\n\t    }\n\t\n\t    // Set scales\n\t    xValue = config.axis_rotated ? function (d) {\n\t        return y(d.value);\n\t    } : function (d) {\n\t        return x(d.x);\n\t    };\n\t    yValue = config.axis_rotated ? function (d) {\n\t        return x(d.x);\n\t    } : function (d) {\n\t        return y(d.value);\n\t    };\n\t\n\t    // Define svg generator function for region\n\t    function generateM(points) {\n\t        return 'M' + points[0][0] + ' ' + points[0][1] + ' ' + points[1][0] + ' ' + points[1][1];\n\t    }\n\t    if ($$.isTimeSeries()) {\n\t        sWithRegion = function sWithRegion(d0, d1, j, diff) {\n\t            var x0 = d0.x.getTime(),\n\t                x_diff = d1.x - d0.x,\n\t                xv0 = new Date(x0 + x_diff * j),\n\t                xv1 = new Date(x0 + x_diff * (j + diff)),\n\t                points;\n\t            if (config.axis_rotated) {\n\t                points = [[y(yp(j)), x(xv0)], [y(yp(j + diff)), x(xv1)]];\n\t            } else {\n\t                points = [[x(xv0), y(yp(j))], [x(xv1), y(yp(j + diff))]];\n\t            }\n\t            return generateM(points);\n\t        };\n\t    } else {\n\t        sWithRegion = function sWithRegion(d0, d1, j, diff) {\n\t            var points;\n\t            if (config.axis_rotated) {\n\t                points = [[y(yp(j), true), x(xp(j))], [y(yp(j + diff), true), x(xp(j + diff))]];\n\t            } else {\n\t                points = [[x(xp(j), true), y(yp(j))], [x(xp(j + diff), true), y(yp(j + diff))]];\n\t            }\n\t            return generateM(points);\n\t        };\n\t    }\n\t\n\t    // Generate\n\t    for (i = 0; i < d.length; i++) {\n\t\n\t        // Draw as normal\n\t        if (isUndefined(regions) || !isWithinRegions(d[i].x, regions)) {\n\t            s += \" \" + xValue(d[i]) + \" \" + yValue(d[i]);\n\t        }\n\t        // Draw with region // TODO: Fix for horizotal charts\n\t        else {\n\t                xp = $$.getScale(d[i - 1].x + xOffset, d[i].x + xOffset, $$.isTimeSeries());\n\t                yp = $$.getScale(d[i - 1].value, d[i].value);\n\t\n\t                dx = x(d[i].x) - x(d[i - 1].x);\n\t                dy = y(d[i].value) - y(d[i - 1].value);\n\t                dd = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n\t                diff = 2 / dd;\n\t                diffx2 = diff * 2;\n\t\n\t                for (j = diff; j <= 1; j += diffx2) {\n\t                    s += sWithRegion(d[i - 1], d[i], j, diff);\n\t                }\n\t            }\n\t        prev = d[i].x;\n\t    }\n\t\n\t    return s;\n\t};\n\t\n\tc3_chart_internal_fn.updateArea = function (durationForExit) {\n\t    var $$ = this,\n\t        d3 = $$.d3;\n\t    $$.mainArea = $$.main.selectAll('.' + CLASS.areas).selectAll('.' + CLASS.area).data($$.lineData.bind($$));\n\t    $$.mainArea.enter().append('path').attr(\"class\", $$.classArea.bind($$)).style(\"fill\", $$.color).style(\"opacity\", function () {\n\t        $$.orgAreaOpacity = +d3.select(this).style('opacity');return 0;\n\t    });\n\t    $$.mainArea.style(\"opacity\", $$.orgAreaOpacity);\n\t    $$.mainArea.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawArea = function (drawArea, withTransition) {\n\t    return [(withTransition ? this.mainArea.transition(Math.random().toString()) : this.mainArea).attr(\"d\", drawArea).style(\"fill\", this.color).style(\"opacity\", this.orgAreaOpacity)];\n\t};\n\tc3_chart_internal_fn.generateDrawArea = function (areaIndices, isSub) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        area = $$.d3.svg.area(),\n\t        getPoints = $$.generateGetAreaPoints(areaIndices, isSub),\n\t        yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n\t        xValue = function xValue(d) {\n\t        return (isSub ? $$.subxx : $$.xx).call($$, d);\n\t    },\n\t        value0 = function value0(d, i) {\n\t        return config.data_groups.length > 0 ? getPoints(d, i)[0][1] : yScaleGetter.call($$, d.id)($$.getAreaBaseValue(d.id));\n\t    },\n\t        value1 = function value1(d, i) {\n\t        return config.data_groups.length > 0 ? getPoints(d, i)[1][1] : yScaleGetter.call($$, d.id)(d.value);\n\t    };\n\t\n\t    area = config.axis_rotated ? area.x0(value0).x1(value1).y(xValue) : area.x(xValue).y0(config.area_above ? 0 : value0).y1(value1);\n\t    if (!config.line_connectNull) {\n\t        area = area.defined(function (d) {\n\t            return d.value !== null;\n\t        });\n\t    }\n\t\n\t    return function (d) {\n\t        var values = config.line_connectNull ? $$.filterRemoveNull(d.values) : d.values,\n\t            x0 = 0,\n\t            y0 = 0,\n\t            path;\n\t        if ($$.isAreaType(d)) {\n\t            if ($$.isStepType(d)) {\n\t                values = $$.convertValuesToStep(values);\n\t            }\n\t            path = area.interpolate($$.getInterpolate(d))(values);\n\t        } else {\n\t            if (values[0]) {\n\t                x0 = $$.x(values[0].x);\n\t                y0 = $$.getYScale(d.id)(values[0].value);\n\t            }\n\t            path = config.axis_rotated ? \"M \" + y0 + \" \" + x0 : \"M \" + x0 + \" \" + y0;\n\t        }\n\t        return path ? path : \"M 0 0\";\n\t    };\n\t};\n\tc3_chart_internal_fn.getAreaBaseValue = function () {\n\t    return 0;\n\t};\n\tc3_chart_internal_fn.generateGetAreaPoints = function (areaIndices, isSub) {\n\t    // partial duplication of generateGetBarPoints\n\t    var $$ = this,\n\t        config = $$.config,\n\t        areaTargetsNum = areaIndices.__max__ + 1,\n\t        x = $$.getShapeX(0, areaTargetsNum, areaIndices, !!isSub),\n\t        y = $$.getShapeY(!!isSub),\n\t        areaOffset = $$.getShapeOffset($$.isAreaType, areaIndices, !!isSub),\n\t        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n\t    return function (d, i) {\n\t        var y0 = yScale.call($$, d.id)(0),\n\t            offset = areaOffset(d, i) || y0,\n\t            // offset is for stacked area chart\n\t        posX = x(d),\n\t            posY = y(d);\n\t        // fix posY not to overflow opposite quadrant\n\t        if (config.axis_rotated) {\n\t            if (0 < d.value && posY < y0 || d.value < 0 && y0 < posY) {\n\t                posY = y0;\n\t            }\n\t        }\n\t        // 1 point that marks the area position\n\t        return [[posX, offset], [posX, posY - (y0 - offset)], [posX, posY - (y0 - offset)], // needed for compatibility\n\t        [posX, offset] // needed for compatibility\n\t        ];\n\t    };\n\t};\n\t\n\tc3_chart_internal_fn.updateCircle = function () {\n\t    var $$ = this;\n\t    $$.mainCircle = $$.main.selectAll('.' + CLASS.circles).selectAll('.' + CLASS.circle).data($$.lineOrScatterData.bind($$));\n\t    $$.mainCircle.enter().append(\"circle\").attr(\"class\", $$.classCircle.bind($$)).attr(\"r\", $$.pointR.bind($$)).style(\"fill\", $$.color);\n\t    $$.mainCircle.style(\"opacity\", $$.initialOpacityForCircle.bind($$));\n\t    $$.mainCircle.exit().remove();\n\t};\n\tc3_chart_internal_fn.redrawCircle = function (cx, cy, withTransition) {\n\t    var selectedCircles = this.main.selectAll('.' + CLASS.selectedCircle);\n\t    return [(withTransition ? this.mainCircle.transition(Math.random().toString()) : this.mainCircle).style('opacity', this.opacityForCircle.bind(this)).style(\"fill\", this.color).attr(\"cx\", cx).attr(\"cy\", cy), (withTransition ? selectedCircles.transition(Math.random().toString()) : selectedCircles).attr(\"cx\", cx).attr(\"cy\", cy)];\n\t};\n\tc3_chart_internal_fn.circleX = function (d) {\n\t    return d.x || d.x === 0 ? this.x(d.x) : null;\n\t};\n\tc3_chart_internal_fn.updateCircleY = function () {\n\t    var $$ = this,\n\t        lineIndices,\n\t        getPoints;\n\t    if ($$.config.data_groups.length > 0) {\n\t        lineIndices = $$.getShapeIndices($$.isLineType), getPoints = $$.generateGetLinePoints(lineIndices);\n\t        $$.circleY = function (d, i) {\n\t            return getPoints(d, i)[0][1];\n\t        };\n\t    } else {\n\t        $$.circleY = function (d) {\n\t            return $$.getYScale(d.id)(d.value);\n\t        };\n\t    }\n\t};\n\tc3_chart_internal_fn.getCircles = function (i, id) {\n\t    var $$ = this;\n\t    return (id ? $$.main.selectAll('.' + CLASS.circles + $$.getTargetSelectorSuffix(id)) : $$.main).selectAll('.' + CLASS.circle + (isValue(i) ? '-' + i : ''));\n\t};\n\tc3_chart_internal_fn.expandCircles = function (i, id, reset) {\n\t    var $$ = this,\n\t        r = $$.pointExpandedR.bind($$);\n\t    if (reset) {\n\t        $$.unexpandCircles();\n\t    }\n\t    $$.getCircles(i, id).classed(CLASS.EXPANDED, true).attr('r', r);\n\t};\n\tc3_chart_internal_fn.unexpandCircles = function (i) {\n\t    var $$ = this,\n\t        r = $$.pointR.bind($$);\n\t    $$.getCircles(i).filter(function () {\n\t        return $$.d3.select(this).classed(CLASS.EXPANDED);\n\t    }).classed(CLASS.EXPANDED, false).attr('r', r);\n\t};\n\tc3_chart_internal_fn.pointR = function (d) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return $$.isStepType(d) ? 0 : isFunction(config.point_r) ? config.point_r(d) : config.point_r;\n\t};\n\tc3_chart_internal_fn.pointExpandedR = function (d) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    if (config.point_focus_expand_enabled) {\n\t        return isFunction(config.point_focus_expand_r) ? config.point_focus_expand_r(d) : config.point_focus_expand_r ? config.point_focus_expand_r : $$.pointR(d) * 1.75;\n\t    } else {\n\t        return $$.pointR(d);\n\t    }\n\t};\n\tc3_chart_internal_fn.pointSelectR = function (d) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return isFunction(config.point_select_r) ? config.point_select_r(d) : config.point_select_r ? config.point_select_r : $$.pointR(d) * 4;\n\t};\n\tc3_chart_internal_fn.isWithinCircle = function (that, r) {\n\t    var d3 = this.d3,\n\t        mouse = d3.mouse(that),\n\t        d3_this = d3.select(that),\n\t        cx = +d3_this.attr(\"cx\"),\n\t        cy = +d3_this.attr(\"cy\");\n\t    return Math.sqrt(Math.pow(cx - mouse[0], 2) + Math.pow(cy - mouse[1], 2)) < r;\n\t};\n\tc3_chart_internal_fn.isWithinStep = function (that, y) {\n\t    return Math.abs(y - this.d3.mouse(that)[1]) < 30;\n\t};\n\t\n\tc3_chart_internal_fn.getCurrentWidth = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    return config.size_width ? config.size_width : $$.getParentWidth();\n\t};\n\tc3_chart_internal_fn.getCurrentHeight = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        h = config.size_height ? config.size_height : $$.getParentHeight();\n\t    return h > 0 ? h : 320 / ($$.hasType('gauge') && !config.gauge_fullCircle ? 2 : 1);\n\t};\n\tc3_chart_internal_fn.getCurrentPaddingTop = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        padding = isValue(config.padding_top) ? config.padding_top : 0;\n\t    if ($$.title && $$.title.node()) {\n\t        padding += $$.getTitlePadding();\n\t    }\n\t    return padding;\n\t};\n\tc3_chart_internal_fn.getCurrentPaddingBottom = function () {\n\t    var config = this.config;\n\t    return isValue(config.padding_bottom) ? config.padding_bottom : 0;\n\t};\n\tc3_chart_internal_fn.getCurrentPaddingLeft = function (withoutRecompute) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    if (isValue(config.padding_left)) {\n\t        return config.padding_left;\n\t    } else if (config.axis_rotated) {\n\t        return !config.axis_x_show ? 1 : Math.max(ceil10($$.getAxisWidthByAxisId('x', withoutRecompute)), 40);\n\t    } else if (!config.axis_y_show || config.axis_y_inner) {\n\t        // && !config.axis_rotated\n\t        return $$.axis.getYAxisLabelPosition().isOuter ? 30 : 1;\n\t    } else {\n\t        return ceil10($$.getAxisWidthByAxisId('y', withoutRecompute));\n\t    }\n\t};\n\tc3_chart_internal_fn.getCurrentPaddingRight = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        defaultPadding = 10,\n\t        legendWidthOnRight = $$.isLegendRight ? $$.getLegendWidth() + 20 : 0;\n\t    if (isValue(config.padding_right)) {\n\t        return config.padding_right + 1; // 1 is needed not to hide tick line\n\t    } else if (config.axis_rotated) {\n\t        return defaultPadding + legendWidthOnRight;\n\t    } else if (!config.axis_y2_show || config.axis_y2_inner) {\n\t        // && !config.axis_rotated\n\t        return 2 + legendWidthOnRight + ($$.axis.getY2AxisLabelPosition().isOuter ? 20 : 0);\n\t    } else {\n\t        return ceil10($$.getAxisWidthByAxisId('y2')) + legendWidthOnRight;\n\t    }\n\t};\n\t\n\tc3_chart_internal_fn.getParentRectValue = function (key) {\n\t    var parent = this.selectChart.node(),\n\t        v;\n\t    while (parent && parent.tagName !== 'BODY') {\n\t        try {\n\t            v = parent.getBoundingClientRect()[key];\n\t        } catch (e) {\n\t            if (key === 'width') {\n\t                // In IE in certain cases getBoundingClientRect\n\t                // will cause an \"unspecified error\"\n\t                v = parent.offsetWidth;\n\t            }\n\t        }\n\t        if (v) {\n\t            break;\n\t        }\n\t        parent = parent.parentNode;\n\t    }\n\t    return v;\n\t};\n\tc3_chart_internal_fn.getParentWidth = function () {\n\t    return this.getParentRectValue('width');\n\t};\n\tc3_chart_internal_fn.getParentHeight = function () {\n\t    var h = this.selectChart.style('height');\n\t    return h.indexOf('px') > 0 ? +h.replace('px', '') : 0;\n\t};\n\t\n\tc3_chart_internal_fn.getSvgLeft = function (withoutRecompute) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        hasLeftAxisRect = config.axis_rotated || !config.axis_rotated && !config.axis_y_inner,\n\t        leftAxisClass = config.axis_rotated ? CLASS.axisX : CLASS.axisY,\n\t        leftAxis = $$.main.select('.' + leftAxisClass).node(),\n\t        svgRect = leftAxis && hasLeftAxisRect ? leftAxis.getBoundingClientRect() : { right: 0 },\n\t        chartRect = $$.selectChart.node().getBoundingClientRect(),\n\t        hasArc = $$.hasArcType(),\n\t        svgLeft = svgRect.right - chartRect.left - (hasArc ? 0 : $$.getCurrentPaddingLeft(withoutRecompute));\n\t    return svgLeft > 0 ? svgLeft : 0;\n\t};\n\t\n\tc3_chart_internal_fn.getAxisWidthByAxisId = function (id, withoutRecompute) {\n\t    var $$ = this,\n\t        position = $$.axis.getLabelPositionById(id);\n\t    return $$.axis.getMaxTickWidth(id, withoutRecompute) + (position.isInner ? 20 : 40);\n\t};\n\tc3_chart_internal_fn.getHorizontalAxisHeight = function (axisId) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        h = 30;\n\t    if (axisId === 'x' && !config.axis_x_show) {\n\t        return 8;\n\t    }\n\t    if (axisId === 'x' && config.axis_x_height) {\n\t        return config.axis_x_height;\n\t    }\n\t    if (axisId === 'y' && !config.axis_y_show) {\n\t        return config.legend_show && !$$.isLegendRight && !$$.isLegendInset ? 10 : 1;\n\t    }\n\t    if (axisId === 'y2' && !config.axis_y2_show) {\n\t        return $$.rotated_padding_top;\n\t    }\n\t    // Calculate x axis height when tick rotated\n\t    if (axisId === 'x' && !config.axis_rotated && config.axis_x_tick_rotate) {\n\t        h = 30 + $$.axis.getMaxTickWidth(axisId) * Math.cos(Math.PI * (90 - config.axis_x_tick_rotate) / 180);\n\t    }\n\t    // Calculate y axis height when tick rotated\n\t    if (axisId === 'y' && config.axis_rotated && config.axis_y_tick_rotate) {\n\t        h = 30 + $$.axis.getMaxTickWidth(axisId) * Math.cos(Math.PI * (90 - config.axis_y_tick_rotate) / 180);\n\t    }\n\t    return h + ($$.axis.getLabelPositionById(axisId).isInner ? 0 : 10) + (axisId === 'y2' ? -10 : 0);\n\t};\n\t\n\tc3_chart_internal_fn.getEventRectWidth = function () {\n\t    return Math.max(0, this.xAxis.tickInterval());\n\t};\n\t\n\tc3_chart_internal_fn.initBrush = function () {\n\t    var $$ = this,\n\t        d3 = $$.d3;\n\t    $$.brush = d3.svg.brush().on(\"brush\", function () {\n\t        $$.redrawForBrush();\n\t    });\n\t    $$.brush.update = function () {\n\t        if ($$.context) {\n\t            $$.context.select('.' + CLASS.brush).call(this);\n\t        }\n\t        return this;\n\t    };\n\t    $$.brush.scale = function (scale) {\n\t        return $$.config.axis_rotated ? this.y(scale) : this.x(scale);\n\t    };\n\t};\n\tc3_chart_internal_fn.initSubchart = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        context = $$.context = $$.svg.append(\"g\").attr(\"transform\", $$.getTranslate('context')),\n\t        visibility = config.subchart_show ? 'visible' : 'hidden';\n\t\n\t    context.style('visibility', visibility);\n\t\n\t    // Define g for chart area\n\t    context.append('g').attr(\"clip-path\", $$.clipPathForSubchart).attr('class', CLASS.chart);\n\t\n\t    // Define g for bar chart area\n\t    context.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartBars);\n\t\n\t    // Define g for line chart area\n\t    context.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartLines);\n\t\n\t    // Add extent rect for Brush\n\t    context.append(\"g\").attr(\"clip-path\", $$.clipPath).attr(\"class\", CLASS.brush).call($$.brush);\n\t\n\t    // ATTENTION: This must be called AFTER chart added\n\t    // Add Axis\n\t    $$.axes.subx = context.append(\"g\").attr(\"class\", CLASS.axisX).attr(\"transform\", $$.getTranslate('subx')).attr(\"clip-path\", config.axis_rotated ? \"\" : $$.clipPathForXAxis).style(\"visibility\", config.subchart_axis_x_show ? visibility : 'hidden');\n\t};\n\tc3_chart_internal_fn.updateTargetsForSubchart = function (targets) {\n\t    var $$ = this,\n\t        context = $$.context,\n\t        config = $$.config,\n\t        contextLineEnter,\n\t        contextLineUpdate,\n\t        contextBarEnter,\n\t        contextBarUpdate,\n\t        classChartBar = $$.classChartBar.bind($$),\n\t        classBars = $$.classBars.bind($$),\n\t        classChartLine = $$.classChartLine.bind($$),\n\t        classLines = $$.classLines.bind($$),\n\t        classAreas = $$.classAreas.bind($$);\n\t\n\t    if (config.subchart_show) {\n\t        //-- Bar --//\n\t        contextBarUpdate = context.select('.' + CLASS.chartBars).selectAll('.' + CLASS.chartBar).data(targets).attr('class', classChartBar);\n\t        contextBarEnter = contextBarUpdate.enter().append('g').style('opacity', 0).attr('class', classChartBar);\n\t        // Bars for each data\n\t        contextBarEnter.append('g').attr(\"class\", classBars);\n\t\n\t        //-- Line --//\n\t        contextLineUpdate = context.select('.' + CLASS.chartLines).selectAll('.' + CLASS.chartLine).data(targets).attr('class', classChartLine);\n\t        contextLineEnter = contextLineUpdate.enter().append('g').style('opacity', 0).attr('class', classChartLine);\n\t        // Lines for each data\n\t        contextLineEnter.append(\"g\").attr(\"class\", classLines);\n\t        // Area\n\t        contextLineEnter.append(\"g\").attr(\"class\", classAreas);\n\t\n\t        //-- Brush --//\n\t        context.selectAll('.' + CLASS.brush + ' rect').attr(config.axis_rotated ? \"width\" : \"height\", config.axis_rotated ? $$.width2 : $$.height2);\n\t    }\n\t};\n\tc3_chart_internal_fn.updateBarForSubchart = function (durationForExit) {\n\t    var $$ = this;\n\t    $$.contextBar = $$.context.selectAll('.' + CLASS.bars).selectAll('.' + CLASS.bar).data($$.barData.bind($$));\n\t    $$.contextBar.enter().append('path').attr(\"class\", $$.classBar.bind($$)).style(\"stroke\", 'none').style(\"fill\", $$.color);\n\t    $$.contextBar.style(\"opacity\", $$.initialOpacity.bind($$));\n\t    $$.contextBar.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawBarForSubchart = function (drawBarOnSub, withTransition, duration) {\n\t    (withTransition ? this.contextBar.transition(Math.random().toString()).duration(duration) : this.contextBar).attr('d', drawBarOnSub).style('opacity', 1);\n\t};\n\tc3_chart_internal_fn.updateLineForSubchart = function (durationForExit) {\n\t    var $$ = this;\n\t    $$.contextLine = $$.context.selectAll('.' + CLASS.lines).selectAll('.' + CLASS.line).data($$.lineData.bind($$));\n\t    $$.contextLine.enter().append('path').attr('class', $$.classLine.bind($$)).style('stroke', $$.color);\n\t    $$.contextLine.style(\"opacity\", $$.initialOpacity.bind($$));\n\t    $$.contextLine.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawLineForSubchart = function (drawLineOnSub, withTransition, duration) {\n\t    (withTransition ? this.contextLine.transition(Math.random().toString()).duration(duration) : this.contextLine).attr(\"d\", drawLineOnSub).style('opacity', 1);\n\t};\n\tc3_chart_internal_fn.updateAreaForSubchart = function (durationForExit) {\n\t    var $$ = this,\n\t        d3 = $$.d3;\n\t    $$.contextArea = $$.context.selectAll('.' + CLASS.areas).selectAll('.' + CLASS.area).data($$.lineData.bind($$));\n\t    $$.contextArea.enter().append('path').attr(\"class\", $$.classArea.bind($$)).style(\"fill\", $$.color).style(\"opacity\", function () {\n\t        $$.orgAreaOpacity = +d3.select(this).style('opacity');return 0;\n\t    });\n\t    $$.contextArea.style(\"opacity\", 0);\n\t    $$.contextArea.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawAreaForSubchart = function (drawAreaOnSub, withTransition, duration) {\n\t    (withTransition ? this.contextArea.transition(Math.random().toString()).duration(duration) : this.contextArea).attr(\"d\", drawAreaOnSub).style(\"fill\", this.color).style(\"opacity\", this.orgAreaOpacity);\n\t};\n\tc3_chart_internal_fn.redrawSubchart = function (withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices) {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config,\n\t        drawAreaOnSub,\n\t        drawBarOnSub,\n\t        drawLineOnSub;\n\t\n\t    $$.context.style('visibility', config.subchart_show ? 'visible' : 'hidden');\n\t\n\t    // subchart\n\t    if (config.subchart_show) {\n\t        // reflect main chart to extent on subchart if zoomed\n\t        if (d3.event && d3.event.type === 'zoom') {\n\t            $$.brush.extent($$.x.orgDomain()).update();\n\t        }\n\t        // update subchart elements if needed\n\t        if (withSubchart) {\n\t\n\t            // extent rect\n\t            if (!$$.brush.empty()) {\n\t                $$.brush.extent($$.x.orgDomain()).update();\n\t            }\n\t            // setup drawer - MEMO: this must be called after axis updated\n\t            drawAreaOnSub = $$.generateDrawArea(areaIndices, true);\n\t            drawBarOnSub = $$.generateDrawBar(barIndices, true);\n\t            drawLineOnSub = $$.generateDrawLine(lineIndices, true);\n\t\n\t            $$.updateBarForSubchart(duration);\n\t            $$.updateLineForSubchart(duration);\n\t            $$.updateAreaForSubchart(duration);\n\t\n\t            $$.redrawBarForSubchart(drawBarOnSub, duration, duration);\n\t            $$.redrawLineForSubchart(drawLineOnSub, duration, duration);\n\t            $$.redrawAreaForSubchart(drawAreaOnSub, duration, duration);\n\t        }\n\t    }\n\t};\n\tc3_chart_internal_fn.redrawForBrush = function () {\n\t    var $$ = this,\n\t        x = $$.x;\n\t    $$.redraw({\n\t        withTransition: false,\n\t        withY: $$.config.zoom_rescale,\n\t        withSubchart: false,\n\t        withUpdateXDomain: true,\n\t        withDimension: false\n\t    });\n\t    $$.config.subchart_onbrush.call($$.api, x.orgDomain());\n\t};\n\tc3_chart_internal_fn.transformContext = function (withTransition, transitions) {\n\t    var $$ = this,\n\t        subXAxis;\n\t    if (transitions && transitions.axisSubX) {\n\t        subXAxis = transitions.axisSubX;\n\t    } else {\n\t        subXAxis = $$.context.select('.' + CLASS.axisX);\n\t        if (withTransition) {\n\t            subXAxis = subXAxis.transition();\n\t        }\n\t    }\n\t    $$.context.attr(\"transform\", $$.getTranslate('context'));\n\t    subXAxis.attr(\"transform\", $$.getTranslate('subx'));\n\t};\n\tc3_chart_internal_fn.getDefaultExtent = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        extent = isFunction(config.axis_x_extent) ? config.axis_x_extent($$.getXDomain($$.data.targets)) : config.axis_x_extent;\n\t    if ($$.isTimeSeries()) {\n\t        extent = [$$.parseDate(extent[0]), $$.parseDate(extent[1])];\n\t    }\n\t    return extent;\n\t};\n\t\n\tc3_chart_internal_fn.initText = function () {\n\t    var $$ = this;\n\t    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartTexts);\n\t    $$.mainText = $$.d3.selectAll([]);\n\t};\n\tc3_chart_internal_fn.updateTargetsForText = function (targets) {\n\t    var $$ = this,\n\t        mainTextUpdate,\n\t        mainTextEnter,\n\t        classChartText = $$.classChartText.bind($$),\n\t        classTexts = $$.classTexts.bind($$),\n\t        classFocus = $$.classFocus.bind($$);\n\t    mainTextUpdate = $$.main.select('.' + CLASS.chartTexts).selectAll('.' + CLASS.chartText).data(targets).attr('class', function (d) {\n\t        return classChartText(d) + classFocus(d);\n\t    });\n\t    mainTextEnter = mainTextUpdate.enter().append('g').attr('class', classChartText).style('opacity', 0).style(\"pointer-events\", \"none\");\n\t    mainTextEnter.append('g').attr('class', classTexts);\n\t};\n\tc3_chart_internal_fn.updateText = function (durationForExit) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        barOrLineData = $$.barOrLineData.bind($$),\n\t        classText = $$.classText.bind($$);\n\t    $$.mainText = $$.main.selectAll('.' + CLASS.texts).selectAll('.' + CLASS.text).data(barOrLineData);\n\t    $$.mainText.enter().append('text').attr(\"class\", classText).attr('text-anchor', function (d) {\n\t        return config.axis_rotated ? d.value < 0 ? 'end' : 'start' : 'middle';\n\t    }).style(\"stroke\", 'none').style(\"fill\", function (d) {\n\t        return $$.color(d);\n\t    }).style(\"fill-opacity\", 0);\n\t    $$.mainText.text(function (d, i, j) {\n\t        return $$.dataLabelFormat(d.id)(d.value, d.id, i, j);\n\t    });\n\t    $$.mainText.exit().transition().duration(durationForExit).style('fill-opacity', 0).remove();\n\t};\n\tc3_chart_internal_fn.redrawText = function (xForText, yForText, forFlow, withTransition) {\n\t    return [(withTransition ? this.mainText.transition() : this.mainText).attr('x', xForText).attr('y', yForText).style(\"fill\", this.color).style(\"fill-opacity\", forFlow ? 0 : this.opacityForText.bind(this))];\n\t};\n\tc3_chart_internal_fn.getTextRect = function (text, cls, element) {\n\t    var dummy = this.d3.select('body').append('div').classed('c3', true),\n\t        svg = dummy.append(\"svg\").style('visibility', 'hidden').style('position', 'fixed').style('top', 0).style('left', 0),\n\t        font = this.d3.select(element).style('font'),\n\t        rect;\n\t    svg.selectAll('.dummy').data([text]).enter().append('text').classed(cls ? cls : \"\", true).style('font', font).text(text).each(function () {\n\t        rect = this.getBoundingClientRect();\n\t    });\n\t    dummy.remove();\n\t    return rect;\n\t};\n\tc3_chart_internal_fn.generateXYForText = function (areaIndices, barIndices, lineIndices, forX) {\n\t    var $$ = this,\n\t        getAreaPoints = $$.generateGetAreaPoints(areaIndices, false),\n\t        getBarPoints = $$.generateGetBarPoints(barIndices, false),\n\t        getLinePoints = $$.generateGetLinePoints(lineIndices, false),\n\t        getter = forX ? $$.getXForText : $$.getYForText;\n\t    return function (d, i) {\n\t        var getPoints = $$.isAreaType(d) ? getAreaPoints : $$.isBarType(d) ? getBarPoints : getLinePoints;\n\t        return getter.call($$, getPoints(d, i), d, this);\n\t    };\n\t};\n\tc3_chart_internal_fn.getXForText = function (points, d, textElement) {\n\t    var $$ = this,\n\t        box = textElement.getBoundingClientRect(),\n\t        xPos,\n\t        padding;\n\t    if ($$.config.axis_rotated) {\n\t        padding = $$.isBarType(d) ? 4 : 6;\n\t        xPos = points[2][1] + padding * (d.value < 0 ? -1 : 1);\n\t    } else {\n\t        xPos = $$.hasType('bar') ? (points[2][0] + points[0][0]) / 2 : points[0][0];\n\t    }\n\t    // show labels regardless of the domain if value is null\n\t    if (d.value === null) {\n\t        if (xPos > $$.width) {\n\t            xPos = $$.width - box.width;\n\t        } else if (xPos < 0) {\n\t            xPos = 4;\n\t        }\n\t    }\n\t    return xPos;\n\t};\n\tc3_chart_internal_fn.getYForText = function (points, d, textElement) {\n\t    var $$ = this,\n\t        box = textElement.getBoundingClientRect(),\n\t        yPos;\n\t    if ($$.config.axis_rotated) {\n\t        yPos = (points[0][0] + points[2][0] + box.height * 0.6) / 2;\n\t    } else {\n\t        yPos = points[2][1];\n\t        if (d.value < 0 || d.value === 0 && !$$.hasPositiveValue) {\n\t            yPos += box.height;\n\t            if ($$.isBarType(d) && $$.isSafari()) {\n\t                yPos -= 3;\n\t            } else if (!$$.isBarType(d) && $$.isChrome()) {\n\t                yPos += 3;\n\t            }\n\t        } else {\n\t            yPos += $$.isBarType(d) ? -3 : -6;\n\t        }\n\t    }\n\t    // show labels regardless of the domain if value is null\n\t    if (d.value === null && !$$.config.axis_rotated) {\n\t        if (yPos < box.height) {\n\t            yPos = box.height;\n\t        } else if (yPos > this.height) {\n\t            yPos = this.height - 4;\n\t        }\n\t    }\n\t    return yPos;\n\t};\n\t\n\tc3_chart_internal_fn.initTitle = function () {\n\t    var $$ = this;\n\t    $$.title = $$.svg.append(\"text\").text($$.config.title_text).attr(\"class\", $$.CLASS.title);\n\t};\n\tc3_chart_internal_fn.redrawTitle = function () {\n\t    var $$ = this;\n\t    $$.title.attr(\"x\", $$.xForTitle.bind($$)).attr(\"y\", $$.yForTitle.bind($$));\n\t};\n\tc3_chart_internal_fn.xForTitle = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        position = config.title_position || 'left',\n\t        x;\n\t    if (position.indexOf('right') >= 0) {\n\t        x = $$.currentWidth - $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width - config.title_padding.right;\n\t    } else if (position.indexOf('center') >= 0) {\n\t        x = ($$.currentWidth - $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width) / 2;\n\t    } else {\n\t        // left\n\t        x = config.title_padding.left;\n\t    }\n\t    return x;\n\t};\n\tc3_chart_internal_fn.yForTitle = function () {\n\t    var $$ = this;\n\t    return $$.config.title_padding.top + $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).height;\n\t};\n\tc3_chart_internal_fn.getTitlePadding = function () {\n\t    var $$ = this;\n\t    return $$.yForTitle() + $$.config.title_padding.bottom;\n\t};\n\t\n\tc3_chart_internal_fn.initTooltip = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        i;\n\t    $$.tooltip = $$.selectChart.style(\"position\", \"relative\").append(\"div\").attr('class', CLASS.tooltipContainer).style(\"position\", \"absolute\").style(\"pointer-events\", \"none\").style(\"display\", \"none\");\n\t    // Show tooltip if needed\n\t    if (config.tooltip_init_show) {\n\t        if ($$.isTimeSeries() && isString(config.tooltip_init_x)) {\n\t            config.tooltip_init_x = $$.parseDate(config.tooltip_init_x);\n\t            for (i = 0; i < $$.data.targets[0].values.length; i++) {\n\t                if ($$.data.targets[0].values[i].x - config.tooltip_init_x === 0) {\n\t                    break;\n\t                }\n\t            }\n\t            config.tooltip_init_x = i;\n\t        }\n\t        $$.tooltip.html(config.tooltip_contents.call($$, $$.data.targets.map(function (d) {\n\t            return $$.addName(d.values[config.tooltip_init_x]);\n\t        }), $$.axis.getXAxisTickFormat(), $$.getYFormat($$.hasArcType()), $$.color));\n\t        $$.tooltip.style(\"top\", config.tooltip_init_position.top).style(\"left\", config.tooltip_init_position.left).style(\"display\", \"block\");\n\t    }\n\t};\n\tc3_chart_internal_fn.getTooltipSortFunction = function () {\n\t    var $$ = this,\n\t        config = $$.config;\n\t\n\t    if (config.data_groups.length === 0 || config.tooltip_order !== undefined) {\n\t        // if data are not grouped or if an order is specified\n\t        // for the tooltip values we sort them by their values\n\t\n\t        var order = config.tooltip_order;\n\t        if (order === undefined) {\n\t            order = config.data_order;\n\t        }\n\t\n\t        var valueOf = function valueOf(obj) {\n\t            return obj ? obj.value : null;\n\t        };\n\t\n\t        // if data are not grouped, we sort them by their value\n\t        if (isString(order) && order.toLowerCase() === 'asc') {\n\t            return function (a, b) {\n\t                return valueOf(a) - valueOf(b);\n\t            };\n\t        } else if (isString(order) && order.toLowerCase() === 'desc') {\n\t            return function (a, b) {\n\t                return valueOf(b) - valueOf(a);\n\t            };\n\t        } else if (isFunction(order)) {\n\t\n\t            // if the function is from data_order we need\n\t            // to wrap the returned function in order to format\n\t            // the sorted value to the expected format\n\t\n\t            var sortFunction = order;\n\t\n\t            if (config.tooltip_order === undefined) {\n\t                sortFunction = function sortFunction(a, b) {\n\t                    return order(a ? {\n\t                        id: a.id,\n\t                        values: [a]\n\t                    } : null, b ? {\n\t                        id: b.id,\n\t                        values: [b]\n\t                    } : null);\n\t                };\n\t            }\n\t\n\t            return sortFunction;\n\t        } else if (isArray(order)) {\n\t            return function (a, b) {\n\t                return order.indexOf(a.id) - order.indexOf(b.id);\n\t            };\n\t        }\n\t    } else {\n\t        // if data are grouped, we follow the order of grouped targets\n\t        var ids = $$.orderTargets($$.data.targets).map(function (i) {\n\t            return i.id;\n\t        });\n\t\n\t        // if it was either asc or desc we need to invert the order\n\t        // returned by orderTargets\n\t        if ($$.isOrderAsc() || $$.isOrderDesc()) {\n\t            ids = ids.reverse();\n\t        }\n\t\n\t        return function (a, b) {\n\t            return ids.indexOf(a.id) - ids.indexOf(b.id);\n\t        };\n\t    }\n\t};\n\tc3_chart_internal_fn.getTooltipContent = function (d, defaultTitleFormat, defaultValueFormat, color) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        titleFormat = config.tooltip_format_title || defaultTitleFormat,\n\t        nameFormat = config.tooltip_format_name || function (name) {\n\t        return name;\n\t    },\n\t        valueFormat = config.tooltip_format_value || defaultValueFormat,\n\t        text,\n\t        i,\n\t        title,\n\t        value,\n\t        name,\n\t        bgcolor;\n\t\n\t    var tooltipSortFunction = this.getTooltipSortFunction();\n\t    if (tooltipSortFunction) {\n\t        d.sort(tooltipSortFunction);\n\t    }\n\t\n\t    for (i = 0; i < d.length; i++) {\n\t        if (!(d[i] && (d[i].value || d[i].value === 0))) {\n\t            continue;\n\t        }\n\t\n\t        if (!text) {\n\t            title = sanitise(titleFormat ? titleFormat(d[i].x) : d[i].x);\n\t            text = \"<table class='\" + $$.CLASS.tooltip + \"'>\" + (title || title === 0 ? \"<tr><th colspan='2'>\" + title + \"</th></tr>\" : \"\");\n\t        }\n\t\n\t        value = sanitise(valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index, d));\n\t        if (value !== undefined) {\n\t            // Skip elements when their name is set to null\n\t            if (d[i].name === null) {\n\t                continue;\n\t            }\n\t            name = sanitise(nameFormat(d[i].name, d[i].ratio, d[i].id, d[i].index));\n\t            bgcolor = $$.levelColor ? $$.levelColor(d[i].value) : color(d[i].id);\n\t\n\t            text += \"<tr class='\" + $$.CLASS.tooltipName + \"-\" + $$.getTargetSelectorSuffix(d[i].id) + \"'>\";\n\t            text += \"<td class='name'><span style='background-color:\" + bgcolor + \"'></span>\" + name + \"</td>\";\n\t            text += \"<td class='value'>\" + value + \"</td>\";\n\t            text += \"</tr>\";\n\t        }\n\t    }\n\t    return text + \"</table>\";\n\t};\n\tc3_chart_internal_fn.tooltipPosition = function (dataToShow, tWidth, tHeight, element) {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        d3 = $$.d3;\n\t    var svgLeft, tooltipLeft, tooltipRight, tooltipTop, chartRight;\n\t    var forArc = $$.hasArcType(),\n\t        mouse = d3.mouse(element);\n\t    // Determin tooltip position\n\t    if (forArc) {\n\t        tooltipLeft = ($$.width - ($$.isLegendRight ? $$.getLegendWidth() : 0)) / 2 + mouse[0];\n\t        tooltipTop = ($$.hasType('gauge') ? $$.height : $$.height / 2) + mouse[1] + 20;\n\t    } else {\n\t        svgLeft = $$.getSvgLeft(true);\n\t        if (config.axis_rotated) {\n\t            tooltipLeft = svgLeft + mouse[0] + 100;\n\t            tooltipRight = tooltipLeft + tWidth;\n\t            chartRight = $$.currentWidth - $$.getCurrentPaddingRight();\n\t            tooltipTop = $$.x(dataToShow[0].x) + 20;\n\t        } else {\n\t            tooltipLeft = svgLeft + $$.getCurrentPaddingLeft(true) + $$.x(dataToShow[0].x) + 20;\n\t            tooltipRight = tooltipLeft + tWidth;\n\t            chartRight = svgLeft + $$.currentWidth - $$.getCurrentPaddingRight();\n\t            tooltipTop = mouse[1] + 15;\n\t        }\n\t\n\t        if (tooltipRight > chartRight) {\n\t            // 20 is needed for Firefox to keep tooltip width\n\t            tooltipLeft -= tooltipRight - chartRight + 20;\n\t        }\n\t        if (tooltipTop + tHeight > $$.currentHeight) {\n\t            tooltipTop -= tHeight + 30;\n\t        }\n\t    }\n\t    if (tooltipTop < 0) {\n\t        tooltipTop = 0;\n\t    }\n\t    return { top: tooltipTop, left: tooltipLeft };\n\t};\n\tc3_chart_internal_fn.showTooltip = function (selectedData, element) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    var tWidth, tHeight, position;\n\t    var forArc = $$.hasArcType(),\n\t        dataToShow = selectedData.filter(function (d) {\n\t        return d && isValue(d.value);\n\t    }),\n\t        positionFunction = config.tooltip_position || c3_chart_internal_fn.tooltipPosition;\n\t    if (dataToShow.length === 0 || !config.tooltip_show) {\n\t        return;\n\t    }\n\t    $$.tooltip.html(config.tooltip_contents.call($$, selectedData, $$.axis.getXAxisTickFormat(), $$.getYFormat(forArc), $$.color)).style(\"display\", \"block\");\n\t\n\t    // Get tooltip dimensions\n\t    tWidth = $$.tooltip.property('offsetWidth');\n\t    tHeight = $$.tooltip.property('offsetHeight');\n\t\n\t    position = positionFunction.call(this, dataToShow, tWidth, tHeight, element);\n\t    // Set tooltip\n\t    $$.tooltip.style(\"top\", position.top + \"px\").style(\"left\", position.left + 'px');\n\t};\n\tc3_chart_internal_fn.hideTooltip = function () {\n\t    this.tooltip.style(\"display\", \"none\");\n\t};\n\t\n\tc3_chart_internal_fn.setTargetType = function (targetIds, type) {\n\t    var $$ = this,\n\t        config = $$.config;\n\t    $$.mapToTargetIds(targetIds).forEach(function (id) {\n\t        $$.withoutFadeIn[id] = type === config.data_types[id];\n\t        config.data_types[id] = type;\n\t    });\n\t    if (!targetIds) {\n\t        config.data_type = type;\n\t    }\n\t};\n\tc3_chart_internal_fn.hasType = function (type, targets) {\n\t    var $$ = this,\n\t        types = $$.config.data_types,\n\t        has = false;\n\t    targets = targets || $$.data.targets;\n\t    if (targets && targets.length) {\n\t        targets.forEach(function (target) {\n\t            var t = types[target.id];\n\t            if (t && t.indexOf(type) >= 0 || !t && type === 'line') {\n\t                has = true;\n\t            }\n\t        });\n\t    } else if (Object.keys(types).length) {\n\t        Object.keys(types).forEach(function (id) {\n\t            if (types[id] === type) {\n\t                has = true;\n\t            }\n\t        });\n\t    } else {\n\t        has = $$.config.data_type === type;\n\t    }\n\t    return has;\n\t};\n\tc3_chart_internal_fn.hasArcType = function (targets) {\n\t    return this.hasType('pie', targets) || this.hasType('donut', targets) || this.hasType('gauge', targets);\n\t};\n\tc3_chart_internal_fn.isLineType = function (d) {\n\t    var config = this.config,\n\t        id = isString(d) ? d : d.id;\n\t    return !config.data_types[id] || ['line', 'spline', 'area', 'area-spline', 'step', 'area-step'].indexOf(config.data_types[id]) >= 0;\n\t};\n\tc3_chart_internal_fn.isStepType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return ['step', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\n\t};\n\tc3_chart_internal_fn.isSplineType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return ['spline', 'area-spline'].indexOf(this.config.data_types[id]) >= 0;\n\t};\n\tc3_chart_internal_fn.isAreaType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return ['area', 'area-spline', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\n\t};\n\tc3_chart_internal_fn.isBarType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return this.config.data_types[id] === 'bar';\n\t};\n\tc3_chart_internal_fn.isScatterType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return this.config.data_types[id] === 'scatter';\n\t};\n\tc3_chart_internal_fn.isPieType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return this.config.data_types[id] === 'pie';\n\t};\n\tc3_chart_internal_fn.isGaugeType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return this.config.data_types[id] === 'gauge';\n\t};\n\tc3_chart_internal_fn.isDonutType = function (d) {\n\t    var id = isString(d) ? d : d.id;\n\t    return this.config.data_types[id] === 'donut';\n\t};\n\tc3_chart_internal_fn.isArcType = function (d) {\n\t    return this.isPieType(d) || this.isDonutType(d) || this.isGaugeType(d);\n\t};\n\tc3_chart_internal_fn.lineData = function (d) {\n\t    return this.isLineType(d) ? [d] : [];\n\t};\n\tc3_chart_internal_fn.arcData = function (d) {\n\t    return this.isArcType(d.data) ? [d] : [];\n\t};\n\t/* not used\n\t function scatterData(d) {\n\t return isScatterType(d) ? d.values : [];\n\t }\n\t */\n\tc3_chart_internal_fn.barData = function (d) {\n\t    return this.isBarType(d) ? d.values : [];\n\t};\n\tc3_chart_internal_fn.lineOrScatterData = function (d) {\n\t    return this.isLineType(d) || this.isScatterType(d) ? d.values : [];\n\t};\n\tc3_chart_internal_fn.barOrLineData = function (d) {\n\t    return this.isBarType(d) || this.isLineType(d) ? d.values : [];\n\t};\n\tc3_chart_internal_fn.isInterpolationType = function (type) {\n\t    return ['linear', 'linear-closed', 'basis', 'basis-open', 'basis-closed', 'bundle', 'cardinal', 'cardinal-open', 'cardinal-closed', 'monotone'].indexOf(type) >= 0;\n\t};\n\t\n\tc3_chart_internal_fn.isSafari = function () {\n\t    var ua = window.navigator.userAgent;\n\t    return ua.indexOf('Safari') >= 0 && ua.indexOf('Chrome') < 0;\n\t};\n\tc3_chart_internal_fn.isChrome = function () {\n\t    var ua = window.navigator.userAgent;\n\t    return ua.indexOf('Chrome') >= 0;\n\t};\n\t\n\tc3_chart_internal_fn.initZoom = function () {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config,\n\t        startEvent;\n\t\n\t    $$.zoom = d3.behavior.zoom().on(\"zoomstart\", function () {\n\t        startEvent = d3.event.sourceEvent;\n\t        $$.zoom.altDomain = d3.event.sourceEvent.altKey ? $$.x.orgDomain() : null;\n\t        config.zoom_onzoomstart.call($$.api, d3.event.sourceEvent);\n\t    }).on(\"zoom\", function () {\n\t        $$.redrawForZoom.call($$);\n\t    }).on('zoomend', function () {\n\t        var event = d3.event.sourceEvent;\n\t        // if click, do nothing. otherwise, click interaction will be canceled.\n\t        if (event && startEvent.clientX === event.clientX && startEvent.clientY === event.clientY) {\n\t            return;\n\t        }\n\t        $$.redrawEventRect();\n\t        $$.updateZoom();\n\t        config.zoom_onzoomend.call($$.api, $$.x.orgDomain());\n\t    });\n\t    $$.zoom.scale = function (scale) {\n\t        return config.axis_rotated ? this.y(scale) : this.x(scale);\n\t    };\n\t    $$.zoom.orgScaleExtent = function () {\n\t        var extent = config.zoom_extent ? config.zoom_extent : [1, 10];\n\t        return [extent[0], Math.max($$.getMaxDataCount() / extent[1], extent[1])];\n\t    };\n\t    $$.zoom.updateScaleExtent = function () {\n\t        var ratio = diffDomain($$.x.orgDomain()) / diffDomain($$.getZoomDomain()),\n\t            extent = this.orgScaleExtent();\n\t        this.scaleExtent([extent[0] * ratio, extent[1] * ratio]);\n\t        return this;\n\t    };\n\t};\n\tc3_chart_internal_fn.getZoomDomain = function () {\n\t    var $$ = this,\n\t        config = $$.config,\n\t        d3 = $$.d3,\n\t        min = d3.min([$$.orgXDomain[0], config.zoom_x_min]),\n\t        max = d3.max([$$.orgXDomain[1], config.zoom_x_max]);\n\t    return [min, max];\n\t};\n\tc3_chart_internal_fn.updateZoom = function () {\n\t    var $$ = this,\n\t        z = $$.config.zoom_enabled ? $$.zoom : function () {};\n\t    $$.main.select('.' + CLASS.zoomRect).call(z).on(\"dblclick.zoom\", null);\n\t    $$.main.selectAll('.' + CLASS.eventRect).call(z).on(\"dblclick.zoom\", null);\n\t};\n\tc3_chart_internal_fn.redrawForZoom = function () {\n\t    var $$ = this,\n\t        d3 = $$.d3,\n\t        config = $$.config,\n\t        zoom = $$.zoom,\n\t        x = $$.x;\n\t    if (!config.zoom_enabled) {\n\t        return;\n\t    }\n\t    if ($$.filterTargetsToShow($$.data.targets).length === 0) {\n\t        return;\n\t    }\n\t    if (d3.event.sourceEvent.type === 'mousemove' && zoom.altDomain) {\n\t        x.domain(zoom.altDomain);\n\t        zoom.scale(x).updateScaleExtent();\n\t        return;\n\t    }\n\t    if ($$.isCategorized() && x.orgDomain()[0] === $$.orgXDomain[0]) {\n\t        x.domain([$$.orgXDomain[0] - 1e-10, x.orgDomain()[1]]);\n\t    }\n\t    $$.redraw({\n\t        withTransition: false,\n\t        withY: config.zoom_rescale,\n\t        withSubchart: false,\n\t        withEventRect: false,\n\t        withDimension: false\n\t    });\n\t    if (d3.event.sourceEvent.type === 'mousemove') {\n\t        $$.cancelClick = true;\n\t    }\n\t    config.zoom_onzoom.call($$.api, x.orgDomain());\n\t};\n\t\n\treturn c3;\n\t\n\t})));\n\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;!function() {\n\t  var d3 = {\n\t    version: \"3.5.17\"\n\t  };\n\t  var d3_arraySlice = [].slice, d3_array = function(list) {\n\t    return d3_arraySlice.call(list);\n\t  };\n\t  var d3_document = this.document;\n\t  function d3_documentElement(node) {\n\t    return node && (node.ownerDocument || node.document || node).documentElement;\n\t  }\n\t  function d3_window(node) {\n\t    return node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n\t  }\n\t  if (d3_document) {\n\t    try {\n\t      d3_array(d3_document.documentElement.childNodes)[0].nodeType;\n\t    } catch (e) {\n\t      d3_array = function(list) {\n\t        var i = list.length, array = new Array(i);\n\t        while (i--) array[i] = list[i];\n\t        return array;\n\t      };\n\t    }\n\t  }\n\t  if (!Date.now) Date.now = function() {\n\t    return +new Date();\n\t  };\n\t  if (d3_document) {\n\t    try {\n\t      d3_document.createElement(\"DIV\").style.setProperty(\"opacity\", 0, \"\");\n\t    } catch (error) {\n\t      var d3_element_prototype = this.Element.prototype, d3_element_setAttribute = d3_element_prototype.setAttribute, d3_element_setAttributeNS = d3_element_prototype.setAttributeNS, d3_style_prototype = this.CSSStyleDeclaration.prototype, d3_style_setProperty = d3_style_prototype.setProperty;\n\t      d3_element_prototype.setAttribute = function(name, value) {\n\t        d3_element_setAttribute.call(this, name, value + \"\");\n\t      };\n\t      d3_element_prototype.setAttributeNS = function(space, local, value) {\n\t        d3_element_setAttributeNS.call(this, space, local, value + \"\");\n\t      };\n\t      d3_style_prototype.setProperty = function(name, value, priority) {\n\t        d3_style_setProperty.call(this, name, value + \"\", priority);\n\t      };\n\t    }\n\t  }\n\t  d3.ascending = d3_ascending;\n\t  function d3_ascending(a, b) {\n\t    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n\t  }\n\t  d3.descending = function(a, b) {\n\t    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n\t  };\n\t  d3.min = function(array, f) {\n\t    var i = -1, n = array.length, a, b;\n\t    if (arguments.length === 1) {\n\t      while (++i < n) if ((b = array[i]) != null && b >= b) {\n\t        a = b;\n\t        break;\n\t      }\n\t      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n\t    } else {\n\t      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n\t        a = b;\n\t        break;\n\t      }\n\t      while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;\n\t    }\n\t    return a;\n\t  };\n\t  d3.max = function(array, f) {\n\t    var i = -1, n = array.length, a, b;\n\t    if (arguments.length === 1) {\n\t      while (++i < n) if ((b = array[i]) != null && b >= b) {\n\t        a = b;\n\t        break;\n\t      }\n\t      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n\t    } else {\n\t      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n\t        a = b;\n\t        break;\n\t      }\n\t      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;\n\t    }\n\t    return a;\n\t  };\n\t  d3.extent = function(array, f) {\n\t    var i = -1, n = array.length, a, b, c;\n\t    if (arguments.length === 1) {\n\t      while (++i < n) if ((b = array[i]) != null && b >= b) {\n\t        a = c = b;\n\t        break;\n\t      }\n\t      while (++i < n) if ((b = array[i]) != null) {\n\t        if (a > b) a = b;\n\t        if (c < b) c = b;\n\t      }\n\t    } else {\n\t      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n\t        a = c = b;\n\t        break;\n\t      }\n\t      while (++i < n) if ((b = f.call(array, array[i], i)) != null) {\n\t        if (a > b) a = b;\n\t        if (c < b) c = b;\n\t      }\n\t    }\n\t    return [ a, c ];\n\t  };\n\t  function d3_number(x) {\n\t    return x === null ? NaN : +x;\n\t  }\n\t  function d3_numeric(x) {\n\t    return !isNaN(x);\n\t  }\n\t  d3.sum = function(array, f) {\n\t    var s = 0, n = array.length, a, i = -1;\n\t    if (arguments.length === 1) {\n\t      while (++i < n) if (d3_numeric(a = +array[i])) s += a;\n\t    } else {\n\t      while (++i < n) if (d3_numeric(a = +f.call(array, array[i], i))) s += a;\n\t    }\n\t    return s;\n\t  };\n\t  d3.mean = function(array, f) {\n\t    var s = 0, n = array.length, a, i = -1, j = n;\n\t    if (arguments.length === 1) {\n\t      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) s += a; else --j;\n\t    } else {\n\t      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) s += a; else --j;\n\t    }\n\t    if (j) return s / j;\n\t  };\n\t  d3.quantile = function(values, p) {\n\t    var H = (values.length - 1) * p + 1, h = Math.floor(H), v = +values[h - 1], e = H - h;\n\t    return e ? v + e * (values[h] - v) : v;\n\t  };\n\t  d3.median = function(array, f) {\n\t    var numbers = [], n = array.length, a, i = -1;\n\t    if (arguments.length === 1) {\n\t      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) numbers.push(a);\n\t    } else {\n\t      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) numbers.push(a);\n\t    }\n\t    if (numbers.length) return d3.quantile(numbers.sort(d3_ascending), .5);\n\t  };\n\t  d3.variance = function(array, f) {\n\t    var n = array.length, m = 0, a, d, s = 0, i = -1, j = 0;\n\t    if (arguments.length === 1) {\n\t      while (++i < n) {\n\t        if (d3_numeric(a = d3_number(array[i]))) {\n\t          d = a - m;\n\t          m += d / ++j;\n\t          s += d * (a - m);\n\t        }\n\t      }\n\t    } else {\n\t      while (++i < n) {\n\t        if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) {\n\t          d = a - m;\n\t          m += d / ++j;\n\t          s += d * (a - m);\n\t        }\n\t      }\n\t    }\n\t    if (j > 1) return s / (j - 1);\n\t  };\n\t  d3.deviation = function() {\n\t    var v = d3.variance.apply(this, arguments);\n\t    return v ? Math.sqrt(v) : v;\n\t  };\n\t  function d3_bisector(compare) {\n\t    return {\n\t      left: function(a, x, lo, hi) {\n\t        if (arguments.length < 3) lo = 0;\n\t        if (arguments.length < 4) hi = a.length;\n\t        while (lo < hi) {\n\t          var mid = lo + hi >>> 1;\n\t          if (compare(a[mid], x) < 0) lo = mid + 1; else hi = mid;\n\t        }\n\t        return lo;\n\t      },\n\t      right: function(a, x, lo, hi) {\n\t        if (arguments.length < 3) lo = 0;\n\t        if (arguments.length < 4) hi = a.length;\n\t        while (lo < hi) {\n\t          var mid = lo + hi >>> 1;\n\t          if (compare(a[mid], x) > 0) hi = mid; else lo = mid + 1;\n\t        }\n\t        return lo;\n\t      }\n\t    };\n\t  }\n\t  var d3_bisect = d3_bisector(d3_ascending);\n\t  d3.bisectLeft = d3_bisect.left;\n\t  d3.bisect = d3.bisectRight = d3_bisect.right;\n\t  d3.bisector = function(f) {\n\t    return d3_bisector(f.length === 1 ? function(d, x) {\n\t      return d3_ascending(f(d), x);\n\t    } : f);\n\t  };\n\t  d3.shuffle = function(array, i0, i1) {\n\t    if ((m = arguments.length) < 3) {\n\t      i1 = array.length;\n\t      if (m < 2) i0 = 0;\n\t    }\n\t    var m = i1 - i0, t, i;\n\t    while (m) {\n\t      i = Math.random() * m-- | 0;\n\t      t = array[m + i0], array[m + i0] = array[i + i0], array[i + i0] = t;\n\t    }\n\t    return array;\n\t  };\n\t  d3.permute = function(array, indexes) {\n\t    var i = indexes.length, permutes = new Array(i);\n\t    while (i--) permutes[i] = array[indexes[i]];\n\t    return permutes;\n\t  };\n\t  d3.pairs = function(array) {\n\t    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);\n\t    while (i < n) pairs[i] = [ p0 = p1, p1 = array[++i] ];\n\t    return pairs;\n\t  };\n\t  d3.transpose = function(matrix) {\n\t    if (!(n = matrix.length)) return [];\n\t    for (var i = -1, m = d3.min(matrix, d3_transposeLength), transpose = new Array(m); ++i < m; ) {\n\t      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n; ) {\n\t        row[j] = matrix[j][i];\n\t      }\n\t    }\n\t    return transpose;\n\t  };\n\t  function d3_transposeLength(d) {\n\t    return d.length;\n\t  }\n\t  d3.zip = function() {\n\t    return d3.transpose(arguments);\n\t  };\n\t  d3.keys = function(map) {\n\t    var keys = [];\n\t    for (var key in map) keys.push(key);\n\t    return keys;\n\t  };\n\t  d3.values = function(map) {\n\t    var values = [];\n\t    for (var key in map) values.push(map[key]);\n\t    return values;\n\t  };\n\t  d3.entries = function(map) {\n\t    var entries = [];\n\t    for (var key in map) entries.push({\n\t      key: key,\n\t      value: map[key]\n\t    });\n\t    return entries;\n\t  };\n\t  d3.merge = function(arrays) {\n\t    var n = arrays.length, m, i = -1, j = 0, merged, array;\n\t    while (++i < n) j += arrays[i].length;\n\t    merged = new Array(j);\n\t    while (--n >= 0) {\n\t      array = arrays[n];\n\t      m = array.length;\n\t      while (--m >= 0) {\n\t        merged[--j] = array[m];\n\t      }\n\t    }\n\t    return merged;\n\t  };\n\t  var abs = Math.abs;\n\t  d3.range = function(start, stop, step) {\n\t    if (arguments.length < 3) {\n\t      step = 1;\n\t      if (arguments.length < 2) {\n\t        stop = start;\n\t        start = 0;\n\t      }\n\t    }\n\t    if ((stop - start) / step === Infinity) throw new Error(\"infinite range\");\n\t    var range = [], k = d3_range_integerScale(abs(step)), i = -1, j;\n\t    start *= k, stop *= k, step *= k;\n\t    if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k); else while ((j = start + step * ++i) < stop) range.push(j / k);\n\t    return range;\n\t  };\n\t  function d3_range_integerScale(x) {\n\t    var k = 1;\n\t    while (x * k % 1) k *= 10;\n\t    return k;\n\t  }\n\t  function d3_class(ctor, properties) {\n\t    for (var key in properties) {\n\t      Object.defineProperty(ctor.prototype, key, {\n\t        value: properties[key],\n\t        enumerable: false\n\t      });\n\t    }\n\t  }\n\t  d3.map = function(object, f) {\n\t    var map = new d3_Map();\n\t    if (object instanceof d3_Map) {\n\t      object.forEach(function(key, value) {\n\t        map.set(key, value);\n\t      });\n\t    } else if (Array.isArray(object)) {\n\t      var i = -1, n = object.length, o;\n\t      if (arguments.length === 1) while (++i < n) map.set(i, object[i]); else while (++i < n) map.set(f.call(object, o = object[i], i), o);\n\t    } else {\n\t      for (var key in object) map.set(key, object[key]);\n\t    }\n\t    return map;\n\t  };\n\t  function d3_Map() {\n\t    this._ = Object.create(null);\n\t  }\n\t  var d3_map_proto = \"__proto__\", d3_map_zero = \"\\x00\";\n\t  d3_class(d3_Map, {\n\t    has: d3_map_has,\n\t    get: function(key) {\n\t      return this._[d3_map_escape(key)];\n\t    },\n\t    set: function(key, value) {\n\t      return this._[d3_map_escape(key)] = value;\n\t    },\n\t    remove: d3_map_remove,\n\t    keys: d3_map_keys,\n\t    values: function() {\n\t      var values = [];\n\t      for (var key in this._) values.push(this._[key]);\n\t      return values;\n\t    },\n\t    entries: function() {\n\t      var entries = [];\n\t      for (var key in this._) entries.push({\n\t        key: d3_map_unescape(key),\n\t        value: this._[key]\n\t      });\n\t      return entries;\n\t    },\n\t    size: d3_map_size,\n\t    empty: d3_map_empty,\n\t    forEach: function(f) {\n\t      for (var key in this._) f.call(this, d3_map_unescape(key), this._[key]);\n\t    }\n\t  });\n\t  function d3_map_escape(key) {\n\t    return (key += \"\") === d3_map_proto || key[0] === d3_map_zero ? d3_map_zero + key : key;\n\t  }\n\t  function d3_map_unescape(key) {\n\t    return (key += \"\")[0] === d3_map_zero ? key.slice(1) : key;\n\t  }\n\t  function d3_map_has(key) {\n\t    return d3_map_escape(key) in this._;\n\t  }\n\t  function d3_map_remove(key) {\n\t    return (key = d3_map_escape(key)) in this._ && delete this._[key];\n\t  }\n\t  function d3_map_keys() {\n\t    var keys = [];\n\t    for (var key in this._) keys.push(d3_map_unescape(key));\n\t    return keys;\n\t  }\n\t  function d3_map_size() {\n\t    var size = 0;\n\t    for (var key in this._) ++size;\n\t    return size;\n\t  }\n\t  function d3_map_empty() {\n\t    for (var key in this._) return false;\n\t    return true;\n\t  }\n\t  d3.nest = function() {\n\t    var nest = {}, keys = [], sortKeys = [], sortValues, rollup;\n\t    function map(mapType, array, depth) {\n\t      if (depth >= keys.length) return rollup ? rollup.call(nest, array) : sortValues ? array.sort(sortValues) : array;\n\t      var i = -1, n = array.length, key = keys[depth++], keyValue, object, setter, valuesByKey = new d3_Map(), values;\n\t      while (++i < n) {\n\t        if (values = valuesByKey.get(keyValue = key(object = array[i]))) {\n\t          values.push(object);\n\t        } else {\n\t          valuesByKey.set(keyValue, [ object ]);\n\t        }\n\t      }\n\t      if (mapType) {\n\t        object = mapType();\n\t        setter = function(keyValue, values) {\n\t          object.set(keyValue, map(mapType, values, depth));\n\t        };\n\t      } else {\n\t        object = {};\n\t        setter = function(keyValue, values) {\n\t          object[keyValue] = map(mapType, values, depth);\n\t        };\n\t      }\n\t      valuesByKey.forEach(setter);\n\t      return object;\n\t    }\n\t    function entries(map, depth) {\n\t      if (depth >= keys.length) return map;\n\t      var array = [], sortKey = sortKeys[depth++];\n\t      map.forEach(function(key, keyMap) {\n\t        array.push({\n\t          key: key,\n\t          values: entries(keyMap, depth)\n\t        });\n\t      });\n\t      return sortKey ? array.sort(function(a, b) {\n\t        return sortKey(a.key, b.key);\n\t      }) : array;\n\t    }\n\t    nest.map = function(array, mapType) {\n\t      return map(mapType, array, 0);\n\t    };\n\t    nest.entries = function(array) {\n\t      return entries(map(d3.map, array, 0), 0);\n\t    };\n\t    nest.key = function(d) {\n\t      keys.push(d);\n\t      return nest;\n\t    };\n\t    nest.sortKeys = function(order) {\n\t      sortKeys[keys.length - 1] = order;\n\t      return nest;\n\t    };\n\t    nest.sortValues = function(order) {\n\t      sortValues = order;\n\t      return nest;\n\t    };\n\t    nest.rollup = function(f) {\n\t      rollup = f;\n\t      return nest;\n\t    };\n\t    return nest;\n\t  };\n\t  d3.set = function(array) {\n\t    var set = new d3_Set();\n\t    if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]);\n\t    return set;\n\t  };\n\t  function d3_Set() {\n\t    this._ = Object.create(null);\n\t  }\n\t  d3_class(d3_Set, {\n\t    has: d3_map_has,\n\t    add: function(key) {\n\t      this._[d3_map_escape(key += \"\")] = true;\n\t      return key;\n\t    },\n\t    remove: d3_map_remove,\n\t    values: d3_map_keys,\n\t    size: d3_map_size,\n\t    empty: d3_map_empty,\n\t    forEach: function(f) {\n\t      for (var key in this._) f.call(this, d3_map_unescape(key));\n\t    }\n\t  });\n\t  d3.behavior = {};\n\t  function d3_identity(d) {\n\t    return d;\n\t  }\n\t  d3.rebind = function(target, source) {\n\t    var i = 1, n = arguments.length, method;\n\t    while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);\n\t    return target;\n\t  };\n\t  function d3_rebind(target, source, method) {\n\t    return function() {\n\t      var value = method.apply(source, arguments);\n\t      return value === source ? target : value;\n\t    };\n\t  }\n\t  function d3_vendorSymbol(object, name) {\n\t    if (name in object) return name;\n\t    name = name.charAt(0).toUpperCase() + name.slice(1);\n\t    for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) {\n\t      var prefixName = d3_vendorPrefixes[i] + name;\n\t      if (prefixName in object) return prefixName;\n\t    }\n\t  }\n\t  var d3_vendorPrefixes = [ \"webkit\", \"ms\", \"moz\", \"Moz\", \"o\", \"O\" ];\n\t  function d3_noop() {}\n\t  d3.dispatch = function() {\n\t    var dispatch = new d3_dispatch(), i = -1, n = arguments.length;\n\t    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n\t    return dispatch;\n\t  };\n\t  function d3_dispatch() {}\n\t  d3_dispatch.prototype.on = function(type, listener) {\n\t    var i = type.indexOf(\".\"), name = \"\";\n\t    if (i >= 0) {\n\t      name = type.slice(i + 1);\n\t      type = type.slice(0, i);\n\t    }\n\t    if (type) return arguments.length < 2 ? this[type].on(name) : this[type].on(name, listener);\n\t    if (arguments.length === 2) {\n\t      if (listener == null) for (type in this) {\n\t        if (this.hasOwnProperty(type)) this[type].on(name, null);\n\t      }\n\t      return this;\n\t    }\n\t  };\n\t  function d3_dispatch_event(dispatch) {\n\t    var listeners = [], listenerByName = new d3_Map();\n\t    function event() {\n\t      var z = listeners, i = -1, n = z.length, l;\n\t      while (++i < n) if (l = z[i].on) l.apply(this, arguments);\n\t      return dispatch;\n\t    }\n\t    event.on = function(name, listener) {\n\t      var l = listenerByName.get(name), i;\n\t      if (arguments.length < 2) return l && l.on;\n\t      if (l) {\n\t        l.on = null;\n\t        listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1));\n\t        listenerByName.remove(name);\n\t      }\n\t      if (listener) listeners.push(listenerByName.set(name, {\n\t        on: listener\n\t      }));\n\t      return dispatch;\n\t    };\n\t    return event;\n\t  }\n\t  d3.event = null;\n\t  function d3_eventPreventDefault() {\n\t    d3.event.preventDefault();\n\t  }\n\t  function d3_eventSource() {\n\t    var e = d3.event, s;\n\t    while (s = e.sourceEvent) e = s;\n\t    return e;\n\t  }\n\t  function d3_eventDispatch(target) {\n\t    var dispatch = new d3_dispatch(), i = 0, n = arguments.length;\n\t    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n\t    dispatch.of = function(thiz, argumentz) {\n\t      return function(e1) {\n\t        try {\n\t          var e0 = e1.sourceEvent = d3.event;\n\t          e1.target = target;\n\t          d3.event = e1;\n\t          dispatch[e1.type].apply(thiz, argumentz);\n\t        } finally {\n\t          d3.event = e0;\n\t        }\n\t      };\n\t    };\n\t    return dispatch;\n\t  }\n\t  d3.requote = function(s) {\n\t    return s.replace(d3_requote_re, \"\\\\$&\");\n\t  };\n\t  var d3_requote_re = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\t  var d3_subclass = {}.__proto__ ? function(object, prototype) {\n\t    object.__proto__ = prototype;\n\t  } : function(object, prototype) {\n\t    for (var property in prototype) object[property] = prototype[property];\n\t  };\n\t  function d3_selection(groups) {\n\t    d3_subclass(groups, d3_selectionPrototype);\n\t    return groups;\n\t  }\n\t  var d3_select = function(s, n) {\n\t    return n.querySelector(s);\n\t  }, d3_selectAll = function(s, n) {\n\t    return n.querySelectorAll(s);\n\t  }, d3_selectMatches = function(n, s) {\n\t    var d3_selectMatcher = n.matches || n[d3_vendorSymbol(n, \"matchesSelector\")];\n\t    d3_selectMatches = function(n, s) {\n\t      return d3_selectMatcher.call(n, s);\n\t    };\n\t    return d3_selectMatches(n, s);\n\t  };\n\t  if (typeof Sizzle === \"function\") {\n\t    d3_select = function(s, n) {\n\t      return Sizzle(s, n)[0] || null;\n\t    };\n\t    d3_selectAll = Sizzle;\n\t    d3_selectMatches = Sizzle.matchesSelector;\n\t  }\n\t  d3.selection = function() {\n\t    return d3.select(d3_document.documentElement);\n\t  };\n\t  var d3_selectionPrototype = d3.selection.prototype = [];\n\t  d3_selectionPrototype.select = function(selector) {\n\t    var subgroups = [], subgroup, subnode, group, node;\n\t    selector = d3_selection_selector(selector);\n\t    for (var j = -1, m = this.length; ++j < m; ) {\n\t      subgroups.push(subgroup = []);\n\t      subgroup.parentNode = (group = this[j]).parentNode;\n\t      for (var i = -1, n = group.length; ++i < n; ) {\n\t        if (node = group[i]) {\n\t          subgroup.push(subnode = selector.call(node, node.__data__, i, j));\n\t          if (subnode && \"__data__\" in node) subnode.__data__ = node.__data__;\n\t        } else {\n\t          subgroup.push(null);\n\t        }\n\t      }\n\t    }\n\t    return d3_selection(subgroups);\n\t  };\n\t  function d3_selection_selector(selector) {\n\t    return typeof selector === \"function\" ? selector : function() {\n\t      return d3_select(selector, this);\n\t    };\n\t  }\n\t  d3_selectionPrototype.selectAll = function(selector) {\n\t    var subgroups = [], subgroup, node;\n\t    selector = d3_selection_selectorAll(selector);\n\t    for (var j = -1, m = this.length; ++j < m; ) {\n\t      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n\t        if (node = group[i]) {\n\t          subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i, j)));\n\t          subgroup.parentNode = node;\n\t        }\n\t      }\n\t    }\n\t    return d3_selection(subgroups);\n\t  };\n\t  function d3_selection_selectorAll(selector) {\n\t    return typeof selector === \"function\" ? selector : function() {\n\t      return d3_selectAll(selector, this);\n\t    };\n\t  }\n\t  var d3_nsXhtml = \"http://www.w3.org/1999/xhtml\";\n\t  var d3_nsPrefix = {\n\t    svg: \"http://www.w3.org/2000/svg\",\n\t    xhtml: d3_nsXhtml,\n\t    xlink: \"http://www.w3.org/1999/xlink\",\n\t    xml: \"http://www.w3.org/XML/1998/namespace\",\n\t    xmlns: \"http://www.w3.org/2000/xmlns/\"\n\t  };\n\t  d3.ns = {\n\t    prefix: d3_nsPrefix,\n\t    qualify: function(name) {\n\t      var i = name.indexOf(\":\"), prefix = name;\n\t      if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n\t      return d3_nsPrefix.hasOwnProperty(prefix) ? {\n\t        space: d3_nsPrefix[prefix],\n\t        local: name\n\t      } : name;\n\t    }\n\t  };\n\t  d3_selectionPrototype.attr = function(name, value) {\n\t    if (arguments.length < 2) {\n\t      if (typeof name === \"string\") {\n\t        var node = this.node();\n\t        name = d3.ns.qualify(name);\n\t        return name.local ? node.getAttributeNS(name.space, name.local) : node.getAttribute(name);\n\t      }\n\t      for (value in name) this.each(d3_selection_attr(value, name[value]));\n\t      return this;\n\t    }\n\t    return this.each(d3_selection_attr(name, value));\n\t  };\n\t  function d3_selection_attr(name, value) {\n\t    name = d3.ns.qualify(name);\n\t    function attrNull() {\n\t      this.removeAttribute(name);\n\t    }\n\t    function attrNullNS() {\n\t      this.removeAttributeNS(name.space, name.local);\n\t    }\n\t    function attrConstant() {\n\t      this.setAttribute(name, value);\n\t    }\n\t    function attrConstantNS() {\n\t      this.setAttributeNS(name.space, name.local, value);\n\t    }\n\t    function attrFunction() {\n\t      var x = value.apply(this, arguments);\n\t      if (x == null) this.removeAttribute(name); else this.setAttribute(name, x);\n\t    }\n\t    function attrFunctionNS() {\n\t      var x = value.apply(this, arguments);\n\t      if (x == null) this.removeAttributeNS(name.space, name.local); else this.setAttributeNS(name.space, name.local, x);\n\t    }\n\t    return value == null ? name.local ? attrNullNS : attrNull : typeof value === \"function\" ? name.local ? attrFunctionNS : attrFunction : name.local ? attrConstantNS : attrConstant;\n\t  }\n\t  function d3_collapse(s) {\n\t    return s.trim().replace(/\\s+/g, \" \");\n\t  }\n\t  d3_selectionPrototype.classed = function(name, value) {\n\t    if (arguments.length < 2) {\n\t      if (typeof name === \"string\") {\n\t        var node = this.node(), n = (name = d3_selection_classes(name)).length, i = -1;\n\t        if (value = node.classList) {\n\t          while (++i < n) if (!value.contains(name[i])) return false;\n\t        } else {\n\t          value = node.getAttribute(\"class\");\n\t          while (++i < n) if (!d3_selection_classedRe(name[i]).test(value)) return false;\n\t        }\n\t        return true;\n\t      }\n\t      for (value in name) this.each(d3_selection_classed(value, name[value]));\n\t      return this;\n\t    }\n\t    return this.each(d3_selection_classed(name, value));\n\t  };\n\t  function d3_selection_classedRe(name) {\n\t    return new RegExp(\"(?:^|\\\\s+)\" + d3.requote(name) + \"(?:\\\\s+|$)\", \"g\");\n\t  }\n\t  function d3_selection_classes(name) {\n\t    return (name + \"\").trim().split(/^|\\s+/);\n\t  }\n\t  function d3_selection_classed(name, value) {\n\t    name = d3_selection_classes(name).map(d3_selection_classedName);\n\t    var n = name.length;\n\t    function classedConstant() {\n\t      var i = -1;\n\t      while (++i < n) name[i](this, value);\n\t    }\n\t    function classedFunction() {\n\t      var i = -1, x = value.apply(this, arguments);\n\t      while (++i < n) name[i](this, x);\n\t    }\n\t    return typeof value === \"function\" ? classedFunction : classedConstant;\n\t  }\n\t  function d3_selection_classedName(name) {\n\t    var re = d3_selection_classedRe(name);\n\t    return function(node, value) {\n\t      if (c = node.classList) return value ? c.add(name) : c.remove(name);\n\t      var c = node.getAttribute(\"class\") || \"\";\n\t      if (value) {\n\t        re.lastIndex = 0;\n\t        if (!re.test(c)) node.setAttribute(\"class\", d3_collapse(c + \" \" + name));\n\t      } else {\n\t        node.setAttribute(\"class\", d3_collapse(c.replace(re, \" \")));\n\t      }\n\t    };\n\t  }\n\t  d3_selectionPrototype.style = function(name, value, priority) {\n\t    var n = arguments.length;\n\t    if (n < 3) {\n\t      if (typeof name !== \"string\") {\n\t        if (n < 2) value = \"\";\n\t        for (priority in name) this.each(d3_selection_style(priority, name[priority], value));\n\t        return this;\n\t      }\n\t      if (n < 2) {\n\t        var node = this.node();\n\t        return d3_window(node).getComputedStyle(node, null).getPropertyValue(name);\n\t      }\n\t      priority = \"\";\n\t    }\n\t    return this.each(d3_selection_style(name, value, priority));\n\t  };\n\t  function d3_selection_style(name, value, priority) {\n\t    function styleNull() {\n\t      this.style.removeProperty(name);\n\t    }\n\t    function styleConstant() {\n\t      this.style.setProperty(name, value, priority);\n\t    }\n\t    function styleFunction() {\n\t      var x = value.apply(this, arguments);\n\t      if (x == null) this.style.removeProperty(name); else this.style.setProperty(name, x, priority);\n\t    }\n\t    return value == null ? styleNull : typeof value === \"function\" ? styleFunction : styleConstant;\n\t  }\n\t  d3_selectionPrototype.property = function(name, value) {\n\t    if (arguments.length < 2) {\n\t      if (typeof name === \"string\") return this.node()[name];\n\t      for (value in name) this.each(d3_selection_property(value, name[value]));\n\t      return this;\n\t    }\n\t    return this.each(d3_selection_property(name, value));\n\t  };\n\t  function d3_selection_property(name, value) {\n\t    function propertyNull() {\n\t      delete this[name];\n\t    }\n\t    function propertyConstant() {\n\t      this[name] = value;\n\t    }\n\t    function propertyFunction() {\n\t      var x = value.apply(this, arguments);\n\t      if (x == null) delete this[name]; else this[name] = x;\n\t    }\n\t    return value == null ? propertyNull : typeof value === \"function\" ? propertyFunction : propertyConstant;\n\t  }\n\t  d3_selectionPrototype.text = function(value) {\n\t    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n\t      var v = value.apply(this, arguments);\n\t      this.textContent = v == null ? \"\" : v;\n\t    } : value == null ? function() {\n\t      this.textContent = \"\";\n\t    } : function() {\n\t      this.textContent = value;\n\t    }) : this.node().textContent;\n\t  };\n\t  d3_selectionPrototype.html = function(value) {\n\t    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n\t      var v = value.apply(this, arguments);\n\t      this.innerHTML = v == null ? \"\" : v;\n\t    } : value == null ? function() {\n\t      this.innerHTML = \"\";\n\t    } : function() {\n\t      this.innerHTML = value;\n\t    }) : this.node().innerHTML;\n\t  };\n\t  d3_selectionPrototype.append = function(name) {\n\t    name = d3_selection_creator(name);\n\t    return this.select(function() {\n\t      return this.appendChild(name.apply(this, arguments));\n\t    });\n\t  };\n\t  function d3_selection_creator(name) {\n\t    function create() {\n\t      var document = this.ownerDocument, namespace = this.namespaceURI;\n\t      return namespace === d3_nsXhtml && document.documentElement.namespaceURI === d3_nsXhtml ? document.createElement(name) : document.createElementNS(namespace, name);\n\t    }\n\t    function createNS() {\n\t      return this.ownerDocument.createElementNS(name.space, name.local);\n\t    }\n\t    return typeof name === \"function\" ? name : (name = d3.ns.qualify(name)).local ? createNS : create;\n\t  }\n\t  d3_selectionPrototype.insert = function(name, before) {\n\t    name = d3_selection_creator(name);\n\t    before = d3_selection_selector(before);\n\t    return this.select(function() {\n\t      return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null);\n\t    });\n\t  };\n\t  d3_selectionPrototype.remove = function() {\n\t    return this.each(d3_selectionRemove);\n\t  };\n\t  function d3_selectionRemove() {\n\t    var parent = this.parentNode;\n\t    if (parent) parent.removeChild(this);\n\t  }\n\t  d3_selectionPrototype.data = function(value, key) {\n\t    var i = -1, n = this.length, group, node;\n\t    if (!arguments.length) {\n\t      value = new Array(n = (group = this[0]).length);\n\t      while (++i < n) {\n\t        if (node = group[i]) {\n\t          value[i] = node.__data__;\n\t        }\n\t      }\n\t      return value;\n\t    }\n\t    function bind(group, groupData) {\n\t      var i, n = group.length, m = groupData.length, n0 = Math.min(n, m), updateNodes = new Array(m), enterNodes = new Array(m), exitNodes = new Array(n), node, nodeData;\n\t      if (key) {\n\t        var nodeByKeyValue = new d3_Map(), keyValues = new Array(n), keyValue;\n\t        for (i = -1; ++i < n; ) {\n\t          if (node = group[i]) {\n\t            if (nodeByKeyValue.has(keyValue = key.call(node, node.__data__, i))) {\n\t              exitNodes[i] = node;\n\t            } else {\n\t              nodeByKeyValue.set(keyValue, node);\n\t            }\n\t            keyValues[i] = keyValue;\n\t          }\n\t        }\n\t        for (i = -1; ++i < m; ) {\n\t          if (!(node = nodeByKeyValue.get(keyValue = key.call(groupData, nodeData = groupData[i], i)))) {\n\t            enterNodes[i] = d3_selection_dataNode(nodeData);\n\t          } else if (node !== true) {\n\t            updateNodes[i] = node;\n\t            node.__data__ = nodeData;\n\t          }\n\t          nodeByKeyValue.set(keyValue, true);\n\t        }\n\t        for (i = -1; ++i < n; ) {\n\t          if (i in keyValues && nodeByKeyValue.get(keyValues[i]) !== true) {\n\t            exitNodes[i] = group[i];\n\t          }\n\t        }\n\t      } else {\n\t        for (i = -1; ++i < n0; ) {\n\t          node = group[i];\n\t          nodeData = groupData[i];\n\t          if (node) {\n\t            node.__data__ = nodeData;\n\t            updateNodes[i] = node;\n\t          } else {\n\t            enterNodes[i] = d3_selection_dataNode(nodeData);\n\t          }\n\t        }\n\t        for (;i < m; ++i) {\n\t          enterNodes[i] = d3_selection_dataNode(groupData[i]);\n\t        }\n\t        for (;i < n; ++i) {\n\t          exitNodes[i] = group[i];\n\t        }\n\t      }\n\t      enterNodes.update = updateNodes;\n\t      enterNodes.parentNode = updateNodes.parentNode = exitNodes.parentNode = group.parentNode;\n\t      enter.push(enterNodes);\n\t      update.push(updateNodes);\n\t      exit.push(exitNodes);\n\t    }\n\t    var enter = d3_selection_enter([]), update = d3_selection([]), exit = d3_selection([]);\n\t    if (typeof value === \"function\") {\n\t      while (++i < n) {\n\t        bind(group = this[i], value.call(group, group.parentNode.__data__, i));\n\t      }\n\t    } else {\n\t      while (++i < n) {\n\t        bind(group = this[i], value);\n\t      }\n\t    }\n\t    update.enter = function() {\n\t      return enter;\n\t    };\n\t    update.exit = function() {\n\t      return exit;\n\t    };\n\t    return update;\n\t  };\n\t  function d3_selection_dataNode(data) {\n\t    return {\n\t      __data__: data\n\t    };\n\t  }\n\t  d3_selectionPrototype.datum = function(value) {\n\t    return arguments.length ? this.property(\"__data__\", value) : this.property(\"__data__\");\n\t  };\n\t  d3_selectionPrototype.filter = function(filter) {\n\t    var subgroups = [], subgroup, group, node;\n\t    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n\t    for (var j = 0, m = this.length; j < m; j++) {\n\t      subgroups.push(subgroup = []);\n\t      subgroup.parentNode = (group = this[j]).parentNode;\n\t      for (var i = 0, n = group.length; i < n; i++) {\n\t        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n\t          subgroup.push(node);\n\t        }\n\t      }\n\t    }\n\t    return d3_selection(subgroups);\n\t  };\n\t  function d3_selection_filter(selector) {\n\t    return function() {\n\t      return d3_selectMatches(this, selector);\n\t    };\n\t  }\n\t  d3_selectionPrototype.order = function() {\n\t    for (var j = -1, m = this.length; ++j < m; ) {\n\t      for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n\t        if (node = group[i]) {\n\t          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n\t          next = node;\n\t        }\n\t      }\n\t    }\n\t    return this;\n\t  };\n\t  d3_selectionPrototype.sort = function(comparator) {\n\t    comparator = d3_selection_sortComparator.apply(this, arguments);\n\t    for (var j = -1, m = this.length; ++j < m; ) this[j].sort(comparator);\n\t    return this.order();\n\t  };\n\t  function d3_selection_sortComparator(comparator) {\n\t    if (!arguments.length) comparator = d3_ascending;\n\t    return function(a, b) {\n\t      return a && b ? comparator(a.__data__, b.__data__) : !a - !b;\n\t    };\n\t  }\n\t  d3_selectionPrototype.each = function(callback) {\n\t    return d3_selection_each(this, function(node, i, j) {\n\t      callback.call(node, node.__data__, i, j);\n\t    });\n\t  };\n\t  function d3_selection_each(groups, callback) {\n\t    for (var j = 0, m = groups.length; j < m; j++) {\n\t      for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) {\n\t        if (node = group[i]) callback(node, i, j);\n\t      }\n\t    }\n\t    return groups;\n\t  }\n\t  d3_selectionPrototype.call = function(callback) {\n\t    var args = d3_array(arguments);\n\t    callback.apply(args[0] = this, args);\n\t    return this;\n\t  };\n\t  d3_selectionPrototype.empty = function() {\n\t    return !this.node();\n\t  };\n\t  d3_selectionPrototype.node = function() {\n\t    for (var j = 0, m = this.length; j < m; j++) {\n\t      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n\t        var node = group[i];\n\t        if (node) return node;\n\t      }\n\t    }\n\t    return null;\n\t  };\n\t  d3_selectionPrototype.size = function() {\n\t    var n = 0;\n\t    d3_selection_each(this, function() {\n\t      ++n;\n\t    });\n\t    return n;\n\t  };\n\t  function d3_selection_enter(selection) {\n\t    d3_subclass(selection, d3_selection_enterPrototype);\n\t    return selection;\n\t  }\n\t  var d3_selection_enterPrototype = [];\n\t  d3.selection.enter = d3_selection_enter;\n\t  d3.selection.enter.prototype = d3_selection_enterPrototype;\n\t  d3_selection_enterPrototype.append = d3_selectionPrototype.append;\n\t  d3_selection_enterPrototype.empty = d3_selectionPrototype.empty;\n\t  d3_selection_enterPrototype.node = d3_selectionPrototype.node;\n\t  d3_selection_enterPrototype.call = d3_selectionPrototype.call;\n\t  d3_selection_enterPrototype.size = d3_selectionPrototype.size;\n\t  d3_selection_enterPrototype.select = function(selector) {\n\t    var subgroups = [], subgroup, subnode, upgroup, group, node;\n\t    for (var j = -1, m = this.length; ++j < m; ) {\n\t      upgroup = (group = this[j]).update;\n\t      subgroups.push(subgroup = []);\n\t      subgroup.parentNode = group.parentNode;\n\t      for (var i = -1, n = group.length; ++i < n; ) {\n\t        if (node = group[i]) {\n\t          subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i, j));\n\t          subnode.__data__ = node.__data__;\n\t        } else {\n\t          subgroup.push(null);\n\t        }\n\t      }\n\t    }\n\t    return d3_selection(subgroups);\n\t  };\n\t  d3_selection_enterPrototype.insert = function(name, before) {\n\t    if (arguments.length < 2) before = d3_selection_enterInsertBefore(this);\n\t    return d3_selectionPrototype.insert.call(this, name, before);\n\t  };\n\t  function d3_selection_enterInsertBefore(enter) {\n\t    var i0, j0;\n\t    return function(d, i, j) {\n\t      var group = enter[j].update, n = group.length, node;\n\t      if (j != j0) j0 = j, i0 = 0;\n\t      if (i >= i0) i0 = i + 1;\n\t      while (!(node = group[i0]) && ++i0 < n) ;\n\t      return node;\n\t    };\n\t  }\n\t  d3.select = function(node) {\n\t    var group;\n\t    if (typeof node === \"string\") {\n\t      group = [ d3_select(node, d3_document) ];\n\t      group.parentNode = d3_document.documentElement;\n\t    } else {\n\t      group = [ node ];\n\t      group.parentNode = d3_documentElement(node);\n\t    }\n\t    return d3_selection([ group ]);\n\t  };\n\t  d3.selectAll = function(nodes) {\n\t    var group;\n\t    if (typeof nodes === \"string\") {\n\t      group = d3_array(d3_selectAll(nodes, d3_document));\n\t      group.parentNode = d3_document.documentElement;\n\t    } else {\n\t      group = d3_array(nodes);\n\t      group.parentNode = null;\n\t    }\n\t    return d3_selection([ group ]);\n\t  };\n\t  d3_selectionPrototype.on = function(type, listener, capture) {\n\t    var n = arguments.length;\n\t    if (n < 3) {\n\t      if (typeof type !== \"string\") {\n\t        if (n < 2) listener = false;\n\t        for (capture in type) this.each(d3_selection_on(capture, type[capture], listener));\n\t        return this;\n\t      }\n\t      if (n < 2) return (n = this.node()[\"__on\" + type]) && n._;\n\t      capture = false;\n\t    }\n\t    return this.each(d3_selection_on(type, listener, capture));\n\t  };\n\t  function d3_selection_on(type, listener, capture) {\n\t    var name = \"__on\" + type, i = type.indexOf(\".\"), wrap = d3_selection_onListener;\n\t    if (i > 0) type = type.slice(0, i);\n\t    var filter = d3_selection_onFilters.get(type);\n\t    if (filter) type = filter, wrap = d3_selection_onFilter;\n\t    function onRemove() {\n\t      var l = this[name];\n\t      if (l) {\n\t        this.removeEventListener(type, l, l.$);\n\t        delete this[name];\n\t      }\n\t    }\n\t    function onAdd() {\n\t      var l = wrap(listener, d3_array(arguments));\n\t      onRemove.call(this);\n\t      this.addEventListener(type, this[name] = l, l.$ = capture);\n\t      l._ = listener;\n\t    }\n\t    function removeAll() {\n\t      var re = new RegExp(\"^__on([^.]+)\" + d3.requote(type) + \"$\"), match;\n\t      for (var name in this) {\n\t        if (match = name.match(re)) {\n\t          var l = this[name];\n\t          this.removeEventListener(match[1], l, l.$);\n\t          delete this[name];\n\t        }\n\t      }\n\t    }\n\t    return i ? listener ? onAdd : onRemove : listener ? d3_noop : removeAll;\n\t  }\n\t  var d3_selection_onFilters = d3.map({\n\t    mouseenter: \"mouseover\",\n\t    mouseleave: \"mouseout\"\n\t  });\n\t  if (d3_document) {\n\t    d3_selection_onFilters.forEach(function(k) {\n\t      if (\"on\" + k in d3_document) d3_selection_onFilters.remove(k);\n\t    });\n\t  }\n\t  function d3_selection_onListener(listener, argumentz) {\n\t    return function(e) {\n\t      var o = d3.event;\n\t      d3.event = e;\n\t      argumentz[0] = this.__data__;\n\t      try {\n\t        listener.apply(this, argumentz);\n\t      } finally {\n\t        d3.event = o;\n\t      }\n\t    };\n\t  }\n\t  function d3_selection_onFilter(listener, argumentz) {\n\t    var l = d3_selection_onListener(listener, argumentz);\n\t    return function(e) {\n\t      var target = this, related = e.relatedTarget;\n\t      if (!related || related !== target && !(related.compareDocumentPosition(target) & 8)) {\n\t        l.call(target, e);\n\t      }\n\t    };\n\t  }\n\t  var d3_event_dragSelect, d3_event_dragId = 0;\n\t  function d3_event_dragSuppress(node) {\n\t    var name = \".dragsuppress-\" + ++d3_event_dragId, click = \"click\" + name, w = d3.select(d3_window(node)).on(\"touchmove\" + name, d3_eventPreventDefault).on(\"dragstart\" + name, d3_eventPreventDefault).on(\"selectstart\" + name, d3_eventPreventDefault);\n\t    if (d3_event_dragSelect == null) {\n\t      d3_event_dragSelect = \"onselectstart\" in node ? false : d3_vendorSymbol(node.style, \"userSelect\");\n\t    }\n\t    if (d3_event_dragSelect) {\n\t      var style = d3_documentElement(node).style, select = style[d3_event_dragSelect];\n\t      style[d3_event_dragSelect] = \"none\";\n\t    }\n\t    return function(suppressClick) {\n\t      w.on(name, null);\n\t      if (d3_event_dragSelect) style[d3_event_dragSelect] = select;\n\t      if (suppressClick) {\n\t        var off = function() {\n\t          w.on(click, null);\n\t        };\n\t        w.on(click, function() {\n\t          d3_eventPreventDefault();\n\t          off();\n\t        }, true);\n\t        setTimeout(off, 0);\n\t      }\n\t    };\n\t  }\n\t  d3.mouse = function(container) {\n\t    return d3_mousePoint(container, d3_eventSource());\n\t  };\n\t  var d3_mouse_bug44083 = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;\n\t  function d3_mousePoint(container, e) {\n\t    if (e.changedTouches) e = e.changedTouches[0];\n\t    var svg = container.ownerSVGElement || container;\n\t    if (svg.createSVGPoint) {\n\t      var point = svg.createSVGPoint();\n\t      if (d3_mouse_bug44083 < 0) {\n\t        var window = d3_window(container);\n\t        if (window.scrollX || window.scrollY) {\n\t          svg = d3.select(\"body\").append(\"svg\").style({\n\t            position: \"absolute\",\n\t            top: 0,\n\t            left: 0,\n\t            margin: 0,\n\t            padding: 0,\n\t            border: \"none\"\n\t          }, \"important\");\n\t          var ctm = svg[0][0].getScreenCTM();\n\t          d3_mouse_bug44083 = !(ctm.f || ctm.e);\n\t          svg.remove();\n\t        }\n\t      }\n\t      if (d3_mouse_bug44083) point.x = e.pageX, point.y = e.pageY; else point.x = e.clientX, \n\t      point.y = e.clientY;\n\t      point = point.matrixTransform(container.getScreenCTM().inverse());\n\t      return [ point.x, point.y ];\n\t    }\n\t    var rect = container.getBoundingClientRect();\n\t    return [ e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop ];\n\t  }\n\t  d3.touch = function(container, touches, identifier) {\n\t    if (arguments.length < 3) identifier = touches, touches = d3_eventSource().changedTouches;\n\t    if (touches) for (var i = 0, n = touches.length, touch; i < n; ++i) {\n\t      if ((touch = touches[i]).identifier === identifier) {\n\t        return d3_mousePoint(container, touch);\n\t      }\n\t    }\n\t  };\n\t  d3.behavior.drag = function() {\n\t    var event = d3_eventDispatch(drag, \"drag\", \"dragstart\", \"dragend\"), origin = null, mousedown = dragstart(d3_noop, d3.mouse, d3_window, \"mousemove\", \"mouseup\"), touchstart = dragstart(d3_behavior_dragTouchId, d3.touch, d3_identity, \"touchmove\", \"touchend\");\n\t    function drag() {\n\t      this.on(\"mousedown.drag\", mousedown).on(\"touchstart.drag\", touchstart);\n\t    }\n\t    function dragstart(id, position, subject, move, end) {\n\t      return function() {\n\t        var that = this, target = d3.event.target.correspondingElement || d3.event.target, parent = that.parentNode, dispatch = event.of(that, arguments), dragged = 0, dragId = id(), dragName = \".drag\" + (dragId == null ? \"\" : \"-\" + dragId), dragOffset, dragSubject = d3.select(subject(target)).on(move + dragName, moved).on(end + dragName, ended), dragRestore = d3_event_dragSuppress(target), position0 = position(parent, dragId);\n\t        if (origin) {\n\t          dragOffset = origin.apply(that, arguments);\n\t          dragOffset = [ dragOffset.x - position0[0], dragOffset.y - position0[1] ];\n\t        } else {\n\t          dragOffset = [ 0, 0 ];\n\t        }\n\t        dispatch({\n\t          type: \"dragstart\"\n\t        });\n\t        function moved() {\n\t          var position1 = position(parent, dragId), dx, dy;\n\t          if (!position1) return;\n\t          dx = position1[0] - position0[0];\n\t          dy = position1[1] - position0[1];\n\t          dragged |= dx | dy;\n\t          position0 = position1;\n\t          dispatch({\n\t            type: \"drag\",\n\t            x: position1[0] + dragOffset[0],\n\t            y: position1[1] + dragOffset[1],\n\t            dx: dx,\n\t            dy: dy\n\t          });\n\t        }\n\t        function ended() {\n\t          if (!position(parent, dragId)) return;\n\t          dragSubject.on(move + dragName, null).on(end + dragName, null);\n\t          dragRestore(dragged);\n\t          dispatch({\n\t            type: \"dragend\"\n\t          });\n\t        }\n\t      };\n\t    }\n\t    drag.origin = function(x) {\n\t      if (!arguments.length) return origin;\n\t      origin = x;\n\t      return drag;\n\t    };\n\t    return d3.rebind(drag, event, \"on\");\n\t  };\n\t  function d3_behavior_dragTouchId() {\n\t    return d3.event.changedTouches[0].identifier;\n\t  }\n\t  d3.touches = function(container, touches) {\n\t    if (arguments.length < 2) touches = d3_eventSource().touches;\n\t    return touches ? d3_array(touches).map(function(touch) {\n\t      var point = d3_mousePoint(container, touch);\n\t      point.identifier = touch.identifier;\n\t      return point;\n\t    }) : [];\n\t  };\n\t  var  = 1e-6, 2 =  * ,  = Math.PI,  = 2 * ,  =  - , half =  / 2, d3_radians =  / 180, d3_degrees = 180 / ;\n\t  function d3_sgn(x) {\n\t    return x > 0 ? 1 : x < 0 ? -1 : 0;\n\t  }\n\t  function d3_cross2d(a, b, c) {\n\t    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n\t  }\n\t  function d3_acos(x) {\n\t    return x > 1 ? 0 : x < -1 ?  : Math.acos(x);\n\t  }\n\t  function d3_asin(x) {\n\t    return x > 1 ? half : x < -1 ? -half : Math.asin(x);\n\t  }\n\t  function d3_sinh(x) {\n\t    return ((x = Math.exp(x)) - 1 / x) / 2;\n\t  }\n\t  function d3_cosh(x) {\n\t    return ((x = Math.exp(x)) + 1 / x) / 2;\n\t  }\n\t  function d3_tanh(x) {\n\t    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n\t  }\n\t  function d3_haversin(x) {\n\t    return (x = Math.sin(x / 2)) * x;\n\t  }\n\t  var  = Math.SQRT2, 2 = 2, 4 = 4;\n\t  d3.interpolateZoom = function(p0, p1) {\n\t    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n\t    if (d2 < 2) {\n\t      S = Math.log(w1 / w0) / ;\n\t      i = function(t) {\n\t        return [ ux0 + t * dx, uy0 + t * dy, w0 * Math.exp( * t * S) ];\n\t      };\n\t    } else {\n\t      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + 4 * d2) / (2 * w0 * 2 * d1), b1 = (w1 * w1 - w0 * w0 - 4 * d2) / (2 * w1 * 2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n\t      S = (r1 - r0) / ;\n\t      i = function(t) {\n\t        var s = t * S, coshr0 = d3_cosh(r0), u = w0 / (2 * d1) * (coshr0 * d3_tanh( * s + r0) - d3_sinh(r0));\n\t        return [ ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / d3_cosh( * s + r0) ];\n\t      };\n\t    }\n\t    i.duration = S * 1e3;\n\t    return i;\n\t  };\n\t  d3.behavior.zoom = function() {\n\t    var view = {\n\t      x: 0,\n\t      y: 0,\n\t      k: 1\n\t    }, translate0, center0, center, size = [ 960, 500 ], scaleExtent = d3_behavior_zoomInfinity, duration = 250, zooming = 0, mousedown = \"mousedown.zoom\", mousemove = \"mousemove.zoom\", mouseup = \"mouseup.zoom\", mousewheelTimer, touchstart = \"touchstart.zoom\", touchtime, event = d3_eventDispatch(zoom, \"zoomstart\", \"zoom\", \"zoomend\"), x0, x1, y0, y1;\n\t    if (!d3_behavior_zoomWheel) {\n\t      d3_behavior_zoomWheel = \"onwheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n\t        return -d3.event.deltaY * (d3.event.deltaMode ? 120 : 1);\n\t      }, \"wheel\") : \"onmousewheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n\t        return d3.event.wheelDelta;\n\t      }, \"mousewheel\") : (d3_behavior_zoomDelta = function() {\n\t        return -d3.event.detail;\n\t      }, \"MozMousePixelScroll\");\n\t    }\n\t    function zoom(g) {\n\t      g.on(mousedown, mousedowned).on(d3_behavior_zoomWheel + \".zoom\", mousewheeled).on(\"dblclick.zoom\", dblclicked).on(touchstart, touchstarted);\n\t    }\n\t    zoom.event = function(g) {\n\t      g.each(function() {\n\t        var dispatch = event.of(this, arguments), view1 = view;\n\t        if (d3_transitionInheritId) {\n\t          d3.select(this).transition().each(\"start.zoom\", function() {\n\t            view = this.__chart__ || {\n\t              x: 0,\n\t              y: 0,\n\t              k: 1\n\t            };\n\t            zoomstarted(dispatch);\n\t          }).tween(\"zoom:zoom\", function() {\n\t            var dx = size[0], dy = size[1], cx = center0 ? center0[0] : dx / 2, cy = center0 ? center0[1] : dy / 2, i = d3.interpolateZoom([ (cx - view.x) / view.k, (cy - view.y) / view.k, dx / view.k ], [ (cx - view1.x) / view1.k, (cy - view1.y) / view1.k, dx / view1.k ]);\n\t            return function(t) {\n\t              var l = i(t), k = dx / l[2];\n\t              this.__chart__ = view = {\n\t                x: cx - l[0] * k,\n\t                y: cy - l[1] * k,\n\t                k: k\n\t              };\n\t              zoomed(dispatch);\n\t            };\n\t          }).each(\"interrupt.zoom\", function() {\n\t            zoomended(dispatch);\n\t          }).each(\"end.zoom\", function() {\n\t            zoomended(dispatch);\n\t          });\n\t        } else {\n\t          this.__chart__ = view;\n\t          zoomstarted(dispatch);\n\t          zoomed(dispatch);\n\t          zoomended(dispatch);\n\t        }\n\t      });\n\t    };\n\t    zoom.translate = function(_) {\n\t      if (!arguments.length) return [ view.x, view.y ];\n\t      view = {\n\t        x: +_[0],\n\t        y: +_[1],\n\t        k: view.k\n\t      };\n\t      rescale();\n\t      return zoom;\n\t    };\n\t    zoom.scale = function(_) {\n\t      if (!arguments.length) return view.k;\n\t      view = {\n\t        x: view.x,\n\t        y: view.y,\n\t        k: null\n\t      };\n\t      scaleTo(+_);\n\t      rescale();\n\t      return zoom;\n\t    };\n\t    zoom.scaleExtent = function(_) {\n\t      if (!arguments.length) return scaleExtent;\n\t      scaleExtent = _ == null ? d3_behavior_zoomInfinity : [ +_[0], +_[1] ];\n\t      return zoom;\n\t    };\n\t    zoom.center = function(_) {\n\t      if (!arguments.length) return center;\n\t      center = _ && [ +_[0], +_[1] ];\n\t      return zoom;\n\t    };\n\t    zoom.size = function(_) {\n\t      if (!arguments.length) return size;\n\t      size = _ && [ +_[0], +_[1] ];\n\t      return zoom;\n\t    };\n\t    zoom.duration = function(_) {\n\t      if (!arguments.length) return duration;\n\t      duration = +_;\n\t      return zoom;\n\t    };\n\t    zoom.x = function(z) {\n\t      if (!arguments.length) return x1;\n\t      x1 = z;\n\t      x0 = z.copy();\n\t      view = {\n\t        x: 0,\n\t        y: 0,\n\t        k: 1\n\t      };\n\t      return zoom;\n\t    };\n\t    zoom.y = function(z) {\n\t      if (!arguments.length) return y1;\n\t      y1 = z;\n\t      y0 = z.copy();\n\t      view = {\n\t        x: 0,\n\t        y: 0,\n\t        k: 1\n\t      };\n\t      return zoom;\n\t    };\n\t    function location(p) {\n\t      return [ (p[0] - view.x) / view.k, (p[1] - view.y) / view.k ];\n\t    }\n\t    function point(l) {\n\t      return [ l[0] * view.k + view.x, l[1] * view.k + view.y ];\n\t    }\n\t    function scaleTo(s) {\n\t      view.k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s));\n\t    }\n\t    function translateTo(p, l) {\n\t      l = point(l);\n\t      view.x += p[0] - l[0];\n\t      view.y += p[1] - l[1];\n\t    }\n\t    function zoomTo(that, p, l, k) {\n\t      that.__chart__ = {\n\t        x: view.x,\n\t        y: view.y,\n\t        k: view.k\n\t      };\n\t      scaleTo(Math.pow(2, k));\n\t      translateTo(center0 = p, l);\n\t      that = d3.select(that);\n\t      if (duration > 0) that = that.transition().duration(duration);\n\t      that.call(zoom.event);\n\t    }\n\t    function rescale() {\n\t      if (x1) x1.domain(x0.range().map(function(x) {\n\t        return (x - view.x) / view.k;\n\t      }).map(x0.invert));\n\t      if (y1) y1.domain(y0.range().map(function(y) {\n\t        return (y - view.y) / view.k;\n\t      }).map(y0.invert));\n\t    }\n\t    function zoomstarted(dispatch) {\n\t      if (!zooming++) dispatch({\n\t        type: \"zoomstart\"\n\t      });\n\t    }\n\t    function zoomed(dispatch) {\n\t      rescale();\n\t      dispatch({\n\t        type: \"zoom\",\n\t        scale: view.k,\n\t        translate: [ view.x, view.y ]\n\t      });\n\t    }\n\t    function zoomended(dispatch) {\n\t      if (!--zooming) dispatch({\n\t        type: \"zoomend\"\n\t      }), center0 = null;\n\t    }\n\t    function mousedowned() {\n\t      var that = this, dispatch = event.of(that, arguments), dragged = 0, subject = d3.select(d3_window(that)).on(mousemove, moved).on(mouseup, ended), location0 = location(d3.mouse(that)), dragRestore = d3_event_dragSuppress(that);\n\t      d3_selection_interrupt.call(that);\n\t      zoomstarted(dispatch);\n\t      function moved() {\n\t        dragged = 1;\n\t        translateTo(d3.mouse(that), location0);\n\t        zoomed(dispatch);\n\t      }\n\t      function ended() {\n\t        subject.on(mousemove, null).on(mouseup, null);\n\t        dragRestore(dragged);\n\t        zoomended(dispatch);\n\t      }\n\t    }\n\t    function touchstarted() {\n\t      var that = this, dispatch = event.of(that, arguments), locations0 = {}, distance0 = 0, scale0, zoomName = \".zoom-\" + d3.event.changedTouches[0].identifier, touchmove = \"touchmove\" + zoomName, touchend = \"touchend\" + zoomName, targets = [], subject = d3.select(that), dragRestore = d3_event_dragSuppress(that);\n\t      started();\n\t      zoomstarted(dispatch);\n\t      subject.on(mousedown, null).on(touchstart, started);\n\t      function relocate() {\n\t        var touches = d3.touches(that);\n\t        scale0 = view.k;\n\t        touches.forEach(function(t) {\n\t          if (t.identifier in locations0) locations0[t.identifier] = location(t);\n\t        });\n\t        return touches;\n\t      }\n\t      function started() {\n\t        var target = d3.event.target;\n\t        d3.select(target).on(touchmove, moved).on(touchend, ended);\n\t        targets.push(target);\n\t        var changed = d3.event.changedTouches;\n\t        for (var i = 0, n = changed.length; i < n; ++i) {\n\t          locations0[changed[i].identifier] = null;\n\t        }\n\t        var touches = relocate(), now = Date.now();\n\t        if (touches.length === 1) {\n\t          if (now - touchtime < 500) {\n\t            var p = touches[0];\n\t            zoomTo(that, p, locations0[p.identifier], Math.floor(Math.log(view.k) / Math.LN2) + 1);\n\t            d3_eventPreventDefault();\n\t          }\n\t          touchtime = now;\n\t        } else if (touches.length > 1) {\n\t          var p = touches[0], q = touches[1], dx = p[0] - q[0], dy = p[1] - q[1];\n\t          distance0 = dx * dx + dy * dy;\n\t        }\n\t      }\n\t      function moved() {\n\t        var touches = d3.touches(that), p0, l0, p1, l1;\n\t        d3_selection_interrupt.call(that);\n\t        for (var i = 0, n = touches.length; i < n; ++i, l1 = null) {\n\t          p1 = touches[i];\n\t          if (l1 = locations0[p1.identifier]) {\n\t            if (l0) break;\n\t            p0 = p1, l0 = l1;\n\t          }\n\t        }\n\t        if (l1) {\n\t          var distance1 = (distance1 = p1[0] - p0[0]) * distance1 + (distance1 = p1[1] - p0[1]) * distance1, scale1 = distance0 && Math.sqrt(distance1 / distance0);\n\t          p0 = [ (p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2 ];\n\t          l0 = [ (l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2 ];\n\t          scaleTo(scale1 * scale0);\n\t        }\n\t        touchtime = null;\n\t        translateTo(p0, l0);\n\t        zoomed(dispatch);\n\t      }\n\t      function ended() {\n\t        if (d3.event.touches.length) {\n\t          var changed = d3.event.changedTouches;\n\t          for (var i = 0, n = changed.length; i < n; ++i) {\n\t            delete locations0[changed[i].identifier];\n\t          }\n\t          for (var identifier in locations0) {\n\t            return void relocate();\n\t          }\n\t        }\n\t        d3.selectAll(targets).on(zoomName, null);\n\t        subject.on(mousedown, mousedowned).on(touchstart, touchstarted);\n\t        dragRestore();\n\t        zoomended(dispatch);\n\t      }\n\t    }\n\t    function mousewheeled() {\n\t      var dispatch = event.of(this, arguments);\n\t      if (mousewheelTimer) clearTimeout(mousewheelTimer); else d3_selection_interrupt.call(this), \n\t      translate0 = location(center0 = center || d3.mouse(this)), zoomstarted(dispatch);\n\t      mousewheelTimer = setTimeout(function() {\n\t        mousewheelTimer = null;\n\t        zoomended(dispatch);\n\t      }, 50);\n\t      d3_eventPreventDefault();\n\t      scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * view.k);\n\t      translateTo(center0, translate0);\n\t      zoomed(dispatch);\n\t    }\n\t    function dblclicked() {\n\t      var p = d3.mouse(this), k = Math.log(view.k) / Math.LN2;\n\t      zoomTo(this, p, location(p), d3.event.shiftKey ? Math.ceil(k) - 1 : Math.floor(k) + 1);\n\t    }\n\t    return d3.rebind(zoom, event, \"on\");\n\t  };\n\t  var d3_behavior_zoomInfinity = [ 0, Infinity ], d3_behavior_zoomDelta, d3_behavior_zoomWheel;\n\t  d3.color = d3_color;\n\t  function d3_color() {}\n\t  d3_color.prototype.toString = function() {\n\t    return this.rgb() + \"\";\n\t  };\n\t  d3.hsl = d3_hsl;\n\t  function d3_hsl(h, s, l) {\n\t    return this instanceof d3_hsl ? void (this.h = +h, this.s = +s, this.l = +l) : arguments.length < 2 ? h instanceof d3_hsl ? new d3_hsl(h.h, h.s, h.l) : d3_rgb_parse(\"\" + h, d3_rgb_hsl, d3_hsl) : new d3_hsl(h, s, l);\n\t  }\n\t  var d3_hslPrototype = d3_hsl.prototype = new d3_color();\n\t  d3_hslPrototype.brighter = function(k) {\n\t    k = Math.pow(.7, arguments.length ? k : 1);\n\t    return new d3_hsl(this.h, this.s, this.l / k);\n\t  };\n\t  d3_hslPrototype.darker = function(k) {\n\t    k = Math.pow(.7, arguments.length ? k : 1);\n\t    return new d3_hsl(this.h, this.s, k * this.l);\n\t  };\n\t  d3_hslPrototype.rgb = function() {\n\t    return d3_hsl_rgb(this.h, this.s, this.l);\n\t  };\n\t  function d3_hsl_rgb(h, s, l) {\n\t    var m1, m2;\n\t    h = isNaN(h) ? 0 : (h %= 360) < 0 ? h + 360 : h;\n\t    s = isNaN(s) ? 0 : s < 0 ? 0 : s > 1 ? 1 : s;\n\t    l = l < 0 ? 0 : l > 1 ? 1 : l;\n\t    m2 = l <= .5 ? l * (1 + s) : l + s - l * s;\n\t    m1 = 2 * l - m2;\n\t    function v(h) {\n\t      if (h > 360) h -= 360; else if (h < 0) h += 360;\n\t      if (h < 60) return m1 + (m2 - m1) * h / 60;\n\t      if (h < 180) return m2;\n\t      if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60;\n\t      return m1;\n\t    }\n\t    function vv(h) {\n\t      return Math.round(v(h) * 255);\n\t    }\n\t    return new d3_rgb(vv(h + 120), vv(h), vv(h - 120));\n\t  }\n\t  d3.hcl = d3_hcl;\n\t  function d3_hcl(h, c, l) {\n\t    return this instanceof d3_hcl ? void (this.h = +h, this.c = +c, this.l = +l) : arguments.length < 2 ? h instanceof d3_hcl ? new d3_hcl(h.h, h.c, h.l) : h instanceof d3_lab ? d3_lab_hcl(h.l, h.a, h.b) : d3_lab_hcl((h = d3_rgb_lab((h = d3.rgb(h)).r, h.g, h.b)).l, h.a, h.b) : new d3_hcl(h, c, l);\n\t  }\n\t  var d3_hclPrototype = d3_hcl.prototype = new d3_color();\n\t  d3_hclPrototype.brighter = function(k) {\n\t    return new d3_hcl(this.h, this.c, Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)));\n\t  };\n\t  d3_hclPrototype.darker = function(k) {\n\t    return new d3_hcl(this.h, this.c, Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)));\n\t  };\n\t  d3_hclPrototype.rgb = function() {\n\t    return d3_hcl_lab(this.h, this.c, this.l).rgb();\n\t  };\n\t  function d3_hcl_lab(h, c, l) {\n\t    if (isNaN(h)) h = 0;\n\t    if (isNaN(c)) c = 0;\n\t    return new d3_lab(l, Math.cos(h *= d3_radians) * c, Math.sin(h) * c);\n\t  }\n\t  d3.lab = d3_lab;\n\t  function d3_lab(l, a, b) {\n\t    return this instanceof d3_lab ? void (this.l = +l, this.a = +a, this.b = +b) : arguments.length < 2 ? l instanceof d3_lab ? new d3_lab(l.l, l.a, l.b) : l instanceof d3_hcl ? d3_hcl_lab(l.h, l.c, l.l) : d3_rgb_lab((l = d3_rgb(l)).r, l.g, l.b) : new d3_lab(l, a, b);\n\t  }\n\t  var d3_lab_K = 18;\n\t  var d3_lab_X = .95047, d3_lab_Y = 1, d3_lab_Z = 1.08883;\n\t  var d3_labPrototype = d3_lab.prototype = new d3_color();\n\t  d3_labPrototype.brighter = function(k) {\n\t    return new d3_lab(Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n\t  };\n\t  d3_labPrototype.darker = function(k) {\n\t    return new d3_lab(Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n\t  };\n\t  d3_labPrototype.rgb = function() {\n\t    return d3_lab_rgb(this.l, this.a, this.b);\n\t  };\n\t  function d3_lab_rgb(l, a, b) {\n\t    var y = (l + 16) / 116, x = y + a / 500, z = y - b / 200;\n\t    x = d3_lab_xyz(x) * d3_lab_X;\n\t    y = d3_lab_xyz(y) * d3_lab_Y;\n\t    z = d3_lab_xyz(z) * d3_lab_Z;\n\t    return new d3_rgb(d3_xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z), d3_xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z), d3_xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z));\n\t  }\n\t  function d3_lab_hcl(l, a, b) {\n\t    return l > 0 ? new d3_hcl(Math.atan2(b, a) * d3_degrees, Math.sqrt(a * a + b * b), l) : new d3_hcl(NaN, NaN, l);\n\t  }\n\t  function d3_lab_xyz(x) {\n\t    return x > .206893034 ? x * x * x : (x - 4 / 29) / 7.787037;\n\t  }\n\t  function d3_xyz_lab(x) {\n\t    return x > .008856 ? Math.pow(x, 1 / 3) : 7.787037 * x + 4 / 29;\n\t  }\n\t  function d3_xyz_rgb(r) {\n\t    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));\n\t  }\n\t  d3.rgb = d3_rgb;\n\t  function d3_rgb(r, g, b) {\n\t    return this instanceof d3_rgb ? void (this.r = ~~r, this.g = ~~g, this.b = ~~b) : arguments.length < 2 ? r instanceof d3_rgb ? new d3_rgb(r.r, r.g, r.b) : d3_rgb_parse(\"\" + r, d3_rgb, d3_hsl_rgb) : new d3_rgb(r, g, b);\n\t  }\n\t  function d3_rgbNumber(value) {\n\t    return new d3_rgb(value >> 16, value >> 8 & 255, value & 255);\n\t  }\n\t  function d3_rgbString(value) {\n\t    return d3_rgbNumber(value) + \"\";\n\t  }\n\t  var d3_rgbPrototype = d3_rgb.prototype = new d3_color();\n\t  d3_rgbPrototype.brighter = function(k) {\n\t    k = Math.pow(.7, arguments.length ? k : 1);\n\t    var r = this.r, g = this.g, b = this.b, i = 30;\n\t    if (!r && !g && !b) return new d3_rgb(i, i, i);\n\t    if (r && r < i) r = i;\n\t    if (g && g < i) g = i;\n\t    if (b && b < i) b = i;\n\t    return new d3_rgb(Math.min(255, r / k), Math.min(255, g / k), Math.min(255, b / k));\n\t  };\n\t  d3_rgbPrototype.darker = function(k) {\n\t    k = Math.pow(.7, arguments.length ? k : 1);\n\t    return new d3_rgb(k * this.r, k * this.g, k * this.b);\n\t  };\n\t  d3_rgbPrototype.hsl = function() {\n\t    return d3_rgb_hsl(this.r, this.g, this.b);\n\t  };\n\t  d3_rgbPrototype.toString = function() {\n\t    return \"#\" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b);\n\t  };\n\t  function d3_rgb_hex(v) {\n\t    return v < 16 ? \"0\" + Math.max(0, v).toString(16) : Math.min(255, v).toString(16);\n\t  }\n\t  function d3_rgb_parse(format, rgb, hsl) {\n\t    var r = 0, g = 0, b = 0, m1, m2, color;\n\t    m1 = /([a-z]+)\\((.*)\\)/.exec(format = format.toLowerCase());\n\t    if (m1) {\n\t      m2 = m1[2].split(\",\");\n\t      switch (m1[1]) {\n\t       case \"hsl\":\n\t        {\n\t          return hsl(parseFloat(m2[0]), parseFloat(m2[1]) / 100, parseFloat(m2[2]) / 100);\n\t        }\n\t\n\t       case \"rgb\":\n\t        {\n\t          return rgb(d3_rgb_parseNumber(m2[0]), d3_rgb_parseNumber(m2[1]), d3_rgb_parseNumber(m2[2]));\n\t        }\n\t      }\n\t    }\n\t    if (color = d3_rgb_names.get(format)) {\n\t      return rgb(color.r, color.g, color.b);\n\t    }\n\t    if (format != null && format.charAt(0) === \"#\" && !isNaN(color = parseInt(format.slice(1), 16))) {\n\t      if (format.length === 4) {\n\t        r = (color & 3840) >> 4;\n\t        r = r >> 4 | r;\n\t        g = color & 240;\n\t        g = g >> 4 | g;\n\t        b = color & 15;\n\t        b = b << 4 | b;\n\t      } else if (format.length === 7) {\n\t        r = (color & 16711680) >> 16;\n\t        g = (color & 65280) >> 8;\n\t        b = color & 255;\n\t      }\n\t    }\n\t    return rgb(r, g, b);\n\t  }\n\t  function d3_rgb_hsl(r, g, b) {\n\t    var min = Math.min(r /= 255, g /= 255, b /= 255), max = Math.max(r, g, b), d = max - min, h, s, l = (max + min) / 2;\n\t    if (d) {\n\t      s = l < .5 ? d / (max + min) : d / (2 - max - min);\n\t      if (r == max) h = (g - b) / d + (g < b ? 6 : 0); else if (g == max) h = (b - r) / d + 2; else h = (r - g) / d + 4;\n\t      h *= 60;\n\t    } else {\n\t      h = NaN;\n\t      s = l > 0 && l < 1 ? 0 : h;\n\t    }\n\t    return new d3_hsl(h, s, l);\n\t  }\n\t  function d3_rgb_lab(r, g, b) {\n\t    r = d3_rgb_xyz(r);\n\t    g = d3_rgb_xyz(g);\n\t    b = d3_rgb_xyz(b);\n\t    var x = d3_xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / d3_lab_X), y = d3_xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / d3_lab_Y), z = d3_xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / d3_lab_Z);\n\t    return d3_lab(116 * y - 16, 500 * (x - y), 200 * (y - z));\n\t  }\n\t  function d3_rgb_xyz(r) {\n\t    return (r /= 255) <= .04045 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4);\n\t  }\n\t  function d3_rgb_parseNumber(c) {\n\t    var f = parseFloat(c);\n\t    return c.charAt(c.length - 1) === \"%\" ? Math.round(f * 2.55) : f;\n\t  }\n\t  var d3_rgb_names = d3.map({\n\t    aliceblue: 15792383,\n\t    antiquewhite: 16444375,\n\t    aqua: 65535,\n\t    aquamarine: 8388564,\n\t    azure: 15794175,\n\t    beige: 16119260,\n\t    bisque: 16770244,\n\t    black: 0,\n\t    blanchedalmond: 16772045,\n\t    blue: 255,\n\t    blueviolet: 9055202,\n\t    brown: 10824234,\n\t    burlywood: 14596231,\n\t    cadetblue: 6266528,\n\t    chartreuse: 8388352,\n\t    chocolate: 13789470,\n\t    coral: 16744272,\n\t    cornflowerblue: 6591981,\n\t    cornsilk: 16775388,\n\t    crimson: 14423100,\n\t    cyan: 65535,\n\t    darkblue: 139,\n\t    darkcyan: 35723,\n\t    darkgoldenrod: 12092939,\n\t    darkgray: 11119017,\n\t    darkgreen: 25600,\n\t    darkgrey: 11119017,\n\t    darkkhaki: 12433259,\n\t    darkmagenta: 9109643,\n\t    darkolivegreen: 5597999,\n\t    darkorange: 16747520,\n\t    darkorchid: 10040012,\n\t    darkred: 9109504,\n\t    darksalmon: 15308410,\n\t    darkseagreen: 9419919,\n\t    darkslateblue: 4734347,\n\t    darkslategray: 3100495,\n\t    darkslategrey: 3100495,\n\t    darkturquoise: 52945,\n\t    darkviolet: 9699539,\n\t    deeppink: 16716947,\n\t    deepskyblue: 49151,\n\t    dimgray: 6908265,\n\t    dimgrey: 6908265,\n\t    dodgerblue: 2003199,\n\t    firebrick: 11674146,\n\t    floralwhite: 16775920,\n\t    forestgreen: 2263842,\n\t    fuchsia: 16711935,\n\t    gainsboro: 14474460,\n\t    ghostwhite: 16316671,\n\t    gold: 16766720,\n\t    goldenrod: 14329120,\n\t    gray: 8421504,\n\t    green: 32768,\n\t    greenyellow: 11403055,\n\t    grey: 8421504,\n\t    honeydew: 15794160,\n\t    hotpink: 16738740,\n\t    indianred: 13458524,\n\t    indigo: 4915330,\n\t    ivory: 16777200,\n\t    khaki: 15787660,\n\t    lavender: 15132410,\n\t    lavenderblush: 16773365,\n\t    lawngreen: 8190976,\n\t    lemonchiffon: 16775885,\n\t    lightblue: 11393254,\n\t    lightcoral: 15761536,\n\t    lightcyan: 14745599,\n\t    lightgoldenrodyellow: 16448210,\n\t    lightgray: 13882323,\n\t    lightgreen: 9498256,\n\t    lightgrey: 13882323,\n\t    lightpink: 16758465,\n\t    lightsalmon: 16752762,\n\t    lightseagreen: 2142890,\n\t    lightskyblue: 8900346,\n\t    lightslategray: 7833753,\n\t    lightslategrey: 7833753,\n\t    lightsteelblue: 11584734,\n\t    lightyellow: 16777184,\n\t    lime: 65280,\n\t    limegreen: 3329330,\n\t    linen: 16445670,\n\t    magenta: 16711935,\n\t    maroon: 8388608,\n\t    mediumaquamarine: 6737322,\n\t    mediumblue: 205,\n\t    mediumorchid: 12211667,\n\t    mediumpurple: 9662683,\n\t    mediumseagreen: 3978097,\n\t    mediumslateblue: 8087790,\n\t    mediumspringgreen: 64154,\n\t    mediumturquoise: 4772300,\n\t    mediumvioletred: 13047173,\n\t    midnightblue: 1644912,\n\t    mintcream: 16121850,\n\t    mistyrose: 16770273,\n\t    moccasin: 16770229,\n\t    navajowhite: 16768685,\n\t    navy: 128,\n\t    oldlace: 16643558,\n\t    olive: 8421376,\n\t    olivedrab: 7048739,\n\t    orange: 16753920,\n\t    orangered: 16729344,\n\t    orchid: 14315734,\n\t    palegoldenrod: 15657130,\n\t    palegreen: 10025880,\n\t    paleturquoise: 11529966,\n\t    palevioletred: 14381203,\n\t    papayawhip: 16773077,\n\t    peachpuff: 16767673,\n\t    peru: 13468991,\n\t    pink: 16761035,\n\t    plum: 14524637,\n\t    powderblue: 11591910,\n\t    purple: 8388736,\n\t    rebeccapurple: 6697881,\n\t    red: 16711680,\n\t    rosybrown: 12357519,\n\t    royalblue: 4286945,\n\t    saddlebrown: 9127187,\n\t    salmon: 16416882,\n\t    sandybrown: 16032864,\n\t    seagreen: 3050327,\n\t    seashell: 16774638,\n\t    sienna: 10506797,\n\t    silver: 12632256,\n\t    skyblue: 8900331,\n\t    slateblue: 6970061,\n\t    slategray: 7372944,\n\t    slategrey: 7372944,\n\t    snow: 16775930,\n\t    springgreen: 65407,\n\t    steelblue: 4620980,\n\t    tan: 13808780,\n\t    teal: 32896,\n\t    thistle: 14204888,\n\t    tomato: 16737095,\n\t    turquoise: 4251856,\n\t    violet: 15631086,\n\t    wheat: 16113331,\n\t    white: 16777215,\n\t    whitesmoke: 16119285,\n\t    yellow: 16776960,\n\t    yellowgreen: 10145074\n\t  });\n\t  d3_rgb_names.forEach(function(key, value) {\n\t    d3_rgb_names.set(key, d3_rgbNumber(value));\n\t  });\n\t  function d3_functor(v) {\n\t    return typeof v === \"function\" ? v : function() {\n\t      return v;\n\t    };\n\t  }\n\t  d3.functor = d3_functor;\n\t  d3.xhr = d3_xhrType(d3_identity);\n\t  function d3_xhrType(response) {\n\t    return function(url, mimeType, callback) {\n\t      if (arguments.length === 2 && typeof mimeType === \"function\") callback = mimeType, \n\t      mimeType = null;\n\t      return d3_xhr(url, mimeType, response, callback);\n\t    };\n\t  }\n\t  function d3_xhr(url, mimeType, response, callback) {\n\t    var xhr = {}, dispatch = d3.dispatch(\"beforesend\", \"progress\", \"load\", \"error\"), headers = {}, request = new XMLHttpRequest(), responseType = null;\n\t    if (this.XDomainRequest && !(\"withCredentials\" in request) && /^(http(s)?:)?\\/\\//.test(url)) request = new XDomainRequest();\n\t    \"onload\" in request ? request.onload = request.onerror = respond : request.onreadystatechange = function() {\n\t      request.readyState > 3 && respond();\n\t    };\n\t    function respond() {\n\t      var status = request.status, result;\n\t      if (!status && d3_xhrHasResponse(request) || status >= 200 && status < 300 || status === 304) {\n\t        try {\n\t          result = response.call(xhr, request);\n\t        } catch (e) {\n\t          dispatch.error.call(xhr, e);\n\t          return;\n\t        }\n\t        dispatch.load.call(xhr, result);\n\t      } else {\n\t        dispatch.error.call(xhr, request);\n\t      }\n\t    }\n\t    request.onprogress = function(event) {\n\t      var o = d3.event;\n\t      d3.event = event;\n\t      try {\n\t        dispatch.progress.call(xhr, request);\n\t      } finally {\n\t        d3.event = o;\n\t      }\n\t    };\n\t    xhr.header = function(name, value) {\n\t      name = (name + \"\").toLowerCase();\n\t      if (arguments.length < 2) return headers[name];\n\t      if (value == null) delete headers[name]; else headers[name] = value + \"\";\n\t      return xhr;\n\t    };\n\t    xhr.mimeType = function(value) {\n\t      if (!arguments.length) return mimeType;\n\t      mimeType = value == null ? null : value + \"\";\n\t      return xhr;\n\t    };\n\t    xhr.responseType = function(value) {\n\t      if (!arguments.length) return responseType;\n\t      responseType = value;\n\t      return xhr;\n\t    };\n\t    xhr.response = function(value) {\n\t      response = value;\n\t      return xhr;\n\t    };\n\t    [ \"get\", \"post\" ].forEach(function(method) {\n\t      xhr[method] = function() {\n\t        return xhr.send.apply(xhr, [ method ].concat(d3_array(arguments)));\n\t      };\n\t    });\n\t    xhr.send = function(method, data, callback) {\n\t      if (arguments.length === 2 && typeof data === \"function\") callback = data, data = null;\n\t      request.open(method, url, true);\n\t      if (mimeType != null && !(\"accept\" in headers)) headers[\"accept\"] = mimeType + \",*/*\";\n\t      if (request.setRequestHeader) for (var name in headers) request.setRequestHeader(name, headers[name]);\n\t      if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);\n\t      if (responseType != null) request.responseType = responseType;\n\t      if (callback != null) xhr.on(\"error\", callback).on(\"load\", function(request) {\n\t        callback(null, request);\n\t      });\n\t      dispatch.beforesend.call(xhr, request);\n\t      request.send(data == null ? null : data);\n\t      return xhr;\n\t    };\n\t    xhr.abort = function() {\n\t      request.abort();\n\t      return xhr;\n\t    };\n\t    d3.rebind(xhr, dispatch, \"on\");\n\t    return callback == null ? xhr : xhr.get(d3_xhr_fixCallback(callback));\n\t  }\n\t  function d3_xhr_fixCallback(callback) {\n\t    return callback.length === 1 ? function(error, request) {\n\t      callback(error == null ? request : null);\n\t    } : callback;\n\t  }\n\t  function d3_xhrHasResponse(request) {\n\t    var type = request.responseType;\n\t    return type && type !== \"text\" ? request.response : request.responseText;\n\t  }\n\t  d3.dsv = function(delimiter, mimeType) {\n\t    var reFormat = new RegExp('[\"' + delimiter + \"\\n]\"), delimiterCode = delimiter.charCodeAt(0);\n\t    function dsv(url, row, callback) {\n\t      if (arguments.length < 3) callback = row, row = null;\n\t      var xhr = d3_xhr(url, mimeType, row == null ? response : typedResponse(row), callback);\n\t      xhr.row = function(_) {\n\t        return arguments.length ? xhr.response((row = _) == null ? response : typedResponse(_)) : row;\n\t      };\n\t      return xhr;\n\t    }\n\t    function response(request) {\n\t      return dsv.parse(request.responseText);\n\t    }\n\t    function typedResponse(f) {\n\t      return function(request) {\n\t        return dsv.parse(request.responseText, f);\n\t      };\n\t    }\n\t    dsv.parse = function(text, f) {\n\t      var o;\n\t      return dsv.parseRows(text, function(row, i) {\n\t        if (o) return o(row, i - 1);\n\t        var a = new Function(\"d\", \"return {\" + row.map(function(name, i) {\n\t          return JSON.stringify(name) + \": d[\" + i + \"]\";\n\t        }).join(\",\") + \"}\");\n\t        o = f ? function(row, i) {\n\t          return f(a(row), i);\n\t        } : a;\n\t      });\n\t    };\n\t    dsv.parseRows = function(text, f) {\n\t      var EOL = {}, EOF = {}, rows = [], N = text.length, I = 0, n = 0, t, eol;\n\t      function token() {\n\t        if (I >= N) return EOF;\n\t        if (eol) return eol = false, EOL;\n\t        var j = I;\n\t        if (text.charCodeAt(j) === 34) {\n\t          var i = j;\n\t          while (i++ < N) {\n\t            if (text.charCodeAt(i) === 34) {\n\t              if (text.charCodeAt(i + 1) !== 34) break;\n\t              ++i;\n\t            }\n\t          }\n\t          I = i + 2;\n\t          var c = text.charCodeAt(i + 1);\n\t          if (c === 13) {\n\t            eol = true;\n\t            if (text.charCodeAt(i + 2) === 10) ++I;\n\t          } else if (c === 10) {\n\t            eol = true;\n\t          }\n\t          return text.slice(j + 1, i).replace(/\"\"/g, '\"');\n\t        }\n\t        while (I < N) {\n\t          var c = text.charCodeAt(I++), k = 1;\n\t          if (c === 10) eol = true; else if (c === 13) {\n\t            eol = true;\n\t            if (text.charCodeAt(I) === 10) ++I, ++k;\n\t          } else if (c !== delimiterCode) continue;\n\t          return text.slice(j, I - k);\n\t        }\n\t        return text.slice(j);\n\t      }\n\t      while ((t = token()) !== EOF) {\n\t        var a = [];\n\t        while (t !== EOL && t !== EOF) {\n\t          a.push(t);\n\t          t = token();\n\t        }\n\t        if (f && (a = f(a, n++)) == null) continue;\n\t        rows.push(a);\n\t      }\n\t      return rows;\n\t    };\n\t    dsv.format = function(rows) {\n\t      if (Array.isArray(rows[0])) return dsv.formatRows(rows);\n\t      var fieldSet = new d3_Set(), fields = [];\n\t      rows.forEach(function(row) {\n\t        for (var field in row) {\n\t          if (!fieldSet.has(field)) {\n\t            fields.push(fieldSet.add(field));\n\t          }\n\t        }\n\t      });\n\t      return [ fields.map(formatValue).join(delimiter) ].concat(rows.map(function(row) {\n\t        return fields.map(function(field) {\n\t          return formatValue(row[field]);\n\t        }).join(delimiter);\n\t      })).join(\"\\n\");\n\t    };\n\t    dsv.formatRows = function(rows) {\n\t      return rows.map(formatRow).join(\"\\n\");\n\t    };\n\t    function formatRow(row) {\n\t      return row.map(formatValue).join(delimiter);\n\t    }\n\t    function formatValue(text) {\n\t      return reFormat.test(text) ? '\"' + text.replace(/\\\"/g, '\"\"') + '\"' : text;\n\t    }\n\t    return dsv;\n\t  };\n\t  d3.csv = d3.dsv(\",\", \"text/csv\");\n\t  d3.tsv = d3.dsv(\"\t\", \"text/tab-separated-values\");\n\t  var d3_timer_queueHead, d3_timer_queueTail, d3_timer_interval, d3_timer_timeout, d3_timer_frame = this[d3_vendorSymbol(this, \"requestAnimationFrame\")] || function(callback) {\n\t    setTimeout(callback, 17);\n\t  };\n\t  d3.timer = function() {\n\t    d3_timer.apply(this, arguments);\n\t  };\n\t  function d3_timer(callback, delay, then) {\n\t    var n = arguments.length;\n\t    if (n < 2) delay = 0;\n\t    if (n < 3) then = Date.now();\n\t    var time = then + delay, timer = {\n\t      c: callback,\n\t      t: time,\n\t      n: null\n\t    };\n\t    if (d3_timer_queueTail) d3_timer_queueTail.n = timer; else d3_timer_queueHead = timer;\n\t    d3_timer_queueTail = timer;\n\t    if (!d3_timer_interval) {\n\t      d3_timer_timeout = clearTimeout(d3_timer_timeout);\n\t      d3_timer_interval = 1;\n\t      d3_timer_frame(d3_timer_step);\n\t    }\n\t    return timer;\n\t  }\n\t  function d3_timer_step() {\n\t    var now = d3_timer_mark(), delay = d3_timer_sweep() - now;\n\t    if (delay > 24) {\n\t      if (isFinite(delay)) {\n\t        clearTimeout(d3_timer_timeout);\n\t        d3_timer_timeout = setTimeout(d3_timer_step, delay);\n\t      }\n\t      d3_timer_interval = 0;\n\t    } else {\n\t      d3_timer_interval = 1;\n\t      d3_timer_frame(d3_timer_step);\n\t    }\n\t  }\n\t  d3.timer.flush = function() {\n\t    d3_timer_mark();\n\t    d3_timer_sweep();\n\t  };\n\t  function d3_timer_mark() {\n\t    var now = Date.now(), timer = d3_timer_queueHead;\n\t    while (timer) {\n\t      if (now >= timer.t && timer.c(now - timer.t)) timer.c = null;\n\t      timer = timer.n;\n\t    }\n\t    return now;\n\t  }\n\t  function d3_timer_sweep() {\n\t    var t0, t1 = d3_timer_queueHead, time = Infinity;\n\t    while (t1) {\n\t      if (t1.c) {\n\t        if (t1.t < time) time = t1.t;\n\t        t1 = (t0 = t1).n;\n\t      } else {\n\t        t1 = t0 ? t0.n = t1.n : d3_timer_queueHead = t1.n;\n\t      }\n\t    }\n\t    d3_timer_queueTail = t0;\n\t    return time;\n\t  }\n\t  function d3_format_precision(x, p) {\n\t    return p - (x ? Math.ceil(Math.log(x) / Math.LN10) : 1);\n\t  }\n\t  d3.round = function(x, n) {\n\t    return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x);\n\t  };\n\t  var d3_formatPrefixes = [ \"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\" ].map(d3_formatPrefix);\n\t  d3.formatPrefix = function(value, precision) {\n\t    var i = 0;\n\t    if (value = +value) {\n\t      if (value < 0) value *= -1;\n\t      if (precision) value = d3.round(value, d3_format_precision(value, precision));\n\t      i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n\t      i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3));\n\t    }\n\t    return d3_formatPrefixes[8 + i / 3];\n\t  };\n\t  function d3_formatPrefix(d, i) {\n\t    var k = Math.pow(10, abs(8 - i) * 3);\n\t    return {\n\t      scale: i > 8 ? function(d) {\n\t        return d / k;\n\t      } : function(d) {\n\t        return d * k;\n\t      },\n\t      symbol: d\n\t    };\n\t  }\n\t  function d3_locale_numberFormat(locale) {\n\t    var locale_decimal = locale.decimal, locale_thousands = locale.thousands, locale_grouping = locale.grouping, locale_currency = locale.currency, formatGroup = locale_grouping && locale_thousands ? function(value, width) {\n\t      var i = value.length, t = [], j = 0, g = locale_grouping[0], length = 0;\n\t      while (i > 0 && g > 0) {\n\t        if (length + g + 1 > width) g = Math.max(1, width - length);\n\t        t.push(value.substring(i -= g, i + g));\n\t        if ((length += g + 1) > width) break;\n\t        g = locale_grouping[j = (j + 1) % locale_grouping.length];\n\t      }\n\t      return t.reverse().join(locale_thousands);\n\t    } : d3_identity;\n\t    return function(specifier) {\n\t      var match = d3_format_re.exec(specifier), fill = match[1] || \" \", align = match[2] || \">\", sign = match[3] || \"-\", symbol = match[4] || \"\", zfill = match[5], width = +match[6], comma = match[7], precision = match[8], type = match[9], scale = 1, prefix = \"\", suffix = \"\", integer = false, exponent = true;\n\t      if (precision) precision = +precision.substring(1);\n\t      if (zfill || fill === \"0\" && align === \"=\") {\n\t        zfill = fill = \"0\";\n\t        align = \"=\";\n\t      }\n\t      switch (type) {\n\t       case \"n\":\n\t        comma = true;\n\t        type = \"g\";\n\t        break;\n\t\n\t       case \"%\":\n\t        scale = 100;\n\t        suffix = \"%\";\n\t        type = \"f\";\n\t        break;\n\t\n\t       case \"p\":\n\t        scale = 100;\n\t        suffix = \"%\";\n\t        type = \"r\";\n\t        break;\n\t\n\t       case \"b\":\n\t       case \"o\":\n\t       case \"x\":\n\t       case \"X\":\n\t        if (symbol === \"#\") prefix = \"0\" + type.toLowerCase();\n\t\n\t       case \"c\":\n\t        exponent = false;\n\t\n\t       case \"d\":\n\t        integer = true;\n\t        precision = 0;\n\t        break;\n\t\n\t       case \"s\":\n\t        scale = -1;\n\t        type = \"r\";\n\t        break;\n\t      }\n\t      if (symbol === \"$\") prefix = locale_currency[0], suffix = locale_currency[1];\n\t      if (type == \"r\" && !precision) type = \"g\";\n\t      if (precision != null) {\n\t        if (type == \"g\") precision = Math.max(1, Math.min(21, precision)); else if (type == \"e\" || type == \"f\") precision = Math.max(0, Math.min(20, precision));\n\t      }\n\t      type = d3_format_types.get(type) || d3_format_typeDefault;\n\t      var zcomma = zfill && comma;\n\t      return function(value) {\n\t        var fullSuffix = suffix;\n\t        if (integer && value % 1) return \"\";\n\t        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, \"-\") : sign === \"-\" ? \"\" : sign;\n\t        if (scale < 0) {\n\t          var unit = d3.formatPrefix(value, precision);\n\t          value = unit.scale(value);\n\t          fullSuffix = unit.symbol + suffix;\n\t        } else {\n\t          value *= scale;\n\t        }\n\t        value = type(value, precision);\n\t        var i = value.lastIndexOf(\".\"), before, after;\n\t        if (i < 0) {\n\t          var j = exponent ? value.lastIndexOf(\"e\") : -1;\n\t          if (j < 0) before = value, after = \"\"; else before = value.substring(0, j), after = value.substring(j);\n\t        } else {\n\t          before = value.substring(0, i);\n\t          after = locale_decimal + value.substring(i + 1);\n\t        }\n\t        if (!zfill && comma) before = formatGroup(before, Infinity);\n\t        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length), padding = length < width ? new Array(length = width - length + 1).join(fill) : \"\";\n\t        if (zcomma) before = formatGroup(padding + before, padding.length ? width - after.length : Infinity);\n\t        negative += prefix;\n\t        value = before + after;\n\t        return (align === \"<\" ? negative + value + padding : align === \">\" ? padding + negative + value : align === \"^\" ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length) : negative + (zcomma ? value : padding + value)) + fullSuffix;\n\t      };\n\t    };\n\t  }\n\t  var d3_format_re = /(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i;\n\t  var d3_format_types = d3.map({\n\t    b: function(x) {\n\t      return x.toString(2);\n\t    },\n\t    c: function(x) {\n\t      return String.fromCharCode(x);\n\t    },\n\t    o: function(x) {\n\t      return x.toString(8);\n\t    },\n\t    x: function(x) {\n\t      return x.toString(16);\n\t    },\n\t    X: function(x) {\n\t      return x.toString(16).toUpperCase();\n\t    },\n\t    g: function(x, p) {\n\t      return x.toPrecision(p);\n\t    },\n\t    e: function(x, p) {\n\t      return x.toExponential(p);\n\t    },\n\t    f: function(x, p) {\n\t      return x.toFixed(p);\n\t    },\n\t    r: function(x, p) {\n\t      return (x = d3.round(x, d3_format_precision(x, p))).toFixed(Math.max(0, Math.min(20, d3_format_precision(x * (1 + 1e-15), p))));\n\t    }\n\t  });\n\t  function d3_format_typeDefault(x) {\n\t    return x + \"\";\n\t  }\n\t  var d3_time = d3.time = {}, d3_date = Date;\n\t  function d3_date_utc() {\n\t    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);\n\t  }\n\t  d3_date_utc.prototype = {\n\t    getDate: function() {\n\t      return this._.getUTCDate();\n\t    },\n\t    getDay: function() {\n\t      return this._.getUTCDay();\n\t    },\n\t    getFullYear: function() {\n\t      return this._.getUTCFullYear();\n\t    },\n\t    getHours: function() {\n\t      return this._.getUTCHours();\n\t    },\n\t    getMilliseconds: function() {\n\t      return this._.getUTCMilliseconds();\n\t    },\n\t    getMinutes: function() {\n\t      return this._.getUTCMinutes();\n\t    },\n\t    getMonth: function() {\n\t      return this._.getUTCMonth();\n\t    },\n\t    getSeconds: function() {\n\t      return this._.getUTCSeconds();\n\t    },\n\t    getTime: function() {\n\t      return this._.getTime();\n\t    },\n\t    getTimezoneOffset: function() {\n\t      return 0;\n\t    },\n\t    valueOf: function() {\n\t      return this._.valueOf();\n\t    },\n\t    setDate: function() {\n\t      d3_time_prototype.setUTCDate.apply(this._, arguments);\n\t    },\n\t    setDay: function() {\n\t      d3_time_prototype.setUTCDay.apply(this._, arguments);\n\t    },\n\t    setFullYear: function() {\n\t      d3_time_prototype.setUTCFullYear.apply(this._, arguments);\n\t    },\n\t    setHours: function() {\n\t      d3_time_prototype.setUTCHours.apply(this._, arguments);\n\t    },\n\t    setMilliseconds: function() {\n\t      d3_time_prototype.setUTCMilliseconds.apply(this._, arguments);\n\t    },\n\t    setMinutes: function() {\n\t      d3_time_prototype.setUTCMinutes.apply(this._, arguments);\n\t    },\n\t    setMonth: function() {\n\t      d3_time_prototype.setUTCMonth.apply(this._, arguments);\n\t    },\n\t    setSeconds: function() {\n\t      d3_time_prototype.setUTCSeconds.apply(this._, arguments);\n\t    },\n\t    setTime: function() {\n\t      d3_time_prototype.setTime.apply(this._, arguments);\n\t    }\n\t  };\n\t  var d3_time_prototype = Date.prototype;\n\t  function d3_time_interval(local, step, number) {\n\t    function round(date) {\n\t      var d0 = local(date), d1 = offset(d0, 1);\n\t      return date - d0 < d1 - date ? d0 : d1;\n\t    }\n\t    function ceil(date) {\n\t      step(date = local(new d3_date(date - 1)), 1);\n\t      return date;\n\t    }\n\t    function offset(date, k) {\n\t      step(date = new d3_date(+date), k);\n\t      return date;\n\t    }\n\t    function range(t0, t1, dt) {\n\t      var time = ceil(t0), times = [];\n\t      if (dt > 1) {\n\t        while (time < t1) {\n\t          if (!(number(time) % dt)) times.push(new Date(+time));\n\t          step(time, 1);\n\t        }\n\t      } else {\n\t        while (time < t1) times.push(new Date(+time)), step(time, 1);\n\t      }\n\t      return times;\n\t    }\n\t    function range_utc(t0, t1, dt) {\n\t      try {\n\t        d3_date = d3_date_utc;\n\t        var utc = new d3_date_utc();\n\t        utc._ = t0;\n\t        return range(utc, t1, dt);\n\t      } finally {\n\t        d3_date = Date;\n\t      }\n\t    }\n\t    local.floor = local;\n\t    local.round = round;\n\t    local.ceil = ceil;\n\t    local.offset = offset;\n\t    local.range = range;\n\t    var utc = local.utc = d3_time_interval_utc(local);\n\t    utc.floor = utc;\n\t    utc.round = d3_time_interval_utc(round);\n\t    utc.ceil = d3_time_interval_utc(ceil);\n\t    utc.offset = d3_time_interval_utc(offset);\n\t    utc.range = range_utc;\n\t    return local;\n\t  }\n\t  function d3_time_interval_utc(method) {\n\t    return function(date, k) {\n\t      try {\n\t        d3_date = d3_date_utc;\n\t        var utc = new d3_date_utc();\n\t        utc._ = date;\n\t        return method(utc, k)._;\n\t      } finally {\n\t        d3_date = Date;\n\t      }\n\t    };\n\t  }\n\t  d3_time.year = d3_time_interval(function(date) {\n\t    date = d3_time.day(date);\n\t    date.setMonth(0, 1);\n\t    return date;\n\t  }, function(date, offset) {\n\t    date.setFullYear(date.getFullYear() + offset);\n\t  }, function(date) {\n\t    return date.getFullYear();\n\t  });\n\t  d3_time.years = d3_time.year.range;\n\t  d3_time.years.utc = d3_time.year.utc.range;\n\t  d3_time.day = d3_time_interval(function(date) {\n\t    var day = new d3_date(2e3, 0);\n\t    day.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n\t    return day;\n\t  }, function(date, offset) {\n\t    date.setDate(date.getDate() + offset);\n\t  }, function(date) {\n\t    return date.getDate() - 1;\n\t  });\n\t  d3_time.days = d3_time.day.range;\n\t  d3_time.days.utc = d3_time.day.utc.range;\n\t  d3_time.dayOfYear = function(date) {\n\t    var year = d3_time.year(date);\n\t    return Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);\n\t  };\n\t  [ \"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\" ].forEach(function(day, i) {\n\t    i = 7 - i;\n\t    var interval = d3_time[day] = d3_time_interval(function(date) {\n\t      (date = d3_time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);\n\t      return date;\n\t    }, function(date, offset) {\n\t      date.setDate(date.getDate() + Math.floor(offset) * 7);\n\t    }, function(date) {\n\t      var day = d3_time.year(date).getDay();\n\t      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);\n\t    });\n\t    d3_time[day + \"s\"] = interval.range;\n\t    d3_time[day + \"s\"].utc = interval.utc.range;\n\t    d3_time[day + \"OfYear\"] = function(date) {\n\t      var day = d3_time.year(date).getDay();\n\t      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7);\n\t    };\n\t  });\n\t  d3_time.week = d3_time.sunday;\n\t  d3_time.weeks = d3_time.sunday.range;\n\t  d3_time.weeks.utc = d3_time.sunday.utc.range;\n\t  d3_time.weekOfYear = d3_time.sundayOfYear;\n\t  function d3_locale_timeFormat(locale) {\n\t    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_days = locale.days, locale_shortDays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;\n\t    function d3_time_format(template) {\n\t      var n = template.length;\n\t      function format(date) {\n\t        var string = [], i = -1, j = 0, c, p, f;\n\t        while (++i < n) {\n\t          if (template.charCodeAt(i) === 37) {\n\t            string.push(template.slice(j, i));\n\t            if ((p = d3_time_formatPads[c = template.charAt(++i)]) != null) c = template.charAt(++i);\n\t            if (f = d3_time_formats[c]) c = f(date, p == null ? c === \"e\" ? \" \" : \"0\" : p);\n\t            string.push(c);\n\t            j = i + 1;\n\t          }\n\t        }\n\t        string.push(template.slice(j, i));\n\t        return string.join(\"\");\n\t      }\n\t      format.parse = function(string) {\n\t        var d = {\n\t          y: 1900,\n\t          m: 0,\n\t          d: 1,\n\t          H: 0,\n\t          M: 0,\n\t          S: 0,\n\t          L: 0,\n\t          Z: null\n\t        }, i = d3_time_parse(d, template, string, 0);\n\t        if (i != string.length) return null;\n\t        if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\t        var localZ = d.Z != null && d3_date !== d3_date_utc, date = new (localZ ? d3_date_utc : d3_date)();\n\t        if (\"j\" in d) date.setFullYear(d.y, 0, d.j); else if (\"W\" in d || \"U\" in d) {\n\t          if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n\t          date.setFullYear(d.y, 0, 1);\n\t          date.setFullYear(d.y, 0, \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (date.getDay() + 5) % 7 : d.w + d.U * 7 - (date.getDay() + 6) % 7);\n\t        } else date.setFullYear(d.y, d.m, d.d);\n\t        date.setHours(d.H + (d.Z / 100 | 0), d.M + d.Z % 100, d.S, d.L);\n\t        return localZ ? date._ : date;\n\t      };\n\t      format.toString = function() {\n\t        return template;\n\t      };\n\t      return format;\n\t    }\n\t    function d3_time_parse(date, template, string, j) {\n\t      var c, p, t, i = 0, n = template.length, m = string.length;\n\t      while (i < n) {\n\t        if (j >= m) return -1;\n\t        c = template.charCodeAt(i++);\n\t        if (c === 37) {\n\t          t = template.charAt(i++);\n\t          p = d3_time_parsers[t in d3_time_formatPads ? template.charAt(i++) : t];\n\t          if (!p || (j = p(date, string, j)) < 0) return -1;\n\t        } else if (c != string.charCodeAt(j++)) {\n\t          return -1;\n\t        }\n\t      }\n\t      return j;\n\t    }\n\t    d3_time_format.utc = function(template) {\n\t      var local = d3_time_format(template);\n\t      function format(date) {\n\t        try {\n\t          d3_date = d3_date_utc;\n\t          var utc = new d3_date();\n\t          utc._ = date;\n\t          return local(utc);\n\t        } finally {\n\t          d3_date = Date;\n\t        }\n\t      }\n\t      format.parse = function(string) {\n\t        try {\n\t          d3_date = d3_date_utc;\n\t          var date = local.parse(string);\n\t          return date && date._;\n\t        } finally {\n\t          d3_date = Date;\n\t        }\n\t      };\n\t      format.toString = local.toString;\n\t      return format;\n\t    };\n\t    d3_time_format.multi = d3_time_format.utc.multi = d3_time_formatMulti;\n\t    var d3_time_periodLookup = d3.map(), d3_time_dayRe = d3_time_formatRe(locale_days), d3_time_dayLookup = d3_time_formatLookup(locale_days), d3_time_dayAbbrevRe = d3_time_formatRe(locale_shortDays), d3_time_dayAbbrevLookup = d3_time_formatLookup(locale_shortDays), d3_time_monthRe = d3_time_formatRe(locale_months), d3_time_monthLookup = d3_time_formatLookup(locale_months), d3_time_monthAbbrevRe = d3_time_formatRe(locale_shortMonths), d3_time_monthAbbrevLookup = d3_time_formatLookup(locale_shortMonths);\n\t    locale_periods.forEach(function(p, i) {\n\t      d3_time_periodLookup.set(p.toLowerCase(), i);\n\t    });\n\t    var d3_time_formats = {\n\t      a: function(d) {\n\t        return locale_shortDays[d.getDay()];\n\t      },\n\t      A: function(d) {\n\t        return locale_days[d.getDay()];\n\t      },\n\t      b: function(d) {\n\t        return locale_shortMonths[d.getMonth()];\n\t      },\n\t      B: function(d) {\n\t        return locale_months[d.getMonth()];\n\t      },\n\t      c: d3_time_format(locale_dateTime),\n\t      d: function(d, p) {\n\t        return d3_time_formatPad(d.getDate(), p, 2);\n\t      },\n\t      e: function(d, p) {\n\t        return d3_time_formatPad(d.getDate(), p, 2);\n\t      },\n\t      H: function(d, p) {\n\t        return d3_time_formatPad(d.getHours(), p, 2);\n\t      },\n\t      I: function(d, p) {\n\t        return d3_time_formatPad(d.getHours() % 12 || 12, p, 2);\n\t      },\n\t      j: function(d, p) {\n\t        return d3_time_formatPad(1 + d3_time.dayOfYear(d), p, 3);\n\t      },\n\t      L: function(d, p) {\n\t        return d3_time_formatPad(d.getMilliseconds(), p, 3);\n\t      },\n\t      m: function(d, p) {\n\t        return d3_time_formatPad(d.getMonth() + 1, p, 2);\n\t      },\n\t      M: function(d, p) {\n\t        return d3_time_formatPad(d.getMinutes(), p, 2);\n\t      },\n\t      p: function(d) {\n\t        return locale_periods[+(d.getHours() >= 12)];\n\t      },\n\t      S: function(d, p) {\n\t        return d3_time_formatPad(d.getSeconds(), p, 2);\n\t      },\n\t      U: function(d, p) {\n\t        return d3_time_formatPad(d3_time.sundayOfYear(d), p, 2);\n\t      },\n\t      w: function(d) {\n\t        return d.getDay();\n\t      },\n\t      W: function(d, p) {\n\t        return d3_time_formatPad(d3_time.mondayOfYear(d), p, 2);\n\t      },\n\t      x: d3_time_format(locale_date),\n\t      X: d3_time_format(locale_time),\n\t      y: function(d, p) {\n\t        return d3_time_formatPad(d.getFullYear() % 100, p, 2);\n\t      },\n\t      Y: function(d, p) {\n\t        return d3_time_formatPad(d.getFullYear() % 1e4, p, 4);\n\t      },\n\t      Z: d3_time_zone,\n\t      \"%\": function() {\n\t        return \"%\";\n\t      }\n\t    };\n\t    var d3_time_parsers = {\n\t      a: d3_time_parseWeekdayAbbrev,\n\t      A: d3_time_parseWeekday,\n\t      b: d3_time_parseMonthAbbrev,\n\t      B: d3_time_parseMonth,\n\t      c: d3_time_parseLocaleFull,\n\t      d: d3_time_parseDay,\n\t      e: d3_time_parseDay,\n\t      H: d3_time_parseHour24,\n\t      I: d3_time_parseHour24,\n\t      j: d3_time_parseDayOfYear,\n\t      L: d3_time_parseMilliseconds,\n\t      m: d3_time_parseMonthNumber,\n\t      M: d3_time_parseMinutes,\n\t      p: d3_time_parseAmPm,\n\t      S: d3_time_parseSeconds,\n\t      U: d3_time_parseWeekNumberSunday,\n\t      w: d3_time_parseWeekdayNumber,\n\t      W: d3_time_parseWeekNumberMonday,\n\t      x: d3_time_parseLocaleDate,\n\t      X: d3_time_parseLocaleTime,\n\t      y: d3_time_parseYear,\n\t      Y: d3_time_parseFullYear,\n\t      Z: d3_time_parseZone,\n\t      \"%\": d3_time_parseLiteralPercent\n\t    };\n\t    function d3_time_parseWeekdayAbbrev(date, string, i) {\n\t      d3_time_dayAbbrevRe.lastIndex = 0;\n\t      var n = d3_time_dayAbbrevRe.exec(string.slice(i));\n\t      return n ? (date.w = d3_time_dayAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n\t    }\n\t    function d3_time_parseWeekday(date, string, i) {\n\t      d3_time_dayRe.lastIndex = 0;\n\t      var n = d3_time_dayRe.exec(string.slice(i));\n\t      return n ? (date.w = d3_time_dayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n\t    }\n\t    function d3_time_parseMonthAbbrev(date, string, i) {\n\t      d3_time_monthAbbrevRe.lastIndex = 0;\n\t      var n = d3_time_monthAbbrevRe.exec(string.slice(i));\n\t      return n ? (date.m = d3_time_monthAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n\t    }\n\t    function d3_time_parseMonth(date, string, i) {\n\t      d3_time_monthRe.lastIndex = 0;\n\t      var n = d3_time_monthRe.exec(string.slice(i));\n\t      return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n\t    }\n\t    function d3_time_parseLocaleFull(date, string, i) {\n\t      return d3_time_parse(date, d3_time_formats.c.toString(), string, i);\n\t    }\n\t    function d3_time_parseLocaleDate(date, string, i) {\n\t      return d3_time_parse(date, d3_time_formats.x.toString(), string, i);\n\t    }\n\t    function d3_time_parseLocaleTime(date, string, i) {\n\t      return d3_time_parse(date, d3_time_formats.X.toString(), string, i);\n\t    }\n\t    function d3_time_parseAmPm(date, string, i) {\n\t      var n = d3_time_periodLookup.get(string.slice(i, i += 2).toLowerCase());\n\t      return n == null ? -1 : (date.p = n, i);\n\t    }\n\t    return d3_time_format;\n\t  }\n\t  var d3_time_formatPads = {\n\t    \"-\": \"\",\n\t    _: \" \",\n\t    \"0\": \"0\"\n\t  }, d3_time_numberRe = /^\\s*\\d+/, d3_time_percentRe = /^%/;\n\t  function d3_time_formatPad(value, fill, width) {\n\t    var sign = value < 0 ? \"-\" : \"\", string = (sign ? -value : value) + \"\", length = string.length;\n\t    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n\t  }\n\t  function d3_time_formatRe(names) {\n\t    return new RegExp(\"^(?:\" + names.map(d3.requote).join(\"|\") + \")\", \"i\");\n\t  }\n\t  function d3_time_formatLookup(names) {\n\t    var map = new d3_Map(), i = -1, n = names.length;\n\t    while (++i < n) map.set(names[i].toLowerCase(), i);\n\t    return map;\n\t  }\n\t  function d3_time_parseWeekdayNumber(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 1));\n\t    return n ? (date.w = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseWeekNumberSunday(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i));\n\t    return n ? (date.U = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseWeekNumberMonday(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i));\n\t    return n ? (date.W = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseFullYear(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 4));\n\t    return n ? (date.y = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseYear(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n\t    return n ? (date.y = d3_time_expandYear(+n[0]), i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseZone(date, string, i) {\n\t    return /^[+-]\\d{4}$/.test(string = string.slice(i, i + 5)) ? (date.Z = -string, \n\t    i + 5) : -1;\n\t  }\n\t  function d3_time_expandYear(d) {\n\t    return d + (d > 68 ? 1900 : 2e3);\n\t  }\n\t  function d3_time_parseMonthNumber(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n\t    return n ? (date.m = n[0] - 1, i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseDay(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n\t    return n ? (date.d = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseDayOfYear(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n\t    return n ? (date.j = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseHour24(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n\t    return n ? (date.H = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseMinutes(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n\t    return n ? (date.M = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseSeconds(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n\t    return n ? (date.S = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_parseMilliseconds(date, string, i) {\n\t    d3_time_numberRe.lastIndex = 0;\n\t    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n\t    return n ? (date.L = +n[0], i + n[0].length) : -1;\n\t  }\n\t  function d3_time_zone(d) {\n\t    var z = d.getTimezoneOffset(), zs = z > 0 ? \"-\" : \"+\", zh = abs(z) / 60 | 0, zm = abs(z) % 60;\n\t    return zs + d3_time_formatPad(zh, \"0\", 2) + d3_time_formatPad(zm, \"0\", 2);\n\t  }\n\t  function d3_time_parseLiteralPercent(date, string, i) {\n\t    d3_time_percentRe.lastIndex = 0;\n\t    var n = d3_time_percentRe.exec(string.slice(i, i + 1));\n\t    return n ? i + n[0].length : -1;\n\t  }\n\t  function d3_time_formatMulti(formats) {\n\t    var n = formats.length, i = -1;\n\t    while (++i < n) formats[i][0] = this(formats[i][0]);\n\t    return function(date) {\n\t      var i = 0, f = formats[i];\n\t      while (!f[1](date)) f = formats[++i];\n\t      return f[0](date);\n\t    };\n\t  }\n\t  d3.locale = function(locale) {\n\t    return {\n\t      numberFormat: d3_locale_numberFormat(locale),\n\t      timeFormat: d3_locale_timeFormat(locale)\n\t    };\n\t  };\n\t  var d3_locale_enUS = d3.locale({\n\t    decimal: \".\",\n\t    thousands: \",\",\n\t    grouping: [ 3 ],\n\t    currency: [ \"$\", \"\" ],\n\t    dateTime: \"%a %b %e %X %Y\",\n\t    date: \"%m/%d/%Y\",\n\t    time: \"%H:%M:%S\",\n\t    periods: [ \"AM\", \"PM\" ],\n\t    days: [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ],\n\t    shortDays: [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ],\n\t    months: [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ],\n\t    shortMonths: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ]\n\t  });\n\t  d3.format = d3_locale_enUS.numberFormat;\n\t  d3.geo = {};\n\t  function d3_adder() {}\n\t  d3_adder.prototype = {\n\t    s: 0,\n\t    t: 0,\n\t    add: function(y) {\n\t      d3_adderSum(y, this.t, d3_adderTemp);\n\t      d3_adderSum(d3_adderTemp.s, this.s, this);\n\t      if (this.s) this.t += d3_adderTemp.t; else this.s = d3_adderTemp.t;\n\t    },\n\t    reset: function() {\n\t      this.s = this.t = 0;\n\t    },\n\t    valueOf: function() {\n\t      return this.s;\n\t    }\n\t  };\n\t  var d3_adderTemp = new d3_adder();\n\t  function d3_adderSum(a, b, o) {\n\t    var x = o.s = a + b, bv = x - a, av = x - bv;\n\t    o.t = a - av + (b - bv);\n\t  }\n\t  d3.geo.stream = function(object, listener) {\n\t    if (object && d3_geo_streamObjectType.hasOwnProperty(object.type)) {\n\t      d3_geo_streamObjectType[object.type](object, listener);\n\t    } else {\n\t      d3_geo_streamGeometry(object, listener);\n\t    }\n\t  };\n\t  function d3_geo_streamGeometry(geometry, listener) {\n\t    if (geometry && d3_geo_streamGeometryType.hasOwnProperty(geometry.type)) {\n\t      d3_geo_streamGeometryType[geometry.type](geometry, listener);\n\t    }\n\t  }\n\t  var d3_geo_streamObjectType = {\n\t    Feature: function(feature, listener) {\n\t      d3_geo_streamGeometry(feature.geometry, listener);\n\t    },\n\t    FeatureCollection: function(object, listener) {\n\t      var features = object.features, i = -1, n = features.length;\n\t      while (++i < n) d3_geo_streamGeometry(features[i].geometry, listener);\n\t    }\n\t  };\n\t  var d3_geo_streamGeometryType = {\n\t    Sphere: function(object, listener) {\n\t      listener.sphere();\n\t    },\n\t    Point: function(object, listener) {\n\t      object = object.coordinates;\n\t      listener.point(object[0], object[1], object[2]);\n\t    },\n\t    MultiPoint: function(object, listener) {\n\t      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n\t      while (++i < n) object = coordinates[i], listener.point(object[0], object[1], object[2]);\n\t    },\n\t    LineString: function(object, listener) {\n\t      d3_geo_streamLine(object.coordinates, listener, 0);\n\t    },\n\t    MultiLineString: function(object, listener) {\n\t      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n\t      while (++i < n) d3_geo_streamLine(coordinates[i], listener, 0);\n\t    },\n\t    Polygon: function(object, listener) {\n\t      d3_geo_streamPolygon(object.coordinates, listener);\n\t    },\n\t    MultiPolygon: function(object, listener) {\n\t      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n\t      while (++i < n) d3_geo_streamPolygon(coordinates[i], listener);\n\t    },\n\t    GeometryCollection: function(object, listener) {\n\t      var geometries = object.geometries, i = -1, n = geometries.length;\n\t      while (++i < n) d3_geo_streamGeometry(geometries[i], listener);\n\t    }\n\t  };\n\t  function d3_geo_streamLine(coordinates, listener, closed) {\n\t    var i = -1, n = coordinates.length - closed, coordinate;\n\t    listener.lineStart();\n\t    while (++i < n) coordinate = coordinates[i], listener.point(coordinate[0], coordinate[1], coordinate[2]);\n\t    listener.lineEnd();\n\t  }\n\t  function d3_geo_streamPolygon(coordinates, listener) {\n\t    var i = -1, n = coordinates.length;\n\t    listener.polygonStart();\n\t    while (++i < n) d3_geo_streamLine(coordinates[i], listener, 1);\n\t    listener.polygonEnd();\n\t  }\n\t  d3.geo.area = function(object) {\n\t    d3_geo_areaSum = 0;\n\t    d3.geo.stream(object, d3_geo_area);\n\t    return d3_geo_areaSum;\n\t  };\n\t  var d3_geo_areaSum, d3_geo_areaRingSum = new d3_adder();\n\t  var d3_geo_area = {\n\t    sphere: function() {\n\t      d3_geo_areaSum += 4 * ;\n\t    },\n\t    point: d3_noop,\n\t    lineStart: d3_noop,\n\t    lineEnd: d3_noop,\n\t    polygonStart: function() {\n\t      d3_geo_areaRingSum.reset();\n\t      d3_geo_area.lineStart = d3_geo_areaRingStart;\n\t    },\n\t    polygonEnd: function() {\n\t      var area = 2 * d3_geo_areaRingSum;\n\t      d3_geo_areaSum += area < 0 ? 4 *  + area : area;\n\t      d3_geo_area.lineStart = d3_geo_area.lineEnd = d3_geo_area.point = d3_noop;\n\t    }\n\t  };\n\t  function d3_geo_areaRingStart() {\n\t    var 00, 00, 0, cos0, sin0;\n\t    d3_geo_area.point = function(, ) {\n\t      d3_geo_area.point = nextPoint;\n\t      0 = (00 = ) * d3_radians, cos0 = Math.cos( = (00 = ) * d3_radians / 2 +  / 4), \n\t      sin0 = Math.sin();\n\t    };\n\t    function nextPoint(, ) {\n\t       *= d3_radians;\n\t       =  * d3_radians / 2 +  / 4;\n\t      var d =  - 0, sd = d >= 0 ? 1 : -1, ad = sd * d, cos = Math.cos(), sin = Math.sin(), k = sin0 * sin, u = cos0 * cos + k * Math.cos(ad), v = k * sd * Math.sin(ad);\n\t      d3_geo_areaRingSum.add(Math.atan2(v, u));\n\t      0 = , cos0 = cos, sin0 = sin;\n\t    }\n\t    d3_geo_area.lineEnd = function() {\n\t      nextPoint(00, 00);\n\t    };\n\t  }\n\t  function d3_geo_cartesian(spherical) {\n\t    var  = spherical[0],  = spherical[1], cos = Math.cos();\n\t    return [ cos * Math.cos(), cos * Math.sin(), Math.sin() ];\n\t  }\n\t  function d3_geo_cartesianDot(a, b) {\n\t    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n\t  }\n\t  function d3_geo_cartesianCross(a, b) {\n\t    return [ a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0] ];\n\t  }\n\t  function d3_geo_cartesianAdd(a, b) {\n\t    a[0] += b[0];\n\t    a[1] += b[1];\n\t    a[2] += b[2];\n\t  }\n\t  function d3_geo_cartesianScale(vector, k) {\n\t    return [ vector[0] * k, vector[1] * k, vector[2] * k ];\n\t  }\n\t  function d3_geo_cartesianNormalize(d) {\n\t    var l = Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n\t    d[0] /= l;\n\t    d[1] /= l;\n\t    d[2] /= l;\n\t  }\n\t  function d3_geo_spherical(cartesian) {\n\t    return [ Math.atan2(cartesian[1], cartesian[0]), d3_asin(cartesian[2]) ];\n\t  }\n\t  function d3_geo_sphericalEqual(a, b) {\n\t    return abs(a[0] - b[0]) <  && abs(a[1] - b[1]) < ;\n\t  }\n\t  d3.geo.bounds = function() {\n\t    var 0, 0, 1, 1, _, __, __, p0, dSum, ranges, range;\n\t    var bound = {\n\t      point: point,\n\t      lineStart: lineStart,\n\t      lineEnd: lineEnd,\n\t      polygonStart: function() {\n\t        bound.point = ringPoint;\n\t        bound.lineStart = ringStart;\n\t        bound.lineEnd = ringEnd;\n\t        dSum = 0;\n\t        d3_geo_area.polygonStart();\n\t      },\n\t      polygonEnd: function() {\n\t        d3_geo_area.polygonEnd();\n\t        bound.point = point;\n\t        bound.lineStart = lineStart;\n\t        bound.lineEnd = lineEnd;\n\t        if (d3_geo_areaRingSum < 0) 0 = -(1 = 180), 0 = -(1 = 90); else if (dSum > ) 1 = 90; else if (dSum < -) 0 = -90;\n\t        range[0] = 0, range[1] = 1;\n\t      }\n\t    };\n\t    function point(, ) {\n\t      ranges.push(range = [ 0 = , 1 =  ]);\n\t      if ( < 0) 0 = ;\n\t      if ( > 1) 1 = ;\n\t    }\n\t    function linePoint(, ) {\n\t      var p = d3_geo_cartesian([  * d3_radians,  * d3_radians ]);\n\t      if (p0) {\n\t        var normal = d3_geo_cartesianCross(p0, p), equatorial = [ normal[1], -normal[0], 0 ], inflection = d3_geo_cartesianCross(equatorial, normal);\n\t        d3_geo_cartesianNormalize(inflection);\n\t        inflection = d3_geo_spherical(inflection);\n\t        var d =  - _, s = d > 0 ? 1 : -1, i = inflection[0] * d3_degrees * s, antimeridian = abs(d) > 180;\n\t        if (antimeridian ^ (s * _ < i && i < s * )) {\n\t          var i = inflection[1] * d3_degrees;\n\t          if (i > 1) 1 = i;\n\t        } else if (i = (i + 360) % 360 - 180, antimeridian ^ (s * _ < i && i < s * )) {\n\t          var i = -inflection[1] * d3_degrees;\n\t          if (i < 0) 0 = i;\n\t        } else {\n\t          if ( < 0) 0 = ;\n\t          if ( > 1) 1 = ;\n\t        }\n\t        if (antimeridian) {\n\t          if ( < _) {\n\t            if (angle(0, ) > angle(0, 1)) 1 = ;\n\t          } else {\n\t            if (angle(, 1) > angle(0, 1)) 0 = ;\n\t          }\n\t        } else {\n\t          if (1 >= 0) {\n\t            if ( < 0) 0 = ;\n\t            if ( > 1) 1 = ;\n\t          } else {\n\t            if ( > _) {\n\t              if (angle(0, ) > angle(0, 1)) 1 = ;\n\t            } else {\n\t              if (angle(, 1) > angle(0, 1)) 0 = ;\n\t            }\n\t          }\n\t        }\n\t      } else {\n\t        point(, );\n\t      }\n\t      p0 = p, _ = ;\n\t    }\n\t    function lineStart() {\n\t      bound.point = linePoint;\n\t    }\n\t    function lineEnd() {\n\t      range[0] = 0, range[1] = 1;\n\t      bound.point = point;\n\t      p0 = null;\n\t    }\n\t    function ringPoint(, ) {\n\t      if (p0) {\n\t        var d =  - _;\n\t        dSum += abs(d) > 180 ? d + (d > 0 ? 360 : -360) : d;\n\t      } else __ = , __ = ;\n\t      d3_geo_area.point(, );\n\t      linePoint(, );\n\t    }\n\t    function ringStart() {\n\t      d3_geo_area.lineStart();\n\t    }\n\t    function ringEnd() {\n\t      ringPoint(__, __);\n\t      d3_geo_area.lineEnd();\n\t      if (abs(dSum) > ) 0 = -(1 = 180);\n\t      range[0] = 0, range[1] = 1;\n\t      p0 = null;\n\t    }\n\t    function angle(0, 1) {\n\t      return (1 -= 0) < 0 ? 1 + 360 : 1;\n\t    }\n\t    function compareRanges(a, b) {\n\t      return a[0] - b[0];\n\t    }\n\t    function withinRange(x, range) {\n\t      return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n\t    }\n\t    return function(feature) {\n\t      1 = 1 = -(0 = 0 = Infinity);\n\t      ranges = [];\n\t      d3.geo.stream(feature, bound);\n\t      var n = ranges.length;\n\t      if (n) {\n\t        ranges.sort(compareRanges);\n\t        for (var i = 1, a = ranges[0], b, merged = [ a ]; i < n; ++i) {\n\t          b = ranges[i];\n\t          if (withinRange(b[0], a) || withinRange(b[1], a)) {\n\t            if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n\t            if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n\t          } else {\n\t            merged.push(a = b);\n\t          }\n\t        }\n\t        var best = -Infinity, d;\n\t        for (var n = merged.length - 1, i = 0, a = merged[n], b; i <= n; a = b, ++i) {\n\t          b = merged[i];\n\t          if ((d = angle(a[1], b[0])) > best) best = d, 0 = b[0], 1 = a[1];\n\t        }\n\t      }\n\t      ranges = range = null;\n\t      return 0 === Infinity || 0 === Infinity ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ 0, 0 ], [ 1, 1 ] ];\n\t    };\n\t  }();\n\t  d3.geo.centroid = function(object) {\n\t    d3_geo_centroidW0 = d3_geo_centroidW1 = d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n\t    d3.geo.stream(object, d3_geo_centroid);\n\t    var x = d3_geo_centroidX2, y = d3_geo_centroidY2, z = d3_geo_centroidZ2, m = x * x + y * y + z * z;\n\t    if (m < 2) {\n\t      x = d3_geo_centroidX1, y = d3_geo_centroidY1, z = d3_geo_centroidZ1;\n\t      if (d3_geo_centroidW1 < ) x = d3_geo_centroidX0, y = d3_geo_centroidY0, z = d3_geo_centroidZ0;\n\t      m = x * x + y * y + z * z;\n\t      if (m < 2) return [ NaN, NaN ];\n\t    }\n\t    return [ Math.atan2(y, x) * d3_degrees, d3_asin(z / Math.sqrt(m)) * d3_degrees ];\n\t  };\n\t  var d3_geo_centroidW0, d3_geo_centroidW1, d3_geo_centroidX0, d3_geo_centroidY0, d3_geo_centroidZ0, d3_geo_centroidX1, d3_geo_centroidY1, d3_geo_centroidZ1, d3_geo_centroidX2, d3_geo_centroidY2, d3_geo_centroidZ2;\n\t  var d3_geo_centroid = {\n\t    sphere: d3_noop,\n\t    point: d3_geo_centroidPoint,\n\t    lineStart: d3_geo_centroidLineStart,\n\t    lineEnd: d3_geo_centroidLineEnd,\n\t    polygonStart: function() {\n\t      d3_geo_centroid.lineStart = d3_geo_centroidRingStart;\n\t    },\n\t    polygonEnd: function() {\n\t      d3_geo_centroid.lineStart = d3_geo_centroidLineStart;\n\t    }\n\t  };\n\t  function d3_geo_centroidPoint(, ) {\n\t     *= d3_radians;\n\t    var cos = Math.cos( *= d3_radians);\n\t    d3_geo_centroidPointXYZ(cos * Math.cos(), cos * Math.sin(), Math.sin());\n\t  }\n\t  function d3_geo_centroidPointXYZ(x, y, z) {\n\t    ++d3_geo_centroidW0;\n\t    d3_geo_centroidX0 += (x - d3_geo_centroidX0) / d3_geo_centroidW0;\n\t    d3_geo_centroidY0 += (y - d3_geo_centroidY0) / d3_geo_centroidW0;\n\t    d3_geo_centroidZ0 += (z - d3_geo_centroidZ0) / d3_geo_centroidW0;\n\t  }\n\t  function d3_geo_centroidLineStart() {\n\t    var x0, y0, z0;\n\t    d3_geo_centroid.point = function(, ) {\n\t       *= d3_radians;\n\t      var cos = Math.cos( *= d3_radians);\n\t      x0 = cos * Math.cos();\n\t      y0 = cos * Math.sin();\n\t      z0 = Math.sin();\n\t      d3_geo_centroid.point = nextPoint;\n\t      d3_geo_centroidPointXYZ(x0, y0, z0);\n\t    };\n\t    function nextPoint(, ) {\n\t       *= d3_radians;\n\t      var cos = Math.cos( *= d3_radians), x = cos * Math.cos(), y = cos * Math.sin(), z = Math.sin(), w = Math.atan2(Math.sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n\t      d3_geo_centroidW1 += w;\n\t      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n\t      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n\t      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n\t      d3_geo_centroidPointXYZ(x0, y0, z0);\n\t    }\n\t  }\n\t  function d3_geo_centroidLineEnd() {\n\t    d3_geo_centroid.point = d3_geo_centroidPoint;\n\t  }\n\t  function d3_geo_centroidRingStart() {\n\t    var 00, 00, x0, y0, z0;\n\t    d3_geo_centroid.point = function(, ) {\n\t      00 = , 00 = ;\n\t      d3_geo_centroid.point = nextPoint;\n\t       *= d3_radians;\n\t      var cos = Math.cos( *= d3_radians);\n\t      x0 = cos * Math.cos();\n\t      y0 = cos * Math.sin();\n\t      z0 = Math.sin();\n\t      d3_geo_centroidPointXYZ(x0, y0, z0);\n\t    };\n\t    d3_geo_centroid.lineEnd = function() {\n\t      nextPoint(00, 00);\n\t      d3_geo_centroid.lineEnd = d3_geo_centroidLineEnd;\n\t      d3_geo_centroid.point = d3_geo_centroidPoint;\n\t    };\n\t    function nextPoint(, ) {\n\t       *= d3_radians;\n\t      var cos = Math.cos( *= d3_radians), x = cos * Math.cos(), y = cos * Math.sin(), z = Math.sin(), cx = y0 * z - z0 * y, cy = z0 * x - x0 * z, cz = x0 * y - y0 * x, m = Math.sqrt(cx * cx + cy * cy + cz * cz), u = x0 * x + y0 * y + z0 * z, v = m && -d3_acos(u) / m, w = Math.atan2(m, u);\n\t      d3_geo_centroidX2 += v * cx;\n\t      d3_geo_centroidY2 += v * cy;\n\t      d3_geo_centroidZ2 += v * cz;\n\t      d3_geo_centroidW1 += w;\n\t      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n\t      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n\t      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n\t      d3_geo_centroidPointXYZ(x0, y0, z0);\n\t    }\n\t  }\n\t  function d3_geo_compose(a, b) {\n\t    function compose(x, y) {\n\t      return x = a(x, y), b(x[0], x[1]);\n\t    }\n\t    if (a.invert && b.invert) compose.invert = function(x, y) {\n\t      return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n\t    };\n\t    return compose;\n\t  }\n\t  function d3_true() {\n\t    return true;\n\t  }\n\t  function d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener) {\n\t    var subject = [], clip = [];\n\t    segments.forEach(function(segment) {\n\t      if ((n = segment.length - 1) <= 0) return;\n\t      var n, p0 = segment[0], p1 = segment[n];\n\t      if (d3_geo_sphericalEqual(p0, p1)) {\n\t        listener.lineStart();\n\t        for (var i = 0; i < n; ++i) listener.point((p0 = segment[i])[0], p0[1]);\n\t        listener.lineEnd();\n\t        return;\n\t      }\n\t      var a = new d3_geo_clipPolygonIntersection(p0, segment, null, true), b = new d3_geo_clipPolygonIntersection(p0, null, a, false);\n\t      a.o = b;\n\t      subject.push(a);\n\t      clip.push(b);\n\t      a = new d3_geo_clipPolygonIntersection(p1, segment, null, false);\n\t      b = new d3_geo_clipPolygonIntersection(p1, null, a, true);\n\t      a.o = b;\n\t      subject.push(a);\n\t      clip.push(b);\n\t    });\n\t    clip.sort(compare);\n\t    d3_geo_clipPolygonLinkCircular(subject);\n\t    d3_geo_clipPolygonLinkCircular(clip);\n\t    if (!subject.length) return;\n\t    for (var i = 0, entry = clipStartInside, n = clip.length; i < n; ++i) {\n\t      clip[i].e = entry = !entry;\n\t    }\n\t    var start = subject[0], points, point;\n\t    while (1) {\n\t      var current = start, isSubject = true;\n\t      while (current.v) if ((current = current.n) === start) return;\n\t      points = current.z;\n\t      listener.lineStart();\n\t      do {\n\t        current.v = current.o.v = true;\n\t        if (current.e) {\n\t          if (isSubject) {\n\t            for (var i = 0, n = points.length; i < n; ++i) listener.point((point = points[i])[0], point[1]);\n\t          } else {\n\t            interpolate(current.x, current.n.x, 1, listener);\n\t          }\n\t          current = current.n;\n\t        } else {\n\t          if (isSubject) {\n\t            points = current.p.z;\n\t            for (var i = points.length - 1; i >= 0; --i) listener.point((point = points[i])[0], point[1]);\n\t          } else {\n\t            interpolate(current.x, current.p.x, -1, listener);\n\t          }\n\t          current = current.p;\n\t        }\n\t        current = current.o;\n\t        points = current.z;\n\t        isSubject = !isSubject;\n\t      } while (!current.v);\n\t      listener.lineEnd();\n\t    }\n\t  }\n\t  function d3_geo_clipPolygonLinkCircular(array) {\n\t    if (!(n = array.length)) return;\n\t    var n, i = 0, a = array[0], b;\n\t    while (++i < n) {\n\t      a.n = b = array[i];\n\t      b.p = a;\n\t      a = b;\n\t    }\n\t    a.n = b = array[0];\n\t    b.p = a;\n\t  }\n\t  function d3_geo_clipPolygonIntersection(point, points, other, entry) {\n\t    this.x = point;\n\t    this.z = points;\n\t    this.o = other;\n\t    this.e = entry;\n\t    this.v = false;\n\t    this.n = this.p = null;\n\t  }\n\t  function d3_geo_clip(pointVisible, clipLine, interpolate, clipStart) {\n\t    return function(rotate, listener) {\n\t      var line = clipLine(listener), rotatedClipStart = rotate.invert(clipStart[0], clipStart[1]);\n\t      var clip = {\n\t        point: point,\n\t        lineStart: lineStart,\n\t        lineEnd: lineEnd,\n\t        polygonStart: function() {\n\t          clip.point = pointRing;\n\t          clip.lineStart = ringStart;\n\t          clip.lineEnd = ringEnd;\n\t          segments = [];\n\t          polygon = [];\n\t        },\n\t        polygonEnd: function() {\n\t          clip.point = point;\n\t          clip.lineStart = lineStart;\n\t          clip.lineEnd = lineEnd;\n\t          segments = d3.merge(segments);\n\t          var clipStartInside = d3_geo_pointInPolygon(rotatedClipStart, polygon);\n\t          if (segments.length) {\n\t            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n\t            d3_geo_clipPolygon(segments, d3_geo_clipSort, clipStartInside, interpolate, listener);\n\t          } else if (clipStartInside) {\n\t            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n\t            listener.lineStart();\n\t            interpolate(null, null, 1, listener);\n\t            listener.lineEnd();\n\t          }\n\t          if (polygonStarted) listener.polygonEnd(), polygonStarted = false;\n\t          segments = polygon = null;\n\t        },\n\t        sphere: function() {\n\t          listener.polygonStart();\n\t          listener.lineStart();\n\t          interpolate(null, null, 1, listener);\n\t          listener.lineEnd();\n\t          listener.polygonEnd();\n\t        }\n\t      };\n\t      function point(, ) {\n\t        var point = rotate(, );\n\t        if (pointVisible( = point[0],  = point[1])) listener.point(, );\n\t      }\n\t      function pointLine(, ) {\n\t        var point = rotate(, );\n\t        line.point(point[0], point[1]);\n\t      }\n\t      function lineStart() {\n\t        clip.point = pointLine;\n\t        line.lineStart();\n\t      }\n\t      function lineEnd() {\n\t        clip.point = point;\n\t        line.lineEnd();\n\t      }\n\t      var segments;\n\t      var buffer = d3_geo_clipBufferListener(), ringListener = clipLine(buffer), polygonStarted = false, polygon, ring;\n\t      function pointRing(, ) {\n\t        ring.push([ ,  ]);\n\t        var point = rotate(, );\n\t        ringListener.point(point[0], point[1]);\n\t      }\n\t      function ringStart() {\n\t        ringListener.lineStart();\n\t        ring = [];\n\t      }\n\t      function ringEnd() {\n\t        pointRing(ring[0][0], ring[0][1]);\n\t        ringListener.lineEnd();\n\t        var clean = ringListener.clean(), ringSegments = buffer.buffer(), segment, n = ringSegments.length;\n\t        ring.pop();\n\t        polygon.push(ring);\n\t        ring = null;\n\t        if (!n) return;\n\t        if (clean & 1) {\n\t          segment = ringSegments[0];\n\t          var n = segment.length - 1, i = -1, point;\n\t          if (n > 0) {\n\t            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n\t            listener.lineStart();\n\t            while (++i < n) listener.point((point = segment[i])[0], point[1]);\n\t            listener.lineEnd();\n\t          }\n\t          return;\n\t        }\n\t        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\t        segments.push(ringSegments.filter(d3_geo_clipSegmentLength1));\n\t      }\n\t      return clip;\n\t    };\n\t  }\n\t  function d3_geo_clipSegmentLength1(segment) {\n\t    return segment.length > 1;\n\t  }\n\t  function d3_geo_clipBufferListener() {\n\t    var lines = [], line;\n\t    return {\n\t      lineStart: function() {\n\t        lines.push(line = []);\n\t      },\n\t      point: function(, ) {\n\t        line.push([ ,  ]);\n\t      },\n\t      lineEnd: d3_noop,\n\t      buffer: function() {\n\t        var buffer = lines;\n\t        lines = [];\n\t        line = null;\n\t        return buffer;\n\t      },\n\t      rejoin: function() {\n\t        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n\t      }\n\t    };\n\t  }\n\t  function d3_geo_clipSort(a, b) {\n\t    return ((a = a.x)[0] < 0 ? a[1] - half -  : half - a[1]) - ((b = b.x)[0] < 0 ? b[1] - half -  : half - b[1]);\n\t  }\n\t  var d3_geo_clipAntimeridian = d3_geo_clip(d3_true, d3_geo_clipAntimeridianLine, d3_geo_clipAntimeridianInterpolate, [ -, - / 2 ]);\n\t  function d3_geo_clipAntimeridianLine(listener) {\n\t    var 0 = NaN, 0 = NaN, s0 = NaN, clean;\n\t    return {\n\t      lineStart: function() {\n\t        listener.lineStart();\n\t        clean = 1;\n\t      },\n\t      point: function(1, 1) {\n\t        var s1 = 1 > 0 ?  : -, d = abs(1 - 0);\n\t        if (abs(d - ) < ) {\n\t          listener.point(0, 0 = (0 + 1) / 2 > 0 ? half : -half);\n\t          listener.point(s0, 0);\n\t          listener.lineEnd();\n\t          listener.lineStart();\n\t          listener.point(s1, 0);\n\t          listener.point(1, 0);\n\t          clean = 0;\n\t        } else if (s0 !== s1 && d >= ) {\n\t          if (abs(0 - s0) < ) 0 -= s0 * ;\n\t          if (abs(1 - s1) < ) 1 -= s1 * ;\n\t          0 = d3_geo_clipAntimeridianIntersect(0, 0, 1, 1);\n\t          listener.point(s0, 0);\n\t          listener.lineEnd();\n\t          listener.lineStart();\n\t          listener.point(s1, 0);\n\t          clean = 0;\n\t        }\n\t        listener.point(0 = 1, 0 = 1);\n\t        s0 = s1;\n\t      },\n\t      lineEnd: function() {\n\t        listener.lineEnd();\n\t        0 = 0 = NaN;\n\t      },\n\t      clean: function() {\n\t        return 2 - clean;\n\t      }\n\t    };\n\t  }\n\t  function d3_geo_clipAntimeridianIntersect(0, 0, 1, 1) {\n\t    var cos0, cos1, sin0_1 = Math.sin(0 - 1);\n\t    return abs(sin0_1) >  ? Math.atan((Math.sin(0) * (cos1 = Math.cos(1)) * Math.sin(1) - Math.sin(1) * (cos0 = Math.cos(0)) * Math.sin(0)) / (cos0 * cos1 * sin0_1)) : (0 + 1) / 2;\n\t  }\n\t  function d3_geo_clipAntimeridianInterpolate(from, to, direction, listener) {\n\t    var ;\n\t    if (from == null) {\n\t       = direction * half;\n\t      listener.point(-, );\n\t      listener.point(0, );\n\t      listener.point(, );\n\t      listener.point(, 0);\n\t      listener.point(, -);\n\t      listener.point(0, -);\n\t      listener.point(-, -);\n\t      listener.point(-, 0);\n\t      listener.point(-, );\n\t    } else if (abs(from[0] - to[0]) > ) {\n\t      var s = from[0] < to[0] ?  : -;\n\t       = direction * s / 2;\n\t      listener.point(-s, );\n\t      listener.point(0, );\n\t      listener.point(s, );\n\t    } else {\n\t      listener.point(to[0], to[1]);\n\t    }\n\t  }\n\t  function d3_geo_pointInPolygon(point, polygon) {\n\t    var meridian = point[0], parallel = point[1], meridianNormal = [ Math.sin(meridian), -Math.cos(meridian), 0 ], polarAngle = 0, winding = 0;\n\t    d3_geo_areaRingSum.reset();\n\t    for (var i = 0, n = polygon.length; i < n; ++i) {\n\t      var ring = polygon[i], m = ring.length;\n\t      if (!m) continue;\n\t      var point0 = ring[0], 0 = point0[0], 0 = point0[1] / 2 +  / 4, sin0 = Math.sin(0), cos0 = Math.cos(0), j = 1;\n\t      while (true) {\n\t        if (j === m) j = 0;\n\t        point = ring[j];\n\t        var  = point[0],  = point[1] / 2 +  / 4, sin = Math.sin(), cos = Math.cos(), d =  - 0, sd = d >= 0 ? 1 : -1, ad = sd * d, antimeridian = ad > , k = sin0 * sin;\n\t        d3_geo_areaRingSum.add(Math.atan2(k * sd * Math.sin(ad), cos0 * cos + k * Math.cos(ad)));\n\t        polarAngle += antimeridian ? d + sd *  : d;\n\t        if (antimeridian ^ 0 >= meridian ^  >= meridian) {\n\t          var arc = d3_geo_cartesianCross(d3_geo_cartesian(point0), d3_geo_cartesian(point));\n\t          d3_geo_cartesianNormalize(arc);\n\t          var intersection = d3_geo_cartesianCross(meridianNormal, arc);\n\t          d3_geo_cartesianNormalize(intersection);\n\t          var arc = (antimeridian ^ d >= 0 ? -1 : 1) * d3_asin(intersection[2]);\n\t          if (parallel > arc || parallel === arc && (arc[0] || arc[1])) {\n\t            winding += antimeridian ^ d >= 0 ? 1 : -1;\n\t          }\n\t        }\n\t        if (!j++) break;\n\t        0 = , sin0 = sin, cos0 = cos, point0 = point;\n\t      }\n\t    }\n\t    return (polarAngle < - || polarAngle <  && d3_geo_areaRingSum < -) ^ winding & 1;\n\t  }\n\t  function d3_geo_clipCircle(radius) {\n\t    var cr = Math.cos(radius), smallRadius = cr > 0, notHemisphere = abs(cr) > , interpolate = d3_geo_circleInterpolate(radius, 6 * d3_radians);\n\t    return d3_geo_clip(visible, clipLine, interpolate, smallRadius ? [ 0, -radius ] : [ -, radius -  ]);\n\t    function visible(, ) {\n\t      return Math.cos() * Math.cos() > cr;\n\t    }\n\t    function clipLine(listener) {\n\t      var point0, c0, v0, v00, clean;\n\t      return {\n\t        lineStart: function() {\n\t          v00 = v0 = false;\n\t          clean = 1;\n\t        },\n\t        point: function(, ) {\n\t          var point1 = [ ,  ], point2, v = visible(, ), c = smallRadius ? v ? 0 : code(, ) : v ? code( + ( < 0 ?  : -), ) : 0;\n\t          if (!point0 && (v00 = v0 = v)) listener.lineStart();\n\t          if (v !== v0) {\n\t            point2 = intersect(point0, point1);\n\t            if (d3_geo_sphericalEqual(point0, point2) || d3_geo_sphericalEqual(point1, point2)) {\n\t              point1[0] += ;\n\t              point1[1] += ;\n\t              v = visible(point1[0], point1[1]);\n\t            }\n\t          }\n\t          if (v !== v0) {\n\t            clean = 0;\n\t            if (v) {\n\t              listener.lineStart();\n\t              point2 = intersect(point1, point0);\n\t              listener.point(point2[0], point2[1]);\n\t            } else {\n\t              point2 = intersect(point0, point1);\n\t              listener.point(point2[0], point2[1]);\n\t              listener.lineEnd();\n\t            }\n\t            point0 = point2;\n\t          } else if (notHemisphere && point0 && smallRadius ^ v) {\n\t            var t;\n\t            if (!(c & c0) && (t = intersect(point1, point0, true))) {\n\t              clean = 0;\n\t              if (smallRadius) {\n\t                listener.lineStart();\n\t                listener.point(t[0][0], t[0][1]);\n\t                listener.point(t[1][0], t[1][1]);\n\t                listener.lineEnd();\n\t              } else {\n\t                listener.point(t[1][0], t[1][1]);\n\t                listener.lineEnd();\n\t                listener.lineStart();\n\t                listener.point(t[0][0], t[0][1]);\n\t              }\n\t            }\n\t          }\n\t          if (v && (!point0 || !d3_geo_sphericalEqual(point0, point1))) {\n\t            listener.point(point1[0], point1[1]);\n\t          }\n\t          point0 = point1, v0 = v, c0 = c;\n\t        },\n\t        lineEnd: function() {\n\t          if (v0) listener.lineEnd();\n\t          point0 = null;\n\t        },\n\t        clean: function() {\n\t          return clean | (v00 && v0) << 1;\n\t        }\n\t      };\n\t    }\n\t    function intersect(a, b, two) {\n\t      var pa = d3_geo_cartesian(a), pb = d3_geo_cartesian(b);\n\t      var n1 = [ 1, 0, 0 ], n2 = d3_geo_cartesianCross(pa, pb), n2n2 = d3_geo_cartesianDot(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;\n\t      if (!determinant) return !two && a;\n\t      var c1 = cr * n2n2 / determinant, c2 = -cr * n1n2 / determinant, n1xn2 = d3_geo_cartesianCross(n1, n2), A = d3_geo_cartesianScale(n1, c1), B = d3_geo_cartesianScale(n2, c2);\n\t      d3_geo_cartesianAdd(A, B);\n\t      var u = n1xn2, w = d3_geo_cartesianDot(A, u), uu = d3_geo_cartesianDot(u, u), t2 = w * w - uu * (d3_geo_cartesianDot(A, A) - 1);\n\t      if (t2 < 0) return;\n\t      var t = Math.sqrt(t2), q = d3_geo_cartesianScale(u, (-w - t) / uu);\n\t      d3_geo_cartesianAdd(q, A);\n\t      q = d3_geo_spherical(q);\n\t      if (!two) return q;\n\t      var 0 = a[0], 1 = b[0], 0 = a[1], 1 = b[1], z;\n\t      if (1 < 0) z = 0, 0 = 1, 1 = z;\n\t      var  = 1 - 0, polar = abs( - ) < , meridian = polar ||  < ;\n\t      if (!polar && 1 < 0) z = 0, 0 = 1, 1 = z;\n\t      if (meridian ? polar ? 0 + 1 > 0 ^ q[1] < (abs(q[0] - 0) <  ? 0 : 1) : 0 <= q[1] && q[1] <= 1 :  >  ^ (0 <= q[0] && q[0] <= 1)) {\n\t        var q1 = d3_geo_cartesianScale(u, (-w + t) / uu);\n\t        d3_geo_cartesianAdd(q1, A);\n\t        return [ q, d3_geo_spherical(q1) ];\n\t      }\n\t    }\n\t    function code(, ) {\n\t      var r = smallRadius ? radius :  - radius, code = 0;\n\t      if ( < -r) code |= 1; else if ( > r) code |= 2;\n\t      if ( < -r) code |= 4; else if ( > r) code |= 8;\n\t      return code;\n\t    }\n\t  }\n\t  function d3_geom_clipLine(x0, y0, x1, y1) {\n\t    return function(line) {\n\t      var a = line.a, b = line.b, ax = a.x, ay = a.y, bx = b.x, by = b.y, t0 = 0, t1 = 1, dx = bx - ax, dy = by - ay, r;\n\t      r = x0 - ax;\n\t      if (!dx && r > 0) return;\n\t      r /= dx;\n\t      if (dx < 0) {\n\t        if (r < t0) return;\n\t        if (r < t1) t1 = r;\n\t      } else if (dx > 0) {\n\t        if (r > t1) return;\n\t        if (r > t0) t0 = r;\n\t      }\n\t      r = x1 - ax;\n\t      if (!dx && r < 0) return;\n\t      r /= dx;\n\t      if (dx < 0) {\n\t        if (r > t1) return;\n\t        if (r > t0) t0 = r;\n\t      } else if (dx > 0) {\n\t        if (r < t0) return;\n\t        if (r < t1) t1 = r;\n\t      }\n\t      r = y0 - ay;\n\t      if (!dy && r > 0) return;\n\t      r /= dy;\n\t      if (dy < 0) {\n\t        if (r < t0) return;\n\t        if (r < t1) t1 = r;\n\t      } else if (dy > 0) {\n\t        if (r > t1) return;\n\t        if (r > t0) t0 = r;\n\t      }\n\t      r = y1 - ay;\n\t      if (!dy && r < 0) return;\n\t      r /= dy;\n\t      if (dy < 0) {\n\t        if (r > t1) return;\n\t        if (r > t0) t0 = r;\n\t      } else if (dy > 0) {\n\t        if (r < t0) return;\n\t        if (r < t1) t1 = r;\n\t      }\n\t      if (t0 > 0) line.a = {\n\t        x: ax + t0 * dx,\n\t        y: ay + t0 * dy\n\t      };\n\t      if (t1 < 1) line.b = {\n\t        x: ax + t1 * dx,\n\t        y: ay + t1 * dy\n\t      };\n\t      return line;\n\t    };\n\t  }\n\t  var d3_geo_clipExtentMAX = 1e9;\n\t  d3.geo.clipExtent = function() {\n\t    var x0, y0, x1, y1, stream, clip, clipExtent = {\n\t      stream: function(output) {\n\t        if (stream) stream.valid = false;\n\t        stream = clip(output);\n\t        stream.valid = true;\n\t        return stream;\n\t      },\n\t      extent: function(_) {\n\t        if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n\t        clip = d3_geo_clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]);\n\t        if (stream) stream.valid = false, stream = null;\n\t        return clipExtent;\n\t      }\n\t    };\n\t    return clipExtent.extent([ [ 0, 0 ], [ 960, 500 ] ]);\n\t  };\n\t  function d3_geo_clipExtent(x0, y0, x1, y1) {\n\t    return function(listener) {\n\t      var listener_ = listener, bufferListener = d3_geo_clipBufferListener(), clipLine = d3_geom_clipLine(x0, y0, x1, y1), segments, polygon, ring;\n\t      var clip = {\n\t        point: point,\n\t        lineStart: lineStart,\n\t        lineEnd: lineEnd,\n\t        polygonStart: function() {\n\t          listener = bufferListener;\n\t          segments = [];\n\t          polygon = [];\n\t          clean = true;\n\t        },\n\t        polygonEnd: function() {\n\t          listener = listener_;\n\t          segments = d3.merge(segments);\n\t          var clipStartInside = insidePolygon([ x0, y1 ]), inside = clean && clipStartInside, visible = segments.length;\n\t          if (inside || visible) {\n\t            listener.polygonStart();\n\t            if (inside) {\n\t              listener.lineStart();\n\t              interpolate(null, null, 1, listener);\n\t              listener.lineEnd();\n\t            }\n\t            if (visible) {\n\t              d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener);\n\t            }\n\t            listener.polygonEnd();\n\t          }\n\t          segments = polygon = ring = null;\n\t        }\n\t      };\n\t      function insidePolygon(p) {\n\t        var wn = 0, n = polygon.length, y = p[1];\n\t        for (var i = 0; i < n; ++i) {\n\t          for (var j = 1, v = polygon[i], m = v.length, a = v[0], b; j < m; ++j) {\n\t            b = v[j];\n\t            if (a[1] <= y) {\n\t              if (b[1] > y && d3_cross2d(a, b, p) > 0) ++wn;\n\t            } else {\n\t              if (b[1] <= y && d3_cross2d(a, b, p) < 0) --wn;\n\t            }\n\t            a = b;\n\t          }\n\t        }\n\t        return wn !== 0;\n\t      }\n\t      function interpolate(from, to, direction, listener) {\n\t        var a = 0, a1 = 0;\n\t        if (from == null || (a = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoints(from, to) < 0 ^ direction > 0) {\n\t          do {\n\t            listener.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n\t          } while ((a = (a + direction + 4) % 4) !== a1);\n\t        } else {\n\t          listener.point(to[0], to[1]);\n\t        }\n\t      }\n\t      function pointVisible(x, y) {\n\t        return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n\t      }\n\t      function point(x, y) {\n\t        if (pointVisible(x, y)) listener.point(x, y);\n\t      }\n\t      var x__, y__, v__, x_, y_, v_, first, clean;\n\t      function lineStart() {\n\t        clip.point = linePoint;\n\t        if (polygon) polygon.push(ring = []);\n\t        first = true;\n\t        v_ = false;\n\t        x_ = y_ = NaN;\n\t      }\n\t      function lineEnd() {\n\t        if (segments) {\n\t          linePoint(x__, y__);\n\t          if (v__ && v_) bufferListener.rejoin();\n\t          segments.push(bufferListener.buffer());\n\t        }\n\t        clip.point = point;\n\t        if (v_) listener.lineEnd();\n\t      }\n\t      function linePoint(x, y) {\n\t        x = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, x));\n\t        y = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, y));\n\t        var v = pointVisible(x, y);\n\t        if (polygon) ring.push([ x, y ]);\n\t        if (first) {\n\t          x__ = x, y__ = y, v__ = v;\n\t          first = false;\n\t          if (v) {\n\t            listener.lineStart();\n\t            listener.point(x, y);\n\t          }\n\t        } else {\n\t          if (v && v_) listener.point(x, y); else {\n\t            var l = {\n\t              a: {\n\t                x: x_,\n\t                y: y_\n\t              },\n\t              b: {\n\t                x: x,\n\t                y: y\n\t              }\n\t            };\n\t            if (clipLine(l)) {\n\t              if (!v_) {\n\t                listener.lineStart();\n\t                listener.point(l.a.x, l.a.y);\n\t              }\n\t              listener.point(l.b.x, l.b.y);\n\t              if (!v) listener.lineEnd();\n\t              clean = false;\n\t            } else if (v) {\n\t              listener.lineStart();\n\t              listener.point(x, y);\n\t              clean = false;\n\t            }\n\t          }\n\t        }\n\t        x_ = x, y_ = y, v_ = v;\n\t      }\n\t      return clip;\n\t    };\n\t    function corner(p, direction) {\n\t      return abs(p[0] - x0) <  ? direction > 0 ? 0 : 3 : abs(p[0] - x1) <  ? direction > 0 ? 2 : 1 : abs(p[1] - y0) <  ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2;\n\t    }\n\t    function compare(a, b) {\n\t      return comparePoints(a.x, b.x);\n\t    }\n\t    function comparePoints(a, b) {\n\t      var ca = corner(a, 1), cb = corner(b, 1);\n\t      return ca !== cb ? ca - cb : ca === 0 ? b[1] - a[1] : ca === 1 ? a[0] - b[0] : ca === 2 ? a[1] - b[1] : b[0] - a[0];\n\t    }\n\t  }\n\t  function d3_geo_conic(projectAt) {\n\t    var 0 = 0, 1 =  / 3, m = d3_geo_projectionMutator(projectAt), p = m(0, 1);\n\t    p.parallels = function(_) {\n\t      if (!arguments.length) return [ 0 /  * 180, 1 /  * 180 ];\n\t      return m(0 = _[0] *  / 180, 1 = _[1] *  / 180);\n\t    };\n\t    return p;\n\t  }\n\t  function d3_geo_conicEqualArea(0, 1) {\n\t    var sin0 = Math.sin(0), n = (sin0 + Math.sin(1)) / 2, C = 1 + sin0 * (2 * n - sin0), 0 = Math.sqrt(C) / n;\n\t    function forward(, ) {\n\t      var  = Math.sqrt(C - 2 * n * Math.sin()) / n;\n\t      return [  * Math.sin( *= n), 0 -  * Math.cos() ];\n\t    }\n\t    forward.invert = function(x, y) {\n\t      var 0_y = 0 - y;\n\t      return [ Math.atan2(x, 0_y) / n, d3_asin((C - (x * x + 0_y * 0_y) * n * n) / (2 * n)) ];\n\t    };\n\t    return forward;\n\t  }\n\t  (d3.geo.conicEqualArea = function() {\n\t    return d3_geo_conic(d3_geo_conicEqualArea);\n\t  }).raw = d3_geo_conicEqualArea;\n\t  d3.geo.albers = function() {\n\t    return d3.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);\n\t  };\n\t  d3.geo.albersUsa = function() {\n\t    var lower48 = d3.geo.albers();\n\t    var alaska = d3.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]);\n\t    var hawaii = d3.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]);\n\t    var point, pointStream = {\n\t      point: function(x, y) {\n\t        point = [ x, y ];\n\t      }\n\t    }, lower48Point, alaskaPoint, hawaiiPoint;\n\t    function albersUsa(coordinates) {\n\t      var x = coordinates[0], y = coordinates[1];\n\t      point = null;\n\t      (lower48Point(x, y), point) || (alaskaPoint(x, y), point) || hawaiiPoint(x, y);\n\t      return point;\n\t    }\n\t    albersUsa.invert = function(coordinates) {\n\t      var k = lower48.scale(), t = lower48.translate(), x = (coordinates[0] - t[0]) / k, y = (coordinates[1] - t[1]) / k;\n\t      return (y >= .12 && y < .234 && x >= -.425 && x < -.214 ? alaska : y >= .166 && y < .234 && x >= -.214 && x < -.115 ? hawaii : lower48).invert(coordinates);\n\t    };\n\t    albersUsa.stream = function(stream) {\n\t      var lower48Stream = lower48.stream(stream), alaskaStream = alaska.stream(stream), hawaiiStream = hawaii.stream(stream);\n\t      return {\n\t        point: function(x, y) {\n\t          lower48Stream.point(x, y);\n\t          alaskaStream.point(x, y);\n\t          hawaiiStream.point(x, y);\n\t        },\n\t        sphere: function() {\n\t          lower48Stream.sphere();\n\t          alaskaStream.sphere();\n\t          hawaiiStream.sphere();\n\t        },\n\t        lineStart: function() {\n\t          lower48Stream.lineStart();\n\t          alaskaStream.lineStart();\n\t          hawaiiStream.lineStart();\n\t        },\n\t        lineEnd: function() {\n\t          lower48Stream.lineEnd();\n\t          alaskaStream.lineEnd();\n\t          hawaiiStream.lineEnd();\n\t        },\n\t        polygonStart: function() {\n\t          lower48Stream.polygonStart();\n\t          alaskaStream.polygonStart();\n\t          hawaiiStream.polygonStart();\n\t        },\n\t        polygonEnd: function() {\n\t          lower48Stream.polygonEnd();\n\t          alaskaStream.polygonEnd();\n\t          hawaiiStream.polygonEnd();\n\t        }\n\t      };\n\t    };\n\t    albersUsa.precision = function(_) {\n\t      if (!arguments.length) return lower48.precision();\n\t      lower48.precision(_);\n\t      alaska.precision(_);\n\t      hawaii.precision(_);\n\t      return albersUsa;\n\t    };\n\t    albersUsa.scale = function(_) {\n\t      if (!arguments.length) return lower48.scale();\n\t      lower48.scale(_);\n\t      alaska.scale(_ * .35);\n\t      hawaii.scale(_);\n\t      return albersUsa.translate(lower48.translate());\n\t    };\n\t    albersUsa.translate = function(_) {\n\t      if (!arguments.length) return lower48.translate();\n\t      var k = lower48.scale(), x = +_[0], y = +_[1];\n\t      lower48Point = lower48.translate(_).clipExtent([ [ x - .455 * k, y - .238 * k ], [ x + .455 * k, y + .238 * k ] ]).stream(pointStream).point;\n\t      alaskaPoint = alaska.translate([ x - .307 * k, y + .201 * k ]).clipExtent([ [ x - .425 * k + , y + .12 * k +  ], [ x - .214 * k - , y + .234 * k -  ] ]).stream(pointStream).point;\n\t      hawaiiPoint = hawaii.translate([ x - .205 * k, y + .212 * k ]).clipExtent([ [ x - .214 * k + , y + .166 * k +  ], [ x - .115 * k - , y + .234 * k -  ] ]).stream(pointStream).point;\n\t      return albersUsa;\n\t    };\n\t    return albersUsa.scale(1070);\n\t  };\n\t  var d3_geo_pathAreaSum, d3_geo_pathAreaPolygon, d3_geo_pathArea = {\n\t    point: d3_noop,\n\t    lineStart: d3_noop,\n\t    lineEnd: d3_noop,\n\t    polygonStart: function() {\n\t      d3_geo_pathAreaPolygon = 0;\n\t      d3_geo_pathArea.lineStart = d3_geo_pathAreaRingStart;\n\t    },\n\t    polygonEnd: function() {\n\t      d3_geo_pathArea.lineStart = d3_geo_pathArea.lineEnd = d3_geo_pathArea.point = d3_noop;\n\t      d3_geo_pathAreaSum += abs(d3_geo_pathAreaPolygon / 2);\n\t    }\n\t  };\n\t  function d3_geo_pathAreaRingStart() {\n\t    var x00, y00, x0, y0;\n\t    d3_geo_pathArea.point = function(x, y) {\n\t      d3_geo_pathArea.point = nextPoint;\n\t      x00 = x0 = x, y00 = y0 = y;\n\t    };\n\t    function nextPoint(x, y) {\n\t      d3_geo_pathAreaPolygon += y0 * x - x0 * y;\n\t      x0 = x, y0 = y;\n\t    }\n\t    d3_geo_pathArea.lineEnd = function() {\n\t      nextPoint(x00, y00);\n\t    };\n\t  }\n\t  var d3_geo_pathBoundsX0, d3_geo_pathBoundsY0, d3_geo_pathBoundsX1, d3_geo_pathBoundsY1;\n\t  var d3_geo_pathBounds = {\n\t    point: d3_geo_pathBoundsPoint,\n\t    lineStart: d3_noop,\n\t    lineEnd: d3_noop,\n\t    polygonStart: d3_noop,\n\t    polygonEnd: d3_noop\n\t  };\n\t  function d3_geo_pathBoundsPoint(x, y) {\n\t    if (x < d3_geo_pathBoundsX0) d3_geo_pathBoundsX0 = x;\n\t    if (x > d3_geo_pathBoundsX1) d3_geo_pathBoundsX1 = x;\n\t    if (y < d3_geo_pathBoundsY0) d3_geo_pathBoundsY0 = y;\n\t    if (y > d3_geo_pathBoundsY1) d3_geo_pathBoundsY1 = y;\n\t  }\n\t  function d3_geo_pathBuffer() {\n\t    var pointCircle = d3_geo_pathBufferCircle(4.5), buffer = [];\n\t    var stream = {\n\t      point: point,\n\t      lineStart: function() {\n\t        stream.point = pointLineStart;\n\t      },\n\t      lineEnd: lineEnd,\n\t      polygonStart: function() {\n\t        stream.lineEnd = lineEndPolygon;\n\t      },\n\t      polygonEnd: function() {\n\t        stream.lineEnd = lineEnd;\n\t        stream.point = point;\n\t      },\n\t      pointRadius: function(_) {\n\t        pointCircle = d3_geo_pathBufferCircle(_);\n\t        return stream;\n\t      },\n\t      result: function() {\n\t        if (buffer.length) {\n\t          var result = buffer.join(\"\");\n\t          buffer = [];\n\t          return result;\n\t        }\n\t      }\n\t    };\n\t    function point(x, y) {\n\t      buffer.push(\"M\", x, \",\", y, pointCircle);\n\t    }\n\t    function pointLineStart(x, y) {\n\t      buffer.push(\"M\", x, \",\", y);\n\t      stream.point = pointLine;\n\t    }\n\t    function pointLine(x, y) {\n\t      buffer.push(\"L\", x, \",\", y);\n\t    }\n\t    function lineEnd() {\n\t      stream.point = point;\n\t    }\n\t    function lineEndPolygon() {\n\t      buffer.push(\"Z\");\n\t    }\n\t    return stream;\n\t  }\n\t  function d3_geo_pathBufferCircle(radius) {\n\t    return \"m0,\" + radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius + \"z\";\n\t  }\n\t  var d3_geo_pathCentroid = {\n\t    point: d3_geo_pathCentroidPoint,\n\t    lineStart: d3_geo_pathCentroidLineStart,\n\t    lineEnd: d3_geo_pathCentroidLineEnd,\n\t    polygonStart: function() {\n\t      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidRingStart;\n\t    },\n\t    polygonEnd: function() {\n\t      d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n\t      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidLineStart;\n\t      d3_geo_pathCentroid.lineEnd = d3_geo_pathCentroidLineEnd;\n\t    }\n\t  };\n\t  function d3_geo_pathCentroidPoint(x, y) {\n\t    d3_geo_centroidX0 += x;\n\t    d3_geo_centroidY0 += y;\n\t    ++d3_geo_centroidZ0;\n\t  }\n\t  function d3_geo_pathCentroidLineStart() {\n\t    var x0, y0;\n\t    d3_geo_pathCentroid.point = function(x, y) {\n\t      d3_geo_pathCentroid.point = nextPoint;\n\t      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n\t    };\n\t    function nextPoint(x, y) {\n\t      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n\t      d3_geo_centroidX1 += z * (x0 + x) / 2;\n\t      d3_geo_centroidY1 += z * (y0 + y) / 2;\n\t      d3_geo_centroidZ1 += z;\n\t      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n\t    }\n\t  }\n\t  function d3_geo_pathCentroidLineEnd() {\n\t    d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n\t  }\n\t  function d3_geo_pathCentroidRingStart() {\n\t    var x00, y00, x0, y0;\n\t    d3_geo_pathCentroid.point = function(x, y) {\n\t      d3_geo_pathCentroid.point = nextPoint;\n\t      d3_geo_pathCentroidPoint(x00 = x0 = x, y00 = y0 = y);\n\t    };\n\t    function nextPoint(x, y) {\n\t      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n\t      d3_geo_centroidX1 += z * (x0 + x) / 2;\n\t      d3_geo_centroidY1 += z * (y0 + y) / 2;\n\t      d3_geo_centroidZ1 += z;\n\t      z = y0 * x - x0 * y;\n\t      d3_geo_centroidX2 += z * (x0 + x);\n\t      d3_geo_centroidY2 += z * (y0 + y);\n\t      d3_geo_centroidZ2 += z * 3;\n\t      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n\t    }\n\t    d3_geo_pathCentroid.lineEnd = function() {\n\t      nextPoint(x00, y00);\n\t    };\n\t  }\n\t  function d3_geo_pathContext(context) {\n\t    var pointRadius = 4.5;\n\t    var stream = {\n\t      point: point,\n\t      lineStart: function() {\n\t        stream.point = pointLineStart;\n\t      },\n\t      lineEnd: lineEnd,\n\t      polygonStart: function() {\n\t        stream.lineEnd = lineEndPolygon;\n\t      },\n\t      polygonEnd: function() {\n\t        stream.lineEnd = lineEnd;\n\t        stream.point = point;\n\t      },\n\t      pointRadius: function(_) {\n\t        pointRadius = _;\n\t        return stream;\n\t      },\n\t      result: d3_noop\n\t    };\n\t    function point(x, y) {\n\t      context.moveTo(x + pointRadius, y);\n\t      context.arc(x, y, pointRadius, 0, );\n\t    }\n\t    function pointLineStart(x, y) {\n\t      context.moveTo(x, y);\n\t      stream.point = pointLine;\n\t    }\n\t    function pointLine(x, y) {\n\t      context.lineTo(x, y);\n\t    }\n\t    function lineEnd() {\n\t      stream.point = point;\n\t    }\n\t    function lineEndPolygon() {\n\t      context.closePath();\n\t    }\n\t    return stream;\n\t  }\n\t  function d3_geo_resample(project) {\n\t    var 2 = .5, cosMinDistance = Math.cos(30 * d3_radians), maxDepth = 16;\n\t    function resample(stream) {\n\t      return (maxDepth ? resampleRecursive : resampleNone)(stream);\n\t    }\n\t    function resampleNone(stream) {\n\t      return d3_geo_transformPoint(stream, function(x, y) {\n\t        x = project(x, y);\n\t        stream.point(x[0], x[1]);\n\t      });\n\t    }\n\t    function resampleRecursive(stream) {\n\t      var 00, 00, x00, y00, a00, b00, c00, 0, x0, y0, a0, b0, c0;\n\t      var resample = {\n\t        point: point,\n\t        lineStart: lineStart,\n\t        lineEnd: lineEnd,\n\t        polygonStart: function() {\n\t          stream.polygonStart();\n\t          resample.lineStart = ringStart;\n\t        },\n\t        polygonEnd: function() {\n\t          stream.polygonEnd();\n\t          resample.lineStart = lineStart;\n\t        }\n\t      };\n\t      function point(x, y) {\n\t        x = project(x, y);\n\t        stream.point(x[0], x[1]);\n\t      }\n\t      function lineStart() {\n\t        x0 = NaN;\n\t        resample.point = linePoint;\n\t        stream.lineStart();\n\t      }\n\t      function linePoint(, ) {\n\t        var c = d3_geo_cartesian([ ,  ]), p = project(, );\n\t        resampleLineTo(x0, y0, 0, a0, b0, c0, x0 = p[0], y0 = p[1], 0 = , a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n\t        stream.point(x0, y0);\n\t      }\n\t      function lineEnd() {\n\t        resample.point = point;\n\t        stream.lineEnd();\n\t      }\n\t      function ringStart() {\n\t        lineStart();\n\t        resample.point = ringPoint;\n\t        resample.lineEnd = ringEnd;\n\t      }\n\t      function ringPoint(, ) {\n\t        linePoint(00 = , 00 = ), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n\t        resample.point = linePoint;\n\t      }\n\t      function ringEnd() {\n\t        resampleLineTo(x0, y0, 0, a0, b0, c0, x00, y00, 00, a00, b00, c00, maxDepth, stream);\n\t        resample.lineEnd = lineEnd;\n\t        lineEnd();\n\t      }\n\t      return resample;\n\t    }\n\t    function resampleLineTo(x0, y0, 0, a0, b0, c0, x1, y1, 1, a1, b1, c1, depth, stream) {\n\t      var dx = x1 - x0, dy = y1 - y0, d2 = dx * dx + dy * dy;\n\t      if (d2 > 4 * 2 && depth--) {\n\t        var a = a0 + a1, b = b0 + b1, c = c0 + c1, m = Math.sqrt(a * a + b * b + c * c), 2 = Math.asin(c /= m), 2 = abs(abs(c) - 1) <  || abs(0 - 1) <  ? (0 + 1) / 2 : Math.atan2(b, a), p = project(2, 2), x2 = p[0], y2 = p[1], dx2 = x2 - x0, dy2 = y2 - y0, dz = dy * dx2 - dx * dy2;\n\t        if (dz * dz / d2 > 2 || abs((dx * dx2 + dy * dy2) / d2 - .5) > .3 || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) {\n\t          resampleLineTo(x0, y0, 0, a0, b0, c0, x2, y2, 2, a /= m, b /= m, c, depth, stream);\n\t          stream.point(x2, y2);\n\t          resampleLineTo(x2, y2, 2, a, b, c, x1, y1, 1, a1, b1, c1, depth, stream);\n\t        }\n\t      }\n\t    }\n\t    resample.precision = function(_) {\n\t      if (!arguments.length) return Math.sqrt(2);\n\t      maxDepth = (2 = _ * _) > 0 && 16;\n\t      return resample;\n\t    };\n\t    return resample;\n\t  }\n\t  d3.geo.path = function() {\n\t    var pointRadius = 4.5, projection, context, projectStream, contextStream, cacheStream;\n\t    function path(object) {\n\t      if (object) {\n\t        if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n\t        if (!cacheStream || !cacheStream.valid) cacheStream = projectStream(contextStream);\n\t        d3.geo.stream(object, cacheStream);\n\t      }\n\t      return contextStream.result();\n\t    }\n\t    path.area = function(object) {\n\t      d3_geo_pathAreaSum = 0;\n\t      d3.geo.stream(object, projectStream(d3_geo_pathArea));\n\t      return d3_geo_pathAreaSum;\n\t    };\n\t    path.centroid = function(object) {\n\t      d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n\t      d3.geo.stream(object, projectStream(d3_geo_pathCentroid));\n\t      return d3_geo_centroidZ2 ? [ d3_geo_centroidX2 / d3_geo_centroidZ2, d3_geo_centroidY2 / d3_geo_centroidZ2 ] : d3_geo_centroidZ1 ? [ d3_geo_centroidX1 / d3_geo_centroidZ1, d3_geo_centroidY1 / d3_geo_centroidZ1 ] : d3_geo_centroidZ0 ? [ d3_geo_centroidX0 / d3_geo_centroidZ0, d3_geo_centroidY0 / d3_geo_centroidZ0 ] : [ NaN, NaN ];\n\t    };\n\t    path.bounds = function(object) {\n\t      d3_geo_pathBoundsX1 = d3_geo_pathBoundsY1 = -(d3_geo_pathBoundsX0 = d3_geo_pathBoundsY0 = Infinity);\n\t      d3.geo.stream(object, projectStream(d3_geo_pathBounds));\n\t      return [ [ d3_geo_pathBoundsX0, d3_geo_pathBoundsY0 ], [ d3_geo_pathBoundsX1, d3_geo_pathBoundsY1 ] ];\n\t    };\n\t    path.projection = function(_) {\n\t      if (!arguments.length) return projection;\n\t      projectStream = (projection = _) ? _.stream || d3_geo_pathProjectStream(_) : d3_identity;\n\t      return reset();\n\t    };\n\t    path.context = function(_) {\n\t      if (!arguments.length) return context;\n\t      contextStream = (context = _) == null ? new d3_geo_pathBuffer() : new d3_geo_pathContext(_);\n\t      if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n\t      return reset();\n\t    };\n\t    path.pointRadius = function(_) {\n\t      if (!arguments.length) return pointRadius;\n\t      pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n\t      return path;\n\t    };\n\t    function reset() {\n\t      cacheStream = null;\n\t      return path;\n\t    }\n\t    return path.projection(d3.geo.albersUsa()).context(null);\n\t  };\n\t  function d3_geo_pathProjectStream(project) {\n\t    var resample = d3_geo_resample(function(x, y) {\n\t      return project([ x * d3_degrees, y * d3_degrees ]);\n\t    });\n\t    return function(stream) {\n\t      return d3_geo_projectionRadians(resample(stream));\n\t    };\n\t  }\n\t  d3.geo.transform = function(methods) {\n\t    return {\n\t      stream: function(stream) {\n\t        var transform = new d3_geo_transform(stream);\n\t        for (var k in methods) transform[k] = methods[k];\n\t        return transform;\n\t      }\n\t    };\n\t  };\n\t  function d3_geo_transform(stream) {\n\t    this.stream = stream;\n\t  }\n\t  d3_geo_transform.prototype = {\n\t    point: function(x, y) {\n\t      this.stream.point(x, y);\n\t    },\n\t    sphere: function() {\n\t      this.stream.sphere();\n\t    },\n\t    lineStart: function() {\n\t      this.stream.lineStart();\n\t    },\n\t    lineEnd: function() {\n\t      this.stream.lineEnd();\n\t    },\n\t    polygonStart: function() {\n\t      this.stream.polygonStart();\n\t    },\n\t    polygonEnd: function() {\n\t      this.stream.polygonEnd();\n\t    }\n\t  };\n\t  function d3_geo_transformPoint(stream, point) {\n\t    return {\n\t      point: point,\n\t      sphere: function() {\n\t        stream.sphere();\n\t      },\n\t      lineStart: function() {\n\t        stream.lineStart();\n\t      },\n\t      lineEnd: function() {\n\t        stream.lineEnd();\n\t      },\n\t      polygonStart: function() {\n\t        stream.polygonStart();\n\t      },\n\t      polygonEnd: function() {\n\t        stream.polygonEnd();\n\t      }\n\t    };\n\t  }\n\t  d3.geo.projection = d3_geo_projection;\n\t  d3.geo.projectionMutator = d3_geo_projectionMutator;\n\t  function d3_geo_projection(project) {\n\t    return d3_geo_projectionMutator(function() {\n\t      return project;\n\t    })();\n\t  }\n\t  function d3_geo_projectionMutator(projectAt) {\n\t    var project, rotate, projectRotate, projectResample = d3_geo_resample(function(x, y) {\n\t      x = project(x, y);\n\t      return [ x[0] * k + x, y - x[1] * k ];\n\t    }), k = 150, x = 480, y = 250,  = 0,  = 0,  = 0,  = 0,  = 0, x, y, preclip = d3_geo_clipAntimeridian, postclip = d3_identity, clipAngle = null, clipExtent = null, stream;\n\t    function projection(point) {\n\t      point = projectRotate(point[0] * d3_radians, point[1] * d3_radians);\n\t      return [ point[0] * k + x, y - point[1] * k ];\n\t    }\n\t    function invert(point) {\n\t      point = projectRotate.invert((point[0] - x) / k, (y - point[1]) / k);\n\t      return point && [ point[0] * d3_degrees, point[1] * d3_degrees ];\n\t    }\n\t    projection.stream = function(output) {\n\t      if (stream) stream.valid = false;\n\t      stream = d3_geo_projectionRadians(preclip(rotate, projectResample(postclip(output))));\n\t      stream.valid = true;\n\t      return stream;\n\t    };\n\t    projection.clipAngle = function(_) {\n\t      if (!arguments.length) return clipAngle;\n\t      preclip = _ == null ? (clipAngle = _, d3_geo_clipAntimeridian) : d3_geo_clipCircle((clipAngle = +_) * d3_radians);\n\t      return invalidate();\n\t    };\n\t    projection.clipExtent = function(_) {\n\t      if (!arguments.length) return clipExtent;\n\t      clipExtent = _;\n\t      postclip = _ ? d3_geo_clipExtent(_[0][0], _[0][1], _[1][0], _[1][1]) : d3_identity;\n\t      return invalidate();\n\t    };\n\t    projection.scale = function(_) {\n\t      if (!arguments.length) return k;\n\t      k = +_;\n\t      return reset();\n\t    };\n\t    projection.translate = function(_) {\n\t      if (!arguments.length) return [ x, y ];\n\t      x = +_[0];\n\t      y = +_[1];\n\t      return reset();\n\t    };\n\t    projection.center = function(_) {\n\t      if (!arguments.length) return [  * d3_degrees,  * d3_degrees ];\n\t       = _[0] % 360 * d3_radians;\n\t       = _[1] % 360 * d3_radians;\n\t      return reset();\n\t    };\n\t    projection.rotate = function(_) {\n\t      if (!arguments.length) return [  * d3_degrees,  * d3_degrees,  * d3_degrees ];\n\t       = _[0] % 360 * d3_radians;\n\t       = _[1] % 360 * d3_radians;\n\t       = _.length > 2 ? _[2] % 360 * d3_radians : 0;\n\t      return reset();\n\t    };\n\t    d3.rebind(projection, projectResample, \"precision\");\n\t    function reset() {\n\t      projectRotate = d3_geo_compose(rotate = d3_geo_rotation(, , ), project);\n\t      var center = project(, );\n\t      x = x - center[0] * k;\n\t      y = y + center[1] * k;\n\t      return invalidate();\n\t    }\n\t    function invalidate() {\n\t      if (stream) stream.valid = false, stream = null;\n\t      return projection;\n\t    }\n\t    return function() {\n\t      project = projectAt.apply(this, arguments);\n\t      projection.invert = project.invert && invert;\n\t      return reset();\n\t    };\n\t  }\n\t  function d3_geo_projectionRadians(stream) {\n\t    return d3_geo_transformPoint(stream, function(x, y) {\n\t      stream.point(x * d3_radians, y * d3_radians);\n\t    });\n\t  }\n\t  function d3_geo_equirectangular(, ) {\n\t    return [ ,  ];\n\t  }\n\t  (d3.geo.equirectangular = function() {\n\t    return d3_geo_projection(d3_geo_equirectangular);\n\t  }).raw = d3_geo_equirectangular.invert = d3_geo_equirectangular;\n\t  d3.geo.rotation = function(rotate) {\n\t    rotate = d3_geo_rotation(rotate[0] % 360 * d3_radians, rotate[1] * d3_radians, rotate.length > 2 ? rotate[2] * d3_radians : 0);\n\t    function forward(coordinates) {\n\t      coordinates = rotate(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n\t      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n\t    }\n\t    forward.invert = function(coordinates) {\n\t      coordinates = rotate.invert(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n\t      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n\t    };\n\t    return forward;\n\t  };\n\t  function d3_geo_identityRotation(, ) {\n\t    return [  >  ?  -  :  < - ?  +  : ,  ];\n\t  }\n\t  d3_geo_identityRotation.invert = d3_geo_equirectangular;\n\t  function d3_geo_rotation(, , ) {\n\t    return  ?  ||  ? d3_geo_compose(d3_geo_rotation(), d3_geo_rotation(, )) : d3_geo_rotation() :  ||  ? d3_geo_rotation(, ) : d3_geo_identityRotation;\n\t  }\n\t  function d3_geo_forwardRotation() {\n\t    return function(, ) {\n\t      return  += , [  >  ?  -  :  < - ?  +  : ,  ];\n\t    };\n\t  }\n\t  function d3_geo_rotation() {\n\t    var rotation = d3_geo_forwardRotation();\n\t    rotation.invert = d3_geo_forwardRotation(-);\n\t    return rotation;\n\t  }\n\t  function d3_geo_rotation(, ) {\n\t    var cos = Math.cos(), sin = Math.sin(), cos = Math.cos(), sin = Math.sin();\n\t    function rotation(, ) {\n\t      var cos = Math.cos(), x = Math.cos() * cos, y = Math.sin() * cos, z = Math.sin(), k = z * cos + x * sin;\n\t      return [ Math.atan2(y * cos - k * sin, x * cos - z * sin), d3_asin(k * cos + y * sin) ];\n\t    }\n\t    rotation.invert = function(, ) {\n\t      var cos = Math.cos(), x = Math.cos() * cos, y = Math.sin() * cos, z = Math.sin(), k = z * cos - y * sin;\n\t      return [ Math.atan2(y * cos + z * sin, x * cos + k * sin), d3_asin(k * cos - x * sin) ];\n\t    };\n\t    return rotation;\n\t  }\n\t  d3.geo.circle = function() {\n\t    var origin = [ 0, 0 ], angle, precision = 6, interpolate;\n\t    function circle() {\n\t      var center = typeof origin === \"function\" ? origin.apply(this, arguments) : origin, rotate = d3_geo_rotation(-center[0] * d3_radians, -center[1] * d3_radians, 0).invert, ring = [];\n\t      interpolate(null, null, 1, {\n\t        point: function(x, y) {\n\t          ring.push(x = rotate(x, y));\n\t          x[0] *= d3_degrees, x[1] *= d3_degrees;\n\t        }\n\t      });\n\t      return {\n\t        type: \"Polygon\",\n\t        coordinates: [ ring ]\n\t      };\n\t    }\n\t    circle.origin = function(x) {\n\t      if (!arguments.length) return origin;\n\t      origin = x;\n\t      return circle;\n\t    };\n\t    circle.angle = function(x) {\n\t      if (!arguments.length) return angle;\n\t      interpolate = d3_geo_circleInterpolate((angle = +x) * d3_radians, precision * d3_radians);\n\t      return circle;\n\t    };\n\t    circle.precision = function(_) {\n\t      if (!arguments.length) return precision;\n\t      interpolate = d3_geo_circleInterpolate(angle * d3_radians, (precision = +_) * d3_radians);\n\t      return circle;\n\t    };\n\t    return circle.angle(90);\n\t  };\n\t  function d3_geo_circleInterpolate(radius, precision) {\n\t    var cr = Math.cos(radius), sr = Math.sin(radius);\n\t    return function(from, to, direction, listener) {\n\t      var step = direction * precision;\n\t      if (from != null) {\n\t        from = d3_geo_circleAngle(cr, from);\n\t        to = d3_geo_circleAngle(cr, to);\n\t        if (direction > 0 ? from < to : from > to) from += direction * ;\n\t      } else {\n\t        from = radius + direction * ;\n\t        to = radius - .5 * step;\n\t      }\n\t      for (var point, t = from; direction > 0 ? t > to : t < to; t -= step) {\n\t        listener.point((point = d3_geo_spherical([ cr, -sr * Math.cos(t), -sr * Math.sin(t) ]))[0], point[1]);\n\t      }\n\t    };\n\t  }\n\t  function d3_geo_circleAngle(cr, point) {\n\t    var a = d3_geo_cartesian(point);\n\t    a[0] -= cr;\n\t    d3_geo_cartesianNormalize(a);\n\t    var angle = d3_acos(-a[1]);\n\t    return ((-a[2] < 0 ? -angle : angle) + 2 * Math.PI - ) % (2 * Math.PI);\n\t  }\n\t  d3.geo.distance = function(a, b) {\n\t    var  = (b[0] - a[0]) * d3_radians, 0 = a[1] * d3_radians, 1 = b[1] * d3_radians, sin = Math.sin(), cos = Math.cos(), sin0 = Math.sin(0), cos0 = Math.cos(0), sin1 = Math.sin(1), cos1 = Math.cos(1), t;\n\t    return Math.atan2(Math.sqrt((t = cos1 * sin) * t + (t = cos0 * sin1 - sin0 * cos1 * cos) * t), sin0 * sin1 + cos0 * cos1 * cos);\n\t  };\n\t  d3.geo.graticule = function() {\n\t    var x1, x0, X1, X0, y1, y0, Y1, Y0, dx = 10, dy = dx, DX = 90, DY = 360, x, y, X, Y, precision = 2.5;\n\t    function graticule() {\n\t      return {\n\t        type: \"MultiLineString\",\n\t        coordinates: lines()\n\t      };\n\t    }\n\t    function lines() {\n\t      return d3.range(Math.ceil(X0 / DX) * DX, X1, DX).map(X).concat(d3.range(Math.ceil(Y0 / DY) * DY, Y1, DY).map(Y)).concat(d3.range(Math.ceil(x0 / dx) * dx, x1, dx).filter(function(x) {\n\t        return abs(x % DX) > ;\n\t      }).map(x)).concat(d3.range(Math.ceil(y0 / dy) * dy, y1, dy).filter(function(y) {\n\t        return abs(y % DY) > ;\n\t      }).map(y));\n\t    }\n\t    graticule.lines = function() {\n\t      return lines().map(function(coordinates) {\n\t        return {\n\t          type: \"LineString\",\n\t          coordinates: coordinates\n\t        };\n\t      });\n\t    };\n\t    graticule.outline = function() {\n\t      return {\n\t        type: \"Polygon\",\n\t        coordinates: [ X(X0).concat(Y(Y1).slice(1), X(X1).reverse().slice(1), Y(Y0).reverse().slice(1)) ]\n\t      };\n\t    };\n\t    graticule.extent = function(_) {\n\t      if (!arguments.length) return graticule.minorExtent();\n\t      return graticule.majorExtent(_).minorExtent(_);\n\t    };\n\t    graticule.majorExtent = function(_) {\n\t      if (!arguments.length) return [ [ X0, Y0 ], [ X1, Y1 ] ];\n\t      X0 = +_[0][0], X1 = +_[1][0];\n\t      Y0 = +_[0][1], Y1 = +_[1][1];\n\t      if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n\t      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n\t      return graticule.precision(precision);\n\t    };\n\t    graticule.minorExtent = function(_) {\n\t      if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n\t      x0 = +_[0][0], x1 = +_[1][0];\n\t      y0 = +_[0][1], y1 = +_[1][1];\n\t      if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n\t      if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n\t      return graticule.precision(precision);\n\t    };\n\t    graticule.step = function(_) {\n\t      if (!arguments.length) return graticule.minorStep();\n\t      return graticule.majorStep(_).minorStep(_);\n\t    };\n\t    graticule.majorStep = function(_) {\n\t      if (!arguments.length) return [ DX, DY ];\n\t      DX = +_[0], DY = +_[1];\n\t      return graticule;\n\t    };\n\t    graticule.minorStep = function(_) {\n\t      if (!arguments.length) return [ dx, dy ];\n\t      dx = +_[0], dy = +_[1];\n\t      return graticule;\n\t    };\n\t    graticule.precision = function(_) {\n\t      if (!arguments.length) return precision;\n\t      precision = +_;\n\t      x = d3_geo_graticuleX(y0, y1, 90);\n\t      y = d3_geo_graticuleY(x0, x1, precision);\n\t      X = d3_geo_graticuleX(Y0, Y1, 90);\n\t      Y = d3_geo_graticuleY(X0, X1, precision);\n\t      return graticule;\n\t    };\n\t    return graticule.majorExtent([ [ -180, -90 +  ], [ 180, 90 -  ] ]).minorExtent([ [ -180, -80 -  ], [ 180, 80 +  ] ]);\n\t  };\n\t  function d3_geo_graticuleX(y0, y1, dy) {\n\t    var y = d3.range(y0, y1 - , dy).concat(y1);\n\t    return function(x) {\n\t      return y.map(function(y) {\n\t        return [ x, y ];\n\t      });\n\t    };\n\t  }\n\t  function d3_geo_graticuleY(x0, x1, dx) {\n\t    var x = d3.range(x0, x1 - , dx).concat(x1);\n\t    return function(y) {\n\t      return x.map(function(x) {\n\t        return [ x, y ];\n\t      });\n\t    };\n\t  }\n\t  function d3_source(d) {\n\t    return d.source;\n\t  }\n\t  function d3_target(d) {\n\t    return d.target;\n\t  }\n\t  d3.geo.greatArc = function() {\n\t    var source = d3_source, source_, target = d3_target, target_;\n\t    function greatArc() {\n\t      return {\n\t        type: \"LineString\",\n\t        coordinates: [ source_ || source.apply(this, arguments), target_ || target.apply(this, arguments) ]\n\t      };\n\t    }\n\t    greatArc.distance = function() {\n\t      return d3.geo.distance(source_ || source.apply(this, arguments), target_ || target.apply(this, arguments));\n\t    };\n\t    greatArc.source = function(_) {\n\t      if (!arguments.length) return source;\n\t      source = _, source_ = typeof _ === \"function\" ? null : _;\n\t      return greatArc;\n\t    };\n\t    greatArc.target = function(_) {\n\t      if (!arguments.length) return target;\n\t      target = _, target_ = typeof _ === \"function\" ? null : _;\n\t      return greatArc;\n\t    };\n\t    greatArc.precision = function() {\n\t      return arguments.length ? greatArc : 0;\n\t    };\n\t    return greatArc;\n\t  };\n\t  d3.geo.interpolate = function(source, target) {\n\t    return d3_geo_interpolate(source[0] * d3_radians, source[1] * d3_radians, target[0] * d3_radians, target[1] * d3_radians);\n\t  };\n\t  function d3_geo_interpolate(x0, y0, x1, y1) {\n\t    var cy0 = Math.cos(y0), sy0 = Math.sin(y0), cy1 = Math.cos(y1), sy1 = Math.sin(y1), kx0 = cy0 * Math.cos(x0), ky0 = cy0 * Math.sin(x0), kx1 = cy1 * Math.cos(x1), ky1 = cy1 * Math.sin(x1), d = 2 * Math.asin(Math.sqrt(d3_haversin(y1 - y0) + cy0 * cy1 * d3_haversin(x1 - x0))), k = 1 / Math.sin(d);\n\t    var interpolate = d ? function(t) {\n\t      var B = Math.sin(t *= d) * k, A = Math.sin(d - t) * k, x = A * kx0 + B * kx1, y = A * ky0 + B * ky1, z = A * sy0 + B * sy1;\n\t      return [ Math.atan2(y, x) * d3_degrees, Math.atan2(z, Math.sqrt(x * x + y * y)) * d3_degrees ];\n\t    } : function() {\n\t      return [ x0 * d3_degrees, y0 * d3_degrees ];\n\t    };\n\t    interpolate.distance = d;\n\t    return interpolate;\n\t  }\n\t  d3.geo.length = function(object) {\n\t    d3_geo_lengthSum = 0;\n\t    d3.geo.stream(object, d3_geo_length);\n\t    return d3_geo_lengthSum;\n\t  };\n\t  var d3_geo_lengthSum;\n\t  var d3_geo_length = {\n\t    sphere: d3_noop,\n\t    point: d3_noop,\n\t    lineStart: d3_geo_lengthLineStart,\n\t    lineEnd: d3_noop,\n\t    polygonStart: d3_noop,\n\t    polygonEnd: d3_noop\n\t  };\n\t  function d3_geo_lengthLineStart() {\n\t    var 0, sin0, cos0;\n\t    d3_geo_length.point = function(, ) {\n\t      0 =  * d3_radians, sin0 = Math.sin( *= d3_radians), cos0 = Math.cos();\n\t      d3_geo_length.point = nextPoint;\n\t    };\n\t    d3_geo_length.lineEnd = function() {\n\t      d3_geo_length.point = d3_geo_length.lineEnd = d3_noop;\n\t    };\n\t    function nextPoint(, ) {\n\t      var sin = Math.sin( *= d3_radians), cos = Math.cos(), t = abs(( *= d3_radians) - 0), cos = Math.cos(t);\n\t      d3_geo_lengthSum += Math.atan2(Math.sqrt((t = cos * Math.sin(t)) * t + (t = cos0 * sin - sin0 * cos * cos) * t), sin0 * sin + cos0 * cos * cos);\n\t      0 = , sin0 = sin, cos0 = cos;\n\t    }\n\t  }\n\t  function d3_geo_azimuthal(scale, angle) {\n\t    function azimuthal(, ) {\n\t      var cos = Math.cos(), cos = Math.cos(), k = scale(cos * cos);\n\t      return [ k * cos * Math.sin(), k * Math.sin() ];\n\t    }\n\t    azimuthal.invert = function(x, y) {\n\t      var  = Math.sqrt(x * x + y * y), c = angle(), sinc = Math.sin(c), cosc = Math.cos(c);\n\t      return [ Math.atan2(x * sinc,  * cosc), Math.asin( && y * sinc / ) ];\n\t    };\n\t    return azimuthal;\n\t  }\n\t  var d3_geo_azimuthalEqualArea = d3_geo_azimuthal(function(coscos) {\n\t    return Math.sqrt(2 / (1 + coscos));\n\t  }, function() {\n\t    return 2 * Math.asin( / 2);\n\t  });\n\t  (d3.geo.azimuthalEqualArea = function() {\n\t    return d3_geo_projection(d3_geo_azimuthalEqualArea);\n\t  }).raw = d3_geo_azimuthalEqualArea;\n\t  var d3_geo_azimuthalEquidistant = d3_geo_azimuthal(function(coscos) {\n\t    var c = Math.acos(coscos);\n\t    return c && c / Math.sin(c);\n\t  }, d3_identity);\n\t  (d3.geo.azimuthalEquidistant = function() {\n\t    return d3_geo_projection(d3_geo_azimuthalEquidistant);\n\t  }).raw = d3_geo_azimuthalEquidistant;\n\t  function d3_geo_conicConformal(0, 1) {\n\t    var cos0 = Math.cos(0), t = function() {\n\t      return Math.tan( / 4 +  / 2);\n\t    }, n = 0 === 1 ? Math.sin(0) : Math.log(cos0 / Math.cos(1)) / Math.log(t(1) / t(0)), F = cos0 * Math.pow(t(0), n) / n;\n\t    if (!n) return d3_geo_mercator;\n\t    function forward(, ) {\n\t      if (F > 0) {\n\t        if ( < -half + )  = -half + ;\n\t      } else {\n\t        if ( > half - )  = half - ;\n\t      }\n\t      var  = F / Math.pow(t(), n);\n\t      return [  * Math.sin(n * ), F -  * Math.cos(n * ) ];\n\t    }\n\t    forward.invert = function(x, y) {\n\t      var 0_y = F - y,  = d3_sgn(n) * Math.sqrt(x * x + 0_y * 0_y);\n\t      return [ Math.atan2(x, 0_y) / n, 2 * Math.atan(Math.pow(F / , 1 / n)) - half ];\n\t    };\n\t    return forward;\n\t  }\n\t  (d3.geo.conicConformal = function() {\n\t    return d3_geo_conic(d3_geo_conicConformal);\n\t  }).raw = d3_geo_conicConformal;\n\t  function d3_geo_conicEquidistant(0, 1) {\n\t    var cos0 = Math.cos(0), n = 0 === 1 ? Math.sin(0) : (cos0 - Math.cos(1)) / (1 - 0), G = cos0 / n + 0;\n\t    if (abs(n) < ) return d3_geo_equirectangular;\n\t    function forward(, ) {\n\t      var  = G - ;\n\t      return [  * Math.sin(n * ), G -  * Math.cos(n * ) ];\n\t    }\n\t    forward.invert = function(x, y) {\n\t      var 0_y = G - y;\n\t      return [ Math.atan2(x, 0_y) / n, G - d3_sgn(n) * Math.sqrt(x * x + 0_y * 0_y) ];\n\t    };\n\t    return forward;\n\t  }\n\t  (d3.geo.conicEquidistant = function() {\n\t    return d3_geo_conic(d3_geo_conicEquidistant);\n\t  }).raw = d3_geo_conicEquidistant;\n\t  var d3_geo_gnomonic = d3_geo_azimuthal(function(coscos) {\n\t    return 1 / coscos;\n\t  }, Math.atan);\n\t  (d3.geo.gnomonic = function() {\n\t    return d3_geo_projection(d3_geo_gnomonic);\n\t  }).raw = d3_geo_gnomonic;\n\t  function d3_geo_mercator(, ) {\n\t    return [ , Math.log(Math.tan( / 4 +  / 2)) ];\n\t  }\n\t  d3_geo_mercator.invert = function(x, y) {\n\t    return [ x, 2 * Math.atan(Math.exp(y)) - half ];\n\t  };\n\t  function d3_geo_mercatorProjection(project) {\n\t    var m = d3_geo_projection(project), scale = m.scale, translate = m.translate, clipExtent = m.clipExtent, clipAuto;\n\t    m.scale = function() {\n\t      var v = scale.apply(m, arguments);\n\t      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n\t    };\n\t    m.translate = function() {\n\t      var v = translate.apply(m, arguments);\n\t      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n\t    };\n\t    m.clipExtent = function(_) {\n\t      var v = clipExtent.apply(m, arguments);\n\t      if (v === m) {\n\t        if (clipAuto = _ == null) {\n\t          var k =  * scale(), t = translate();\n\t          clipExtent([ [ t[0] - k, t[1] - k ], [ t[0] + k, t[1] + k ] ]);\n\t        }\n\t      } else if (clipAuto) {\n\t        v = null;\n\t      }\n\t      return v;\n\t    };\n\t    return m.clipExtent(null);\n\t  }\n\t  (d3.geo.mercator = function() {\n\t    return d3_geo_mercatorProjection(d3_geo_mercator);\n\t  }).raw = d3_geo_mercator;\n\t  var d3_geo_orthographic = d3_geo_azimuthal(function() {\n\t    return 1;\n\t  }, Math.asin);\n\t  (d3.geo.orthographic = function() {\n\t    return d3_geo_projection(d3_geo_orthographic);\n\t  }).raw = d3_geo_orthographic;\n\t  var d3_geo_stereographic = d3_geo_azimuthal(function(coscos) {\n\t    return 1 / (1 + coscos);\n\t  }, function() {\n\t    return 2 * Math.atan();\n\t  });\n\t  (d3.geo.stereographic = function() {\n\t    return d3_geo_projection(d3_geo_stereographic);\n\t  }).raw = d3_geo_stereographic;\n\t  function d3_geo_transverseMercator(, ) {\n\t    return [ Math.log(Math.tan( / 4 +  / 2)), - ];\n\t  }\n\t  d3_geo_transverseMercator.invert = function(x, y) {\n\t    return [ -y, 2 * Math.atan(Math.exp(x)) - half ];\n\t  };\n\t  (d3.geo.transverseMercator = function() {\n\t    var projection = d3_geo_mercatorProjection(d3_geo_transverseMercator), center = projection.center, rotate = projection.rotate;\n\t    projection.center = function(_) {\n\t      return _ ? center([ -_[1], _[0] ]) : (_ = center(), [ _[1], -_[0] ]);\n\t    };\n\t    projection.rotate = function(_) {\n\t      return _ ? rotate([ _[0], _[1], _.length > 2 ? _[2] + 90 : 90 ]) : (_ = rotate(), \n\t      [ _[0], _[1], _[2] - 90 ]);\n\t    };\n\t    return rotate([ 0, 0, 90 ]);\n\t  }).raw = d3_geo_transverseMercator;\n\t  d3.geom = {};\n\t  function d3_geom_pointX(d) {\n\t    return d[0];\n\t  }\n\t  function d3_geom_pointY(d) {\n\t    return d[1];\n\t  }\n\t  d3.geom.hull = function(vertices) {\n\t    var x = d3_geom_pointX, y = d3_geom_pointY;\n\t    if (arguments.length) return hull(vertices);\n\t    function hull(data) {\n\t      if (data.length < 3) return [];\n\t      var fx = d3_functor(x), fy = d3_functor(y), i, n = data.length, points = [], flippedPoints = [];\n\t      for (i = 0; i < n; i++) {\n\t        points.push([ +fx.call(this, data[i], i), +fy.call(this, data[i], i), i ]);\n\t      }\n\t      points.sort(d3_geom_hullOrder);\n\t      for (i = 0; i < n; i++) flippedPoints.push([ points[i][0], -points[i][1] ]);\n\t      var upper = d3_geom_hullUpper(points), lower = d3_geom_hullUpper(flippedPoints);\n\t      var skipLeft = lower[0] === upper[0], skipRight = lower[lower.length - 1] === upper[upper.length - 1], polygon = [];\n\t      for (i = upper.length - 1; i >= 0; --i) polygon.push(data[points[upper[i]][2]]);\n\t      for (i = +skipLeft; i < lower.length - skipRight; ++i) polygon.push(data[points[lower[i]][2]]);\n\t      return polygon;\n\t    }\n\t    hull.x = function(_) {\n\t      return arguments.length ? (x = _, hull) : x;\n\t    };\n\t    hull.y = function(_) {\n\t      return arguments.length ? (y = _, hull) : y;\n\t    };\n\t    return hull;\n\t  };\n\t  function d3_geom_hullUpper(points) {\n\t    var n = points.length, hull = [ 0, 1 ], hs = 2;\n\t    for (var i = 2; i < n; i++) {\n\t      while (hs > 1 && d3_cross2d(points[hull[hs - 2]], points[hull[hs - 1]], points[i]) <= 0) --hs;\n\t      hull[hs++] = i;\n\t    }\n\t    return hull.slice(0, hs);\n\t  }\n\t  function d3_geom_hullOrder(a, b) {\n\t    return a[0] - b[0] || a[1] - b[1];\n\t  }\n\t  d3.geom.polygon = function(coordinates) {\n\t    d3_subclass(coordinates, d3_geom_polygonPrototype);\n\t    return coordinates;\n\t  };\n\t  var d3_geom_polygonPrototype = d3.geom.polygon.prototype = [];\n\t  d3_geom_polygonPrototype.area = function() {\n\t    var i = -1, n = this.length, a, b = this[n - 1], area = 0;\n\t    while (++i < n) {\n\t      a = b;\n\t      b = this[i];\n\t      area += a[1] * b[0] - a[0] * b[1];\n\t    }\n\t    return area * .5;\n\t  };\n\t  d3_geom_polygonPrototype.centroid = function(k) {\n\t    var i = -1, n = this.length, x = 0, y = 0, a, b = this[n - 1], c;\n\t    if (!arguments.length) k = -1 / (6 * this.area());\n\t    while (++i < n) {\n\t      a = b;\n\t      b = this[i];\n\t      c = a[0] * b[1] - b[0] * a[1];\n\t      x += (a[0] + b[0]) * c;\n\t      y += (a[1] + b[1]) * c;\n\t    }\n\t    return [ x * k, y * k ];\n\t  };\n\t  d3_geom_polygonPrototype.clip = function(subject) {\n\t    var input, closed = d3_geom_polygonClosed(subject), i = -1, n = this.length - d3_geom_polygonClosed(this), j, m, a = this[n - 1], b, c, d;\n\t    while (++i < n) {\n\t      input = subject.slice();\n\t      subject.length = 0;\n\t      b = this[i];\n\t      c = input[(m = input.length - closed) - 1];\n\t      j = -1;\n\t      while (++j < m) {\n\t        d = input[j];\n\t        if (d3_geom_polygonInside(d, a, b)) {\n\t          if (!d3_geom_polygonInside(c, a, b)) {\n\t            subject.push(d3_geom_polygonIntersect(c, d, a, b));\n\t          }\n\t          subject.push(d);\n\t        } else if (d3_geom_polygonInside(c, a, b)) {\n\t          subject.push(d3_geom_polygonIntersect(c, d, a, b));\n\t        }\n\t        c = d;\n\t      }\n\t      if (closed) subject.push(subject[0]);\n\t      a = b;\n\t    }\n\t    return subject;\n\t  };\n\t  function d3_geom_polygonInside(p, a, b) {\n\t    return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);\n\t  }\n\t  function d3_geom_polygonIntersect(c, d, a, b) {\n\t    var x1 = c[0], x3 = a[0], x21 = d[0] - x1, x43 = b[0] - x3, y1 = c[1], y3 = a[1], y21 = d[1] - y1, y43 = b[1] - y3, ua = (x43 * (y1 - y3) - y43 * (x1 - x3)) / (y43 * x21 - x43 * y21);\n\t    return [ x1 + ua * x21, y1 + ua * y21 ];\n\t  }\n\t  function d3_geom_polygonClosed(coordinates) {\n\t    var a = coordinates[0], b = coordinates[coordinates.length - 1];\n\t    return !(a[0] - b[0] || a[1] - b[1]);\n\t  }\n\t  var d3_geom_voronoiEdges, d3_geom_voronoiCells, d3_geom_voronoiBeaches, d3_geom_voronoiBeachPool = [], d3_geom_voronoiFirstCircle, d3_geom_voronoiCircles, d3_geom_voronoiCirclePool = [];\n\t  function d3_geom_voronoiBeach() {\n\t    d3_geom_voronoiRedBlackNode(this);\n\t    this.edge = this.site = this.circle = null;\n\t  }\n\t  function d3_geom_voronoiCreateBeach(site) {\n\t    var beach = d3_geom_voronoiBeachPool.pop() || new d3_geom_voronoiBeach();\n\t    beach.site = site;\n\t    return beach;\n\t  }\n\t  function d3_geom_voronoiDetachBeach(beach) {\n\t    d3_geom_voronoiDetachCircle(beach);\n\t    d3_geom_voronoiBeaches.remove(beach);\n\t    d3_geom_voronoiBeachPool.push(beach);\n\t    d3_geom_voronoiRedBlackNode(beach);\n\t  }\n\t  function d3_geom_voronoiRemoveBeach(beach) {\n\t    var circle = beach.circle, x = circle.x, y = circle.cy, vertex = {\n\t      x: x,\n\t      y: y\n\t    }, previous = beach.P, next = beach.N, disappearing = [ beach ];\n\t    d3_geom_voronoiDetachBeach(beach);\n\t    var lArc = previous;\n\t    while (lArc.circle && abs(x - lArc.circle.x) <  && abs(y - lArc.circle.cy) < ) {\n\t      previous = lArc.P;\n\t      disappearing.unshift(lArc);\n\t      d3_geom_voronoiDetachBeach(lArc);\n\t      lArc = previous;\n\t    }\n\t    disappearing.unshift(lArc);\n\t    d3_geom_voronoiDetachCircle(lArc);\n\t    var rArc = next;\n\t    while (rArc.circle && abs(x - rArc.circle.x) <  && abs(y - rArc.circle.cy) < ) {\n\t      next = rArc.N;\n\t      disappearing.push(rArc);\n\t      d3_geom_voronoiDetachBeach(rArc);\n\t      rArc = next;\n\t    }\n\t    disappearing.push(rArc);\n\t    d3_geom_voronoiDetachCircle(rArc);\n\t    var nArcs = disappearing.length, iArc;\n\t    for (iArc = 1; iArc < nArcs; ++iArc) {\n\t      rArc = disappearing[iArc];\n\t      lArc = disappearing[iArc - 1];\n\t      d3_geom_voronoiSetEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n\t    }\n\t    lArc = disappearing[0];\n\t    rArc = disappearing[nArcs - 1];\n\t    rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, rArc.site, null, vertex);\n\t    d3_geom_voronoiAttachCircle(lArc);\n\t    d3_geom_voronoiAttachCircle(rArc);\n\t  }\n\t  function d3_geom_voronoiAddBeach(site) {\n\t    var x = site.x, directrix = site.y, lArc, rArc, dxl, dxr, node = d3_geom_voronoiBeaches._;\n\t    while (node) {\n\t      dxl = d3_geom_voronoiLeftBreakPoint(node, directrix) - x;\n\t      if (dxl > ) node = node.L; else {\n\t        dxr = x - d3_geom_voronoiRightBreakPoint(node, directrix);\n\t        if (dxr > ) {\n\t          if (!node.R) {\n\t            lArc = node;\n\t            break;\n\t          }\n\t          node = node.R;\n\t        } else {\n\t          if (dxl > -) {\n\t            lArc = node.P;\n\t            rArc = node;\n\t          } else if (dxr > -) {\n\t            lArc = node;\n\t            rArc = node.N;\n\t          } else {\n\t            lArc = rArc = node;\n\t          }\n\t          break;\n\t        }\n\t      }\n\t    }\n\t    var newArc = d3_geom_voronoiCreateBeach(site);\n\t    d3_geom_voronoiBeaches.insert(lArc, newArc);\n\t    if (!lArc && !rArc) return;\n\t    if (lArc === rArc) {\n\t      d3_geom_voronoiDetachCircle(lArc);\n\t      rArc = d3_geom_voronoiCreateBeach(lArc.site);\n\t      d3_geom_voronoiBeaches.insert(newArc, rArc);\n\t      newArc.edge = rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n\t      d3_geom_voronoiAttachCircle(lArc);\n\t      d3_geom_voronoiAttachCircle(rArc);\n\t      return;\n\t    }\n\t    if (!rArc) {\n\t      newArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n\t      return;\n\t    }\n\t    d3_geom_voronoiDetachCircle(lArc);\n\t    d3_geom_voronoiDetachCircle(rArc);\n\t    var lSite = lArc.site, ax = lSite.x, ay = lSite.y, bx = site.x - ax, by = site.y - ay, rSite = rArc.site, cx = rSite.x - ax, cy = rSite.y - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = {\n\t      x: (cy * hb - by * hc) / d + ax,\n\t      y: (bx * hc - cx * hb) / d + ay\n\t    };\n\t    d3_geom_voronoiSetEdgeEnd(rArc.edge, lSite, rSite, vertex);\n\t    newArc.edge = d3_geom_voronoiCreateEdge(lSite, site, null, vertex);\n\t    rArc.edge = d3_geom_voronoiCreateEdge(site, rSite, null, vertex);\n\t    d3_geom_voronoiAttachCircle(lArc);\n\t    d3_geom_voronoiAttachCircle(rArc);\n\t  }\n\t  function d3_geom_voronoiLeftBreakPoint(arc, directrix) {\n\t    var site = arc.site, rfocx = site.x, rfocy = site.y, pby2 = rfocy - directrix;\n\t    if (!pby2) return rfocx;\n\t    var lArc = arc.P;\n\t    if (!lArc) return -Infinity;\n\t    site = lArc.site;\n\t    var lfocx = site.x, lfocy = site.y, plby2 = lfocy - directrix;\n\t    if (!plby2) return lfocx;\n\t    var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;\n\t    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\t    return (rfocx + lfocx) / 2;\n\t  }\n\t  function d3_geom_voronoiRightBreakPoint(arc, directrix) {\n\t    var rArc = arc.N;\n\t    if (rArc) return d3_geom_voronoiLeftBreakPoint(rArc, directrix);\n\t    var site = arc.site;\n\t    return site.y === directrix ? site.x : Infinity;\n\t  }\n\t  function d3_geom_voronoiCell(site) {\n\t    this.site = site;\n\t    this.edges = [];\n\t  }\n\t  d3_geom_voronoiCell.prototype.prepare = function() {\n\t    var halfEdges = this.edges, iHalfEdge = halfEdges.length, edge;\n\t    while (iHalfEdge--) {\n\t      edge = halfEdges[iHalfEdge].edge;\n\t      if (!edge.b || !edge.a) halfEdges.splice(iHalfEdge, 1);\n\t    }\n\t    halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);\n\t    return halfEdges.length;\n\t  };\n\t  function d3_geom_voronoiCloseCells(extent) {\n\t    var x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], x2, y2, x3, y3, cells = d3_geom_voronoiCells, iCell = cells.length, cell, iHalfEdge, halfEdges, nHalfEdges, start, end;\n\t    while (iCell--) {\n\t      cell = cells[iCell];\n\t      if (!cell || !cell.prepare()) continue;\n\t      halfEdges = cell.edges;\n\t      nHalfEdges = halfEdges.length;\n\t      iHalfEdge = 0;\n\t      while (iHalfEdge < nHalfEdges) {\n\t        end = halfEdges[iHalfEdge].end(), x3 = end.x, y3 = end.y;\n\t        start = halfEdges[++iHalfEdge % nHalfEdges].start(), x2 = start.x, y2 = start.y;\n\t        if (abs(x3 - x2) >  || abs(y3 - y2) > ) {\n\t          halfEdges.splice(iHalfEdge, 0, new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site, end, abs(x3 - x0) <  && y1 - y3 >  ? {\n\t            x: x0,\n\t            y: abs(x2 - x0) <  ? y2 : y1\n\t          } : abs(y3 - y1) <  && x1 - x3 >  ? {\n\t            x: abs(y2 - y1) <  ? x2 : x1,\n\t            y: y1\n\t          } : abs(x3 - x1) <  && y3 - y0 >  ? {\n\t            x: x1,\n\t            y: abs(x2 - x1) <  ? y2 : y0\n\t          } : abs(y3 - y0) <  && x3 - x0 >  ? {\n\t            x: abs(y2 - y0) <  ? x2 : x0,\n\t            y: y0\n\t          } : null), cell.site, null));\n\t          ++nHalfEdges;\n\t        }\n\t      }\n\t    }\n\t  }\n\t  function d3_geom_voronoiHalfEdgeOrder(a, b) {\n\t    return b.angle - a.angle;\n\t  }\n\t  function d3_geom_voronoiCircle() {\n\t    d3_geom_voronoiRedBlackNode(this);\n\t    this.x = this.y = this.arc = this.site = this.cy = null;\n\t  }\n\t  function d3_geom_voronoiAttachCircle(arc) {\n\t    var lArc = arc.P, rArc = arc.N;\n\t    if (!lArc || !rArc) return;\n\t    var lSite = lArc.site, cSite = arc.site, rSite = rArc.site;\n\t    if (lSite === rSite) return;\n\t    var bx = cSite.x, by = cSite.y, ax = lSite.x - bx, ay = lSite.y - by, cx = rSite.x - bx, cy = rSite.y - by;\n\t    var d = 2 * (ax * cy - ay * cx);\n\t    if (d >= -2) return;\n\t    var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x = (cy * ha - ay * hc) / d, y = (ax * hc - cx * ha) / d, cy = y + by;\n\t    var circle = d3_geom_voronoiCirclePool.pop() || new d3_geom_voronoiCircle();\n\t    circle.arc = arc;\n\t    circle.site = cSite;\n\t    circle.x = x + bx;\n\t    circle.y = cy + Math.sqrt(x * x + y * y);\n\t    circle.cy = cy;\n\t    arc.circle = circle;\n\t    var before = null, node = d3_geom_voronoiCircles._;\n\t    while (node) {\n\t      if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n\t        if (node.L) node = node.L; else {\n\t          before = node.P;\n\t          break;\n\t        }\n\t      } else {\n\t        if (node.R) node = node.R; else {\n\t          before = node;\n\t          break;\n\t        }\n\t      }\n\t    }\n\t    d3_geom_voronoiCircles.insert(before, circle);\n\t    if (!before) d3_geom_voronoiFirstCircle = circle;\n\t  }\n\t  function d3_geom_voronoiDetachCircle(arc) {\n\t    var circle = arc.circle;\n\t    if (circle) {\n\t      if (!circle.P) d3_geom_voronoiFirstCircle = circle.N;\n\t      d3_geom_voronoiCircles.remove(circle);\n\t      d3_geom_voronoiCirclePool.push(circle);\n\t      d3_geom_voronoiRedBlackNode(circle);\n\t      arc.circle = null;\n\t    }\n\t  }\n\t  function d3_geom_voronoiClipEdges(extent) {\n\t    var edges = d3_geom_voronoiEdges, clip = d3_geom_clipLine(extent[0][0], extent[0][1], extent[1][0], extent[1][1]), i = edges.length, e;\n\t    while (i--) {\n\t      e = edges[i];\n\t      if (!d3_geom_voronoiConnectEdge(e, extent) || !clip(e) || abs(e.a.x - e.b.x) <  && abs(e.a.y - e.b.y) < ) {\n\t        e.a = e.b = null;\n\t        edges.splice(i, 1);\n\t      }\n\t    }\n\t  }\n\t  function d3_geom_voronoiConnectEdge(edge, extent) {\n\t    var vb = edge.b;\n\t    if (vb) return true;\n\t    var va = edge.a, x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], lSite = edge.l, rSite = edge.r, lx = lSite.x, ly = lSite.y, rx = rSite.x, ry = rSite.y, fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;\n\t    if (ry === ly) {\n\t      if (fx < x0 || fx >= x1) return;\n\t      if (lx > rx) {\n\t        if (!va) va = {\n\t          x: fx,\n\t          y: y0\n\t        }; else if (va.y >= y1) return;\n\t        vb = {\n\t          x: fx,\n\t          y: y1\n\t        };\n\t      } else {\n\t        if (!va) va = {\n\t          x: fx,\n\t          y: y1\n\t        }; else if (va.y < y0) return;\n\t        vb = {\n\t          x: fx,\n\t          y: y0\n\t        };\n\t      }\n\t    } else {\n\t      fm = (lx - rx) / (ry - ly);\n\t      fb = fy - fm * fx;\n\t      if (fm < -1 || fm > 1) {\n\t        if (lx > rx) {\n\t          if (!va) va = {\n\t            x: (y0 - fb) / fm,\n\t            y: y0\n\t          }; else if (va.y >= y1) return;\n\t          vb = {\n\t            x: (y1 - fb) / fm,\n\t            y: y1\n\t          };\n\t        } else {\n\t          if (!va) va = {\n\t            x: (y1 - fb) / fm,\n\t            y: y1\n\t          }; else if (va.y < y0) return;\n\t          vb = {\n\t            x: (y0 - fb) / fm,\n\t            y: y0\n\t          };\n\t        }\n\t      } else {\n\t        if (ly < ry) {\n\t          if (!va) va = {\n\t            x: x0,\n\t            y: fm * x0 + fb\n\t          }; else if (va.x >= x1) return;\n\t          vb = {\n\t            x: x1,\n\t            y: fm * x1 + fb\n\t          };\n\t        } else {\n\t          if (!va) va = {\n\t            x: x1,\n\t            y: fm * x1 + fb\n\t          }; else if (va.x < x0) return;\n\t          vb = {\n\t            x: x0,\n\t            y: fm * x0 + fb\n\t          };\n\t        }\n\t      }\n\t    }\n\t    edge.a = va;\n\t    edge.b = vb;\n\t    return true;\n\t  }\n\t  function d3_geom_voronoiEdge(lSite, rSite) {\n\t    this.l = lSite;\n\t    this.r = rSite;\n\t    this.a = this.b = null;\n\t  }\n\t  function d3_geom_voronoiCreateEdge(lSite, rSite, va, vb) {\n\t    var edge = new d3_geom_voronoiEdge(lSite, rSite);\n\t    d3_geom_voronoiEdges.push(edge);\n\t    if (va) d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, va);\n\t    if (vb) d3_geom_voronoiSetEdgeEnd(edge, rSite, lSite, vb);\n\t    d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, lSite, rSite));\n\t    d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, rSite, lSite));\n\t    return edge;\n\t  }\n\t  function d3_geom_voronoiCreateBorderEdge(lSite, va, vb) {\n\t    var edge = new d3_geom_voronoiEdge(lSite, null);\n\t    edge.a = va;\n\t    edge.b = vb;\n\t    d3_geom_voronoiEdges.push(edge);\n\t    return edge;\n\t  }\n\t  function d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, vertex) {\n\t    if (!edge.a && !edge.b) {\n\t      edge.a = vertex;\n\t      edge.l = lSite;\n\t      edge.r = rSite;\n\t    } else if (edge.l === rSite) {\n\t      edge.b = vertex;\n\t    } else {\n\t      edge.a = vertex;\n\t    }\n\t  }\n\t  function d3_geom_voronoiHalfEdge(edge, lSite, rSite) {\n\t    var va = edge.a, vb = edge.b;\n\t    this.edge = edge;\n\t    this.site = lSite;\n\t    this.angle = rSite ? Math.atan2(rSite.y - lSite.y, rSite.x - lSite.x) : edge.l === lSite ? Math.atan2(vb.x - va.x, va.y - vb.y) : Math.atan2(va.x - vb.x, vb.y - va.y);\n\t  }\n\t  d3_geom_voronoiHalfEdge.prototype = {\n\t    start: function() {\n\t      return this.edge.l === this.site ? this.edge.a : this.edge.b;\n\t    },\n\t    end: function() {\n\t      return this.edge.l === this.site ? this.edge.b : this.edge.a;\n\t    }\n\t  };\n\t  function d3_geom_voronoiRedBlackTree() {\n\t    this._ = null;\n\t  }\n\t  function d3_geom_voronoiRedBlackNode(node) {\n\t    node.U = node.C = node.L = node.R = node.P = node.N = null;\n\t  }\n\t  d3_geom_voronoiRedBlackTree.prototype = {\n\t    insert: function(after, node) {\n\t      var parent, grandpa, uncle;\n\t      if (after) {\n\t        node.P = after;\n\t        node.N = after.N;\n\t        if (after.N) after.N.P = node;\n\t        after.N = node;\n\t        if (after.R) {\n\t          after = after.R;\n\t          while (after.L) after = after.L;\n\t          after.L = node;\n\t        } else {\n\t          after.R = node;\n\t        }\n\t        parent = after;\n\t      } else if (this._) {\n\t        after = d3_geom_voronoiRedBlackFirst(this._);\n\t        node.P = null;\n\t        node.N = after;\n\t        after.P = after.L = node;\n\t        parent = after;\n\t      } else {\n\t        node.P = node.N = null;\n\t        this._ = node;\n\t        parent = null;\n\t      }\n\t      node.L = node.R = null;\n\t      node.U = parent;\n\t      node.C = true;\n\t      after = node;\n\t      while (parent && parent.C) {\n\t        grandpa = parent.U;\n\t        if (parent === grandpa.L) {\n\t          uncle = grandpa.R;\n\t          if (uncle && uncle.C) {\n\t            parent.C = uncle.C = false;\n\t            grandpa.C = true;\n\t            after = grandpa;\n\t          } else {\n\t            if (after === parent.R) {\n\t              d3_geom_voronoiRedBlackRotateLeft(this, parent);\n\t              after = parent;\n\t              parent = after.U;\n\t            }\n\t            parent.C = false;\n\t            grandpa.C = true;\n\t            d3_geom_voronoiRedBlackRotateRight(this, grandpa);\n\t          }\n\t        } else {\n\t          uncle = grandpa.L;\n\t          if (uncle && uncle.C) {\n\t            parent.C = uncle.C = false;\n\t            grandpa.C = true;\n\t            after = grandpa;\n\t          } else {\n\t            if (after === parent.L) {\n\t              d3_geom_voronoiRedBlackRotateRight(this, parent);\n\t              after = parent;\n\t              parent = after.U;\n\t            }\n\t            parent.C = false;\n\t            grandpa.C = true;\n\t            d3_geom_voronoiRedBlackRotateLeft(this, grandpa);\n\t          }\n\t        }\n\t        parent = after.U;\n\t      }\n\t      this._.C = false;\n\t    },\n\t    remove: function(node) {\n\t      if (node.N) node.N.P = node.P;\n\t      if (node.P) node.P.N = node.N;\n\t      node.N = node.P = null;\n\t      var parent = node.U, sibling, left = node.L, right = node.R, next, red;\n\t      if (!left) next = right; else if (!right) next = left; else next = d3_geom_voronoiRedBlackFirst(right);\n\t      if (parent) {\n\t        if (parent.L === node) parent.L = next; else parent.R = next;\n\t      } else {\n\t        this._ = next;\n\t      }\n\t      if (left && right) {\n\t        red = next.C;\n\t        next.C = node.C;\n\t        next.L = left;\n\t        left.U = next;\n\t        if (next !== right) {\n\t          parent = next.U;\n\t          next.U = node.U;\n\t          node = next.R;\n\t          parent.L = node;\n\t          next.R = right;\n\t          right.U = next;\n\t        } else {\n\t          next.U = parent;\n\t          parent = next;\n\t          node = next.R;\n\t        }\n\t      } else {\n\t        red = node.C;\n\t        node = next;\n\t      }\n\t      if (node) node.U = parent;\n\t      if (red) return;\n\t      if (node && node.C) {\n\t        node.C = false;\n\t        return;\n\t      }\n\t      do {\n\t        if (node === this._) break;\n\t        if (node === parent.L) {\n\t          sibling = parent.R;\n\t          if (sibling.C) {\n\t            sibling.C = false;\n\t            parent.C = true;\n\t            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n\t            sibling = parent.R;\n\t          }\n\t          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n\t            if (!sibling.R || !sibling.R.C) {\n\t              sibling.L.C = false;\n\t              sibling.C = true;\n\t              d3_geom_voronoiRedBlackRotateRight(this, sibling);\n\t              sibling = parent.R;\n\t            }\n\t            sibling.C = parent.C;\n\t            parent.C = sibling.R.C = false;\n\t            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n\t            node = this._;\n\t            break;\n\t          }\n\t        } else {\n\t          sibling = parent.L;\n\t          if (sibling.C) {\n\t            sibling.C = false;\n\t            parent.C = true;\n\t            d3_geom_voronoiRedBlackRotateRight(this, parent);\n\t            sibling = parent.L;\n\t          }\n\t          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n\t            if (!sibling.L || !sibling.L.C) {\n\t              sibling.R.C = false;\n\t              sibling.C = true;\n\t              d3_geom_voronoiRedBlackRotateLeft(this, sibling);\n\t              sibling = parent.L;\n\t            }\n\t            sibling.C = parent.C;\n\t            parent.C = sibling.L.C = false;\n\t            d3_geom_voronoiRedBlackRotateRight(this, parent);\n\t            node = this._;\n\t            break;\n\t          }\n\t        }\n\t        sibling.C = true;\n\t        node = parent;\n\t        parent = parent.U;\n\t      } while (!node.C);\n\t      if (node) node.C = false;\n\t    }\n\t  };\n\t  function d3_geom_voronoiRedBlackRotateLeft(tree, node) {\n\t    var p = node, q = node.R, parent = p.U;\n\t    if (parent) {\n\t      if (parent.L === p) parent.L = q; else parent.R = q;\n\t    } else {\n\t      tree._ = q;\n\t    }\n\t    q.U = parent;\n\t    p.U = q;\n\t    p.R = q.L;\n\t    if (p.R) p.R.U = p;\n\t    q.L = p;\n\t  }\n\t  function d3_geom_voronoiRedBlackRotateRight(tree, node) {\n\t    var p = node, q = node.L, parent = p.U;\n\t    if (parent) {\n\t      if (parent.L === p) parent.L = q; else parent.R = q;\n\t    } else {\n\t      tree._ = q;\n\t    }\n\t    q.U = parent;\n\t    p.U = q;\n\t    p.L = q.R;\n\t    if (p.L) p.L.U = p;\n\t    q.R = p;\n\t  }\n\t  function d3_geom_voronoiRedBlackFirst(node) {\n\t    while (node.L) node = node.L;\n\t    return node;\n\t  }\n\t  function d3_geom_voronoi(sites, bbox) {\n\t    var site = sites.sort(d3_geom_voronoiVertexOrder).pop(), x0, y0, circle;\n\t    d3_geom_voronoiEdges = [];\n\t    d3_geom_voronoiCells = new Array(sites.length);\n\t    d3_geom_voronoiBeaches = new d3_geom_voronoiRedBlackTree();\n\t    d3_geom_voronoiCircles = new d3_geom_voronoiRedBlackTree();\n\t    while (true) {\n\t      circle = d3_geom_voronoiFirstCircle;\n\t      if (site && (!circle || site.y < circle.y || site.y === circle.y && site.x < circle.x)) {\n\t        if (site.x !== x0 || site.y !== y0) {\n\t          d3_geom_voronoiCells[site.i] = new d3_geom_voronoiCell(site);\n\t          d3_geom_voronoiAddBeach(site);\n\t          x0 = site.x, y0 = site.y;\n\t        }\n\t        site = sites.pop();\n\t      } else if (circle) {\n\t        d3_geom_voronoiRemoveBeach(circle.arc);\n\t      } else {\n\t        break;\n\t      }\n\t    }\n\t    if (bbox) d3_geom_voronoiClipEdges(bbox), d3_geom_voronoiCloseCells(bbox);\n\t    var diagram = {\n\t      cells: d3_geom_voronoiCells,\n\t      edges: d3_geom_voronoiEdges\n\t    };\n\t    d3_geom_voronoiBeaches = d3_geom_voronoiCircles = d3_geom_voronoiEdges = d3_geom_voronoiCells = null;\n\t    return diagram;\n\t  }\n\t  function d3_geom_voronoiVertexOrder(a, b) {\n\t    return b.y - a.y || b.x - a.x;\n\t  }\n\t  d3.geom.voronoi = function(points) {\n\t    var x = d3_geom_pointX, y = d3_geom_pointY, fx = x, fy = y, clipExtent = d3_geom_voronoiClipExtent;\n\t    if (points) return voronoi(points);\n\t    function voronoi(data) {\n\t      var polygons = new Array(data.length), x0 = clipExtent[0][0], y0 = clipExtent[0][1], x1 = clipExtent[1][0], y1 = clipExtent[1][1];\n\t      d3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {\n\t        var edges = cell.edges, site = cell.site, polygon = polygons[i] = edges.length ? edges.map(function(e) {\n\t          var s = e.start();\n\t          return [ s.x, s.y ];\n\t        }) : site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [ [ x0, y1 ], [ x1, y1 ], [ x1, y0 ], [ x0, y0 ] ] : [];\n\t        polygon.point = data[i];\n\t      });\n\t      return polygons;\n\t    }\n\t    function sites(data) {\n\t      return data.map(function(d, i) {\n\t        return {\n\t          x: Math.round(fx(d, i) / ) * ,\n\t          y: Math.round(fy(d, i) / ) * ,\n\t          i: i\n\t        };\n\t      });\n\t    }\n\t    voronoi.links = function(data) {\n\t      return d3_geom_voronoi(sites(data)).edges.filter(function(edge) {\n\t        return edge.l && edge.r;\n\t      }).map(function(edge) {\n\t        return {\n\t          source: data[edge.l.i],\n\t          target: data[edge.r.i]\n\t        };\n\t      });\n\t    };\n\t    voronoi.triangles = function(data) {\n\t      var triangles = [];\n\t      d3_geom_voronoi(sites(data)).cells.forEach(function(cell, i) {\n\t        var site = cell.site, edges = cell.edges.sort(d3_geom_voronoiHalfEdgeOrder), j = -1, m = edges.length, e0, s0, e1 = edges[m - 1].edge, s1 = e1.l === site ? e1.r : e1.l;\n\t        while (++j < m) {\n\t          e0 = e1;\n\t          s0 = s1;\n\t          e1 = edges[j].edge;\n\t          s1 = e1.l === site ? e1.r : e1.l;\n\t          if (i < s0.i && i < s1.i && d3_geom_voronoiTriangleArea(site, s0, s1) < 0) {\n\t            triangles.push([ data[i], data[s0.i], data[s1.i] ]);\n\t          }\n\t        }\n\t      });\n\t      return triangles;\n\t    };\n\t    voronoi.x = function(_) {\n\t      return arguments.length ? (fx = d3_functor(x = _), voronoi) : x;\n\t    };\n\t    voronoi.y = function(_) {\n\t      return arguments.length ? (fy = d3_functor(y = _), voronoi) : y;\n\t    };\n\t    voronoi.clipExtent = function(_) {\n\t      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent;\n\t      clipExtent = _ == null ? d3_geom_voronoiClipExtent : _;\n\t      return voronoi;\n\t    };\n\t    voronoi.size = function(_) {\n\t      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent && clipExtent[1];\n\t      return voronoi.clipExtent(_ && [ [ 0, 0 ], _ ]);\n\t    };\n\t    return voronoi;\n\t  };\n\t  var d3_geom_voronoiClipExtent = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];\n\t  function d3_geom_voronoiTriangleArea(a, b, c) {\n\t    return (a.x - c.x) * (b.y - a.y) - (a.x - b.x) * (c.y - a.y);\n\t  }\n\t  d3.geom.delaunay = function(vertices) {\n\t    return d3.geom.voronoi().triangles(vertices);\n\t  };\n\t  d3.geom.quadtree = function(points, x1, y1, x2, y2) {\n\t    var x = d3_geom_pointX, y = d3_geom_pointY, compat;\n\t    if (compat = arguments.length) {\n\t      x = d3_geom_quadtreeCompatX;\n\t      y = d3_geom_quadtreeCompatY;\n\t      if (compat === 3) {\n\t        y2 = y1;\n\t        x2 = x1;\n\t        y1 = x1 = 0;\n\t      }\n\t      return quadtree(points);\n\t    }\n\t    function quadtree(data) {\n\t      var d, fx = d3_functor(x), fy = d3_functor(y), xs, ys, i, n, x1_, y1_, x2_, y2_;\n\t      if (x1 != null) {\n\t        x1_ = x1, y1_ = y1, x2_ = x2, y2_ = y2;\n\t      } else {\n\t        x2_ = y2_ = -(x1_ = y1_ = Infinity);\n\t        xs = [], ys = [];\n\t        n = data.length;\n\t        if (compat) for (i = 0; i < n; ++i) {\n\t          d = data[i];\n\t          if (d.x < x1_) x1_ = d.x;\n\t          if (d.y < y1_) y1_ = d.y;\n\t          if (d.x > x2_) x2_ = d.x;\n\t          if (d.y > y2_) y2_ = d.y;\n\t          xs.push(d.x);\n\t          ys.push(d.y);\n\t        } else for (i = 0; i < n; ++i) {\n\t          var x_ = +fx(d = data[i], i), y_ = +fy(d, i);\n\t          if (x_ < x1_) x1_ = x_;\n\t          if (y_ < y1_) y1_ = y_;\n\t          if (x_ > x2_) x2_ = x_;\n\t          if (y_ > y2_) y2_ = y_;\n\t          xs.push(x_);\n\t          ys.push(y_);\n\t        }\n\t      }\n\t      var dx = x2_ - x1_, dy = y2_ - y1_;\n\t      if (dx > dy) y2_ = y1_ + dx; else x2_ = x1_ + dy;\n\t      function insert(n, d, x, y, x1, y1, x2, y2) {\n\t        if (isNaN(x) || isNaN(y)) return;\n\t        if (n.leaf) {\n\t          var nx = n.x, ny = n.y;\n\t          if (nx != null) {\n\t            if (abs(nx - x) + abs(ny - y) < .01) {\n\t              insertChild(n, d, x, y, x1, y1, x2, y2);\n\t            } else {\n\t              var nPoint = n.point;\n\t              n.x = n.y = n.point = null;\n\t              insertChild(n, nPoint, nx, ny, x1, y1, x2, y2);\n\t              insertChild(n, d, x, y, x1, y1, x2, y2);\n\t            }\n\t          } else {\n\t            n.x = x, n.y = y, n.point = d;\n\t          }\n\t        } else {\n\t          insertChild(n, d, x, y, x1, y1, x2, y2);\n\t        }\n\t      }\n\t      function insertChild(n, d, x, y, x1, y1, x2, y2) {\n\t        var xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym, i = below << 1 | right;\n\t        n.leaf = false;\n\t        n = n.nodes[i] || (n.nodes[i] = d3_geom_quadtreeNode());\n\t        if (right) x1 = xm; else x2 = xm;\n\t        if (below) y1 = ym; else y2 = ym;\n\t        insert(n, d, x, y, x1, y1, x2, y2);\n\t      }\n\t      var root = d3_geom_quadtreeNode();\n\t      root.add = function(d) {\n\t        insert(root, d, +fx(d, ++i), +fy(d, i), x1_, y1_, x2_, y2_);\n\t      };\n\t      root.visit = function(f) {\n\t        d3_geom_quadtreeVisit(f, root, x1_, y1_, x2_, y2_);\n\t      };\n\t      root.find = function(point) {\n\t        return d3_geom_quadtreeFind(root, point[0], point[1], x1_, y1_, x2_, y2_);\n\t      };\n\t      i = -1;\n\t      if (x1 == null) {\n\t        while (++i < n) {\n\t          insert(root, data[i], xs[i], ys[i], x1_, y1_, x2_, y2_);\n\t        }\n\t        --i;\n\t      } else data.forEach(root.add);\n\t      xs = ys = data = d = null;\n\t      return root;\n\t    }\n\t    quadtree.x = function(_) {\n\t      return arguments.length ? (x = _, quadtree) : x;\n\t    };\n\t    quadtree.y = function(_) {\n\t      return arguments.length ? (y = _, quadtree) : y;\n\t    };\n\t    quadtree.extent = function(_) {\n\t      if (!arguments.length) return x1 == null ? null : [ [ x1, y1 ], [ x2, y2 ] ];\n\t      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = +_[0][0], y1 = +_[0][1], x2 = +_[1][0], \n\t      y2 = +_[1][1];\n\t      return quadtree;\n\t    };\n\t    quadtree.size = function(_) {\n\t      if (!arguments.length) return x1 == null ? null : [ x2 - x1, y2 - y1 ];\n\t      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = y1 = 0, x2 = +_[0], y2 = +_[1];\n\t      return quadtree;\n\t    };\n\t    return quadtree;\n\t  };\n\t  function d3_geom_quadtreeCompatX(d) {\n\t    return d.x;\n\t  }\n\t  function d3_geom_quadtreeCompatY(d) {\n\t    return d.y;\n\t  }\n\t  function d3_geom_quadtreeNode() {\n\t    return {\n\t      leaf: true,\n\t      nodes: [],\n\t      point: null,\n\t      x: null,\n\t      y: null\n\t    };\n\t  }\n\t  function d3_geom_quadtreeVisit(f, node, x1, y1, x2, y2) {\n\t    if (!f(node, x1, y1, x2, y2)) {\n\t      var sx = (x1 + x2) * .5, sy = (y1 + y2) * .5, children = node.nodes;\n\t      if (children[0]) d3_geom_quadtreeVisit(f, children[0], x1, y1, sx, sy);\n\t      if (children[1]) d3_geom_quadtreeVisit(f, children[1], sx, y1, x2, sy);\n\t      if (children[2]) d3_geom_quadtreeVisit(f, children[2], x1, sy, sx, y2);\n\t      if (children[3]) d3_geom_quadtreeVisit(f, children[3], sx, sy, x2, y2);\n\t    }\n\t  }\n\t  function d3_geom_quadtreeFind(root, x, y, x0, y0, x3, y3) {\n\t    var minDistance2 = Infinity, closestPoint;\n\t    (function find(node, x1, y1, x2, y2) {\n\t      if (x1 > x3 || y1 > y3 || x2 < x0 || y2 < y0) return;\n\t      if (point = node.point) {\n\t        var point, dx = x - node.x, dy = y - node.y, distance2 = dx * dx + dy * dy;\n\t        if (distance2 < minDistance2) {\n\t          var distance = Math.sqrt(minDistance2 = distance2);\n\t          x0 = x - distance, y0 = y - distance;\n\t          x3 = x + distance, y3 = y + distance;\n\t          closestPoint = point;\n\t        }\n\t      }\n\t      var children = node.nodes, xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym;\n\t      for (var i = below << 1 | right, j = i + 4; i < j; ++i) {\n\t        if (node = children[i & 3]) switch (i & 3) {\n\t         case 0:\n\t          find(node, x1, y1, xm, ym);\n\t          break;\n\t\n\t         case 1:\n\t          find(node, xm, y1, x2, ym);\n\t          break;\n\t\n\t         case 2:\n\t          find(node, x1, ym, xm, y2);\n\t          break;\n\t\n\t         case 3:\n\t          find(node, xm, ym, x2, y2);\n\t          break;\n\t        }\n\t      }\n\t    })(root, x0, y0, x3, y3);\n\t    return closestPoint;\n\t  }\n\t  d3.interpolateRgb = d3_interpolateRgb;\n\t  function d3_interpolateRgb(a, b) {\n\t    a = d3.rgb(a);\n\t    b = d3.rgb(b);\n\t    var ar = a.r, ag = a.g, ab = a.b, br = b.r - ar, bg = b.g - ag, bb = b.b - ab;\n\t    return function(t) {\n\t      return \"#\" + d3_rgb_hex(Math.round(ar + br * t)) + d3_rgb_hex(Math.round(ag + bg * t)) + d3_rgb_hex(Math.round(ab + bb * t));\n\t    };\n\t  }\n\t  d3.interpolateObject = d3_interpolateObject;\n\t  function d3_interpolateObject(a, b) {\n\t    var i = {}, c = {}, k;\n\t    for (k in a) {\n\t      if (k in b) {\n\t        i[k] = d3_interpolate(a[k], b[k]);\n\t      } else {\n\t        c[k] = a[k];\n\t      }\n\t    }\n\t    for (k in b) {\n\t      if (!(k in a)) {\n\t        c[k] = b[k];\n\t      }\n\t    }\n\t    return function(t) {\n\t      for (k in i) c[k] = i[k](t);\n\t      return c;\n\t    };\n\t  }\n\t  d3.interpolateNumber = d3_interpolateNumber;\n\t  function d3_interpolateNumber(a, b) {\n\t    a = +a, b = +b;\n\t    return function(t) {\n\t      return a * (1 - t) + b * t;\n\t    };\n\t  }\n\t  d3.interpolateString = d3_interpolateString;\n\t  function d3_interpolateString(a, b) {\n\t    var bi = d3_interpolate_numberA.lastIndex = d3_interpolate_numberB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n\t    a = a + \"\", b = b + \"\";\n\t    while ((am = d3_interpolate_numberA.exec(a)) && (bm = d3_interpolate_numberB.exec(b))) {\n\t      if ((bs = bm.index) > bi) {\n\t        bs = b.slice(bi, bs);\n\t        if (s[i]) s[i] += bs; else s[++i] = bs;\n\t      }\n\t      if ((am = am[0]) === (bm = bm[0])) {\n\t        if (s[i]) s[i] += bm; else s[++i] = bm;\n\t      } else {\n\t        s[++i] = null;\n\t        q.push({\n\t          i: i,\n\t          x: d3_interpolateNumber(am, bm)\n\t        });\n\t      }\n\t      bi = d3_interpolate_numberB.lastIndex;\n\t    }\n\t    if (bi < b.length) {\n\t      bs = b.slice(bi);\n\t      if (s[i]) s[i] += bs; else s[++i] = bs;\n\t    }\n\t    return s.length < 2 ? q[0] ? (b = q[0].x, function(t) {\n\t      return b(t) + \"\";\n\t    }) : function() {\n\t      return b;\n\t    } : (b = q.length, function(t) {\n\t      for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n\t      return s.join(\"\");\n\t    });\n\t  }\n\t  var d3_interpolate_numberA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, d3_interpolate_numberB = new RegExp(d3_interpolate_numberA.source, \"g\");\n\t  d3.interpolate = d3_interpolate;\n\t  function d3_interpolate(a, b) {\n\t    var i = d3.interpolators.length, f;\n\t    while (--i >= 0 && !(f = d3.interpolators[i](a, b))) ;\n\t    return f;\n\t  }\n\t  d3.interpolators = [ function(a, b) {\n\t    var t = typeof b;\n\t    return (t === \"string\" ? d3_rgb_names.has(b.toLowerCase()) || /^(#|rgb\\(|hsl\\()/i.test(b) ? d3_interpolateRgb : d3_interpolateString : b instanceof d3_color ? d3_interpolateRgb : Array.isArray(b) ? d3_interpolateArray : t === \"object\" && isNaN(b) ? d3_interpolateObject : d3_interpolateNumber)(a, b);\n\t  } ];\n\t  d3.interpolateArray = d3_interpolateArray;\n\t  function d3_interpolateArray(a, b) {\n\t    var x = [], c = [], na = a.length, nb = b.length, n0 = Math.min(a.length, b.length), i;\n\t    for (i = 0; i < n0; ++i) x.push(d3_interpolate(a[i], b[i]));\n\t    for (;i < na; ++i) c[i] = a[i];\n\t    for (;i < nb; ++i) c[i] = b[i];\n\t    return function(t) {\n\t      for (i = 0; i < n0; ++i) c[i] = x[i](t);\n\t      return c;\n\t    };\n\t  }\n\t  var d3_ease_default = function() {\n\t    return d3_identity;\n\t  };\n\t  var d3_ease = d3.map({\n\t    linear: d3_ease_default,\n\t    poly: d3_ease_poly,\n\t    quad: function() {\n\t      return d3_ease_quad;\n\t    },\n\t    cubic: function() {\n\t      return d3_ease_cubic;\n\t    },\n\t    sin: function() {\n\t      return d3_ease_sin;\n\t    },\n\t    exp: function() {\n\t      return d3_ease_exp;\n\t    },\n\t    circle: function() {\n\t      return d3_ease_circle;\n\t    },\n\t    elastic: d3_ease_elastic,\n\t    back: d3_ease_back,\n\t    bounce: function() {\n\t      return d3_ease_bounce;\n\t    }\n\t  });\n\t  var d3_ease_mode = d3.map({\n\t    \"in\": d3_identity,\n\t    out: d3_ease_reverse,\n\t    \"in-out\": d3_ease_reflect,\n\t    \"out-in\": function(f) {\n\t      return d3_ease_reflect(d3_ease_reverse(f));\n\t    }\n\t  });\n\t  d3.ease = function(name) {\n\t    var i = name.indexOf(\"-\"), t = i >= 0 ? name.slice(0, i) : name, m = i >= 0 ? name.slice(i + 1) : \"in\";\n\t    t = d3_ease.get(t) || d3_ease_default;\n\t    m = d3_ease_mode.get(m) || d3_identity;\n\t    return d3_ease_clamp(m(t.apply(null, d3_arraySlice.call(arguments, 1))));\n\t  };\n\t  function d3_ease_clamp(f) {\n\t    return function(t) {\n\t      return t <= 0 ? 0 : t >= 1 ? 1 : f(t);\n\t    };\n\t  }\n\t  function d3_ease_reverse(f) {\n\t    return function(t) {\n\t      return 1 - f(1 - t);\n\t    };\n\t  }\n\t  function d3_ease_reflect(f) {\n\t    return function(t) {\n\t      return .5 * (t < .5 ? f(2 * t) : 2 - f(2 - 2 * t));\n\t    };\n\t  }\n\t  function d3_ease_quad(t) {\n\t    return t * t;\n\t  }\n\t  function d3_ease_cubic(t) {\n\t    return t * t * t;\n\t  }\n\t  function d3_ease_cubicInOut(t) {\n\t    if (t <= 0) return 0;\n\t    if (t >= 1) return 1;\n\t    var t2 = t * t, t3 = t2 * t;\n\t    return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);\n\t  }\n\t  function d3_ease_poly(e) {\n\t    return function(t) {\n\t      return Math.pow(t, e);\n\t    };\n\t  }\n\t  function d3_ease_sin(t) {\n\t    return 1 - Math.cos(t * half);\n\t  }\n\t  function d3_ease_exp(t) {\n\t    return Math.pow(2, 10 * (t - 1));\n\t  }\n\t  function d3_ease_circle(t) {\n\t    return 1 - Math.sqrt(1 - t * t);\n\t  }\n\t  function d3_ease_elastic(a, p) {\n\t    var s;\n\t    if (arguments.length < 2) p = .45;\n\t    if (arguments.length) s = p /  * Math.asin(1 / a); else a = 1, s = p / 4;\n\t    return function(t) {\n\t      return 1 + a * Math.pow(2, -10 * t) * Math.sin((t - s) *  / p);\n\t    };\n\t  }\n\t  function d3_ease_back(s) {\n\t    if (!s) s = 1.70158;\n\t    return function(t) {\n\t      return t * t * ((s + 1) * t - s);\n\t    };\n\t  }\n\t  function d3_ease_bounce(t) {\n\t    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n\t  }\n\t  d3.interpolateHcl = d3_interpolateHcl;\n\t  function d3_interpolateHcl(a, b) {\n\t    a = d3.hcl(a);\n\t    b = d3.hcl(b);\n\t    var ah = a.h, ac = a.c, al = a.l, bh = b.h - ah, bc = b.c - ac, bl = b.l - al;\n\t    if (isNaN(bc)) bc = 0, ac = isNaN(ac) ? b.c : ac;\n\t    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n\t    return function(t) {\n\t      return d3_hcl_lab(ah + bh * t, ac + bc * t, al + bl * t) + \"\";\n\t    };\n\t  }\n\t  d3.interpolateHsl = d3_interpolateHsl;\n\t  function d3_interpolateHsl(a, b) {\n\t    a = d3.hsl(a);\n\t    b = d3.hsl(b);\n\t    var ah = a.h, as = a.s, al = a.l, bh = b.h - ah, bs = b.s - as, bl = b.l - al;\n\t    if (isNaN(bs)) bs = 0, as = isNaN(as) ? b.s : as;\n\t    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n\t    return function(t) {\n\t      return d3_hsl_rgb(ah + bh * t, as + bs * t, al + bl * t) + \"\";\n\t    };\n\t  }\n\t  d3.interpolateLab = d3_interpolateLab;\n\t  function d3_interpolateLab(a, b) {\n\t    a = d3.lab(a);\n\t    b = d3.lab(b);\n\t    var al = a.l, aa = a.a, ab = a.b, bl = b.l - al, ba = b.a - aa, bb = b.b - ab;\n\t    return function(t) {\n\t      return d3_lab_rgb(al + bl * t, aa + ba * t, ab + bb * t) + \"\";\n\t    };\n\t  }\n\t  d3.interpolateRound = d3_interpolateRound;\n\t  function d3_interpolateRound(a, b) {\n\t    b -= a;\n\t    return function(t) {\n\t      return Math.round(a + b * t);\n\t    };\n\t  }\n\t  d3.transform = function(string) {\n\t    var g = d3_document.createElementNS(d3.ns.prefix.svg, \"g\");\n\t    return (d3.transform = function(string) {\n\t      if (string != null) {\n\t        g.setAttribute(\"transform\", string);\n\t        var t = g.transform.baseVal.consolidate();\n\t      }\n\t      return new d3_transform(t ? t.matrix : d3_transformIdentity);\n\t    })(string);\n\t  };\n\t  function d3_transform(m) {\n\t    var r0 = [ m.a, m.b ], r1 = [ m.c, m.d ], kx = d3_transformNormalize(r0), kz = d3_transformDot(r0, r1), ky = d3_transformNormalize(d3_transformCombine(r1, r0, -kz)) || 0;\n\t    if (r0[0] * r1[1] < r1[0] * r0[1]) {\n\t      r0[0] *= -1;\n\t      r0[1] *= -1;\n\t      kx *= -1;\n\t      kz *= -1;\n\t    }\n\t    this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * d3_degrees;\n\t    this.translate = [ m.e, m.f ];\n\t    this.scale = [ kx, ky ];\n\t    this.skew = ky ? Math.atan2(kz, ky) * d3_degrees : 0;\n\t  }\n\t  d3_transform.prototype.toString = function() {\n\t    return \"translate(\" + this.translate + \")rotate(\" + this.rotate + \")skewX(\" + this.skew + \")scale(\" + this.scale + \")\";\n\t  };\n\t  function d3_transformDot(a, b) {\n\t    return a[0] * b[0] + a[1] * b[1];\n\t  }\n\t  function d3_transformNormalize(a) {\n\t    var k = Math.sqrt(d3_transformDot(a, a));\n\t    if (k) {\n\t      a[0] /= k;\n\t      a[1] /= k;\n\t    }\n\t    return k;\n\t  }\n\t  function d3_transformCombine(a, b, k) {\n\t    a[0] += k * b[0];\n\t    a[1] += k * b[1];\n\t    return a;\n\t  }\n\t  var d3_transformIdentity = {\n\t    a: 1,\n\t    b: 0,\n\t    c: 0,\n\t    d: 1,\n\t    e: 0,\n\t    f: 0\n\t  };\n\t  d3.interpolateTransform = d3_interpolateTransform;\n\t  function d3_interpolateTransformPop(s) {\n\t    return s.length ? s.pop() + \",\" : \"\";\n\t  }\n\t  function d3_interpolateTranslate(ta, tb, s, q) {\n\t    if (ta[0] !== tb[0] || ta[1] !== tb[1]) {\n\t      var i = s.push(\"translate(\", null, \",\", null, \")\");\n\t      q.push({\n\t        i: i - 4,\n\t        x: d3_interpolateNumber(ta[0], tb[0])\n\t      }, {\n\t        i: i - 2,\n\t        x: d3_interpolateNumber(ta[1], tb[1])\n\t      });\n\t    } else if (tb[0] || tb[1]) {\n\t      s.push(\"translate(\" + tb + \")\");\n\t    }\n\t  }\n\t  function d3_interpolateRotate(ra, rb, s, q) {\n\t    if (ra !== rb) {\n\t      if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360;\n\t      q.push({\n\t        i: s.push(d3_interpolateTransformPop(s) + \"rotate(\", null, \")\") - 2,\n\t        x: d3_interpolateNumber(ra, rb)\n\t      });\n\t    } else if (rb) {\n\t      s.push(d3_interpolateTransformPop(s) + \"rotate(\" + rb + \")\");\n\t    }\n\t  }\n\t  function d3_interpolateSkew(wa, wb, s, q) {\n\t    if (wa !== wb) {\n\t      q.push({\n\t        i: s.push(d3_interpolateTransformPop(s) + \"skewX(\", null, \")\") - 2,\n\t        x: d3_interpolateNumber(wa, wb)\n\t      });\n\t    } else if (wb) {\n\t      s.push(d3_interpolateTransformPop(s) + \"skewX(\" + wb + \")\");\n\t    }\n\t  }\n\t  function d3_interpolateScale(ka, kb, s, q) {\n\t    if (ka[0] !== kb[0] || ka[1] !== kb[1]) {\n\t      var i = s.push(d3_interpolateTransformPop(s) + \"scale(\", null, \",\", null, \")\");\n\t      q.push({\n\t        i: i - 4,\n\t        x: d3_interpolateNumber(ka[0], kb[0])\n\t      }, {\n\t        i: i - 2,\n\t        x: d3_interpolateNumber(ka[1], kb[1])\n\t      });\n\t    } else if (kb[0] !== 1 || kb[1] !== 1) {\n\t      s.push(d3_interpolateTransformPop(s) + \"scale(\" + kb + \")\");\n\t    }\n\t  }\n\t  function d3_interpolateTransform(a, b) {\n\t    var s = [], q = [];\n\t    a = d3.transform(a), b = d3.transform(b);\n\t    d3_interpolateTranslate(a.translate, b.translate, s, q);\n\t    d3_interpolateRotate(a.rotate, b.rotate, s, q);\n\t    d3_interpolateSkew(a.skew, b.skew, s, q);\n\t    d3_interpolateScale(a.scale, b.scale, s, q);\n\t    a = b = null;\n\t    return function(t) {\n\t      var i = -1, n = q.length, o;\n\t      while (++i < n) s[(o = q[i]).i] = o.x(t);\n\t      return s.join(\"\");\n\t    };\n\t  }\n\t  function d3_uninterpolateNumber(a, b) {\n\t    b = (b -= a = +a) || 1 / b;\n\t    return function(x) {\n\t      return (x - a) / b;\n\t    };\n\t  }\n\t  function d3_uninterpolateClamp(a, b) {\n\t    b = (b -= a = +a) || 1 / b;\n\t    return function(x) {\n\t      return Math.max(0, Math.min(1, (x - a) / b));\n\t    };\n\t  }\n\t  d3.layout = {};\n\t  d3.layout.bundle = function() {\n\t    return function(links) {\n\t      var paths = [], i = -1, n = links.length;\n\t      while (++i < n) paths.push(d3_layout_bundlePath(links[i]));\n\t      return paths;\n\t    };\n\t  };\n\t  function d3_layout_bundlePath(link) {\n\t    var start = link.source, end = link.target, lca = d3_layout_bundleLeastCommonAncestor(start, end), points = [ start ];\n\t    while (start !== lca) {\n\t      start = start.parent;\n\t      points.push(start);\n\t    }\n\t    var k = points.length;\n\t    while (end !== lca) {\n\t      points.splice(k, 0, end);\n\t      end = end.parent;\n\t    }\n\t    return points;\n\t  }\n\t  function d3_layout_bundleAncestors(node) {\n\t    var ancestors = [], parent = node.parent;\n\t    while (parent != null) {\n\t      ancestors.push(node);\n\t      node = parent;\n\t      parent = parent.parent;\n\t    }\n\t    ancestors.push(node);\n\t    return ancestors;\n\t  }\n\t  function d3_layout_bundleLeastCommonAncestor(a, b) {\n\t    if (a === b) return a;\n\t    var aNodes = d3_layout_bundleAncestors(a), bNodes = d3_layout_bundleAncestors(b), aNode = aNodes.pop(), bNode = bNodes.pop(), sharedNode = null;\n\t    while (aNode === bNode) {\n\t      sharedNode = aNode;\n\t      aNode = aNodes.pop();\n\t      bNode = bNodes.pop();\n\t    }\n\t    return sharedNode;\n\t  }\n\t  d3.layout.chord = function() {\n\t    var chord = {}, chords, groups, matrix, n, padding = 0, sortGroups, sortSubgroups, sortChords;\n\t    function relayout() {\n\t      var subgroups = {}, groupSums = [], groupIndex = d3.range(n), subgroupIndex = [], k, x, x0, i, j;\n\t      chords = [];\n\t      groups = [];\n\t      k = 0, i = -1;\n\t      while (++i < n) {\n\t        x = 0, j = -1;\n\t        while (++j < n) {\n\t          x += matrix[i][j];\n\t        }\n\t        groupSums.push(x);\n\t        subgroupIndex.push(d3.range(n));\n\t        k += x;\n\t      }\n\t      if (sortGroups) {\n\t        groupIndex.sort(function(a, b) {\n\t          return sortGroups(groupSums[a], groupSums[b]);\n\t        });\n\t      }\n\t      if (sortSubgroups) {\n\t        subgroupIndex.forEach(function(d, i) {\n\t          d.sort(function(a, b) {\n\t            return sortSubgroups(matrix[i][a], matrix[i][b]);\n\t          });\n\t        });\n\t      }\n\t      k = ( - padding * n) / k;\n\t      x = 0, i = -1;\n\t      while (++i < n) {\n\t        x0 = x, j = -1;\n\t        while (++j < n) {\n\t          var di = groupIndex[i], dj = subgroupIndex[di][j], v = matrix[di][dj], a0 = x, a1 = x += v * k;\n\t          subgroups[di + \"-\" + dj] = {\n\t            index: di,\n\t            subindex: dj,\n\t            startAngle: a0,\n\t            endAngle: a1,\n\t            value: v\n\t          };\n\t        }\n\t        groups[di] = {\n\t          index: di,\n\t          startAngle: x0,\n\t          endAngle: x,\n\t          value: groupSums[di]\n\t        };\n\t        x += padding;\n\t      }\n\t      i = -1;\n\t      while (++i < n) {\n\t        j = i - 1;\n\t        while (++j < n) {\n\t          var source = subgroups[i + \"-\" + j], target = subgroups[j + \"-\" + i];\n\t          if (source.value || target.value) {\n\t            chords.push(source.value < target.value ? {\n\t              source: target,\n\t              target: source\n\t            } : {\n\t              source: source,\n\t              target: target\n\t            });\n\t          }\n\t        }\n\t      }\n\t      if (sortChords) resort();\n\t    }\n\t    function resort() {\n\t      chords.sort(function(a, b) {\n\t        return sortChords((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2);\n\t      });\n\t    }\n\t    chord.matrix = function(x) {\n\t      if (!arguments.length) return matrix;\n\t      n = (matrix = x) && matrix.length;\n\t      chords = groups = null;\n\t      return chord;\n\t    };\n\t    chord.padding = function(x) {\n\t      if (!arguments.length) return padding;\n\t      padding = x;\n\t      chords = groups = null;\n\t      return chord;\n\t    };\n\t    chord.sortGroups = function(x) {\n\t      if (!arguments.length) return sortGroups;\n\t      sortGroups = x;\n\t      chords = groups = null;\n\t      return chord;\n\t    };\n\t    chord.sortSubgroups = function(x) {\n\t      if (!arguments.length) return sortSubgroups;\n\t      sortSubgroups = x;\n\t      chords = null;\n\t      return chord;\n\t    };\n\t    chord.sortChords = function(x) {\n\t      if (!arguments.length) return sortChords;\n\t      sortChords = x;\n\t      if (chords) resort();\n\t      return chord;\n\t    };\n\t    chord.chords = function() {\n\t      if (!chords) relayout();\n\t      return chords;\n\t    };\n\t    chord.groups = function() {\n\t      if (!groups) relayout();\n\t      return groups;\n\t    };\n\t    return chord;\n\t  };\n\t  d3.layout.force = function() {\n\t    var force = {}, event = d3.dispatch(\"start\", \"tick\", \"end\"), timer, size = [ 1, 1 ], drag, alpha, friction = .9, linkDistance = d3_layout_forceLinkDistance, linkStrength = d3_layout_forceLinkStrength, charge = -30, chargeDistance2 = d3_layout_forceChargeDistance2, gravity = .1, theta2 = .64, nodes = [], links = [], distances, strengths, charges;\n\t    function repulse(node) {\n\t      return function(quad, x1, _, x2) {\n\t        if (quad.point !== node) {\n\t          var dx = quad.cx - node.x, dy = quad.cy - node.y, dw = x2 - x1, dn = dx * dx + dy * dy;\n\t          if (dw * dw / theta2 < dn) {\n\t            if (dn < chargeDistance2) {\n\t              var k = quad.charge / dn;\n\t              node.px -= dx * k;\n\t              node.py -= dy * k;\n\t            }\n\t            return true;\n\t          }\n\t          if (quad.point && dn && dn < chargeDistance2) {\n\t            var k = quad.pointCharge / dn;\n\t            node.px -= dx * k;\n\t            node.py -= dy * k;\n\t          }\n\t        }\n\t        return !quad.charge;\n\t      };\n\t    }\n\t    force.tick = function() {\n\t      if ((alpha *= .99) < .005) {\n\t        timer = null;\n\t        event.end({\n\t          type: \"end\",\n\t          alpha: alpha = 0\n\t        });\n\t        return true;\n\t      }\n\t      var n = nodes.length, m = links.length, q, i, o, s, t, l, k, x, y;\n\t      for (i = 0; i < m; ++i) {\n\t        o = links[i];\n\t        s = o.source;\n\t        t = o.target;\n\t        x = t.x - s.x;\n\t        y = t.y - s.y;\n\t        if (l = x * x + y * y) {\n\t          l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;\n\t          x *= l;\n\t          y *= l;\n\t          t.x -= x * (k = s.weight + t.weight ? s.weight / (s.weight + t.weight) : .5);\n\t          t.y -= y * k;\n\t          s.x += x * (k = 1 - k);\n\t          s.y += y * k;\n\t        }\n\t      }\n\t      if (k = alpha * gravity) {\n\t        x = size[0] / 2;\n\t        y = size[1] / 2;\n\t        i = -1;\n\t        if (k) while (++i < n) {\n\t          o = nodes[i];\n\t          o.x += (x - o.x) * k;\n\t          o.y += (y - o.y) * k;\n\t        }\n\t      }\n\t      if (charge) {\n\t        d3_layout_forceAccumulate(q = d3.geom.quadtree(nodes), alpha, charges);\n\t        i = -1;\n\t        while (++i < n) {\n\t          if (!(o = nodes[i]).fixed) {\n\t            q.visit(repulse(o));\n\t          }\n\t        }\n\t      }\n\t      i = -1;\n\t      while (++i < n) {\n\t        o = nodes[i];\n\t        if (o.fixed) {\n\t          o.x = o.px;\n\t          o.y = o.py;\n\t        } else {\n\t          o.x -= (o.px - (o.px = o.x)) * friction;\n\t          o.y -= (o.py - (o.py = o.y)) * friction;\n\t        }\n\t      }\n\t      event.tick({\n\t        type: \"tick\",\n\t        alpha: alpha\n\t      });\n\t    };\n\t    force.nodes = function(x) {\n\t      if (!arguments.length) return nodes;\n\t      nodes = x;\n\t      return force;\n\t    };\n\t    force.links = function(x) {\n\t      if (!arguments.length) return links;\n\t      links = x;\n\t      return force;\n\t    };\n\t    force.size = function(x) {\n\t      if (!arguments.length) return size;\n\t      size = x;\n\t      return force;\n\t    };\n\t    force.linkDistance = function(x) {\n\t      if (!arguments.length) return linkDistance;\n\t      linkDistance = typeof x === \"function\" ? x : +x;\n\t      return force;\n\t    };\n\t    force.distance = force.linkDistance;\n\t    force.linkStrength = function(x) {\n\t      if (!arguments.length) return linkStrength;\n\t      linkStrength = typeof x === \"function\" ? x : +x;\n\t      return force;\n\t    };\n\t    force.friction = function(x) {\n\t      if (!arguments.length) return friction;\n\t      friction = +x;\n\t      return force;\n\t    };\n\t    force.charge = function(x) {\n\t      if (!arguments.length) return charge;\n\t      charge = typeof x === \"function\" ? x : +x;\n\t      return force;\n\t    };\n\t    force.chargeDistance = function(x) {\n\t      if (!arguments.length) return Math.sqrt(chargeDistance2);\n\t      chargeDistance2 = x * x;\n\t      return force;\n\t    };\n\t    force.gravity = function(x) {\n\t      if (!arguments.length) return gravity;\n\t      gravity = +x;\n\t      return force;\n\t    };\n\t    force.theta = function(x) {\n\t      if (!arguments.length) return Math.sqrt(theta2);\n\t      theta2 = x * x;\n\t      return force;\n\t    };\n\t    force.alpha = function(x) {\n\t      if (!arguments.length) return alpha;\n\t      x = +x;\n\t      if (alpha) {\n\t        if (x > 0) {\n\t          alpha = x;\n\t        } else {\n\t          timer.c = null, timer.t = NaN, timer = null;\n\t          event.end({\n\t            type: \"end\",\n\t            alpha: alpha = 0\n\t          });\n\t        }\n\t      } else if (x > 0) {\n\t        event.start({\n\t          type: \"start\",\n\t          alpha: alpha = x\n\t        });\n\t        timer = d3_timer(force.tick);\n\t      }\n\t      return force;\n\t    };\n\t    force.start = function() {\n\t      var i, n = nodes.length, m = links.length, w = size[0], h = size[1], neighbors, o;\n\t      for (i = 0; i < n; ++i) {\n\t        (o = nodes[i]).index = i;\n\t        o.weight = 0;\n\t      }\n\t      for (i = 0; i < m; ++i) {\n\t        o = links[i];\n\t        if (typeof o.source == \"number\") o.source = nodes[o.source];\n\t        if (typeof o.target == \"number\") o.target = nodes[o.target];\n\t        ++o.source.weight;\n\t        ++o.target.weight;\n\t      }\n\t      for (i = 0; i < n; ++i) {\n\t        o = nodes[i];\n\t        if (isNaN(o.x)) o.x = position(\"x\", w);\n\t        if (isNaN(o.y)) o.y = position(\"y\", h);\n\t        if (isNaN(o.px)) o.px = o.x;\n\t        if (isNaN(o.py)) o.py = o.y;\n\t      }\n\t      distances = [];\n\t      if (typeof linkDistance === \"function\") for (i = 0; i < m; ++i) distances[i] = +linkDistance.call(this, links[i], i); else for (i = 0; i < m; ++i) distances[i] = linkDistance;\n\t      strengths = [];\n\t      if (typeof linkStrength === \"function\") for (i = 0; i < m; ++i) strengths[i] = +linkStrength.call(this, links[i], i); else for (i = 0; i < m; ++i) strengths[i] = linkStrength;\n\t      charges = [];\n\t      if (typeof charge === \"function\") for (i = 0; i < n; ++i) charges[i] = +charge.call(this, nodes[i], i); else for (i = 0; i < n; ++i) charges[i] = charge;\n\t      function position(dimension, size) {\n\t        if (!neighbors) {\n\t          neighbors = new Array(n);\n\t          for (j = 0; j < n; ++j) {\n\t            neighbors[j] = [];\n\t          }\n\t          for (j = 0; j < m; ++j) {\n\t            var o = links[j];\n\t            neighbors[o.source.index].push(o.target);\n\t            neighbors[o.target.index].push(o.source);\n\t          }\n\t        }\n\t        var candidates = neighbors[i], j = -1, l = candidates.length, x;\n\t        while (++j < l) if (!isNaN(x = candidates[j][dimension])) return x;\n\t        return Math.random() * size;\n\t      }\n\t      return force.resume();\n\t    };\n\t    force.resume = function() {\n\t      return force.alpha(.1);\n\t    };\n\t    force.stop = function() {\n\t      return force.alpha(0);\n\t    };\n\t    force.drag = function() {\n\t      if (!drag) drag = d3.behavior.drag().origin(d3_identity).on(\"dragstart.force\", d3_layout_forceDragstart).on(\"drag.force\", dragmove).on(\"dragend.force\", d3_layout_forceDragend);\n\t      if (!arguments.length) return drag;\n\t      this.on(\"mouseover.force\", d3_layout_forceMouseover).on(\"mouseout.force\", d3_layout_forceMouseout).call(drag);\n\t    };\n\t    function dragmove(d) {\n\t      d.px = d3.event.x, d.py = d3.event.y;\n\t      force.resume();\n\t    }\n\t    return d3.rebind(force, event, \"on\");\n\t  };\n\t  function d3_layout_forceDragstart(d) {\n\t    d.fixed |= 2;\n\t  }\n\t  function d3_layout_forceDragend(d) {\n\t    d.fixed &= ~6;\n\t  }\n\t  function d3_layout_forceMouseover(d) {\n\t    d.fixed |= 4;\n\t    d.px = d.x, d.py = d.y;\n\t  }\n\t  function d3_layout_forceMouseout(d) {\n\t    d.fixed &= ~4;\n\t  }\n\t  function d3_layout_forceAccumulate(quad, alpha, charges) {\n\t    var cx = 0, cy = 0;\n\t    quad.charge = 0;\n\t    if (!quad.leaf) {\n\t      var nodes = quad.nodes, n = nodes.length, i = -1, c;\n\t      while (++i < n) {\n\t        c = nodes[i];\n\t        if (c == null) continue;\n\t        d3_layout_forceAccumulate(c, alpha, charges);\n\t        quad.charge += c.charge;\n\t        cx += c.charge * c.cx;\n\t        cy += c.charge * c.cy;\n\t      }\n\t    }\n\t    if (quad.point) {\n\t      if (!quad.leaf) {\n\t        quad.point.x += Math.random() - .5;\n\t        quad.point.y += Math.random() - .5;\n\t      }\n\t      var k = alpha * charges[quad.point.index];\n\t      quad.charge += quad.pointCharge = k;\n\t      cx += k * quad.point.x;\n\t      cy += k * quad.point.y;\n\t    }\n\t    quad.cx = cx / quad.charge;\n\t    quad.cy = cy / quad.charge;\n\t  }\n\t  var d3_layout_forceLinkDistance = 20, d3_layout_forceLinkStrength = 1, d3_layout_forceChargeDistance2 = Infinity;\n\t  d3.layout.hierarchy = function() {\n\t    var sort = d3_layout_hierarchySort, children = d3_layout_hierarchyChildren, value = d3_layout_hierarchyValue;\n\t    function hierarchy(root) {\n\t      var stack = [ root ], nodes = [], node;\n\t      root.depth = 0;\n\t      while ((node = stack.pop()) != null) {\n\t        nodes.push(node);\n\t        if ((childs = children.call(hierarchy, node, node.depth)) && (n = childs.length)) {\n\t          var n, childs, child;\n\t          while (--n >= 0) {\n\t            stack.push(child = childs[n]);\n\t            child.parent = node;\n\t            child.depth = node.depth + 1;\n\t          }\n\t          if (value) node.value = 0;\n\t          node.children = childs;\n\t        } else {\n\t          if (value) node.value = +value.call(hierarchy, node, node.depth) || 0;\n\t          delete node.children;\n\t        }\n\t      }\n\t      d3_layout_hierarchyVisitAfter(root, function(node) {\n\t        var childs, parent;\n\t        if (sort && (childs = node.children)) childs.sort(sort);\n\t        if (value && (parent = node.parent)) parent.value += node.value;\n\t      });\n\t      return nodes;\n\t    }\n\t    hierarchy.sort = function(x) {\n\t      if (!arguments.length) return sort;\n\t      sort = x;\n\t      return hierarchy;\n\t    };\n\t    hierarchy.children = function(x) {\n\t      if (!arguments.length) return children;\n\t      children = x;\n\t      return hierarchy;\n\t    };\n\t    hierarchy.value = function(x) {\n\t      if (!arguments.length) return value;\n\t      value = x;\n\t      return hierarchy;\n\t    };\n\t    hierarchy.revalue = function(root) {\n\t      if (value) {\n\t        d3_layout_hierarchyVisitBefore(root, function(node) {\n\t          if (node.children) node.value = 0;\n\t        });\n\t        d3_layout_hierarchyVisitAfter(root, function(node) {\n\t          var parent;\n\t          if (!node.children) node.value = +value.call(hierarchy, node, node.depth) || 0;\n\t          if (parent = node.parent) parent.value += node.value;\n\t        });\n\t      }\n\t      return root;\n\t    };\n\t    return hierarchy;\n\t  };\n\t  function d3_layout_hierarchyRebind(object, hierarchy) {\n\t    d3.rebind(object, hierarchy, \"sort\", \"children\", \"value\");\n\t    object.nodes = object;\n\t    object.links = d3_layout_hierarchyLinks;\n\t    return object;\n\t  }\n\t  function d3_layout_hierarchyVisitBefore(node, callback) {\n\t    var nodes = [ node ];\n\t    while ((node = nodes.pop()) != null) {\n\t      callback(node);\n\t      if ((children = node.children) && (n = children.length)) {\n\t        var n, children;\n\t        while (--n >= 0) nodes.push(children[n]);\n\t      }\n\t    }\n\t  }\n\t  function d3_layout_hierarchyVisitAfter(node, callback) {\n\t    var nodes = [ node ], nodes2 = [];\n\t    while ((node = nodes.pop()) != null) {\n\t      nodes2.push(node);\n\t      if ((children = node.children) && (n = children.length)) {\n\t        var i = -1, n, children;\n\t        while (++i < n) nodes.push(children[i]);\n\t      }\n\t    }\n\t    while ((node = nodes2.pop()) != null) {\n\t      callback(node);\n\t    }\n\t  }\n\t  function d3_layout_hierarchyChildren(d) {\n\t    return d.children;\n\t  }\n\t  function d3_layout_hierarchyValue(d) {\n\t    return d.value;\n\t  }\n\t  function d3_layout_hierarchySort(a, b) {\n\t    return b.value - a.value;\n\t  }\n\t  function d3_layout_hierarchyLinks(nodes) {\n\t    return d3.merge(nodes.map(function(parent) {\n\t      return (parent.children || []).map(function(child) {\n\t        return {\n\t          source: parent,\n\t          target: child\n\t        };\n\t      });\n\t    }));\n\t  }\n\t  d3.layout.partition = function() {\n\t    var hierarchy = d3.layout.hierarchy(), size = [ 1, 1 ];\n\t    function position(node, x, dx, dy) {\n\t      var children = node.children;\n\t      node.x = x;\n\t      node.y = node.depth * dy;\n\t      node.dx = dx;\n\t      node.dy = dy;\n\t      if (children && (n = children.length)) {\n\t        var i = -1, n, c, d;\n\t        dx = node.value ? dx / node.value : 0;\n\t        while (++i < n) {\n\t          position(c = children[i], x, d = c.value * dx, dy);\n\t          x += d;\n\t        }\n\t      }\n\t    }\n\t    function depth(node) {\n\t      var children = node.children, d = 0;\n\t      if (children && (n = children.length)) {\n\t        var i = -1, n;\n\t        while (++i < n) d = Math.max(d, depth(children[i]));\n\t      }\n\t      return 1 + d;\n\t    }\n\t    function partition(d, i) {\n\t      var nodes = hierarchy.call(this, d, i);\n\t      position(nodes[0], 0, size[0], size[1] / depth(nodes[0]));\n\t      return nodes;\n\t    }\n\t    partition.size = function(x) {\n\t      if (!arguments.length) return size;\n\t      size = x;\n\t      return partition;\n\t    };\n\t    return d3_layout_hierarchyRebind(partition, hierarchy);\n\t  };\n\t  d3.layout.pie = function() {\n\t    var value = Number, sort = d3_layout_pieSortByValue, startAngle = 0, endAngle = , padAngle = 0;\n\t    function pie(data) {\n\t      var n = data.length, values = data.map(function(d, i) {\n\t        return +value.call(pie, d, i);\n\t      }), a = +(typeof startAngle === \"function\" ? startAngle.apply(this, arguments) : startAngle), da = (typeof endAngle === \"function\" ? endAngle.apply(this, arguments) : endAngle) - a, p = Math.min(Math.abs(da) / n, +(typeof padAngle === \"function\" ? padAngle.apply(this, arguments) : padAngle)), pa = p * (da < 0 ? -1 : 1), sum = d3.sum(values), k = sum ? (da - n * pa) / sum : 0, index = d3.range(n), arcs = [], v;\n\t      if (sort != null) index.sort(sort === d3_layout_pieSortByValue ? function(i, j) {\n\t        return values[j] - values[i];\n\t      } : function(i, j) {\n\t        return sort(data[i], data[j]);\n\t      });\n\t      index.forEach(function(i) {\n\t        arcs[i] = {\n\t          data: data[i],\n\t          value: v = values[i],\n\t          startAngle: a,\n\t          endAngle: a += v * k + pa,\n\t          padAngle: p\n\t        };\n\t      });\n\t      return arcs;\n\t    }\n\t    pie.value = function(_) {\n\t      if (!arguments.length) return value;\n\t      value = _;\n\t      return pie;\n\t    };\n\t    pie.sort = function(_) {\n\t      if (!arguments.length) return sort;\n\t      sort = _;\n\t      return pie;\n\t    };\n\t    pie.startAngle = function(_) {\n\t      if (!arguments.length) return startAngle;\n\t      startAngle = _;\n\t      return pie;\n\t    };\n\t    pie.endAngle = function(_) {\n\t      if (!arguments.length) return endAngle;\n\t      endAngle = _;\n\t      return pie;\n\t    };\n\t    pie.padAngle = function(_) {\n\t      if (!arguments.length) return padAngle;\n\t      padAngle = _;\n\t      return pie;\n\t    };\n\t    return pie;\n\t  };\n\t  var d3_layout_pieSortByValue = {};\n\t  d3.layout.stack = function() {\n\t    var values = d3_identity, order = d3_layout_stackOrderDefault, offset = d3_layout_stackOffsetZero, out = d3_layout_stackOut, x = d3_layout_stackX, y = d3_layout_stackY;\n\t    function stack(data, index) {\n\t      if (!(n = data.length)) return data;\n\t      var series = data.map(function(d, i) {\n\t        return values.call(stack, d, i);\n\t      });\n\t      var points = series.map(function(d) {\n\t        return d.map(function(v, i) {\n\t          return [ x.call(stack, v, i), y.call(stack, v, i) ];\n\t        });\n\t      });\n\t      var orders = order.call(stack, points, index);\n\t      series = d3.permute(series, orders);\n\t      points = d3.permute(points, orders);\n\t      var offsets = offset.call(stack, points, index);\n\t      var m = series[0].length, n, i, j, o;\n\t      for (j = 0; j < m; ++j) {\n\t        out.call(stack, series[0][j], o = offsets[j], points[0][j][1]);\n\t        for (i = 1; i < n; ++i) {\n\t          out.call(stack, series[i][j], o += points[i - 1][j][1], points[i][j][1]);\n\t        }\n\t      }\n\t      return data;\n\t    }\n\t    stack.values = function(x) {\n\t      if (!arguments.length) return values;\n\t      values = x;\n\t      return stack;\n\t    };\n\t    stack.order = function(x) {\n\t      if (!arguments.length) return order;\n\t      order = typeof x === \"function\" ? x : d3_layout_stackOrders.get(x) || d3_layout_stackOrderDefault;\n\t      return stack;\n\t    };\n\t    stack.offset = function(x) {\n\t      if (!arguments.length) return offset;\n\t      offset = typeof x === \"function\" ? x : d3_layout_stackOffsets.get(x) || d3_layout_stackOffsetZero;\n\t      return stack;\n\t    };\n\t    stack.x = function(z) {\n\t      if (!arguments.length) return x;\n\t      x = z;\n\t      return stack;\n\t    };\n\t    stack.y = function(z) {\n\t      if (!arguments.length) return y;\n\t      y = z;\n\t      return stack;\n\t    };\n\t    stack.out = function(z) {\n\t      if (!arguments.length) return out;\n\t      out = z;\n\t      return stack;\n\t    };\n\t    return stack;\n\t  };\n\t  function d3_layout_stackX(d) {\n\t    return d.x;\n\t  }\n\t  function d3_layout_stackY(d) {\n\t    return d.y;\n\t  }\n\t  function d3_layout_stackOut(d, y0, y) {\n\t    d.y0 = y0;\n\t    d.y = y;\n\t  }\n\t  var d3_layout_stackOrders = d3.map({\n\t    \"inside-out\": function(data) {\n\t      var n = data.length, i, j, max = data.map(d3_layout_stackMaxIndex), sums = data.map(d3_layout_stackReduceSum), index = d3.range(n).sort(function(a, b) {\n\t        return max[a] - max[b];\n\t      }), top = 0, bottom = 0, tops = [], bottoms = [];\n\t      for (i = 0; i < n; ++i) {\n\t        j = index[i];\n\t        if (top < bottom) {\n\t          top += sums[j];\n\t          tops.push(j);\n\t        } else {\n\t          bottom += sums[j];\n\t          bottoms.push(j);\n\t        }\n\t      }\n\t      return bottoms.reverse().concat(tops);\n\t    },\n\t    reverse: function(data) {\n\t      return d3.range(data.length).reverse();\n\t    },\n\t    \"default\": d3_layout_stackOrderDefault\n\t  });\n\t  var d3_layout_stackOffsets = d3.map({\n\t    silhouette: function(data) {\n\t      var n = data.length, m = data[0].length, sums = [], max = 0, i, j, o, y0 = [];\n\t      for (j = 0; j < m; ++j) {\n\t        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n\t        if (o > max) max = o;\n\t        sums.push(o);\n\t      }\n\t      for (j = 0; j < m; ++j) {\n\t        y0[j] = (max - sums[j]) / 2;\n\t      }\n\t      return y0;\n\t    },\n\t    wiggle: function(data) {\n\t      var n = data.length, x = data[0], m = x.length, i, j, k, s1, s2, s3, dx, o, o0, y0 = [];\n\t      y0[0] = o = o0 = 0;\n\t      for (j = 1; j < m; ++j) {\n\t        for (i = 0, s1 = 0; i < n; ++i) s1 += data[i][j][1];\n\t        for (i = 0, s2 = 0, dx = x[j][0] - x[j - 1][0]; i < n; ++i) {\n\t          for (k = 0, s3 = (data[i][j][1] - data[i][j - 1][1]) / (2 * dx); k < i; ++k) {\n\t            s3 += (data[k][j][1] - data[k][j - 1][1]) / dx;\n\t          }\n\t          s2 += s3 * data[i][j][1];\n\t        }\n\t        y0[j] = o -= s1 ? s2 / s1 * dx : 0;\n\t        if (o < o0) o0 = o;\n\t      }\n\t      for (j = 0; j < m; ++j) y0[j] -= o0;\n\t      return y0;\n\t    },\n\t    expand: function(data) {\n\t      var n = data.length, m = data[0].length, k = 1 / n, i, j, o, y0 = [];\n\t      for (j = 0; j < m; ++j) {\n\t        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n\t        if (o) for (i = 0; i < n; i++) data[i][j][1] /= o; else for (i = 0; i < n; i++) data[i][j][1] = k;\n\t      }\n\t      for (j = 0; j < m; ++j) y0[j] = 0;\n\t      return y0;\n\t    },\n\t    zero: d3_layout_stackOffsetZero\n\t  });\n\t  function d3_layout_stackOrderDefault(data) {\n\t    return d3.range(data.length);\n\t  }\n\t  function d3_layout_stackOffsetZero(data) {\n\t    var j = -1, m = data[0].length, y0 = [];\n\t    while (++j < m) y0[j] = 0;\n\t    return y0;\n\t  }\n\t  function d3_layout_stackMaxIndex(array) {\n\t    var i = 1, j = 0, v = array[0][1], k, n = array.length;\n\t    for (;i < n; ++i) {\n\t      if ((k = array[i][1]) > v) {\n\t        j = i;\n\t        v = k;\n\t      }\n\t    }\n\t    return j;\n\t  }\n\t  function d3_layout_stackReduceSum(d) {\n\t    return d.reduce(d3_layout_stackSum, 0);\n\t  }\n\t  function d3_layout_stackSum(p, d) {\n\t    return p + d[1];\n\t  }\n\t  d3.layout.histogram = function() {\n\t    var frequency = true, valuer = Number, ranger = d3_layout_histogramRange, binner = d3_layout_histogramBinSturges;\n\t    function histogram(data, i) {\n\t      var bins = [], values = data.map(valuer, this), range = ranger.call(this, values, i), thresholds = binner.call(this, range, values, i), bin, i = -1, n = values.length, m = thresholds.length - 1, k = frequency ? 1 : 1 / n, x;\n\t      while (++i < m) {\n\t        bin = bins[i] = [];\n\t        bin.dx = thresholds[i + 1] - (bin.x = thresholds[i]);\n\t        bin.y = 0;\n\t      }\n\t      if (m > 0) {\n\t        i = -1;\n\t        while (++i < n) {\n\t          x = values[i];\n\t          if (x >= range[0] && x <= range[1]) {\n\t            bin = bins[d3.bisect(thresholds, x, 1, m) - 1];\n\t            bin.y += k;\n\t            bin.push(data[i]);\n\t          }\n\t        }\n\t      }\n\t      return bins;\n\t    }\n\t    histogram.value = function(x) {\n\t      if (!arguments.length) return valuer;\n\t      valuer = x;\n\t      return histogram;\n\t    };\n\t    histogram.range = function(x) {\n\t      if (!arguments.length) return ranger;\n\t      ranger = d3_functor(x);\n\t      return histogram;\n\t    };\n\t    histogram.bins = function(x) {\n\t      if (!arguments.length) return binner;\n\t      binner = typeof x === \"number\" ? function(range) {\n\t        return d3_layout_histogramBinFixed(range, x);\n\t      } : d3_functor(x);\n\t      return histogram;\n\t    };\n\t    histogram.frequency = function(x) {\n\t      if (!arguments.length) return frequency;\n\t      frequency = !!x;\n\t      return histogram;\n\t    };\n\t    return histogram;\n\t  };\n\t  function d3_layout_histogramBinSturges(range, values) {\n\t    return d3_layout_histogramBinFixed(range, Math.ceil(Math.log(values.length) / Math.LN2 + 1));\n\t  }\n\t  function d3_layout_histogramBinFixed(range, n) {\n\t    var x = -1, b = +range[0], m = (range[1] - b) / n, f = [];\n\t    while (++x <= n) f[x] = m * x + b;\n\t    return f;\n\t  }\n\t  function d3_layout_histogramRange(values) {\n\t    return [ d3.min(values), d3.max(values) ];\n\t  }\n\t  d3.layout.pack = function() {\n\t    var hierarchy = d3.layout.hierarchy().sort(d3_layout_packSort), padding = 0, size = [ 1, 1 ], radius;\n\t    function pack(d, i) {\n\t      var nodes = hierarchy.call(this, d, i), root = nodes[0], w = size[0], h = size[1], r = radius == null ? Math.sqrt : typeof radius === \"function\" ? radius : function() {\n\t        return radius;\n\t      };\n\t      root.x = root.y = 0;\n\t      d3_layout_hierarchyVisitAfter(root, function(d) {\n\t        d.r = +r(d.value);\n\t      });\n\t      d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n\t      if (padding) {\n\t        var dr = padding * (radius ? 1 : Math.max(2 * root.r / w, 2 * root.r / h)) / 2;\n\t        d3_layout_hierarchyVisitAfter(root, function(d) {\n\t          d.r += dr;\n\t        });\n\t        d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n\t        d3_layout_hierarchyVisitAfter(root, function(d) {\n\t          d.r -= dr;\n\t        });\n\t      }\n\t      d3_layout_packTransform(root, w / 2, h / 2, radius ? 1 : 1 / Math.max(2 * root.r / w, 2 * root.r / h));\n\t      return nodes;\n\t    }\n\t    pack.size = function(_) {\n\t      if (!arguments.length) return size;\n\t      size = _;\n\t      return pack;\n\t    };\n\t    pack.radius = function(_) {\n\t      if (!arguments.length) return radius;\n\t      radius = _ == null || typeof _ === \"function\" ? _ : +_;\n\t      return pack;\n\t    };\n\t    pack.padding = function(_) {\n\t      if (!arguments.length) return padding;\n\t      padding = +_;\n\t      return pack;\n\t    };\n\t    return d3_layout_hierarchyRebind(pack, hierarchy);\n\t  };\n\t  function d3_layout_packSort(a, b) {\n\t    return a.value - b.value;\n\t  }\n\t  function d3_layout_packInsert(a, b) {\n\t    var c = a._pack_next;\n\t    a._pack_next = b;\n\t    b._pack_prev = a;\n\t    b._pack_next = c;\n\t    c._pack_prev = b;\n\t  }\n\t  function d3_layout_packSplice(a, b) {\n\t    a._pack_next = b;\n\t    b._pack_prev = a;\n\t  }\n\t  function d3_layout_packIntersects(a, b) {\n\t    var dx = b.x - a.x, dy = b.y - a.y, dr = a.r + b.r;\n\t    return .999 * dr * dr > dx * dx + dy * dy;\n\t  }\n\t  function d3_layout_packSiblings(node) {\n\t    if (!(nodes = node.children) || !(n = nodes.length)) return;\n\t    var nodes, xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, a, b, c, i, j, k, n;\n\t    function bound(node) {\n\t      xMin = Math.min(node.x - node.r, xMin);\n\t      xMax = Math.max(node.x + node.r, xMax);\n\t      yMin = Math.min(node.y - node.r, yMin);\n\t      yMax = Math.max(node.y + node.r, yMax);\n\t    }\n\t    nodes.forEach(d3_layout_packLink);\n\t    a = nodes[0];\n\t    a.x = -a.r;\n\t    a.y = 0;\n\t    bound(a);\n\t    if (n > 1) {\n\t      b = nodes[1];\n\t      b.x = b.r;\n\t      b.y = 0;\n\t      bound(b);\n\t      if (n > 2) {\n\t        c = nodes[2];\n\t        d3_layout_packPlace(a, b, c);\n\t        bound(c);\n\t        d3_layout_packInsert(a, c);\n\t        a._pack_prev = c;\n\t        d3_layout_packInsert(c, b);\n\t        b = a._pack_next;\n\t        for (i = 3; i < n; i++) {\n\t          d3_layout_packPlace(a, b, c = nodes[i]);\n\t          var isect = 0, s1 = 1, s2 = 1;\n\t          for (j = b._pack_next; j !== b; j = j._pack_next, s1++) {\n\t            if (d3_layout_packIntersects(j, c)) {\n\t              isect = 1;\n\t              break;\n\t            }\n\t          }\n\t          if (isect == 1) {\n\t            for (k = a._pack_prev; k !== j._pack_prev; k = k._pack_prev, s2++) {\n\t              if (d3_layout_packIntersects(k, c)) {\n\t                break;\n\t              }\n\t            }\n\t          }\n\t          if (isect) {\n\t            if (s1 < s2 || s1 == s2 && b.r < a.r) d3_layout_packSplice(a, b = j); else d3_layout_packSplice(a = k, b);\n\t            i--;\n\t          } else {\n\t            d3_layout_packInsert(a, c);\n\t            b = c;\n\t            bound(c);\n\t          }\n\t        }\n\t      }\n\t    }\n\t    var cx = (xMin + xMax) / 2, cy = (yMin + yMax) / 2, cr = 0;\n\t    for (i = 0; i < n; i++) {\n\t      c = nodes[i];\n\t      c.x -= cx;\n\t      c.y -= cy;\n\t      cr = Math.max(cr, c.r + Math.sqrt(c.x * c.x + c.y * c.y));\n\t    }\n\t    node.r = cr;\n\t    nodes.forEach(d3_layout_packUnlink);\n\t  }\n\t  function d3_layout_packLink(node) {\n\t    node._pack_next = node._pack_prev = node;\n\t  }\n\t  function d3_layout_packUnlink(node) {\n\t    delete node._pack_next;\n\t    delete node._pack_prev;\n\t  }\n\t  function d3_layout_packTransform(node, x, y, k) {\n\t    var children = node.children;\n\t    node.x = x += k * node.x;\n\t    node.y = y += k * node.y;\n\t    node.r *= k;\n\t    if (children) {\n\t      var i = -1, n = children.length;\n\t      while (++i < n) d3_layout_packTransform(children[i], x, y, k);\n\t    }\n\t  }\n\t  function d3_layout_packPlace(a, b, c) {\n\t    var db = a.r + c.r, dx = b.x - a.x, dy = b.y - a.y;\n\t    if (db && (dx || dy)) {\n\t      var da = b.r + c.r, dc = dx * dx + dy * dy;\n\t      da *= da;\n\t      db *= db;\n\t      var x = .5 + (db - da) / (2 * dc), y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n\t      c.x = a.x + x * dx + y * dy;\n\t      c.y = a.y + x * dy - y * dx;\n\t    } else {\n\t      c.x = a.x + db;\n\t      c.y = a.y;\n\t    }\n\t  }\n\t  d3.layout.tree = function() {\n\t    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = null;\n\t    function tree(d, i) {\n\t      var nodes = hierarchy.call(this, d, i), root0 = nodes[0], root1 = wrapTree(root0);\n\t      d3_layout_hierarchyVisitAfter(root1, firstWalk), root1.parent.m = -root1.z;\n\t      d3_layout_hierarchyVisitBefore(root1, secondWalk);\n\t      if (nodeSize) d3_layout_hierarchyVisitBefore(root0, sizeNode); else {\n\t        var left = root0, right = root0, bottom = root0;\n\t        d3_layout_hierarchyVisitBefore(root0, function(node) {\n\t          if (node.x < left.x) left = node;\n\t          if (node.x > right.x) right = node;\n\t          if (node.depth > bottom.depth) bottom = node;\n\t        });\n\t        var tx = separation(left, right) / 2 - left.x, kx = size[0] / (right.x + separation(right, left) / 2 + tx), ky = size[1] / (bottom.depth || 1);\n\t        d3_layout_hierarchyVisitBefore(root0, function(node) {\n\t          node.x = (node.x + tx) * kx;\n\t          node.y = node.depth * ky;\n\t        });\n\t      }\n\t      return nodes;\n\t    }\n\t    function wrapTree(root0) {\n\t      var root1 = {\n\t        A: null,\n\t        children: [ root0 ]\n\t      }, queue = [ root1 ], node1;\n\t      while ((node1 = queue.pop()) != null) {\n\t        for (var children = node1.children, child, i = 0, n = children.length; i < n; ++i) {\n\t          queue.push((children[i] = child = {\n\t            _: children[i],\n\t            parent: node1,\n\t            children: (child = children[i].children) && child.slice() || [],\n\t            A: null,\n\t            a: null,\n\t            z: 0,\n\t            m: 0,\n\t            c: 0,\n\t            s: 0,\n\t            t: null,\n\t            i: i\n\t          }).a = child);\n\t        }\n\t      }\n\t      return root1.children[0];\n\t    }\n\t    function firstWalk(v) {\n\t      var children = v.children, siblings = v.parent.children, w = v.i ? siblings[v.i - 1] : null;\n\t      if (children.length) {\n\t        d3_layout_treeShift(v);\n\t        var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n\t        if (w) {\n\t          v.z = w.z + separation(v._, w._);\n\t          v.m = v.z - midpoint;\n\t        } else {\n\t          v.z = midpoint;\n\t        }\n\t      } else if (w) {\n\t        v.z = w.z + separation(v._, w._);\n\t      }\n\t      v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n\t    }\n\t    function secondWalk(v) {\n\t      v._.x = v.z + v.parent.m;\n\t      v.m += v.parent.m;\n\t    }\n\t    function apportion(v, w, ancestor) {\n\t      if (w) {\n\t        var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;\n\t        while (vim = d3_layout_treeRight(vim), vip = d3_layout_treeLeft(vip), vim && vip) {\n\t          vom = d3_layout_treeLeft(vom);\n\t          vop = d3_layout_treeRight(vop);\n\t          vop.a = v;\n\t          shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n\t          if (shift > 0) {\n\t            d3_layout_treeMove(d3_layout_treeAncestor(vim, v, ancestor), v, shift);\n\t            sip += shift;\n\t            sop += shift;\n\t          }\n\t          sim += vim.m;\n\t          sip += vip.m;\n\t          som += vom.m;\n\t          sop += vop.m;\n\t        }\n\t        if (vim && !d3_layout_treeRight(vop)) {\n\t          vop.t = vim;\n\t          vop.m += sim - sop;\n\t        }\n\t        if (vip && !d3_layout_treeLeft(vom)) {\n\t          vom.t = vip;\n\t          vom.m += sip - som;\n\t          ancestor = v;\n\t        }\n\t      }\n\t      return ancestor;\n\t    }\n\t    function sizeNode(node) {\n\t      node.x *= size[0];\n\t      node.y = node.depth * size[1];\n\t    }\n\t    tree.separation = function(x) {\n\t      if (!arguments.length) return separation;\n\t      separation = x;\n\t      return tree;\n\t    };\n\t    tree.size = function(x) {\n\t      if (!arguments.length) return nodeSize ? null : size;\n\t      nodeSize = (size = x) == null ? sizeNode : null;\n\t      return tree;\n\t    };\n\t    tree.nodeSize = function(x) {\n\t      if (!arguments.length) return nodeSize ? size : null;\n\t      nodeSize = (size = x) == null ? null : sizeNode;\n\t      return tree;\n\t    };\n\t    return d3_layout_hierarchyRebind(tree, hierarchy);\n\t  };\n\t  function d3_layout_treeSeparation(a, b) {\n\t    return a.parent == b.parent ? 1 : 2;\n\t  }\n\t  function d3_layout_treeLeft(v) {\n\t    var children = v.children;\n\t    return children.length ? children[0] : v.t;\n\t  }\n\t  function d3_layout_treeRight(v) {\n\t    var children = v.children, n;\n\t    return (n = children.length) ? children[n - 1] : v.t;\n\t  }\n\t  function d3_layout_treeMove(wm, wp, shift) {\n\t    var change = shift / (wp.i - wm.i);\n\t    wp.c -= change;\n\t    wp.s += shift;\n\t    wm.c += change;\n\t    wp.z += shift;\n\t    wp.m += shift;\n\t  }\n\t  function d3_layout_treeShift(v) {\n\t    var shift = 0, change = 0, children = v.children, i = children.length, w;\n\t    while (--i >= 0) {\n\t      w = children[i];\n\t      w.z += shift;\n\t      w.m += shift;\n\t      shift += w.s + (change += w.c);\n\t    }\n\t  }\n\t  function d3_layout_treeAncestor(vim, v, ancestor) {\n\t    return vim.a.parent === v.parent ? vim.a : ancestor;\n\t  }\n\t  d3.layout.cluster = function() {\n\t    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = false;\n\t    function cluster(d, i) {\n\t      var nodes = hierarchy.call(this, d, i), root = nodes[0], previousNode, x = 0;\n\t      d3_layout_hierarchyVisitAfter(root, function(node) {\n\t        var children = node.children;\n\t        if (children && children.length) {\n\t          node.x = d3_layout_clusterX(children);\n\t          node.y = d3_layout_clusterY(children);\n\t        } else {\n\t          node.x = previousNode ? x += separation(node, previousNode) : 0;\n\t          node.y = 0;\n\t          previousNode = node;\n\t        }\n\t      });\n\t      var left = d3_layout_clusterLeft(root), right = d3_layout_clusterRight(root), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2;\n\t      d3_layout_hierarchyVisitAfter(root, nodeSize ? function(node) {\n\t        node.x = (node.x - root.x) * size[0];\n\t        node.y = (root.y - node.y) * size[1];\n\t      } : function(node) {\n\t        node.x = (node.x - x0) / (x1 - x0) * size[0];\n\t        node.y = (1 - (root.y ? node.y / root.y : 1)) * size[1];\n\t      });\n\t      return nodes;\n\t    }\n\t    cluster.separation = function(x) {\n\t      if (!arguments.length) return separation;\n\t      separation = x;\n\t      return cluster;\n\t    };\n\t    cluster.size = function(x) {\n\t      if (!arguments.length) return nodeSize ? null : size;\n\t      nodeSize = (size = x) == null;\n\t      return cluster;\n\t    };\n\t    cluster.nodeSize = function(x) {\n\t      if (!arguments.length) return nodeSize ? size : null;\n\t      nodeSize = (size = x) != null;\n\t      return cluster;\n\t    };\n\t    return d3_layout_hierarchyRebind(cluster, hierarchy);\n\t  };\n\t  function d3_layout_clusterY(children) {\n\t    return 1 + d3.max(children, function(child) {\n\t      return child.y;\n\t    });\n\t  }\n\t  function d3_layout_clusterX(children) {\n\t    return children.reduce(function(x, child) {\n\t      return x + child.x;\n\t    }, 0) / children.length;\n\t  }\n\t  function d3_layout_clusterLeft(node) {\n\t    var children = node.children;\n\t    return children && children.length ? d3_layout_clusterLeft(children[0]) : node;\n\t  }\n\t  function d3_layout_clusterRight(node) {\n\t    var children = node.children, n;\n\t    return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node;\n\t  }\n\t  d3.layout.treemap = function() {\n\t    var hierarchy = d3.layout.hierarchy(), round = Math.round, size = [ 1, 1 ], padding = null, pad = d3_layout_treemapPadNull, sticky = false, stickies, mode = \"squarify\", ratio = .5 * (1 + Math.sqrt(5));\n\t    function scale(children, k) {\n\t      var i = -1, n = children.length, child, area;\n\t      while (++i < n) {\n\t        area = (child = children[i]).value * (k < 0 ? 0 : k);\n\t        child.area = isNaN(area) || area <= 0 ? 0 : area;\n\t      }\n\t    }\n\t    function squarify(node) {\n\t      var children = node.children;\n\t      if (children && children.length) {\n\t        var rect = pad(node), row = [], remaining = children.slice(), child, best = Infinity, score, u = mode === \"slice\" ? rect.dx : mode === \"dice\" ? rect.dy : mode === \"slice-dice\" ? node.depth & 1 ? rect.dy : rect.dx : Math.min(rect.dx, rect.dy), n;\n\t        scale(remaining, rect.dx * rect.dy / node.value);\n\t        row.area = 0;\n\t        while ((n = remaining.length) > 0) {\n\t          row.push(child = remaining[n - 1]);\n\t          row.area += child.area;\n\t          if (mode !== \"squarify\" || (score = worst(row, u)) <= best) {\n\t            remaining.pop();\n\t            best = score;\n\t          } else {\n\t            row.area -= row.pop().area;\n\t            position(row, u, rect, false);\n\t            u = Math.min(rect.dx, rect.dy);\n\t            row.length = row.area = 0;\n\t            best = Infinity;\n\t          }\n\t        }\n\t        if (row.length) {\n\t          position(row, u, rect, true);\n\t          row.length = row.area = 0;\n\t        }\n\t        children.forEach(squarify);\n\t      }\n\t    }\n\t    function stickify(node) {\n\t      var children = node.children;\n\t      if (children && children.length) {\n\t        var rect = pad(node), remaining = children.slice(), child, row = [];\n\t        scale(remaining, rect.dx * rect.dy / node.value);\n\t        row.area = 0;\n\t        while (child = remaining.pop()) {\n\t          row.push(child);\n\t          row.area += child.area;\n\t          if (child.z != null) {\n\t            position(row, child.z ? rect.dx : rect.dy, rect, !remaining.length);\n\t            row.length = row.area = 0;\n\t          }\n\t        }\n\t        children.forEach(stickify);\n\t      }\n\t    }\n\t    function worst(row, u) {\n\t      var s = row.area, r, rmax = 0, rmin = Infinity, i = -1, n = row.length;\n\t      while (++i < n) {\n\t        if (!(r = row[i].area)) continue;\n\t        if (r < rmin) rmin = r;\n\t        if (r > rmax) rmax = r;\n\t      }\n\t      s *= s;\n\t      u *= u;\n\t      return s ? Math.max(u * rmax * ratio / s, s / (u * rmin * ratio)) : Infinity;\n\t    }\n\t    function position(row, u, rect, flush) {\n\t      var i = -1, n = row.length, x = rect.x, y = rect.y, v = u ? round(row.area / u) : 0, o;\n\t      if (u == rect.dx) {\n\t        if (flush || v > rect.dy) v = rect.dy;\n\t        while (++i < n) {\n\t          o = row[i];\n\t          o.x = x;\n\t          o.y = y;\n\t          o.dy = v;\n\t          x += o.dx = Math.min(rect.x + rect.dx - x, v ? round(o.area / v) : 0);\n\t        }\n\t        o.z = true;\n\t        o.dx += rect.x + rect.dx - x;\n\t        rect.y += v;\n\t        rect.dy -= v;\n\t      } else {\n\t        if (flush || v > rect.dx) v = rect.dx;\n\t        while (++i < n) {\n\t          o = row[i];\n\t          o.x = x;\n\t          o.y = y;\n\t          o.dx = v;\n\t          y += o.dy = Math.min(rect.y + rect.dy - y, v ? round(o.area / v) : 0);\n\t        }\n\t        o.z = false;\n\t        o.dy += rect.y + rect.dy - y;\n\t        rect.x += v;\n\t        rect.dx -= v;\n\t      }\n\t    }\n\t    function treemap(d) {\n\t      var nodes = stickies || hierarchy(d), root = nodes[0];\n\t      root.x = root.y = 0;\n\t      if (root.value) root.dx = size[0], root.dy = size[1]; else root.dx = root.dy = 0;\n\t      if (stickies) hierarchy.revalue(root);\n\t      scale([ root ], root.dx * root.dy / root.value);\n\t      (stickies ? stickify : squarify)(root);\n\t      if (sticky) stickies = nodes;\n\t      return nodes;\n\t    }\n\t    treemap.size = function(x) {\n\t      if (!arguments.length) return size;\n\t      size = x;\n\t      return treemap;\n\t    };\n\t    treemap.padding = function(x) {\n\t      if (!arguments.length) return padding;\n\t      function padFunction(node) {\n\t        var p = x.call(treemap, node, node.depth);\n\t        return p == null ? d3_layout_treemapPadNull(node) : d3_layout_treemapPad(node, typeof p === \"number\" ? [ p, p, p, p ] : p);\n\t      }\n\t      function padConstant(node) {\n\t        return d3_layout_treemapPad(node, x);\n\t      }\n\t      var type;\n\t      pad = (padding = x) == null ? d3_layout_treemapPadNull : (type = typeof x) === \"function\" ? padFunction : type === \"number\" ? (x = [ x, x, x, x ], \n\t      padConstant) : padConstant;\n\t      return treemap;\n\t    };\n\t    treemap.round = function(x) {\n\t      if (!arguments.length) return round != Number;\n\t      round = x ? Math.round : Number;\n\t      return treemap;\n\t    };\n\t    treemap.sticky = function(x) {\n\t      if (!arguments.length) return sticky;\n\t      sticky = x;\n\t      stickies = null;\n\t      return treemap;\n\t    };\n\t    treemap.ratio = function(x) {\n\t      if (!arguments.length) return ratio;\n\t      ratio = x;\n\t      return treemap;\n\t    };\n\t    treemap.mode = function(x) {\n\t      if (!arguments.length) return mode;\n\t      mode = x + \"\";\n\t      return treemap;\n\t    };\n\t    return d3_layout_hierarchyRebind(treemap, hierarchy);\n\t  };\n\t  function d3_layout_treemapPadNull(node) {\n\t    return {\n\t      x: node.x,\n\t      y: node.y,\n\t      dx: node.dx,\n\t      dy: node.dy\n\t    };\n\t  }\n\t  function d3_layout_treemapPad(node, padding) {\n\t    var x = node.x + padding[3], y = node.y + padding[0], dx = node.dx - padding[1] - padding[3], dy = node.dy - padding[0] - padding[2];\n\t    if (dx < 0) {\n\t      x += dx / 2;\n\t      dx = 0;\n\t    }\n\t    if (dy < 0) {\n\t      y += dy / 2;\n\t      dy = 0;\n\t    }\n\t    return {\n\t      x: x,\n\t      y: y,\n\t      dx: dx,\n\t      dy: dy\n\t    };\n\t  }\n\t  d3.random = {\n\t    normal: function(, ) {\n\t      var n = arguments.length;\n\t      if (n < 2)  = 1;\n\t      if (n < 1)  = 0;\n\t      return function() {\n\t        var x, y, r;\n\t        do {\n\t          x = Math.random() * 2 - 1;\n\t          y = Math.random() * 2 - 1;\n\t          r = x * x + y * y;\n\t        } while (!r || r > 1);\n\t        return  +  * x * Math.sqrt(-2 * Math.log(r) / r);\n\t      };\n\t    },\n\t    logNormal: function() {\n\t      var random = d3.random.normal.apply(d3, arguments);\n\t      return function() {\n\t        return Math.exp(random());\n\t      };\n\t    },\n\t    bates: function(m) {\n\t      var random = d3.random.irwinHall(m);\n\t      return function() {\n\t        return random() / m;\n\t      };\n\t    },\n\t    irwinHall: function(m) {\n\t      return function() {\n\t        for (var s = 0, j = 0; j < m; j++) s += Math.random();\n\t        return s;\n\t      };\n\t    }\n\t  };\n\t  d3.scale = {};\n\t  function d3_scaleExtent(domain) {\n\t    var start = domain[0], stop = domain[domain.length - 1];\n\t    return start < stop ? [ start, stop ] : [ stop, start ];\n\t  }\n\t  function d3_scaleRange(scale) {\n\t    return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n\t  }\n\t  function d3_scale_bilinear(domain, range, uninterpolate, interpolate) {\n\t    var u = uninterpolate(domain[0], domain[1]), i = interpolate(range[0], range[1]);\n\t    return function(x) {\n\t      return i(u(x));\n\t    };\n\t  }\n\t  function d3_scale_nice(domain, nice) {\n\t    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], dx;\n\t    if (x1 < x0) {\n\t      dx = i0, i0 = i1, i1 = dx;\n\t      dx = x0, x0 = x1, x1 = dx;\n\t    }\n\t    domain[i0] = nice.floor(x0);\n\t    domain[i1] = nice.ceil(x1);\n\t    return domain;\n\t  }\n\t  function d3_scale_niceStep(step) {\n\t    return step ? {\n\t      floor: function(x) {\n\t        return Math.floor(x / step) * step;\n\t      },\n\t      ceil: function(x) {\n\t        return Math.ceil(x / step) * step;\n\t      }\n\t    } : d3_scale_niceIdentity;\n\t  }\n\t  var d3_scale_niceIdentity = {\n\t    floor: d3_identity,\n\t    ceil: d3_identity\n\t  };\n\t  function d3_scale_polylinear(domain, range, uninterpolate, interpolate) {\n\t    var u = [], i = [], j = 0, k = Math.min(domain.length, range.length) - 1;\n\t    if (domain[k] < domain[0]) {\n\t      domain = domain.slice().reverse();\n\t      range = range.slice().reverse();\n\t    }\n\t    while (++j <= k) {\n\t      u.push(uninterpolate(domain[j - 1], domain[j]));\n\t      i.push(interpolate(range[j - 1], range[j]));\n\t    }\n\t    return function(x) {\n\t      var j = d3.bisect(domain, x, 1, k) - 1;\n\t      return i[j](u[j](x));\n\t    };\n\t  }\n\t  d3.scale.linear = function() {\n\t    return d3_scale_linear([ 0, 1 ], [ 0, 1 ], d3_interpolate, false);\n\t  };\n\t  function d3_scale_linear(domain, range, interpolate, clamp) {\n\t    var output, input;\n\t    function rescale() {\n\t      var linear = Math.min(domain.length, range.length) > 2 ? d3_scale_polylinear : d3_scale_bilinear, uninterpolate = clamp ? d3_uninterpolateClamp : d3_uninterpolateNumber;\n\t      output = linear(domain, range, uninterpolate, interpolate);\n\t      input = linear(range, domain, uninterpolate, d3_interpolate);\n\t      return scale;\n\t    }\n\t    function scale(x) {\n\t      return output(x);\n\t    }\n\t    scale.invert = function(y) {\n\t      return input(y);\n\t    };\n\t    scale.domain = function(x) {\n\t      if (!arguments.length) return domain;\n\t      domain = x.map(Number);\n\t      return rescale();\n\t    };\n\t    scale.range = function(x) {\n\t      if (!arguments.length) return range;\n\t      range = x;\n\t      return rescale();\n\t    };\n\t    scale.rangeRound = function(x) {\n\t      return scale.range(x).interpolate(d3_interpolateRound);\n\t    };\n\t    scale.clamp = function(x) {\n\t      if (!arguments.length) return clamp;\n\t      clamp = x;\n\t      return rescale();\n\t    };\n\t    scale.interpolate = function(x) {\n\t      if (!arguments.length) return interpolate;\n\t      interpolate = x;\n\t      return rescale();\n\t    };\n\t    scale.ticks = function(m) {\n\t      return d3_scale_linearTicks(domain, m);\n\t    };\n\t    scale.tickFormat = function(m, format) {\n\t      return d3_scale_linearTickFormat(domain, m, format);\n\t    };\n\t    scale.nice = function(m) {\n\t      d3_scale_linearNice(domain, m);\n\t      return rescale();\n\t    };\n\t    scale.copy = function() {\n\t      return d3_scale_linear(domain, range, interpolate, clamp);\n\t    };\n\t    return rescale();\n\t  }\n\t  function d3_scale_linearRebind(scale, linear) {\n\t    return d3.rebind(scale, linear, \"range\", \"rangeRound\", \"interpolate\", \"clamp\");\n\t  }\n\t  function d3_scale_linearNice(domain, m) {\n\t    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n\t    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n\t    return domain;\n\t  }\n\t  function d3_scale_linearTickRange(domain, m) {\n\t    if (m == null) m = 10;\n\t    var extent = d3_scaleExtent(domain), span = extent[1] - extent[0], step = Math.pow(10, Math.floor(Math.log(span / m) / Math.LN10)), err = m / span * step;\n\t    if (err <= .15) step *= 10; else if (err <= .35) step *= 5; else if (err <= .75) step *= 2;\n\t    extent[0] = Math.ceil(extent[0] / step) * step;\n\t    extent[1] = Math.floor(extent[1] / step) * step + step * .5;\n\t    extent[2] = step;\n\t    return extent;\n\t  }\n\t  function d3_scale_linearTicks(domain, m) {\n\t    return d3.range.apply(d3, d3_scale_linearTickRange(domain, m));\n\t  }\n\t  function d3_scale_linearTickFormat(domain, m, format) {\n\t    var range = d3_scale_linearTickRange(domain, m);\n\t    if (format) {\n\t      var match = d3_format_re.exec(format);\n\t      match.shift();\n\t      if (match[8] === \"s\") {\n\t        var prefix = d3.formatPrefix(Math.max(abs(range[0]), abs(range[1])));\n\t        if (!match[7]) match[7] = \".\" + d3_scale_linearPrecision(prefix.scale(range[2]));\n\t        match[8] = \"f\";\n\t        format = d3.format(match.join(\"\"));\n\t        return function(d) {\n\t          return format(prefix.scale(d)) + prefix.symbol;\n\t        };\n\t      }\n\t      if (!match[7]) match[7] = \".\" + d3_scale_linearFormatPrecision(match[8], range);\n\t      format = match.join(\"\");\n\t    } else {\n\t      format = \",.\" + d3_scale_linearPrecision(range[2]) + \"f\";\n\t    }\n\t    return d3.format(format);\n\t  }\n\t  var d3_scale_linearFormatSignificant = {\n\t    s: 1,\n\t    g: 1,\n\t    p: 1,\n\t    r: 1,\n\t    e: 1\n\t  };\n\t  function d3_scale_linearPrecision(value) {\n\t    return -Math.floor(Math.log(value) / Math.LN10 + .01);\n\t  }\n\t  function d3_scale_linearFormatPrecision(type, range) {\n\t    var p = d3_scale_linearPrecision(range[2]);\n\t    return type in d3_scale_linearFormatSignificant ? Math.abs(p - d3_scale_linearPrecision(Math.max(abs(range[0]), abs(range[1])))) + +(type !== \"e\") : p - (type === \"%\") * 2;\n\t  }\n\t  d3.scale.log = function() {\n\t    return d3_scale_log(d3.scale.linear().domain([ 0, 1 ]), 10, true, [ 1, 10 ]);\n\t  };\n\t  function d3_scale_log(linear, base, positive, domain) {\n\t    function log(x) {\n\t      return (positive ? Math.log(x < 0 ? 0 : x) : -Math.log(x > 0 ? 0 : -x)) / Math.log(base);\n\t    }\n\t    function pow(x) {\n\t      return positive ? Math.pow(base, x) : -Math.pow(base, -x);\n\t    }\n\t    function scale(x) {\n\t      return linear(log(x));\n\t    }\n\t    scale.invert = function(x) {\n\t      return pow(linear.invert(x));\n\t    };\n\t    scale.domain = function(x) {\n\t      if (!arguments.length) return domain;\n\t      positive = x[0] >= 0;\n\t      linear.domain((domain = x.map(Number)).map(log));\n\t      return scale;\n\t    };\n\t    scale.base = function(_) {\n\t      if (!arguments.length) return base;\n\t      base = +_;\n\t      linear.domain(domain.map(log));\n\t      return scale;\n\t    };\n\t    scale.nice = function() {\n\t      var niced = d3_scale_nice(domain.map(log), positive ? Math : d3_scale_logNiceNegative);\n\t      linear.domain(niced);\n\t      domain = niced.map(pow);\n\t      return scale;\n\t    };\n\t    scale.ticks = function() {\n\t      var extent = d3_scaleExtent(domain), ticks = [], u = extent[0], v = extent[1], i = Math.floor(log(u)), j = Math.ceil(log(v)), n = base % 1 ? 2 : base;\n\t      if (isFinite(j - i)) {\n\t        if (positive) {\n\t          for (;i < j; i++) for (var k = 1; k < n; k++) ticks.push(pow(i) * k);\n\t          ticks.push(pow(i));\n\t        } else {\n\t          ticks.push(pow(i));\n\t          for (;i++ < j; ) for (var k = n - 1; k > 0; k--) ticks.push(pow(i) * k);\n\t        }\n\t        for (i = 0; ticks[i] < u; i++) {}\n\t        for (j = ticks.length; ticks[j - 1] > v; j--) {}\n\t        ticks = ticks.slice(i, j);\n\t      }\n\t      return ticks;\n\t    };\n\t    scale.tickFormat = function(n, format) {\n\t      if (!arguments.length) return d3_scale_logFormat;\n\t      if (arguments.length < 2) format = d3_scale_logFormat; else if (typeof format !== \"function\") format = d3.format(format);\n\t      var k = Math.max(1, base * n / scale.ticks().length);\n\t      return function(d) {\n\t        var i = d / pow(Math.round(log(d)));\n\t        if (i * base < base - .5) i *= base;\n\t        return i <= k ? format(d) : \"\";\n\t      };\n\t    };\n\t    scale.copy = function() {\n\t      return d3_scale_log(linear.copy(), base, positive, domain);\n\t    };\n\t    return d3_scale_linearRebind(scale, linear);\n\t  }\n\t  var d3_scale_logFormat = d3.format(\".0e\"), d3_scale_logNiceNegative = {\n\t    floor: function(x) {\n\t      return -Math.ceil(-x);\n\t    },\n\t    ceil: function(x) {\n\t      return -Math.floor(-x);\n\t    }\n\t  };\n\t  d3.scale.pow = function() {\n\t    return d3_scale_pow(d3.scale.linear(), 1, [ 0, 1 ]);\n\t  };\n\t  function d3_scale_pow(linear, exponent, domain) {\n\t    var powp = d3_scale_powPow(exponent), powb = d3_scale_powPow(1 / exponent);\n\t    function scale(x) {\n\t      return linear(powp(x));\n\t    }\n\t    scale.invert = function(x) {\n\t      return powb(linear.invert(x));\n\t    };\n\t    scale.domain = function(x) {\n\t      if (!arguments.length) return domain;\n\t      linear.domain((domain = x.map(Number)).map(powp));\n\t      return scale;\n\t    };\n\t    scale.ticks = function(m) {\n\t      return d3_scale_linearTicks(domain, m);\n\t    };\n\t    scale.tickFormat = function(m, format) {\n\t      return d3_scale_linearTickFormat(domain, m, format);\n\t    };\n\t    scale.nice = function(m) {\n\t      return scale.domain(d3_scale_linearNice(domain, m));\n\t    };\n\t    scale.exponent = function(x) {\n\t      if (!arguments.length) return exponent;\n\t      powp = d3_scale_powPow(exponent = x);\n\t      powb = d3_scale_powPow(1 / exponent);\n\t      linear.domain(domain.map(powp));\n\t      return scale;\n\t    };\n\t    scale.copy = function() {\n\t      return d3_scale_pow(linear.copy(), exponent, domain);\n\t    };\n\t    return d3_scale_linearRebind(scale, linear);\n\t  }\n\t  function d3_scale_powPow(e) {\n\t    return function(x) {\n\t      return x < 0 ? -Math.pow(-x, e) : Math.pow(x, e);\n\t    };\n\t  }\n\t  d3.scale.sqrt = function() {\n\t    return d3.scale.pow().exponent(.5);\n\t  };\n\t  d3.scale.ordinal = function() {\n\t    return d3_scale_ordinal([], {\n\t      t: \"range\",\n\t      a: [ [] ]\n\t    });\n\t  };\n\t  function d3_scale_ordinal(domain, ranger) {\n\t    var index, range, rangeBand;\n\t    function scale(x) {\n\t      return range[((index.get(x) || (ranger.t === \"range\" ? index.set(x, domain.push(x)) : NaN)) - 1) % range.length];\n\t    }\n\t    function steps(start, step) {\n\t      return d3.range(domain.length).map(function(i) {\n\t        return start + step * i;\n\t      });\n\t    }\n\t    scale.domain = function(x) {\n\t      if (!arguments.length) return domain;\n\t      domain = [];\n\t      index = new d3_Map();\n\t      var i = -1, n = x.length, xi;\n\t      while (++i < n) if (!index.has(xi = x[i])) index.set(xi, domain.push(xi));\n\t      return scale[ranger.t].apply(scale, ranger.a);\n\t    };\n\t    scale.range = function(x) {\n\t      if (!arguments.length) return range;\n\t      range = x;\n\t      rangeBand = 0;\n\t      ranger = {\n\t        t: \"range\",\n\t        a: arguments\n\t      };\n\t      return scale;\n\t    };\n\t    scale.rangePoints = function(x, padding) {\n\t      if (arguments.length < 2) padding = 0;\n\t      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = (start + stop) / 2, \n\t      0) : (stop - start) / (domain.length - 1 + padding);\n\t      range = steps(start + step * padding / 2, step);\n\t      rangeBand = 0;\n\t      ranger = {\n\t        t: \"rangePoints\",\n\t        a: arguments\n\t      };\n\t      return scale;\n\t    };\n\t    scale.rangeRoundPoints = function(x, padding) {\n\t      if (arguments.length < 2) padding = 0;\n\t      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = stop = Math.round((start + stop) / 2), \n\t      0) : (stop - start) / (domain.length - 1 + padding) | 0;\n\t      range = steps(start + Math.round(step * padding / 2 + (stop - start - (domain.length - 1 + padding) * step) / 2), step);\n\t      rangeBand = 0;\n\t      ranger = {\n\t        t: \"rangeRoundPoints\",\n\t        a: arguments\n\t      };\n\t      return scale;\n\t    };\n\t    scale.rangeBands = function(x, padding, outerPadding) {\n\t      if (arguments.length < 2) padding = 0;\n\t      if (arguments.length < 3) outerPadding = padding;\n\t      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = (stop - start) / (domain.length - padding + 2 * outerPadding);\n\t      range = steps(start + step * outerPadding, step);\n\t      if (reverse) range.reverse();\n\t      rangeBand = step * (1 - padding);\n\t      ranger = {\n\t        t: \"rangeBands\",\n\t        a: arguments\n\t      };\n\t      return scale;\n\t    };\n\t    scale.rangeRoundBands = function(x, padding, outerPadding) {\n\t      if (arguments.length < 2) padding = 0;\n\t      if (arguments.length < 3) outerPadding = padding;\n\t      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding));\n\t      range = steps(start + Math.round((stop - start - (domain.length - padding) * step) / 2), step);\n\t      if (reverse) range.reverse();\n\t      rangeBand = Math.round(step * (1 - padding));\n\t      ranger = {\n\t        t: \"rangeRoundBands\",\n\t        a: arguments\n\t      };\n\t      return scale;\n\t    };\n\t    scale.rangeBand = function() {\n\t      return rangeBand;\n\t    };\n\t    scale.rangeExtent = function() {\n\t      return d3_scaleExtent(ranger.a[0]);\n\t    };\n\t    scale.copy = function() {\n\t      return d3_scale_ordinal(domain, ranger);\n\t    };\n\t    return scale.domain(domain);\n\t  }\n\t  d3.scale.category10 = function() {\n\t    return d3.scale.ordinal().range(d3_category10);\n\t  };\n\t  d3.scale.category20 = function() {\n\t    return d3.scale.ordinal().range(d3_category20);\n\t  };\n\t  d3.scale.category20b = function() {\n\t    return d3.scale.ordinal().range(d3_category20b);\n\t  };\n\t  d3.scale.category20c = function() {\n\t    return d3.scale.ordinal().range(d3_category20c);\n\t  };\n\t  var d3_category10 = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(d3_rgbString);\n\t  var d3_category20 = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(d3_rgbString);\n\t  var d3_category20b = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(d3_rgbString);\n\t  var d3_category20c = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(d3_rgbString);\n\t  d3.scale.quantile = function() {\n\t    return d3_scale_quantile([], []);\n\t  };\n\t  function d3_scale_quantile(domain, range) {\n\t    var thresholds;\n\t    function rescale() {\n\t      var k = 0, q = range.length;\n\t      thresholds = [];\n\t      while (++k < q) thresholds[k - 1] = d3.quantile(domain, k / q);\n\t      return scale;\n\t    }\n\t    function scale(x) {\n\t      if (!isNaN(x = +x)) return range[d3.bisect(thresholds, x)];\n\t    }\n\t    scale.domain = function(x) {\n\t      if (!arguments.length) return domain;\n\t      domain = x.map(d3_number).filter(d3_numeric).sort(d3_ascending);\n\t      return rescale();\n\t    };\n\t    scale.range = function(x) {\n\t      if (!arguments.length) return range;\n\t      range = x;\n\t      return rescale();\n\t    };\n\t    scale.quantiles = function() {\n\t      return thresholds;\n\t    };\n\t    scale.invertExtent = function(y) {\n\t      y = range.indexOf(y);\n\t      return y < 0 ? [ NaN, NaN ] : [ y > 0 ? thresholds[y - 1] : domain[0], y < thresholds.length ? thresholds[y] : domain[domain.length - 1] ];\n\t    };\n\t    scale.copy = function() {\n\t      return d3_scale_quantile(domain, range);\n\t    };\n\t    return rescale();\n\t  }\n\t  d3.scale.quantize = function() {\n\t    return d3_scale_quantize(0, 1, [ 0, 1 ]);\n\t  };\n\t  function d3_scale_quantize(x0, x1, range) {\n\t    var kx, i;\n\t    function scale(x) {\n\t      return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];\n\t    }\n\t    function rescale() {\n\t      kx = range.length / (x1 - x0);\n\t      i = range.length - 1;\n\t      return scale;\n\t    }\n\t    scale.domain = function(x) {\n\t      if (!arguments.length) return [ x0, x1 ];\n\t      x0 = +x[0];\n\t      x1 = +x[x.length - 1];\n\t      return rescale();\n\t    };\n\t    scale.range = function(x) {\n\t      if (!arguments.length) return range;\n\t      range = x;\n\t      return rescale();\n\t    };\n\t    scale.invertExtent = function(y) {\n\t      y = range.indexOf(y);\n\t      y = y < 0 ? NaN : y / kx + x0;\n\t      return [ y, y + 1 / kx ];\n\t    };\n\t    scale.copy = function() {\n\t      return d3_scale_quantize(x0, x1, range);\n\t    };\n\t    return rescale();\n\t  }\n\t  d3.scale.threshold = function() {\n\t    return d3_scale_threshold([ .5 ], [ 0, 1 ]);\n\t  };\n\t  function d3_scale_threshold(domain, range) {\n\t    function scale(x) {\n\t      if (x <= x) return range[d3.bisect(domain, x)];\n\t    }\n\t    scale.domain = function(_) {\n\t      if (!arguments.length) return domain;\n\t      domain = _;\n\t      return scale;\n\t    };\n\t    scale.range = function(_) {\n\t      if (!arguments.length) return range;\n\t      range = _;\n\t      return scale;\n\t    };\n\t    scale.invertExtent = function(y) {\n\t      y = range.indexOf(y);\n\t      return [ domain[y - 1], domain[y] ];\n\t    };\n\t    scale.copy = function() {\n\t      return d3_scale_threshold(domain, range);\n\t    };\n\t    return scale;\n\t  }\n\t  d3.scale.identity = function() {\n\t    return d3_scale_identity([ 0, 1 ]);\n\t  };\n\t  function d3_scale_identity(domain) {\n\t    function identity(x) {\n\t      return +x;\n\t    }\n\t    identity.invert = identity;\n\t    identity.domain = identity.range = function(x) {\n\t      if (!arguments.length) return domain;\n\t      domain = x.map(identity);\n\t      return identity;\n\t    };\n\t    identity.ticks = function(m) {\n\t      return d3_scale_linearTicks(domain, m);\n\t    };\n\t    identity.tickFormat = function(m, format) {\n\t      return d3_scale_linearTickFormat(domain, m, format);\n\t    };\n\t    identity.copy = function() {\n\t      return d3_scale_identity(domain);\n\t    };\n\t    return identity;\n\t  }\n\t  d3.svg = {};\n\t  function d3_zero() {\n\t    return 0;\n\t  }\n\t  d3.svg.arc = function() {\n\t    var innerRadius = d3_svg_arcInnerRadius, outerRadius = d3_svg_arcOuterRadius, cornerRadius = d3_zero, padRadius = d3_svg_arcAuto, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle, padAngle = d3_svg_arcPadAngle;\n\t    function arc() {\n\t      var r0 = Math.max(0, +innerRadius.apply(this, arguments)), r1 = Math.max(0, +outerRadius.apply(this, arguments)), a0 = startAngle.apply(this, arguments) - half, a1 = endAngle.apply(this, arguments) - half, da = Math.abs(a1 - a0), cw = a0 > a1 ? 0 : 1;\n\t      if (r1 < r0) rc = r1, r1 = r0, r0 = rc;\n\t      if (da >= ) return circleSegment(r1, cw) + (r0 ? circleSegment(r0, 1 - cw) : \"\") + \"Z\";\n\t      var rc, cr, rp, ap, p0 = 0, p1 = 0, x0, y0, x1, y1, x2, y2, x3, y3, path = [];\n\t      if (ap = (+padAngle.apply(this, arguments) || 0) / 2) {\n\t        rp = padRadius === d3_svg_arcAuto ? Math.sqrt(r0 * r0 + r1 * r1) : +padRadius.apply(this, arguments);\n\t        if (!cw) p1 *= -1;\n\t        if (r1) p1 = d3_asin(rp / r1 * Math.sin(ap));\n\t        if (r0) p0 = d3_asin(rp / r0 * Math.sin(ap));\n\t      }\n\t      if (r1) {\n\t        x0 = r1 * Math.cos(a0 + p1);\n\t        y0 = r1 * Math.sin(a0 + p1);\n\t        x1 = r1 * Math.cos(a1 - p1);\n\t        y1 = r1 * Math.sin(a1 - p1);\n\t        var l1 = Math.abs(a1 - a0 - 2 * p1) <=  ? 0 : 1;\n\t        if (p1 && d3_svg_arcSweep(x0, y0, x1, y1) === cw ^ l1) {\n\t          var h1 = (a0 + a1) / 2;\n\t          x0 = r1 * Math.cos(h1);\n\t          y0 = r1 * Math.sin(h1);\n\t          x1 = y1 = null;\n\t        }\n\t      } else {\n\t        x0 = y0 = 0;\n\t      }\n\t      if (r0) {\n\t        x2 = r0 * Math.cos(a1 - p0);\n\t        y2 = r0 * Math.sin(a1 - p0);\n\t        x3 = r0 * Math.cos(a0 + p0);\n\t        y3 = r0 * Math.sin(a0 + p0);\n\t        var l0 = Math.abs(a0 - a1 + 2 * p0) <=  ? 0 : 1;\n\t        if (p0 && d3_svg_arcSweep(x2, y2, x3, y3) === 1 - cw ^ l0) {\n\t          var h0 = (a0 + a1) / 2;\n\t          x2 = r0 * Math.cos(h0);\n\t          y2 = r0 * Math.sin(h0);\n\t          x3 = y3 = null;\n\t        }\n\t      } else {\n\t        x2 = y2 = 0;\n\t      }\n\t      if (da >  && (rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments))) > .001) {\n\t        cr = r0 < r1 ^ cw ? 0 : 1;\n\t        var rc1 = rc, rc0 = rc;\n\t        if (da < ) {\n\t          var oc = x3 == null ? [ x2, y2 ] : x1 == null ? [ x0, y0 ] : d3_geom_polygonIntersect([ x0, y0 ], [ x3, y3 ], [ x1, y1 ], [ x2, y2 ]), ax = x0 - oc[0], ay = y0 - oc[1], bx = x1 - oc[0], by = y1 - oc[1], kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2), lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n\t          rc0 = Math.min(rc, (r0 - lc) / (kc - 1));\n\t          rc1 = Math.min(rc, (r1 - lc) / (kc + 1));\n\t        }\n\t        if (x1 != null) {\n\t          var t30 = d3_svg_arcCornerTangents(x3 == null ? [ x2, y2 ] : [ x3, y3 ], [ x0, y0 ], r1, rc1, cw), t12 = d3_svg_arcCornerTangents([ x1, y1 ], [ x2, y2 ], r1, rc1, cw);\n\t          if (rc === rc1) {\n\t            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t30[1], \"A\", r1, \",\", r1, \" 0 \", 1 - cw ^ d3_svg_arcSweep(t30[1][0], t30[1][1], t12[1][0], t12[1][1]), \",\", cw, \" \", t12[1], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t12[0]);\n\t          } else {\n\t            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 1,\", cr, \" \", t12[0]);\n\t          }\n\t        } else {\n\t          path.push(\"M\", x0, \",\", y0);\n\t        }\n\t        if (x3 != null) {\n\t          var t03 = d3_svg_arcCornerTangents([ x0, y0 ], [ x3, y3 ], r0, -rc0, cw), t21 = d3_svg_arcCornerTangents([ x2, y2 ], x1 == null ? [ x0, y0 ] : [ x1, y1 ], r0, -rc0, cw);\n\t          if (rc === rc0) {\n\t            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t21[1], \"A\", r0, \",\", r0, \" 0 \", cw ^ d3_svg_arcSweep(t21[1][0], t21[1][1], t03[1][0], t03[1][1]), \",\", 1 - cw, \" \", t03[1], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n\t          } else {\n\t            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n\t          }\n\t        } else {\n\t          path.push(\"L\", x2, \",\", y2);\n\t        }\n\t      } else {\n\t        path.push(\"M\", x0, \",\", y0);\n\t        if (x1 != null) path.push(\"A\", r1, \",\", r1, \" 0 \", l1, \",\", cw, \" \", x1, \",\", y1);\n\t        path.push(\"L\", x2, \",\", y2);\n\t        if (x3 != null) path.push(\"A\", r0, \",\", r0, \" 0 \", l0, \",\", 1 - cw, \" \", x3, \",\", y3);\n\t      }\n\t      path.push(\"Z\");\n\t      return path.join(\"\");\n\t    }\n\t    function circleSegment(r1, cw) {\n\t      return \"M0,\" + r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + -r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + r1;\n\t    }\n\t    arc.innerRadius = function(v) {\n\t      if (!arguments.length) return innerRadius;\n\t      innerRadius = d3_functor(v);\n\t      return arc;\n\t    };\n\t    arc.outerRadius = function(v) {\n\t      if (!arguments.length) return outerRadius;\n\t      outerRadius = d3_functor(v);\n\t      return arc;\n\t    };\n\t    arc.cornerRadius = function(v) {\n\t      if (!arguments.length) return cornerRadius;\n\t      cornerRadius = d3_functor(v);\n\t      return arc;\n\t    };\n\t    arc.padRadius = function(v) {\n\t      if (!arguments.length) return padRadius;\n\t      padRadius = v == d3_svg_arcAuto ? d3_svg_arcAuto : d3_functor(v);\n\t      return arc;\n\t    };\n\t    arc.startAngle = function(v) {\n\t      if (!arguments.length) return startAngle;\n\t      startAngle = d3_functor(v);\n\t      return arc;\n\t    };\n\t    arc.endAngle = function(v) {\n\t      if (!arguments.length) return endAngle;\n\t      endAngle = d3_functor(v);\n\t      return arc;\n\t    };\n\t    arc.padAngle = function(v) {\n\t      if (!arguments.length) return padAngle;\n\t      padAngle = d3_functor(v);\n\t      return arc;\n\t    };\n\t    arc.centroid = function() {\n\t      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - half;\n\t      return [ Math.cos(a) * r, Math.sin(a) * r ];\n\t    };\n\t    return arc;\n\t  };\n\t  var d3_svg_arcAuto = \"auto\";\n\t  function d3_svg_arcInnerRadius(d) {\n\t    return d.innerRadius;\n\t  }\n\t  function d3_svg_arcOuterRadius(d) {\n\t    return d.outerRadius;\n\t  }\n\t  function d3_svg_arcStartAngle(d) {\n\t    return d.startAngle;\n\t  }\n\t  function d3_svg_arcEndAngle(d) {\n\t    return d.endAngle;\n\t  }\n\t  function d3_svg_arcPadAngle(d) {\n\t    return d && d.padAngle;\n\t  }\n\t  function d3_svg_arcSweep(x0, y0, x1, y1) {\n\t    return (x0 - x1) * y0 - (y0 - y1) * x0 > 0 ? 0 : 1;\n\t  }\n\t  function d3_svg_arcCornerTangents(p0, p1, r1, rc, cw) {\n\t    var x01 = p0[0] - p1[0], y01 = p0[1] - p1[1], lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x1 = p0[0] + ox, y1 = p0[1] + oy, x2 = p1[0] + ox, y2 = p1[1] + oy, x3 = (x1 + x2) / 2, y3 = (y1 + y2) / 2, dx = x2 - x1, dy = y2 - y1, d2 = dx * dx + dy * dy, r = r1 - rc, D = x1 * y2 - x2 * y1, d = (dy < 0 ? -1 : 1) * Math.sqrt(Math.max(0, r * r * d2 - D * D)), cx0 = (D * dy - dx * d) / d2, cy0 = (-D * dx - dy * d) / d2, cx1 = (D * dy + dx * d) / d2, cy1 = (-D * dx + dy * d) / d2, dx0 = cx0 - x3, dy0 = cy0 - y3, dx1 = cx1 - x3, dy1 = cy1 - y3;\n\t    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\t    return [ [ cx0 - ox, cy0 - oy ], [ cx0 * r1 / r, cy0 * r1 / r ] ];\n\t  }\n\t  function d3_svg_line(projection) {\n\t    var x = d3_geom_pointX, y = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, tension = .7;\n\t    function line(data) {\n\t      var segments = [], points = [], i = -1, n = data.length, d, fx = d3_functor(x), fy = d3_functor(y);\n\t      function segment() {\n\t        segments.push(\"M\", interpolate(projection(points), tension));\n\t      }\n\t      while (++i < n) {\n\t        if (defined.call(this, d = data[i], i)) {\n\t          points.push([ +fx.call(this, d, i), +fy.call(this, d, i) ]);\n\t        } else if (points.length) {\n\t          segment();\n\t          points = [];\n\t        }\n\t      }\n\t      if (points.length) segment();\n\t      return segments.length ? segments.join(\"\") : null;\n\t    }\n\t    line.x = function(_) {\n\t      if (!arguments.length) return x;\n\t      x = _;\n\t      return line;\n\t    };\n\t    line.y = function(_) {\n\t      if (!arguments.length) return y;\n\t      y = _;\n\t      return line;\n\t    };\n\t    line.defined = function(_) {\n\t      if (!arguments.length) return defined;\n\t      defined = _;\n\t      return line;\n\t    };\n\t    line.interpolate = function(_) {\n\t      if (!arguments.length) return interpolateKey;\n\t      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n\t      return line;\n\t    };\n\t    line.tension = function(_) {\n\t      if (!arguments.length) return tension;\n\t      tension = _;\n\t      return line;\n\t    };\n\t    return line;\n\t  }\n\t  d3.svg.line = function() {\n\t    return d3_svg_line(d3_identity);\n\t  };\n\t  var d3_svg_lineInterpolators = d3.map({\n\t    linear: d3_svg_lineLinear,\n\t    \"linear-closed\": d3_svg_lineLinearClosed,\n\t    step: d3_svg_lineStep,\n\t    \"step-before\": d3_svg_lineStepBefore,\n\t    \"step-after\": d3_svg_lineStepAfter,\n\t    basis: d3_svg_lineBasis,\n\t    \"basis-open\": d3_svg_lineBasisOpen,\n\t    \"basis-closed\": d3_svg_lineBasisClosed,\n\t    bundle: d3_svg_lineBundle,\n\t    cardinal: d3_svg_lineCardinal,\n\t    \"cardinal-open\": d3_svg_lineCardinalOpen,\n\t    \"cardinal-closed\": d3_svg_lineCardinalClosed,\n\t    monotone: d3_svg_lineMonotone\n\t  });\n\t  d3_svg_lineInterpolators.forEach(function(key, value) {\n\t    value.key = key;\n\t    value.closed = /-closed$/.test(key);\n\t  });\n\t  function d3_svg_lineLinear(points) {\n\t    return points.length > 1 ? points.join(\"L\") : points + \"Z\";\n\t  }\n\t  function d3_svg_lineLinearClosed(points) {\n\t    return points.join(\"L\") + \"Z\";\n\t  }\n\t  function d3_svg_lineStep(points) {\n\t    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n\t    while (++i < n) path.push(\"H\", (p[0] + (p = points[i])[0]) / 2, \"V\", p[1]);\n\t    if (n > 1) path.push(\"H\", p[0]);\n\t    return path.join(\"\");\n\t  }\n\t  function d3_svg_lineStepBefore(points) {\n\t    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n\t    while (++i < n) path.push(\"V\", (p = points[i])[1], \"H\", p[0]);\n\t    return path.join(\"\");\n\t  }\n\t  function d3_svg_lineStepAfter(points) {\n\t    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n\t    while (++i < n) path.push(\"H\", (p = points[i])[0], \"V\", p[1]);\n\t    return path.join(\"\");\n\t  }\n\t  function d3_svg_lineCardinalOpen(points, tension) {\n\t    return points.length < 4 ? d3_svg_lineLinear(points) : points[1] + d3_svg_lineHermite(points.slice(1, -1), d3_svg_lineCardinalTangents(points, tension));\n\t  }\n\t  function d3_svg_lineCardinalClosed(points, tension) {\n\t    return points.length < 3 ? d3_svg_lineLinearClosed(points) : points[0] + d3_svg_lineHermite((points.push(points[0]), \n\t    points), d3_svg_lineCardinalTangents([ points[points.length - 2] ].concat(points, [ points[1] ]), tension));\n\t  }\n\t  function d3_svg_lineCardinal(points, tension) {\n\t    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineCardinalTangents(points, tension));\n\t  }\n\t  function d3_svg_lineHermite(points, tangents) {\n\t    if (tangents.length < 1 || points.length != tangents.length && points.length != tangents.length + 2) {\n\t      return d3_svg_lineLinear(points);\n\t    }\n\t    var quad = points.length != tangents.length, path = \"\", p0 = points[0], p = points[1], t0 = tangents[0], t = t0, pi = 1;\n\t    if (quad) {\n\t      path += \"Q\" + (p[0] - t0[0] * 2 / 3) + \",\" + (p[1] - t0[1] * 2 / 3) + \",\" + p[0] + \",\" + p[1];\n\t      p0 = points[1];\n\t      pi = 2;\n\t    }\n\t    if (tangents.length > 1) {\n\t      t = tangents[1];\n\t      p = points[pi];\n\t      pi++;\n\t      path += \"C\" + (p0[0] + t0[0]) + \",\" + (p0[1] + t0[1]) + \",\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n\t      for (var i = 2; i < tangents.length; i++, pi++) {\n\t        p = points[pi];\n\t        t = tangents[i];\n\t        path += \"S\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n\t      }\n\t    }\n\t    if (quad) {\n\t      var lp = points[pi];\n\t      path += \"Q\" + (p[0] + t[0] * 2 / 3) + \",\" + (p[1] + t[1] * 2 / 3) + \",\" + lp[0] + \",\" + lp[1];\n\t    }\n\t    return path;\n\t  }\n\t  function d3_svg_lineCardinalTangents(points, tension) {\n\t    var tangents = [], a = (1 - tension) / 2, p0, p1 = points[0], p2 = points[1], i = 1, n = points.length;\n\t    while (++i < n) {\n\t      p0 = p1;\n\t      p1 = p2;\n\t      p2 = points[i];\n\t      tangents.push([ a * (p2[0] - p0[0]), a * (p2[1] - p0[1]) ]);\n\t    }\n\t    return tangents;\n\t  }\n\t  function d3_svg_lineBasis(points) {\n\t    if (points.length < 3) return d3_svg_lineLinear(points);\n\t    var i = 1, n = points.length, pi = points[0], x0 = pi[0], y0 = pi[1], px = [ x0, x0, x0, (pi = points[1])[0] ], py = [ y0, y0, y0, pi[1] ], path = [ x0, \",\", y0, \"L\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n\t    points.push(points[n - 1]);\n\t    while (++i <= n) {\n\t      pi = points[i];\n\t      px.shift();\n\t      px.push(pi[0]);\n\t      py.shift();\n\t      py.push(pi[1]);\n\t      d3_svg_lineBasisBezier(path, px, py);\n\t    }\n\t    points.pop();\n\t    path.push(\"L\", pi);\n\t    return path.join(\"\");\n\t  }\n\t  function d3_svg_lineBasisOpen(points) {\n\t    if (points.length < 4) return d3_svg_lineLinear(points);\n\t    var path = [], i = -1, n = points.length, pi, px = [ 0 ], py = [ 0 ];\n\t    while (++i < 3) {\n\t      pi = points[i];\n\t      px.push(pi[0]);\n\t      py.push(pi[1]);\n\t    }\n\t    path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3, px) + \",\" + d3_svg_lineDot4(d3_svg_lineBasisBezier3, py));\n\t    --i;\n\t    while (++i < n) {\n\t      pi = points[i];\n\t      px.shift();\n\t      px.push(pi[0]);\n\t      py.shift();\n\t      py.push(pi[1]);\n\t      d3_svg_lineBasisBezier(path, px, py);\n\t    }\n\t    return path.join(\"\");\n\t  }\n\t  function d3_svg_lineBasisClosed(points) {\n\t    var path, i = -1, n = points.length, m = n + 4, pi, px = [], py = [];\n\t    while (++i < 4) {\n\t      pi = points[i % n];\n\t      px.push(pi[0]);\n\t      py.push(pi[1]);\n\t    }\n\t    path = [ d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n\t    --i;\n\t    while (++i < m) {\n\t      pi = points[i % n];\n\t      px.shift();\n\t      px.push(pi[0]);\n\t      py.shift();\n\t      py.push(pi[1]);\n\t      d3_svg_lineBasisBezier(path, px, py);\n\t    }\n\t    return path.join(\"\");\n\t  }\n\t  function d3_svg_lineBundle(points, tension) {\n\t    var n = points.length - 1;\n\t    if (n) {\n\t      var x0 = points[0][0], y0 = points[0][1], dx = points[n][0] - x0, dy = points[n][1] - y0, i = -1, p, t;\n\t      while (++i <= n) {\n\t        p = points[i];\n\t        t = i / n;\n\t        p[0] = tension * p[0] + (1 - tension) * (x0 + t * dx);\n\t        p[1] = tension * p[1] + (1 - tension) * (y0 + t * dy);\n\t      }\n\t    }\n\t    return d3_svg_lineBasis(points);\n\t  }\n\t  function d3_svg_lineDot4(a, b) {\n\t    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n\t  }\n\t  var d3_svg_lineBasisBezier1 = [ 0, 2 / 3, 1 / 3, 0 ], d3_svg_lineBasisBezier2 = [ 0, 1 / 3, 2 / 3, 0 ], d3_svg_lineBasisBezier3 = [ 0, 1 / 6, 2 / 3, 1 / 6 ];\n\t  function d3_svg_lineBasisBezier(path, x, y) {\n\t    path.push(\"C\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));\n\t  }\n\t  function d3_svg_lineSlope(p0, p1) {\n\t    return (p1[1] - p0[1]) / (p1[0] - p0[0]);\n\t  }\n\t  function d3_svg_lineFiniteDifferences(points) {\n\t    var i = 0, j = points.length - 1, m = [], p0 = points[0], p1 = points[1], d = m[0] = d3_svg_lineSlope(p0, p1);\n\t    while (++i < j) {\n\t      m[i] = (d + (d = d3_svg_lineSlope(p0 = p1, p1 = points[i + 1]))) / 2;\n\t    }\n\t    m[i] = d;\n\t    return m;\n\t  }\n\t  function d3_svg_lineMonotoneTangents(points) {\n\t    var tangents = [], d, a, b, s, m = d3_svg_lineFiniteDifferences(points), i = -1, j = points.length - 1;\n\t    while (++i < j) {\n\t      d = d3_svg_lineSlope(points[i], points[i + 1]);\n\t      if (abs(d) < ) {\n\t        m[i] = m[i + 1] = 0;\n\t      } else {\n\t        a = m[i] / d;\n\t        b = m[i + 1] / d;\n\t        s = a * a + b * b;\n\t        if (s > 9) {\n\t          s = d * 3 / Math.sqrt(s);\n\t          m[i] = s * a;\n\t          m[i + 1] = s * b;\n\t        }\n\t      }\n\t    }\n\t    i = -1;\n\t    while (++i <= j) {\n\t      s = (points[Math.min(j, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));\n\t      tangents.push([ s || 0, m[i] * s || 0 ]);\n\t    }\n\t    return tangents;\n\t  }\n\t  function d3_svg_lineMonotone(points) {\n\t    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineMonotoneTangents(points));\n\t  }\n\t  d3.svg.line.radial = function() {\n\t    var line = d3_svg_line(d3_svg_lineRadial);\n\t    line.radius = line.x, delete line.x;\n\t    line.angle = line.y, delete line.y;\n\t    return line;\n\t  };\n\t  function d3_svg_lineRadial(points) {\n\t    var point, i = -1, n = points.length, r, a;\n\t    while (++i < n) {\n\t      point = points[i];\n\t      r = point[0];\n\t      a = point[1] - half;\n\t      point[0] = r * Math.cos(a);\n\t      point[1] = r * Math.sin(a);\n\t    }\n\t    return points;\n\t  }\n\t  function d3_svg_area(projection) {\n\t    var x0 = d3_geom_pointX, x1 = d3_geom_pointX, y0 = 0, y1 = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, interpolateReverse = interpolate, L = \"L\", tension = .7;\n\t    function area(data) {\n\t      var segments = [], points0 = [], points1 = [], i = -1, n = data.length, d, fx0 = d3_functor(x0), fy0 = d3_functor(y0), fx1 = x0 === x1 ? function() {\n\t        return x;\n\t      } : d3_functor(x1), fy1 = y0 === y1 ? function() {\n\t        return y;\n\t      } : d3_functor(y1), x, y;\n\t      function segment() {\n\t        segments.push(\"M\", interpolate(projection(points1), tension), L, interpolateReverse(projection(points0.reverse()), tension), \"Z\");\n\t      }\n\t      while (++i < n) {\n\t        if (defined.call(this, d = data[i], i)) {\n\t          points0.push([ x = +fx0.call(this, d, i), y = +fy0.call(this, d, i) ]);\n\t          points1.push([ +fx1.call(this, d, i), +fy1.call(this, d, i) ]);\n\t        } else if (points0.length) {\n\t          segment();\n\t          points0 = [];\n\t          points1 = [];\n\t        }\n\t      }\n\t      if (points0.length) segment();\n\t      return segments.length ? segments.join(\"\") : null;\n\t    }\n\t    area.x = function(_) {\n\t      if (!arguments.length) return x1;\n\t      x0 = x1 = _;\n\t      return area;\n\t    };\n\t    area.x0 = function(_) {\n\t      if (!arguments.length) return x0;\n\t      x0 = _;\n\t      return area;\n\t    };\n\t    area.x1 = function(_) {\n\t      if (!arguments.length) return x1;\n\t      x1 = _;\n\t      return area;\n\t    };\n\t    area.y = function(_) {\n\t      if (!arguments.length) return y1;\n\t      y0 = y1 = _;\n\t      return area;\n\t    };\n\t    area.y0 = function(_) {\n\t      if (!arguments.length) return y0;\n\t      y0 = _;\n\t      return area;\n\t    };\n\t    area.y1 = function(_) {\n\t      if (!arguments.length) return y1;\n\t      y1 = _;\n\t      return area;\n\t    };\n\t    area.defined = function(_) {\n\t      if (!arguments.length) return defined;\n\t      defined = _;\n\t      return area;\n\t    };\n\t    area.interpolate = function(_) {\n\t      if (!arguments.length) return interpolateKey;\n\t      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n\t      interpolateReverse = interpolate.reverse || interpolate;\n\t      L = interpolate.closed ? \"M\" : \"L\";\n\t      return area;\n\t    };\n\t    area.tension = function(_) {\n\t      if (!arguments.length) return tension;\n\t      tension = _;\n\t      return area;\n\t    };\n\t    return area;\n\t  }\n\t  d3_svg_lineStepBefore.reverse = d3_svg_lineStepAfter;\n\t  d3_svg_lineStepAfter.reverse = d3_svg_lineStepBefore;\n\t  d3.svg.area = function() {\n\t    return d3_svg_area(d3_identity);\n\t  };\n\t  d3.svg.area.radial = function() {\n\t    var area = d3_svg_area(d3_svg_lineRadial);\n\t    area.radius = area.x, delete area.x;\n\t    area.innerRadius = area.x0, delete area.x0;\n\t    area.outerRadius = area.x1, delete area.x1;\n\t    area.angle = area.y, delete area.y;\n\t    area.startAngle = area.y0, delete area.y0;\n\t    area.endAngle = area.y1, delete area.y1;\n\t    return area;\n\t  };\n\t  d3.svg.chord = function() {\n\t    var source = d3_source, target = d3_target, radius = d3_svg_chordRadius, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle;\n\t    function chord(d, i) {\n\t      var s = subgroup(this, source, d, i), t = subgroup(this, target, d, i);\n\t      return \"M\" + s.p0 + arc(s.r, s.p1, s.a1 - s.a0) + (equals(s, t) ? curve(s.r, s.p1, s.r, s.p0) : curve(s.r, s.p1, t.r, t.p0) + arc(t.r, t.p1, t.a1 - t.a0) + curve(t.r, t.p1, s.r, s.p0)) + \"Z\";\n\t    }\n\t    function subgroup(self, f, d, i) {\n\t      var subgroup = f.call(self, d, i), r = radius.call(self, subgroup, i), a0 = startAngle.call(self, subgroup, i) - half, a1 = endAngle.call(self, subgroup, i) - half;\n\t      return {\n\t        r: r,\n\t        a0: a0,\n\t        a1: a1,\n\t        p0: [ r * Math.cos(a0), r * Math.sin(a0) ],\n\t        p1: [ r * Math.cos(a1), r * Math.sin(a1) ]\n\t      };\n\t    }\n\t    function equals(a, b) {\n\t      return a.a0 == b.a0 && a.a1 == b.a1;\n\t    }\n\t    function arc(r, p, a) {\n\t      return \"A\" + r + \",\" + r + \" 0 \" + +(a > ) + \",1 \" + p;\n\t    }\n\t    function curve(r0, p0, r1, p1) {\n\t      return \"Q 0,0 \" + p1;\n\t    }\n\t    chord.radius = function(v) {\n\t      if (!arguments.length) return radius;\n\t      radius = d3_functor(v);\n\t      return chord;\n\t    };\n\t    chord.source = function(v) {\n\t      if (!arguments.length) return source;\n\t      source = d3_functor(v);\n\t      return chord;\n\t    };\n\t    chord.target = function(v) {\n\t      if (!arguments.length) return target;\n\t      target = d3_functor(v);\n\t      return chord;\n\t    };\n\t    chord.startAngle = function(v) {\n\t      if (!arguments.length) return startAngle;\n\t      startAngle = d3_functor(v);\n\t      return chord;\n\t    };\n\t    chord.endAngle = function(v) {\n\t      if (!arguments.length) return endAngle;\n\t      endAngle = d3_functor(v);\n\t      return chord;\n\t    };\n\t    return chord;\n\t  };\n\t  function d3_svg_chordRadius(d) {\n\t    return d.radius;\n\t  }\n\t  d3.svg.diagonal = function() {\n\t    var source = d3_source, target = d3_target, projection = d3_svg_diagonalProjection;\n\t    function diagonal(d, i) {\n\t      var p0 = source.call(this, d, i), p3 = target.call(this, d, i), m = (p0.y + p3.y) / 2, p = [ p0, {\n\t        x: p0.x,\n\t        y: m\n\t      }, {\n\t        x: p3.x,\n\t        y: m\n\t      }, p3 ];\n\t      p = p.map(projection);\n\t      return \"M\" + p[0] + \"C\" + p[1] + \" \" + p[2] + \" \" + p[3];\n\t    }\n\t    diagonal.source = function(x) {\n\t      if (!arguments.length) return source;\n\t      source = d3_functor(x);\n\t      return diagonal;\n\t    };\n\t    diagonal.target = function(x) {\n\t      if (!arguments.length) return target;\n\t      target = d3_functor(x);\n\t      return diagonal;\n\t    };\n\t    diagonal.projection = function(x) {\n\t      if (!arguments.length) return projection;\n\t      projection = x;\n\t      return diagonal;\n\t    };\n\t    return diagonal;\n\t  };\n\t  function d3_svg_diagonalProjection(d) {\n\t    return [ d.x, d.y ];\n\t  }\n\t  d3.svg.diagonal.radial = function() {\n\t    var diagonal = d3.svg.diagonal(), projection = d3_svg_diagonalProjection, projection_ = diagonal.projection;\n\t    diagonal.projection = function(x) {\n\t      return arguments.length ? projection_(d3_svg_diagonalRadialProjection(projection = x)) : projection;\n\t    };\n\t    return diagonal;\n\t  };\n\t  function d3_svg_diagonalRadialProjection(projection) {\n\t    return function() {\n\t      var d = projection.apply(this, arguments), r = d[0], a = d[1] - half;\n\t      return [ r * Math.cos(a), r * Math.sin(a) ];\n\t    };\n\t  }\n\t  d3.svg.symbol = function() {\n\t    var type = d3_svg_symbolType, size = d3_svg_symbolSize;\n\t    function symbol(d, i) {\n\t      return (d3_svg_symbols.get(type.call(this, d, i)) || d3_svg_symbolCircle)(size.call(this, d, i));\n\t    }\n\t    symbol.type = function(x) {\n\t      if (!arguments.length) return type;\n\t      type = d3_functor(x);\n\t      return symbol;\n\t    };\n\t    symbol.size = function(x) {\n\t      if (!arguments.length) return size;\n\t      size = d3_functor(x);\n\t      return symbol;\n\t    };\n\t    return symbol;\n\t  };\n\t  function d3_svg_symbolSize() {\n\t    return 64;\n\t  }\n\t  function d3_svg_symbolType() {\n\t    return \"circle\";\n\t  }\n\t  function d3_svg_symbolCircle(size) {\n\t    var r = Math.sqrt(size / );\n\t    return \"M0,\" + r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + -r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + r + \"Z\";\n\t  }\n\t  var d3_svg_symbols = d3.map({\n\t    circle: d3_svg_symbolCircle,\n\t    cross: function(size) {\n\t      var r = Math.sqrt(size / 5) / 2;\n\t      return \"M\" + -3 * r + \",\" + -r + \"H\" + -r + \"V\" + -3 * r + \"H\" + r + \"V\" + -r + \"H\" + 3 * r + \"V\" + r + \"H\" + r + \"V\" + 3 * r + \"H\" + -r + \"V\" + r + \"H\" + -3 * r + \"Z\";\n\t    },\n\t    diamond: function(size) {\n\t      var ry = Math.sqrt(size / (2 * d3_svg_symbolTan30)), rx = ry * d3_svg_symbolTan30;\n\t      return \"M0,\" + -ry + \"L\" + rx + \",0\" + \" 0,\" + ry + \" \" + -rx + \",0\" + \"Z\";\n\t    },\n\t    square: function(size) {\n\t      var r = Math.sqrt(size) / 2;\n\t      return \"M\" + -r + \",\" + -r + \"L\" + r + \",\" + -r + \" \" + r + \",\" + r + \" \" + -r + \",\" + r + \"Z\";\n\t    },\n\t    \"triangle-down\": function(size) {\n\t      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n\t      return \"M0,\" + ry + \"L\" + rx + \",\" + -ry + \" \" + -rx + \",\" + -ry + \"Z\";\n\t    },\n\t    \"triangle-up\": function(size) {\n\t      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n\t      return \"M0,\" + -ry + \"L\" + rx + \",\" + ry + \" \" + -rx + \",\" + ry + \"Z\";\n\t    }\n\t  });\n\t  d3.svg.symbolTypes = d3_svg_symbols.keys();\n\t  var d3_svg_symbolSqrt3 = Math.sqrt(3), d3_svg_symbolTan30 = Math.tan(30 * d3_radians);\n\t  d3_selectionPrototype.transition = function(name) {\n\t    var id = d3_transitionInheritId || ++d3_transitionId, ns = d3_transitionNamespace(name), subgroups = [], subgroup, node, transition = d3_transitionInherit || {\n\t      time: Date.now(),\n\t      ease: d3_ease_cubicInOut,\n\t      delay: 0,\n\t      duration: 250\n\t    };\n\t    for (var j = -1, m = this.length; ++j < m; ) {\n\t      subgroups.push(subgroup = []);\n\t      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n\t        if (node = group[i]) d3_transitionNode(node, i, ns, id, transition);\n\t        subgroup.push(node);\n\t      }\n\t    }\n\t    return d3_transition(subgroups, ns, id);\n\t  };\n\t  d3_selectionPrototype.interrupt = function(name) {\n\t    return this.each(name == null ? d3_selection_interrupt : d3_selection_interruptNS(d3_transitionNamespace(name)));\n\t  };\n\t  var d3_selection_interrupt = d3_selection_interruptNS(d3_transitionNamespace());\n\t  function d3_selection_interruptNS(ns) {\n\t    return function() {\n\t      var lock, activeId, active;\n\t      if ((lock = this[ns]) && (active = lock[activeId = lock.active])) {\n\t        active.timer.c = null;\n\t        active.timer.t = NaN;\n\t        if (--lock.count) delete lock[activeId]; else delete this[ns];\n\t        lock.active += .5;\n\t        active.event && active.event.interrupt.call(this, this.__data__, active.index);\n\t      }\n\t    };\n\t  }\n\t  function d3_transition(groups, ns, id) {\n\t    d3_subclass(groups, d3_transitionPrototype);\n\t    groups.namespace = ns;\n\t    groups.id = id;\n\t    return groups;\n\t  }\n\t  var d3_transitionPrototype = [], d3_transitionId = 0, d3_transitionInheritId, d3_transitionInherit;\n\t  d3_transitionPrototype.call = d3_selectionPrototype.call;\n\t  d3_transitionPrototype.empty = d3_selectionPrototype.empty;\n\t  d3_transitionPrototype.node = d3_selectionPrototype.node;\n\t  d3_transitionPrototype.size = d3_selectionPrototype.size;\n\t  d3.transition = function(selection, name) {\n\t    return selection && selection.transition ? d3_transitionInheritId ? selection.transition(name) : selection : d3.selection().transition(selection);\n\t  };\n\t  d3.transition.prototype = d3_transitionPrototype;\n\t  d3_transitionPrototype.select = function(selector) {\n\t    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnode, node;\n\t    selector = d3_selection_selector(selector);\n\t    for (var j = -1, m = this.length; ++j < m; ) {\n\t      subgroups.push(subgroup = []);\n\t      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n\t        if ((node = group[i]) && (subnode = selector.call(node, node.__data__, i, j))) {\n\t          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n\t          d3_transitionNode(subnode, i, ns, id, node[ns][id]);\n\t          subgroup.push(subnode);\n\t        } else {\n\t          subgroup.push(null);\n\t        }\n\t      }\n\t    }\n\t    return d3_transition(subgroups, ns, id);\n\t  };\n\t  d3_transitionPrototype.selectAll = function(selector) {\n\t    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnodes, node, subnode, transition;\n\t    selector = d3_selection_selectorAll(selector);\n\t    for (var j = -1, m = this.length; ++j < m; ) {\n\t      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n\t        if (node = group[i]) {\n\t          transition = node[ns][id];\n\t          subnodes = selector.call(node, node.__data__, i, j);\n\t          subgroups.push(subgroup = []);\n\t          for (var k = -1, o = subnodes.length; ++k < o; ) {\n\t            if (subnode = subnodes[k]) d3_transitionNode(subnode, k, ns, id, transition);\n\t            subgroup.push(subnode);\n\t          }\n\t        }\n\t      }\n\t    }\n\t    return d3_transition(subgroups, ns, id);\n\t  };\n\t  d3_transitionPrototype.filter = function(filter) {\n\t    var subgroups = [], subgroup, group, node;\n\t    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n\t    for (var j = 0, m = this.length; j < m; j++) {\n\t      subgroups.push(subgroup = []);\n\t      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n\t        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n\t          subgroup.push(node);\n\t        }\n\t      }\n\t    }\n\t    return d3_transition(subgroups, this.namespace, this.id);\n\t  };\n\t  d3_transitionPrototype.tween = function(name, tween) {\n\t    var id = this.id, ns = this.namespace;\n\t    if (arguments.length < 2) return this.node()[ns][id].tween.get(name);\n\t    return d3_selection_each(this, tween == null ? function(node) {\n\t      node[ns][id].tween.remove(name);\n\t    } : function(node) {\n\t      node[ns][id].tween.set(name, tween);\n\t    });\n\t  };\n\t  function d3_transition_tween(groups, name, value, tween) {\n\t    var id = groups.id, ns = groups.namespace;\n\t    return d3_selection_each(groups, typeof value === \"function\" ? function(node, i, j) {\n\t      node[ns][id].tween.set(name, tween(value.call(node, node.__data__, i, j)));\n\t    } : (value = tween(value), function(node) {\n\t      node[ns][id].tween.set(name, value);\n\t    }));\n\t  }\n\t  d3_transitionPrototype.attr = function(nameNS, value) {\n\t    if (arguments.length < 2) {\n\t      for (value in nameNS) this.attr(value, nameNS[value]);\n\t      return this;\n\t    }\n\t    var interpolate = nameNS == \"transform\" ? d3_interpolateTransform : d3_interpolate, name = d3.ns.qualify(nameNS);\n\t    function attrNull() {\n\t      this.removeAttribute(name);\n\t    }\n\t    function attrNullNS() {\n\t      this.removeAttributeNS(name.space, name.local);\n\t    }\n\t    function attrTween(b) {\n\t      return b == null ? attrNull : (b += \"\", function() {\n\t        var a = this.getAttribute(name), i;\n\t        return a !== b && (i = interpolate(a, b), function(t) {\n\t          this.setAttribute(name, i(t));\n\t        });\n\t      });\n\t    }\n\t    function attrTweenNS(b) {\n\t      return b == null ? attrNullNS : (b += \"\", function() {\n\t        var a = this.getAttributeNS(name.space, name.local), i;\n\t        return a !== b && (i = interpolate(a, b), function(t) {\n\t          this.setAttributeNS(name.space, name.local, i(t));\n\t        });\n\t      });\n\t    }\n\t    return d3_transition_tween(this, \"attr.\" + nameNS, value, name.local ? attrTweenNS : attrTween);\n\t  };\n\t  d3_transitionPrototype.attrTween = function(nameNS, tween) {\n\t    var name = d3.ns.qualify(nameNS);\n\t    function attrTween(d, i) {\n\t      var f = tween.call(this, d, i, this.getAttribute(name));\n\t      return f && function(t) {\n\t        this.setAttribute(name, f(t));\n\t      };\n\t    }\n\t    function attrTweenNS(d, i) {\n\t      var f = tween.call(this, d, i, this.getAttributeNS(name.space, name.local));\n\t      return f && function(t) {\n\t        this.setAttributeNS(name.space, name.local, f(t));\n\t      };\n\t    }\n\t    return this.tween(\"attr.\" + nameNS, name.local ? attrTweenNS : attrTween);\n\t  };\n\t  d3_transitionPrototype.style = function(name, value, priority) {\n\t    var n = arguments.length;\n\t    if (n < 3) {\n\t      if (typeof name !== \"string\") {\n\t        if (n < 2) value = \"\";\n\t        for (priority in name) this.style(priority, name[priority], value);\n\t        return this;\n\t      }\n\t      priority = \"\";\n\t    }\n\t    function styleNull() {\n\t      this.style.removeProperty(name);\n\t    }\n\t    function styleString(b) {\n\t      return b == null ? styleNull : (b += \"\", function() {\n\t        var a = d3_window(this).getComputedStyle(this, null).getPropertyValue(name), i;\n\t        return a !== b && (i = d3_interpolate(a, b), function(t) {\n\t          this.style.setProperty(name, i(t), priority);\n\t        });\n\t      });\n\t    }\n\t    return d3_transition_tween(this, \"style.\" + name, value, styleString);\n\t  };\n\t  d3_transitionPrototype.styleTween = function(name, tween, priority) {\n\t    if (arguments.length < 3) priority = \"\";\n\t    function styleTween(d, i) {\n\t      var f = tween.call(this, d, i, d3_window(this).getComputedStyle(this, null).getPropertyValue(name));\n\t      return f && function(t) {\n\t        this.style.setProperty(name, f(t), priority);\n\t      };\n\t    }\n\t    return this.tween(\"style.\" + name, styleTween);\n\t  };\n\t  d3_transitionPrototype.text = function(value) {\n\t    return d3_transition_tween(this, \"text\", value, d3_transition_text);\n\t  };\n\t  function d3_transition_text(b) {\n\t    if (b == null) b = \"\";\n\t    return function() {\n\t      this.textContent = b;\n\t    };\n\t  }\n\t  d3_transitionPrototype.remove = function() {\n\t    var ns = this.namespace;\n\t    return this.each(\"end.transition\", function() {\n\t      var p;\n\t      if (this[ns].count < 2 && (p = this.parentNode)) p.removeChild(this);\n\t    });\n\t  };\n\t  d3_transitionPrototype.ease = function(value) {\n\t    var id = this.id, ns = this.namespace;\n\t    if (arguments.length < 1) return this.node()[ns][id].ease;\n\t    if (typeof value !== \"function\") value = d3.ease.apply(d3, arguments);\n\t    return d3_selection_each(this, function(node) {\n\t      node[ns][id].ease = value;\n\t    });\n\t  };\n\t  d3_transitionPrototype.delay = function(value) {\n\t    var id = this.id, ns = this.namespace;\n\t    if (arguments.length < 1) return this.node()[ns][id].delay;\n\t    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n\t      node[ns][id].delay = +value.call(node, node.__data__, i, j);\n\t    } : (value = +value, function(node) {\n\t      node[ns][id].delay = value;\n\t    }));\n\t  };\n\t  d3_transitionPrototype.duration = function(value) {\n\t    var id = this.id, ns = this.namespace;\n\t    if (arguments.length < 1) return this.node()[ns][id].duration;\n\t    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n\t      node[ns][id].duration = Math.max(1, value.call(node, node.__data__, i, j));\n\t    } : (value = Math.max(1, value), function(node) {\n\t      node[ns][id].duration = value;\n\t    }));\n\t  };\n\t  d3_transitionPrototype.each = function(type, listener) {\n\t    var id = this.id, ns = this.namespace;\n\t    if (arguments.length < 2) {\n\t      var inherit = d3_transitionInherit, inheritId = d3_transitionInheritId;\n\t      try {\n\t        d3_transitionInheritId = id;\n\t        d3_selection_each(this, function(node, i, j) {\n\t          d3_transitionInherit = node[ns][id];\n\t          type.call(node, node.__data__, i, j);\n\t        });\n\t      } finally {\n\t        d3_transitionInherit = inherit;\n\t        d3_transitionInheritId = inheritId;\n\t      }\n\t    } else {\n\t      d3_selection_each(this, function(node) {\n\t        var transition = node[ns][id];\n\t        (transition.event || (transition.event = d3.dispatch(\"start\", \"end\", \"interrupt\"))).on(type, listener);\n\t      });\n\t    }\n\t    return this;\n\t  };\n\t  d3_transitionPrototype.transition = function() {\n\t    var id0 = this.id, id1 = ++d3_transitionId, ns = this.namespace, subgroups = [], subgroup, group, node, transition;\n\t    for (var j = 0, m = this.length; j < m; j++) {\n\t      subgroups.push(subgroup = []);\n\t      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n\t        if (node = group[i]) {\n\t          transition = node[ns][id0];\n\t          d3_transitionNode(node, i, ns, id1, {\n\t            time: transition.time,\n\t            ease: transition.ease,\n\t            delay: transition.delay + transition.duration,\n\t            duration: transition.duration\n\t          });\n\t        }\n\t        subgroup.push(node);\n\t      }\n\t    }\n\t    return d3_transition(subgroups, ns, id1);\n\t  };\n\t  function d3_transitionNamespace(name) {\n\t    return name == null ? \"__transition__\" : \"__transition_\" + name + \"__\";\n\t  }\n\t  function d3_transitionNode(node, i, ns, id, inherit) {\n\t    var lock = node[ns] || (node[ns] = {\n\t      active: 0,\n\t      count: 0\n\t    }), transition = lock[id], time, timer, duration, ease, tweens;\n\t    function schedule(elapsed) {\n\t      var delay = transition.delay;\n\t      timer.t = delay + time;\n\t      if (delay <= elapsed) return start(elapsed - delay);\n\t      timer.c = start;\n\t    }\n\t    function start(elapsed) {\n\t      var activeId = lock.active, active = lock[activeId];\n\t      if (active) {\n\t        active.timer.c = null;\n\t        active.timer.t = NaN;\n\t        --lock.count;\n\t        delete lock[activeId];\n\t        active.event && active.event.interrupt.call(node, node.__data__, active.index);\n\t      }\n\t      for (var cancelId in lock) {\n\t        if (+cancelId < id) {\n\t          var cancel = lock[cancelId];\n\t          cancel.timer.c = null;\n\t          cancel.timer.t = NaN;\n\t          --lock.count;\n\t          delete lock[cancelId];\n\t        }\n\t      }\n\t      timer.c = tick;\n\t      d3_timer(function() {\n\t        if (timer.c && tick(elapsed || 1)) {\n\t          timer.c = null;\n\t          timer.t = NaN;\n\t        }\n\t        return 1;\n\t      }, 0, time);\n\t      lock.active = id;\n\t      transition.event && transition.event.start.call(node, node.__data__, i);\n\t      tweens = [];\n\t      transition.tween.forEach(function(key, value) {\n\t        if (value = value.call(node, node.__data__, i)) {\n\t          tweens.push(value);\n\t        }\n\t      });\n\t      ease = transition.ease;\n\t      duration = transition.duration;\n\t    }\n\t    function tick(elapsed) {\n\t      var t = elapsed / duration, e = ease(t), n = tweens.length;\n\t      while (n > 0) {\n\t        tweens[--n].call(node, e);\n\t      }\n\t      if (t >= 1) {\n\t        transition.event && transition.event.end.call(node, node.__data__, i);\n\t        if (--lock.count) delete lock[id]; else delete node[ns];\n\t        return 1;\n\t      }\n\t    }\n\t    if (!transition) {\n\t      time = inherit.time;\n\t      timer = d3_timer(schedule, 0, time);\n\t      transition = lock[id] = {\n\t        tween: new d3_Map(),\n\t        time: time,\n\t        timer: timer,\n\t        delay: inherit.delay,\n\t        duration: inherit.duration,\n\t        ease: inherit.ease,\n\t        index: i\n\t      };\n\t      inherit = null;\n\t      ++lock.count;\n\t    }\n\t  }\n\t  d3.svg.axis = function() {\n\t    var scale = d3.scale.linear(), orient = d3_svg_axisDefaultOrient, innerTickSize = 6, outerTickSize = 6, tickPadding = 3, tickArguments_ = [ 10 ], tickValues = null, tickFormat_;\n\t    function axis(g) {\n\t      g.each(function() {\n\t        var g = d3.select(this);\n\t        var scale0 = this.__chart__ || scale, scale1 = this.__chart__ = scale.copy();\n\t        var ticks = tickValues == null ? scale1.ticks ? scale1.ticks.apply(scale1, tickArguments_) : scale1.domain() : tickValues, tickFormat = tickFormat_ == null ? scale1.tickFormat ? scale1.tickFormat.apply(scale1, tickArguments_) : d3_identity : tickFormat_, tick = g.selectAll(\".tick\").data(ticks, scale1), tickEnter = tick.enter().insert(\"g\", \".domain\").attr(\"class\", \"tick\").style(\"opacity\", ), tickExit = d3.transition(tick.exit()).style(\"opacity\", ).remove(), tickUpdate = d3.transition(tick.order()).style(\"opacity\", 1), tickSpacing = Math.max(innerTickSize, 0) + tickPadding, tickTransform;\n\t        var range = d3_scaleRange(scale1), path = g.selectAll(\".domain\").data([ 0 ]), pathUpdate = (path.enter().append(\"path\").attr(\"class\", \"domain\"), \n\t        d3.transition(path));\n\t        tickEnter.append(\"line\");\n\t        tickEnter.append(\"text\");\n\t        var lineEnter = tickEnter.select(\"line\"), lineUpdate = tickUpdate.select(\"line\"), text = tick.select(\"text\").text(tickFormat), textEnter = tickEnter.select(\"text\"), textUpdate = tickUpdate.select(\"text\"), sign = orient === \"top\" || orient === \"left\" ? -1 : 1, x1, x2, y1, y2;\n\t        if (orient === \"bottom\" || orient === \"top\") {\n\t          tickTransform = d3_svg_axisX, x1 = \"x\", y1 = \"y\", x2 = \"x2\", y2 = \"y2\";\n\t          text.attr(\"dy\", sign < 0 ? \"0em\" : \".71em\").style(\"text-anchor\", \"middle\");\n\t          pathUpdate.attr(\"d\", \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize);\n\t        } else {\n\t          tickTransform = d3_svg_axisY, x1 = \"y\", y1 = \"x\", x2 = \"y2\", y2 = \"x2\";\n\t          text.attr(\"dy\", \".32em\").style(\"text-anchor\", sign < 0 ? \"end\" : \"start\");\n\t          pathUpdate.attr(\"d\", \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize);\n\t        }\n\t        lineEnter.attr(y2, sign * innerTickSize);\n\t        textEnter.attr(y1, sign * tickSpacing);\n\t        lineUpdate.attr(x2, 0).attr(y2, sign * innerTickSize);\n\t        textUpdate.attr(x1, 0).attr(y1, sign * tickSpacing);\n\t        if (scale1.rangeBand) {\n\t          var x = scale1, dx = x.rangeBand() / 2;\n\t          scale0 = scale1 = function(d) {\n\t            return x(d) + dx;\n\t          };\n\t        } else if (scale0.rangeBand) {\n\t          scale0 = scale1;\n\t        } else {\n\t          tickExit.call(tickTransform, scale1, scale0);\n\t        }\n\t        tickEnter.call(tickTransform, scale0, scale1);\n\t        tickUpdate.call(tickTransform, scale1, scale1);\n\t      });\n\t    }\n\t    axis.scale = function(x) {\n\t      if (!arguments.length) return scale;\n\t      scale = x;\n\t      return axis;\n\t    };\n\t    axis.orient = function(x) {\n\t      if (!arguments.length) return orient;\n\t      orient = x in d3_svg_axisOrients ? x + \"\" : d3_svg_axisDefaultOrient;\n\t      return axis;\n\t    };\n\t    axis.ticks = function() {\n\t      if (!arguments.length) return tickArguments_;\n\t      tickArguments_ = d3_array(arguments);\n\t      return axis;\n\t    };\n\t    axis.tickValues = function(x) {\n\t      if (!arguments.length) return tickValues;\n\t      tickValues = x;\n\t      return axis;\n\t    };\n\t    axis.tickFormat = function(x) {\n\t      if (!arguments.length) return tickFormat_;\n\t      tickFormat_ = x;\n\t      return axis;\n\t    };\n\t    axis.tickSize = function(x) {\n\t      var n = arguments.length;\n\t      if (!n) return innerTickSize;\n\t      innerTickSize = +x;\n\t      outerTickSize = +arguments[n - 1];\n\t      return axis;\n\t    };\n\t    axis.innerTickSize = function(x) {\n\t      if (!arguments.length) return innerTickSize;\n\t      innerTickSize = +x;\n\t      return axis;\n\t    };\n\t    axis.outerTickSize = function(x) {\n\t      if (!arguments.length) return outerTickSize;\n\t      outerTickSize = +x;\n\t      return axis;\n\t    };\n\t    axis.tickPadding = function(x) {\n\t      if (!arguments.length) return tickPadding;\n\t      tickPadding = +x;\n\t      return axis;\n\t    };\n\t    axis.tickSubdivide = function() {\n\t      return arguments.length && axis;\n\t    };\n\t    return axis;\n\t  };\n\t  var d3_svg_axisDefaultOrient = \"bottom\", d3_svg_axisOrients = {\n\t    top: 1,\n\t    right: 1,\n\t    bottom: 1,\n\t    left: 1\n\t  };\n\t  function d3_svg_axisX(selection, x0, x1) {\n\t    selection.attr(\"transform\", function(d) {\n\t      var v0 = x0(d);\n\t      return \"translate(\" + (isFinite(v0) ? v0 : x1(d)) + \",0)\";\n\t    });\n\t  }\n\t  function d3_svg_axisY(selection, y0, y1) {\n\t    selection.attr(\"transform\", function(d) {\n\t      var v0 = y0(d);\n\t      return \"translate(0,\" + (isFinite(v0) ? v0 : y1(d)) + \")\";\n\t    });\n\t  }\n\t  d3.svg.brush = function() {\n\t    var event = d3_eventDispatch(brush, \"brushstart\", \"brush\", \"brushend\"), x = null, y = null, xExtent = [ 0, 0 ], yExtent = [ 0, 0 ], xExtentDomain, yExtentDomain, xClamp = true, yClamp = true, resizes = d3_svg_brushResizes[0];\n\t    function brush(g) {\n\t      g.each(function() {\n\t        var g = d3.select(this).style(\"pointer-events\", \"all\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\").on(\"mousedown.brush\", brushstart).on(\"touchstart.brush\", brushstart);\n\t        var background = g.selectAll(\".background\").data([ 0 ]);\n\t        background.enter().append(\"rect\").attr(\"class\", \"background\").style(\"visibility\", \"hidden\").style(\"cursor\", \"crosshair\");\n\t        g.selectAll(\".extent\").data([ 0 ]).enter().append(\"rect\").attr(\"class\", \"extent\").style(\"cursor\", \"move\");\n\t        var resize = g.selectAll(\".resize\").data(resizes, d3_identity);\n\t        resize.exit().remove();\n\t        resize.enter().append(\"g\").attr(\"class\", function(d) {\n\t          return \"resize \" + d;\n\t        }).style(\"cursor\", function(d) {\n\t          return d3_svg_brushCursor[d];\n\t        }).append(\"rect\").attr(\"x\", function(d) {\n\t          return /[ew]$/.test(d) ? -3 : null;\n\t        }).attr(\"y\", function(d) {\n\t          return /^[ns]/.test(d) ? -3 : null;\n\t        }).attr(\"width\", 6).attr(\"height\", 6).style(\"visibility\", \"hidden\");\n\t        resize.style(\"display\", brush.empty() ? \"none\" : null);\n\t        var gUpdate = d3.transition(g), backgroundUpdate = d3.transition(background), range;\n\t        if (x) {\n\t          range = d3_scaleRange(x);\n\t          backgroundUpdate.attr(\"x\", range[0]).attr(\"width\", range[1] - range[0]);\n\t          redrawX(gUpdate);\n\t        }\n\t        if (y) {\n\t          range = d3_scaleRange(y);\n\t          backgroundUpdate.attr(\"y\", range[0]).attr(\"height\", range[1] - range[0]);\n\t          redrawY(gUpdate);\n\t        }\n\t        redraw(gUpdate);\n\t      });\n\t    }\n\t    brush.event = function(g) {\n\t      g.each(function() {\n\t        var event_ = event.of(this, arguments), extent1 = {\n\t          x: xExtent,\n\t          y: yExtent,\n\t          i: xExtentDomain,\n\t          j: yExtentDomain\n\t        }, extent0 = this.__chart__ || extent1;\n\t        this.__chart__ = extent1;\n\t        if (d3_transitionInheritId) {\n\t          d3.select(this).transition().each(\"start.brush\", function() {\n\t            xExtentDomain = extent0.i;\n\t            yExtentDomain = extent0.j;\n\t            xExtent = extent0.x;\n\t            yExtent = extent0.y;\n\t            event_({\n\t              type: \"brushstart\"\n\t            });\n\t          }).tween(\"brush:brush\", function() {\n\t            var xi = d3_interpolateArray(xExtent, extent1.x), yi = d3_interpolateArray(yExtent, extent1.y);\n\t            xExtentDomain = yExtentDomain = null;\n\t            return function(t) {\n\t              xExtent = extent1.x = xi(t);\n\t              yExtent = extent1.y = yi(t);\n\t              event_({\n\t                type: \"brush\",\n\t                mode: \"resize\"\n\t              });\n\t            };\n\t          }).each(\"end.brush\", function() {\n\t            xExtentDomain = extent1.i;\n\t            yExtentDomain = extent1.j;\n\t            event_({\n\t              type: \"brush\",\n\t              mode: \"resize\"\n\t            });\n\t            event_({\n\t              type: \"brushend\"\n\t            });\n\t          });\n\t        } else {\n\t          event_({\n\t            type: \"brushstart\"\n\t          });\n\t          event_({\n\t            type: \"brush\",\n\t            mode: \"resize\"\n\t          });\n\t          event_({\n\t            type: \"brushend\"\n\t          });\n\t        }\n\t      });\n\t    };\n\t    function redraw(g) {\n\t      g.selectAll(\".resize\").attr(\"transform\", function(d) {\n\t        return \"translate(\" + xExtent[+/e$/.test(d)] + \",\" + yExtent[+/^s/.test(d)] + \")\";\n\t      });\n\t    }\n\t    function redrawX(g) {\n\t      g.select(\".extent\").attr(\"x\", xExtent[0]);\n\t      g.selectAll(\".extent,.n>rect,.s>rect\").attr(\"width\", xExtent[1] - xExtent[0]);\n\t    }\n\t    function redrawY(g) {\n\t      g.select(\".extent\").attr(\"y\", yExtent[0]);\n\t      g.selectAll(\".extent,.e>rect,.w>rect\").attr(\"height\", yExtent[1] - yExtent[0]);\n\t    }\n\t    function brushstart() {\n\t      var target = this, eventTarget = d3.select(d3.event.target), event_ = event.of(target, arguments), g = d3.select(target), resizing = eventTarget.datum(), resizingX = !/^(n|s)$/.test(resizing) && x, resizingY = !/^(e|w)$/.test(resizing) && y, dragging = eventTarget.classed(\"extent\"), dragRestore = d3_event_dragSuppress(target), center, origin = d3.mouse(target), offset;\n\t      var w = d3.select(d3_window(target)).on(\"keydown.brush\", keydown).on(\"keyup.brush\", keyup);\n\t      if (d3.event.changedTouches) {\n\t        w.on(\"touchmove.brush\", brushmove).on(\"touchend.brush\", brushend);\n\t      } else {\n\t        w.on(\"mousemove.brush\", brushmove).on(\"mouseup.brush\", brushend);\n\t      }\n\t      g.interrupt().selectAll(\"*\").interrupt();\n\t      if (dragging) {\n\t        origin[0] = xExtent[0] - origin[0];\n\t        origin[1] = yExtent[0] - origin[1];\n\t      } else if (resizing) {\n\t        var ex = +/w$/.test(resizing), ey = +/^n/.test(resizing);\n\t        offset = [ xExtent[1 - ex] - origin[0], yExtent[1 - ey] - origin[1] ];\n\t        origin[0] = xExtent[ex];\n\t        origin[1] = yExtent[ey];\n\t      } else if (d3.event.altKey) center = origin.slice();\n\t      g.style(\"pointer-events\", \"none\").selectAll(\".resize\").style(\"display\", null);\n\t      d3.select(\"body\").style(\"cursor\", eventTarget.style(\"cursor\"));\n\t      event_({\n\t        type: \"brushstart\"\n\t      });\n\t      brushmove();\n\t      function keydown() {\n\t        if (d3.event.keyCode == 32) {\n\t          if (!dragging) {\n\t            center = null;\n\t            origin[0] -= xExtent[1];\n\t            origin[1] -= yExtent[1];\n\t            dragging = 2;\n\t          }\n\t          d3_eventPreventDefault();\n\t        }\n\t      }\n\t      function keyup() {\n\t        if (d3.event.keyCode == 32 && dragging == 2) {\n\t          origin[0] += xExtent[1];\n\t          origin[1] += yExtent[1];\n\t          dragging = 0;\n\t          d3_eventPreventDefault();\n\t        }\n\t      }\n\t      function brushmove() {\n\t        var point = d3.mouse(target), moved = false;\n\t        if (offset) {\n\t          point[0] += offset[0];\n\t          point[1] += offset[1];\n\t        }\n\t        if (!dragging) {\n\t          if (d3.event.altKey) {\n\t            if (!center) center = [ (xExtent[0] + xExtent[1]) / 2, (yExtent[0] + yExtent[1]) / 2 ];\n\t            origin[0] = xExtent[+(point[0] < center[0])];\n\t            origin[1] = yExtent[+(point[1] < center[1])];\n\t          } else center = null;\n\t        }\n\t        if (resizingX && move1(point, x, 0)) {\n\t          redrawX(g);\n\t          moved = true;\n\t        }\n\t        if (resizingY && move1(point, y, 1)) {\n\t          redrawY(g);\n\t          moved = true;\n\t        }\n\t        if (moved) {\n\t          redraw(g);\n\t          event_({\n\t            type: \"brush\",\n\t            mode: dragging ? \"move\" : \"resize\"\n\t          });\n\t        }\n\t      }\n\t      function move1(point, scale, i) {\n\t        var range = d3_scaleRange(scale), r0 = range[0], r1 = range[1], position = origin[i], extent = i ? yExtent : xExtent, size = extent[1] - extent[0], min, max;\n\t        if (dragging) {\n\t          r0 -= position;\n\t          r1 -= size + position;\n\t        }\n\t        min = (i ? yClamp : xClamp) ? Math.max(r0, Math.min(r1, point[i])) : point[i];\n\t        if (dragging) {\n\t          max = (min += position) + size;\n\t        } else {\n\t          if (center) position = Math.max(r0, Math.min(r1, 2 * center[i] - min));\n\t          if (position < min) {\n\t            max = min;\n\t            min = position;\n\t          } else {\n\t            max = position;\n\t          }\n\t        }\n\t        if (extent[0] != min || extent[1] != max) {\n\t          if (i) yExtentDomain = null; else xExtentDomain = null;\n\t          extent[0] = min;\n\t          extent[1] = max;\n\t          return true;\n\t        }\n\t      }\n\t      function brushend() {\n\t        brushmove();\n\t        g.style(\"pointer-events\", \"all\").selectAll(\".resize\").style(\"display\", brush.empty() ? \"none\" : null);\n\t        d3.select(\"body\").style(\"cursor\", null);\n\t        w.on(\"mousemove.brush\", null).on(\"mouseup.brush\", null).on(\"touchmove.brush\", null).on(\"touchend.brush\", null).on(\"keydown.brush\", null).on(\"keyup.brush\", null);\n\t        dragRestore();\n\t        event_({\n\t          type: \"brushend\"\n\t        });\n\t      }\n\t    }\n\t    brush.x = function(z) {\n\t      if (!arguments.length) return x;\n\t      x = z;\n\t      resizes = d3_svg_brushResizes[!x << 1 | !y];\n\t      return brush;\n\t    };\n\t    brush.y = function(z) {\n\t      if (!arguments.length) return y;\n\t      y = z;\n\t      resizes = d3_svg_brushResizes[!x << 1 | !y];\n\t      return brush;\n\t    };\n\t    brush.clamp = function(z) {\n\t      if (!arguments.length) return x && y ? [ xClamp, yClamp ] : x ? xClamp : y ? yClamp : null;\n\t      if (x && y) xClamp = !!z[0], yClamp = !!z[1]; else if (x) xClamp = !!z; else if (y) yClamp = !!z;\n\t      return brush;\n\t    };\n\t    brush.extent = function(z) {\n\t      var x0, x1, y0, y1, t;\n\t      if (!arguments.length) {\n\t        if (x) {\n\t          if (xExtentDomain) {\n\t            x0 = xExtentDomain[0], x1 = xExtentDomain[1];\n\t          } else {\n\t            x0 = xExtent[0], x1 = xExtent[1];\n\t            if (x.invert) x0 = x.invert(x0), x1 = x.invert(x1);\n\t            if (x1 < x0) t = x0, x0 = x1, x1 = t;\n\t          }\n\t        }\n\t        if (y) {\n\t          if (yExtentDomain) {\n\t            y0 = yExtentDomain[0], y1 = yExtentDomain[1];\n\t          } else {\n\t            y0 = yExtent[0], y1 = yExtent[1];\n\t            if (y.invert) y0 = y.invert(y0), y1 = y.invert(y1);\n\t            if (y1 < y0) t = y0, y0 = y1, y1 = t;\n\t          }\n\t        }\n\t        return x && y ? [ [ x0, y0 ], [ x1, y1 ] ] : x ? [ x0, x1 ] : y && [ y0, y1 ];\n\t      }\n\t      if (x) {\n\t        x0 = z[0], x1 = z[1];\n\t        if (y) x0 = x0[0], x1 = x1[0];\n\t        xExtentDomain = [ x0, x1 ];\n\t        if (x.invert) x0 = x(x0), x1 = x(x1);\n\t        if (x1 < x0) t = x0, x0 = x1, x1 = t;\n\t        if (x0 != xExtent[0] || x1 != xExtent[1]) xExtent = [ x0, x1 ];\n\t      }\n\t      if (y) {\n\t        y0 = z[0], y1 = z[1];\n\t        if (x) y0 = y0[1], y1 = y1[1];\n\t        yExtentDomain = [ y0, y1 ];\n\t        if (y.invert) y0 = y(y0), y1 = y(y1);\n\t        if (y1 < y0) t = y0, y0 = y1, y1 = t;\n\t        if (y0 != yExtent[0] || y1 != yExtent[1]) yExtent = [ y0, y1 ];\n\t      }\n\t      return brush;\n\t    };\n\t    brush.clear = function() {\n\t      if (!brush.empty()) {\n\t        xExtent = [ 0, 0 ], yExtent = [ 0, 0 ];\n\t        xExtentDomain = yExtentDomain = null;\n\t      }\n\t      return brush;\n\t    };\n\t    brush.empty = function() {\n\t      return !!x && xExtent[0] == xExtent[1] || !!y && yExtent[0] == yExtent[1];\n\t    };\n\t    return d3.rebind(brush, event, \"on\");\n\t  };\n\t  var d3_svg_brushCursor = {\n\t    n: \"ns-resize\",\n\t    e: \"ew-resize\",\n\t    s: \"ns-resize\",\n\t    w: \"ew-resize\",\n\t    nw: \"nwse-resize\",\n\t    ne: \"nesw-resize\",\n\t    se: \"nwse-resize\",\n\t    sw: \"nesw-resize\"\n\t  };\n\t  var d3_svg_brushResizes = [ [ \"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\" ], [ \"e\", \"w\" ], [ \"n\", \"s\" ], [] ];\n\t  var d3_time_format = d3_time.format = d3_locale_enUS.timeFormat;\n\t  var d3_time_formatUtc = d3_time_format.utc;\n\t  var d3_time_formatIso = d3_time_formatUtc(\"%Y-%m-%dT%H:%M:%S.%LZ\");\n\t  d3_time_format.iso = Date.prototype.toISOString && +new Date(\"2000-01-01T00:00:00.000Z\") ? d3_time_formatIsoNative : d3_time_formatIso;\n\t  function d3_time_formatIsoNative(date) {\n\t    return date.toISOString();\n\t  }\n\t  d3_time_formatIsoNative.parse = function(string) {\n\t    var date = new Date(string);\n\t    return isNaN(date) ? null : date;\n\t  };\n\t  d3_time_formatIsoNative.toString = d3_time_formatIso.toString;\n\t  d3_time.second = d3_time_interval(function(date) {\n\t    return new d3_date(Math.floor(date / 1e3) * 1e3);\n\t  }, function(date, offset) {\n\t    date.setTime(date.getTime() + Math.floor(offset) * 1e3);\n\t  }, function(date) {\n\t    return date.getSeconds();\n\t  });\n\t  d3_time.seconds = d3_time.second.range;\n\t  d3_time.seconds.utc = d3_time.second.utc.range;\n\t  d3_time.minute = d3_time_interval(function(date) {\n\t    return new d3_date(Math.floor(date / 6e4) * 6e4);\n\t  }, function(date, offset) {\n\t    date.setTime(date.getTime() + Math.floor(offset) * 6e4);\n\t  }, function(date) {\n\t    return date.getMinutes();\n\t  });\n\t  d3_time.minutes = d3_time.minute.range;\n\t  d3_time.minutes.utc = d3_time.minute.utc.range;\n\t  d3_time.hour = d3_time_interval(function(date) {\n\t    var timezone = date.getTimezoneOffset() / 60;\n\t    return new d3_date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);\n\t  }, function(date, offset) {\n\t    date.setTime(date.getTime() + Math.floor(offset) * 36e5);\n\t  }, function(date) {\n\t    return date.getHours();\n\t  });\n\t  d3_time.hours = d3_time.hour.range;\n\t  d3_time.hours.utc = d3_time.hour.utc.range;\n\t  d3_time.month = d3_time_interval(function(date) {\n\t    date = d3_time.day(date);\n\t    date.setDate(1);\n\t    return date;\n\t  }, function(date, offset) {\n\t    date.setMonth(date.getMonth() + offset);\n\t  }, function(date) {\n\t    return date.getMonth();\n\t  });\n\t  d3_time.months = d3_time.month.range;\n\t  d3_time.months.utc = d3_time.month.utc.range;\n\t  function d3_time_scale(linear, methods, format) {\n\t    function scale(x) {\n\t      return linear(x);\n\t    }\n\t    scale.invert = function(x) {\n\t      return d3_time_scaleDate(linear.invert(x));\n\t    };\n\t    scale.domain = function(x) {\n\t      if (!arguments.length) return linear.domain().map(d3_time_scaleDate);\n\t      linear.domain(x);\n\t      return scale;\n\t    };\n\t    function tickMethod(extent, count) {\n\t      var span = extent[1] - extent[0], target = span / count, i = d3.bisect(d3_time_scaleSteps, target);\n\t      return i == d3_time_scaleSteps.length ? [ methods.year, d3_scale_linearTickRange(extent.map(function(d) {\n\t        return d / 31536e6;\n\t      }), count)[2] ] : !i ? [ d3_time_scaleMilliseconds, d3_scale_linearTickRange(extent, count)[2] ] : methods[target / d3_time_scaleSteps[i - 1] < d3_time_scaleSteps[i] / target ? i - 1 : i];\n\t    }\n\t    scale.nice = function(interval, skip) {\n\t      var domain = scale.domain(), extent = d3_scaleExtent(domain), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" && tickMethod(extent, interval);\n\t      if (method) interval = method[0], skip = method[1];\n\t      function skipped(date) {\n\t        return !isNaN(date) && !interval.range(date, d3_time_scaleDate(+date + 1), skip).length;\n\t      }\n\t      return scale.domain(d3_scale_nice(domain, skip > 1 ? {\n\t        floor: function(date) {\n\t          while (skipped(date = interval.floor(date))) date = d3_time_scaleDate(date - 1);\n\t          return date;\n\t        },\n\t        ceil: function(date) {\n\t          while (skipped(date = interval.ceil(date))) date = d3_time_scaleDate(+date + 1);\n\t          return date;\n\t        }\n\t      } : interval));\n\t    };\n\t    scale.ticks = function(interval, skip) {\n\t      var extent = d3_scaleExtent(scale.domain()), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" ? tickMethod(extent, interval) : !interval.range && [ {\n\t        range: interval\n\t      }, skip ];\n\t      if (method) interval = method[0], skip = method[1];\n\t      return interval.range(extent[0], d3_time_scaleDate(+extent[1] + 1), skip < 1 ? 1 : skip);\n\t    };\n\t    scale.tickFormat = function() {\n\t      return format;\n\t    };\n\t    scale.copy = function() {\n\t      return d3_time_scale(linear.copy(), methods, format);\n\t    };\n\t    return d3_scale_linearRebind(scale, linear);\n\t  }\n\t  function d3_time_scaleDate(t) {\n\t    return new Date(t);\n\t  }\n\t  var d3_time_scaleSteps = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ];\n\t  var d3_time_scaleLocalMethods = [ [ d3_time.second, 1 ], [ d3_time.second, 5 ], [ d3_time.second, 15 ], [ d3_time.second, 30 ], [ d3_time.minute, 1 ], [ d3_time.minute, 5 ], [ d3_time.minute, 15 ], [ d3_time.minute, 30 ], [ d3_time.hour, 1 ], [ d3_time.hour, 3 ], [ d3_time.hour, 6 ], [ d3_time.hour, 12 ], [ d3_time.day, 1 ], [ d3_time.day, 2 ], [ d3_time.week, 1 ], [ d3_time.month, 1 ], [ d3_time.month, 3 ], [ d3_time.year, 1 ] ];\n\t  var d3_time_scaleLocalFormat = d3_time_format.multi([ [ \".%L\", function(d) {\n\t    return d.getMilliseconds();\n\t  } ], [ \":%S\", function(d) {\n\t    return d.getSeconds();\n\t  } ], [ \"%I:%M\", function(d) {\n\t    return d.getMinutes();\n\t  } ], [ \"%I %p\", function(d) {\n\t    return d.getHours();\n\t  } ], [ \"%a %d\", function(d) {\n\t    return d.getDay() && d.getDate() != 1;\n\t  } ], [ \"%b %d\", function(d) {\n\t    return d.getDate() != 1;\n\t  } ], [ \"%B\", function(d) {\n\t    return d.getMonth();\n\t  } ], [ \"%Y\", d3_true ] ]);\n\t  var d3_time_scaleMilliseconds = {\n\t    range: function(start, stop, step) {\n\t      return d3.range(Math.ceil(start / step) * step, +stop, step).map(d3_time_scaleDate);\n\t    },\n\t    floor: d3_identity,\n\t    ceil: d3_identity\n\t  };\n\t  d3_time_scaleLocalMethods.year = d3_time.year;\n\t  d3_time.scale = function() {\n\t    return d3_time_scale(d3.scale.linear(), d3_time_scaleLocalMethods, d3_time_scaleLocalFormat);\n\t  };\n\t  var d3_time_scaleUtcMethods = d3_time_scaleLocalMethods.map(function(m) {\n\t    return [ m[0].utc, m[1] ];\n\t  });\n\t  var d3_time_scaleUtcFormat = d3_time_formatUtc.multi([ [ \".%L\", function(d) {\n\t    return d.getUTCMilliseconds();\n\t  } ], [ \":%S\", function(d) {\n\t    return d.getUTCSeconds();\n\t  } ], [ \"%I:%M\", function(d) {\n\t    return d.getUTCMinutes();\n\t  } ], [ \"%I %p\", function(d) {\n\t    return d.getUTCHours();\n\t  } ], [ \"%a %d\", function(d) {\n\t    return d.getUTCDay() && d.getUTCDate() != 1;\n\t  } ], [ \"%b %d\", function(d) {\n\t    return d.getUTCDate() != 1;\n\t  } ], [ \"%B\", function(d) {\n\t    return d.getUTCMonth();\n\t  } ], [ \"%Y\", d3_true ] ]);\n\t  d3_time_scaleUtcMethods.year = d3_time.year.utc;\n\t  d3_time.scale.utc = function() {\n\t    return d3_time_scale(d3.scale.linear(), d3_time_scaleUtcMethods, d3_time_scaleUtcFormat);\n\t  };\n\t  d3.text = d3_xhrType(function(request) {\n\t    return request.responseText;\n\t  });\n\t  d3.json = function(url, callback) {\n\t    return d3_xhr(url, \"application/json\", d3_json, callback);\n\t  };\n\t  function d3_json(request) {\n\t    return JSON.parse(request.responseText);\n\t  }\n\t  d3.html = function(url, callback) {\n\t    return d3_xhr(url, \"text/html\", d3_html, callback);\n\t  };\n\t  function d3_html(request) {\n\t    var range = d3_document.createRange();\n\t    range.selectNode(d3_document.body);\n\t    return range.createContextualFragment(request.responseText);\n\t  }\n\t  d3.xml = d3_xhrType(function(request) {\n\t    return request.responseXML;\n\t  });\n\t  if (true) this.d3 = d3, !(__WEBPACK_AMD_DEFINE_FACTORY__ = (d3), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); else if (typeof module === \"object\" && module.exports) module.exports = d3; else this.d3 = d3;\n\t}();\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\"use strict\";\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar React = __webpack_require__(13);\n\t\n\t__webpack_require__(63);\n\t\n\t/* entry for an alert in the listing, can be expanded (with details) or standard\n\t * rowId optional: an identifier for the row which will be set as \"data-row-id\" attribute on the <tr>\n\t * columns list of columns to show in the header\n\t *     columns to show, can be a string, react component or object with { name: 'name', 'header': false }\n\t *     'header' (or if simple string) defaults to false\n\t *     in case 'header' is true, <th> is used for the entries, otherwise <td>\n\t * tabRenderers optional: list of tab renderers for inline expansion, array of objects with\n\t *     - name tab name (has to be unique in the entry, used as react key)\n\t *     - renderer react component\n\t *     - data render data passed to the tab renderer\n\t *     - presence 'always', 'onlyActive', 'loadOnDemand', default: 'loadOnDemand'\n\t *         - 'always' once a row is expanded, this tab is always rendered, but invisible if not active\n\t *         - 'onlyActive' the tab is only rendered when active\n\t *         - 'loadOnDemand' the tab is first rendered when it becomes active, then follows 'always' behavior\n\t *     if tabRenderers isn't set, item can't be expanded inline\n\t * navigateToItem optional: callback triggered when a row is clicked, pattern suggests navigation\n\t *     to view expanded item details, if not set, navigation isn't available\n\t * listingDetail optional: text rendered next to action buttons, similar style to the tab headers\n\t * listingActions optional: buttons that are presented as actions for the expanded item\n\t * selectChanged optional: callback will be used when the \"selected\" state changes\n\t * selected optional: true if the item is selected, can't be true if row has navigation or expansion\n\t * initiallyExpanded optional: the entry will be initially rendered as expanded, but then behaves normally\n\t * expandChanged optional: callback will be used if the row is either expanded or collapsed passing single `isExpanded` boolean argument\n\t */\n\tvar ListingRow = React.createClass({\n\t    displayName: 'ListingRow',\n\t\n\t    propTypes: {\n\t        rowId: React.PropTypes.string,\n\t        columns: React.PropTypes.array.isRequired,\n\t        tabRenderers: React.PropTypes.array,\n\t        navigateToItem: React.PropTypes.func,\n\t        listingDetail: React.PropTypes.node,\n\t        listingActions: React.PropTypes.arrayOf(React.PropTypes.node),\n\t        selectChanged: React.PropTypes.func,\n\t        selected: React.PropTypes.bool,\n\t        initiallyExpanded: React.PropTypes.bool,\n\t        expandChanged: React.PropTypes.func,\n\t        initiallyActiveTab: React.PropTypes.bool\n\t    },\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            tabRenderers: [],\n\t            navigateToItem: null\n\t        };\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            expanded: this.props.initiallyExpanded, // show expanded view if true, otherwise one line compact\n\t            activeTab: this.props.initiallyActiveTab ? this.props.initiallyActiveTab : 0, // currently active tab in expanded mode, defaults to first tab\n\t            loadedTabs: {}, // which tabs were already loaded - this is important for 'loadOnDemand' setting\n\t            // contains tab indices\n\t            selected: this.props.selected // whether the current row is selected\n\t        };\n\t    },\n\t    handleNavigateClick: function handleNavigateClick(e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t        this.props.navigateToItem();\n\t    },\n\t    handleExpandClick: function handleExpandClick(e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t\n\t        var willBeExpanded = !this.state.expanded && this.props.tabRenderers.length > 0;\n\t        this.setState({ expanded: willBeExpanded });\n\t\n\t        var loadedTabs = {};\n\t        // unload all tabs if not expanded\n\t        if (willBeExpanded) {\n\t            // see if we should preload some tabs\n\t            var tabIdx;\n\t            var tabPresence;\n\t            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n\t                if ('presence' in this.props.tabRenderers[tabIdx]) tabPresence = this.props.tabRenderers[tabIdx].presence;else tabPresence = 'default';\n\t                // the active tab is covered by separate logic\n\t                if (tabPresence == 'always') loadedTabs[tabIdx] = true;\n\t            }\n\t            // ensure the active tab is loaded\n\t            loadedTabs[this.state.activeTab] = true;\n\t        }\n\t\n\t        this.setState({ loadedTabs: loadedTabs });\n\t\n\t        this.props.expandChanged && this.props.expandChanged(willBeExpanded);\n\t\n\t        e.stopPropagation();\n\t        e.preventDefault();\n\t    },\n\t    handleSelectClick: function handleSelectClick(e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t\n\t        var selected = !this.state.selected;\n\t        this.setState({ selected: selected });\n\t\n\t        if (this.props.selectChanged) this.props.selectChanged(selected);\n\t\n\t        e.stopPropagation();\n\t        e.preventDefault();\n\t    },\n\t    handleTabClick: function handleTabClick(tabIdx, e) {\n\t        // only consider primary mouse button\n\t        if (!e || e.button !== 0) return;\n\t        var prevTab = this.state.activeTab;\n\t        var prevTabPresence = 'default';\n\t        var loadedTabs = this.state.loadedTabs;\n\t        if (prevTab !== tabIdx) {\n\t            // see if we need to unload the previous tab\n\t            if ('presence' in this.props.tabRenderers[prevTab]) prevTabPresence = this.props.tabRenderers[prevTab].presence;\n\t\n\t            if (prevTabPresence == 'onlyActive') delete loadedTabs[prevTab];\n\t\n\t            // ensure the new tab is loaded and update state\n\t            loadedTabs[tabIdx] = true;\n\t            this.setState({ loadedTabs: loadedTabs, activeTab: tabIdx });\n\t        }\n\t        e.stopPropagation();\n\t        e.preventDefault();\n\t    },\n\t    render: function render() {\n\t        var self = this;\n\t        // only enable navigation if a function is provided and the row isn't expanded (prevent accidental navigation)\n\t        var allowNavigate = !!this.props.navigateToItem && !this.state.expanded;\n\t\n\t        var headerEntries = this.props.columns.map(function (itm) {\n\t            if (typeof itm === 'string' || typeof itm === 'number' || itm === null || itm === undefined || itm instanceof String || React.isValidElement(itm)) return React.createElement(\n\t                'td',\n\t                null,\n\t                itm\n\t            );else if ('header' in itm && itm.header) return React.createElement(\n\t                'th',\n\t                null,\n\t                itm.name\n\t            );else if ('tight' in itm && itm.tight) return React.createElement(\n\t                'td',\n\t                { className: 'listing-ct-actions' },\n\t                itm.name || itm.element\n\t            );else return React.createElement(\n\t                'td',\n\t                null,\n\t                itm.name\n\t            );\n\t        });\n\t\n\t        var allowExpand = this.props.tabRenderers.length > 0;\n\t        var expandToggle;\n\t        if (allowExpand) {\n\t            expandToggle = React.createElement(\n\t                'td',\n\t                { className: 'listing-ct-toggle', onClick: allowNavigate ? this.handleExpandClick : undefined },\n\t                React.createElement('i', { className: 'fa fa-fw' })\n\t            );\n\t        } else {\n\t            expandToggle = React.createElement('td', { className: 'listing-ct-toggle' });\n\t        }\n\t\n\t        var listingItemClasses = [\"listing-ct-item\"];\n\t        if (!allowNavigate) listingItemClasses.push(\"listing-ct-nonavigate\");\n\t        if (!allowExpand) listingItemClasses.push(\"listing-ct-noexpand\");\n\t\n\t        var allowSelect = !(allowNavigate || allowExpand) && this.state.selected !== undefined;\n\t        var clickHandler;\n\t        if (allowSelect) {\n\t            clickHandler = this.handleSelectClick;\n\t            if (this.state.selected) listingItemClasses.push(\"listing-ct-selected\");\n\t        } else {\n\t            if (allowNavigate) clickHandler = this.handleNavigateClick;else clickHandler = this.handleExpandClick;\n\t        }\n\t\n\t        var listingItem = React.createElement(\n\t            'tr',\n\t            { 'data-row-id': this.props.rowId,\n\t                className: listingItemClasses.join(' '),\n\t                onClick: clickHandler },\n\t            expandToggle,\n\t            headerEntries\n\t        );\n\t\n\t        if (this.state.expanded) {\n\t            var links = this.props.tabRenderers.map(function (itm, idx) {\n\t                return React.createElement(\n\t                    'li',\n\t                    { key: idx, className: idx === self.state.activeTab ? \"active\" : \"\" },\n\t                    React.createElement(\n\t                        'a',\n\t                        { href: '#', onClick: self.handleTabClick.bind(self, idx) },\n\t                        itm.name\n\t                    )\n\t                );\n\t            });\n\t            var tabs = [];\n\t            var tabIdx;\n\t            var Renderer;\n\t            var rendererData;\n\t            var row;\n\t            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n\t                Renderer = this.props.tabRenderers[tabIdx].renderer;\n\t                rendererData = this.props.tabRenderers[tabIdx].data;\n\t                if (tabIdx !== this.state.activeTab && !(tabIdx in this.state.loadedTabs)) continue;\n\t                row = React.createElement(Renderer, _extends({ key: this.props.tabRenderers[tabIdx].name, hidden: tabIdx !== this.state.activeTab }, rendererData));\n\t                if (tabIdx === this.state.activeTab) tabs.push(React.createElement(\n\t                    'div',\n\t                    { className: 'listing-ct-body', key: tabIdx },\n\t                    row\n\t                ));else tabs.push(React.createElement(\n\t                    'div',\n\t                    { className: 'listing-ct-body', key: tabIdx, hidden: true },\n\t                    row\n\t                ));\n\t            }\n\t\n\t            var listingDetail;\n\t            if ('listingDetail' in this.props) {\n\t                listingDetail = React.createElement(\n\t                    'span',\n\t                    { className: 'listing-ct-caption' },\n\t                    this.props.listingDetail\n\t                );\n\t            }\n\t\n\t            return React.createElement(\n\t                'tbody',\n\t                { className: 'open' },\n\t                listingItem,\n\t                React.createElement(\n\t                    'tr',\n\t                    { className: 'listing-ct-panel' },\n\t                    React.createElement(\n\t                        'td',\n\t                        { colSpan: headerEntries.length + (expandToggle ? 1 : 0) },\n\t                        React.createElement(\n\t                            'div',\n\t                            { className: 'listing-ct-head' },\n\t                            React.createElement(\n\t                                'div',\n\t                                { className: 'listing-ct-actions' },\n\t                                listingDetail,\n\t                                this.props.listingActions\n\t                            ),\n\t                            React.createElement(\n\t                                'ul',\n\t                                { className: 'nav nav-tabs nav-tabs-pf' },\n\t                                links\n\t                            )\n\t                        ),\n\t                        tabs\n\t                    )\n\t                )\n\t            );\n\t        } else {\n\t            return React.createElement(\n\t                'tbody',\n\t                null,\n\t                listingItem,\n\t                React.createElement('tr', { className: 'listing-ct-panel' })\n\t            );\n\t        }\n\t    }\n\t});\n\t\n\t/* Implements a PatternFly 'List View' pattern\n\t * https://www.patternfly.org/list-view/\n\t * Properties:\n\t * - title\n\t * - fullWidth optional: set width to 100% of parent, defaults to true\n\t * - emptyCaption header caption to show if list is empty, defaults to \"No entries\"\n\t * - columnTitles: array of column titles, as strings\n\t * - columnTitleClick: optional callback for clicking on column title (for sorting)\n\t *                     receives the column index as argument\n\t * - actions: additional listing-wide actions (displayed next to the list's title)\n\t */\n\tvar Listing = React.createClass({\n\t    displayName: 'Listing',\n\t\n\t    propTypes: {\n\t        title: React.PropTypes.string.isRequired,\n\t        fullWidth: React.PropTypes.bool,\n\t        emptyCaption: React.PropTypes.string.isRequired,\n\t        columnTitles: React.PropTypes.arrayOf(React.PropTypes.string),\n\t        columnTitleClick: React.PropTypes.func,\n\t        actions: React.PropTypes.arrayOf(React.PropTypes.node)\n\t    },\n\t    getDefaultProps: function getDefaultProps() {\n\t        return {\n\t            fullWidth: true,\n\t            columnTitles: [],\n\t            actions: []\n\t        };\n\t    },\n\t    render: function render() {\n\t        var self = this;\n\t        var bodyClasses = [\"listing\", \"listing-ct\"];\n\t        if (this.props.fullWidth) bodyClasses.push(\"listing-ct-wide\");\n\t        var headerClasses;\n\t        var headerRow;\n\t        var selectableRows;\n\t        if (!this.props.children || this.props.children.length === 0) {\n\t            headerClasses = \"listing-ct-empty\";\n\t            headerRow = React.createElement(\n\t                'tr',\n\t                null,\n\t                React.createElement(\n\t                    'td',\n\t                    null,\n\t                    this.props.emptyCaption\n\t                )\n\t            );\n\t        } else if (this.props.columnTitles.length) {\n\t            // check if any of the children are selectable\n\t            selectableRows = false;\n\t            this.props.children.forEach(function (r) {\n\t                if (r.props.selected !== undefined) selectableRows = true;\n\t            });\n\t\n\t            if (selectableRows) {\n\t                // now make sure that if one is set, it's available on all items\n\t                this.props.children.forEach(function (r) {\n\t                    if (r.props.selected === undefined) r.props.selected = false;\n\t                });\n\t            }\n\t\n\t            headerRow = React.createElement(\n\t                'tr',\n\t                null,\n\t                React.createElement('th', { className: 'listing-ct-toggle' }),\n\t                this.props.columnTitles.map(function (title, index) {\n\t                    var clickHandler = null;\n\t                    if (self.props.columnTitleClick) clickHandler = function clickHandler() {\n\t                        self.props.columnTitleClick(index);\n\t                    };\n\t                    return React.createElement(\n\t                        'th',\n\t                        { onClick: clickHandler },\n\t                        title\n\t                    );\n\t                })\n\t            );\n\t        } else {\n\t            headerRow = React.createElement('tr', null);\n\t        }\n\t        var caption;\n\t        if (this.props.title || this.props.actions && this.props.actions.length > 0) caption = React.createElement(\n\t            'caption',\n\t            { className: 'cockpit-caption' },\n\t            this.props.title,\n\t            this.props.actions\n\t        );\n\t\n\t        return React.createElement(\n\t            'table',\n\t            { className: bodyClasses.join(\" \") },\n\t            caption,\n\t            React.createElement(\n\t                'thead',\n\t                { className: headerClasses },\n\t                headerRow\n\t            ),\n\t            this.props.children\n\t        );\n\t    }\n\t});\n\t\n\tmodule.exports = {\n\t    ListingRow: ListingRow,\n\t    Listing: Listing\n\t};\n\n/***/ },\n/* 63 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _vmDisksTab = __webpack_require__(65);\n\t\n\tvar _vmDisksTab2 = _interopRequireDefault(_vmDisksTab);\n\t\n\tvar _vmDiskSourceCell = __webpack_require__(68);\n\t\n\tvar _vmDiskSourceCell2 = _interopRequireDefault(_vmDiskSourceCell);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\t_react2.default;\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar VmDisksTabLibvirt = function (_React$Component) {\n\t    _inherits(VmDisksTabLibvirt, _React$Component);\n\t\n\t    function VmDisksTabLibvirt() {\n\t        _classCallCheck(this, VmDisksTabLibvirt);\n\t\n\t        return _possibleConstructorReturn(this, (VmDisksTabLibvirt.__proto__ || Object.getPrototypeOf(VmDisksTabLibvirt)).apply(this, arguments));\n\t    }\n\t\n\t    _createClass(VmDisksTabLibvirt, [{\n\t        key: 'componentWillMount',\n\t        value: function componentWillMount() {\n\t            this.props.onUsageStartPolling();\n\t        }\n\t    }, {\n\t        key: 'componentWillUnmount',\n\t        value: function componentWillUnmount() {\n\t            this.props.onUsageStopPolling();\n\t        }\n\t\n\t        /**\n\t         * Returns true, if disk statistics are retrieved.\n\t         */\n\t\n\t    }, {\n\t        key: 'getDiskStatsSupport',\n\t        value: function getDiskStatsSupport(vm) {\n\t            /* Possible states for disk stats:\n\t                available ~ already read\n\t                supported, but not available yet ~ will be read soon\n\t                unsupported ~ failed attempt to read (old libvirt)\n\t             */\n\t            var areDiskStatsSupported = false;\n\t            if (vm.disksStats) {\n\t                // stats are read/supported if there is a non-NaN stat value\n\t                areDiskStatsSupported = !!Object.getOwnPropertyNames(vm.disksStats).some(function (target) {\n\t                    if (!vm.disksStats[target]) {\n\t                        return false; // not yet retrieved, can't decide about disk stats support\n\t                    }\n\t                    return !isNaN(vm.disksStats[target].capacity) || !isNaN(vm.disksStats[target].allocation);\n\t                });\n\t            }\n\t\n\t            return areDiskStatsSupported;\n\t        }\n\t    }, {\n\t        key: 'getNotification',\n\t        value: function getNotification(vm, areDiskStatsSupported) {\n\t            if (areDiskStatsSupported) {\n\t                return null;\n\t            }\n\t\n\t            if (vm.status === 'running') {\n\t                return _(\"Upgrade to a more recent version of libvirt to view disk statistics\");\n\t            }\n\t\n\t            return _(\"Start the VM to see disk statistics.\");\n\t        }\n\t    }, {\n\t        key: 'prepareDiskData',\n\t        value: function prepareDiskData(disk, diskStats, idPrefix) {\n\t            diskStats = diskStats || {};\n\t            return {\n\t                used: diskStats.allocation,\n\t                capacity: diskStats.capacity,\n\t\n\t                device: disk.device,\n\t                target: disk.target,\n\t                bus: disk.bus,\n\t                readonly: disk.readonly,\n\t\n\t                // ugly hack due to complexity, refactor if abstraction is really needed\n\t                diskSourceCell: _react2.default.createElement(_vmDiskSourceCell2.default, { diskSource: disk.source, idPrefix: idPrefix })\n\t            };\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var _this2 = this;\n\t\n\t            var vm = this.props.vm;\n\t\n\t\n\t            var idPrefix = (0, _helpers.vmId)(vm.name) + '-disks';\n\t            var areDiskStatsSupported = this.getDiskStatsSupport(vm);\n\t\n\t            var disks = Object.getOwnPropertyNames(vm.disks).sort() // by 'target'\n\t            .map(function (target) {\n\t                return _this2.prepareDiskData(vm.disks[target], vm.disksStats && vm.disksStats[target], idPrefix + '-' + target);\n\t            });\n\t\n\t            return _react2.default.createElement(_vmDisksTab2.default, { idPrefix: idPrefix,\n\t                disks: disks,\n\t                renderCapacity: areDiskStatsSupported,\n\t                notificationText: this.getNotification(vm, areDiskStatsSupported) });\n\t        }\n\t    }]);\n\t\n\t    return VmDisksTabLibvirt;\n\t}(_react2.default.Component);\n\t\n\tVmDisksTabLibvirt.propTypes = {\n\t    vm: _react.PropTypes.object.isRequired,\n\t\n\t    onUsageStartPolling: _react.PropTypes.func.isRequired,\n\t    onUsageStopPolling: _react.PropTypes.func.isRequired\n\t};\n\t\n\texports.default = VmDisksTabLibvirt;\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _cockpitComponentsListing = __webpack_require__(62);\n\t\n\tvar _inlineNotification = __webpack_require__(66);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_react2.default; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar DiskTotal = function DiskTotal(_ref) {\n\t    var disks = _ref.disks,\n\t        idPrefix = _ref.idPrefix;\n\t\n\t    return _react2.default.createElement(\n\t        'span',\n\t        { className: 'machines-disks-total' },\n\t        _(\"Count:\"),\n\t        '\\xA0',\n\t        _react2.default.createElement(\n\t            'span',\n\t            { id: idPrefix + '-total-value', className: 'machines-disks-total-value' },\n\t            disks.length\n\t        )\n\t    );\n\t};\n\t\n\tvar StorageUnit = function StorageUnit(_ref2) {\n\t    var value = _ref2.value,\n\t        id = _ref2.id;\n\t\n\t    if (!value) {\n\t        return null;\n\t    }\n\t\n\t    if (isNaN(value)) {\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { id: id },\n\t            value\n\t        );\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { id: id },\n\t        (0, _helpers.toReadableNumber)((0, _helpers.convertToUnit)(value, _helpers.units.B, _helpers.units.GiB)),\n\t        '\\xA0',\n\t        _(\"GiB\")\n\t    );\n\t};\n\t\n\tvar VmDiskCell = function VmDiskCell(_ref3) {\n\t    var value = _ref3.value,\n\t        id = _ref3.id;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { id: id },\n\t        value\n\t    );\n\t};\n\t\n\tvar VmDisksTab = function VmDisksTab(_ref4) {\n\t    var idPrefix = _ref4.idPrefix,\n\t        disks = _ref4.disks,\n\t        renderCapacity = _ref4.renderCapacity,\n\t        notificationText = _ref4.notificationText;\n\t\n\t    if (!disks || disks.length === 0) {\n\t        return _react2.default.createElement(\n\t            'div',\n\t            null,\n\t            _(\"No disks defined for this VM\")\n\t        );\n\t    }\n\t\n\t    var renderCapacityUsed = !!disks.find(function (disk) {\n\t        return !!disk.used;\n\t    });\n\t    var renderReadOnly = !!disks.find(function (disk) {\n\t        return typeof disk.readonly !== \"undefined\";\n\t    });\n\t\n\t    var columnTitles = [_(\"Device\"), _(\"Target\")];\n\t    if (renderCapacity) {\n\t        if (renderCapacityUsed) {\n\t            columnTitles.push(_(\"Used\"));\n\t        }\n\t        columnTitles.push(_(\"Capacity\"));\n\t    }\n\t    columnTitles.push(_(\"Bus\"));\n\t    if (renderReadOnly) {\n\t        columnTitles.push(_(\"Readonly\"));\n\t    }\n\t    columnTitles.push(_(\"Source\"));\n\t\n\t    var notification = null;\n\t    if (notificationText) {\n\t        notification = _react2.default.createElement(_inlineNotification.Info, { text: notificationText,\n\t            textId: idPrefix + '-notification' });\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        notification,\n\t        _react2.default.createElement(DiskTotal, { disks: disks, idPrefix: idPrefix }),\n\t        _react2.default.createElement(\n\t            _cockpitComponentsListing.Listing,\n\t            { columnTitles: columnTitles },\n\t            disks.map(function (disk) {\n\t                var idPrefixRow = idPrefix + '-' + disk.target;\n\t                var columns = [{ name: _react2.default.createElement(VmDiskCell, { value: disk.device, id: idPrefixRow + '-device' }), 'header': true }, _react2.default.createElement(VmDiskCell, { value: disk.target, id: idPrefixRow + '-target' })];\n\t\n\t                if (renderCapacity) {\n\t                    if (renderCapacityUsed) {\n\t                        columns.push(_react2.default.createElement(StorageUnit, { value: disk.used, id: idPrefixRow + '-used' }));\n\t                    }\n\t                    columns.push(_react2.default.createElement(StorageUnit, { value: disk.capacity, id: idPrefixRow + '-capacity' }));\n\t                }\n\t\n\t                columns.push(_react2.default.createElement(VmDiskCell, { value: disk.bus, id: idPrefixRow + '-bus' }));\n\t\n\t                if (renderReadOnly) {\n\t                    columns.push(disk.readonly ? _(\"yes\") : _(\"no\"));\n\t                }\n\t\n\t                columns.push(disk.diskSourceCell);\n\t                return _react2.default.createElement(_cockpitComponentsListing.ListingRow, { columns: columns, navigateToItem: disk.onNavigate });\n\t            })\n\t        )\n\t    );\n\t};\n\t\n\tVmDisksTab.propTypes = {\n\t    idPrefix: _react.PropTypes.string.isRequired,\n\t    disks: _react.PropTypes.array.isRequired,\n\t    renderCapacity: _react.PropTypes.bool,\n\t    notificationText: _react.PropTypes.string\n\t};\n\t\n\texports.default = VmDisksTab;\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Info = exports.Alert = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\t__webpack_require__(67);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar InlineNotification = function (_React$Component) {\n\t    _inherits(InlineNotification, _React$Component);\n\t\n\t    function InlineNotification(props) {\n\t        _classCallCheck(this, InlineNotification);\n\t\n\t        var _this = _possibleConstructorReturn(this, (InlineNotification.__proto__ || Object.getPrototypeOf(InlineNotification)).call(this, props));\n\t\n\t        _this.state = {\n\t            isDetail: false\n\t        };\n\t\n\t        _this.toggleDetail = _this.toggleDetail.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(InlineNotification, [{\n\t        key: 'toggleDetail',\n\t        value: function toggleDetail() {\n\t            this.setState({\n\t                isDetail: !this.state.isDetail\n\t            });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var _props = this.props,\n\t                notificationClass = _props.notificationClass,\n\t                iconClass = _props.iconClass,\n\t                text = _props.text,\n\t                detail = _props.detail,\n\t                textId = _props.textId,\n\t                onDismiss = _props.onDismiss;\n\t\n\t\n\t            var detailButton = null;\n\t            if (detail) {\n\t                var detailButtonText = _(\"show more\");\n\t                if (this.state.isDetail) {\n\t                    detailButtonText = _(\"show less\");\n\t                }\n\t\n\t                detailButton = _react2.default.createElement(\n\t                    'a',\n\t                    { href: '#', className: 'alert-link machines-more-button',\n\t                        onClick: (0, _helpers.mouseClick)(this.toggleDetail) },\n\t                    detailButtonText\n\t                );\n\t            }\n\t\n\t            var dismissableClass = this.props.onDismiss ? ' alert-dismissable' : '';\n\t            var closeButton = null;\n\t            if (this.props.onDismiss) {\n\t                // do not use \"data-dismiss='alert'\" to close the notification\n\t                closeButton = _react2.default.createElement(\n\t                    'button',\n\t                    { type: 'button', className: 'close', 'aria-hidden': 'true', onClick: onDismiss },\n\t                    _react2.default.createElement('span', { className: 'pficon pficon-close' })\n\t                );\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: notificationClass + dismissableClass },\n\t                closeButton,\n\t                _react2.default.createElement('span', { className: iconClass }),\n\t                _react2.default.createElement(\n\t                    'strong',\n\t                    { id: textId },\n\t                    text\n\t                ),\n\t                detailButton,\n\t                this.state.isDetail && detail\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return InlineNotification;\n\t}(_react2.default.Component);\n\t\n\tInlineNotification.propTypes = {\n\t    notificationClass: _react.PropTypes.string, // classname for the notification type; see defaultProps\n\t    iconClass: _react.PropTypes.string, // classname for the icon; see defaultProps\n\t    onDismiss: _react.PropTypes.func, // callback to be called when 'close-button' is clicked. If undefined, then the buttun (means \"cross\") is not rendered.\n\t\n\t    text: _react.PropTypes.string.isRequired, // main information to render\n\t    detail: _react.PropTypes.string, // optional, more detailed information. If empty, the more/less button is not rendered.\n\t    textId: _react.PropTypes.string // optional, element id for the text\n\t};\n\t\n\tInlineNotification.defaultProps = {\n\t    notificationClass: 'alert alert-warning',\n\t    iconClass: 'pficon pficon-warning-triangle-o'\n\t};\n\t\n\tvar Alert = exports.Alert = function Alert(_ref) {\n\t    var onDismiss = _ref.onDismiss,\n\t        text = _ref.text,\n\t        textId = _ref.textId,\n\t        detail = _ref.detail;\n\t\n\t    return _react2.default.createElement(InlineNotification, { onDismiss: onDismiss, text: text, textId: textId, detail: detail,\n\t        notificationClass: 'alert alert-warning',\n\t        iconClass: 'pficon pficon-warning-triangle-o' });\n\t};\n\t\n\tvar Info = exports.Info = function Info(_ref2) {\n\t    var onDismiss = _ref2.onDismiss,\n\t        text = _ref2.text,\n\t        textId = _ref2.textId,\n\t        detail = _ref2.detail;\n\t\n\t    return _react2.default.createElement(InlineNotification, { onDismiss: onDismiss, text: text, textId: textId, detail: detail,\n\t        notificationClass: 'alert alert-info',\n\t        iconClass: 'pficon pficon-info' });\n\t};\n\n/***/ },\n/* 67 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _infoRecord = __webpack_require__(54);\n\t\n\tvar _infoRecord2 = _interopRequireDefault(_infoRecord);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_react2.default; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar DiskSourceCell = function DiskSourceCell(_ref) {\n\t    var diskSource = _ref.diskSource,\n\t        idPrefix = _ref.idPrefix;\n\t\n\t    var addOptional = function addOptional(chunks, value, descr) {\n\t        if (value) {\n\t            chunks.push(_react2.default.createElement(_infoRecord2.default, { descrClass: 'machines-disks-source-descr', descr: descr,\n\t                valueClass: 'machines-disks-source-value', value: value }));\n\t        }\n\t    };\n\t\n\t    var chunks = [];\n\t    addOptional(chunks, diskSource.file, _(\"File\"));\n\t    addOptional(chunks, diskSource.dev, _(\"Device\"));\n\t    addOptional(chunks, diskSource.protocol, _(\"Protocol\"));\n\t    addOptional(chunks, diskSource.pool, _(\"Pool\"));\n\t    addOptional(chunks, diskSource.volume, _(\"Volume\"));\n\t    addOptional(chunks, diskSource.host.name, _(\"Host\"));\n\t    addOptional(chunks, diskSource.host.port, _(\"Port\"));\n\t\n\t    return _react2.default.createElement(\n\t        'table',\n\t        { className: 'machines-disks-source', id: idPrefix + '-source' },\n\t        chunks\n\t    );\n\t};\n\t\n\tDiskSourceCell.propTypes = {\n\t    diskSource: _react.PropTypes.object.isRequired,\n\t    idPrefix: _react.PropTypes.string.isRequired\n\t};\n\t\n\texports.default = DiskSourceCell;\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _cockpitComponentsListing = __webpack_require__(62);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar VmNetworkTab = function VmNetworkTab(_ref) {\n\t    var vm = _ref.vm,\n\t        dispatch = _ref.dispatch,\n\t        hostDevices = _ref.hostDevices;\n\t\n\t    var id = (0, _helpers.vmId)(vm.name);\n\t\n\t    if (!vm.interfaces || vm.interfaces.length === 0) {\n\t        return _react2.default.createElement(\n\t            'div',\n\t            null,\n\t            _(\"No network interfaces defined for this VM\")\n\t        );\n\t    }\n\t\n\t    var checkDeviceAviability = function checkDeviceAviability(network) {\n\t        for (var i in hostDevices) {\n\t            if (hostDevices[i].valid && hostDevices[i].Interface == network) {\n\t                return true;\n\t            }\n\t        }\n\t        return false;\n\t    };\n\t\n\t    var sourceJump = function sourceJump(source) {\n\t        return function () {\n\t            if (source !== null && checkDeviceAviability(source)) {\n\t                _cockpit2.default.jump('/network#/' + source, _cockpit2.default.transport.host);\n\t            }\n\t        };\n\t    };\n\t\n\t    var onChangeState = function onChangeState(network) {\n\t        return function (e) {\n\t            e.stopPropagation();\n\t            if (network.mac) {\n\t                dispatch((0, _actions.changeNetworkState)(vm, network.mac, network.state === 'up' ? 'down' : 'up'));\n\t            }\n\t        };\n\t    };\n\t    var addressPortSource = function addressPortSource(source, networkId) {\n\t        return _react2.default.createElement(\n\t            'table',\n\t            { id: id + '-network-' + networkId + '-source' },\n\t            _react2.default.createElement(\n\t                'tr',\n\t                null,\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    { className: 'machines-network-source-descr' },\n\t                    _(\"Address\")\n\t                ),\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    { className: 'machines-network-source-value' },\n\t                    source.address\n\t                )\n\t            ),\n\t            _react2.default.createElement(\n\t                'tr',\n\t                null,\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    { className: 'machines-network-source-descr' },\n\t                    _(\"Port\")\n\t                ),\n\t                _react2.default.createElement(\n\t                    'td',\n\t                    { className: 'machines-network-source-value' },\n\t                    source.port\n\t                )\n\t            )\n\t        );\n\t    };\n\t\n\t    // Network data mapping to rows\n\t    var detailMap = [{ name: _(\"Type\"), value: function value(network, networkId) {\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { id: id + '-network-' + networkId + '-type' },\n\t                (0, _helpers.rephraseUI)('networkType', network.type)\n\t            );\n\t        }, header: true }, { name: _(\"Model type\"), value: 'model' }, { name: _(\"MAC Address\"), value: 'mac' }, { name: _(\"Target\"), value: 'target' }, { name: _(\"Source\"), value: function value(network, networkId) {\n\t            var setSourceClass = function setSourceClass(source) {\n\t                return checkDeviceAviability(source) && \"machines-network-source-link\";\n\t            };\n\t            var mapSource = {\n\t                direct: function direct(source) {\n\t                    return _react2.default.createElement(\n\t                        'span',\n\t                        { className: setSourceClass(source.dev), onClick: sourceJump(source.dev) },\n\t                        source.dev\n\t                    );\n\t                },\n\t                network: function network(source) {\n\t                    return _react2.default.createElement(\n\t                        'span',\n\t                        { className: setSourceClass(source.network), onClick: sourceJump(source.network) },\n\t                        source.network\n\t                    );\n\t                },\n\t                bridge: function bridge(source) {\n\t                    return _react2.default.createElement(\n\t                        'span',\n\t                        { className: setSourceClass(source.bridge), onClick: sourceJump(source.bridge) },\n\t                        source.bridge\n\t                    );\n\t                },\n\t                mcast: addressPortSource,\n\t                server: addressPortSource,\n\t                client: addressPortSource,\n\t                udp: addressPortSource\n\t            };\n\t            if (mapSource[network.type] !== undefined) {\n\t                return _react2.default.createElement(\n\t                    'div',\n\t                    { id: id + '-network-' + networkId + '-source' },\n\t                    mapSource[network.type](network.source, networkId)\n\t                );\n\t            } else {\n\t                return null;\n\t            }\n\t        } }, { name: _(\"Additional\"), value: function value(network, networkId) {\n\t            var additionalMap = [{ name: _(\"MTU\"), value: 'mtu' }, { name: _(\"Virtualport\"), value: 'virtualportType' }, { name: _(\"Managed\"), value: (0, _helpers.rephraseUI)('networkManaged', network.managed) }, { name: _(\"Portgroup\"), value: function value(network) {\n\t                    if (network.source.portgroup) {\n\t                        return network.source.portgroup;\n\t                    }\n\t                    return null;\n\t                } }];\n\t            var columns = additionalMap.map(function (d) {\n\t                var name = d.name;\n\t                var value = null;\n\t                if (typeof d.value === 'string') {\n\t                    value = network[d.value];\n\t                }\n\t                if (typeof d.value === 'function') {\n\t                    value = d.value(network);\n\t                }\n\t                if (value) {\n\t                    return _react2.default.createElement(\n\t                        'div',\n\t                        { className: 'col-xs-12 col-md-6 machines-network-additional-column', id: id + '-network-' + networkId + '-' + name },\n\t                        _react2.default.createElement(\n\t                            'div',\n\t                            { className: 'machines-network-source-descr col-xs-12 col-sm-6' },\n\t                            name\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'div',\n\t                            { className: 'machines-network-source-value col-xs-12 col-sm-6' },\n\t                            value\n\t                        )\n\t                    );\n\t                }\n\t                return null;\n\t            });\n\t            return _react2.default.createElement(\n\t                'div',\n\t                null,\n\t                columns\n\t            );\n\t        } }, { name: _(\"State\"), value: function value(network, networkId) {\n\t            var isUp = network.state === 'up';\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'machines-network-state', id: id + '-network-' + networkId + '-state' },\n\t                _react2.default.createElement(\n\t                    'span',\n\t                    { className: 'machines-network-state-text' },\n\t                    (0, _helpers.rephraseUI)('networkState', network.state)\n\t                ),\n\t                _react2.default.createElement(\n\t                    'button',\n\t                    { className: 'btn btn-default', onClick: onChangeState(network), title: '' + (isUp ? _(\"Unplug\") : _(\"Plug\")) },\n\t                    isUp ? 'Unplug' : 'Plug'\n\t                )\n\t            );\n\t        }\n\t    }];\n\t\n\t    var networkId = 1;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'machines-network-list' },\n\t        _react2.default.createElement(\n\t            _cockpitComponentsListing.Listing,\n\t            { columnTitles: detailMap.map(function (target) {\n\t                    return target.name;\n\t                }), actions: null },\n\t            vm.interfaces.sort().map(function (target) {\n\t                var columns = detailMap.map(function (d) {\n\t                    var column = null;\n\t                    if (typeof d.value === 'string') {\n\t                        if (target[d.value] !== undefined) {\n\t                            column = { name: _react2.default.createElement(\n\t                                    'div',\n\t                                    { id: id + '-network-' + networkId + '-' + d.value },\n\t                                    target[d.value]\n\t                                ), header: d.header };\n\t                        }\n\t                    }\n\t                    if (typeof d.value === 'function') {\n\t                        column = d.value(target, networkId);\n\t                    }\n\t                    return column;\n\t                });\n\t                networkId++;\n\t\n\t                return _react2.default.createElement(_cockpitComponentsListing.ListingRow, { columns: columns });\n\t            })\n\t        )\n\t    );\n\t};\n\t\n\tVmNetworkTab.propTypes = {\n\t    vm: _react2.default.PropTypes.object.isRequired\n\t};\n\t\n\texports.default = VmNetworkTab;\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _cockpitComponentsSelect = __webpack_require__(71);\n\t\n\tvar _cockpitComponentsSelect2 = _interopRequireDefault(_cockpitComponentsSelect);\n\t\n\tvar _serialConsole = __webpack_require__(72);\n\t\n\tvar _serialConsole2 = _interopRequireDefault(_serialConsole);\n\t\n\tvar _vnc = __webpack_require__(77);\n\t\n\tvar _vnc2 = _interopRequireDefault(_vnc);\n\t\n\tvar _desktopConsole = __webpack_require__(78);\n\t\n\tvar _desktopConsole2 = _interopRequireDefault(_desktopConsole);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar VmNotRunning = function VmNotRunning() {\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        null,\n\t        _(\"Please start the virtual machine to access its console.\")\n\t    );\n\t};\n\t\n\tvar ConsoleSelector = function ConsoleSelector(_ref) {\n\t    var onChange = _ref.onChange,\n\t        selected = _ref.selected,\n\t        isSerialConsole = _ref.isSerialConsole,\n\t        vm = _ref.vm;\n\t\n\t    var entries = [];\n\t\n\t    var isDesktop = false;\n\t    if (vm.displays) {\n\t        if (vm.displays.vnc) {\n\t            entries.push(_react2.default.createElement(\n\t                _cockpitComponentsSelect2.default.SelectEntry,\n\t                { data: 'vnc-browser', key: \"vnc-browser\" },\n\t                _(\"Graphics Console (VNC)\")\n\t            ));\n\t            isDesktop = true;\n\t        }\n\t\n\t        if (isDesktop || vm.displays.spice) {\n\t            entries.push(_react2.default.createElement(\n\t                _cockpitComponentsSelect2.default.SelectEntry,\n\t                { data: 'desktop', key: \"desktop\" },\n\t                _(\"Graphics Console in Desktop Viewer\")\n\t            ));\n\t        }\n\t    }\n\t\n\t    if (isSerialConsole) {\n\t        entries.push(_react2.default.createElement(\n\t            _cockpitComponentsSelect2.default.SelectEntry,\n\t            { data: 'serial-browser', key: \"serial-browser\" },\n\t            _(\"Serial Console\")\n\t        ));\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        \"table\",\n\t        { className: \"form-table-ct\" },\n\t        _react2.default.createElement(\n\t            \"tr\",\n\t            null,\n\t            _react2.default.createElement(\n\t                \"td\",\n\t                { className: \"top\" },\n\t                _react2.default.createElement(\n\t                    \"label\",\n\t                    null,\n\t                    _(\"Console Type\")\n\t                )\n\t            ),\n\t            _react2.default.createElement(\n\t                \"td\",\n\t                null,\n\t                _react2.default.createElement(\n\t                    _cockpitComponentsSelect2.default.StatelessSelect,\n\t                    { id: \"console-type-select\",\n\t                        selected: selected,\n\t                        onChange: onChange,\n\t                        extraClass: \"console-type-select\" },\n\t                    entries\n\t                )\n\t            )\n\t        )\n\t    );\n\t};\n\t\n\tvar NoConsoleDefined = function NoConsoleDefined() {\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        null,\n\t        _(\"No console defined for this virtual machine.\")\n\t    );\n\t};\n\t\n\tvar Consoles = function (_React$Component) {\n\t    _inherits(Consoles, _React$Component);\n\t\n\t    function Consoles(props) {\n\t        _classCallCheck(this, Consoles);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Consoles.__proto__ || Object.getPrototypeOf(Consoles)).call(this, props));\n\t\n\t        _this.state = {\n\t            consoleType: undefined,\n\t            consoleDetail: undefined\n\t        };\n\t\n\t        _this.onConsoleTypeSelected = _this.onConsoleTypeSelected.bind(_this);\n\t        _this.getDefaultConsole = _this.getDefaultConsole.bind(_this);\n\t        _this.onDesktopConsoleDownload = _this.onDesktopConsoleDownload.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Consoles, [{\n\t        key: \"getDefaultConsole\",\n\t        value: function getDefaultConsole() {\n\t            var _props = this.props,\n\t                vm = _props.vm,\n\t                config = _props.config;\n\t\n\t\n\t            if (vm.displays) {\n\t                if (vm.displays.vnc) {\n\t                    return 'vnc-browser';\n\t                }\n\t                if (vm.displays.spice) {\n\t                    return 'desktop';\n\t                }\n\t            }\n\t\n\t            var serialConsoleCommand = config.provider.serialConsoleCommand({ vm: vm });\n\t            if (serialConsoleCommand) {\n\t                return 'serial-browser';\n\t            }\n\t\n\t            // no console defined\n\t            return null;\n\t        }\n\t    }, {\n\t        key: \"componentWillMount\",\n\t        value: function componentWillMount() {\n\t            this.onConsoleTypeSelected(this.getDefaultConsole());\n\t        }\n\t    }, {\n\t        key: \"onConsoleTypeSelected\",\n\t        value: function onConsoleTypeSelected(key) {\n\t            var _this2 = this;\n\t\n\t            (0, _helpers.logDebug)('onConsoleTypeSelected', key);\n\t\n\t            var _props2 = this.props,\n\t                vm = _props2.vm,\n\t                config = _props2.config;\n\t            var provider = config.provider,\n\t                providerState = config.providerState;\n\t\n\t\n\t            var consoleDetail = undefined;\n\t\n\t            if (key === 'vnc-browser') {\n\t                if (provider.onConsoleAboutToShow) {\n\t                    // Hook: Give provider chance to update consoleDetail before noVNC is initialized.\n\t                    // This update needs to be performed at the time of console retrieval, since provider-specific console\n\t                    // details might vary over time, like the password (in oVirt: the password is valid for 2 minutes only).\n\t                    provider.onConsoleAboutToShow({ type: 'vnc', vm: vm, providerState: providerState }).then(function (consoleDetail) {\n\t                        (0, _helpers.logDebug)('onConsoleTypeSelected(), provider updated console details');\n\t                        if (!consoleDetail) {\n\t                            // vnc console can't be rendered (see provider for the reason)\n\t                            console.info(\"In-Browser VNC console is disabled by external provider\");\n\t                        }\n\t\n\t                        _this2.setState({\n\t                            consoleType: key,\n\t                            consoleDetail: consoleDetail\n\t                        });\n\t                    });\n\t                } else {\n\t                    consoleDetail = vm.displays.vnc;\n\t                }\n\t            }\n\t\n\t            this.setState({\n\t                consoleType: key,\n\t                consoleDetail: consoleDetail\n\t            });\n\t        }\n\t    }, {\n\t        key: \"onDesktopConsoleDownload\",\n\t        value: function onDesktopConsoleDownload(type) {\n\t            var _props3 = this.props,\n\t                dispatch = _props3.dispatch,\n\t                vm = _props3.vm;\n\t            // fire download of the .vv file\n\t\n\t            dispatch((0, _actions.vmDesktopConsole)(vm, vm.displays[type]));\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _this3 = this;\n\t\n\t            var _props4 = this.props,\n\t                vm = _props4.vm,\n\t                config = _props4.config;\n\t            var provider = config.provider;\n\t\n\t\n\t            if (!provider.canConsole || !provider.canConsole(vm.state)) {\n\t                return _react2.default.createElement(VmNotRunning, null);\n\t            }\n\t\n\t            var serialConsoleCommand = config.provider.serialConsoleCommand({ vm: vm });\n\t\n\t            var onDesktopConsole = function onDesktopConsole() {\n\t                // prefer spice over vnc\n\t                _this3.onDesktopConsoleDownload(vm.displays.spice ? 'spice' : 'vnc');\n\t            };\n\t\n\t            (0, _helpers.logDebug)('Consoles render, this.state.consoleType: ', this.state.consoleType);\n\t            var console = null;\n\t            var actions = null;\n\t            switch (this.state.consoleType) {\n\t                case 'serial-browser':\n\t                    console = _react2.default.createElement(_serialConsole2.default, { vmName: vm.name, spawnArgs: serialConsoleCommand });\n\t                    break;\n\t                case 'vnc-browser':\n\t                    console = _react2.default.createElement(_vnc2.default, { vm: vm, consoleDetail: this.state.consoleDetail });\n\t                    actions = _react2.default.createElement(_vnc.VncActions, { vm: vm });\n\t                    break;\n\t                case 'desktop':\n\t                    console = _react2.default.createElement(_desktopConsole2.default, { vm: vm, onDesktopConsole: onDesktopConsole, config: config });\n\t                    break;\n\t                default:\n\t                    console = _react2.default.createElement(NoConsoleDefined, null);\n\t                    break;\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                null,\n\t                _react2.default.createElement(\n\t                    \"span\",\n\t                    { className: \"console-menu\" },\n\t                    _react2.default.createElement(ConsoleSelector, { onChange: this.onConsoleTypeSelected,\n\t                        isSerialConsole: !!serialConsoleCommand,\n\t                        selected: this.state.consoleType,\n\t                        vm: vm }),\n\t                    actions\n\t                ),\n\t                console\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Consoles;\n\t}(_react2.default.Component);\n\t\n\texports.default = Consoles;\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t(function () {\n\t    \"use strict\";\n\t\n\t    var cockpit = __webpack_require__(21);\n\t    var React = __webpack_require__(13);\n\t\n\t    __webpack_require__(44);\n\t\n\t    var _ = cockpit.gettext;\n\t\n\t    var textForUndefined = _(\"undefined\");\n\t\n\t    /* React pattern component for a dropdown/select control\n\t     * Entries should be child components of type SelectEntry (html <a>)\n\t     *\n\t     * User of this component should listen onChange and set selected prop of it\n\t     *\n\t     * Expected properties:\n\t     *  - selected (optional) explicit data to select, default: first entry\n\t     *  - onChange (optional) callback (parameter data) when the selection has changed\n\t     *  - id (optional) html id of the top level node\n\t     *  - enabled (optional) whether the component is enabled or not; defaults to true\n\t     *  - extraClass (optional) CSS class name(s) to be added to the main <div> of the component\n\t     */\n\t\n\t    var StatelessSelect = function (_React$Component) {\n\t        _inherits(StatelessSelect, _React$Component);\n\t\n\t        function StatelessSelect() {\n\t            _classCallCheck(this, StatelessSelect);\n\t\n\t            var _this = _possibleConstructorReturn(this, (StatelessSelect.__proto__ || Object.getPrototypeOf(StatelessSelect)).call(this));\n\t\n\t            _this.clickHandler = _this.clickHandler.bind(_this);\n\t\n\t            _this.state = {\n\t                open: false,\n\t                documentClickHandler: undefined\n\t            };\n\t            return _this;\n\t        }\n\t\n\t        _createClass(StatelessSelect, [{\n\t            key: \"componentDidMount\",\n\t            value: function componentDidMount() {\n\t                var handler = this.handleDocumentClick.bind(this, React.findDOMNode(this));\n\t                this.setState({ documentClickHandler: handler });\n\t                document.addEventListener('click', handler, false);\n\t            }\n\t        }, {\n\t            key: \"componentWillUnmount\",\n\t            value: function componentWillUnmount() {\n\t                document.removeEventListener('click', this.state.documentClickHandler, false);\n\t            }\n\t        }, {\n\t            key: \"handleDocumentClick\",\n\t            value: function handleDocumentClick(node, ev) {\n\t                // clicking outside the select control should ensure it's closed\n\t                if (!node.contains(ev.target)) this.setState({ open: false });\n\t            }\n\t        }, {\n\t            key: \"clickHandler\",\n\t            value: function clickHandler(ev) {\n\t                // only consider clicks with the primary button\n\t                if (ev && ev.button !== 0) return;\n\t\n\t                if (ev.target.tagName === 'A') {\n\t                    var liElement = ev.target.offsetParent;\n\t                    var elementData = void 0;\n\t                    if ('data-data' in liElement.attributes) elementData = liElement.attributes['data-data'].value;\n\t\n\t                    this.setState({ open: false });\n\t                    // if the item didn't change, don't do anything\n\t                    if (elementData === this.props.selected) return;\n\t                    if (this.props.onChange) this.props.onChange(elementData);\n\t                } else {\n\t                    this.setState({ open: !this.state.open });\n\t                }\n\t            }\n\t        }, {\n\t            key: \"render\",\n\t            value: function render() {\n\t                var _this2 = this;\n\t\n\t                var getItemData = function getItemData(item) {\n\t                    return item && item.props && 'data' in item.props ? item.props.data : undefined;\n\t                };\n\t                var getItemValue = function getItemValue(item) {\n\t                    return item && item.props && item.props.children !== undefined ? item.props.children : textForUndefined;\n\t                };\n\t\n\t                var entries = React.Children.toArray(this.props.children).filter(function (item) {\n\t                    return item && item.props && 'data' in item.props;\n\t                });\n\t\n\t                var selectedEntries = entries.filter(function (item) {\n\t                    return _this2.props.selected === getItemData(item);\n\t                });\n\t\n\t                var selectedEntry = void 0;\n\t                if (selectedEntries.length > 0) selectedEntry = selectedEntries[0];else if (entries.length > 0) selectedEntry = entries[0]; // default to first item if selected item not found\n\t\n\t                var currentValue = getItemValue(selectedEntry);\n\t\n\t                var classes = \"btn-group bootstrap-select dropdown\";\n\t                if (this.state.open) classes += \" open\";\n\t                if (this.props.extraClass) {\n\t                    classes += \" \" + this.props.extraClass;\n\t                }\n\t\n\t                var buttonClasses = \"btn btn-default dropdown-toggle\";\n\t                if (this.props.enabled === false) buttonClasses += \" disabled\";\n\t\n\t                return React.createElement(\n\t                    \"div\",\n\t                    { className: classes, onClick: this.clickHandler, id: this.props.id },\n\t                    React.createElement(\n\t                        \"button\",\n\t                        { className: buttonClasses, type: \"button\" },\n\t                        React.createElement(\n\t                            \"span\",\n\t                            { className: \"pull-left\" },\n\t                            currentValue\n\t                        ),\n\t                        React.createElement(\"span\", { className: \"caret\" })\n\t                    ),\n\t                    React.createElement(\n\t                        \"ul\",\n\t                        { className: \"dropdown-menu\" },\n\t                        this.props.children\n\t                    )\n\t                );\n\t            }\n\t        }]);\n\t\n\t        return StatelessSelect;\n\t    }(React.Component);\n\t\n\t    StatelessSelect.propTypes = {\n\t        selected: React.PropTypes.string,\n\t        onChange: React.PropTypes.func,\n\t        id: React.PropTypes.string,\n\t        enabled: React.PropTypes.bool,\n\t        extraClass: React.PropTypes.string\n\t    };\n\t\n\t    var Select = function (_React$Component2) {\n\t        _inherits(Select, _React$Component2);\n\t\n\t        function Select(props) {\n\t            _classCallCheck(this, Select);\n\t\n\t            var _this3 = _possibleConstructorReturn(this, (Select.__proto__ || Object.getPrototypeOf(Select)).call(this));\n\t\n\t            _this3.onChange = _this3.onChange.bind(_this3);\n\t\n\t            _this3.state = {\n\t                currentData: props.initial\n\t            };\n\t            return _this3;\n\t        }\n\t\n\t        _createClass(Select, [{\n\t            key: \"onChange\",\n\t            value: function onChange(data) {\n\t                this.setState({ currentData: data });\n\t                if (typeof this.props.onChange === 'function') this.props.onChange(data);\n\t            }\n\t        }, {\n\t            key: \"render\",\n\t            value: function render() {\n\t                return React.createElement(\n\t                    StatelessSelect,\n\t                    { onChange: this.onChange,\n\t                        selected: this.state.currentData,\n\t                        id: this.props.id,\n\t                        enabled: this.props.enabled,\n\t                        extraClass: this.props.extraClass },\n\t                    this.props.children\n\t                );\n\t            }\n\t        }]);\n\t\n\t        return Select;\n\t    }(React.Component);\n\t\n\t    Select.propTypes = {\n\t        initial: React.PropTypes.string,\n\t        onChange: React.PropTypes.func,\n\t        id: React.PropTypes.string,\n\t        enabled: React.PropTypes.bool,\n\t        extraClass: React.PropTypes.string\n\t    };\n\t\n\t    /* Entry class for the select component\n\t     * Dynamic lists should make sure to also provide 'key' props for react to use\n\t     * Expected properties:\n\t     *  - data (required), will be passed to the select's onChange callback\n\t     * Example: <SelectEntry data=\"foo\">Some entry</SelectEntry>\n\t     */\n\t\n\t    var SelectEntry = function (_React$Component3) {\n\t        _inherits(SelectEntry, _React$Component3);\n\t\n\t        function SelectEntry() {\n\t            _classCallCheck(this, SelectEntry);\n\t\n\t            return _possibleConstructorReturn(this, (SelectEntry.__proto__ || Object.getPrototypeOf(SelectEntry)).apply(this, arguments));\n\t        }\n\t\n\t        _createClass(SelectEntry, [{\n\t            key: \"render\",\n\t            value: function render() {\n\t                var value = this.props.children !== undefined ? this.props.children : textForUndefined;\n\t                return React.createElement(\n\t                    \"li\",\n\t                    { \"data-value\": value, \"data-data\": this.props.data },\n\t                    React.createElement(\n\t                        \"a\",\n\t                        null,\n\t                        value\n\t                    )\n\t                );\n\t            }\n\t        }]);\n\t\n\t        return SelectEntry;\n\t    }(React.Component);\n\t\n\t    /* Divider\n\t     * Example: <SelectDivider/>\n\t     */\n\t\n\t\n\t    var SelectDivider = function SelectDivider() {\n\t        return React.createElement(\"li\", { role: \"separator\", className: \"divider\" });\n\t    };\n\t\n\t    /* Header\n\t     * Example: <SelectHeader>Some header</SelectHeader>\n\t     */\n\t    var SelectHeader = function SelectHeader(_ref) {\n\t        var children = _ref.children;\n\t\n\t        var value = children !== undefined ? children : textForUndefined;\n\t        return React.createElement(\n\t            \"li\",\n\t            { className: \"dropdown-header\" },\n\t            value\n\t        );\n\t    };\n\t\n\t    SelectEntry.propTypes = {\n\t        data: React.PropTypes.string.isRequired\n\t    };\n\t\n\t    module.exports = {\n\t        Select: Select,\n\t        StatelessSelect: StatelessSelect,\n\t        SelectEntry: SelectEntry,\n\t        SelectDivider: SelectDivider,\n\t        SelectHeader: SelectHeader\n\t    };\n\t})();\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _cockpitComponentsTerminal = __webpack_require__(73);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar SerialConsole = function (_React$Component) {\n\t    _inherits(SerialConsole, _React$Component);\n\t\n\t    function SerialConsole(props) {\n\t        _classCallCheck(this, SerialConsole);\n\t\n\t        var _this = _possibleConstructorReturn(this, (SerialConsole.__proto__ || Object.getPrototypeOf(SerialConsole)).call(this, props));\n\t\n\t        _this.state = {\n\t            channel: undefined\n\t        };\n\t\n\t        _this.focusTerminal = _this.focusTerminal.bind(_this);\n\t        _this.onResetClick = _this.onResetClick.bind(_this);\n\t        _this.onDisconnectClick = _this.onDisconnectClick.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(SerialConsole, [{\n\t        key: 'createChannel',\n\t        value: function createChannel() {\n\t            var spawnArgs = this.props.spawnArgs;\n\t\n\t\n\t            return _cockpit2.default.channel({\n\t                \"payload\": \"stream\",\n\t                \"spawn\": spawnArgs,\n\t                \"pty\": true\n\t            });\n\t        }\n\t    }, {\n\t        key: 'componentWillMount',\n\t        value: function componentWillMount() {\n\t            this.setState({ channel: this.createChannel() });\n\t        }\n\t    }, {\n\t        key: 'componentWillUnmount',\n\t        value: function componentWillUnmount() {\n\t            if (this.state.channel) this.state.channel.close();\n\t        }\n\t    }, {\n\t        key: 'onResetClick',\n\t        value: function onResetClick(event) {\n\t            if (event.button !== 0) return;\n\t\n\t            if (this.state.channel) this.state.channel.close();\n\t\n\t            this.setState({ channel: this.createChannel() });\n\t\n\t            this.focusTerminal();\n\t        }\n\t    }, {\n\t        key: 'onDisconnectClick',\n\t        value: function onDisconnectClick(event) {\n\t            if (event.button !== 0) return;\n\t\n\t            if (this.state.channel) this.state.channel.close();\n\t\n\t            this.setState({ channel: null });\n\t\n\t            this.focusTerminal();\n\t        }\n\t    }, {\n\t        key: 'focusTerminal',\n\t        value: function focusTerminal() {\n\t            this.refs.resetButton.blur();\n\t            this.refs.disconnectButton.blur();\n\t\n\t            if (this.refs.terminal) this.refs.terminal.focus();\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var vmName = this.props.vmName;\n\t\n\t\n\t            var terminal = void 0;\n\t            if (this.state.channel) {\n\t                terminal = _react2.default.createElement(_cockpitComponentsTerminal.Terminal, { ref: 'terminal', channel: this.state.channel });\n\t            } else if (this.state.channel === null) {\n\t                terminal = _react2.default.createElement(\n\t                    'span',\n\t                    null,\n\t                    _(\"Disconnected from serial console. Click the Reconnect button.\")\n\t                );\n\t            } else {\n\t                terminal = _react2.default.createElement(\n\t                    'span',\n\t                    null,\n\t                    _(\"Loading ...\")\n\t                );\n\t            }\n\t\n\t            var disconnectDisabled = !this.state.channel && 'disabled' || '';\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'console-ct-container' },\n\t                _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'console-actions' },\n\t                    _react2.default.createElement(\n\t                        'button',\n\t                        { ref: 'disconnectButton', id: vmName + '-serialconsole-disconnect',\n\t                            className: 'btn btn-default console-actions-buttons ' + disconnectDisabled,\n\t                            onClick: this.onDisconnectClick },\n\t                        _(\"Disconnect\")\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        'button',\n\t                        { ref: 'resetButton', id: vmName + '-serialconsole-reconnect',\n\t                            className: 'btn btn-default console-actions-buttons', onClick: this.onResetClick },\n\t                        _(\"Reconnect\")\n\t                    )\n\t                ),\n\t                _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'panel-body machines-terminal' },\n\t                    terminal\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return SerialConsole;\n\t}(_react2.default.Component);\n\t\n\texports.default = SerialConsole;\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t(function () {\n\t    \"use strict\";\n\t\n\t    var React = __webpack_require__(13);\n\t    var Term = __webpack_require__(74);\n\t\n\t    __webpack_require__(75);\n\t\n\t    /*\n\t     * A terminal component that communicates over a cockpit channel.\n\t     *\n\t     * The only required property is 'channel', which must point to a cockpit\n\t     * stream channel.\n\t     *\n\t     * The size of the terminal can be set with the 'rows' and 'cols'\n\t     * properties. If those properties are not given, the terminal will fill\n\t     * its container.\n\t     *\n\t     * If the 'onTitleChanged' callback property is set, it will be called whenever\n\t     * the title of the terminal changes.\n\t     *\n\t     * Call focus() to set the input focus on the terminal.\n\t     */\n\t    var Terminal = React.createClass({\n\t        displayName: \"Terminal\",\n\t\n\t        propTypes: {\n\t            cols: React.PropTypes.number,\n\t            rows: React.PropTypes.number,\n\t            channel: React.PropTypes.object.isRequired,\n\t            onTitleChanged: React.PropTypes.func\n\t        },\n\t\n\t        componentWillMount: function componentWillMount() {\n\t            var term = new Term({\n\t                cols: this.props.cols || 80,\n\t                rows: this.props.rows || 25,\n\t                screenKeys: true\n\t            });\n\t\n\t            term.on('data', function (data) {\n\t                if (this.props.channel.valid) this.props.channel.send(data);\n\t            }.bind(this));\n\t\n\t            if (this.props.onTitleChanged) term.on('title', this.props.onTitleChanged);\n\t\n\t            this.setState({ terminal: term });\n\t        },\n\t\n\t        componentDidMount: function componentDidMount() {\n\t            this.state.terminal.open(this.refs.terminal);\n\t            this.connectChannel();\n\t\n\t            if (!this.props.rows) {\n\t                window.addEventListener('resize', this.onWindowResize);\n\t                this.onWindowResize();\n\t            }\n\t        },\n\t\n\t        componentWillUpdate: function componentWillUpdate(nextProps, nextState) {\n\t            if (nextState.cols !== this.state.cols || nextState.rows !== this.state.rows) {\n\t                this.state.terminal.resize(nextState.cols, nextState.rows);\n\t                this.props.channel.control({\n\t                    window: {\n\t                        rows: nextState.rows,\n\t                        cols: nextState.cols\n\t                    }\n\t                });\n\t            }\n\t\n\t            if (nextProps.channel !== this.props.channel) {\n\t                this.state.terminal.reset();\n\t                this.disconnectChannel();\n\t            }\n\t        },\n\t\n\t        componentDidUpdate: function componentDidUpdate(prevProps) {\n\t            if (prevProps.channel !== this.props.channel) {\n\t                this.connectChannel();\n\t                this.props.channel.control({\n\t                    window: {\n\t                        rows: this.state.rows,\n\t                        cols: this.state.cols\n\t                    }\n\t                });\n\t            }\n\t        },\n\t\n\t        render: function render() {\n\t            // ensure react never reuses this div by keying it with the terminal widget\n\t            return React.createElement(\"div\", { ref: \"terminal\",\n\t                key: this.state.terminal,\n\t                className: \"console-ct\",\n\t                onFocusIn: this.onFocusIn,\n\t                onFocusOut: this.onFocusOut });\n\t        },\n\t\n\t        componentWillUnmount: function componentWillUnmount() {\n\t            this.disconnectChannel();\n\t            this.state.terminal.destroy();\n\t            window.removeEventListener('resize', this.onWindowResize);\n\t        },\n\t\n\t        onChannelMessage: function onChannelMessage(event, data) {\n\t            this.state.terminal.write(data);\n\t        },\n\t\n\t        onChannelClose: function onChannelClose(event, options) {\n\t            var term = this.state.terminal;\n\t            term.write('\\x1b[31m' + (options.problem || 'disconnected') + '\\x1b[m\\r\\n');\n\t            term.cursorHidden = true;\n\t            term.refresh(term.y, term.y);\n\t        },\n\t\n\t        connectChannel: function connectChannel() {\n\t            var channel = this.props.channel;\n\t            if (channel && channel.valid) {\n\t                channel.addEventListener('message', this.onChannelMessage.bind(this));\n\t                channel.addEventListener('close', this.onChannelClose.bind(this));\n\t            }\n\t        },\n\t\n\t        disconnectChannel: function disconnectChannel() {\n\t            if (this.props.channel) {\n\t                this.props.channel.removeEventListener('message', this.onChannelMessage);\n\t                this.props.channel.removeEventListener('close', this.onChannelClose);\n\t            }\n\t        },\n\t\n\t        focus: function focus() {\n\t            if (this.state.terminal) this.state.terminal.focus();\n\t        },\n\t\n\t        onWindowResize: function onWindowResize() {\n\t            var padding = 2 * 11;\n\t            var node = this.getDOMNode();\n\t            var terminal = this.refs.terminal.querySelector('.terminal');\n\t\n\t            var ch = document.createElement('span');\n\t            ch.textContent = 'M';\n\t            ch.style.position = 'absolute';\n\t            terminal.appendChild(ch);\n\t            var rect = ch.getBoundingClientRect();\n\t            terminal.removeChild(ch);\n\t\n\t            this.setState({\n\t                rows: Math.floor((node.parentElement.clientHeight - padding) / rect.height),\n\t                cols: Math.floor((node.parentElement.clientWidth - padding) / rect.width)\n\t            });\n\t        },\n\t\n\t        onBeforeUnload: function onBeforeUnload(event) {\n\t            // Firefox requires this when the page is in an iframe\n\t            event.preventDefault();\n\t\n\t            // see \"an almost cross-browser solution\" at\n\t            // https://developer.mozilla.org/en-US/docs/Web/Events/beforeunload\n\t            event.returnValue = '';\n\t            return '';\n\t        },\n\t\n\t        onFocusIn: function onFocusIn() {\n\t            window.addEventListener('beforeunload', this.onBeforeUnload);\n\t        },\n\t\n\t        onFocusOut: function onFocusOut() {\n\t            window.removeEventListener('beforeunload', this.onBeforeUnload);\n\t        }\n\t    });\n\t\n\t    module.exports = { Terminal: Terminal };\n\t})();\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(global) {/**\n\t * term.js - an xterm emulator\n\t * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n\t * https://github.com/chjj/term.js\n\t *\n\t * Permission is hereby granted, free of charge, to any person obtaining a copy\n\t * of this software and associated documentation files (the \"Software\"), to deal\n\t * in the Software without restriction, including without limitation the rights\n\t * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\t * copies of the Software, and to permit persons to whom the Software is\n\t * furnished to do so, subject to the following conditions:\n\t *\n\t * The above copyright notice and this permission notice shall be included in\n\t * all copies or substantial portions of the Software.\n\t *\n\t * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\t * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\t * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\t * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\t * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\t * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\t * THE SOFTWARE.\n\t *\n\t * Originally forked from (with the author's permission):\n\t *   Fabrice Bellard's javascript vt100 for jslinux:\n\t *   http://bellard.org/jslinux/\n\t *   Copyright (c) 2011 Fabrice Bellard\n\t *   The original design remains. The terminal itself\n\t *   has been extended to include xterm CSI codes, among\n\t *   other features.\n\t */\n\t\n\t;(function() {\n\t\n\t/**\n\t * Terminal Emulation References:\n\t *   http://vt100.net/\n\t *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.txt\n\t *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n\t *   http://invisible-island.net/vttest/\n\t *   http://www.inwap.com/pdp10/ansicode.txt\n\t *   http://linux.die.net/man/4/console_codes\n\t *   http://linux.die.net/man/7/urxvt\n\t */\n\t\n\t'use strict';\n\t\n\t/**\n\t * Shared\n\t */\n\t\n\tvar window = this\n\t  , document = this.document;\n\t\n\t/**\n\t * EventEmitter\n\t */\n\t\n\tfunction EventEmitter() {\n\t  this._events = this._events || {};\n\t}\n\t\n\tEventEmitter.prototype.addListener = function(type, listener) {\n\t  this._events[type] = this._events[type] || [];\n\t  this._events[type].push(listener);\n\t};\n\t\n\tEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\t\n\tEventEmitter.prototype.removeListener = function(type, listener) {\n\t  if (!this._events[type]) return;\n\t\n\t  var obj = this._events[type]\n\t    , i = obj.length;\n\t\n\t  while (i--) {\n\t    if (obj[i] === listener || obj[i].listener === listener) {\n\t      obj.splice(i, 1);\n\t      return;\n\t    }\n\t  }\n\t};\n\t\n\tEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\t\n\tEventEmitter.prototype.removeAllListeners = function(type) {\n\t  if (this._events[type]) delete this._events[type];\n\t};\n\t\n\tEventEmitter.prototype.once = function(type, listener) {\n\t  function on() {\n\t    var args = Array.prototype.slice.call(arguments);\n\t    this.removeListener(type, on);\n\t    return listener.apply(this, args);\n\t  }\n\t  on.listener = listener;\n\t  return this.on(type, on);\n\t};\n\t\n\tEventEmitter.prototype.emit = function(type) {\n\t  if (!this._events[type]) return;\n\t\n\t  var args = Array.prototype.slice.call(arguments, 1)\n\t    , obj = this._events[type]\n\t    , l = obj.length\n\t    , i = 0;\n\t\n\t  for (; i < l; i++) {\n\t    obj[i].apply(this, args);\n\t  }\n\t};\n\t\n\tEventEmitter.prototype.listeners = function(type) {\n\t  return this._events[type] = this._events[type] || [];\n\t};\n\t\n\t/**\n\t * Stream\n\t */\n\t\n\tfunction Stream() {\n\t  EventEmitter.call(this);\n\t}\n\t\n\tinherits(Stream, EventEmitter);\n\t\n\tStream.prototype.pipe = function(dest, options) {\n\t  var src = this\n\t    , ondata\n\t    , onerror\n\t    , onend;\n\t\n\t  function unbind() {\n\t    src.removeListener('data', ondata);\n\t    src.removeListener('error', onerror);\n\t    src.removeListener('end', onend);\n\t    dest.removeListener('error', onerror);\n\t    dest.removeListener('close', unbind);\n\t  }\n\t\n\t  src.on('data', ondata = function(data) {\n\t    dest.write(data);\n\t  });\n\t\n\t  src.on('error', onerror = function(err) {\n\t    unbind();\n\t    if (!this.listeners('error').length) {\n\t      throw err;\n\t    }\n\t  });\n\t\n\t  src.on('end', onend = function() {\n\t    dest.end();\n\t    unbind();\n\t  });\n\t\n\t  dest.on('error', onerror);\n\t  dest.on('close', unbind);\n\t\n\t  dest.emit('pipe', src);\n\t\n\t  return dest;\n\t};\n\t\n\t/**\n\t * States\n\t */\n\t\n\tvar normal = 0\n\t  , escaped = 1\n\t  , csi = 2\n\t  , osc = 3\n\t  , charset = 4\n\t  , dcs = 5\n\t  , ignore = 6\n\t  , UDK = { type: 'udk' };\n\t\n\t/**\n\t * Terminal\n\t */\n\t\n\tfunction Terminal(options) {\n\t  var self = this;\n\t\n\t  if (!(this instanceof Terminal)) {\n\t    return new Terminal(arguments[0], arguments[1], arguments[2]);\n\t  }\n\t\n\t  Stream.call(this);\n\t\n\t  if (typeof options === 'number') {\n\t    options = {\n\t      cols: arguments[0],\n\t      rows: arguments[1],\n\t      handler: arguments[2]\n\t    };\n\t  }\n\t\n\t  options = options || {};\n\t\n\t  each(keys(Terminal.defaults), function(key) {\n\t    if (options[key] == null) {\n\t      options[key] = Terminal.options[key];\n\t      // Legacy:\n\t      if (Terminal[key] !== Terminal.defaults[key]) {\n\t        options[key] = Terminal[key];\n\t      }\n\t    }\n\t    self[key] = options[key];\n\t  });\n\t\n\t  if (options.colors.length === 8) {\n\t    options.colors = options.colors.concat(Terminal._colors.slice(8));\n\t  } else if (options.colors.length === 16) {\n\t    options.colors = options.colors.concat(Terminal._colors.slice(16));\n\t  } else if (options.colors.length === 10) {\n\t    options.colors = options.colors.slice(0, -2).concat(\n\t      Terminal._colors.slice(8, -2), options.colors.slice(-2));\n\t  } else if (options.colors.length === 18) {\n\t    options.colors = options.colors.slice(0, -2).concat(\n\t      Terminal._colors.slice(16, -2), options.colors.slice(-2));\n\t  }\n\t  this.colors = options.colors;\n\t\n\t  this.options = options;\n\t\n\t  // this.context = options.context || window;\n\t  // this.document = options.document || document;\n\t  this.parent = options.body || options.parent\n\t    || (document ? document.getElementsByTagName('body')[0] : null);\n\t\n\t  this.cols = options.cols || options.geometry[0];\n\t  this.rows = options.rows || options.geometry[1];\n\t\n\t  // Act as though we are a node TTY stream:\n\t  this.setRawMode;\n\t  this.isTTY = true;\n\t  this.isRaw = true;\n\t  this.columns = this.cols;\n\t  this.rows = this.rows;\n\t\n\t  if (options.handler) {\n\t    this.on('data', options.handler);\n\t  }\n\t\n\t  this.ybase = 0;\n\t  this.ydisp = 0;\n\t  this.x = 0;\n\t  this.y = 0;\n\t  this.cursorHidden = false;\n\t  this.convertEol;\n\t  this.state = 0;\n\t  this.queue = '';\n\t  this.scrollTop = 0;\n\t  this.scrollBottom = this.rows - 1;\n\t\n\t  // modes\n\t  this.applicationKeypad = false;\n\t  this.applicationCursor = false;\n\t  this.originMode = false;\n\t  this.insertMode = false;\n\t  this.wraparoundMode = false;\n\t  this.normal = null;\n\t\n\t  // select modes\n\t  this.prefixMode = false;\n\t  this.selectMode = false;\n\t  this.visualMode = false;\n\t  this.searchMode = false;\n\t  this.searchDown;\n\t  this.entry = '';\n\t  this.entryPrefix = 'Search: ';\n\t  this._real;\n\t  this._selected;\n\t  this._textarea;\n\t\n\t  // charset\n\t  this.charset = null;\n\t  this.gcharset = null;\n\t  this.glevel = 0;\n\t  this.charsets = [null];\n\t\n\t  // mouse properties\n\t  this.decLocator;\n\t  this.x10Mouse;\n\t  this.vt200Mouse;\n\t  this.vt300Mouse;\n\t  this.normalMouse;\n\t  this.mouseEvents;\n\t  this.sendFocus;\n\t  this.utfMouse;\n\t  this.sgrMouse;\n\t  this.urxvtMouse;\n\t\n\t  // misc\n\t  this.element;\n\t  this.children;\n\t  this.refreshStart;\n\t  this.refreshEnd;\n\t  this.savedX;\n\t  this.savedY;\n\t  this.savedCols;\n\t\n\t  // stream\n\t  this.readable = true;\n\t  this.writable = true;\n\t\n\t  this.defAttr = (0 << 18) | (257 << 9) | (256 << 0);\n\t  this.curAttr = this.defAttr;\n\t\n\t  this.params = [];\n\t  this.currentParam = 0;\n\t  this.prefix = '';\n\t  this.postfix = '';\n\t\n\t  this.lines = [];\n\t  var i = this.rows;\n\t  while (i--) {\n\t    this.lines.push(this.blankLine());\n\t  }\n\t\n\t  this.tabs;\n\t  this.setupStops();\n\t}\n\t\n\tinherits(Terminal, Stream);\n\t\n\t/**\n\t * Colors\n\t */\n\t\n\t// Colors 0-15\n\tTerminal.tangoColors = [\n\t  // dark:\n\t  '#2e3436',\n\t  '#cc0000',\n\t  '#4e9a06',\n\t  '#c4a000',\n\t  '#3465a4',\n\t  '#75507b',\n\t  '#06989a',\n\t  '#d3d7cf',\n\t  // bright:\n\t  '#555753',\n\t  '#ef2929',\n\t  '#8ae234',\n\t  '#fce94f',\n\t  '#729fcf',\n\t  '#ad7fa8',\n\t  '#34e2e2',\n\t  '#eeeeec'\n\t];\n\t\n\tTerminal.xtermColors = [\n\t  // dark:\n\t  '#000000', // black\n\t  '#cd0000', // red3\n\t  '#00cd00', // green3\n\t  '#cdcd00', // yellow3\n\t  '#0000ee', // blue2\n\t  '#cd00cd', // magenta3\n\t  '#00cdcd', // cyan3\n\t  '#e5e5e5', // gray90\n\t  // bright:\n\t  '#7f7f7f', // gray50\n\t  '#ff0000', // red\n\t  '#00ff00', // green\n\t  '#ffff00', // yellow\n\t  '#5c5cff', // rgb:5c/5c/ff\n\t  '#ff00ff', // magenta\n\t  '#00ffff', // cyan\n\t  '#ffffff'  // white\n\t];\n\t\n\t// Colors 0-15 + 16-255\n\t// Much thanks to TooTallNate for writing this.\n\tTerminal.colors = (function() {\n\t  var colors = Terminal.tangoColors.slice()\n\t    , r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff]\n\t    , i;\n\t\n\t  // 16-231\n\t  i = 0;\n\t  for (; i < 216; i++) {\n\t    out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);\n\t  }\n\t\n\t  // 232-255 (grey)\n\t  i = 0;\n\t  for (; i < 24; i++) {\n\t    r = 8 + i * 10;\n\t    out(r, r, r);\n\t  }\n\t\n\t  function out(r, g, b) {\n\t    colors.push('#' + hex(r) + hex(g) + hex(b));\n\t  }\n\t\n\t  function hex(c) {\n\t    c = c.toString(16);\n\t    return c.length < 2 ? '0' + c : c;\n\t  }\n\t\n\t  return colors;\n\t})();\n\t\n\t// Default BG/FG\n\tTerminal.colors[256] = '#000000';\n\tTerminal.colors[257] = '#f0f0f0';\n\t\n\tTerminal._colors = Terminal.colors.slice();\n\t\n\tTerminal.vcolors = (function() {\n\t  var out = []\n\t    , colors = Terminal.colors\n\t    , i = 0\n\t    , color;\n\t\n\t  for (; i < 256; i++) {\n\t    color = parseInt(colors[i].substring(1), 16);\n\t    out.push([\n\t      (color >> 16) & 0xff,\n\t      (color >> 8) & 0xff,\n\t      color & 0xff\n\t    ]);\n\t  }\n\t\n\t  return out;\n\t})();\n\t\n\t/**\n\t * Options\n\t */\n\t\n\tTerminal.defaults = {\n\t  colors: Terminal.colors,\n\t  convertEol: false,\n\t  termName: 'xterm',\n\t  geometry: [80, 24],\n\t  visualBell: false,\n\t  popOnBell: false,\n\t  scrollback: 1000,\n\t  screenKeys: false,\n\t  debug: false,\n\t  // programFeatures: false,\n\t  // focusKeys: false,\n\t};\n\t\n\tTerminal.options = {};\n\t\n\teach(keys(Terminal.defaults), function(key) {\n\t  Terminal[key] = Terminal.defaults[key];\n\t  Terminal.options[key] = Terminal.defaults[key];\n\t});\n\t\n\t/**\n\t * Focused Terminal\n\t */\n\t\n\tTerminal.focus = null;\n\t\n\tTerminal.prototype.focus = function() {\n\t  if (Terminal.focus === this) return;\n\t\n\t  if (Terminal.focus) {\n\t    Terminal.focus.blur();\n\t  }\n\t\n\t  if (this.sendFocus) this.send('\\x1b[I');\n\t\n\t  // try {\n\t  //   this.element.focus();\n\t  // } catch (e) {\n\t  //   ;\n\t  // }\n\t\n\t  // this.emit('focus');\n\t\n\t  Terminal.focus = this;\n\t};\n\t\n\tTerminal.prototype.blur = function() {\n\t  if (Terminal.focus !== this) return;\n\t\n\t  if (this.sendFocus) this.send('\\x1b[O');\n\t\n\t  // try {\n\t  //   this.element.blur();\n\t  // } catch (e) {\n\t  //   ;\n\t  // }\n\t\n\t  // this.emit('blur');\n\t\n\t  Terminal.focus = null;\n\t};\n\t\n\t/**\n\t * Initialize global behavior\n\t */\n\t\n\tTerminal.prototype.initGlobal = function() {\n\t  var document = this.document;\n\t\n\t  Terminal._boundDocs = Terminal._boundDocs || [];\n\t  if (~indexOf(Terminal._boundDocs, document)) {\n\t    return;\n\t  }\n\t  Terminal._boundDocs.push(document);\n\t\n\t  Terminal.bindPaste(document);\n\t\n\t  Terminal.bindKeys(document);\n\t\n\t  Terminal.bindCopy(document);\n\t\n\t  if (this.isMobile) {\n\t    this.fixMobile(document);\n\t  }\n\t};\n\t\n\t/**\n\t * Bind to paste event\n\t */\n\t\n\tTerminal.bindPaste = function(document) {\n\t  // This seems to work well for ctrl-V and middle-click,\n\t  // even without the contentEditable workaround.\n\t  var window = document.defaultView;\n\t  on(window, 'paste', function(ev) {\n\t    var term = Terminal.focus;\n\t    if (!term) return;\n\t    if (ev.clipboardData) {\n\t      term.send(ev.clipboardData.getData('text/plain'));\n\t    } else if (term.context.clipboardData) {\n\t      term.send(term.context.clipboardData.getData('Text'));\n\t    }\n\t    // Not necessary. Do it anyway for good measure.\n\t    term.element.contentEditable = 'inherit';\n\t    return cancel(ev);\n\t  });\n\t};\n\t\n\t/**\n\t * Global Events for key handling\n\t */\n\t\n\tTerminal.bindKeys = function(document) {\n\t  // We should only need to check `target === body` below,\n\t  // but we can check everything for good measure.\n\t  on(document, 'keydown', function(ev) {\n\t    if (!Terminal.focus) return;\n\t    var target = ev.target || ev.srcElement;\n\t    if (!target) return;\n\t    if (target === Terminal.focus.element\n\t        || target === Terminal.focus.context\n\t        || target === Terminal.focus.document\n\t        || target === Terminal.focus.body\n\t        || target === Terminal._textarea\n\t        || target === Terminal.focus.parent) {\n\t      return Terminal.focus.keyDown(ev);\n\t    }\n\t  }, true);\n\t\n\t  on(document, 'keypress', function(ev) {\n\t    if (!Terminal.focus) return;\n\t    var target = ev.target || ev.srcElement;\n\t    if (!target) return;\n\t    if (target === Terminal.focus.element\n\t        || target === Terminal.focus.context\n\t        || target === Terminal.focus.document\n\t        || target === Terminal.focus.body\n\t        || target === Terminal._textarea\n\t        || target === Terminal.focus.parent) {\n\t      return Terminal.focus.keyPress(ev);\n\t    }\n\t  }, true);\n\t\n\t  // If we click somewhere other than a\n\t  // terminal, unfocus the terminal.\n\t  on(document, 'mousedown', function(ev) {\n\t    if (!Terminal.focus) return;\n\t\n\t    var el = ev.target || ev.srcElement;\n\t    if (!el) return;\n\t\n\t    do {\n\t      if (el === Terminal.focus.element) return;\n\t    } while (el = el.parentNode);\n\t\n\t    Terminal.focus.blur();\n\t  });\n\t};\n\t\n\t/**\n\t * Copy Selection w/ Ctrl-C (Select Mode)\n\t */\n\t\n\tTerminal.bindCopy = function(document) {\n\t  var window = document.defaultView;\n\t\n\t  // if (!('onbeforecopy' in document)) {\n\t  //   // Copies to *only* the clipboard.\n\t  //   on(window, 'copy', function fn(ev) {\n\t  //     var term = Terminal.focus;\n\t  //     if (!term) return;\n\t  //     if (!term._selected) return;\n\t  //     var text = term.grabText(\n\t  //       term._selected.x1, term._selected.x2,\n\t  //       term._selected.y1, term._selected.y2);\n\t  //     term.emit('copy', text);\n\t  //     ev.clipboardData.setData('text/plain', text);\n\t  //   });\n\t  //   return;\n\t  // }\n\t\n\t  // Copies to primary selection *and* clipboard.\n\t  // NOTE: This may work better on capture phase,\n\t  // or using the `beforecopy` event.\n\t  on(window, 'copy', function(ev) {\n\t    var term = Terminal.focus;\n\t    if (!term) return;\n\t    if (!term._selected) return;\n\t    var textarea = term.getCopyTextarea();\n\t    var text = term.grabText(\n\t      term._selected.x1, term._selected.x2,\n\t      term._selected.y1, term._selected.y2);\n\t    term.emit('copy', text);\n\t    textarea.focus();\n\t    textarea.textContent = text;\n\t    textarea.value = text;\n\t    textarea.setSelectionRange(0, text.length);\n\t    setTimeout(function() {\n\t      term.element.focus();\n\t      term.focus();\n\t    }, 1);\n\t  });\n\t};\n\t\n\t/**\n\t * Fix Mobile\n\t */\n\t\n\tTerminal.prototype.fixMobile = function(document) {\n\t  var self = this;\n\t\n\t  var textarea = document.createElement('textarea');\n\t  textarea.style.position = 'absolute';\n\t  textarea.style.left = '-32000px';\n\t  textarea.style.top = '-32000px';\n\t  textarea.style.width = '0px';\n\t  textarea.style.height = '0px';\n\t  textarea.style.opacity = '0';\n\t  textarea.style.backgroundColor = 'transparent';\n\t  textarea.style.borderStyle = 'none';\n\t  textarea.style.outlineStyle = 'none';\n\t  textarea.autocapitalize = 'none';\n\t  textarea.autocorrect = 'off';\n\t\n\t  document.getElementsByTagName('body')[0].appendChild(textarea);\n\t\n\t  Terminal._textarea = textarea;\n\t\n\t  setTimeout(function() {\n\t    textarea.focus();\n\t  }, 1000);\n\t\n\t  if (this.isAndroid) {\n\t    on(textarea, 'change', function() {\n\t      var value = textarea.textContent || textarea.value;\n\t      textarea.value = '';\n\t      textarea.textContent = '';\n\t      self.send(value + '\\r');\n\t    });\n\t  }\n\t};\n\t\n\t/**\n\t * Open Terminal\n\t */\n\t\n\tTerminal.prototype.open = function(parent) {\n\t  var self = this\n\t    , i = 0\n\t    , div;\n\t\n\t  this.parent = parent || this.parent;\n\t\n\t  if (!this.parent) {\n\t    throw new Error('Terminal requires a parent element.');\n\t  }\n\t\n\t  // Grab global elements.\n\t  this.context = this.parent.ownerDocument.defaultView;\n\t  this.document = this.parent.ownerDocument;\n\t  this.body = this.document.getElementsByTagName('body')[0];\n\t\n\t  // Parse user-agent strings.\n\t  if (this.context.navigator && this.context.navigator.userAgent) {\n\t    this.isMac = !!~this.context.navigator.userAgent.indexOf('Mac');\n\t    this.isIpad = !!~this.context.navigator.userAgent.indexOf('iPad');\n\t    this.isIphone = !!~this.context.navigator.userAgent.indexOf('iPhone');\n\t    this.isAndroid = !!~this.context.navigator.userAgent.indexOf('Android');\n\t    this.isMobile = this.isIpad || this.isIphone || this.isAndroid;\n\t    this.isMSIE = !!~this.context.navigator.userAgent.indexOf('MSIE');\n\t  }\n\t\n\t  // Create our main terminal element.\n\t  this.element = this.document.createElement('div');\n\t  this.element.className = 'terminal';\n\t  this.element.style.outline = 'none';\n\t  this.element.setAttribute('tabindex', 0);\n\t  this.element.setAttribute('spellcheck', 'false');\n\t  this.element.style.backgroundColor = this.colors[256];\n\t  this.element.style.color = this.colors[257];\n\t\n\t  // Create the lines for our terminal.\n\t  this.children = [];\n\t  for (; i < this.rows; i++) {\n\t    div = this.document.createElement('div');\n\t    this.element.appendChild(div);\n\t    this.children.push(div);\n\t  }\n\t  this.parent.appendChild(this.element);\n\t\n\t  // Draw the screen.\n\t  this.refresh(0, this.rows - 1);\n\t\n\t  if (!('useEvents' in this.options) || this.options.useEvents) {\n\t    // Initialize global actions that\n\t    // need to be taken on the document.\n\t    this.initGlobal();\n\t  }\n\t\n\t  if (!('useFocus' in this.options) || this.options.useFocus) {\n\t    // Ensure there is a Terminal.focus.\n\t    this.focus();\n\t\n\t    // Bind to DOM events related\n\t    // to focus and paste behavior.\n\t    on(this.element, 'focus', function() {\n\t      self.focus();\n\t      if (self.isMobile) {\n\t        Terminal._textarea.focus();\n\t      }\n\t    });\n\t\n\t    // This causes slightly funky behavior.\n\t    // on(this.element, 'blur', function() {\n\t    //   self.blur();\n\t    // });\n\t\n\t    on(this.element, 'mousedown', function() {\n\t      self.focus();\n\t    });\n\t\n\t    // Clickable paste workaround, using contentEditable.\n\t    // This probably shouldn't work,\n\t    // ... but it does. Firefox's paste\n\t    // event seems to only work for textareas?\n\t    on(this.element, 'mousedown', function(ev) {\n\t      var button = ev.button != null\n\t        ? +ev.button\n\t        : ev.which != null\n\t          ? ev.which - 1\n\t          : null;\n\t\n\t      // Does IE9 do this?\n\t      if (self.isMSIE) {\n\t        button = button === 1 ? 0 : button === 4 ? 1 : button;\n\t      }\n\t\n\t      if (button !== 2) return;\n\t\n\t      self.element.contentEditable = 'true';\n\t      setTimeout(function() {\n\t        self.element.contentEditable = 'inherit'; // 'false';\n\t      }, 1);\n\t    }, true);\n\t  }\n\t\n\t  if (!('useMouse' in this.options) || this.options.useMouse) {\n\t    // Listen for mouse events and translate\n\t    // them into terminal mouse protocols.\n\t    this.bindMouse();\n\t  }\n\t\n\t  // this.emit('open');\n\t\n\t  if (!('useFocus' in this.options) || this.options.useFocus) {\n\t      // This can be useful for pasting,\n\t      // as well as the iPad fix.\n\t      setTimeout(function() {\n\t        self.element.focus();\n\t      }, 100);\n\t  }\n\t\n\t  // Figure out whether boldness affects\n\t  // the character width of monospace fonts.\n\t  if (Terminal.brokenBold == null) {\n\t    Terminal.brokenBold = isBoldBroken(this.document);\n\t  }\n\t\n\t  this.emit('open');\n\t};\n\t\n\tTerminal.prototype.setRawMode = function(value) {\n\t  this.isRaw = !!value;\n\t};\n\t\n\t// XTerm mouse events\n\t// http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\n\t// To better understand these\n\t// the xterm code is very helpful:\n\t// Relevant files:\n\t//   button.c, charproc.c, misc.c\n\t// Relevant functions in xterm/button.c:\n\t//   BtnCode, EmitButtonCode, EditorButton, SendMousePosition\n\tTerminal.prototype.bindMouse = function() {\n\t  var el = this.element\n\t    , self = this\n\t    , pressed = 32;\n\t\n\t  var wheelEvent = 'onmousewheel' in this.context\n\t    ? 'mousewheel'\n\t    : 'DOMMouseScroll';\n\t\n\t  // mouseup, mousedown, mousewheel\n\t  // left click: ^[[M 3<^[[M#3<\n\t  // mousewheel up: ^[[M`3>\n\t  function sendButton(ev) {\n\t    var button\n\t      , pos;\n\t\n\t    // get the xterm-style button\n\t    button = getButton(ev);\n\t\n\t    // get mouse coordinates\n\t    pos = getCoords(ev);\n\t    if (!pos) return;\n\t\n\t    sendEvent(button, pos);\n\t\n\t    switch (ev.type) {\n\t      case 'mousedown':\n\t        pressed = button;\n\t        break;\n\t      case 'mouseup':\n\t        // keep it at the left\n\t        // button, just in case.\n\t        pressed = 32;\n\t        break;\n\t      case wheelEvent:\n\t        // nothing. don't\n\t        // interfere with\n\t        // `pressed`.\n\t        break;\n\t    }\n\t  }\n\t\n\t  // motion example of a left click:\n\t  // ^[[M 3<^[[M@4<^[[M@5<^[[M@6<^[[M@7<^[[M#7<\n\t  function sendMove(ev) {\n\t    var button = pressed\n\t      , pos;\n\t\n\t    pos = getCoords(ev);\n\t    if (!pos) return;\n\t\n\t    // buttons marked as motions\n\t    // are incremented by 32\n\t    button += 32;\n\t\n\t    sendEvent(button, pos);\n\t  }\n\t\n\t  // encode button and\n\t  // position to characters\n\t  function encode(data, ch) {\n\t    if (!self.utfMouse) {\n\t      if (ch === 255) return data.push(0);\n\t      if (ch > 127) ch = 127;\n\t      data.push(ch);\n\t    } else {\n\t      if (ch === 2047) return data.push(0);\n\t      if (ch < 127) {\n\t        data.push(ch);\n\t      } else {\n\t        if (ch > 2047) ch = 2047;\n\t        data.push(0xC0 | (ch >> 6));\n\t        data.push(0x80 | (ch & 0x3F));\n\t      }\n\t    }\n\t  }\n\t\n\t  // send a mouse event:\n\t  // regular/utf8: ^[[M Cb Cx Cy\n\t  // urxvt: ^[[ Cb ; Cx ; Cy M\n\t  // sgr: ^[[ Cb ; Cx ; Cy M/m\n\t  // vt300: ^[[ 24(1/3/5)~ [ Cx , Cy ] \\r\n\t  // locator: CSI P e ; P b ; P r ; P c ; P p & w\n\t  function sendEvent(button, pos) {\n\t    // self.emit('mouse', {\n\t    //   x: pos.x - 32,\n\t    //   y: pos.x - 32,\n\t    //   button: button\n\t    // });\n\t\n\t    if (self.vt300Mouse) {\n\t      // NOTE: Unstable.\n\t      // http://www.vt100.net/docs/vt3xx-gp/chapter15.html\n\t      button &= 3;\n\t      pos.x -= 32;\n\t      pos.y -= 32;\n\t      var data = '\\x1b[24';\n\t      if (button === 0) data += '1';\n\t      else if (button === 1) data += '3';\n\t      else if (button === 2) data += '5';\n\t      else if (button === 3) return;\n\t      else data += '0';\n\t      data += '~[' + pos.x + ',' + pos.y + ']\\r';\n\t      self.send(data);\n\t      return;\n\t    }\n\t\n\t    if (self.decLocator) {\n\t      // NOTE: Unstable.\n\t      button &= 3;\n\t      pos.x -= 32;\n\t      pos.y -= 32;\n\t      if (button === 0) button = 2;\n\t      else if (button === 1) button = 4;\n\t      else if (button === 2) button = 6;\n\t      else if (button === 3) button = 3;\n\t      self.send('\\x1b['\n\t        + button\n\t        + ';'\n\t        + (button === 3 ? 4 : 0)\n\t        + ';'\n\t        + pos.y\n\t        + ';'\n\t        + pos.x\n\t        + ';'\n\t        + (pos.page || 0)\n\t        + '&w');\n\t      return;\n\t    }\n\t\n\t    if (self.urxvtMouse) {\n\t      pos.x -= 32;\n\t      pos.y -= 32;\n\t      pos.x++;\n\t      pos.y++;\n\t      self.send('\\x1b[' + button + ';' + pos.x + ';' + pos.y + 'M');\n\t      return;\n\t    }\n\t\n\t    if (self.sgrMouse) {\n\t      pos.x -= 32;\n\t      pos.y -= 32;\n\t      self.send('\\x1b[<'\n\t        + ((button & 3) === 3 ? button & ~3 : button)\n\t        + ';'\n\t        + pos.x\n\t        + ';'\n\t        + pos.y\n\t        + ((button & 3) === 3 ? 'm' : 'M'));\n\t      return;\n\t    }\n\t\n\t    var data = [];\n\t\n\t    encode(data, button);\n\t    encode(data, pos.x);\n\t    encode(data, pos.y);\n\t\n\t    self.send('\\x1b[M' + String.fromCharCode.apply(String, data));\n\t  }\n\t\n\t  function getButton(ev) {\n\t    var button\n\t      , shift\n\t      , meta\n\t      , ctrl\n\t      , mod;\n\t\n\t    // two low bits:\n\t    // 0 = left\n\t    // 1 = middle\n\t    // 2 = right\n\t    // 3 = release\n\t    // wheel up/down:\n\t    // 1, and 2 - with 64 added\n\t    switch (ev.type) {\n\t      case 'mousedown':\n\t        button = ev.button != null\n\t          ? +ev.button\n\t          : ev.which != null\n\t            ? ev.which - 1\n\t            : null;\n\t\n\t        if (self.isMSIE) {\n\t          button = button === 1 ? 0 : button === 4 ? 1 : button;\n\t        }\n\t        break;\n\t      case 'mouseup':\n\t        button = 3;\n\t        break;\n\t      case 'DOMMouseScroll':\n\t        button = ev.detail < 0\n\t          ? 64\n\t          : 65;\n\t        break;\n\t      case 'mousewheel':\n\t        button = ev.wheelDeltaY > 0\n\t          ? 64\n\t          : 65;\n\t        break;\n\t    }\n\t\n\t    // next three bits are the modifiers:\n\t    // 4 = shift, 8 = meta, 16 = control\n\t    shift = ev.shiftKey ? 4 : 0;\n\t    meta = ev.metaKey ? 8 : 0;\n\t    ctrl = ev.ctrlKey ? 16 : 0;\n\t    mod = shift | meta | ctrl;\n\t\n\t    // no mods\n\t    if (self.vt200Mouse) {\n\t      // ctrl only\n\t      mod &= ctrl;\n\t    } else if (!self.normalMouse) {\n\t      mod = 0;\n\t    }\n\t\n\t    // increment to SP\n\t    button = (32 + (mod << 2)) + button;\n\t\n\t    return button;\n\t  }\n\t\n\t  // mouse coordinates measured in cols/rows\n\t  function getCoords(ev) {\n\t    var x, y, w, h, el;\n\t\n\t    // ignore browsers without pageX for now\n\t    if (ev.pageX == null) return;\n\t\n\t    x = ev.pageX;\n\t    y = ev.pageY;\n\t    el = self.element;\n\t\n\t    // should probably check offsetParent\n\t    // but this is more portable\n\t    while (el && el !== self.document.documentElement) {\n\t      x -= el.offsetLeft;\n\t      y -= el.offsetTop;\n\t      el = 'offsetParent' in el\n\t        ? el.offsetParent\n\t        : el.parentNode;\n\t    }\n\t\n\t    // convert to cols/rows\n\t    w = self.element.clientWidth;\n\t    h = self.element.clientHeight;\n\t    x = Math.round((x / w) * self.cols);\n\t    y = Math.round((y / h) * self.rows);\n\t\n\t    // be sure to avoid sending\n\t    // bad positions to the program\n\t    if (x < 0) x = 0;\n\t    if (x > self.cols) x = self.cols;\n\t    if (y < 0) y = 0;\n\t    if (y > self.rows) y = self.rows;\n\t\n\t    // xterm sends raw bytes and\n\t    // starts at 32 (SP) for each.\n\t    x += 32;\n\t    y += 32;\n\t\n\t    return {\n\t      x: x,\n\t      y: y,\n\t      type: ev.type === wheelEvent\n\t        ? 'mousewheel'\n\t        : ev.type\n\t    };\n\t  }\n\t\n\t  on(el, 'mousedown', function(ev) {\n\t    if (!self.mouseEvents) return;\n\t\n\t    // send the button\n\t    sendButton(ev);\n\t\n\t    // ensure focus\n\t    self.focus();\n\t\n\t    // fix for odd bug\n\t    //if (self.vt200Mouse && !self.normalMouse) {\n\t    // XXX This seems to break certain programs.\n\t    // if (self.vt200Mouse) {\n\t    //   sendButton({ __proto__: ev, type: 'mouseup' });\n\t    //   return cancel(ev);\n\t    // }\n\t\n\t    // bind events\n\t    if (self.normalMouse) on(self.document, 'mousemove', sendMove);\n\t\n\t    // x10 compatibility mode can't send button releases\n\t    if (!self.x10Mouse) {\n\t      on(self.document, 'mouseup', function up(ev) {\n\t        sendButton(ev);\n\t        if (self.normalMouse) off(self.document, 'mousemove', sendMove);\n\t        off(self.document, 'mouseup', up);\n\t        return cancel(ev);\n\t      });\n\t    }\n\t  });\n\t\n\t  //if (self.normalMouse) {\n\t  //  on(self.document, 'mousemove', sendMove);\n\t  //}\n\t\n\t  on(el, wheelEvent, function(ev) {\n\t    if (!self.mouseEvents) return;\n\t    if (self.x10Mouse\n\t        || self.vt300Mouse\n\t        || self.decLocator) return;\n\t    sendButton(ev);\n\t    return cancel(ev);\n\t  });\n\t\n\t  // allow mousewheel scrolling in\n\t  // the shell for example\n\t  on(el, wheelEvent, function(ev) {\n\t    if (self.mouseEvents) return;\n\t    if (self.applicationKeypad) return;\n\t    if (ev.type === 'DOMMouseScroll') {\n\t      self.scrollDisp(ev.detail < 0 ? -5 : 5);\n\t    } else {\n\t      self.scrollDisp(ev.wheelDeltaY > 0 ? -5 : 5);\n\t    }\n\t    return cancel(ev);\n\t  });\n\t};\n\t\n\t/**\n\t * Destroy Terminal\n\t */\n\t\n\tTerminal.prototype.close =\n\tTerminal.prototype.destroySoon =\n\tTerminal.prototype.destroy = function() {\n\t  if (this.destroyed) {\n\t    return;\n\t  }\n\t\n\t  if (this._blink) {\n\t    clearInterval(this._blink);\n\t    delete this._blink;\n\t  }\n\t\n\t  this.readable = false;\n\t  this.writable = false;\n\t  this.destroyed = true;\n\t  this._events = {};\n\t\n\t  this.handler = function() {};\n\t  this.write = function() {};\n\t  this.end = function() {};\n\t\n\t  if (this.element.parentNode) {\n\t    this.element.parentNode.removeChild(this.element);\n\t  }\n\t\n\t  this.emit('end');\n\t  this.emit('close');\n\t  this.emit('finish');\n\t  this.emit('destroy');\n\t};\n\t\n\t/**\n\t * Rendering Engine\n\t */\n\t\n\t// In the screen buffer, each character\n\t// is stored as a an array with a character\n\t// and a 32-bit integer.\n\t// First value: a utf-16 character.\n\t// Second value:\n\t// Next 9 bits: background color (0-511).\n\t// Next 9 bits: foreground color (0-511).\n\t// Next 14 bits: a mask for misc. flags:\n\t//   1=bold, 2=underline, 4=blink, 8=inverse, 16=invisible\n\t\n\tTerminal.prototype.refresh = function(start, end) {\n\t  var x\n\t    , y\n\t    , i\n\t    , line\n\t    , out\n\t    , ch\n\t    , width\n\t    , data\n\t    , attr\n\t    , bg\n\t    , fg\n\t    , flags\n\t    , row\n\t    , parent;\n\t\n\t  width = this.cols;\n\t  y = start;\n\t\n\t  if (end >= this.lines.length) {\n\t    this.log('`end` is too large. Most likely a bad CSR.');\n\t    end = this.lines.length - 1;\n\t  }\n\t\n\t  for (; y <= end; y++) {\n\t    row = y + this.ydisp;\n\t\n\t    line = this.lines[row];\n\t    out = '';\n\t\n\t    if (y === this.y\n\t        && (this.ydisp === this.ybase || this.selectMode)\n\t        && !this.cursorHidden) {\n\t      x = this.x;\n\t    } else {\n\t      x = -1;\n\t    }\n\t\n\t    attr = this.defAttr;\n\t    i = 0;\n\t\n\t    for (; i < width; i++) {\n\t      data = line[i][0];\n\t      ch = line[i][1];\n\t\n\t      if (i === x) data = -1;\n\t\n\t      if (data !== attr) {\n\t        if (attr !== this.defAttr) {\n\t          out += '</span>';\n\t        }\n\t        if (data !== this.defAttr) {\n\t          if (data === -1) {\n\t            out += '<span class=\"reverse-video terminal-cursor\">';\n\t          } else {\n\t            out += '<span class=\"';\n\t\n\t            bg = data & 0x1ff;\n\t            fg = (data >> 9) & 0x1ff;\n\t            flags = data >> 18;\n\t\n\t            // bold\n\t            if (flags & 1) {\n\t              if (!Terminal.brokenBold) {\n\t                out += 'term-bold '\n\t              }\n\t              // See: XTerm*boldColors\n\t              if (fg < 8) fg += 8;\n\t            }\n\t\n\t            // underline\n\t            if (flags & 2) {\n\t              out += 'term-underline ';\n\t            }\n\t\n\t            // blink\n\t            if (flags & 4) {\n\t              out += 'term-blink ';\n\t            }\n\t\n\t            // inverse\n\t            if (flags & 8) {\n\t              bg = (data >> 9) & 0x1ff;\n\t              fg = data & 0x1ff;\n\t              // Should inverse just be before the\n\t              // above boldColors effect instead?\n\t              if ((flags & 1) && fg < 8) fg += 8;\n\t            }\n\t\n\t            // invisible\n\t            if (flags & 16) {\n\t              out += 'term-hidden ';\n\t            }\n\t\n\t            if (bg !== 256) {\n\t              out += 'term-bg-color-' + bg + ' ';\n\t            }\n\t\n\t            if (fg !== 257) {\n\t              out += 'term-fg-color-' + fg + ' ';\n\t            }\n\t\n\t            out += '\">';\n\t          }\n\t        }\n\t      }\n\t\n\t      switch (ch) {\n\t        case '&':\n\t          out += '&amp;';\n\t          break;\n\t        case '<':\n\t          out += '&lt;';\n\t          break;\n\t        case '>':\n\t          out += '&gt;';\n\t          break;\n\t        default:\n\t          if (ch <= ' ') {\n\t            out += '&nbsp;';\n\t          } else {\n\t            if (isWide(ch)) i++;\n\t            out += ch;\n\t          }\n\t          break;\n\t      }\n\t\n\t      attr = data;\n\t    }\n\t\n\t    if (attr !== this.defAttr) {\n\t      out += '</span>';\n\t    }\n\t\n\t    this.children[y].innerHTML = out;\n\t  }\n\t};\n\t\n\tTerminal.prototype.showCursor = function() {\n\t  this.cursorHidden = false;\n\t  this.refresh(this.y, this.y);\n\t};\n\t\n\tTerminal.prototype.scroll = function() {\n\t  var row;\n\t\n\t  if (++this.ybase === this.scrollback) {\n\t    this.ybase = this.ybase / 2 | 0;\n\t    this.lines = this.lines.slice(-(this.ybase + this.rows) + 1);\n\t  }\n\t\n\t  this.ydisp = this.ybase;\n\t\n\t  // last line\n\t  row = this.ybase + this.rows - 1;\n\t\n\t  // subtract the bottom scroll region\n\t  row -= this.rows - 1 - this.scrollBottom;\n\t\n\t  if (row === this.lines.length) {\n\t    // potential optimization:\n\t    // pushing is faster than splicing\n\t    // when they amount to the same\n\t    // behavior.\n\t    this.lines.push(this.blankLine());\n\t  } else {\n\t    // add our new line\n\t    this.lines.splice(row, 0, this.blankLine());\n\t  }\n\t\n\t  if (this.scrollTop !== 0) {\n\t    if (this.ybase !== 0) {\n\t      this.ybase--;\n\t      this.ydisp = this.ybase;\n\t    }\n\t    this.lines.splice(this.ybase + this.scrollTop, 1);\n\t  }\n\t\n\t  // this.maxRange();\n\t  this.updateRange(this.scrollTop);\n\t  this.updateRange(this.scrollBottom);\n\t};\n\t\n\tTerminal.prototype.scrollDisp = function(disp) {\n\t  this.ydisp += disp;\n\t\n\t  if (this.ydisp > this.ybase) {\n\t    this.ydisp = this.ybase;\n\t  } else if (this.ydisp < 0) {\n\t    this.ydisp = 0;\n\t  }\n\t\n\t  this.refresh(0, this.rows - 1);\n\t};\n\t\n\tTerminal.prototype.write = function(data) {\n\t  var l = data.length\n\t    , i = 0\n\t    , j\n\t    , cs\n\t    , ch;\n\t\n\t  this.refreshStart = this.y;\n\t  this.refreshEnd = this.y;\n\t\n\t  if (this.ybase !== this.ydisp) {\n\t    this.ydisp = this.ybase;\n\t    this.maxRange();\n\t  }\n\t\n\t  // this.log(JSON.stringify(data.replace(/\\x1b/g, '^[')));\n\t\n\t  for (; i < l; i++, this.lch = ch) {\n\t    ch = data[i];\n\t    switch (this.state) {\n\t      case normal:\n\t        switch (ch) {\n\t          // '\\0'\n\t          // case '\\0':\n\t          // case '\\200':\n\t          //   break;\n\t\n\t          // '\\a'\n\t          case '\\x07':\n\t            this.bell();\n\t            break;\n\t\n\t          // '\\n', '\\v', '\\f'\n\t          case '\\n':\n\t          case '\\x0b':\n\t          case '\\x0c':\n\t            if (this.convertEol) {\n\t              this.x = 0;\n\t            }\n\t            // TODO: Implement eat_newline_glitch.\n\t            // if (this.realX >= this.cols) break;\n\t            // this.realX = 0;\n\t            this.y++;\n\t            if (this.y > this.scrollBottom) {\n\t              this.y--;\n\t              this.scroll();\n\t            }\n\t            break;\n\t\n\t          // '\\r'\n\t          case '\\r':\n\t            this.x = 0;\n\t            break;\n\t\n\t          // '\\b'\n\t          case '\\x08':\n\t            if (this.x > 0) {\n\t              this.x--;\n\t            }\n\t            break;\n\t\n\t          // '\\t'\n\t          case '\\t':\n\t            this.x = this.nextStop();\n\t            break;\n\t\n\t          // shift out\n\t          case '\\x0e':\n\t            this.setgLevel(1);\n\t            break;\n\t\n\t          // shift in\n\t          case '\\x0f':\n\t            this.setgLevel(0);\n\t            break;\n\t\n\t          // '\\e'\n\t          case '\\x1b':\n\t            this.state = escaped;\n\t            break;\n\t\n\t          default:\n\t            // ' '\n\t            if (ch >= ' ') {\n\t              if (this.charset && this.charset[ch]) {\n\t                ch = this.charset[ch];\n\t              }\n\t\n\t              if (this.x >= this.cols) {\n\t                this.x = 0;\n\t                this.y++;\n\t                if (this.y > this.scrollBottom) {\n\t                  this.y--;\n\t                  this.scroll();\n\t                }\n\t              }\n\t\n\t              this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];\n\t              this.x++;\n\t              this.updateRange(this.y);\n\t\n\t              if (isWide(ch)) {\n\t                j = this.y + this.ybase;\n\t                if (this.cols < 2 || this.x >= this.cols) {\n\t                  this.lines[j][this.x - 1] = [this.curAttr, ' '];\n\t                  break;\n\t                }\n\t                this.lines[j][this.x] = [this.curAttr, ' '];\n\t                this.x++;\n\t              }\n\t            }\n\t            break;\n\t        }\n\t        break;\n\t      case escaped:\n\t        switch (ch) {\n\t          // ESC [ Control Sequence Introducer ( CSI is 0x9b).\n\t          case '[':\n\t            this.params = [];\n\t            this.currentParam = 0;\n\t            this.state = csi;\n\t            break;\n\t\n\t          // ESC ] Operating System Command ( OSC is 0x9d).\n\t          case ']':\n\t            this.params = [];\n\t            this.currentParam = 0;\n\t            this.state = osc;\n\t            break;\n\t\n\t          // ESC P Device Control String ( DCS is 0x90).\n\t          case 'P':\n\t            this.params = [];\n\t            this.prefix = '';\n\t            this.currentParam = '';\n\t            this.state = dcs;\n\t            break;\n\t\n\t          // ESC _ Application Program Command ( APC is 0x9f).\n\t          case '_':\n\t            this.state = ignore;\n\t            break;\n\t\n\t          // ESC ^ Privacy Message ( PM is 0x9e).\n\t          case '^':\n\t            this.state = ignore;\n\t            break;\n\t\n\t          // ESC c Full Reset (RIS).\n\t          case 'c':\n\t            this.reset();\n\t            break;\n\t\n\t          // ESC E Next Line ( NEL is 0x85).\n\t          // ESC D Index ( IND is 0x84).\n\t          case 'E':\n\t            this.x = 0;\n\t            ;\n\t          case 'D':\n\t            this.index();\n\t            break;\n\t\n\t          // ESC M Reverse Index ( RI is 0x8d).\n\t          case 'M':\n\t            this.reverseIndex();\n\t            break;\n\t\n\t          // ESC % Select default/utf-8 character set.\n\t          // @ = default, G = utf-8\n\t          case '%':\n\t            //this.charset = null;\n\t            this.setgLevel(0);\n\t            this.setgCharset(0, Terminal.charsets.US);\n\t            this.state = normal;\n\t            i++;\n\t            break;\n\t\n\t          // ESC (,),*,+,-,. Designate G0-G2 Character Set.\n\t          case '(': // <-- this seems to get all the attention\n\t          case ')':\n\t          case '*':\n\t          case '+':\n\t          case '-':\n\t          case '.':\n\t            switch (ch) {\n\t              case '(':\n\t                this.gcharset = 0;\n\t                break;\n\t              case ')':\n\t                this.gcharset = 1;\n\t                break;\n\t              case '*':\n\t                this.gcharset = 2;\n\t                break;\n\t              case '+':\n\t                this.gcharset = 3;\n\t                break;\n\t              case '-':\n\t                this.gcharset = 1;\n\t                break;\n\t              case '.':\n\t                this.gcharset = 2;\n\t                break;\n\t            }\n\t            this.state = charset;\n\t            break;\n\t\n\t          // Designate G3 Character Set (VT300).\n\t          // A = ISO Latin-1 Supplemental.\n\t          // Not implemented.\n\t          case '/':\n\t            this.gcharset = 3;\n\t            this.state = charset;\n\t            i--;\n\t            break;\n\t\n\t          // ESC N\n\t          // Single Shift Select of G2 Character Set\n\t          // ( SS2 is 0x8e). This affects next character only.\n\t          case 'N':\n\t            break;\n\t          // ESC O\n\t          // Single Shift Select of G3 Character Set\n\t          // ( SS3 is 0x8f). This affects next character only.\n\t          case 'O':\n\t            break;\n\t          // ESC n\n\t          // Invoke the G2 Character Set as GL (LS2).\n\t          case 'n':\n\t            this.setgLevel(2);\n\t            break;\n\t          // ESC o\n\t          // Invoke the G3 Character Set as GL (LS3).\n\t          case 'o':\n\t            this.setgLevel(3);\n\t            break;\n\t          // ESC |\n\t          // Invoke the G3 Character Set as GR (LS3R).\n\t          case '|':\n\t            this.setgLevel(3);\n\t            break;\n\t          // ESC }\n\t          // Invoke the G2 Character Set as GR (LS2R).\n\t          case '}':\n\t            this.setgLevel(2);\n\t            break;\n\t          // ESC ~\n\t          // Invoke the G1 Character Set as GR (LS1R).\n\t          case '~':\n\t            this.setgLevel(1);\n\t            break;\n\t\n\t          // ESC 7 Save Cursor (DECSC).\n\t          case '7':\n\t            this.saveCursor();\n\t            this.state = normal;\n\t            break;\n\t\n\t          // ESC 8 Restore Cursor (DECRC).\n\t          case '8':\n\t            this.restoreCursor();\n\t            this.state = normal;\n\t            break;\n\t\n\t          // ESC # 3 DEC line height/width\n\t          case '#':\n\t            this.state = normal;\n\t            i++;\n\t            break;\n\t\n\t          // ESC H Tab Set (HTS is 0x88).\n\t          case 'H':\n\t            this.tabSet();\n\t            break;\n\t\n\t          // ESC = Application Keypad (DECPAM).\n\t          case '=':\n\t            this.log('Serial port requested application keypad.');\n\t            this.applicationKeypad = true;\n\t            this.state = normal;\n\t            break;\n\t\n\t          // ESC > Normal Keypad (DECPNM).\n\t          case '>':\n\t            this.log('Switching back to normal keypad.');\n\t            this.applicationKeypad = false;\n\t            this.state = normal;\n\t            break;\n\t\n\t          default:\n\t            this.state = normal;\n\t            this.error('Unknown ESC control: %s.', ch);\n\t            break;\n\t        }\n\t        break;\n\t\n\t      case charset:\n\t        switch (ch) {\n\t          case '0': // DEC Special Character and Line Drawing Set.\n\t            cs = Terminal.charsets.SCLD;\n\t            break;\n\t          case 'A': // UK\n\t            cs = Terminal.charsets.UK;\n\t            break;\n\t          case 'B': // United States (USASCII).\n\t            cs = Terminal.charsets.US;\n\t            break;\n\t          case '4': // Dutch\n\t            cs = Terminal.charsets.Dutch;\n\t            break;\n\t          case 'C': // Finnish\n\t          case '5':\n\t            cs = Terminal.charsets.Finnish;\n\t            break;\n\t          case 'R': // French\n\t            cs = Terminal.charsets.French;\n\t            break;\n\t          case 'Q': // FrenchCanadian\n\t            cs = Terminal.charsets.FrenchCanadian;\n\t            break;\n\t          case 'K': // German\n\t            cs = Terminal.charsets.German;\n\t            break;\n\t          case 'Y': // Italian\n\t            cs = Terminal.charsets.Italian;\n\t            break;\n\t          case 'E': // NorwegianDanish\n\t          case '6':\n\t            cs = Terminal.charsets.NorwegianDanish;\n\t            break;\n\t          case 'Z': // Spanish\n\t            cs = Terminal.charsets.Spanish;\n\t            break;\n\t          case 'H': // Swedish\n\t          case '7':\n\t            cs = Terminal.charsets.Swedish;\n\t            break;\n\t          case '=': // Swiss\n\t            cs = Terminal.charsets.Swiss;\n\t            break;\n\t          case '/': // ISOLatin (actually /A)\n\t            cs = Terminal.charsets.ISOLatin;\n\t            i++;\n\t            break;\n\t          default: // Default\n\t            cs = Terminal.charsets.US;\n\t            break;\n\t        }\n\t        this.setgCharset(this.gcharset, cs);\n\t        this.gcharset = null;\n\t        this.state = normal;\n\t        break;\n\t\n\t      case osc:\n\t        // OSC Ps ; Pt ST\n\t        // OSC Ps ; Pt BEL\n\t        //   Set Text Parameters.\n\t        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n\t          if (this.lch === '\\x1b') {\n\t            if (typeof this.currentParam === 'string') {\n\t              this.currentParam = this.currentParam.slice(0, -1);\n\t            } else if (typeof this.currentParam == 'number') {\n\t              this.currentParam = (this.currentParam - ('\\x1b'.charCodeAt(0) - 48)) / 10;\n\t            }\n\t          }\n\t\n\t          this.params.push(this.currentParam);\n\t\n\t          switch (this.params[0]) {\n\t            case 0:\n\t            case 1:\n\t            case 2:\n\t              if (this.params[1]) {\n\t                this.title = this.params[1];\n\t                this.handleTitle(this.title);\n\t              }\n\t              break;\n\t            case 3:\n\t              // set X property\n\t              break;\n\t            case 4:\n\t            case 5:\n\t              // change dynamic colors\n\t              break;\n\t            case 10:\n\t            case 11:\n\t            case 12:\n\t            case 13:\n\t            case 14:\n\t            case 15:\n\t            case 16:\n\t            case 17:\n\t            case 18:\n\t            case 19:\n\t              // change dynamic ui colors\n\t              break;\n\t            case 46:\n\t              // change log file\n\t              break;\n\t            case 50:\n\t              // dynamic font\n\t              break;\n\t            case 51:\n\t              // emacs shell\n\t              break;\n\t            case 52:\n\t              // manipulate selection data\n\t              break;\n\t            case 104:\n\t            case 105:\n\t            case 110:\n\t            case 111:\n\t            case 112:\n\t            case 113:\n\t            case 114:\n\t            case 115:\n\t            case 116:\n\t            case 117:\n\t            case 118:\n\t              // reset colors\n\t              break;\n\t          }\n\t\n\t          this.params = [];\n\t          this.currentParam = 0;\n\t          this.state = normal;\n\t        } else {\n\t          if (!this.params.length) {\n\t            if (ch >= '0' && ch <= '9') {\n\t              this.currentParam =\n\t                this.currentParam * 10 + ch.charCodeAt(0) - 48;\n\t            } else if (ch === ';') {\n\t              this.params.push(this.currentParam);\n\t              this.currentParam = '';\n\t            }\n\t          } else {\n\t            this.currentParam += ch;\n\t          }\n\t        }\n\t        break;\n\t\n\t      case csi:\n\t        // '?', '>', '!'\n\t        if (ch === '?' || ch === '>' || ch === '!') {\n\t          this.prefix = ch;\n\t          break;\n\t        }\n\t\n\t        // 0 - 9\n\t        if (ch >= '0' && ch <= '9') {\n\t          this.currentParam = this.currentParam * 10 + ch.charCodeAt(0) - 48;\n\t          break;\n\t        }\n\t\n\t        // '$', '\"', ' ', '\\''\n\t        if (ch === '$' || ch === '\"' || ch === ' ' || ch === '\\'') {\n\t          this.postfix = ch;\n\t          break;\n\t        }\n\t\n\t        this.params.push(this.currentParam);\n\t        this.currentParam = 0;\n\t\n\t        // ';'\n\t        if (ch === ';') break;\n\t\n\t        this.state = normal;\n\t\n\t        switch (ch) {\n\t          // CSI Ps A\n\t          // Cursor Up Ps Times (default = 1) (CUU).\n\t          case 'A':\n\t            this.cursorUp(this.params);\n\t            break;\n\t\n\t          // CSI Ps B\n\t          // Cursor Down Ps Times (default = 1) (CUD).\n\t          case 'B':\n\t            this.cursorDown(this.params);\n\t            break;\n\t\n\t          // CSI Ps C\n\t          // Cursor Forward Ps Times (default = 1) (CUF).\n\t          case 'C':\n\t            this.cursorForward(this.params);\n\t            break;\n\t\n\t          // CSI Ps D\n\t          // Cursor Backward Ps Times (default = 1) (CUB).\n\t          case 'D':\n\t            this.cursorBackward(this.params);\n\t            break;\n\t\n\t          // CSI Ps ; Ps H\n\t          // Cursor Position [row;column] (default = [1,1]) (CUP).\n\t          case 'H':\n\t            this.cursorPos(this.params);\n\t            break;\n\t\n\t          // CSI Ps J  Erase in Display (ED).\n\t          case 'J':\n\t            this.eraseInDisplay(this.params);\n\t            break;\n\t\n\t          // CSI Ps K  Erase in Line (EL).\n\t          case 'K':\n\t            this.eraseInLine(this.params);\n\t            break;\n\t\n\t          // CSI Pm m  Character Attributes (SGR).\n\t          case 'm':\n\t            if (!this.prefix) {\n\t              this.charAttributes(this.params);\n\t            }\n\t            break;\n\t\n\t          // CSI Ps n  Device Status Report (DSR).\n\t          case 'n':\n\t            if (!this.prefix) {\n\t              this.deviceStatus(this.params);\n\t            }\n\t            break;\n\t\n\t          /**\n\t           * Additions\n\t           */\n\t\n\t          // CSI Ps @\n\t          // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n\t          case '@':\n\t            this.insertChars(this.params);\n\t            break;\n\t\n\t          // CSI Ps E\n\t          // Cursor Next Line Ps Times (default = 1) (CNL).\n\t          case 'E':\n\t            this.cursorNextLine(this.params);\n\t            break;\n\t\n\t          // CSI Ps F\n\t          // Cursor Preceding Line Ps Times (default = 1) (CNL).\n\t          case 'F':\n\t            this.cursorPrecedingLine(this.params);\n\t            break;\n\t\n\t          // CSI Ps G\n\t          // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n\t          case 'G':\n\t            this.cursorCharAbsolute(this.params);\n\t            break;\n\t\n\t          // CSI Ps L\n\t          // Insert Ps Line(s) (default = 1) (IL).\n\t          case 'L':\n\t            this.insertLines(this.params);\n\t            break;\n\t\n\t          // CSI Ps M\n\t          // Delete Ps Line(s) (default = 1) (DL).\n\t          case 'M':\n\t            this.deleteLines(this.params);\n\t            break;\n\t\n\t          // CSI Ps P\n\t          // Delete Ps Character(s) (default = 1) (DCH).\n\t          case 'P':\n\t            this.deleteChars(this.params);\n\t            break;\n\t\n\t          // CSI Ps X\n\t          // Erase Ps Character(s) (default = 1) (ECH).\n\t          case 'X':\n\t            this.eraseChars(this.params);\n\t            break;\n\t\n\t          // CSI Pm `  Character Position Absolute\n\t          //   [column] (default = [row,1]) (HPA).\n\t          case '`':\n\t            this.charPosAbsolute(this.params);\n\t            break;\n\t\n\t          // 141 61 a * HPR -\n\t          // Horizontal Position Relative\n\t          case 'a':\n\t            this.HPositionRelative(this.params);\n\t            break;\n\t\n\t          // CSI P s c\n\t          // Send Device Attributes (Primary DA).\n\t          // CSI > P s c\n\t          // Send Device Attributes (Secondary DA)\n\t          case 'c':\n\t            this.sendDeviceAttributes(this.params);\n\t            break;\n\t\n\t          // CSI Pm d\n\t          // Line Position Absolute  [row] (default = [1,column]) (VPA).\n\t          case 'd':\n\t            this.linePosAbsolute(this.params);\n\t            break;\n\t\n\t          // 145 65 e * VPR - Vertical Position Relative\n\t          case 'e':\n\t            this.VPositionRelative(this.params);\n\t            break;\n\t\n\t          // CSI Ps ; Ps f\n\t          //   Horizontal and Vertical Position [row;column] (default =\n\t          //   [1,1]) (HVP).\n\t          case 'f':\n\t            this.HVPosition(this.params);\n\t            break;\n\t\n\t          // CSI Pm h  Set Mode (SM).\n\t          // CSI ? Pm h - mouse escape codes, cursor escape codes\n\t          case 'h':\n\t            this.setMode(this.params);\n\t            break;\n\t\n\t          // CSI Pm l  Reset Mode (RM).\n\t          // CSI ? Pm l\n\t          case 'l':\n\t            this.resetMode(this.params);\n\t            break;\n\t\n\t          // CSI Ps ; Ps r\n\t          //   Set Scrolling Region [top;bottom] (default = full size of win-\n\t          //   dow) (DECSTBM).\n\t          // CSI ? Pm r\n\t          case 'r':\n\t            this.setScrollRegion(this.params);\n\t            break;\n\t\n\t          // CSI s\n\t          //   Save cursor (ANSI.SYS).\n\t          case 's':\n\t            this.saveCursor(this.params);\n\t            break;\n\t\n\t          // CSI u\n\t          //   Restore cursor (ANSI.SYS).\n\t          case 'u':\n\t            this.restoreCursor(this.params);\n\t            break;\n\t\n\t          /**\n\t           * Lesser Used\n\t           */\n\t\n\t          // CSI Ps I\n\t          // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n\t          case 'I':\n\t            this.cursorForwardTab(this.params);\n\t            break;\n\t\n\t          // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n\t          case 'S':\n\t            this.scrollUp(this.params);\n\t            break;\n\t\n\t          // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n\t          // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n\t          // CSI > Ps; Ps T\n\t          case 'T':\n\t            // if (this.prefix === '>') {\n\t            //   this.resetTitleModes(this.params);\n\t            //   break;\n\t            // }\n\t            // if (this.params.length > 2) {\n\t            //   this.initMouseTracking(this.params);\n\t            //   break;\n\t            // }\n\t            if (this.params.length < 2 && !this.prefix) {\n\t              this.scrollDown(this.params);\n\t            }\n\t            break;\n\t\n\t          // CSI Ps Z\n\t          // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n\t          case 'Z':\n\t            this.cursorBackwardTab(this.params);\n\t            break;\n\t\n\t          // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n\t          case 'b':\n\t            this.repeatPrecedingCharacter(this.params);\n\t            break;\n\t\n\t          // CSI Ps g  Tab Clear (TBC).\n\t          case 'g':\n\t            this.tabClear(this.params);\n\t            break;\n\t\n\t          // CSI Pm i  Media Copy (MC).\n\t          // CSI ? Pm i\n\t          // case 'i':\n\t          //   this.mediaCopy(this.params);\n\t          //   break;\n\t\n\t          // CSI Pm m  Character Attributes (SGR).\n\t          // CSI > Ps; Ps m\n\t          // case 'm': // duplicate\n\t          //   if (this.prefix === '>') {\n\t          //     this.setResources(this.params);\n\t          //   } else {\n\t          //     this.charAttributes(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Ps n  Device Status Report (DSR).\n\t          // CSI > Ps n\n\t          // case 'n': // duplicate\n\t          //   if (this.prefix === '>') {\n\t          //     this.disableModifiers(this.params);\n\t          //   } else {\n\t          //     this.deviceStatus(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI > Ps p  Set pointer mode.\n\t          // CSI ! p   Soft terminal reset (DECSTR).\n\t          // CSI Ps$ p\n\t          //   Request ANSI mode (DECRQM).\n\t          // CSI ? Ps$ p\n\t          //   Request DEC private mode (DECRQM).\n\t          // CSI Ps ; Ps \" p\n\t          case 'p':\n\t            switch (this.prefix) {\n\t              // case '>':\n\t              //   this.setPointerMode(this.params);\n\t              //   break;\n\t              case '!':\n\t                this.softReset(this.params);\n\t                break;\n\t              // case '?':\n\t              //   if (this.postfix === '$') {\n\t              //     this.requestPrivateMode(this.params);\n\t              //   }\n\t              //   break;\n\t              // default:\n\t              //   if (this.postfix === '\"') {\n\t              //     this.setConformanceLevel(this.params);\n\t              //   } else if (this.postfix === '$') {\n\t              //     this.requestAnsiMode(this.params);\n\t              //   }\n\t              //   break;\n\t            }\n\t            break;\n\t\n\t          // CSI Ps q  Load LEDs (DECLL).\n\t          // CSI Ps SP q\n\t          // CSI Ps \" q\n\t          // case 'q':\n\t          //   if (this.postfix === ' ') {\n\t          //     this.setCursorStyle(this.params);\n\t          //     break;\n\t          //   }\n\t          //   if (this.postfix === '\"') {\n\t          //     this.setCharProtectionAttr(this.params);\n\t          //     break;\n\t          //   }\n\t          //   this.loadLEDs(this.params);\n\t          //   break;\n\t\n\t          // CSI Ps ; Ps r\n\t          //   Set Scrolling Region [top;bottom] (default = full size of win-\n\t          //   dow) (DECSTBM).\n\t          // CSI ? Pm r\n\t          // CSI Pt; Pl; Pb; Pr; Ps$ r\n\t          // case 'r': // duplicate\n\t          //   if (this.prefix === '?') {\n\t          //     this.restorePrivateValues(this.params);\n\t          //   } else if (this.postfix === '$') {\n\t          //     this.setAttrInRectangle(this.params);\n\t          //   } else {\n\t          //     this.setScrollRegion(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI s     Save cursor (ANSI.SYS).\n\t          // CSI ? Pm s\n\t          // case 's': // duplicate\n\t          //   if (this.prefix === '?') {\n\t          //     this.savePrivateValues(this.params);\n\t          //   } else {\n\t          //     this.saveCursor(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Ps ; Ps ; Ps t\n\t          // CSI Pt; Pl; Pb; Pr; Ps$ t\n\t          // CSI > Ps; Ps t\n\t          // CSI Ps SP t\n\t          // case 't':\n\t          //   if (this.postfix === '$') {\n\t          //     this.reverseAttrInRectangle(this.params);\n\t          //   } else if (this.postfix === ' ') {\n\t          //     this.setWarningBellVolume(this.params);\n\t          //   } else {\n\t          //     if (this.prefix === '>') {\n\t          //       this.setTitleModeFeature(this.params);\n\t          //     } else {\n\t          //       this.manipulateWindow(this.params);\n\t          //     }\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI u     Restore cursor (ANSI.SYS).\n\t          // CSI Ps SP u\n\t          // case 'u': // duplicate\n\t          //   if (this.postfix === ' ') {\n\t          //     this.setMarginBellVolume(this.params);\n\t          //   } else {\n\t          //     this.restoreCursor(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n\t          // case 'v':\n\t          //   if (this.postfix === '$') {\n\t          //     this.copyRectagle(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Pt ; Pl ; Pb ; Pr ' w\n\t          // case 'w':\n\t          //   if (this.postfix === '\\'') {\n\t          //     this.enableFilterRectangle(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n\t          // CSI Ps x  Select Attribute Change Extent (DECSACE).\n\t          // CSI Pc; Pt; Pl; Pb; Pr$ x\n\t          // case 'x':\n\t          //   if (this.postfix === '$') {\n\t          //     this.fillRectangle(this.params);\n\t          //   } else {\n\t          //     this.requestParameters(this.params);\n\t          //     //this.__(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Ps ; Pu ' z\n\t          // CSI Pt; Pl; Pb; Pr$ z\n\t          // case 'z':\n\t          //   if (this.postfix === '\\'') {\n\t          //     this.enableLocatorReporting(this.params);\n\t          //   } else if (this.postfix === '$') {\n\t          //     this.eraseRectangle(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Pm ' {\n\t          // CSI Pt; Pl; Pb; Pr$ {\n\t          // case '{':\n\t          //   if (this.postfix === '\\'') {\n\t          //     this.setLocatorEvents(this.params);\n\t          //   } else if (this.postfix === '$') {\n\t          //     this.selectiveEraseRectangle(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI Ps ' |\n\t          // case '|':\n\t          //   if (this.postfix === '\\'') {\n\t          //     this.requestLocatorPosition(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI P m SP }\n\t          // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n\t          // case '}':\n\t          //   if (this.postfix === ' ') {\n\t          //     this.insertColumns(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          // CSI P m SP ~\n\t          // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n\t          // case '~':\n\t          //   if (this.postfix === ' ') {\n\t          //     this.deleteColumns(this.params);\n\t          //   }\n\t          //   break;\n\t\n\t          default:\n\t            this.error('Unknown CSI code: %s.', ch);\n\t            break;\n\t        }\n\t\n\t        this.prefix = '';\n\t        this.postfix = '';\n\t        break;\n\t\n\t      case dcs:\n\t        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n\t          // Workarounds:\n\t          if (this.prefix === 'tmux;\\x1b') {\n\t            // `DCS tmux; Pt ST` may contain a Pt with an ST\n\t            // XXX Does tmux work this way?\n\t            // if (this.lch === '\\x1b' & data[i + 1] === '\\x1b' && data[i + 2] === '\\\\') {\n\t            //   this.currentParam += ch;\n\t            //   continue;\n\t            // }\n\t            // Tmux only accepts ST, not BEL:\n\t            if (ch === '\\x07') {\n\t              this.currentParam += ch;\n\t              continue;\n\t            }\n\t          }\n\t\n\t          if (this.lch === '\\x1b') {\n\t            if (typeof this.currentParam === 'string') {\n\t              this.currentParam = this.currentParam.slice(0, -1);\n\t            } else if (typeof this.currentParam == 'number') {\n\t              this.currentParam = (this.currentParam - ('\\x1b'.charCodeAt(0) - 48)) / 10;\n\t            }\n\t          }\n\t\n\t          this.params.push(this.currentParam);\n\t\n\t          var pt = this.params[this.params.length - 1];\n\t\n\t          switch (this.prefix) {\n\t            // User-Defined Keys (DECUDK).\n\t            // DCS Ps; Ps| Pt ST\n\t            case UDK:\n\t              this.emit('udk', {\n\t                clearAll: this.params[0] === 0,\n\t                eraseBelow: this.params[0] === 1,\n\t                lockKeys: this.params[1] === 0,\n\t                dontLockKeys: this.params[1] === 1,\n\t                keyList: (this.params[2] + '').split(';').map(function(part) {\n\t                  part = part.split('/');\n\t                  return {\n\t                    keyCode: part[0],\n\t                    hexKeyValue: part[1]\n\t                  };\n\t                })\n\t              });\n\t              break;\n\t\n\t            // Request Status String (DECRQSS).\n\t            // DCS $ q Pt ST\n\t            // test: echo -e '\\eP$q\"p\\e\\\\'\n\t            case '$q':\n\t              var valid = 0;\n\t\n\t              switch (pt) {\n\t                // DECSCA\n\t                // CSI Ps \" q\n\t                case '\"q':\n\t                  pt = '0\"q';\n\t                  valid = 1;\n\t                  break;\n\t\n\t                // DECSCL\n\t                // CSI Ps ; Ps \" p\n\t                case '\"p':\n\t                  pt = '61;0\"p';\n\t                  valid = 1;\n\t                  break;\n\t\n\t                // DECSTBM\n\t                // CSI Ps ; Ps r\n\t                case 'r':\n\t                  pt = ''\n\t                    + (this.scrollTop + 1)\n\t                    + ';'\n\t                    + (this.scrollBottom + 1)\n\t                    + 'r';\n\t                  valid = 1;\n\t                  break;\n\t\n\t                // SGR\n\t                // CSI Pm m\n\t                case 'm':\n\t                  // TODO: Parse this.curAttr here.\n\t                  // pt = '0m';\n\t                  // valid = 1;\n\t                  valid = 0; // Not implemented.\n\t                  break;\n\t\n\t                default:\n\t                  this.error('Unknown DCS Pt: %s.', pt);\n\t                  valid = 0; // unimplemented\n\t                  break;\n\t              }\n\t\n\t              this.send('\\x1bP' + valid + '$r' + pt + '\\x1b\\\\');\n\t              break;\n\t\n\t            // Set Termcap/Terminfo Data (xterm, experimental).\n\t            // DCS + p Pt ST\n\t            case '+p':\n\t              this.emit('set terminfo', {\n\t                name: this.params[0]\n\t              });\n\t              break;\n\t\n\t            // Request Termcap/Terminfo String (xterm, experimental)\n\t            // Regular xterm does not even respond to this sequence.\n\t            // This can cause a small glitch in vim.\n\t            // DCS + q Pt ST\n\t            // test: echo -ne '\\eP+q6b64\\e\\\\'\n\t            case '+q':\n\t              var valid = false;\n\t              this.send('\\x1bP' + +valid + '+r' + pt + '\\x1b\\\\');\n\t              break;\n\t\n\t            // Implement tmux sequence forwarding is\n\t            // someone uses term.js for a multiplexer.\n\t            // DCS tmux; ESC Pt ST\n\t            case 'tmux;\\x1b':\n\t              this.emit('passthrough', pt);\n\t              break;\n\t\n\t            default:\n\t              this.error('Unknown DCS prefix: %s.', pt);\n\t              break;\n\t          }\n\t\n\t          this.currentParam = 0;\n\t          this.prefix = '';\n\t          this.state = normal;\n\t        } else {\n\t          this.currentParam += ch;\n\t          if (!this.prefix) {\n\t            if (/^\\d*;\\d*\\|/.test(this.currentParam)) {\n\t              this.prefix = UDK;\n\t              this.params = this.currentParam.split(/[;|]/).map(function(n) {\n\t                if (!n.length) return 0;\n\t                return +n;\n\t              }).slice(0, -1);\n\t              this.currentParam = '';\n\t            } else if (/^[$+][a-zA-Z]/.test(this.currentParam)\n\t                || /^\\w+;\\x1b/.test(this.currentParam)) {\n\t              this.prefix = this.currentParam;\n\t              this.currentParam = '';\n\t            }\n\t          }\n\t        }\n\t        break;\n\t\n\t      case ignore:\n\t        // For PM and APC.\n\t        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n\t          this.state = normal;\n\t        }\n\t        break;\n\t    }\n\t  }\n\t\n\t  this.updateRange(this.y);\n\t  this.refresh(this.refreshStart, this.refreshEnd);\n\t\n\t  return true;\n\t};\n\t\n\tTerminal.prototype.writeln = function(data) {\n\t  return this.write(data + '\\r\\n');\n\t};\n\t\n\tTerminal.prototype.end = function(data) {\n\t  var ret = true;\n\t  if (data) {\n\t    ret = this.write(data);\n\t  }\n\t  this.destroySoon();\n\t  return ret;\n\t};\n\t\n\tTerminal.prototype.resume = function() {\n\t  ;\n\t};\n\t\n\tTerminal.prototype.pause = function() {\n\t  ;\n\t};\n\t\n\t// Key Resources:\n\t// https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent\n\tTerminal.prototype.keyDown = function(ev) {\n\t  var self = this\n\t    , key;\n\t\n\t  switch (ev.keyCode) {\n\t    // backspace\n\t    case 8:\n\t      if (ev.altKey) {\n\t        key = '\\x17';\n\t        break;\n\t      }\n\t      if (ev.shiftKey) {\n\t        key = '\\x08'; // ^H\n\t        break;\n\t      }\n\t      key = '\\x7f'; // ^?\n\t      break;\n\t    // tab\n\t    case 9:\n\t      if (ev.shiftKey) {\n\t        key = '\\x1b[Z';\n\t        break;\n\t      }\n\t      key = '\\t';\n\t      break;\n\t    // return/enter\n\t    case 13:\n\t      key = '\\r';\n\t      break;\n\t    // escape\n\t    case 27:\n\t      key = '\\x1b';\n\t      break;\n\t    // space\n\t    case 32:\n\t      key = '\\x20';\n\t      break;\n\t    // left-arrow\n\t    case 37:\n\t      if (this.applicationCursor) {\n\t        key = '\\x1bOD'; // SS3 as ^[O for 7-bit\n\t        //key = '\\x8fD'; // SS3 as 0x8f for 8-bit\n\t        break;\n\t      }\n\t      if (ev.ctrlKey) {\n\t        key = '\\x1b[5D';\n\t        break;\n\t      }\n\t      key = '\\x1b[D';\n\t      break;\n\t    // right-arrow\n\t    case 39:\n\t      if (this.applicationCursor) {\n\t        key = '\\x1bOC';\n\t        break;\n\t      }\n\t      if (ev.ctrlKey) {\n\t        key = '\\x1b[5C';\n\t        break;\n\t      }\n\t      key = '\\x1b[C';\n\t      break;\n\t    // up-arrow\n\t    case 38:\n\t      if (this.applicationCursor) {\n\t        key = '\\x1bOA';\n\t        break;\n\t      }\n\t      if (ev.ctrlKey) {\n\t        this.scrollDisp(-1);\n\t        return cancel(ev);\n\t      } else {\n\t        key = '\\x1b[A';\n\t      }\n\t      break;\n\t    // down-arrow\n\t    case 40:\n\t      if (this.applicationCursor) {\n\t        key = '\\x1bOB';\n\t        break;\n\t      }\n\t      if (ev.ctrlKey) {\n\t        this.scrollDisp(1);\n\t        return cancel(ev);\n\t      } else {\n\t        key = '\\x1b[B';\n\t      }\n\t      break;\n\t    // delete\n\t    case 46:\n\t      key = '\\x1b[3~';\n\t      break;\n\t    // insert\n\t    case 45:\n\t      key = '\\x1b[2~';\n\t      break;\n\t    // home\n\t    case 36:\n\t      if (this.applicationKeypad) {\n\t        key = '\\x1bOH';\n\t        break;\n\t      }\n\t      key = '\\x1bOH';\n\t      break;\n\t    // end\n\t    case 35:\n\t      if (this.applicationKeypad) {\n\t        key = '\\x1bOF';\n\t        break;\n\t      }\n\t      key = '\\x1bOF';\n\t      break;\n\t    // page up\n\t    case 33:\n\t      if (ev.shiftKey) {\n\t        this.scrollDisp(-(this.rows - 1));\n\t        return cancel(ev);\n\t      } else {\n\t        key = '\\x1b[5~';\n\t      }\n\t      break;\n\t    // page down\n\t    case 34:\n\t      if (ev.shiftKey) {\n\t        this.scrollDisp(this.rows - 1);\n\t        return cancel(ev);\n\t      } else {\n\t        key = '\\x1b[6~';\n\t      }\n\t      break;\n\t    // F1\n\t    case 112:\n\t      key = '\\x1bOP';\n\t      break;\n\t    // F2\n\t    case 113:\n\t      key = '\\x1bOQ';\n\t      break;\n\t    // F3\n\t    case 114:\n\t      key = '\\x1bOR';\n\t      break;\n\t    // F4\n\t    case 115:\n\t      key = '\\x1bOS';\n\t      break;\n\t    // F5\n\t    case 116:\n\t      key = '\\x1b[15~';\n\t      break;\n\t    // F6\n\t    case 117:\n\t      key = '\\x1b[17~';\n\t      break;\n\t    // F7\n\t    case 118:\n\t      key = '\\x1b[18~';\n\t      break;\n\t    // F8\n\t    case 119:\n\t      key = '\\x1b[19~';\n\t      break;\n\t    // F9\n\t    case 120:\n\t      key = '\\x1b[20~';\n\t      break;\n\t    // F10\n\t    case 121:\n\t      key = '\\x1b[21~';\n\t      break;\n\t    // F11\n\t    case 122:\n\t      key = '\\x1b[23~';\n\t      break;\n\t    // F12\n\t    case 123:\n\t      key = '\\x1b[24~';\n\t      break;\n\t    default:\n\t      // a-z and space\n\t      if (ev.ctrlKey) {\n\t        if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n\t          // Ctrl-A\n\t          if (this.screenKeys) {\n\t            if (!this.prefixMode && !this.selectMode && ev.keyCode === 65) {\n\t              this.enterPrefix();\n\t              return cancel(ev);\n\t            }\n\t          }\n\t          // Ctrl-V\n\t          if (this.prefixMode && ev.keyCode === 86) {\n\t            this.leavePrefix();\n\t            return;\n\t          }\n\t          // Ctrl-C\n\t          if ((this.prefixMode || this.selectMode) && ev.keyCode === 67) {\n\t            if (this.visualMode) {\n\t              setTimeout(function() {\n\t                self.leaveVisual();\n\t              }, 1);\n\t            }\n\t            return;\n\t          }\n\t          key = String.fromCharCode(ev.keyCode - 64);\n\t        } else if (ev.keyCode === 32) {\n\t          // NUL\n\t          key = String.fromCharCode(0);\n\t        } else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n\t          // escape, file sep, group sep, record sep, unit sep\n\t          key = String.fromCharCode(ev.keyCode - 51 + 27);\n\t        } else if (ev.keyCode === 56) {\n\t          // delete\n\t          key = String.fromCharCode(127);\n\t        } else if (ev.keyCode === 219) {\n\t          // ^[ - escape\n\t          key = String.fromCharCode(27);\n\t        } else if (ev.keyCode === 221) {\n\t          // ^] - group sep\n\t          key = String.fromCharCode(29);\n\t        }\n\t      } else if (ev.altKey) {\n\t        if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n\t          key = '\\x1b' + String.fromCharCode(ev.keyCode + 32);\n\t        } else if (ev.keyCode === 192) {\n\t          key = '\\x1b`';\n\t        } else if (ev.keyCode >= 48 && ev.keyCode <= 57) {\n\t          key = '\\x1b' + (ev.keyCode - 48);\n\t        }\n\t      }\n\t      break;\n\t  }\n\t\n\t  if (!key) return true;\n\t\n\t  if (this.prefixMode) {\n\t    this.leavePrefix();\n\t    return cancel(ev);\n\t  }\n\t\n\t  if (this.selectMode) {\n\t    this.keySelect(ev, key);\n\t    return cancel(ev);\n\t  }\n\t\n\t  this.emit('keydown', ev);\n\t  this.emit('key', key, ev);\n\t\n\t  this.handler(key);\n\t\n\t  return cancel(ev);\n\t};\n\t\n\tTerminal.prototype.setgLevel = function(g) {\n\t  this.glevel = g;\n\t  this.charset = this.charsets[g];\n\t};\n\t\n\tTerminal.prototype.setgCharset = function(g, charset) {\n\t  this.charsets[g] = charset;\n\t  if (this.glevel === g) {\n\t    this.charset = charset;\n\t  }\n\t};\n\t\n\tTerminal.prototype.keyPress = function(ev) {\n\t  var key;\n\t\n\t  cancel(ev);\n\t\n\t  if (ev.charCode) {\n\t    key = ev.charCode;\n\t  } else if (ev.which == null) {\n\t    key = ev.keyCode;\n\t  } else if (ev.which !== 0 && ev.charCode !== 0) {\n\t    key = ev.which;\n\t  } else {\n\t    return false;\n\t  }\n\t\n\t  if (!key || ev.ctrlKey || ev.altKey || ev.metaKey) return false;\n\t\n\t  key = String.fromCharCode(key);\n\t\n\t  if (this.prefixMode) {\n\t    this.leavePrefix();\n\t    this.keyPrefix(ev, key);\n\t    return false;\n\t  }\n\t\n\t  if (this.selectMode) {\n\t    this.keySelect(ev, key);\n\t    return false;\n\t  }\n\t\n\t  this.emit('keypress', key, ev);\n\t  this.emit('key', key, ev);\n\t\n\t  this.handler(key);\n\t\n\t  return false;\n\t};\n\t\n\tTerminal.prototype.send = function(data) {\n\t  var self = this;\n\t\n\t  if (!this.queue) {\n\t    setTimeout(function() {\n\t      self.handler(self.queue);\n\t      self.queue = '';\n\t    }, 1);\n\t  }\n\t\n\t  this.queue += data;\n\t};\n\t\n\tTerminal.prototype.bell = function() {\n\t  this.emit('bell');\n\t  if (!this.visualBell) return;\n\t  var self = this;\n\t  this.element.style.borderColor = 'white';\n\t  setTimeout(function() {\n\t    self.element.style.borderColor = '';\n\t  }, 10);\n\t  if (this.popOnBell) this.focus();\n\t};\n\t\n\tTerminal.prototype.log = function() {\n\t  if (!this.debug) return;\n\t  if (!this.context.console || !this.context.console.log) return;\n\t  var args = Array.prototype.slice.call(arguments);\n\t  this.context.console.log.apply(this.context.console, args);\n\t};\n\t\n\tTerminal.prototype.error = function() {\n\t  if (!this.debug) return;\n\t  if (!this.context.console || !this.context.console.error) return;\n\t  var args = Array.prototype.slice.call(arguments);\n\t  this.context.console.error.apply(this.context.console, args);\n\t};\n\t\n\tTerminal.prototype.resize = function(x, y) {\n\t  var line\n\t    , el\n\t    , i\n\t    , j\n\t    , ch;\n\t\n\t  if (x < 1) x = 1;\n\t  if (y < 1) y = 1;\n\t\n\t  // resize cols\n\t  j = this.cols;\n\t  if (j < x) {\n\t    ch = [this.defAttr, ' ']; // does xterm use the default attr?\n\t    i = this.lines.length;\n\t    while (i--) {\n\t      while (this.lines[i].length < x) {\n\t        this.lines[i].push(ch);\n\t      }\n\t    }\n\t  } else if (j > x) {\n\t    i = this.lines.length;\n\t    while (i--) {\n\t      while (this.lines[i].length > x) {\n\t        this.lines[i].pop();\n\t      }\n\t    }\n\t  }\n\t  this.setupStops(j);\n\t  this.cols = x;\n\t  this.columns = x;\n\t\n\t  // resize rows\n\t  j = this.rows;\n\t  if (j < y) {\n\t    el = this.element;\n\t    while (j++ < y) {\n\t      if (this.lines.length < y + this.ybase) {\n\t        this.lines.push(this.blankLine());\n\t      }\n\t      if (this.children.length < y) {\n\t        line = this.document.createElement('div');\n\t        el.appendChild(line);\n\t        this.children.push(line);\n\t      }\n\t    }\n\t  } else if (j > y) {\n\t    while (j-- > y) {\n\t      if (this.lines.length > y + this.ybase) {\n\t        this.lines.pop();\n\t      }\n\t      if (this.children.length > y) {\n\t        el = this.children.pop();\n\t        if (!el) continue;\n\t        el.parentNode.removeChild(el);\n\t      }\n\t    }\n\t  }\n\t  this.rows = y;\n\t\n\t  // make sure the cursor stays on screen\n\t  if (this.y >= y) this.y = y - 1;\n\t  if (this.x >= x) this.x = x - 1;\n\t\n\t  this.scrollTop = 0;\n\t  this.scrollBottom = y - 1;\n\t\n\t  this.refresh(0, this.rows - 1);\n\t\n\t  // it's a real nightmare trying\n\t  // to resize the original\n\t  // screen buffer. just set it\n\t  // to null for now.\n\t  this.normal = null;\n\t\n\t  // Act as though we are a node TTY stream:\n\t  this.emit('resize');\n\t};\n\t\n\tTerminal.prototype.updateRange = function(y) {\n\t  if (y < this.refreshStart) this.refreshStart = y;\n\t  if (y > this.refreshEnd) this.refreshEnd = y;\n\t  // if (y > this.refreshEnd) {\n\t  //   this.refreshEnd = y;\n\t  //   if (y > this.rows - 1) {\n\t  //     this.refreshEnd = this.rows - 1;\n\t  //   }\n\t  // }\n\t};\n\t\n\tTerminal.prototype.maxRange = function() {\n\t  this.refreshStart = 0;\n\t  this.refreshEnd = this.rows - 1;\n\t};\n\t\n\tTerminal.prototype.setupStops = function(i) {\n\t  if (i != null) {\n\t    if (!this.tabs[i]) {\n\t      i = this.prevStop(i);\n\t    }\n\t  } else {\n\t    this.tabs = {};\n\t    i = 0;\n\t  }\n\t\n\t  for (; i < this.cols; i += 8) {\n\t    this.tabs[i] = true;\n\t  }\n\t};\n\t\n\tTerminal.prototype.prevStop = function(x) {\n\t  if (x == null) x = this.x;\n\t  while (!this.tabs[--x] && x > 0);\n\t  return x >= this.cols\n\t    ? this.cols - 1\n\t    : x < 0 ? 0 : x;\n\t};\n\t\n\tTerminal.prototype.nextStop = function(x) {\n\t  if (x == null) x = this.x;\n\t  while (!this.tabs[++x] && x < this.cols);\n\t  return x >= this.cols\n\t    ? this.cols - 1\n\t    : x < 0 ? 0 : x;\n\t};\n\t\n\t// back_color_erase feature for xterm.\n\tTerminal.prototype.eraseAttr = function() {\n\t  // if (this.is('screen')) return this.defAttr;\n\t  return (this.defAttr & ~0x1ff) | (this.curAttr & 0x1ff);\n\t};\n\t\n\tTerminal.prototype.eraseRight = function(x, y) {\n\t  var line = this.lines[this.ybase + y]\n\t    , ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t\n\t  for (; x < this.cols; x++) {\n\t    line[x] = ch;\n\t  }\n\t\n\t  this.updateRange(y);\n\t};\n\t\n\tTerminal.prototype.eraseLeft = function(x, y) {\n\t  var line = this.lines[this.ybase + y]\n\t    , ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t  x++;\n\t  while (x--) line[x] = ch;\n\t\n\t  this.updateRange(y);\n\t};\n\t\n\tTerminal.prototype.eraseLine = function(y) {\n\t  this.eraseRight(0, y);\n\t};\n\t\n\tTerminal.prototype.blankLine = function(cur) {\n\t  var attr = cur\n\t    ? this.eraseAttr()\n\t    : this.defAttr;\n\t\n\t  var ch = [attr, ' ']\n\t    , line = []\n\t    , i = 0;\n\t\n\t  for (; i < this.cols; i++) {\n\t    line[i] = ch;\n\t  }\n\t\n\t  return line;\n\t};\n\t\n\tTerminal.prototype.ch = function(cur) {\n\t  return cur\n\t    ? [this.eraseAttr(), ' ']\n\t    : [this.defAttr, ' '];\n\t};\n\t\n\tTerminal.prototype.is = function(term) {\n\t  var name = this.termName;\n\t  return (name + '').indexOf(term) === 0;\n\t};\n\t\n\tTerminal.prototype.handler = function(data) {\n\t  this.emit('data', data);\n\t};\n\t\n\tTerminal.prototype.handleTitle = function(title) {\n\t  this.emit('title', title);\n\t};\n\t\n\t/**\n\t * ESC\n\t */\n\t\n\t// ESC D Index (IND is 0x84).\n\tTerminal.prototype.index = function() {\n\t  this.y++;\n\t  if (this.y > this.scrollBottom) {\n\t    this.y--;\n\t    this.scroll();\n\t  }\n\t  this.state = normal;\n\t};\n\t\n\t// ESC M Reverse Index (RI is 0x8d).\n\tTerminal.prototype.reverseIndex = function() {\n\t  var j;\n\t  this.y--;\n\t  if (this.y < this.scrollTop) {\n\t    this.y++;\n\t    // possibly move the code below to term.reverseScroll();\n\t    // test: echo -ne '\\e[1;1H\\e[44m\\eM\\e[0m'\n\t    // blankLine(true) is xterm/linux behavior\n\t    this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));\n\t    j = this.rows - 1 - this.scrollBottom;\n\t    this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);\n\t    // this.maxRange();\n\t    this.updateRange(this.scrollTop);\n\t    this.updateRange(this.scrollBottom);\n\t  }\n\t  this.state = normal;\n\t};\n\t\n\t// ESC c Full Reset (RIS).\n\tTerminal.prototype.reset = function() {\n\t  this.options.rows = this.rows;\n\t  this.options.cols = this.cols;\n\t  Terminal.call(this, this.options);\n\t  this.refresh(0, this.rows - 1);\n\t};\n\t\n\t// ESC H Tab Set (HTS is 0x88).\n\tTerminal.prototype.tabSet = function() {\n\t  this.tabs[this.x] = true;\n\t  this.state = normal;\n\t};\n\t\n\t/**\n\t * CSI\n\t */\n\t\n\t// CSI Ps A\n\t// Cursor Up Ps Times (default = 1) (CUU).\n\tTerminal.prototype.cursorUp = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.y -= param;\n\t  if (this.y < 0) this.y = 0;\n\t};\n\t\n\t// CSI Ps B\n\t// Cursor Down Ps Times (default = 1) (CUD).\n\tTerminal.prototype.cursorDown = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.y += param;\n\t  if (this.y >= this.rows) {\n\t    this.y = this.rows - 1;\n\t  }\n\t};\n\t\n\t// CSI Ps C\n\t// Cursor Forward Ps Times (default = 1) (CUF).\n\tTerminal.prototype.cursorForward = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.x += param;\n\t  if (this.x >= this.cols) {\n\t    this.x = this.cols - 1;\n\t  }\n\t};\n\t\n\t// CSI Ps D\n\t// Cursor Backward Ps Times (default = 1) (CUB).\n\tTerminal.prototype.cursorBackward = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.x -= param;\n\t  if (this.x < 0) this.x = 0;\n\t};\n\t\n\t// CSI Ps ; Ps H\n\t// Cursor Position [row;column] (default = [1,1]) (CUP).\n\tTerminal.prototype.cursorPos = function(params) {\n\t  var row, col;\n\t\n\t  row = params[0] - 1;\n\t\n\t  if (params.length >= 2) {\n\t    col = params[1] - 1;\n\t  } else {\n\t    col = 0;\n\t  }\n\t\n\t  if (row < 0) {\n\t    row = 0;\n\t  } else if (row >= this.rows) {\n\t    row = this.rows - 1;\n\t  }\n\t\n\t  if (col < 0) {\n\t    col = 0;\n\t  } else if (col >= this.cols) {\n\t    col = this.cols - 1;\n\t  }\n\t\n\t  this.x = col;\n\t  this.y = row;\n\t};\n\t\n\t// CSI Ps J  Erase in Display (ED).\n\t//     Ps = 0  -> Erase Below (default).\n\t//     Ps = 1  -> Erase Above.\n\t//     Ps = 2  -> Erase All.\n\t//     Ps = 3  -> Erase Saved Lines (xterm).\n\t// CSI ? Ps J\n\t//   Erase in Display (DECSED).\n\t//     Ps = 0  -> Selective Erase Below (default).\n\t//     Ps = 1  -> Selective Erase Above.\n\t//     Ps = 2  -> Selective Erase All.\n\tTerminal.prototype.eraseInDisplay = function(params) {\n\t  var j;\n\t  switch (params[0]) {\n\t    case 0:\n\t      this.eraseRight(this.x, this.y);\n\t      j = this.y + 1;\n\t      for (; j < this.rows; j++) {\n\t        this.eraseLine(j);\n\t      }\n\t      break;\n\t    case 1:\n\t      this.eraseLeft(this.x, this.y);\n\t      j = this.y;\n\t      while (j--) {\n\t        this.eraseLine(j);\n\t      }\n\t      break;\n\t    case 2:\n\t      j = this.rows;\n\t      while (j--) this.eraseLine(j);\n\t      break;\n\t    case 3:\n\t      ; // no saved lines\n\t      break;\n\t  }\n\t};\n\t\n\t// CSI Ps K  Erase in Line (EL).\n\t//     Ps = 0  -> Erase to Right (default).\n\t//     Ps = 1  -> Erase to Left.\n\t//     Ps = 2  -> Erase All.\n\t// CSI ? Ps K\n\t//   Erase in Line (DECSEL).\n\t//     Ps = 0  -> Selective Erase to Right (default).\n\t//     Ps = 1  -> Selective Erase to Left.\n\t//     Ps = 2  -> Selective Erase All.\n\tTerminal.prototype.eraseInLine = function(params) {\n\t  switch (params[0]) {\n\t    case 0:\n\t      this.eraseRight(this.x, this.y);\n\t      break;\n\t    case 1:\n\t      this.eraseLeft(this.x, this.y);\n\t      break;\n\t    case 2:\n\t      this.eraseLine(this.y);\n\t      break;\n\t  }\n\t};\n\t\n\t// CSI Pm m  Character Attributes (SGR).\n\t//     Ps = 0  -> Normal (default).\n\t//     Ps = 1  -> Bold.\n\t//     Ps = 4  -> Underlined.\n\t//     Ps = 5  -> Blink (appears as Bold).\n\t//     Ps = 7  -> Inverse.\n\t//     Ps = 8  -> Invisible, i.e., hidden (VT300).\n\t//     Ps = 2 2  -> Normal (neither bold nor faint).\n\t//     Ps = 2 4  -> Not underlined.\n\t//     Ps = 2 5  -> Steady (not blinking).\n\t//     Ps = 2 7  -> Positive (not inverse).\n\t//     Ps = 2 8  -> Visible, i.e., not hidden (VT300).\n\t//     Ps = 3 0  -> Set foreground color to Black.\n\t//     Ps = 3 1  -> Set foreground color to Red.\n\t//     Ps = 3 2  -> Set foreground color to Green.\n\t//     Ps = 3 3  -> Set foreground color to Yellow.\n\t//     Ps = 3 4  -> Set foreground color to Blue.\n\t//     Ps = 3 5  -> Set foreground color to Magenta.\n\t//     Ps = 3 6  -> Set foreground color to Cyan.\n\t//     Ps = 3 7  -> Set foreground color to White.\n\t//     Ps = 3 9  -> Set foreground color to default (original).\n\t//     Ps = 4 0  -> Set background color to Black.\n\t//     Ps = 4 1  -> Set background color to Red.\n\t//     Ps = 4 2  -> Set background color to Green.\n\t//     Ps = 4 3  -> Set background color to Yellow.\n\t//     Ps = 4 4  -> Set background color to Blue.\n\t//     Ps = 4 5  -> Set background color to Magenta.\n\t//     Ps = 4 6  -> Set background color to Cyan.\n\t//     Ps = 4 7  -> Set background color to White.\n\t//     Ps = 4 9  -> Set background color to default (original).\n\t\n\t//   If 16-color support is compiled, the following apply.  Assume\n\t//   that xterm's resources are set so that the ISO color codes are\n\t//   the first 8 of a set of 16.  Then the aixterm colors are the\n\t//   bright versions of the ISO colors:\n\t//     Ps = 9 0  -> Set foreground color to Black.\n\t//     Ps = 9 1  -> Set foreground color to Red.\n\t//     Ps = 9 2  -> Set foreground color to Green.\n\t//     Ps = 9 3  -> Set foreground color to Yellow.\n\t//     Ps = 9 4  -> Set foreground color to Blue.\n\t//     Ps = 9 5  -> Set foreground color to Magenta.\n\t//     Ps = 9 6  -> Set foreground color to Cyan.\n\t//     Ps = 9 7  -> Set foreground color to White.\n\t//     Ps = 1 0 0  -> Set background color to Black.\n\t//     Ps = 1 0 1  -> Set background color to Red.\n\t//     Ps = 1 0 2  -> Set background color to Green.\n\t//     Ps = 1 0 3  -> Set background color to Yellow.\n\t//     Ps = 1 0 4  -> Set background color to Blue.\n\t//     Ps = 1 0 5  -> Set background color to Magenta.\n\t//     Ps = 1 0 6  -> Set background color to Cyan.\n\t//     Ps = 1 0 7  -> Set background color to White.\n\t\n\t//   If xterm is compiled with the 16-color support disabled, it\n\t//   supports the following, from rxvt:\n\t//     Ps = 1 0 0  -> Set foreground and background color to\n\t//     default.\n\t\n\t//   If 88- or 256-color support is compiled, the following apply.\n\t//     Ps = 3 8  ; 5  ; Ps -> Set foreground color to the second\n\t//     Ps.\n\t//     Ps = 4 8  ; 5  ; Ps -> Set background color to the second\n\t//     Ps.\n\tTerminal.prototype.charAttributes = function(params) {\n\t  // Optimize a single SGR0.\n\t  if (params.length === 1 && params[0] === 0) {\n\t    this.curAttr = this.defAttr;\n\t    return;\n\t  }\n\t\n\t  var l = params.length\n\t    , i = 0\n\t    , flags = this.curAttr >> 18\n\t    , fg = (this.curAttr >> 9) & 0x1ff\n\t    , bg = this.curAttr & 0x1ff\n\t    , p;\n\t\n\t  for (; i < l; i++) {\n\t    p = params[i];\n\t    if (p >= 30 && p <= 37) {\n\t      // fg color 8\n\t      fg = p - 30;\n\t    } else if (p >= 40 && p <= 47) {\n\t      // bg color 8\n\t      bg = p - 40;\n\t    } else if (p >= 90 && p <= 97) {\n\t      // fg color 16\n\t      p += 8;\n\t      fg = p - 90;\n\t    } else if (p >= 100 && p <= 107) {\n\t      // bg color 16\n\t      p += 8;\n\t      bg = p - 100;\n\t    } else if (p === 0) {\n\t      // default\n\t      flags = this.defAttr >> 18;\n\t      fg = (this.defAttr >> 9) & 0x1ff;\n\t      bg = this.defAttr & 0x1ff;\n\t      // flags = 0;\n\t      // fg = 0x1ff;\n\t      // bg = 0x1ff;\n\t    } else if (p === 1) {\n\t      // bold text\n\t      flags |= 1;\n\t    } else if (p === 4) {\n\t      // underlined text\n\t      flags |= 2;\n\t    } else if (p === 5) {\n\t      // blink\n\t      flags |= 4;\n\t    } else if (p === 7) {\n\t      // inverse and positive\n\t      // test with: echo -e '\\e[31m\\e[42mhello\\e[7mworld\\e[27mhi\\e[m'\n\t      flags |= 8;\n\t    } else if (p === 8) {\n\t      // invisible\n\t      flags |= 16;\n\t    } else if (p === 22) {\n\t      // not bold\n\t      flags &= ~1;\n\t    } else if (p === 24) {\n\t      // not underlined\n\t      flags &= ~2;\n\t    } else if (p === 25) {\n\t      // not blink\n\t      flags &= ~4;\n\t    } else if (p === 27) {\n\t      // not inverse\n\t      flags &= ~8;\n\t    } else if (p === 28) {\n\t      // not invisible\n\t      flags &= ~16;\n\t    } else if (p === 39) {\n\t      // reset fg\n\t      fg = (this.defAttr >> 9) & 0x1ff;\n\t    } else if (p === 49) {\n\t      // reset bg\n\t      bg = this.defAttr & 0x1ff;\n\t    } else if (p === 38) {\n\t      // fg color 256\n\t      if (params[i + 1] === 2) {\n\t        i += 2;\n\t        fg = matchColor(\n\t          params[i] & 0xff,\n\t          params[i + 1] & 0xff,\n\t          params[i + 2] & 0xff);\n\t        if (fg === -1) fg = 0x1ff;\n\t        i += 2;\n\t      } else if (params[i + 1] === 5) {\n\t        i += 2;\n\t        p = params[i] & 0xff;\n\t        fg = p;\n\t      }\n\t    } else if (p === 48) {\n\t      // bg color 256\n\t      if (params[i + 1] === 2) {\n\t        i += 2;\n\t        bg = matchColor(\n\t          params[i] & 0xff,\n\t          params[i + 1] & 0xff,\n\t          params[i + 2] & 0xff);\n\t        if (bg === -1) bg = 0x1ff;\n\t        i += 2;\n\t      } else if (params[i + 1] === 5) {\n\t        i += 2;\n\t        p = params[i] & 0xff;\n\t        bg = p;\n\t      }\n\t    } else if (p === 100) {\n\t      // reset fg/bg\n\t      fg = (this.defAttr >> 9) & 0x1ff;\n\t      bg = this.defAttr & 0x1ff;\n\t    } else {\n\t      this.error('Unknown SGR attribute: %d.', p);\n\t    }\n\t  }\n\t\n\t  this.curAttr = (flags << 18) | (fg << 9) | bg;\n\t};\n\t\n\t// CSI Ps n  Device Status Report (DSR).\n\t//     Ps = 5  -> Status Report.  Result (``OK'') is\n\t//   CSI 0 n\n\t//     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n\t//   Result is\n\t//   CSI r ; c R\n\t// CSI ? Ps n\n\t//   Device Status Report (DSR, DEC-specific).\n\t//     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n\t//     ? r ; c R (assumes page is zero).\n\t//     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n\t//     or CSI ? 1 1  n  (not ready).\n\t//     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n\t//     or CSI ? 2 1  n  (locked).\n\t//     Ps = 2 6  -> Report Keyboard status as\n\t//   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n\t//   The last two parameters apply to VT400 & up, and denote key-\n\t//   board ready and LK01 respectively.\n\t//     Ps = 5 3  -> Report Locator status as\n\t//   CSI ? 5 3  n  Locator available, if compiled-in, or\n\t//   CSI ? 5 0  n  No Locator, if not.\n\tTerminal.prototype.deviceStatus = function(params) {\n\t  if (!this.prefix) {\n\t    switch (params[0]) {\n\t      case 5:\n\t        // status report\n\t        this.send('\\x1b[0n');\n\t        break;\n\t      case 6:\n\t        // cursor position\n\t        this.send('\\x1b['\n\t          + (this.y + 1)\n\t          + ';'\n\t          + (this.x + 1)\n\t          + 'R');\n\t        break;\n\t    }\n\t  } else if (this.prefix === '?') {\n\t    // modern xterm doesnt seem to\n\t    // respond to any of these except ?6, 6, and 5\n\t    switch (params[0]) {\n\t      case 6:\n\t        // cursor position\n\t        this.send('\\x1b[?'\n\t          + (this.y + 1)\n\t          + ';'\n\t          + (this.x + 1)\n\t          + 'R');\n\t        break;\n\t      case 15:\n\t        // no printer\n\t        // this.send('\\x1b[?11n');\n\t        break;\n\t      case 25:\n\t        // dont support user defined keys\n\t        // this.send('\\x1b[?21n');\n\t        break;\n\t      case 26:\n\t        // north american keyboard\n\t        // this.send('\\x1b[?27;1;0;0n');\n\t        break;\n\t      case 53:\n\t        // no dec locator/mouse\n\t        // this.send('\\x1b[?50n');\n\t        break;\n\t    }\n\t  }\n\t};\n\t\n\t/**\n\t * Additions\n\t */\n\t\n\t// CSI Ps @\n\t// Insert Ps (Blank) Character(s) (default = 1) (ICH).\n\tTerminal.prototype.insertChars = function(params) {\n\t  var param, row, j, ch;\n\t\n\t  param = params[0];\n\t  if (param < 1) param = 1;\n\t\n\t  row = this.y + this.ybase;\n\t  j = this.x;\n\t  ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t  while (param-- && j < this.cols) {\n\t    this.lines[row].splice(j++, 0, ch);\n\t    this.lines[row].pop();\n\t  }\n\t};\n\t\n\t// CSI Ps E\n\t// Cursor Next Line Ps Times (default = 1) (CNL).\n\t// same as CSI Ps B ?\n\tTerminal.prototype.cursorNextLine = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.y += param;\n\t  if (this.y >= this.rows) {\n\t    this.y = this.rows - 1;\n\t  }\n\t  this.x = 0;\n\t};\n\t\n\t// CSI Ps F\n\t// Cursor Preceding Line Ps Times (default = 1) (CNL).\n\t// reuse CSI Ps A ?\n\tTerminal.prototype.cursorPrecedingLine = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.y -= param;\n\t  if (this.y < 0) this.y = 0;\n\t  this.x = 0;\n\t};\n\t\n\t// CSI Ps G\n\t// Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n\tTerminal.prototype.cursorCharAbsolute = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.x = param - 1;\n\t};\n\t\n\t// CSI Ps L\n\t// Insert Ps Line(s) (default = 1) (IL).\n\tTerminal.prototype.insertLines = function(params) {\n\t  var param, row, j;\n\t\n\t  param = params[0];\n\t  if (param < 1) param = 1;\n\t  row = this.y + this.ybase;\n\t\n\t  j = this.rows - 1 - this.scrollBottom;\n\t  j = this.rows - 1 + this.ybase - j + 1;\n\t\n\t  while (param--) {\n\t    // test: echo -e '\\e[44m\\e[1L\\e[0m'\n\t    // blankLine(true) - xterm/linux behavior\n\t    this.lines.splice(row, 0, this.blankLine(true));\n\t    this.lines.splice(j, 1);\n\t  }\n\t\n\t  // this.maxRange();\n\t  this.updateRange(this.y);\n\t  this.updateRange(this.scrollBottom);\n\t};\n\t\n\t// CSI Ps M\n\t// Delete Ps Line(s) (default = 1) (DL).\n\tTerminal.prototype.deleteLines = function(params) {\n\t  var param, row, j;\n\t\n\t  param = params[0];\n\t  if (param < 1) param = 1;\n\t  row = this.y + this.ybase;\n\t\n\t  j = this.rows - 1 - this.scrollBottom;\n\t  j = this.rows - 1 + this.ybase - j;\n\t\n\t  while (param--) {\n\t    // test: echo -e '\\e[44m\\e[1M\\e[0m'\n\t    // blankLine(true) - xterm/linux behavior\n\t    this.lines.splice(j + 1, 0, this.blankLine(true));\n\t    this.lines.splice(row, 1);\n\t  }\n\t\n\t  // this.maxRange();\n\t  this.updateRange(this.y);\n\t  this.updateRange(this.scrollBottom);\n\t};\n\t\n\t// CSI Ps P\n\t// Delete Ps Character(s) (default = 1) (DCH).\n\tTerminal.prototype.deleteChars = function(params) {\n\t  var param, row, ch;\n\t\n\t  param = params[0];\n\t  if (param < 1) param = 1;\n\t\n\t  row = this.y + this.ybase;\n\t  ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t  while (param--) {\n\t    this.lines[row].splice(this.x, 1);\n\t    this.lines[row].push(ch);\n\t  }\n\t};\n\t\n\t// CSI Ps X\n\t// Erase Ps Character(s) (default = 1) (ECH).\n\tTerminal.prototype.eraseChars = function(params) {\n\t  var param, row, j, ch;\n\t\n\t  param = params[0];\n\t  if (param < 1) param = 1;\n\t\n\t  row = this.y + this.ybase;\n\t  j = this.x;\n\t  ch = [this.eraseAttr(), ' ']; // xterm\n\t\n\t  while (param-- && j < this.cols) {\n\t    this.lines[row][j++] = ch;\n\t  }\n\t};\n\t\n\t// CSI Pm `  Character Position Absolute\n\t//   [column] (default = [row,1]) (HPA).\n\tTerminal.prototype.charPosAbsolute = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.x = param - 1;\n\t  if (this.x >= this.cols) {\n\t    this.x = this.cols - 1;\n\t  }\n\t};\n\t\n\t// 141 61 a * HPR -\n\t// Horizontal Position Relative\n\t// reuse CSI Ps C ?\n\tTerminal.prototype.HPositionRelative = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.x += param;\n\t  if (this.x >= this.cols) {\n\t    this.x = this.cols - 1;\n\t  }\n\t};\n\t\n\t// CSI Ps c  Send Device Attributes (Primary DA).\n\t//     Ps = 0  or omitted -> request attributes from terminal.  The\n\t//     response depends on the decTerminalID resource setting.\n\t//     -> CSI ? 1 ; 2 c  (``VT100 with Advanced Video Option'')\n\t//     -> CSI ? 1 ; 0 c  (``VT101 with No Options'')\n\t//     -> CSI ? 6 c  (``VT102'')\n\t//     -> CSI ? 6 0 ; 1 ; 2 ; 6 ; 8 ; 9 ; 1 5 ; c  (``VT220'')\n\t//   The VT100-style response parameters do not mean anything by\n\t//   themselves.  VT220 parameters do, telling the host what fea-\n\t//   tures the terminal supports:\n\t//     Ps = 1  -> 132-columns.\n\t//     Ps = 2  -> Printer.\n\t//     Ps = 6  -> Selective erase.\n\t//     Ps = 8  -> User-defined keys.\n\t//     Ps = 9  -> National replacement character sets.\n\t//     Ps = 1 5  -> Technical characters.\n\t//     Ps = 2 2  -> ANSI color, e.g., VT525.\n\t//     Ps = 2 9  -> ANSI text locator (i.e., DEC Locator mode).\n\t// CSI > Ps c\n\t//   Send Device Attributes (Secondary DA).\n\t//     Ps = 0  or omitted -> request the terminal's identification\n\t//     code.  The response depends on the decTerminalID resource set-\n\t//     ting.  It should apply only to VT220 and up, but xterm extends\n\t//     this to VT100.\n\t//     -> CSI  > Pp ; Pv ; Pc c\n\t//   where Pp denotes the terminal type\n\t//     Pp = 0  -> ``VT100''.\n\t//     Pp = 1  -> ``VT220''.\n\t//   and Pv is the firmware version (for xterm, this was originally\n\t//   the XFree86 patch number, starting with 95).  In a DEC termi-\n\t//   nal, Pc indicates the ROM cartridge registration number and is\n\t//   always zero.\n\t// More information:\n\t//   xterm/charproc.c - line 2012, for more information.\n\t//   vim responds with ^[[?0c or ^[[?1c after the terminal's response (?)\n\tTerminal.prototype.sendDeviceAttributes = function(params) {\n\t  if (params[0] > 0) return;\n\t\n\t  if (!this.prefix) {\n\t    if (this.is('xterm')\n\t        || this.is('rxvt-unicode')\n\t        || this.is('screen')) {\n\t      this.send('\\x1b[?1;2c');\n\t    } else if (this.is('linux')) {\n\t      this.send('\\x1b[?6c');\n\t    }\n\t  } else if (this.prefix === '>') {\n\t    // xterm and urxvt\n\t    // seem to spit this\n\t    // out around ~370 times (?).\n\t    if (this.is('xterm')) {\n\t      this.send('\\x1b[>0;276;0c');\n\t    } else if (this.is('rxvt-unicode')) {\n\t      this.send('\\x1b[>85;95;0c');\n\t    } else if (this.is('linux')) {\n\t      // not supported by linux console.\n\t      // linux console echoes parameters.\n\t      this.send(params[0] + 'c');\n\t    } else if (this.is('screen')) {\n\t      this.send('\\x1b[>83;40003;0c');\n\t    }\n\t  }\n\t};\n\t\n\t// CSI Pm d\n\t// Line Position Absolute  [row] (default = [1,column]) (VPA).\n\tTerminal.prototype.linePosAbsolute = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.y = param - 1;\n\t  if (this.y >= this.rows) {\n\t    this.y = this.rows - 1;\n\t  }\n\t};\n\t\n\t// 145 65 e * VPR - Vertical Position Relative\n\t// reuse CSI Ps B ?\n\tTerminal.prototype.VPositionRelative = function(params) {\n\t  var param = params[0];\n\t  if (param < 1) param = 1;\n\t  this.y += param;\n\t  if (this.y >= this.rows) {\n\t    this.y = this.rows - 1;\n\t  }\n\t};\n\t\n\t// CSI Ps ; Ps f\n\t//   Horizontal and Vertical Position [row;column] (default =\n\t//   [1,1]) (HVP).\n\tTerminal.prototype.HVPosition = function(params) {\n\t  if (params[0] < 1) params[0] = 1;\n\t  if (params[1] < 1) params[1] = 1;\n\t\n\t  this.y = params[0] - 1;\n\t  if (this.y >= this.rows) {\n\t    this.y = this.rows - 1;\n\t  }\n\t\n\t  this.x = params[1] - 1;\n\t  if (this.x >= this.cols) {\n\t    this.x = this.cols - 1;\n\t  }\n\t};\n\t\n\t// CSI Pm h  Set Mode (SM).\n\t//     Ps = 2  -> Keyboard Action Mode (AM).\n\t//     Ps = 4  -> Insert Mode (IRM).\n\t//     Ps = 1 2  -> Send/receive (SRM).\n\t//     Ps = 2 0  -> Automatic Newline (LNM).\n\t// CSI ? Pm h\n\t//   DEC Private Mode Set (DECSET).\n\t//     Ps = 1  -> Application Cursor Keys (DECCKM).\n\t//     Ps = 2  -> Designate USASCII for character sets G0-G3\n\t//     (DECANM), and set VT100 mode.\n\t//     Ps = 3  -> 132 Column Mode (DECCOLM).\n\t//     Ps = 4  -> Smooth (Slow) Scroll (DECSCLM).\n\t//     Ps = 5  -> Reverse Video (DECSCNM).\n\t//     Ps = 6  -> Origin Mode (DECOM).\n\t//     Ps = 7  -> Wraparound Mode (DECAWM).\n\t//     Ps = 8  -> Auto-repeat Keys (DECARM).\n\t//     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n\t//     tion Mouse Tracking.\n\t//     Ps = 1 0  -> Show toolbar (rxvt).\n\t//     Ps = 1 2  -> Start Blinking Cursor (att610).\n\t//     Ps = 1 8  -> Print form feed (DECPFF).\n\t//     Ps = 1 9  -> Set print extent to full screen (DECPEX).\n\t//     Ps = 2 5  -> Show Cursor (DECTCEM).\n\t//     Ps = 3 0  -> Show scrollbar (rxvt).\n\t//     Ps = 3 5  -> Enable font-shifting functions (rxvt).\n\t//     Ps = 3 8  -> Enter Tektronix Mode (DECTEK).\n\t//     Ps = 4 0  -> Allow 80 -> 132 Mode.\n\t//     Ps = 4 1  -> more(1) fix (see curses resource).\n\t//     Ps = 4 2  -> Enable Nation Replacement Character sets (DECN-\n\t//     RCM).\n\t//     Ps = 4 4  -> Turn On Margin Bell.\n\t//     Ps = 4 5  -> Reverse-wraparound Mode.\n\t//     Ps = 4 6  -> Start Logging.  This is normally disabled by a\n\t//     compile-time option.\n\t//     Ps = 4 7  -> Use Alternate Screen Buffer.  (This may be dis-\n\t//     abled by the titeInhibit resource).\n\t//     Ps = 6 6  -> Application keypad (DECNKM).\n\t//     Ps = 6 7  -> Backarrow key sends backspace (DECBKM).\n\t//     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n\t//     release.  See the section Mouse Tracking.\n\t//     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n\t//     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n\t//     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n\t//     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n\t//     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n\t//     Ps = 1 0 1 0  -> Scroll to bottom on tty output (rxvt).\n\t//     Ps = 1 0 1 1  -> Scroll to bottom on key press (rxvt).\n\t//     Ps = 1 0 3 4  -> Interpret \"meta\" key, sets eighth bit.\n\t//     (enables the eightBitInput resource).\n\t//     Ps = 1 0 3 5  -> Enable special modifiers for Alt and Num-\n\t//     Lock keys.  (This enables the numLock resource).\n\t//     Ps = 1 0 3 6  -> Send ESC   when Meta modifies a key.  (This\n\t//     enables the metaSendsEscape resource).\n\t//     Ps = 1 0 3 7  -> Send DEL from the editing-keypad Delete\n\t//     key.\n\t//     Ps = 1 0 3 9  -> Send ESC  when Alt modifies a key.  (This\n\t//     enables the altSendsEscape resource).\n\t//     Ps = 1 0 4 0  -> Keep selection even if not highlighted.\n\t//     (This enables the keepSelection resource).\n\t//     Ps = 1 0 4 1  -> Use the CLIPBOARD selection.  (This enables\n\t//     the selectToClipboard resource).\n\t//     Ps = 1 0 4 2  -> Enable Urgency window manager hint when\n\t//     Control-G is received.  (This enables the bellIsUrgent\n\t//     resource).\n\t//     Ps = 1 0 4 3  -> Enable raising of the window when Control-G\n\t//     is received.  (enables the popOnBell resource).\n\t//     Ps = 1 0 4 7  -> Use Alternate Screen Buffer.  (This may be\n\t//     disabled by the titeInhibit resource).\n\t//     Ps = 1 0 4 8  -> Save cursor as in DECSC.  (This may be dis-\n\t//     abled by the titeInhibit resource).\n\t//     Ps = 1 0 4 9  -> Save cursor as in DECSC and use Alternate\n\t//     Screen Buffer, clearing it first.  (This may be disabled by\n\t//     the titeInhibit resource).  This combines the effects of the 1\n\t//     0 4 7  and 1 0 4 8  modes.  Use this with terminfo-based\n\t//     applications rather than the 4 7  mode.\n\t//     Ps = 1 0 5 0  -> Set terminfo/termcap function-key mode.\n\t//     Ps = 1 0 5 1  -> Set Sun function-key mode.\n\t//     Ps = 1 0 5 2  -> Set HP function-key mode.\n\t//     Ps = 1 0 5 3  -> Set SCO function-key mode.\n\t//     Ps = 1 0 6 0  -> Set legacy keyboard emulation (X11R6).\n\t//     Ps = 1 0 6 1  -> Set VT220 keyboard emulation.\n\t//     Ps = 2 0 0 4  -> Set bracketed paste mode.\n\t// Modes:\n\t//   http://vt100.net/docs/vt220-rm/chapter4.html\n\tTerminal.prototype.setMode = function(params) {\n\t  if (typeof params === 'object') {\n\t    var l = params.length\n\t      , i = 0;\n\t\n\t    for (; i < l; i++) {\n\t      this.setMode(params[i]);\n\t    }\n\t\n\t    return;\n\t  }\n\t\n\t  if (!this.prefix) {\n\t    switch (params) {\n\t      case 4:\n\t        this.insertMode = true;\n\t        break;\n\t      case 20:\n\t        //this.convertEol = true;\n\t        break;\n\t    }\n\t  } else if (this.prefix === '?') {\n\t    switch (params) {\n\t      case 1:\n\t        this.applicationCursor = true;\n\t        break;\n\t      case 2:\n\t        this.setgCharset(0, Terminal.charsets.US);\n\t        this.setgCharset(1, Terminal.charsets.US);\n\t        this.setgCharset(2, Terminal.charsets.US);\n\t        this.setgCharset(3, Terminal.charsets.US);\n\t        // set VT100 mode here\n\t        break;\n\t      case 3: // 132 col mode\n\t        this.savedCols = this.cols;\n\t        this.resize(132, this.rows);\n\t        break;\n\t      case 6:\n\t        this.originMode = true;\n\t        break;\n\t      case 7:\n\t        this.wraparoundMode = true;\n\t        break;\n\t      case 66:\n\t        this.log('Serial port requested application keypad.');\n\t        this.applicationKeypad = true;\n\t        break;\n\t      case 9: // X10 Mouse\n\t        // no release, no motion, no wheel, no modifiers.\n\t      case 1000: // vt200 mouse\n\t        // no motion.\n\t        // no modifiers, except control on the wheel.\n\t      case 1002: // button event mouse\n\t      case 1003: // any event mouse\n\t        // any event - sends motion events,\n\t        // even if there is no button held down.\n\t        this.x10Mouse = params === 9;\n\t        this.vt200Mouse = params === 1000;\n\t        this.normalMouse = params > 1000;\n\t        this.mouseEvents = true;\n\t        this.element.style.cursor = 'default';\n\t        this.log('Binding to mouse events.');\n\t        break;\n\t      case 1004: // send focusin/focusout events\n\t        // focusin: ^[[I\n\t        // focusout: ^[[O\n\t        this.sendFocus = true;\n\t        break;\n\t      case 1005: // utf8 ext mode mouse\n\t        this.utfMouse = true;\n\t        // for wide terminals\n\t        // simply encodes large values as utf8 characters\n\t        break;\n\t      case 1006: // sgr ext mode mouse\n\t        this.sgrMouse = true;\n\t        // for wide terminals\n\t        // does not add 32 to fields\n\t        // press: ^[[<b;x;yM\n\t        // release: ^[[<b;x;ym\n\t        break;\n\t      case 1015: // urxvt ext mode mouse\n\t        this.urxvtMouse = true;\n\t        // for wide terminals\n\t        // numbers for fields\n\t        // press: ^[[b;x;yM\n\t        // motion: ^[[b;x;yT\n\t        break;\n\t      case 25: // show cursor\n\t        this.cursorHidden = false;\n\t        break;\n\t      case 1049: // alt screen buffer cursor\n\t        //this.saveCursor();\n\t        ; // FALL-THROUGH\n\t      case 47: // alt screen buffer\n\t      case 1047: // alt screen buffer\n\t        if (!this.normal) {\n\t          var normal = {\n\t            lines: this.lines,\n\t            ybase: this.ybase,\n\t            ydisp: this.ydisp,\n\t            x: this.x,\n\t            y: this.y,\n\t            scrollTop: this.scrollTop,\n\t            scrollBottom: this.scrollBottom,\n\t            tabs: this.tabs\n\t            // XXX save charset(s) here?\n\t            // charset: this.charset,\n\t            // glevel: this.glevel,\n\t            // charsets: this.charsets\n\t          };\n\t          this.reset();\n\t          this.normal = normal;\n\t        }\n\t        break;\n\t    }\n\t  }\n\t};\n\t\n\t// CSI Pm l  Reset Mode (RM).\n\t//     Ps = 2  -> Keyboard Action Mode (AM).\n\t//     Ps = 4  -> Replace Mode (IRM).\n\t//     Ps = 1 2  -> Send/receive (SRM).\n\t//     Ps = 2 0  -> Normal Linefeed (LNM).\n\t// CSI ? Pm l\n\t//   DEC Private Mode Reset (DECRST).\n\t//     Ps = 1  -> Normal Cursor Keys (DECCKM).\n\t//     Ps = 2  -> Designate VT52 mode (DECANM).\n\t//     Ps = 3  -> 80 Column Mode (DECCOLM).\n\t//     Ps = 4  -> Jump (Fast) Scroll (DECSCLM).\n\t//     Ps = 5  -> Normal Video (DECSCNM).\n\t//     Ps = 6  -> Normal Cursor Mode (DECOM).\n\t//     Ps = 7  -> No Wraparound Mode (DECAWM).\n\t//     Ps = 8  -> No Auto-repeat Keys (DECARM).\n\t//     Ps = 9  -> Don't send Mouse X & Y on button press.\n\t//     Ps = 1 0  -> Hide toolbar (rxvt).\n\t//     Ps = 1 2  -> Stop Blinking Cursor (att610).\n\t//     Ps = 1 8  -> Don't print form feed (DECPFF).\n\t//     Ps = 1 9  -> Limit print to scrolling region (DECPEX).\n\t//     Ps = 2 5  -> Hide Cursor (DECTCEM).\n\t//     Ps = 3 0  -> Don't show scrollbar (rxvt).\n\t//     Ps = 3 5  -> Disable font-shifting functions (rxvt).\n\t//     Ps = 4 0  -> Disallow 80 -> 132 Mode.\n\t//     Ps = 4 1  -> No more(1) fix (see curses resource).\n\t//     Ps = 4 2  -> Disable Nation Replacement Character sets (DEC-\n\t//     NRCM).\n\t//     Ps = 4 4  -> Turn Off Margin Bell.\n\t//     Ps = 4 5  -> No Reverse-wraparound Mode.\n\t//     Ps = 4 6  -> Stop Logging.  (This is normally disabled by a\n\t//     compile-time option).\n\t//     Ps = 4 7  -> Use Normal Screen Buffer.\n\t//     Ps = 6 6  -> Numeric keypad (DECNKM).\n\t//     Ps = 6 7  -> Backarrow key sends delete (DECBKM).\n\t//     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n\t//     release.  See the section Mouse Tracking.\n\t//     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n\t//     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n\t//     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n\t//     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n\t//     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n\t//     Ps = 1 0 1 0  -> Don't scroll to bottom on tty output\n\t//     (rxvt).\n\t//     Ps = 1 0 1 1  -> Don't scroll to bottom on key press (rxvt).\n\t//     Ps = 1 0 3 4  -> Don't interpret \"meta\" key.  (This disables\n\t//     the eightBitInput resource).\n\t//     Ps = 1 0 3 5  -> Disable special modifiers for Alt and Num-\n\t//     Lock keys.  (This disables the numLock resource).\n\t//     Ps = 1 0 3 6  -> Don't send ESC  when Meta modifies a key.\n\t//     (This disables the metaSendsEscape resource).\n\t//     Ps = 1 0 3 7  -> Send VT220 Remove from the editing-keypad\n\t//     Delete key.\n\t//     Ps = 1 0 3 9  -> Don't send ESC  when Alt modifies a key.\n\t//     (This disables the altSendsEscape resource).\n\t//     Ps = 1 0 4 0  -> Do not keep selection when not highlighted.\n\t//     (This disables the keepSelection resource).\n\t//     Ps = 1 0 4 1  -> Use the PRIMARY selection.  (This disables\n\t//     the selectToClipboard resource).\n\t//     Ps = 1 0 4 2  -> Disable Urgency window manager hint when\n\t//     Control-G is received.  (This disables the bellIsUrgent\n\t//     resource).\n\t//     Ps = 1 0 4 3  -> Disable raising of the window when Control-\n\t//     G is received.  (This disables the popOnBell resource).\n\t//     Ps = 1 0 4 7  -> Use Normal Screen Buffer, clearing screen\n\t//     first if in the Alternate Screen.  (This may be disabled by\n\t//     the titeInhibit resource).\n\t//     Ps = 1 0 4 8  -> Restore cursor as in DECRC.  (This may be\n\t//     disabled by the titeInhibit resource).\n\t//     Ps = 1 0 4 9  -> Use Normal Screen Buffer and restore cursor\n\t//     as in DECRC.  (This may be disabled by the titeInhibit\n\t//     resource).  This combines the effects of the 1 0 4 7  and 1 0\n\t//     4 8  modes.  Use this with terminfo-based applications rather\n\t//     than the 4 7  mode.\n\t//     Ps = 1 0 5 0  -> Reset terminfo/termcap function-key mode.\n\t//     Ps = 1 0 5 1  -> Reset Sun function-key mode.\n\t//     Ps = 1 0 5 2  -> Reset HP function-key mode.\n\t//     Ps = 1 0 5 3  -> Reset SCO function-key mode.\n\t//     Ps = 1 0 6 0  -> Reset legacy keyboard emulation (X11R6).\n\t//     Ps = 1 0 6 1  -> Reset keyboard emulation to Sun/PC style.\n\t//     Ps = 2 0 0 4  -> Reset bracketed paste mode.\n\tTerminal.prototype.resetMode = function(params) {\n\t  if (typeof params === 'object') {\n\t    var l = params.length\n\t      , i = 0;\n\t\n\t    for (; i < l; i++) {\n\t      this.resetMode(params[i]);\n\t    }\n\t\n\t    return;\n\t  }\n\t\n\t  if (!this.prefix) {\n\t    switch (params) {\n\t      case 4:\n\t        this.insertMode = false;\n\t        break;\n\t      case 20:\n\t        //this.convertEol = false;\n\t        break;\n\t    }\n\t  } else if (this.prefix === '?') {\n\t    switch (params) {\n\t      case 1:\n\t        this.applicationCursor = false;\n\t        break;\n\t      case 3:\n\t        if (this.cols === 132 && this.savedCols) {\n\t          this.resize(this.savedCols, this.rows);\n\t        }\n\t        delete this.savedCols;\n\t        break;\n\t      case 6:\n\t        this.originMode = false;\n\t        break;\n\t      case 7:\n\t        this.wraparoundMode = false;\n\t        break;\n\t      case 66:\n\t        this.log('Switching back to normal keypad.');\n\t        this.applicationKeypad = false;\n\t        break;\n\t      case 9: // X10 Mouse\n\t      case 1000: // vt200 mouse\n\t      case 1002: // button event mouse\n\t      case 1003: // any event mouse\n\t        this.x10Mouse = false;\n\t        this.vt200Mouse = false;\n\t        this.normalMouse = false;\n\t        this.mouseEvents = false;\n\t        this.element.style.cursor = '';\n\t        break;\n\t      case 1004: // send focusin/focusout events\n\t        this.sendFocus = false;\n\t        break;\n\t      case 1005: // utf8 ext mode mouse\n\t        this.utfMouse = false;\n\t        break;\n\t      case 1006: // sgr ext mode mouse\n\t        this.sgrMouse = false;\n\t        break;\n\t      case 1015: // urxvt ext mode mouse\n\t        this.urxvtMouse = false;\n\t        break;\n\t      case 25: // hide cursor\n\t        this.cursorHidden = true;\n\t        break;\n\t      case 1049: // alt screen buffer cursor\n\t        ; // FALL-THROUGH\n\t      case 47: // normal screen buffer\n\t      case 1047: // normal screen buffer - clearing it first\n\t        if (this.normal) {\n\t          this.lines = this.normal.lines;\n\t          this.ybase = this.normal.ybase;\n\t          this.ydisp = this.normal.ydisp;\n\t          this.x = this.normal.x;\n\t          this.y = this.normal.y;\n\t          this.scrollTop = this.normal.scrollTop;\n\t          this.scrollBottom = this.normal.scrollBottom;\n\t          this.tabs = this.normal.tabs;\n\t          this.normal = null;\n\t          // if (params === 1049) {\n\t          //   this.x = this.savedX;\n\t          //   this.y = this.savedY;\n\t          // }\n\t          this.refresh(0, this.rows - 1);\n\t        }\n\t        break;\n\t    }\n\t  }\n\t};\n\t\n\t// CSI Ps ; Ps r\n\t//   Set Scrolling Region [top;bottom] (default = full size of win-\n\t//   dow) (DECSTBM).\n\t// CSI ? Pm r\n\tTerminal.prototype.setScrollRegion = function(params) {\n\t  if (this.prefix) return;\n\t  this.scrollTop = (params[0] || 1) - 1;\n\t  this.scrollBottom = (params[1] || this.rows) - 1;\n\t  this.x = 0;\n\t  this.y = 0;\n\t};\n\t\n\t// CSI s\n\t//   Save cursor (ANSI.SYS).\n\tTerminal.prototype.saveCursor = function(params) {\n\t  this.savedX = this.x;\n\t  this.savedY = this.y;\n\t};\n\t\n\t// CSI u\n\t//   Restore cursor (ANSI.SYS).\n\tTerminal.prototype.restoreCursor = function(params) {\n\t  this.x = this.savedX || 0;\n\t  this.y = this.savedY || 0;\n\t};\n\t\n\t/**\n\t * Lesser Used\n\t */\n\t\n\t// CSI Ps I\n\t//   Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n\tTerminal.prototype.cursorForwardTab = function(params) {\n\t  var param = params[0] || 1;\n\t  while (param--) {\n\t    this.x = this.nextStop();\n\t  }\n\t};\n\t\n\t// CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n\tTerminal.prototype.scrollUp = function(params) {\n\t  var param = params[0] || 1;\n\t  while (param--) {\n\t    this.lines.splice(this.ybase + this.scrollTop, 1);\n\t    this.lines.splice(this.ybase + this.scrollBottom, 0, this.blankLine());\n\t  }\n\t  // this.maxRange();\n\t  this.updateRange(this.scrollTop);\n\t  this.updateRange(this.scrollBottom);\n\t};\n\t\n\t// CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n\tTerminal.prototype.scrollDown = function(params) {\n\t  var param = params[0] || 1;\n\t  while (param--) {\n\t    this.lines.splice(this.ybase + this.scrollBottom, 1);\n\t    this.lines.splice(this.ybase + this.scrollTop, 0, this.blankLine());\n\t  }\n\t  // this.maxRange();\n\t  this.updateRange(this.scrollTop);\n\t  this.updateRange(this.scrollBottom);\n\t};\n\t\n\t// CSI Ps ; Ps ; Ps ; Ps ; Ps T\n\t//   Initiate highlight mouse tracking.  Parameters are\n\t//   [func;startx;starty;firstrow;lastrow].  See the section Mouse\n\t//   Tracking.\n\tTerminal.prototype.initMouseTracking = function(params) {\n\t  // Relevant: DECSET 1001\n\t};\n\t\n\t// CSI > Ps; Ps T\n\t//   Reset one or more features of the title modes to the default\n\t//   value.  Normally, \"reset\" disables the feature.  It is possi-\n\t//   ble to disable the ability to reset features by compiling a\n\t//   different default for the title modes into xterm.\n\t//     Ps = 0  -> Do not set window/icon labels using hexadecimal.\n\t//     Ps = 1  -> Do not query window/icon labels using hexadeci-\n\t//     mal.\n\t//     Ps = 2  -> Do not set window/icon labels using UTF-8.\n\t//     Ps = 3  -> Do not query window/icon labels using UTF-8.\n\t//   (See discussion of \"Title Modes\").\n\tTerminal.prototype.resetTitleModes = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps Z  Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n\tTerminal.prototype.cursorBackwardTab = function(params) {\n\t  var param = params[0] || 1;\n\t  while (param--) {\n\t    this.x = this.prevStop();\n\t  }\n\t};\n\t\n\t// CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n\tTerminal.prototype.repeatPrecedingCharacter = function(params) {\n\t  var param = params[0] || 1\n\t    , line = this.lines[this.ybase + this.y]\n\t    , ch = line[this.x - 1] || [this.defAttr, ' '];\n\t\n\t  while (param--) line[this.x++] = ch;\n\t};\n\t\n\t// CSI Ps g  Tab Clear (TBC).\n\t//     Ps = 0  -> Clear Current Column (default).\n\t//     Ps = 3  -> Clear All.\n\t// Potentially:\n\t//   Ps = 2  -> Clear Stops on Line.\n\t//   http://vt100.net/annarbor/aaa-ug/section6.html\n\tTerminal.prototype.tabClear = function(params) {\n\t  var param = params[0];\n\t  if (param <= 0) {\n\t    delete this.tabs[this.x];\n\t  } else if (param === 3) {\n\t    this.tabs = {};\n\t  }\n\t};\n\t\n\t// CSI Pm i  Media Copy (MC).\n\t//     Ps = 0  -> Print screen (default).\n\t//     Ps = 4  -> Turn off printer controller mode.\n\t//     Ps = 5  -> Turn on printer controller mode.\n\t// CSI ? Pm i\n\t//   Media Copy (MC, DEC-specific).\n\t//     Ps = 1  -> Print line containing cursor.\n\t//     Ps = 4  -> Turn off autoprint mode.\n\t//     Ps = 5  -> Turn on autoprint mode.\n\t//     Ps = 1  0  -> Print composed display, ignores DECPEX.\n\t//     Ps = 1  1  -> Print all pages.\n\tTerminal.prototype.mediaCopy = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI > Ps; Ps m\n\t//   Set or reset resource-values used by xterm to decide whether\n\t//   to construct escape sequences holding information about the\n\t//   modifiers pressed with a given key.  The first parameter iden-\n\t//   tifies the resource to set/reset.  The second parameter is the\n\t//   value to assign to the resource.  If the second parameter is\n\t//   omitted, the resource is reset to its initial value.\n\t//     Ps = 1  -> modifyCursorKeys.\n\t//     Ps = 2  -> modifyFunctionKeys.\n\t//     Ps = 4  -> modifyOtherKeys.\n\t//   If no parameters are given, all resources are reset to their\n\t//   initial values.\n\tTerminal.prototype.setResources = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI > Ps n\n\t//   Disable modifiers which may be enabled via the CSI > Ps; Ps m\n\t//   sequence.  This corresponds to a resource value of \"-1\", which\n\t//   cannot be set with the other sequence.  The parameter identi-\n\t//   fies the resource to be disabled:\n\t//     Ps = 1  -> modifyCursorKeys.\n\t//     Ps = 2  -> modifyFunctionKeys.\n\t//     Ps = 4  -> modifyOtherKeys.\n\t//   If the parameter is omitted, modifyFunctionKeys is disabled.\n\t//   When modifyFunctionKeys is disabled, xterm uses the modifier\n\t//   keys to make an extended sequence of functions rather than\n\t//   adding a parameter to each function key to denote the modi-\n\t//   fiers.\n\tTerminal.prototype.disableModifiers = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI > Ps p\n\t//   Set resource value pointerMode.  This is used by xterm to\n\t//   decide whether to hide the pointer cursor as the user types.\n\t//   Valid values for the parameter:\n\t//     Ps = 0  -> never hide the pointer.\n\t//     Ps = 1  -> hide if the mouse tracking mode is not enabled.\n\t//     Ps = 2  -> always hide the pointer.  If no parameter is\n\t//     given, xterm uses the default, which is 1 .\n\tTerminal.prototype.setPointerMode = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI ! p   Soft terminal reset (DECSTR).\n\t// http://vt100.net/docs/vt220-rm/table4-10.html\n\tTerminal.prototype.softReset = function(params) {\n\t  this.cursorHidden = false;\n\t  this.insertMode = false;\n\t  this.originMode = false;\n\t  this.wraparoundMode = false; // autowrap\n\t  this.applicationKeypad = false; // ?\n\t  this.applicationCursor = false;\n\t  this.scrollTop = 0;\n\t  this.scrollBottom = this.rows - 1;\n\t  this.curAttr = this.defAttr;\n\t  this.x = this.y = 0; // ?\n\t  this.charset = null;\n\t  this.glevel = 0; // ??\n\t  this.charsets = [null]; // ??\n\t};\n\t\n\t// CSI Ps$ p\n\t//   Request ANSI mode (DECRQM).  For VT300 and up, reply is\n\t//     CSI Ps; Pm$ y\n\t//   where Ps is the mode number as in RM, and Pm is the mode\n\t//   value:\n\t//     0 - not recognized\n\t//     1 - set\n\t//     2 - reset\n\t//     3 - permanently set\n\t//     4 - permanently reset\n\tTerminal.prototype.requestAnsiMode = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI ? Ps$ p\n\t//   Request DEC private mode (DECRQM).  For VT300 and up, reply is\n\t//     CSI ? Ps; Pm$ p\n\t//   where Ps is the mode number as in DECSET, Pm is the mode value\n\t//   as in the ANSI DECRQM.\n\tTerminal.prototype.requestPrivateMode = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps ; Ps \" p\n\t//   Set conformance level (DECSCL).  Valid values for the first\n\t//   parameter:\n\t//     Ps = 6 1  -> VT100.\n\t//     Ps = 6 2  -> VT200.\n\t//     Ps = 6 3  -> VT300.\n\t//   Valid values for the second parameter:\n\t//     Ps = 0  -> 8-bit controls.\n\t//     Ps = 1  -> 7-bit controls (always set for VT100).\n\t//     Ps = 2  -> 8-bit controls.\n\tTerminal.prototype.setConformanceLevel = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps q  Load LEDs (DECLL).\n\t//     Ps = 0  -> Clear all LEDS (default).\n\t//     Ps = 1  -> Light Num Lock.\n\t//     Ps = 2  -> Light Caps Lock.\n\t//     Ps = 3  -> Light Scroll Lock.\n\t//     Ps = 2  1  -> Extinguish Num Lock.\n\t//     Ps = 2  2  -> Extinguish Caps Lock.\n\t//     Ps = 2  3  -> Extinguish Scroll Lock.\n\tTerminal.prototype.loadLEDs = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps SP q\n\t//   Set cursor style (DECSCUSR, VT520).\n\t//     Ps = 0  -> blinking block.\n\t//     Ps = 1  -> blinking block (default).\n\t//     Ps = 2  -> steady block.\n\t//     Ps = 3  -> blinking underline.\n\t//     Ps = 4  -> steady underline.\n\tTerminal.prototype.setCursorStyle = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps \" q\n\t//   Select character protection attribute (DECSCA).  Valid values\n\t//   for the parameter:\n\t//     Ps = 0  -> DECSED and DECSEL can erase (default).\n\t//     Ps = 1  -> DECSED and DECSEL cannot erase.\n\t//     Ps = 2  -> DECSED and DECSEL can erase.\n\tTerminal.prototype.setCharProtectionAttr = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI ? Pm r\n\t//   Restore DEC Private Mode Values.  The value of Ps previously\n\t//   saved is restored.  Ps values are the same as for DECSET.\n\tTerminal.prototype.restorePrivateValues = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Pt; Pl; Pb; Pr; Ps$ r\n\t//   Change Attributes in Rectangular Area (DECCARA), VT400 and up.\n\t//     Pt; Pl; Pb; Pr denotes the rectangle.\n\t//     Ps denotes the SGR attributes to change: 0, 1, 4, 5, 7.\n\t// NOTE: xterm doesn't enable this code by default.\n\tTerminal.prototype.setAttrInRectangle = function(params) {\n\t  var t = params[0]\n\t    , l = params[1]\n\t    , b = params[2]\n\t    , r = params[3]\n\t    , attr = params[4];\n\t\n\t  var line\n\t    , i;\n\t\n\t  for (; t < b + 1; t++) {\n\t    line = this.lines[this.ybase + t];\n\t    for (i = l; i < r; i++) {\n\t      line[i] = [attr, line[i][1]];\n\t    }\n\t  }\n\t\n\t  // this.maxRange();\n\t  this.updateRange(params[0]);\n\t  this.updateRange(params[2]);\n\t};\n\t\n\t// CSI ? Pm s\n\t//   Save DEC Private Mode Values.  Ps values are the same as for\n\t//   DECSET.\n\tTerminal.prototype.savePrivateValues = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps ; Ps ; Ps t\n\t//   Window manipulation (from dtterm, as well as extensions).\n\t//   These controls may be disabled using the allowWindowOps\n\t//   resource.  Valid values for the first (and any additional\n\t//   parameters) are:\n\t//     Ps = 1  -> De-iconify window.\n\t//     Ps = 2  -> Iconify window.\n\t//     Ps = 3  ;  x ;  y -> Move window to [x, y].\n\t//     Ps = 4  ;  height ;  width -> Resize the xterm window to\n\t//     height and width in pixels.\n\t//     Ps = 5  -> Raise the xterm window to the front of the stack-\n\t//     ing order.\n\t//     Ps = 6  -> Lower the xterm window to the bottom of the\n\t//     stacking order.\n\t//     Ps = 7  -> Refresh the xterm window.\n\t//     Ps = 8  ;  height ;  width -> Resize the text area to\n\t//     [height;width] in characters.\n\t//     Ps = 9  ;  0  -> Restore maximized window.\n\t//     Ps = 9  ;  1  -> Maximize window (i.e., resize to screen\n\t//     size).\n\t//     Ps = 1 0  ;  0  -> Undo full-screen mode.\n\t//     Ps = 1 0  ;  1  -> Change to full-screen.\n\t//     Ps = 1 1  -> Report xterm window state.  If the xterm window\n\t//     is open (non-iconified), it returns CSI 1 t .  If the xterm\n\t//     window is iconified, it returns CSI 2 t .\n\t//     Ps = 1 3  -> Report xterm window position.  Result is CSI 3\n\t//     ; x ; y t\n\t//     Ps = 1 4  -> Report xterm window in pixels.  Result is CSI\n\t//     4  ;  height ;  width t\n\t//     Ps = 1 8  -> Report the size of the text area in characters.\n\t//     Result is CSI  8  ;  height ;  width t\n\t//     Ps = 1 9  -> Report the size of the screen in characters.\n\t//     Result is CSI  9  ;  height ;  width t\n\t//     Ps = 2 0  -> Report xterm window's icon label.  Result is\n\t//     OSC  L  label ST\n\t//     Ps = 2 1  -> Report xterm window's title.  Result is OSC  l\n\t//     label ST\n\t//     Ps = 2 2  ;  0  -> Save xterm icon and window title on\n\t//     stack.\n\t//     Ps = 2 2  ;  1  -> Save xterm icon title on stack.\n\t//     Ps = 2 2  ;  2  -> Save xterm window title on stack.\n\t//     Ps = 2 3  ;  0  -> Restore xterm icon and window title from\n\t//     stack.\n\t//     Ps = 2 3  ;  1  -> Restore xterm icon title from stack.\n\t//     Ps = 2 3  ;  2  -> Restore xterm window title from stack.\n\t//     Ps >= 2 4  -> Resize to Ps lines (DECSLPP).\n\tTerminal.prototype.manipulateWindow = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Pt; Pl; Pb; Pr; Ps$ t\n\t//   Reverse Attributes in Rectangular Area (DECRARA), VT400 and\n\t//   up.\n\t//     Pt; Pl; Pb; Pr denotes the rectangle.\n\t//     Ps denotes the attributes to reverse, i.e.,  1, 4, 5, 7.\n\t// NOTE: xterm doesn't enable this code by default.\n\tTerminal.prototype.reverseAttrInRectangle = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI > Ps; Ps t\n\t//   Set one or more features of the title modes.  Each parameter\n\t//   enables a single feature.\n\t//     Ps = 0  -> Set window/icon labels using hexadecimal.\n\t//     Ps = 1  -> Query window/icon labels using hexadecimal.\n\t//     Ps = 2  -> Set window/icon labels using UTF-8.\n\t//     Ps = 3  -> Query window/icon labels using UTF-8.  (See dis-\n\t//     cussion of \"Title Modes\")\n\tTerminal.prototype.setTitleModeFeature = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps SP t\n\t//   Set warning-bell volume (DECSWBV, VT520).\n\t//     Ps = 0  or 1  -> off.\n\t//     Ps = 2 , 3  or 4  -> low.\n\t//     Ps = 5 , 6 , 7 , or 8  -> high.\n\tTerminal.prototype.setWarningBellVolume = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps SP u\n\t//   Set margin-bell volume (DECSMBV, VT520).\n\t//     Ps = 1  -> off.\n\t//     Ps = 2 , 3  or 4  -> low.\n\t//     Ps = 0 , 5 , 6 , 7 , or 8  -> high.\n\tTerminal.prototype.setMarginBellVolume = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n\t//   Copy Rectangular Area (DECCRA, VT400 and up).\n\t//     Pt; Pl; Pb; Pr denotes the rectangle.\n\t//     Pp denotes the source page.\n\t//     Pt; Pl denotes the target location.\n\t//     Pp denotes the target page.\n\t// NOTE: xterm doesn't enable this code by default.\n\tTerminal.prototype.copyRectangle = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Pt ; Pl ; Pb ; Pr ' w\n\t//   Enable Filter Rectangle (DECEFR), VT420 and up.\n\t//   Parameters are [top;left;bottom;right].\n\t//   Defines the coordinates of a filter rectangle and activates\n\t//   it.  Anytime the locator is detected outside of the filter\n\t//   rectangle, an outside rectangle event is generated and the\n\t//   rectangle is disabled.  Filter rectangles are always treated\n\t//   as \"one-shot\" events.  Any parameters that are omitted default\n\t//   to the current locator position.  If all parameters are omit-\n\t//   ted, any locator motion will be reported.  DECELR always can-\n\t//   cels any prevous rectangle definition.\n\tTerminal.prototype.enableFilterRectangle = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n\t//   if Ps is a \"0\" (default) or \"1\", and xterm is emulating VT100,\n\t//   the control sequence elicits a response of the same form whose\n\t//   parameters describe the terminal:\n\t//     Ps -> the given Ps incremented by 2.\n\t//     Pn = 1  <- no parity.\n\t//     Pn = 1  <- eight bits.\n\t//     Pn = 1  <- 2  8  transmit 38.4k baud.\n\t//     Pn = 1  <- 2  8  receive 38.4k baud.\n\t//     Pn = 1  <- clock multiplier.\n\t//     Pn = 0  <- STP flags.\n\tTerminal.prototype.requestParameters = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps x  Select Attribute Change Extent (DECSACE).\n\t//     Ps = 0  -> from start to end position, wrapped.\n\t//     Ps = 1  -> from start to end position, wrapped.\n\t//     Ps = 2  -> rectangle (exact).\n\tTerminal.prototype.selectChangeExtent = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Pc; Pt; Pl; Pb; Pr$ x\n\t//   Fill Rectangular Area (DECFRA), VT420 and up.\n\t//     Pc is the character to use.\n\t//     Pt; Pl; Pb; Pr denotes the rectangle.\n\t// NOTE: xterm doesn't enable this code by default.\n\tTerminal.prototype.fillRectangle = function(params) {\n\t  var ch = params[0]\n\t    , t = params[1]\n\t    , l = params[2]\n\t    , b = params[3]\n\t    , r = params[4];\n\t\n\t  var line\n\t    , i;\n\t\n\t  for (; t < b + 1; t++) {\n\t    line = this.lines[this.ybase + t];\n\t    for (i = l; i < r; i++) {\n\t      line[i] = [line[i][0], String.fromCharCode(ch)];\n\t    }\n\t  }\n\t\n\t  // this.maxRange();\n\t  this.updateRange(params[1]);\n\t  this.updateRange(params[3]);\n\t};\n\t\n\t// CSI Ps ; Pu ' z\n\t//   Enable Locator Reporting (DECELR).\n\t//   Valid values for the first parameter:\n\t//     Ps = 0  -> Locator disabled (default).\n\t//     Ps = 1  -> Locator enabled.\n\t//     Ps = 2  -> Locator enabled for one report, then disabled.\n\t//   The second parameter specifies the coordinate unit for locator\n\t//   reports.\n\t//   Valid values for the second parameter:\n\t//     Pu = 0  <- or omitted -> default to character cells.\n\t//     Pu = 1  <- device physical pixels.\n\t//     Pu = 2  <- character cells.\n\tTerminal.prototype.enableLocatorReporting = function(params) {\n\t  var val = params[0] > 0;\n\t  //this.mouseEvents = val;\n\t  //this.decLocator = val;\n\t};\n\t\n\t// CSI Pt; Pl; Pb; Pr$ z\n\t//   Erase Rectangular Area (DECERA), VT400 and up.\n\t//     Pt; Pl; Pb; Pr denotes the rectangle.\n\t// NOTE: xterm doesn't enable this code by default.\n\tTerminal.prototype.eraseRectangle = function(params) {\n\t  var t = params[0]\n\t    , l = params[1]\n\t    , b = params[2]\n\t    , r = params[3];\n\t\n\t  var line\n\t    , i\n\t    , ch;\n\t\n\t  ch = [this.eraseAttr(), ' ']; // xterm?\n\t\n\t  for (; t < b + 1; t++) {\n\t    line = this.lines[this.ybase + t];\n\t    for (i = l; i < r; i++) {\n\t      line[i] = ch;\n\t    }\n\t  }\n\t\n\t  // this.maxRange();\n\t  this.updateRange(params[0]);\n\t  this.updateRange(params[2]);\n\t};\n\t\n\t// CSI Pm ' {\n\t//   Select Locator Events (DECSLE).\n\t//   Valid values for the first (and any additional parameters)\n\t//   are:\n\t//     Ps = 0  -> only respond to explicit host requests (DECRQLP).\n\t//                (This is default).  It also cancels any filter\n\t//   rectangle.\n\t//     Ps = 1  -> report button down transitions.\n\t//     Ps = 2  -> do not report button down transitions.\n\t//     Ps = 3  -> report button up transitions.\n\t//     Ps = 4  -> do not report button up transitions.\n\tTerminal.prototype.setLocatorEvents = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Pt; Pl; Pb; Pr$ {\n\t//   Selective Erase Rectangular Area (DECSERA), VT400 and up.\n\t//     Pt; Pl; Pb; Pr denotes the rectangle.\n\tTerminal.prototype.selectiveEraseRectangle = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI Ps ' |\n\t//   Request Locator Position (DECRQLP).\n\t//   Valid values for the parameter are:\n\t//     Ps = 0 , 1 or omitted -> transmit a single DECLRP locator\n\t//     report.\n\t\n\t//   If Locator Reporting has been enabled by a DECELR, xterm will\n\t//   respond with a DECLRP Locator Report.  This report is also\n\t//   generated on button up and down events if they have been\n\t//   enabled with a DECSLE, or when the locator is detected outside\n\t//   of a filter rectangle, if filter rectangles have been enabled\n\t//   with a DECEFR.\n\t\n\t//     -> CSI Pe ; Pb ; Pr ; Pc ; Pp &  w\n\t\n\t//   Parameters are [event;button;row;column;page].\n\t//   Valid values for the event:\n\t//     Pe = 0  -> locator unavailable - no other parameters sent.\n\t//     Pe = 1  -> request - xterm received a DECRQLP.\n\t//     Pe = 2  -> left button down.\n\t//     Pe = 3  -> left button up.\n\t//     Pe = 4  -> middle button down.\n\t//     Pe = 5  -> middle button up.\n\t//     Pe = 6  -> right button down.\n\t//     Pe = 7  -> right button up.\n\t//     Pe = 8  -> M4 button down.\n\t//     Pe = 9  -> M4 button up.\n\t//     Pe = 1 0  -> locator outside filter rectangle.\n\t//   ``button'' parameter is a bitmask indicating which buttons are\n\t//     pressed:\n\t//     Pb = 0  <- no buttons down.\n\t//     Pb & 1  <- right button down.\n\t//     Pb & 2  <- middle button down.\n\t//     Pb & 4  <- left button down.\n\t//     Pb & 8  <- M4 button down.\n\t//   ``row'' and ``column'' parameters are the coordinates of the\n\t//     locator position in the xterm window, encoded as ASCII deci-\n\t//     mal.\n\t//   The ``page'' parameter is not used by xterm, and will be omit-\n\t//   ted.\n\tTerminal.prototype.requestLocatorPosition = function(params) {\n\t  ;\n\t};\n\t\n\t// CSI P m SP }\n\t// Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n\t// NOTE: xterm doesn't enable this code by default.\n\tTerminal.prototype.insertColumns = function() {\n\t  var param = params[0]\n\t    , l = this.ybase + this.rows\n\t    , ch = [this.eraseAttr(), ' '] // xterm?\n\t    , i;\n\t\n\t  while (param--) {\n\t    for (i = this.ybase; i < l; i++) {\n\t      this.lines[i].splice(this.x + 1, 0, ch);\n\t      this.lines[i].pop();\n\t    }\n\t  }\n\t\n\t  this.maxRange();\n\t};\n\t\n\t// CSI P m SP ~\n\t// Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n\t// NOTE: xterm doesn't enable this code by default.\n\tTerminal.prototype.deleteColumns = function() {\n\t  var param = params[0]\n\t    , l = this.ybase + this.rows\n\t    , ch = [this.eraseAttr(), ' '] // xterm?\n\t    , i;\n\t\n\t  while (param--) {\n\t    for (i = this.ybase; i < l; i++) {\n\t      this.lines[i].splice(this.x, 1);\n\t      this.lines[i].push(ch);\n\t    }\n\t  }\n\t\n\t  this.maxRange();\n\t};\n\t\n\t/**\n\t * Prefix/Select/Visual/Search Modes\n\t */\n\t\n\tTerminal.prototype.enterPrefix = function() {\n\t  this.prefixMode = true;\n\t};\n\t\n\tTerminal.prototype.leavePrefix = function() {\n\t  this.prefixMode = false;\n\t};\n\t\n\tTerminal.prototype.enterSelect = function() {\n\t  this._real = {\n\t    x: this.x,\n\t    y: this.y,\n\t    ydisp: this.ydisp,\n\t    ybase: this.ybase,\n\t    cursorHidden: this.cursorHidden,\n\t    lines: this.copyBuffer(this.lines),\n\t    write: this.write\n\t  };\n\t  this.write = function() {};\n\t  this.selectMode = true;\n\t  this.visualMode = false;\n\t  this.cursorHidden = false;\n\t  this.refresh(this.y, this.y);\n\t};\n\t\n\tTerminal.prototype.leaveSelect = function() {\n\t  this.x = this._real.x;\n\t  this.y = this._real.y;\n\t  this.ydisp = this._real.ydisp;\n\t  this.ybase = this._real.ybase;\n\t  this.cursorHidden = this._real.cursorHidden;\n\t  this.lines = this._real.lines;\n\t  this.write = this._real.write;\n\t  delete this._real;\n\t  this.selectMode = false;\n\t  this.visualMode = false;\n\t  this.refresh(0, this.rows - 1);\n\t};\n\t\n\tTerminal.prototype.enterVisual = function() {\n\t  this._real.preVisual = this.copyBuffer(this.lines);\n\t  this.selectText(this.x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n\t  this.visualMode = true;\n\t};\n\t\n\tTerminal.prototype.leaveVisual = function() {\n\t  this.lines = this._real.preVisual;\n\t  delete this._real.preVisual;\n\t  delete this._selected;\n\t  this.visualMode = false;\n\t  this.refresh(0, this.rows - 1);\n\t};\n\t\n\tTerminal.prototype.enterSearch = function(down) {\n\t  this.entry = '';\n\t  this.searchMode = true;\n\t  this.searchDown = down;\n\t  this._real.preSearch = this.copyBuffer(this.lines);\n\t  this._real.preSearchX = this.x;\n\t  this._real.preSearchY = this.y;\n\t\n\t  var bottom = this.ydisp + this.rows - 1;\n\t  for (var i = 0; i < this.entryPrefix.length; i++) {\n\t    //this.lines[bottom][i][0] = (this.defAttr & ~0x1ff) | 4;\n\t    //this.lines[bottom][i][1] = this.entryPrefix[i];\n\t    this.lines[bottom][i] = [\n\t      (this.defAttr & ~0x1ff) | 4,\n\t      this.entryPrefix[i]\n\t    ];\n\t  }\n\t\n\t  this.y = this.rows - 1;\n\t  this.x = this.entryPrefix.length;\n\t\n\t  this.refresh(this.rows - 1, this.rows - 1);\n\t};\n\t\n\tTerminal.prototype.leaveSearch = function() {\n\t  this.searchMode = false;\n\t\n\t  if (this._real.preSearch) {\n\t    this.lines = this._real.preSearch;\n\t    this.x = this._real.preSearchX;\n\t    this.y = this._real.preSearchY;\n\t    delete this._real.preSearch;\n\t    delete this._real.preSearchX;\n\t    delete this._real.preSearchY;\n\t  }\n\t\n\t  this.refresh(this.rows - 1, this.rows - 1);\n\t};\n\t\n\tTerminal.prototype.copyBuffer = function(lines) {\n\t  var lines = lines || this.lines\n\t    , out = [];\n\t\n\t  for (var y = 0; y < lines.length; y++) {\n\t    out[y] = [];\n\t    for (var x = 0; x < lines[y].length; x++) {\n\t      out[y][x] = [lines[y][x][0], lines[y][x][1]];\n\t    }\n\t  }\n\t\n\t  return out;\n\t};\n\t\n\tTerminal.prototype.getCopyTextarea = function(text) {\n\t  var textarea = this._copyTextarea\n\t    , document = this.document;\n\t\n\t  if (!textarea) {\n\t    textarea = document.createElement('textarea');\n\t    textarea.style.position = 'absolute';\n\t    textarea.style.left = '-32000px';\n\t    textarea.style.top = '-32000px';\n\t    textarea.style.width = '0px';\n\t    textarea.style.height = '0px';\n\t    textarea.style.opacity = '0';\n\t    textarea.style.backgroundColor = 'transparent';\n\t    textarea.style.borderStyle = 'none';\n\t    textarea.style.outlineStyle = 'none';\n\t\n\t    document.getElementsByTagName('body')[0].appendChild(textarea);\n\t\n\t    this._copyTextarea = textarea;\n\t  }\n\t\n\t  return textarea;\n\t};\n\t\n\t// NOTE: Only works for primary selection on X11.\n\t// Non-X11 users should use Ctrl-C instead.\n\tTerminal.prototype.copyText = function(text) {\n\t  var self = this\n\t    , textarea = this.getCopyTextarea();\n\t\n\t  this.emit('copy', text);\n\t\n\t  textarea.focus();\n\t  textarea.textContent = text;\n\t  textarea.value = text;\n\t  textarea.setSelectionRange(0, text.length);\n\t\n\t  setTimeout(function() {\n\t    self.element.focus();\n\t    self.focus();\n\t  }, 1);\n\t};\n\t\n\tTerminal.prototype.selectText = function(x1, x2, y1, y2) {\n\t  var ox1\n\t    , ox2\n\t    , oy1\n\t    , oy2\n\t    , tmp\n\t    , x\n\t    , y\n\t    , xl\n\t    , attr;\n\t\n\t  if (this._selected) {\n\t    ox1 = this._selected.x1;\n\t    ox2 = this._selected.x2;\n\t    oy1 = this._selected.y1;\n\t    oy2 = this._selected.y2;\n\t\n\t    if (oy2 < oy1) {\n\t      tmp = ox2;\n\t      ox2 = ox1;\n\t      ox1 = tmp;\n\t      tmp = oy2;\n\t      oy2 = oy1;\n\t      oy1 = tmp;\n\t    }\n\t\n\t    if (ox2 < ox1 && oy1 === oy2) {\n\t      tmp = ox2;\n\t      ox2 = ox1;\n\t      ox1 = tmp;\n\t    }\n\t\n\t    for (y = oy1; y <= oy2; y++) {\n\t      x = 0;\n\t      xl = this.cols - 1;\n\t      if (y === oy1) {\n\t        x = ox1;\n\t      }\n\t      if (y === oy2) {\n\t        xl = ox2;\n\t      }\n\t      for (; x <= xl; x++) {\n\t        if (this.lines[y][x].old != null) {\n\t          //this.lines[y][x][0] = this.lines[y][x].old;\n\t          //delete this.lines[y][x].old;\n\t          attr = this.lines[y][x].old;\n\t          delete this.lines[y][x].old;\n\t          this.lines[y][x] = [attr, this.lines[y][x][1]];\n\t        }\n\t      }\n\t    }\n\t\n\t    y1 = this._selected.y1;\n\t    x1 = this._selected.x1;\n\t  }\n\t\n\t  y1 = Math.max(y1, 0);\n\t  y1 = Math.min(y1, this.ydisp + this.rows - 1);\n\t\n\t  y2 = Math.max(y2, 0);\n\t  y2 = Math.min(y2, this.ydisp + this.rows - 1);\n\t\n\t  this._selected = { x1: x1, x2: x2, y1: y1, y2: y2 };\n\t\n\t  if (y2 < y1) {\n\t    tmp = x2;\n\t    x2 = x1;\n\t    x1 = tmp;\n\t    tmp = y2;\n\t    y2 = y1;\n\t    y1 = tmp;\n\t  }\n\t\n\t  if (x2 < x1 && y1 === y2) {\n\t    tmp = x2;\n\t    x2 = x1;\n\t    x1 = tmp;\n\t  }\n\t\n\t  for (y = y1; y <= y2; y++) {\n\t    x = 0;\n\t    xl = this.cols - 1;\n\t    if (y === y1) {\n\t      x = x1;\n\t    }\n\t    if (y === y2) {\n\t      xl = x2;\n\t    }\n\t    for (; x <= xl; x++) {\n\t      //this.lines[y][x].old = this.lines[y][x][0];\n\t      //this.lines[y][x][0] &= ~0x1ff;\n\t      //this.lines[y][x][0] |= (0x1ff << 9) | 4;\n\t      attr = this.lines[y][x][0];\n\t      this.lines[y][x] = [\n\t        (attr & ~0x1ff) | ((0x1ff << 9) | 4),\n\t        this.lines[y][x][1]\n\t      ];\n\t      this.lines[y][x].old = attr;\n\t    }\n\t  }\n\t\n\t  y1 = y1 - this.ydisp;\n\t  y2 = y2 - this.ydisp;\n\t\n\t  y1 = Math.max(y1, 0);\n\t  y1 = Math.min(y1, this.rows - 1);\n\t\n\t  y2 = Math.max(y2, 0);\n\t  y2 = Math.min(y2, this.rows - 1);\n\t\n\t  //this.refresh(y1, y2);\n\t  this.refresh(0, this.rows - 1);\n\t};\n\t\n\tTerminal.prototype.grabText = function(x1, x2, y1, y2) {\n\t  var out = ''\n\t    , buf = ''\n\t    , ch\n\t    , x\n\t    , y\n\t    , xl\n\t    , tmp;\n\t\n\t  if (y2 < y1) {\n\t    tmp = x2;\n\t    x2 = x1;\n\t    x1 = tmp;\n\t    tmp = y2;\n\t    y2 = y1;\n\t    y1 = tmp;\n\t  }\n\t\n\t  if (x2 < x1 && y1 === y2) {\n\t    tmp = x2;\n\t    x2 = x1;\n\t    x1 = tmp;\n\t  }\n\t\n\t  for (y = y1; y <= y2; y++) {\n\t    x = 0;\n\t    xl = this.cols - 1;\n\t    if (y === y1) {\n\t      x = x1;\n\t    }\n\t    if (y === y2) {\n\t      xl = x2;\n\t    }\n\t    for (; x <= xl; x++) {\n\t      ch = this.lines[y][x][1];\n\t      if (ch === ' ') {\n\t        buf += ch;\n\t        continue;\n\t      }\n\t      if (buf) {\n\t        out += buf;\n\t        buf = '';\n\t      }\n\t      out += ch;\n\t      if (isWide(ch)) x++;\n\t    }\n\t    buf = '';\n\t    out += '\\n';\n\t  }\n\t\n\t  // If we're not at the end of the\n\t  // line, don't add a newline.\n\t  for (x = x2, y = y2; x < this.cols; x++) {\n\t    if (this.lines[y][x][1] !== ' ') {\n\t      out = out.slice(0, -1);\n\t      break;\n\t    }\n\t  }\n\t\n\t  return out;\n\t};\n\t\n\tTerminal.prototype.keyPrefix = function(ev, key) {\n\t  if (key === 'k' || key === '&') {\n\t    this.destroy();\n\t  } else if (key === 'p' || key === ']') {\n\t    this.emit('request paste');\n\t  } else if (key === 'c') {\n\t    this.emit('request create');\n\t  } else if (key >= '0' && key <= '9') {\n\t    key = +key - 1;\n\t    if (!~key) key = 9;\n\t    this.emit('request term', key);\n\t  } else if (key === 'n') {\n\t    this.emit('request term next');\n\t  } else if (key === 'P') {\n\t    this.emit('request term previous');\n\t  } else if (key === ':') {\n\t    this.emit('request command mode');\n\t  } else if (key === '[') {\n\t    this.enterSelect();\n\t  }\n\t};\n\t\n\tTerminal.prototype.keySelect = function(ev, key) {\n\t  if (this.searchMode || key === 'n' || key === 'N') {\n\t    return this.keySearch(ev, key);\n\t  }\n\t\n\t  if (key === '\\x04') { // ctrl-d\n\t    var y = this.ydisp + this.y;\n\t    if (this.ydisp === this.ybase) {\n\t      // Mimic vim behavior\n\t      this.y = Math.min(this.y + (this.rows - 1) / 2 | 0, this.rows - 1);\n\t      this.refresh(0, this.rows - 1);\n\t    } else {\n\t      this.scrollDisp((this.rows - 1) / 2 | 0);\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === '\\x15') { // ctrl-u\n\t    var y = this.ydisp + this.y;\n\t    if (this.ydisp === 0) {\n\t      // Mimic vim behavior\n\t      this.y = Math.max(this.y - (this.rows - 1) / 2 | 0, 0);\n\t      this.refresh(0, this.rows - 1);\n\t    } else {\n\t      this.scrollDisp(-(this.rows - 1) / 2 | 0);\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === '\\x06') { // ctrl-f\n\t    var y = this.ydisp + this.y;\n\t    this.scrollDisp(this.rows - 1);\n\t    if (this.visualMode) {\n\t      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === '\\x02') { // ctrl-b\n\t    var y = this.ydisp + this.y;\n\t    this.scrollDisp(-(this.rows - 1));\n\t    if (this.visualMode) {\n\t      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'k' || key === '\\x1b[A') {\n\t    var y = this.ydisp + this.y;\n\t    this.y--;\n\t    if (this.y < 0) {\n\t      this.y = 0;\n\t      this.scrollDisp(-1);\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n\t    } else {\n\t      this.refresh(this.y, this.y + 1);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'j' || key === '\\x1b[B') {\n\t    var y = this.ydisp + this.y;\n\t    this.y++;\n\t    if (this.y >= this.rows) {\n\t      this.y = this.rows - 1;\n\t      this.scrollDisp(1);\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n\t    } else {\n\t      this.refresh(this.y - 1, this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'h' || key === '\\x1b[D') {\n\t    var x = this.x;\n\t    this.x--;\n\t    if (this.x < 0) {\n\t      this.x = 0;\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n\t    } else {\n\t      this.refresh(this.y, this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'l' || key === '\\x1b[C') {\n\t    var x = this.x;\n\t    this.x++;\n\t    if (this.x >= this.cols) {\n\t      this.x = this.cols - 1;\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n\t    } else {\n\t      this.refresh(this.y, this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'v' || key === ' ') {\n\t    if (!this.visualMode) {\n\t      this.enterVisual();\n\t    } else {\n\t      this.leaveVisual();\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'y') {\n\t    if (this.visualMode) {\n\t      var text = this.grabText(\n\t        this._selected.x1, this._selected.x2,\n\t        this._selected.y1, this._selected.y2);\n\t      this.copyText(text);\n\t      this.leaveVisual();\n\t      // this.leaveSelect();\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'q' || key === '\\x1b') {\n\t    if (this.visualMode) {\n\t      this.leaveVisual();\n\t    } else {\n\t      this.leaveSelect();\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'w' || key === 'W') {\n\t    var ox = this.x;\n\t    var oy = this.y;\n\t    var oyd = this.ydisp;\n\t\n\t    var x = this.x;\n\t    var y = this.y;\n\t    var yb = this.ydisp;\n\t    var saw_space = false;\n\t\n\t    for (;;) {\n\t      var line = this.lines[yb + y];\n\t      while (x < this.cols) {\n\t        if (line[x][1] <= ' ') {\n\t          saw_space = true;\n\t        } else if (saw_space) {\n\t          break;\n\t        }\n\t        x++;\n\t      }\n\t      if (x >= this.cols) x = this.cols - 1;\n\t      if (x === this.cols - 1 && line[x][1] <= ' ') {\n\t        x = 0;\n\t        if (++y >= this.rows) {\n\t          y--;\n\t          if (++yb > this.ybase) {\n\t            yb = this.ybase;\n\t            x = this.x;\n\t            break;\n\t          }\n\t        }\n\t        continue;\n\t      }\n\t      break;\n\t    }\n\t\n\t    this.x = x, this.y = y;\n\t    this.scrollDisp(-this.ydisp + yb);\n\t\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'b' || key === 'B') {\n\t    var ox = this.x;\n\t    var oy = this.y;\n\t    var oyd = this.ydisp;\n\t\n\t    var x = this.x;\n\t    var y = this.y;\n\t    var yb = this.ydisp;\n\t\n\t    for (;;) {\n\t      var line = this.lines[yb + y];\n\t      var saw_space = x > 0 && line[x][1] > ' ' && line[x - 1][1] > ' ';\n\t      while (x >= 0) {\n\t        if (line[x][1] <= ' ') {\n\t          if (saw_space && (x + 1 < this.cols && line[x + 1][1] > ' ')) {\n\t            x++;\n\t            break;\n\t          } else {\n\t            saw_space = true;\n\t          }\n\t        }\n\t        x--;\n\t      }\n\t      if (x < 0) x = 0;\n\t      if (x === 0 && (line[x][1] <= ' ' || !saw_space)) {\n\t        x = this.cols - 1;\n\t        if (--y < 0) {\n\t          y++;\n\t          if (--yb < 0) {\n\t            yb++;\n\t            x = 0;\n\t            break;\n\t          }\n\t        }\n\t        continue;\n\t      }\n\t      break;\n\t    }\n\t\n\t    this.x = x, this.y = y;\n\t    this.scrollDisp(-this.ydisp + yb);\n\t\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'e' || key === 'E') {\n\t    var x = this.x + 1;\n\t    var y = this.y;\n\t    var yb = this.ydisp;\n\t    if (x >= this.cols) x--;\n\t\n\t    for (;;) {\n\t      var line = this.lines[yb + y];\n\t      while (x < this.cols) {\n\t        if (line[x][1] <= ' ') {\n\t          x++;\n\t        } else {\n\t          break;\n\t        }\n\t      }\n\t      while (x < this.cols) {\n\t        if (line[x][1] <= ' ') {\n\t          if (x - 1 >= 0 && line[x - 1][1] > ' ') {\n\t            x--;\n\t            break;\n\t          }\n\t        }\n\t        x++;\n\t      }\n\t      if (x >= this.cols) x = this.cols - 1;\n\t      if (x === this.cols - 1 && line[x][1] <= ' ') {\n\t        x = 0;\n\t        if (++y >= this.rows) {\n\t          y--;\n\t          if (++yb > this.ybase) {\n\t            yb = this.ybase;\n\t            break;\n\t          }\n\t        }\n\t        continue;\n\t      }\n\t      break;\n\t    }\n\t\n\t    this.x = x, this.y = y;\n\t    this.scrollDisp(-this.ydisp + yb);\n\t\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === '^' || key === '0') {\n\t    var ox = this.x;\n\t\n\t    if (key === '0') {\n\t      this.x = 0;\n\t    } else if (key === '^') {\n\t      var line = this.lines[this.ydisp + this.y];\n\t      var x = 0;\n\t      while (x < this.cols) {\n\t        if (line[x][1] > ' ') {\n\t          break;\n\t        }\n\t        x++;\n\t      }\n\t      if (x >= this.cols) x = this.cols - 1;\n\t      this.x = x;\n\t    }\n\t\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, this.ydisp + this.y, this.ydisp + this.y);\n\t    } else {\n\t      this.refresh(this.y, this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === '$') {\n\t    var ox = this.x;\n\t    var line = this.lines[this.ydisp + this.y];\n\t    var x = this.cols - 1;\n\t    while (x >= 0) {\n\t      if (line[x][1] > ' ') {\n\t        if (this.visualMode && x < this.cols - 1) x++;\n\t        break;\n\t      }\n\t      x--;\n\t    }\n\t    if (x < 0) x = 0;\n\t    this.x = x;\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, this.ydisp + this.y, this.ydisp + this.y);\n\t    } else {\n\t      this.refresh(this.y, this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'g' || key === 'G') {\n\t    var ox = this.x;\n\t    var oy = this.y;\n\t    var oyd = this.ydisp;\n\t    if (key === 'g') {\n\t      this.x = 0, this.y = 0;\n\t      this.scrollDisp(-this.ydisp);\n\t    } else if (key === 'G') {\n\t      this.x = 0, this.y = this.rows - 1;\n\t      this.scrollDisp(this.ybase);\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === 'H' || key === 'M' || key === 'L') {\n\t    var ox = this.x;\n\t    var oy = this.y;\n\t    if (key === 'H') {\n\t      this.x = 0, this.y = 0;\n\t    } else if (key === 'M') {\n\t      this.x = 0, this.y = this.rows / 2 | 0;\n\t    } else if (key === 'L') {\n\t      this.x = 0, this.y = this.rows - 1;\n\t    }\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, this.ydisp + oy, this.ydisp + this.y);\n\t    } else {\n\t      this.refresh(oy, oy);\n\t      this.refresh(this.y, this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === '{' || key === '}') {\n\t    var ox = this.x;\n\t    var oy = this.y;\n\t    var oyd = this.ydisp;\n\t\n\t    var line;\n\t    var saw_full = false;\n\t    var found = false;\n\t    var first_is_space = -1;\n\t    var y = this.y + (key === '{' ? -1 : 1);\n\t    var yb = this.ydisp;\n\t    var i;\n\t\n\t    if (key === '{') {\n\t      if (y < 0) {\n\t        y++;\n\t        if (yb > 0) yb--;\n\t      }\n\t    } else if (key === '}') {\n\t      if (y >= this.rows) {\n\t        y--;\n\t        if (yb < this.ybase) yb++;\n\t      }\n\t    }\n\t\n\t    for (;;) {\n\t      line = this.lines[yb + y];\n\t\n\t      for (i = 0; i < this.cols; i++) {\n\t        if (line[i][1] > ' ') {\n\t          if (first_is_space === -1) {\n\t            first_is_space = 0;\n\t          }\n\t          saw_full = true;\n\t          break;\n\t        } else if (i === this.cols - 1) {\n\t          if (first_is_space === -1) {\n\t            first_is_space = 1;\n\t          } else if (first_is_space === 0) {\n\t            found = true;\n\t          } else if (first_is_space === 1) {\n\t            if (saw_full) found = true;\n\t          }\n\t          break;\n\t        }\n\t      }\n\t\n\t      if (found) break;\n\t\n\t      if (key === '{') {\n\t        y--;\n\t        if (y < 0) {\n\t          y++;\n\t          if (yb > 0) yb--;\n\t          else break;\n\t        }\n\t      } else if (key === '}') {\n\t        y++;\n\t        if (y >= this.rows) {\n\t          y--;\n\t          if (yb < this.ybase) yb++;\n\t          else break;\n\t        }\n\t      }\n\t    }\n\t\n\t    if (!found) {\n\t      if (key === '{') {\n\t        y = 0;\n\t        yb = 0;\n\t      } else if (key === '}') {\n\t        y = this.rows - 1;\n\t        yb = this.ybase;\n\t      }\n\t    }\n\t\n\t    this.x = 0, this.y = y;\n\t    this.scrollDisp(-this.ydisp + yb);\n\t\n\t    if (this.visualMode) {\n\t      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n\t    }\n\t    return;\n\t  }\n\t\n\t  if (key === '/' || key === '?') {\n\t    if (!this.visualMode) {\n\t      this.enterSearch(key === '/');\n\t    }\n\t    return;\n\t  }\n\t\n\t  return false;\n\t};\n\t\n\tTerminal.prototype.keySearch = function(ev, key) {\n\t  if (key === '\\x1b') {\n\t    this.leaveSearch();\n\t    return;\n\t  }\n\t\n\t  if (key === '\\r' || (!this.searchMode && (key === 'n' || key === 'N'))) {\n\t    this.leaveSearch();\n\t\n\t    var entry = this.entry;\n\t\n\t    if (!entry) {\n\t      this.refresh(0, this.rows - 1);\n\t      return;\n\t    }\n\t\n\t    var ox = this.x;\n\t    var oy = this.y;\n\t    var oyd = this.ydisp;\n\t\n\t    var line;\n\t    var found = false;\n\t    var wrapped = false;\n\t    var x = this.x + 1;\n\t    var y = this.ydisp + this.y;\n\t    var yb, i;\n\t    var up = key === 'N'\n\t      ? this.searchDown\n\t      : !this.searchDown;\n\t\n\t    for (;;) {\n\t      line = this.lines[y];\n\t\n\t      while (x < this.cols) {\n\t        for (i = 0; i < entry.length; i++) {\n\t          if (x + i >= this.cols) break;\n\t          if (line[x + i][1] !== entry[i]) {\n\t            break;\n\t          } else if (line[x + i][1] === entry[i] && i === entry.length - 1) {\n\t            found = true;\n\t            break;\n\t          }\n\t        }\n\t        if (found) break;\n\t        x += i + 1;\n\t      }\n\t      if (found) break;\n\t\n\t      x = 0;\n\t\n\t      if (!up) {\n\t        y++;\n\t        if (y > this.ybase + this.rows - 1) {\n\t          if (wrapped) break;\n\t          // this.setMessage('Search wrapped. Continuing at TOP.');\n\t          wrapped = true;\n\t          y = 0;\n\t        }\n\t      } else {\n\t        y--;\n\t        if (y < 0) {\n\t          if (wrapped) break;\n\t          // this.setMessage('Search wrapped. Continuing at BOTTOM.');\n\t          wrapped = true;\n\t          y = this.ybase + this.rows - 1;\n\t        }\n\t      }\n\t    }\n\t\n\t    if (found) {\n\t      if (y - this.ybase < 0) {\n\t        yb = y;\n\t        y = 0;\n\t        if (yb > this.ybase) {\n\t          y = yb - this.ybase;\n\t          yb = this.ybase;\n\t        }\n\t      } else {\n\t        yb = this.ybase;\n\t        y -= this.ybase;\n\t      }\n\t\n\t      this.x = x, this.y = y;\n\t      this.scrollDisp(-this.ydisp + yb);\n\t\n\t      if (this.visualMode) {\n\t        this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n\t      }\n\t      return;\n\t    }\n\t\n\t    // this.setMessage(\"No matches found.\");\n\t    this.refresh(0, this.rows - 1);\n\t\n\t    return;\n\t  }\n\t\n\t  if (key === '\\b' || key === '\\x7f') {\n\t    if (this.entry.length === 0) return;\n\t    var bottom = this.ydisp + this.rows - 1;\n\t    this.entry = this.entry.slice(0, -1);\n\t    var i = this.entryPrefix.length + this.entry.length;\n\t    //this.lines[bottom][i][1] = ' ';\n\t    this.lines[bottom][i] = [\n\t      this.lines[bottom][i][0],\n\t      ' '\n\t    ];\n\t    this.x--;\n\t    this.refresh(this.rows - 1, this.rows - 1);\n\t    this.refresh(this.y, this.y);\n\t    return;\n\t  }\n\t\n\t  if (key.length === 1 && key >= ' ' && key <= '~') {\n\t    var bottom = this.ydisp + this.rows - 1;\n\t    this.entry += key;\n\t    var i = this.entryPrefix.length + this.entry.length - 1;\n\t    //this.lines[bottom][i][0] = (this.defAttr & ~0x1ff) | 4;\n\t    //this.lines[bottom][i][1] = key;\n\t    this.lines[bottom][i] = [\n\t      (this.defAttr & ~0x1ff) | 4,\n\t      key\n\t    ];\n\t    this.x++;\n\t    this.refresh(this.rows - 1, this.rows - 1);\n\t    this.refresh(this.y, this.y);\n\t    return;\n\t  }\n\t\n\t  return false;\n\t};\n\t\n\t/**\n\t * Character Sets\n\t */\n\t\n\tTerminal.charsets = {};\n\t\n\t// DEC Special Character and Line Drawing Set.\n\t// http://vt100.net/docs/vt102-ug/table5-13.html\n\t// A lot of curses apps use this if they see TERM=xterm.\n\t// testing: echo -e '\\e(0a\\e(B'\n\t// The xterm output sometimes seems to conflict with the\n\t// reference above. xterm seems in line with the reference\n\t// when running vttest however.\n\t// The table below now uses xterm's output from vttest.\n\tTerminal.charsets.SCLD = { // (0\n\t  '`': '\\u25c6', // ''\n\t  'a': '\\u2592', // ''\n\t  'b': '\\u0009', // '\\t'\n\t  'c': '\\u000c', // '\\f'\n\t  'd': '\\u000d', // '\\r'\n\t  'e': '\\u000a', // '\\n'\n\t  'f': '\\u00b0', // ''\n\t  'g': '\\u00b1', // ''\n\t  'h': '\\u2424', // '\\u2424' (NL)\n\t  'i': '\\u000b', // '\\v'\n\t  'j': '\\u2518', // ''\n\t  'k': '\\u2510', // ''\n\t  'l': '\\u250c', // ''\n\t  'm': '\\u2514', // ''\n\t  'n': '\\u253c', // ''\n\t  'o': '\\u23ba', // ''\n\t  'p': '\\u23bb', // ''\n\t  'q': '\\u2500', // ''\n\t  'r': '\\u23bc', // ''\n\t  's': '\\u23bd', // ''\n\t  't': '\\u251c', // ''\n\t  'u': '\\u2524', // ''\n\t  'v': '\\u2534', // ''\n\t  'w': '\\u252c', // ''\n\t  'x': '\\u2502', // ''\n\t  'y': '\\u2264', // ''\n\t  'z': '\\u2265', // ''\n\t  '{': '\\u03c0', // ''\n\t  '|': '\\u2260', // ''\n\t  '}': '\\u00a3', // ''\n\t  '~': '\\u00b7'  // ''\n\t};\n\t\n\tTerminal.charsets.UK = null; // (A\n\tTerminal.charsets.US = null; // (B (USASCII)\n\tTerminal.charsets.Dutch = null; // (4\n\tTerminal.charsets.Finnish = null; // (C or (5\n\tTerminal.charsets.French = null; // (R\n\tTerminal.charsets.FrenchCanadian = null; // (Q\n\tTerminal.charsets.German = null; // (K\n\tTerminal.charsets.Italian = null; // (Y\n\tTerminal.charsets.NorwegianDanish = null; // (E or (6\n\tTerminal.charsets.Spanish = null; // (Z\n\tTerminal.charsets.Swedish = null; // (H or (7\n\tTerminal.charsets.Swiss = null; // (=\n\tTerminal.charsets.ISOLatin = null; // /A\n\t\n\t/**\n\t * Helpers\n\t */\n\t\n\tfunction on(el, type, handler, capture) {\n\t  el.addEventListener(type, handler, capture || false);\n\t}\n\t\n\tfunction off(el, type, handler, capture) {\n\t  el.removeEventListener(type, handler, capture || false);\n\t}\n\t\n\tfunction cancel(ev) {\n\t  if (ev.preventDefault) ev.preventDefault();\n\t  ev.returnValue = false;\n\t  if (ev.stopPropagation) ev.stopPropagation();\n\t  ev.cancelBubble = true;\n\t  return false;\n\t}\n\t\n\tfunction inherits(child, parent) {\n\t  function f() {\n\t    this.constructor = child;\n\t  }\n\t  f.prototype = parent.prototype;\n\t  child.prototype = new f;\n\t}\n\t\n\t// if bold is broken, we can't\n\t// use it in the terminal.\n\tfunction isBoldBroken(document) {\n\t  var body = document.getElementsByTagName('body')[0];\n\t  var terminal = document.createElement('div');\n\t  terminal.className = 'terminal';\n\t  var line = document.createElement('div');\n\t  var el = document.createElement('span');\n\t  el.innerHTML = 'hello world';\n\t  line.appendChild(el);\n\t  terminal.appendChild(line);\n\t  body.appendChild(terminal);\n\t  var w1 = el.scrollWidth;\n\t  el.style.fontWeight = 'bold';\n\t  var w2 = el.scrollWidth;\n\t  body.removeChild(terminal);\n\t  return w1 !== w2;\n\t}\n\t\n\tvar String = this.String;\n\tvar setTimeout = this.setTimeout;\n\tvar setInterval = this.setInterval;\n\t\n\tfunction indexOf(obj, el) {\n\t  var i = obj.length;\n\t  while (i--) {\n\t    if (obj[i] === el) return i;\n\t  }\n\t  return -1;\n\t}\n\t\n\tfunction isWide(ch) {\n\t  if (ch <= '\\uff00') return false;\n\t  return (ch >= '\\uff01' && ch <= '\\uffbe')\n\t      || (ch >= '\\uffc2' && ch <= '\\uffc7')\n\t      || (ch >= '\\uffca' && ch <= '\\uffcf')\n\t      || (ch >= '\\uffd2' && ch <= '\\uffd7')\n\t      || (ch >= '\\uffda' && ch <= '\\uffdc')\n\t      || (ch >= '\\uffe0' && ch <= '\\uffe6')\n\t      || (ch >= '\\uffe8' && ch <= '\\uffee');\n\t}\n\t\n\tfunction matchColor(r1, g1, b1) {\n\t  var hash = (r1 << 16) | (g1 << 8) | b1;\n\t\n\t  if (matchColor._cache[hash] != null) {\n\t    return matchColor._cache[hash];\n\t  }\n\t\n\t  var ldiff = Infinity\n\t    , li = -1\n\t    , i = 0\n\t    , c\n\t    , r2\n\t    , g2\n\t    , b2\n\t    , diff;\n\t\n\t  for (; i < Terminal.vcolors.length; i++) {\n\t    c = Terminal.vcolors[i];\n\t    r2 = c[0];\n\t    g2 = c[1];\n\t    b2 = c[2];\n\t\n\t    diff = matchColor.distance(r1, g1, b1, r2, g2, b2);\n\t\n\t    if (diff === 0) {\n\t      li = i;\n\t      break;\n\t    }\n\t\n\t    if (diff < ldiff) {\n\t      ldiff = diff;\n\t      li = i;\n\t    }\n\t  }\n\t\n\t  return matchColor._cache[hash] = li;\n\t}\n\t\n\tmatchColor._cache = {};\n\t\n\t// http://stackoverflow.com/questions/1633828\n\tmatchColor.distance = function(r1, g1, b1, r2, g2, b2) {\n\t  return Math.pow(30 * (r1 - r2), 2)\n\t    + Math.pow(59 * (g1 - g2), 2)\n\t    + Math.pow(11 * (b1 - b2), 2);\n\t};\n\t\n\tfunction each(obj, iter, con) {\n\t  if (obj.forEach) return obj.forEach(iter, con);\n\t  for (var i = 0; i < obj.length; i++) {\n\t    iter.call(con, obj[i], i, obj);\n\t  }\n\t}\n\t\n\tfunction keys(obj) {\n\t  if (Object.keys) return Object.keys(obj);\n\t  var key, keys = [];\n\t  for (key in obj) {\n\t    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t      keys.push(key);\n\t    }\n\t  }\n\t  return keys;\n\t}\n\t\n\t/**\n\t * Expose\n\t */\n\t\n\tTerminal.EventEmitter = EventEmitter;\n\tTerminal.Stream = Stream;\n\tTerminal.inherits = inherits;\n\tTerminal.on = on;\n\tTerminal.off = off;\n\tTerminal.cancel = cancel;\n\t\n\tif (true) {\n\t  !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() { return Terminal; }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t} else if (typeof module !== 'undefined') {\n\t  module.exports = Terminal;\n\t} else {\n\t  this.Terminal = Terminal;\n\t}\n\t\n\t}).call(function() {\n\t  return this || (typeof window !== 'undefined' ? window : global);\n\t}());\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 75 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 76 */,\n/* 77 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.VncActions = undefined;\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar Frame = function Frame(_ref) {\n\t    var url = _ref.url,\n\t        novncContainerId = _ref.novncContainerId;\n\t\n\t    return _react2.default.createElement(\n\t        'iframe',\n\t        { src: url, className: 'machines-console-frame-vnc', frameBorder: '0', name: novncContainerId, 'data-container-id': novncContainerId },\n\t        _(\"Your browser does not support iframes.\")\n\t    );\n\t};\n\tFrame.propTypes = {\n\t    url: _react2.default.PropTypes.string.isRequired,\n\t    novncContainerId: _react2.default.PropTypes.string.isRequired\n\t};\n\t\n\tvar VncActions = exports.VncActions = function VncActions(_ref2) {\n\t    var vm = _ref2.vm;\n\t\n\t    var vmIdPrefix = (0, _helpers.vmId)(vm.name);\n\t    return _react2.default.createElement(\n\t        'span',\n\t        { className: 'console-actions' },\n\t        _(\"Send shortcut\"),\n\t        _react2.default.createElement(\n\t            'button',\n\t            { className: 'btn btn-default console-actions-buttons', id: vmIdPrefix + '-vnc-ctrl-alt-del' },\n\t            'Ctrl+Alt+Del'\n\t        )\n\t    );\n\t};\n\t\n\tvar Vnc = function Vnc(_ref3) {\n\t    var vm = _ref3.vm,\n\t        consoleDetail = _ref3.consoleDetail;\n\t\n\t    if (!consoleDetail) {\n\t        (0, _helpers.logDebug)('Vnc component: console detail not yet provided');\n\t        return null;\n\t    }\n\t\n\t    var vmIdPrefix = (0, _helpers.vmId)(vm.name);\n\t    var novncContainerId = vmIdPrefix + '-novnc-frame-container';\n\t\n\t    var encrypt = window.location.protocol === \"https:\";\n\t    var port = consoleDetail.tlsPort || consoleDetail.port;\n\t\n\t    var params = '?host=' + consoleDetail.address + '&port=' + port + '&encrypt=' + encrypt + '&true_color=1&resize=true&containerId=' + encodeURIComponent(vmIdPrefix);\n\t    params = consoleDetail.password ? params += '&password=' + consoleDetail.password : params;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { id: novncContainerId, className: 'machines-console-frame', style: { height: '100px;' } },\n\t        _react2.default.createElement('br', null),\n\t        _react2.default.createElement(Frame, { url: 'vnc.html' + params, novncContainerId: novncContainerId })\n\t    );\n\t};\n\t\n\texports.default = Vnc;\n\n/***/ },\n/* 78 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar MoreInformationInstallVariant = function MoreInformationInstallVariant(_ref) {\n\t    var os = _ref.os,\n\t        command = _ref.command,\n\t        innerHtml = _ref.innerHtml;\n\t\n\t    return _react2.default.createElement(\n\t        'li',\n\t        { className: 'machines-desktop-install-instructs-item' },\n\t        _react2.default.createElement(\n\t            'div',\n\t            { className: 'machines-desktop-install-instructs-row' },\n\t            _react2.default.createElement(\n\t                'b',\n\t                null,\n\t                os,\n\t                ':'\n\t            ),\n\t            '\\xA0',\n\t            innerHtml && _react2.default.createElement('div', { dangerouslySetInnerHTML: { __html: innerHtml } }),\n\t            !innerHtml && _react2.default.createElement(\n\t                'div',\n\t                { className: 'machines-desktop-shell-command' },\n\t                command\n\t            )\n\t        )\n\t    );\n\t};\n\t\n\tvar MoreInformationContent = function MoreInformationContent() {\n\t    var msg1 = _cockpit2.default.format(_(\"Clicking \\\"Launch Remote Viewer\\\" will download a .vv file and launch $0.\"), '<i>Remote Viewer</i>');\n\t\n\t    var msg2 = _cockpit2.default.format(_(\"$0 is available for most operating systems. To install it, search for it in GNOME Software or run the following:\"), '<i>Remote Viewer</i>');\n\t\n\t    var downloadMsg = _cockpit2.default.format(_(\"Download the MSI from $0\"), '<a href=\"https://virt-manager.org/download/\" target=\"_blank\">virt-manager.org</a>');\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement('br', null),\n\t        _react2.default.createElement('p', { className: 'machines-desktop-more-info-text', dangerouslySetInnerHTML: { __html: msg1 } }),\n\t        _react2.default.createElement('p', { className: 'machines-desktop-more-info-text', dangerouslySetInnerHTML: { __html: msg2 } }),\n\t        _react2.default.createElement(\n\t            'ul',\n\t            { className: 'machines-desktop-install-instructs' },\n\t            _react2.default.createElement(MoreInformationInstallVariant, { os: 'RHEL, CentOS', command: 'sudo yum install virt-viewer' }),\n\t            _react2.default.createElement(MoreInformationInstallVariant, { os: 'Fedora', command: 'sudo dnf install virt-viewer' }),\n\t            _react2.default.createElement(MoreInformationInstallVariant, { os: 'Ubuntu, Debian', command: 'sudo apt-get install virt-viewer' }),\n\t            _react2.default.createElement(MoreInformationInstallVariant, { os: 'Windows', innerHtml: downloadMsg })\n\t        )\n\t    );\n\t};\n\t\n\tvar MoreInformation = function (_React$Component) {\n\t    _inherits(MoreInformation, _React$Component);\n\t\n\t    function MoreInformation(props) {\n\t        _classCallCheck(this, MoreInformation);\n\t\n\t        var _this = _possibleConstructorReturn(this, (MoreInformation.__proto__ || Object.getPrototypeOf(MoreInformation)).call(this, props));\n\t\n\t        _this.state = {\n\t            expanded: false\n\t        };\n\t\n\t        _this.onClick = _this.onClick.bind(_this);\n\t        _this.getContent = _this.getContent.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(MoreInformation, [{\n\t        key: 'onClick',\n\t        value: function onClick() {\n\t            this.setState({\n\t                expanded: !this.state.expanded\n\t            });\n\t        }\n\t    }, {\n\t        key: 'getContent',\n\t        value: function getContent() {\n\t            var vm = this.props.vm;\n\t            var _props$config = this.props.config,\n\t                provider = _props$config.provider,\n\t                providerState = _props$config.providerState;\n\t\n\t\n\t            var content = _react2.default.createElement(MoreInformationContent, null);\n\t            if (provider.ConsoleClientResources) {\n\t                // external provider can have specific instructions for console setup\n\t                var ProviderConsoleClientResources = provider.ConsoleClientResources; // (vm, providerState);\n\t                content = _react2.default.createElement(ProviderConsoleClientResources, { displays: vm.displays, vm: vm, providerState: providerState });\n\t            }\n\t\n\t            return content;\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            if (!this.state.expanded) {\n\t                return _react2.default.createElement(\n\t                    'a',\n\t                    { href: '#', onClick: this.onClick },\n\t                    _react2.default.createElement('span', { className: 'fa fa-angle-right' }),\n\t                    '\\xA0',\n\t                    _(\"More Information\")\n\t                );\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'machines-desktop-more-info-container' },\n\t                _react2.default.createElement(\n\t                    'a',\n\t                    { href: '#', onClick: this.onClick },\n\t                    _react2.default.createElement('span', { className: 'fa fa-angle-down' }),\n\t                    '\\xA0',\n\t                    _(\"More Information\")\n\t                ),\n\t                this.getContent()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return MoreInformation;\n\t}(_react2.default.Component);\n\t\n\tvar ConnectWithRemoteViewer = function ConnectWithRemoteViewer(_ref2) {\n\t    var vm = _ref2.vm,\n\t        config = _ref2.config,\n\t        onDesktopConsole = _ref2.onDesktopConsole;\n\t\n\t    var display = vm.displays.spice;\n\t    if (!display) {\n\t        display = vm.displays.vnc;\n\t    }\n\t    var onLaunch = function onLaunch() {\n\t        return onDesktopConsole(display);\n\t    };\n\t\n\t    return _react2.default.createElement(\n\t        'td',\n\t        { className: 'machines-desktop-main-col' },\n\t        _react2.default.createElement(\n\t            'p',\n\t            { className: 'machines-desktop-viewer-block' },\n\t            _react2.default.createElement(\n\t                'button',\n\t                { onClick: onLaunch, id: (0, _helpers.vmId)(vm.name) + '-consoles-launch' },\n\t                _(\"Launch Remote Viewer\")\n\t            )\n\t        ),\n\t        _react2.default.createElement(\n\t            'p',\n\t            { className: 'machines-desktop-viewer-block' },\n\t            _react2.default.createElement(MoreInformation, { vm: vm, config: config })\n\t        )\n\t    );\n\t};\n\t\n\tvar ManualConnectionDetails = function ManualConnectionDetails(_ref3) {\n\t    var displays = _ref3.displays,\n\t        idPrefix = _ref3.idPrefix;\n\t\n\t    var spiceAddress = displays.spice && displays.spice.address;\n\t    var spicePort = displays.spice && displays.spice.port;\n\t    var spiceTlsPort = displays.spice && displays.spice.tlsPort;\n\t    var vncPort = displays.vnc && displays.vnc.port;\n\t    var vncTlsPort = displays.vnc && displays.vnc.tlsPort;\n\t    var vncAddress = displays.vnc && displays.vnc.address;\n\t\n\t    // deduplicate the address if possible\n\t    var singleAddress = vncAddress && spiceAddress ? vncAddress === spiceAddress && vncAddress : spiceAddress || vncAddress;\n\t\n\t    return _react2.default.createElement(\n\t        'dl',\n\t        { className: 'machines-desktop-manual-con-details' },\n\t        singleAddress && _react2.default.createElement(\n\t            'dt',\n\t            null,\n\t            _(\"Address:\")\n\t        ),\n\t        singleAddress && _react2.default.createElement(\n\t            'dd',\n\t            { id: idPrefix + '-address' },\n\t            singleAddress\n\t        ),\n\t        !singleAddress && spiceAddress && _react2.default.createElement(\n\t            'dt',\n\t            null,\n\t            _(\"SPICE Address:\")\n\t        ),\n\t        !singleAddress && spiceAddress && _react2.default.createElement(\n\t            'dd',\n\t            { id: idPrefix + '-address-spice' },\n\t            spiceAddress\n\t        ),\n\t        !singleAddress && vncAddress && _react2.default.createElement(\n\t            'dt',\n\t            null,\n\t            _(\"VNC Address:\")\n\t        ),\n\t        !singleAddress && vncAddress && _react2.default.createElement(\n\t            'dd',\n\t            { id: idPrefix + '-address-vnc' },\n\t            vncAddress\n\t        ),\n\t        spicePort && _react2.default.createElement(\n\t            'dt',\n\t            null,\n\t            _(\"SPICE Port:\")\n\t        ),\n\t        spicePort && _react2.default.createElement(\n\t            'dd',\n\t            { id: idPrefix + '-port-spice' },\n\t            spicePort\n\t        ),\n\t        spiceTlsPort && _react2.default.createElement(\n\t            'dt',\n\t            null,\n\t            _(\"SPICE TLS Port:\")\n\t        ),\n\t        spiceTlsPort && _react2.default.createElement(\n\t            'dd',\n\t            { id: idPrefix + '-port-spice-tls' },\n\t            spiceTlsPort\n\t        ),\n\t        vncPort && _react2.default.createElement(\n\t            'dt',\n\t            null,\n\t            _(\"VNC Port:\")\n\t        ),\n\t        vncPort && _react2.default.createElement(\n\t            'dd',\n\t            { id: idPrefix + '-port-vnc' },\n\t            vncPort\n\t        ),\n\t        vncTlsPort && _react2.default.createElement(\n\t            'dt',\n\t            null,\n\t            _(\"VNC TLS Port:\")\n\t        ),\n\t        vncTlsPort && _react2.default.createElement(\n\t            'dd',\n\t            { id: idPrefix + '-port-vnc-tls' },\n\t            vncTlsPort\n\t        )\n\t    );\n\t};\n\t\n\tvar ManualConnection = function ManualConnection(_ref4) {\n\t    var displays = _ref4.displays,\n\t        idPrefix = _ref4.idPrefix;\n\t\n\t    var isVNC = !!displays.vnc;\n\t    var isSPICE = !!displays.spice;\n\t\n\t    if (!isVNC && !isSPICE) {\n\t        return null;\n\t    }\n\t\n\t    var msg = _(\"Connect with any SPICE or VNC viewer application.\");\n\t    if (!isVNC || !isSPICE) {\n\t        var protocol = isVNC ? _(\"VNC\") : _(\"SPICE\");\n\t        msg = _cockpit2.default.format(_(\"Connect with any $0 viewer application.\"), protocol);\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'td',\n\t        { className: 'machines-desktop-main-col' },\n\t        _react2.default.createElement(\n\t            'h2',\n\t            null,\n\t            _(\"Manual Connection\")\n\t        ),\n\t        _react2.default.createElement(\n\t            'p',\n\t            { className: 'machines-desktop-manual-block' },\n\t            msg\n\t        ),\n\t        _react2.default.createElement(\n\t            'p',\n\t            { className: 'machines-desktop-manual-block' },\n\t            _react2.default.createElement(ManualConnectionDetails, { displays: displays, idPrefix: idPrefix })\n\t        )\n\t    );\n\t};\n\t\n\tvar DesktopConsoleDownload = function DesktopConsoleDownload(_ref5) {\n\t    var vm = _ref5.vm,\n\t        onDesktopConsole = _ref5.onDesktopConsole,\n\t        config = _ref5.config;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(\n\t            'table',\n\t            { className: 'machines-desktop-main' },\n\t            _react2.default.createElement(\n\t                'tr',\n\t                null,\n\t                _react2.default.createElement(ConnectWithRemoteViewer, { config: config, vm: vm, onDesktopConsole: onDesktopConsole }),\n\t                _react2.default.createElement(ManualConnection, { displays: vm.displays, idPrefix: (0, _helpers.vmId)(vm.name) + '-consoles-manual' })\n\t            )\n\t        )\n\t    );\n\t};\n\t\n\texports.default = DesktopConsoleDownload;\n\n/***/ },\n/* 79 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.deleteDialog = deleteDialog;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpitComponentsDialog = __webpack_require__(43);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\t__webpack_require__(80);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\t// Explicitly use React so that jshint doesn't complain.  The conversion to js inserts\n\t// references to React that jshint doesn't seem to see.\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t_react2.default;\n\t\n\tvar DeleteDialogBody = function DeleteDialogBody(_ref) {\n\t    var values = _ref.values,\n\t        _onChange = _ref.onChange;\n\t\n\t    function disk_row(disk) {\n\t        return _react2.default.createElement(\n\t            'tr',\n\t            null,\n\t            _react2.default.createElement(\n\t                'td',\n\t                null,\n\t                _react2.default.createElement('input', { type: 'checkbox', checked: disk.checked,\n\t                    onChange: function onChange(event) {\n\t                        disk.checked = event.target.checked;\n\t                        _onChange();\n\t                    } })\n\t            ),\n\t            _react2.default.createElement(\n\t                'td',\n\t                null,\n\t                disk.file\n\t            ),\n\t            _react2.default.createElement(\n\t                'td',\n\t                null,\n\t                disk.target\n\t            )\n\t        );\n\t    }\n\t\n\t    var alert = null;\n\t    if (values.destroy) alert = _react2.default.createElement(\n\t        'p',\n\t        null,\n\t        _(\"The VM is running and will be forced off before deletion.\")\n\t    );\n\t\n\t    var disks = null;\n\t    if (values.disks.length > 0) disks = _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(\n\t            'p',\n\t            null,\n\t            _(\"Delete associated storage files:\")\n\t        ),\n\t        _react2.default.createElement(\n\t            'table',\n\t            { className: 'table delete-dialog-disks' },\n\t            _react2.default.createElement(\n\t                'tbody',\n\t                null,\n\t                values.disks.map(disk_row)\n\t            )\n\t        )\n\t    );\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'modal-body' },\n\t        alert,\n\t        disks\n\t    );\n\t};\n\t\n\tfunction deleteDialog(vm, dispatch) {\n\t    var values = {\n\t        destroy: false,\n\t        disks: []\n\t    };\n\t\n\t    Object.keys(vm.disks).sort().forEach(function (t) {\n\t        var d = vm.disks[t];\n\t        if (d.type == 'file' && d.source.file) values.disks.push({ target: d.target, file: d.source.file, checked: !d.readonly });\n\t    });\n\t\n\t    if (vm.state == 'running') values.destroy = true;\n\t\n\t    var dlg = (0, _cockpitComponentsDialog.show_modal_dialog)({ title: _cockpit2.default.format(_(\"Confirm deletion of $0\"), vm.name),\n\t        body: _react2.default.createElement(DeleteDialogBody, { values: values, onChange: function onChange() {\n\t                return dlg.render();\n\t            } })\n\t    }, { actions: [{ caption: _(\"Delete\"),\n\t            style: 'danger',\n\t            clicked: function clicked() {\n\t                var storage = [];\n\t                values.disks.forEach(function (d) {\n\t                    if (d.checked) storage.push(d.target);\n\t                });\n\t                return dispatch((0, _actions.deleteVm)(vm, { destroy: values.destroy, storage: storage }));\n\t            }\n\t        }]\n\t    });\n\t}\n\n/***/ },\n/* 80 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 81 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\t__webpack_require__(82);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_react2.default;\n\t\n\t/**\n\t * Render group of buttons as a dropdown\n\t *\n\t * @param buttons array of objects [ {title, action, id}, ... ].\n\t *        At least one button is required. Button id is optional.\n\t * @returns {*}\n\t * @constructor\n\t */\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2018 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar DropdownButtons = function DropdownButtons(_ref) {\n\t    var buttons = _ref.buttons;\n\t\n\t    if (buttons.length > 1) {\n\t        // do not display caret for single option\n\t        var buttonsHtml = buttons.filter(function (button) {\n\t            return buttons[0].id === undefined || buttons[0].id !== button.id;\n\t        }).map(function (button) {\n\t            return _react2.default.createElement(\n\t                'li',\n\t                { className: 'presentation' },\n\t                _react2.default.createElement(\n\t                    'a',\n\t                    { role: 'menuitem', onClick: (0, _helpers.mouseClick)(button.action), id: button.id },\n\t                    button.title\n\t                )\n\t            );\n\t        });\n\t\n\t        var caretId = buttons[0]['id'] ? buttons[0]['id'] + '-caret' : undefined;\n\t        return _react2.default.createElement(\n\t            'div',\n\t            { className: 'btn-group dropdown-buttons-container' },\n\t            _react2.default.createElement(\n\t                'button',\n\t                { className: 'btn btn-default btn-danger', id: buttons[0].id, onClick: (0, _helpers.mouseClick)(buttons[0].action) },\n\t                buttons[0].title\n\t            ),\n\t            _react2.default.createElement(\n\t                'button',\n\t                { 'data-toggle': 'dropdown', className: 'btn btn-default dropdown-toggle' },\n\t                _react2.default.createElement('span', { className: 'caret', id: caretId })\n\t            ),\n\t            _react2.default.createElement(\n\t                'ul',\n\t                { role: 'menu', className: 'dropdown-menu' },\n\t                buttonsHtml\n\t            )\n\t        );\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'btn-group' },\n\t        _react2.default.createElement(\n\t            'button',\n\t            { className: 'btn btn-default btn-danger', onClick: (0, _helpers.mouseClick)(buttons[0].action), id: buttons[0]['id'] },\n\t            buttons[0].title\n\t        )\n\t    );\n\t};\n\tDropdownButtons.propTypes = {\n\t    buttons: _react.PropTypes.array.isRequired\n\t};\n\t\n\texports.default = DropdownButtons;\n\n/***/ },\n/* 82 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 83 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.createVmDialog = undefined;\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpitComponentsDialog = __webpack_require__(43);\n\t\n\tvar _cockpitComponentsDialog2 = _interopRequireDefault(_cockpitComponentsDialog);\n\t\n\tvar _cockpitComponentsSelect = __webpack_require__(71);\n\t\n\tvar _cockpitComponentsSelect2 = _interopRequireDefault(_cockpitComponentsSelect);\n\t\n\tvar _cockpitComponentsFileAutocomplete = __webpack_require__(84);\n\t\n\tvar _cockpitComponentsFileAutocomplete2 = _interopRequireDefault(_cockpitComponentsFileAutocomplete);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _createVmDialogUtils = __webpack_require__(86);\n\t\n\t__webpack_require__(87);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar URL_SOURCE = 'url';\n\tvar COCKPIT_FILESYSTEM_SOURCE = 'file';\n\t\n\tvar WAIT_IF_SCRIPT_FAILS_WITH_ERROR = 3000; // 3s\n\t\n\tvar MemorySelectRow = function MemorySelectRow(_ref) {\n\t    var label = _ref.label,\n\t        id = _ref.id,\n\t        value = _ref.value,\n\t        initialUnit = _ref.initialUnit,\n\t        onValueChange = _ref.onValueChange,\n\t        onUnitChange = _ref.onUnitChange;\n\t\n\t    return _react2.default.createElement(\n\t        'tr',\n\t        null,\n\t        _react2.default.createElement(\n\t            'td',\n\t            { className: 'top' },\n\t            _react2.default.createElement(\n\t                'label',\n\t                { className: 'control-label', htmlFor: id },\n\t                label\n\t            )\n\t        ),\n\t        _react2.default.createElement(\n\t            'td',\n\t            null,\n\t            _react2.default.createElement(\n\t                'div',\n\t                { className: 'thirty-five-spaced-table' },\n\t                _react2.default.createElement(\n\t                    'span',\n\t                    { className: 'evenly-spaced-cell' },\n\t                    _react2.default.createElement(\n\t                        'div',\n\t                        { className: 'evenly-spaced-table' },\n\t                        _react2.default.createElement(\n\t                            'span',\n\t                            { className: 'evenly-spaced-cell' },\n\t                            _react2.default.createElement('input', { id: id, className: 'form-control',\n\t                                type: 'number',\n\t                                value: (0, _helpers.toFixedPrecision)(value),\n\t                                onKeyPress: _helpers.digitFilter,\n\t                                step: 1,\n\t                                min: 0,\n\t                                onChange: onValueChange })\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'span',\n\t                            { className: 'thirty-five-spaced-cell padding-left' },\n\t                            _react2.default.createElement(\n\t                                _cockpitComponentsSelect2.default.Select,\n\t                                { id: id + \"-unit-select\",\n\t                                    initial: initialUnit,\n\t                                    onChange: onUnitChange },\n\t                                _react2.default.createElement(\n\t                                    _cockpitComponentsSelect2.default.SelectEntry,\n\t                                    { data: _helpers.units.MiB.name, key: _helpers.units.MiB.name },\n\t                                    _(\"MiB\")\n\t                                ),\n\t                                _react2.default.createElement(\n\t                                    _cockpitComponentsSelect2.default.SelectEntry,\n\t                                    { data: _helpers.units.GiB.name, key: _helpers.units.GiB.name },\n\t                                    _(\"GiB\")\n\t                                )\n\t                            )\n\t                        )\n\t                    )\n\t                )\n\t            )\n\t        )\n\t    );\n\t};\n\t\n\t/* Create a virtual machine\n\t * props:\n\t *  - valuesChanged callback for changed values with the signature (key, value)\n\t */\n\t\n\tvar CreateVM = function (_React$Component) {\n\t    _inherits(CreateVM, _React$Component);\n\t\n\t    function CreateVM(props) {\n\t        _classCallCheck(this, CreateVM);\n\t\n\t        var _this = _possibleConstructorReturn(this, (CreateVM.__proto__ || Object.getPrototypeOf(CreateVM)).call(this, props));\n\t\n\t        _this.state = {\n\t            vendor: props.vmParams.vendor,\n\t            os: props.vmParams.os,\n\t            memorySize: (0, _helpers.convertToUnit)(props.vmParams.memorySize, _helpers.units.MiB, _helpers.units.GiB), // tied to Unit\n\t            memorySizeUnit: _helpers.units.GiB.name,\n\t            storageSize: props.vmParams.storageSize, // tied to Unit\n\t            storageSizeUnit: _helpers.units.GiB.name,\n\t            sourceType: props.vmParams.sourceType\n\t        };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(CreateVM, [{\n\t        key: 'onChangedEventValue',\n\t        value: function onChangedEventValue(key, e) {\n\t            if (e && e.target && typeof e.target.value !== 'undefined') {\n\t                this.onChangedValue(key, e.target.value);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'onChangedEventChecked',\n\t        value: function onChangedEventChecked(key, e) {\n\t            if (e && e.target && typeof e.target.checked === \"boolean\") {\n\t                this.onChangedValue(key, e.target.checked);\n\t            }\n\t        }\n\t    }, {\n\t        key: 'onChangedValue',\n\t        value: function onChangedValue(key, value, valueParams) {\n\t            var _this2 = this;\n\t\n\t            var notifyValuesChanged = function notifyValuesChanged(key, value) {\n\t                if (_this2.props.valuesChanged) {\n\t                    _this2.props.valuesChanged(key, value);\n\t                }\n\t            };\n\t\n\t            switch (key) {\n\t                case 'vendor':\n\t                    {\n\t                        var _setState;\n\t\n\t                        var os = this.props.vendorMap[value][0].shortId;\n\t                        this.setState((_setState = {}, _defineProperty(_setState, key, value), _defineProperty(_setState, 'os', os), _setState));\n\t                        notifyValuesChanged('os', os);\n\t                        break;\n\t                    }\n\t                case 'os':\n\t                    this.setState(_defineProperty({}, key, value));\n\t                    break;\n\t                case 'source':\n\t                    if (valueParams) {\n\t                        notifyValuesChanged('error', valueParams.error);\n\t                    }\n\t                    break;\n\t                case 'sourceType':\n\t                    this.setState(_defineProperty({}, key, value));\n\t                    notifyValuesChanged('source', null);\n\t                    notifyValuesChanged('error', null);\n\t                    break;\n\t                case 'memorySize':\n\t                    this.setState(_defineProperty({}, key, value));\n\t                    value = (0, _helpers.convertToUnit)(value, this.state.memorySizeUnit, _helpers.units.MiB);\n\t                    break;\n\t                case 'storageSize':\n\t                    this.setState(_defineProperty({}, key, value));\n\t                    value = (0, _helpers.convertToUnit)(value, this.state.storageSizeUnit, _helpers.units.GiB);\n\t                    break;\n\t                case 'memorySizeUnit':\n\t                    this.setState(_defineProperty({}, key, value));\n\t                    value = (0, _helpers.convertToUnit)(this.state.memorySize, value, _helpers.units.MiB);\n\t                    key = 'memorySize';\n\t                    break;\n\t                case 'storageSizeUnit':\n\t                    this.setState(_defineProperty({}, key, value));\n\t                    value = (0, _helpers.convertToUnit)(this.state.storageSize, value, _helpers.units.GiB);\n\t                    key = 'storageSize';\n\t                    break;\n\t                default:\n\t                    break;\n\t            }\n\t\n\t            notifyValuesChanged(key, value);\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var vendorSelectEntries = [];\n\t\n\t            if (this.props.familyMap[_createVmDialogUtils.DIVIDER_FAMILY]) {\n\t                vendorSelectEntries.push(_react2.default.createElement(\n\t                    _cockpitComponentsSelect2.default.SelectEntry,\n\t                    { data: _createVmDialogUtils.NOT_SPECIFIED, key: _createVmDialogUtils.NOT_SPECIFIED },\n\t                    _(_createVmDialogUtils.NOT_SPECIFIED)\n\t                ));\n\t                vendorSelectEntries.push(_react2.default.createElement(_cockpitComponentsSelect2.default.SelectDivider, null));\n\t            }\n\t\n\t            this.props.familyList.forEach(function (_ref2) {\n\t                var family = _ref2.family,\n\t                    vendors = _ref2.vendors;\n\t\n\t                if (family === _createVmDialogUtils.DIVIDER_FAMILY) {\n\t                    return;\n\t                }\n\t                vendorSelectEntries.push(_react2.default.createElement(\n\t                    _cockpitComponentsSelect2.default.SelectHeader,\n\t                    null,\n\t                    family\n\t                ));\n\t\n\t                vendors.forEach(function (vendor) {\n\t                    vendorSelectEntries.push(_react2.default.createElement(\n\t                        _cockpitComponentsSelect2.default.SelectEntry,\n\t                        { data: vendor, key: vendor },\n\t                        vendor\n\t                    ));\n\t                });\n\t            });\n\t\n\t            var osEntries = this.props.vendorMap[this.state.vendor].map(function (os) {\n\t                return _react2.default.createElement(\n\t                    _cockpitComponentsSelect2.default.SelectEntry,\n\t                    { data: os.shortId,\n\t                        key: os.shortId },\n\t                    (0, _createVmDialogUtils.getOSStringRepresentation)(os)\n\t                );\n\t            });\n\t\n\t            var installationSource = void 0;\n\t            var installationSourceId = void 0;\n\t            switch (this.state.sourceType) {\n\t                case COCKPIT_FILESYSTEM_SOURCE:\n\t                    installationSourceId = \"source-file\";\n\t                    installationSource = _react2.default.createElement(_cockpitComponentsFileAutocomplete2.default.FileAutoComplete, { id: installationSourceId,\n\t                        placeholder: _(\"Path to ISO file on host's file system\"),\n\t                        onChange: this.onChangedValue.bind(this, 'source') });\n\t                    break;\n\t                case URL_SOURCE:\n\t                default:\n\t                    installationSourceId = \"source-url\";\n\t                    installationSource = _react2.default.createElement('input', { id: installationSourceId, className: 'form-control',\n\t                        type: 'text',\n\t                        minLength: 1,\n\t                        placeholder: _(\"Remote URL\"),\n\t                        value: this.props.vmParams.source,\n\t                        onChange: this.onChangedEventValue.bind(this, 'source') });\n\t                    break;\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'modal-body modal-dialog-body-table' },\n\t                _react2.default.createElement(\n\t                    'table',\n\t                    { className: 'form-table-ct' },\n\t                    _react2.default.createElement(\n\t                        'tr',\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            { className: 'top' },\n\t                            _react2.default.createElement(\n\t                                'label',\n\t                                { className: 'control-label', htmlFor: 'vm-name' },\n\t                                _(\"Name\")\n\t                            )\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            null,\n\t                            _react2.default.createElement('input', { id: 'vm-name', className: 'form-control', type: 'text', minLength: 1,\n\t                                value: this.props.vmParams.vmName,\n\t                                onChange: this.onChangedEventValue.bind(this, 'vmName') })\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        'tr',\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            { className: 'top' },\n\t                            _react2.default.createElement(\n\t                                'label',\n\t                                { className: 'control-label', htmlFor: 'source-type' },\n\t                                _(\"Installation Source Type\")\n\t                            )\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            null,\n\t                            _react2.default.createElement(\n\t                                _cockpitComponentsSelect2.default.Select,\n\t                                { id: 'source-type',\n\t                                    initial: this.state.sourceType,\n\t                                    onChange: this.onChangedValue.bind(this, 'sourceType') },\n\t                                _react2.default.createElement(\n\t                                    _cockpitComponentsSelect2.default.SelectEntry,\n\t                                    { data: COCKPIT_FILESYSTEM_SOURCE,\n\t                                        key: COCKPIT_FILESYSTEM_SOURCE },\n\t                                    _(\"Filesystem\")\n\t                                ),\n\t                                _react2.default.createElement(\n\t                                    _cockpitComponentsSelect2.default.SelectEntry,\n\t                                    { data: URL_SOURCE, key: URL_SOURCE },\n\t                                    _(\"URL\")\n\t                                )\n\t                            )\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        'tr',\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            { className: 'top' },\n\t                            _react2.default.createElement(\n\t                                'label',\n\t                                { className: 'control-label', htmlFor: installationSourceId },\n\t                                _(\"Installation Source\")\n\t                            )\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            null,\n\t                            installationSource\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        'tr',\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            { className: 'top' },\n\t                            _react2.default.createElement(\n\t                                'label',\n\t                                { className: 'control-label', htmlFor: 'vendor-select' },\n\t                                _(\"OS Vendor\")\n\t                            )\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            null,\n\t                            _react2.default.createElement(\n\t                                _cockpitComponentsSelect2.default.Select,\n\t                                { id: 'vendor-select',\n\t                                    initial: this.state.vendor,\n\t                                    onChange: this.onChangedValue.bind(this, 'vendor') },\n\t                                vendorSelectEntries\n\t                            )\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        'tr',\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            { className: 'top' },\n\t                            _react2.default.createElement(\n\t                                'label',\n\t                                { className: 'control-label', htmlFor: 'vendor-select' },\n\t                                _(\"Operating System\")\n\t                            )\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            null,\n\t                            _react2.default.createElement(\n\t                                _cockpitComponentsSelect2.default.StatelessSelect,\n\t                                { id: 'system-select',\n\t                                    selected: this.state.os,\n\t                                    onChange: this.onChangedValue.bind(this, 'os') },\n\t                                osEntries\n\t                            )\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(MemorySelectRow, { label: _(\"Memory\"),\n\t                        id: \"memory-size\",\n\t                        value: this.state.memorySize,\n\t                        initialUnit: this.state.memorySizeUnit,\n\t                        onValueChange: this.onChangedEventValue.bind(this, 'memorySize'),\n\t                        onUnitChange: this.onChangedValue.bind(this, 'memorySizeUnit') }),\n\t                    _react2.default.createElement(MemorySelectRow, { label: _(\"Storage Size\"),\n\t                        id: \"storage-size\",\n\t                        value: this.state.storageSize,\n\t                        initialUnit: this.state.storageSizeUnit,\n\t                        onValueChange: this.onChangedEventValue.bind(this, 'storageSize'),\n\t                        onUnitChange: this.onChangedValue.bind(this, 'storageSizeUnit') }),\n\t                    _react2.default.createElement(\n\t                        'tr',\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            { className: 'top' },\n\t                            _react2.default.createElement(\n\t                                'label',\n\t                                { className: 'control-label', htmlFor: 'start-vm' },\n\t                                _(\"Immediately Start VM\")\n\t                            )\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'td',\n\t                            null,\n\t                            _react2.default.createElement('input', { id: 'start-vm', className: 'form-control dialog-checkbox', type: 'checkbox',\n\t                                checked: this.props.vmParams.startVm,\n\t                                onChange: this.onChangedEventChecked.bind(this, 'startVm') })\n\t                        )\n\t                    )\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CreateVM;\n\t}(_react2.default.Component);\n\t\n\tCreateVM.propTypes = {\n\t    valuesChanged: _react.PropTypes.func.isRequired,\n\t    vmParams: _react.PropTypes.object.isRequired,\n\t    vendorMap: _react.PropTypes.object.isRequired,\n\t    familyMap: _react.PropTypes.object.isRequired,\n\t    familyList: _react.PropTypes.array.isRequired\n\t};\n\t\n\tfunction validateParams(vmParams) {\n\t    if ((0, _helpers.isEmpty)(vmParams.vmName)) {\n\t        return _(\"Name should not be empty\");\n\t    }\n\t\n\t    vmParams.vmName = vmParams.vmName.trim();\n\t    if ((0, _helpers.isEmpty)(vmParams.vmName)) {\n\t        return _(\"Name should not consist of empty characters only\");\n\t    }\n\t\n\t    if (vmParams.error) {\n\t        return vmParams.error;\n\t    }\n\t\n\t    vmParams.source = vmParams.source ? vmParams.source.trim() : null;\n\t    if (!(0, _helpers.isEmpty)(vmParams.source)) {\n\t        switch (vmParams.sourceType) {\n\t            case COCKPIT_FILESYSTEM_SOURCE:\n\t                if (!vmParams.source.startsWith(\"/\")) {\n\t                    return _(\"Invalid filename\");\n\t                }\n\t                break;\n\t            case URL_SOURCE:\n\t            default:\n\t                if (!vmParams.source.startsWith(\"http\") && !vmParams.source.startsWith(\"ftp\") && !vmParams.source.startsWith(\"nfs\")) {\n\t                    return _(\"Source should start with http, ftp or nfs protocol\");\n\t                }\n\t                break;\n\t        }\n\t        if (vmParams.source === \"/\") {\n\t            vmParams.source = null;\n\t        }\n\t    }\n\t\n\t    if ((0, _helpers.isEmpty)(vmParams.source)) {\n\t        return _(\"Installation Source should not be empty\");\n\t    }\n\t\n\t    if (vmParams.memorySize <= 0) {\n\t        return _(\"Memory should be positive number\");\n\t    }\n\t\n\t    if (vmParams.storageSize < 0) {\n\t        return _(\"Storage Size should not be negative number\");\n\t    }\n\t}\n\t\n\tvar createVmDialog = exports.createVmDialog = function createVmDialog(dispatch, osInfoList) {\n\t    var vmParams = {\n\t        'vmName': null,\n\t        \"sourceType\": COCKPIT_FILESYSTEM_SOURCE,\n\t        'source': null,\n\t        'vendor': _createVmDialogUtils.NOT_SPECIFIED,\n\t        \"os\": _createVmDialogUtils.OTHER_OS_SHORT_ID,\n\t        'memorySize': 1024, // MiB\n\t        'storageSize': 10, // GiB\n\t        'startVm': false,\n\t        'error': null\n\t    };\n\t\n\t    var changeParams = function changeParams(key, value) {\n\t        vmParams[key] = value;\n\t    };\n\t\n\t    var vendors = (0, _createVmDialogUtils.prepareVendors)(osInfoList);\n\t\n\t    var dialogBody = _react2.default.createElement(CreateVM, { vmParams: vmParams,\n\t        familyList: vendors.familyList,\n\t        familyMap: vendors.familyMap,\n\t        vendorMap: vendors.vendorMap,\n\t        valuesChanged: changeParams });\n\t\n\t    var dialogProps = {\n\t        'title': _(\"Create New Virtual Machine\"),\n\t        'body': dialogBody\n\t    };\n\t\n\t    // also test modifying properties in subsequent render calls\n\t    var footerProps = {\n\t        'actions': [{\n\t            'clicked': function clicked() {\n\t                var error = validateParams(vmParams);\n\t                if (error) {\n\t                    return _cockpit2.default.defer().reject(error).promise;\n\t                } else {\n\t                    return (0, _helpers.timeoutedPromise)(dispatch((0, _actions.createVm)(vmParams)), WAIT_IF_SCRIPT_FAILS_WITH_ERROR);\n\t                }\n\t            },\n\t            'caption': _(\"Create\"),\n\t            'style': 'primary'\n\t        }]\n\t    };\n\t\n\t    _cockpitComponentsDialog2.default.show_modal_dialog(dialogProps, footerProps);\n\t};\n\n/***/ },\n/* 84 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\"use strict\";\n\t\n\tvar cockpit = __webpack_require__(21);\n\tvar React = __webpack_require__(13);\n\tvar _ = cockpit.gettext;\n\t__webpack_require__(85);\n\t\n\tvar FileAutoComplete = React.createClass({\n\t    displayName: \"FileAutoComplete\",\n\t\n\t    propTypes: {\n\t        id: React.PropTypes.string,\n\t        placeholder: React.PropTypes.string,\n\t        value: React.PropTypes.string,\n\t        superuser: React.PropTypes.string,\n\t        onChange: React.PropTypes.func\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        var value = this.props.value || \"\";\n\t        this.updateFiles(value);\n\t        return {\n\t            value: value,\n\t            directory: '/',\n\t            directoryFiles: null,\n\t            displayFiles: [],\n\t            open: false,\n\t            error: null\n\t        };\n\t    },\n\t\n\t\n\t    getDirectoryForValue: function getDirectoryForValue(value) {\n\t        var dir = \"\";\n\t        var last;\n\t        if (value) {\n\t            value = value.trim();\n\t            last = value.lastIndexOf(\"/\");\n\t            if (last > -1) dir = value.slice(0, last);\n\t            dir += \"/\";\n\t        }\n\t\n\t        if (dir.indexOf(\"/\") !== 0) dir = \"/\" + dir;\n\t\n\t        return dir;\n\t    },\n\t\n\t    onChange: function onChange(value) {\n\t        if (value && value.indexOf(\"/\") !== 0) value = \"/\" + value;\n\t\n\t        var stateUpdate;\n\t        if (!this.updateIfDirectoryChanged(value)) stateUpdate = this.filterFiles(value);else stateUpdate = {};\n\t\n\t        stateUpdate.value = value;\n\t        this.setState(stateUpdate);\n\t\n\t        this.onChangeCallback(value, {\n\t            error: stateUpdate.error\n\t        });\n\t    },\n\t    onChangeCallback: function onChangeCallback(value, options) {\n\t        if (this.props.onChange) this.props.onChange(value, options);\n\t    },\n\t\n\t    onMouseDown: function onMouseDown(ev) {\n\t        // only consider clicks with the primary button\n\t        if (ev && ev.button !== 0) return;\n\t\n\t        if (ev.target.tagName == 'A') {\n\t            this.setState({\n\t                selecting: true\n\t            });\n\t        }\n\t    },\n\t\n\t    onBlur: function onBlur() {\n\t        if (this.state.selecting) return;\n\t\n\t        if (this.timer) window.clearTimeout(this.timer);\n\t\n\t        this.setState({\n\t            open: false\n\t        });\n\t    },\n\t\n\t    delayedOnChange: function delayedOnChange(ev) {\n\t        var self = this;\n\t        var value = ev.currentTarget.value;\n\t        if (this.timer) window.clearTimeout(this.timer);\n\t\n\t        if (this.state.value !== value) this.timer = window.setTimeout(function () {\n\t            self.onChange(value);\n\t            self.timer = null;\n\t        }, 250);\n\t    },\n\t\n\t    updateFiles: function updateFiles(path) {\n\t        var self = this;\n\t        var channel = cockpit.channel({ payload: \"fslist1\",\n\t            path: path || \"/\",\n\t            superuser: this.props.superuser });\n\t\n\t        var results = [];\n\t        var error = null;\n\t\n\t        channel.addEventListener(\"ready\", function () {\n\t            self.finishUpdate(results, null);\n\t        });\n\t\n\t        channel.addEventListener(\"close\", function (ev, data) {\n\t            self.finishUpdate(results, error || cockpit.format(cockpit.message(data)));\n\t        });\n\t\n\t        channel.addEventListener(\"message\", function (ev, data) {\n\t            var item = JSON.parse(data);\n\t            if (item && item.path) {\n\t                if (item.type == \"directory\") item.path = item.path + \"/\";\n\t                results.push(item);\n\t            }\n\t\n\t            if (results.length > 5000) {\n\t                error = _(\"Too many files found\");\n\t                channel.close();\n\t            }\n\t        });\n\t    },\n\t\n\t    updateIfDirectoryChanged: function updateIfDirectoryChanged(value) {\n\t        var directory = this.getDirectoryForValue(value);\n\t        var changed = directory !== this.state.directory;\n\t        if (changed && this.state.directoryFiles !== null) {\n\t            this.setState({\n\t                displayFiles: [],\n\t                directoryFiles: null,\n\t                directory: directory,\n\t                open: false\n\t            });\n\t            this.updateFiles(directory);\n\t        }\n\t        return changed;\n\t    },\n\t\n\t    finishUpdate: function finishUpdate(results, error) {\n\t        results = results.sort(function (a, b) {\n\t            return a.path.localeCompare(b.path, { sensitivity: 'base' });\n\t        });\n\t\n\t        this.onChangeCallback(this.state.value, {\n\t            error: error\n\t        });\n\t\n\t        this.setState({\n\t            displayFiles: results,\n\t            directoryFiles: results,\n\t            error: error\n\t        });\n\t    },\n\t\n\t    filterFiles: function filterFiles(value) {\n\t        var inputValue = value.trim().toLowerCase();\n\t        var dirLength = this.state.directory.length;\n\t        var matches = [];\n\t        var inputLength;\n\t\n\t        inputValue = inputValue.slice(dirLength);\n\t        inputLength = inputValue.length;\n\t\n\t        var error;\n\t\n\t        if (this.state.directoryFiles !== null) {\n\t            matches = this.state.directoryFiles.filter(function (v) {\n\t                return v.path.toLowerCase().slice(0, inputLength) === inputValue;\n\t            });\n\t\n\t            if (matches.length < 1) error = _(\"No matching files found\");\n\t        } else {\n\t            error = this.state.error;\n\t        }\n\t\n\t        return {\n\t            displayFiles: matches,\n\t            open: true,\n\t            error: error\n\t        };\n\t    },\n\t\n\t    showAllOptions: function showAllOptions(ev) {\n\t        // only consider clicks with the primary button\n\t        if (ev && ev.button !== 0) return;\n\t\n\t        this.setState({\n\t            open: !this.state.open,\n\t            displayFiles: this.state.directoryFiles || []\n\t        });\n\t    },\n\t\n\t    selectItem: function selectItem(ev) {\n\t        // only consider clicks with the primary button\n\t        if (ev && ev.button !== 0) return;\n\t\n\t        if (ev.target.tagName == 'A') {\n\t            var value = ev.target.innerText;\n\t            var directory = this.state.directory || \"/\";\n\t\n\t            if (directory.charAt(directory.length - 1) !== '/') directory = directory + \"/\";\n\t\n\t            value = directory + value;\n\t            this.setState({\n\t                open: false,\n\t                value: value,\n\t                selecting: false\n\t            });\n\t\n\t            this.onChangeCallback(value, {\n\t                error: this.state.error\n\t            });\n\t\n\t            this.refs.input.focus();\n\t            this.updateIfDirectoryChanged(value);\n\t        }\n\t    },\n\t\n\t    renderError: function renderError(error) {\n\t        return React.createElement(\n\t            \"li\",\n\t            { className: \"alert alert-warning\" },\n\t            error\n\t        );\n\t    },\n\t\n\t    render: function render() {\n\t        var placeholder = this.props.placeholder || _(\"Path to file\");\n\t        var controlClasses = \"form-control-feedback \";\n\t        var classes = \"input-group\";\n\t        if (this.state.open) classes += \" open\";\n\t\n\t        if (this.state.directoryFiles === null) controlClasses += \"spinner spinner-xs spinner-inline\";else controlClasses += \"caret\";\n\t\n\t        var listItems;\n\t\n\t        if (this.state.error) {\n\t            listItems = [this.renderError(this.state.error)];\n\t            classes += \" error\";\n\t        } else {\n\t            listItems = React.Children.map(this.state.displayFiles, function (file) {\n\t                return React.createElement(\n\t                    \"li\",\n\t                    { className: file.type },\n\t                    React.createElement(\n\t                        \"a\",\n\t                        { \"data-type\": file.type },\n\t                        file.path\n\t                    )\n\t                );\n\t            });\n\t        }\n\t\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"combobox-container\", id: this.props.id },\n\t            React.createElement(\n\t                \"div\",\n\t                { className: classes },\n\t                React.createElement(\"input\", { ref: \"input\", autocomplete: \"false\", placeholder: placeholder, className: \"combobox form-control\", type: \"text\", onChange: this.delayedOnChange, value: this.state.value, onBlur: this.onBlur }),\n\t                React.createElement(\"span\", { onClick: this.showAllOptions, className: controlClasses }),\n\t                React.createElement(\n\t                    \"ul\",\n\t                    { onMouseDown: this.onMouseDown, onClick: this.selectItem, className: \"typeahead typeahead-long dropdown-menu\" },\n\t                    listItems\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\tmodule.exports = {\n\t    FileAutoComplete: FileAutoComplete\n\t};\n\n/***/ },\n/* 85 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 86 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.DIVIDER_FAMILY = exports.NOT_SPECIFIED = exports.OTHER_OS_SHORT_ID = exports.OTHER_OS = undefined;\n\texports.getOSStringRepresentation = getOSStringRepresentation;\n\texports.prepareVendors = prepareVendors;\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar OTHER_OS = exports.OTHER_OS = \"Other OS\";\n\tvar OTHER_OS_SHORT_ID = exports.OTHER_OS_SHORT_ID = \"other-os\";\n\tvar NOT_SPECIFIED = exports.NOT_SPECIFIED = \"Unspecified\";\n\tvar DIVIDER_FAMILY = exports.DIVIDER_FAMILY = \"Divider\";\n\t\n\tvar LINUX = 'linux';\n\tvar WINDOWS = 'windows';\n\tvar BSD = 'bsd';\n\t\n\tvar IGNORE_VENDORS = ['ALTLinux', 'Mandriva', 'GNOME Project'];\n\t\n\tvar ACCEPT_RELEASE_DATES_AFTER = (0, _helpers.getTodayYearShifted)(-3);\n\tvar ACCEPT_EOL_DATES_AFTER = (0, _helpers.getTodayYearShifted)(-1);\n\t\n\tfunction getOSStringRepresentation(os) {\n\t    var appendix = '';\n\t\n\t    if (os.version && !os.name.includes(os.version)) {\n\t        appendix += os.version;\n\t    }\n\t    if (os.codename) {\n\t        appendix += (appendix ? ' ' : '') + os.codename;\n\t    }\n\t    if (appendix) {\n\t        appendix = \" (\" + appendix + \")\";\n\t    }\n\t\n\t    return \"\" + os.name + appendix;\n\t}\n\t\n\tfunction prepareVendors(osInfoList) {\n\t    var familyMap = {};\n\t    var vendorMap = {};\n\t\n\t    osInfoList = [].concat(_toConsumableArray(osInfoList));\n\t    osInfoList.push({\n\t        'shortId': OTHER_OS_SHORT_ID,\n\t        'name': OTHER_OS,\n\t        'version': null,\n\t        'family': DIVIDER_FAMILY,\n\t        'vendor': NOT_SPECIFIED\n\t    });\n\t\n\t    osInfoList.forEach(function (os) {\n\t        os.sort_family = os.family;\n\t        os.sort_vendor = os.vendor;\n\t\n\t        if (os.version) {\n\t            os.version = os.version.trim();\n\t        }\n\t\n\t        correctSpecialCases(os);\n\t\n\t        // filter old linux distros\n\t        if (os.sort_family === LINUX && (IGNORE_VENDORS.includes(os.sort_vendor) || filterReleaseEolDates(os))) {\n\t            return;\n\t        }\n\t\n\t        if (!familyMap[os.sort_family]) {\n\t            familyMap[os.sort_family] = {};\n\t        }\n\t\n\t        if (!(vendorMap[os.sort_vendor] instanceof Array)) {\n\t            vendorMap[os.sort_vendor] = [];\n\t            familyMap[os.sort_family][os.sort_vendor] = null;\n\t        }\n\t        vendorMap[os.sort_vendor].push(os);\n\t    });\n\t\n\t    Object.keys(vendorMap).forEach(function (vendor) {\n\t        // distro sort\n\t        vendorMap[vendor] = vendorMap[vendor].sort(function (a, b) {\n\t            if (!a.sortByVersionOnly) {\n\t                var result = compareDates(a.releaseDate, b.releaseDate, true); // sort by release date\n\t                if (result) {\n\t                    return result;\n\t                }\n\t            }\n\t\n\t            return (b.version + \"\").localeCompare(a.version, undefined, { // then sort by version\n\t                numeric: true,\n\t                sensitivity: 'base'\n\t            });\n\t        });\n\t    });\n\t\n\t    var familyList = Object.keys(familyMap).sort(function (a, b) {\n\t        // families sort\n\t        return customVendorSort(a, b) || a.localeCompare(b);\n\t    }).map(function (family) {\n\t        // vendor sort\n\t        var vendorMap = familyMap[family];\n\t        var vendors = Object.keys(vendorMap).sort(window.localeCompare);\n\t        return { family: family, vendors: vendors };\n\t    });\n\t\n\t    return { familyList: familyList, familyMap: familyMap, vendorMap: vendorMap };\n\t}\n\t\n\tfunction filterReleaseEolDates(os) {\n\t    return !(!os.releaseDate && !os.eolDate) && // presume rolling release\n\t    compareDates(ACCEPT_RELEASE_DATES_AFTER, os.releaseDate) < 0 && // if release/eol dates less than accepted dates\n\t    compareDates(ACCEPT_EOL_DATES_AFTER, os.eolDate) < 0; // empty date is also less than accepted date\n\t}\n\t\n\tfunction compareDates(a, b) {\n\t    var emptyFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\t\n\t    if (!a) {\n\t        if (!b) {\n\t            return 0;\n\t        }\n\t        return emptyFirst ? -1 : 1;\n\t    }\n\t    if (!b) {\n\t        return emptyFirst ? 1 : -1;\n\t    }\n\t\n\t    return new Date(b).getTime() - new Date(a).getTime();\n\t}\n\t\n\tfunction customVendorSort(a, b) {\n\t    if (a === LINUX) {\n\t        return -1;\n\t    }\n\t    if (b === LINUX) {\n\t        return 1;\n\t    }\n\t    if (a === WINDOWS) {\n\t        return -1;\n\t    }\n\t    if (b === WINDOWS) {\n\t        return 1;\n\t    }\n\t    return 0;\n\t}\n\t\n\tfunction correctSpecialCases(os) {\n\t    // windows\n\t    if (os.sort_family.toLowerCase().startsWith('win') || os.sort_family.toLowerCase() === 'msdos') {\n\t        os.sort_family = WINDOWS;\n\t    }\n\t\n\t    if (os.sort_vendor.toLowerCase().startsWith('microsoft')) {\n\t        os.sort_vendor = 'Microsoft Corporation';\n\t    }\n\t\n\t    if (os.shortId === 'win8') {\n\t        os.releaseDate = '2012-08-01';\n\t    }\n\t\n\t    if (os.shortId === 'win8.1') {\n\t        os.releaseDate = '2014-04-08';\n\t    }\n\t\n\t    if (os.shortId === 'msdos6.22') {\n\t        os.releaseDate = '1994-06-01';\n\t    }\n\t\n\t    // linux\n\t    if (os.shortId.toLowerCase().includes('centos7')) {\n\t        os.eolDate = '2024-06-30';\n\t    }\n\t\n\t    if (os.sort_vendor.toLowerCase() === 'centos' || os.sort_vendor.toLowerCase() === 'suse') {\n\t        os.sortByVersionOnly = true;\n\t    }\n\t\n\t    // bsd\n\t    if (os.sort_family.toLowerCase().includes(BSD)) {\n\t        os.sort_family = BSD;\n\t    }\n\t\n\t    if (os.shortId === 'freebsd2.2.9') {\n\t        os.releaseDate = '2006-04-01'; // april fools prank\n\t    }\n\t\n\t    if (os.shortId === 'openbsd4.2') {\n\t        os.releaseDate = '2007-11-01';\n\t    }\n\t\n\t    if (os.shortId === 'openbsd4.3') {\n\t        os.releaseDate = '2008-05-01';\n\t    }\n\t\n\t    if (os.shortId === 'openbsd4.4') {\n\t        os.releaseDate = '2008-11-01';\n\t    }\n\t\n\t    if (os.shortId === 'openbsd4.5') {\n\t        os.releaseDate = '2009-05-01';\n\t    }\n\t\n\t    if (os.shortId === 'openbsd4.8') {\n\t        os.releaseDate = '2010-11-01';\n\t    }\n\t\n\t    if (os.shortId === 'openbsd4.9') {\n\t        os.releaseDate = '2011-05-01';\n\t    }\n\t\n\t    if (os.shortId === 'openbsd5.0') {\n\t        os.releaseDate = '2011-11-01';\n\t    }\n\t}\n\n/***/ },\n/* 87 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 88 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _vmOverviewTab = __webpack_require__(89);\n\t\n\tvar _vmOverviewTab2 = _interopRequireDefault(_vmOverviewTab);\n\t\n\tvar _vmLastMessage = __webpack_require__(90);\n\t\n\tvar _vmLastMessage2 = _interopRequireDefault(_vmLastMessage);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\t_react2.default;\n\t\n\tfunction getBootOrder(vm) {\n\t    var bootOrder = _(\"No boot device found\");\n\t    if (vm.bootOrder && vm.bootOrder.devices && vm.bootOrder.devices.length > 0) {\n\t        bootOrder = vm.bootOrder.devices.map(function (bootDevice) {\n\t            return bootDevice.type;\n\t        }).join(); // Example: network,disk,disk\n\t    }\n\t\n\t    return bootOrder;\n\t}\n\t\n\tvar VmOverviewTabLibvirt = function VmOverviewTabLibvirt(_ref) {\n\t    var vm = _ref.vm,\n\t        config = _ref.config,\n\t        dispatch = _ref.dispatch;\n\t\n\t    var idPrefix = (0, _helpers.vmId)(vm.name);\n\t    var message = _react2.default.createElement(_vmLastMessage2.default, { vm: vm, dispatch: dispatch });\n\t\n\t    var items = [{ title: _vmOverviewTab.commonTitles.MEMORY, value: _cockpit2.default.format_bytes((vm.currentMemory ? vm.currentMemory : 0) * 1024), idPostfix: 'memory' }, { title: _(\"Emulated Machine:\"), value: vm.emulatedMachine, idPostfix: 'emulatedmachine' }, { title: _vmOverviewTab.commonTitles.CPUS, value: vm.vcpus, idPostfix: 'vcpus' }, { title: _(\"Boot Order:\"), value: getBootOrder(vm), idPostfix: 'bootorder' }, { title: _(\"CPU Type:\"), value: vm.cpuModel, idPostfix: 'cputype' }, { title: _(\"Autostart:\"), value: (0, _helpers.rephraseUI)('autostart', vm.autostart), idPostfix: 'autostart' }];\n\t\n\t    return _react2.default.createElement(_vmOverviewTab2.default, { message: message,\n\t        idPrefix: idPrefix,\n\t        items: items,\n\t        extraItems: config.provider.vmOverviewExtra && config.provider.vmOverviewExtra(vm, config.providerState) });\n\t};\n\t\n\tVmOverviewTabLibvirt.propTypes = {\n\t    vm: _react.PropTypes.object.isRequired,\n\t    config: _react.PropTypes.object.isRequired,\n\t    dispatch: _react.PropTypes.func.isRequired\n\t};\n\t\n\texports.default = VmOverviewTabLibvirt;\n\n/***/ },\n/* 89 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.commonTitles = undefined;\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\tvar _ = _cockpit2.default.gettext;\n\t\n\t_react2.default;\n\t\n\tvar Items = function Items(_ref) {\n\t    var items = _ref.items,\n\t        idPrefix = _ref.idPrefix,\n\t        divider = _ref.divider,\n\t        colClass = _ref.colClass;\n\t\n\t    if (!items) {\n\t        return null;\n\t    }\n\t\n\t    colClass = colClass || 'col-lg-6 col-md-6 col-sm-6 col-xs-12';\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'col-lg-' + divider + ' col-md-' + divider + ' col-sm-' + divider + ' col-xs-' + divider },\n\t        _react2.default.createElement(\n\t            'div',\n\t            { className: 'row' },\n\t            items.map(function (item) {\n\t                var content = item.value;\n\t                if (item.title) {\n\t                    content = _react2.default.createElement(\n\t                        'dl',\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            'dt',\n\t                            null,\n\t                            item.title\n\t                        ),\n\t                        _react2.default.createElement(\n\t                            'dd',\n\t                            { id: idPrefix + '-' + item.idPostfix },\n\t                            item.value\n\t                        )\n\t                    );\n\t                }\n\t\n\t                return _react2.default.createElement(\n\t                    'div',\n\t                    { className: colClass + ' ' + (item.className || '') },\n\t                    content\n\t                );\n\t            })\n\t        )\n\t    );\n\t};\n\t\n\t/**\n\t * Reusable \"Overview\" subtab for a VM.\n\t */\n\tvar VmOverviewTab = function VmOverviewTab(_ref2) {\n\t    var message = _ref2.message,\n\t        idPrefix = _ref2.idPrefix,\n\t        items = _ref2.items,\n\t        extraItems = _ref2.extraItems;\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        message,\n\t        _react2.default.createElement(Items, { items: items, idPrefix: idPrefix, divider: extraItems ? 6 : 12 }),\n\t        extraItems && extraItems.map(function (col) {\n\t            return _react2.default.createElement(Items, { items: col, idPrefix: idPrefix, divider: '3',\n\t                colClass: 'col-lg-12 col-md-12 col-sm-12 col-xs-12' });\n\t        })\n\t    );\n\t};\n\t\n\tVmOverviewTab.propTypes = {\n\t    message: _react.PropTypes.any, // optional, info/error message related to a VM; see VmMessage component\n\t    idPrefix: _react.PropTypes.string.isRequired, // prefix for HTML IDs\n\t    items: _react.PropTypes.array // array of items to be rendered. Each item is an object of { title, value, idPostfix }\n\t};\n\t\n\t/**\n\t * Unique wording for the same props across various use cases.\n\t */\n\tvar commonTitles = exports.commonTitles = {\n\t    MEMORY: _(\"Memory:\"),\n\t    CPUS: _(\"vCPUs:\")\n\t};\n\t\n\texports.default = VmOverviewTab;\n\n/***/ },\n/* 90 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tvar _actions = __webpack_require__(23);\n\t\n\tvar _inlineNotification = __webpack_require__(66);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t_react2.default;\n\t\n\tvar VmLastMessage = function VmLastMessage(_ref) {\n\t    var vm = _ref.vm,\n\t        dispatch = _ref.dispatch;\n\t\n\t    if (!vm.lastMessage) {\n\t        return null;\n\t    }\n\t\n\t    var textId = (0, _helpers.vmId)(vm.name) + '-last-message';\n\t    var detail = vm.lastMessageDetail && vm.lastMessageDetail.exception ? vm.lastMessageDetail.exception : null;\n\t    detail = detail && _react2.default.createElement(\n\t        'p',\n\t        null,\n\t        detail\n\t    );\n\t\n\t    var onDismiss = function onDismiss() {\n\t        dispatch((0, _actions.deleteVmMessage)({ name: vm.name, connectionName: vm.connectionName }));\n\t    };\n\t\n\t    return _react2.default.createElement(_inlineNotification.Alert, { text: vm.lastMessage, textId: textId, detail: detail, onDismiss: onDismiss });\n\t};\n\t\n\texports.default = VmLastMessage;\n\n/***/ },\n/* 91 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.VmStateless = exports.VmHA = exports.VmOS = exports.VmCpu = exports.VmMemory = exports.VmDescription = exports.VmLastMessage = undefined;\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tvar _cockpitComponentsListing = __webpack_require__(62);\n\t\n\tvar _hostvmslist = __webpack_require__(58);\n\t\n\tvar _dropdownButtons = __webpack_require__(81);\n\t\n\tvar _dropdownButtons2 = _interopRequireDefault(_dropdownButtons);\n\t\n\tvar _helpers = __webpack_require__(41);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _rephraseUI = __webpack_require__(55);\n\t\n\tvar _rephraseUI2 = _interopRequireDefault(_rephraseUI);\n\t\n\tvar _selectors = __webpack_require__(40);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t_react2.default;\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar NoVm = function NoVm() {\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _(\"No VM found in oVirt.\")\n\t    );\n\t};\n\tvar NoVmUnitialized = function NoVmUnitialized() {\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _(\"Please wait till VMs list is loaded from the server.\")\n\t    );\n\t};\n\tvar VmHA = function VmHA(_ref) {\n\t    var highAvailability = _ref.highAvailability;\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        highAvailability && highAvailability.enabled && highAvailability.enabled === 'true' ? _(\"yes\") : _(\"no\")\n\t    );\n\t};\n\tvar VmMemory = function VmMemory(_ref2) {\n\t    var mem = _ref2.mem;\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        (0, _helpers.toGigaBytes)(mem, 'B'),\n\t        ' GiB'\n\t    );\n\t};\n\tvar VmOS = function VmOS(_ref3) {\n\t    var os = _ref3.os;\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        os.type\n\t    );\n\t};\n\tvar VmStateless = function VmStateless(_ref4) {\n\t    var stateless = _ref4.stateless;\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        (0, _rephraseUI2.default)('stateless', stateless)\n\t    );\n\t};\n\tvar VmDescription = function VmDescription(_ref5) {\n\t    var descr = _ref5.descr;\n\t    return _react2.default.createElement(\n\t        'span',\n\t        null,\n\t        descr\n\t    );\n\t}; // cropping is not needed, the text wraps\n\t\n\tvar VmCpu = function VmCpu(_ref6) {\n\t    var cpu = _ref6.cpu;\n\t    // TODO: render CPU architecture and topology?\n\t    var vCpus = (0, _helpers.valueOrDefault)(cpu.topology.sockets, 1) * (0, _helpers.valueOrDefault)(cpu.topology.cores, 1) * (0, _helpers.valueOrDefault)(cpu.topology.threads, 1);\n\t    var tooltip = _(\"sockets\") + ': ' + cpu.topology.sockets + '\\n' + _(\"cores\") + ': ' + cpu.topology.cores + '\\n' + _(\"threads\") + ': ' + cpu.topology.threads;\n\t    return _react2.default.createElement(\n\t        'span',\n\t        { title: tooltip, 'data-toggle': 'tooltip', 'data-placement': 'left' },\n\t        vCpus\n\t    );\n\t};\n\t\n\tvar VmHost = function VmHost(_ref7) {\n\t    var id = _ref7.id,\n\t        hosts = _ref7.hosts,\n\t        dispatch = _ref7.dispatch;\n\t\n\t    if (!id || !hosts || !hosts[id]) {\n\t        return null; // not running or data load not yet finished\n\t    }\n\t    var host = hosts[id];\n\t    if ((0, _helpers.isSameHostAddress)(host.address)) {\n\t        return _react2.default.createElement(\n\t            'a',\n\t            { href: '#', onClick: function onClick() {\n\t                    return dispatch((0, _actions.goToSubpage)('hostvms'));\n\t                } },\n\t            _(\"Host\")\n\t        );\n\t    }\n\t\n\t    var cockpitUrl = 'https://' + host.address + ':' + _config2.default.cockpitPort + '/machines';\n\t    // just the <a href> without the onClick handler is not working\n\t    return _react2.default.createElement(\n\t        'a',\n\t        { href: cockpitUrl, onClick: function onClick() {\n\t                window.top.location = cockpitUrl;\n\t            } },\n\t        host.name\n\t    );\n\t};\n\t\n\tvar VmTemplate = function VmTemplate(_ref8) {\n\t    var id = _ref8.id,\n\t        templates = _ref8.templates;\n\t\n\t    if (!id || !templates || !templates[id]) {\n\t        return null; // not running or data load not yet finished\n\t    }\n\t\n\t    var template = templates[id];\n\t    var baseTemplateName = template.version.baseTemplateId && templates[template.version.baseTemplateId] ? templates[template.version.baseTemplateId].name : '';\n\t    var tooltip = _(\"Description\") + ': ' + template.description + '\\n' + _(\"Version\") + ': ' + (0, _helpers.valueOrDefault)(template.version.name, '') + '\\n' + _(\"Version num\") + ': ' + (0, _helpers.valueOrDefault)(template.version.number, '') + '\\n' + _(\"Base template\") + ': ' + baseTemplateName + '\\n';\n\t    return _react2.default.createElement(\n\t        'span',\n\t        { title: tooltip, 'data-toggle': 'tooltip', 'data-placement': 'left' },\n\t        template.name\n\t    );\n\t};\n\t\n\tvar VmActions = function VmActions(_ref9) {\n\t    var vm = _ref9.vm,\n\t        hostName = _ref9.hostName,\n\t        dispatch = _ref9.dispatch;\n\t\n\t    // TODO: disable the button after execution, reenable at next refresh\n\t    var buttons = null;\n\t\n\t    var runButton = {\n\t        title: _(\"Run\"),\n\t        action: function action() {\n\t            return dispatch((0, _actions.startVm)(vm));\n\t        },\n\t        id: 'cluster-' + vm.name + '-run'\n\t    };\n\t    var runHereButton = {\n\t        title: _(\"Run Here\"),\n\t        action: function action() {\n\t            return dispatch((0, _actions.startVm)(vm, hostName));\n\t        },\n\t        id: 'cluster-' + vm.name + '-run-here'\n\t    };\n\t\n\t    if (['suspended'].indexOf(vm.state) >= 0) {\n\t        buttons = [runButton];\n\t    }\n\t\n\t    if (['shut off', 'down'].indexOf(vm.state) >= 0) {\n\t        buttons = [runButton, runHereButton];\n\t    }\n\t\n\t    if (buttons) {\n\t        return _react2.default.createElement(\n\t            'span',\n\t            null,\n\t            _react2.default.createElement(_dropdownButtons2.default, { buttons: buttons }),\n\t            _react2.default.createElement(VmLastMessage, { vm: vm })\n\t        );\n\t    }\n\t\n\t    return null;\n\t};\n\t\n\tvar VmLastMessage = function VmLastMessage(_ref10) {\n\t    var vm = _ref10.vm;\n\t\n\t    if (!vm.lastMessage) {\n\t        return null;\n\t    }\n\t\n\t    var detail = vm.lastMessage;\n\t    if (vm.lastMessageDetail && vm.lastMessageDetail.data) {\n\t        detail = vm.lastMessageDetail.data;\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'p',\n\t        { title: detail, 'data-toggle': 'tooltip', id: 'clustervm-' + vm.name + '-actionerror' },\n\t        _react2.default.createElement('span', { className: 'pficon-warning-triangle-o' }),\n\t        '\\xA0',\n\t        vm.lastMessage\n\t    );\n\t};\n\t\n\tvar Vm = function Vm(_ref11) {\n\t    var vm = _ref11.vm,\n\t        hosts = _ref11.hosts,\n\t        templates = _ref11.templates,\n\t        config = _ref11.config,\n\t        dispatch = _ref11.dispatch;\n\t\n\t    var stateIcon = _react2.default.createElement(_hostvmslist.StateIcon, { state: vm.state, config: config });\n\t    var ovirtConfig = config.providerState && config.providerState.ovirtConfig;\n\t    var currentHost = (0, _selectors.getHost)(hosts, ovirtConfig);\n\t    var hostName = currentHost && currentHost.name;\n\t\n\t    return _react2.default.createElement(_cockpitComponentsListing.ListingRow // TODO: icons?\n\t    , { columns: [{ name: vm.name, 'header': true }, _react2.default.createElement(VmDescription, { descr: vm.description }), _react2.default.createElement(VmTemplate, { id: vm.templateId, templates: templates }), _react2.default.createElement(VmMemory, { mem: vm.memory }), _react2.default.createElement(VmCpu, { cpu: vm.cpu }), _react2.default.createElement(VmOS, { os: vm.os }), _react2.default.createElement(VmHA, { highAvailability: vm.highAvailability }), _react2.default.createElement(VmStateless, { stateless: vm.stateless }), _react2.default.createElement(VmHost, { id: vm.hostId, hosts: hosts, dispatch: dispatch }), _react2.default.createElement(VmActions, { vm: vm, dispatch: dispatch, hostName: hostName }), stateIcon]\n\t    });\n\t};\n\t\n\tvar ClusterVms = function ClusterVms(_ref12) {\n\t    var dispatch = _ref12.dispatch,\n\t        config = _ref12.config;\n\t    var _config$providerState = config.providerState,\n\t        vms = _config$providerState.vms,\n\t        hosts = _config$providerState.hosts,\n\t        templates = _config$providerState.templates,\n\t        clusters = _config$providerState.clusters,\n\t        ovirtConfig = _config$providerState.ovirtConfig;\n\t\n\t\n\t    if (!vms) {\n\t        // before cluster vms are loaded\n\t        return _react2.default.createElement(NoVmUnitialized, null);\n\t    }\n\t\n\t    if (vms.length === 0) {\n\t        // there are no vms\n\t        return _react2.default.createElement(NoVm, null);\n\t    }\n\t\n\t    var currentCluster = (0, _selectors.getCurrentCluster)(hosts, clusters, ovirtConfig);\n\t    var title = _cockpit2.default.format(_(\"Cluster Virtual Machines\"));\n\t    if (currentCluster) {\n\t        title = _cockpit2.default.format(_(\"Virtual Machines of $0 cluster\"), currentCluster.name);\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'container-fluid' },\n\t        _react2.default.createElement(\n\t            _cockpitComponentsListing.Listing,\n\t            { title: title, columnTitles: [_(\"Name\"), _(\"Description\"), _(\"Template\"), _(\"Memory\"), _(\"vCPUs\"), _(\"OS\"), _(\"HA\"), _(\"Stateless\"), _(\"Host\"), _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'ovirt-provider-cluster-vms-actions' },\n\t                    _(\"Action\")\n\t                ), _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'ovirt-provider-cluster-vms-state' },\n\t                    _(\"State\")\n\t                )] },\n\t            Object.getOwnPropertyNames(vms).map(function (vmId) {\n\t                return _react2.default.createElement(Vm, { vm: vms[vmId],\n\t                    hosts: hosts,\n\t                    templates: templates,\n\t                    config: config,\n\t                    dispatch: dispatch\n\t                });\n\t            })\n\t        )\n\t    );\n\t};\n\t\n\t// ------------\n\t\n\texports.VmLastMessage = VmLastMessage;\n\texports.VmDescription = VmDescription;\n\texports.VmMemory = VmMemory;\n\texports.VmCpu = VmCpu;\n\texports.VmOS = VmOS;\n\texports.VmHA = VmHA;\n\texports.VmStateless = VmStateless;\n\texports.default = ClusterVms;\n\n/***/ },\n/* 92 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _cockpitComponentsListing = __webpack_require__(62);\n\t\n\tvar _ClusterVms = __webpack_require__(91);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tvar _selectors = __webpack_require__(40);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\tvar NoTemplate = function NoTemplate() {\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        null,\n\t        _(\"No VM found in oVirt.\")\n\t    );\n\t};\n\tvar NoTemplateUnitialized = function NoTemplateUnitialized() {\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        null,\n\t        _(\"Please wait till list of templates is loaded from the server.\")\n\t    );\n\t};\n\t\n\t_react2.default;\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar CreateVmFromTemplate = function (_React$Component) {\n\t    _inherits(CreateVmFromTemplate, _React$Component);\n\t\n\t    function CreateVmFromTemplate(props) {\n\t        _classCallCheck(this, CreateVmFromTemplate);\n\t\n\t        var _this = _possibleConstructorReturn(this, (CreateVmFromTemplate.__proto__ || Object.getPrototypeOf(CreateVmFromTemplate)).call(this, props));\n\t\n\t        _this.state = {\n\t            enterDetails: false,\n\t            vmName: ''\n\t        };\n\t\n\t        _this.onDoCreateVm = _this.onDoCreateVm.bind(_this);\n\t        _this.onCreateVm = _this.onCreateVm.bind(_this);\n\t        _this.onCancel = _this.onCancel.bind(_this);\n\t\n\t        _this.onVmNameChanged = _this.onVmNameChanged.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(CreateVmFromTemplate, [{\n\t        key: \"onCreateVm\",\n\t        value: function onCreateVm() {\n\t            this.setState({ enterDetails: true, vmName: '' });\n\t        }\n\t    }, {\n\t        key: \"onCancel\",\n\t        value: function onCancel() {\n\t            this.setState({ enterDetails: false, vmName: '' });\n\t        }\n\t    }, {\n\t        key: \"onVmNameChanged\",\n\t        value: function onVmNameChanged(e) {\n\t            this.setState({ vmName: e.target.value });\n\t        }\n\t    }, {\n\t        key: \"onDoCreateVm\",\n\t        value: function onDoCreateVm() {\n\t            this.props.dispatch((0, _actions.createVmFromTemplate)({\n\t                templateName: this.props.template.name,\n\t                clusterName: this.props.cluster.name,\n\t                vm: { name: this.state.vmName }\n\t            }));\n\t            this.setState({ enterDetails: false, vmName: '' });\n\t        }\n\t    }, {\n\t        key: \"render\",\n\t        value: function render() {\n\t            if (this.state.enterDetails) {\n\t                return _react2.default.createElement(\n\t                    \"div\",\n\t                    null,\n\t                    _react2.default.createElement(\"input\", { className: \"form-control\", type: \"text\", placeholder: _(\"Enter New VM name\"), value: this.state.vmName, onChange: this.onVmNameChanged }),\n\t                    _react2.default.createElement(\n\t                        \"button\",\n\t                        { onClick: this.onCancel, className: \"btn btn-default btn-danger\" },\n\t                        _(\"Cancel\")\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"button\",\n\t                        { onClick: this.onDoCreateVm, className: \"btn btn-default btn-danger\" },\n\t                        _(\"Create\")\n\t                    )\n\t                );\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"button\",\n\t                { onClick: this.onCreateVm },\n\t                _(\"Create VM\")\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return CreateVmFromTemplate;\n\t}(_react2.default.Component);\n\t\n\tvar TemplateActions = function TemplateActions(_ref) {\n\t    var template = _ref.template,\n\t        cluster = _ref.cluster,\n\t        dispatch = _ref.dispatch;\n\t\n\t    if (!cluster) {\n\t        (0, _helpers.logDebug)('TemplateActions: unknown cluster');\n\t        return null;\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        \"span\",\n\t        null,\n\t        _react2.default.createElement(CreateVmFromTemplate, { template: template, cluster: cluster, dispatch: dispatch }),\n\t        _react2.default.createElement(_ClusterVms.VmLastMessage, { vm: template })\n\t    );\n\t};\n\t\n\tvar Template = function Template(_ref2) {\n\t    var template = _ref2.template,\n\t        templates = _ref2.templates,\n\t        cluster = _ref2.cluster,\n\t        dispatch = _ref2.dispatch;\n\t\n\t    return _react2.default.createElement(_cockpitComponentsListing.ListingRow, {\n\t        columns: [{ name: template.name, 'header': true }, template.version.name, template.version.baseTemplateId ? templates[template.version.baseTemplateId].name : null, _react2.default.createElement(_ClusterVms.VmDescription, { descr: template.description }), _react2.default.createElement(_ClusterVms.VmMemory, { mem: template.memory }), _react2.default.createElement(_ClusterVms.VmCpu, { cpu: template.cpu }), _react2.default.createElement(_ClusterVms.VmOS, { os: template.os }), _react2.default.createElement(_ClusterVms.VmHA, { highAvailability: template.highAvailability }), _react2.default.createElement(_ClusterVms.VmStateless, { stateless: template.stateless }), _react2.default.createElement(TemplateActions, { template: template, cluster: cluster, dispatch: dispatch })]\n\t    });\n\t};\n\t\n\tvar ClusterTemplates = function ClusterTemplates(_ref3) {\n\t    var config = _ref3.config,\n\t        dispatch = _ref3.dispatch;\n\t    var _config$providerState = config.providerState,\n\t        templates = _config$providerState.templates,\n\t        hosts = _config$providerState.hosts,\n\t        clusters = _config$providerState.clusters,\n\t        ovirtConfig = _config$providerState.ovirtConfig;\n\t\n\t\n\t    if (!templates) {\n\t        // before cluster templates are loaded ;\n\t        return _react2.default.createElement(NoTemplateUnitialized, null);\n\t    }\n\t\n\t    if (templates.length === 0) {\n\t        // there are no templates\n\t        return _react2.default.createElement(NoTemplate, null);\n\t    }\n\t\n\t    var currentCluster = (0, _selectors.getCurrentCluster)(hosts, clusters, ovirtConfig);\n\t    var title = _cockpit2.default.format(_(\"Cluster Templates\"));\n\t    if (currentCluster) {\n\t        title = _cockpit2.default.format(_(\"Templates of $0 cluster\"), currentCluster.name);\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        \"div\",\n\t        { className: \"container-fluid\" },\n\t        _react2.default.createElement(\n\t            _cockpitComponentsListing.Listing,\n\t            { title: title, columnTitles: [_(\"Name\"), _(\"Version\"), _(\"Base Template\"), _(\"Description\"), _(\"Memory\"), _(\"vCPUs\"), _(\"OS\"), _(\"HA\"), _(\"Stateless\"), _(\"Action\")] },\n\t            Object.getOwnPropertyNames(templates).map(function (templateId) {\n\t                return _react2.default.createElement(Template, { template: templates[templateId],\n\t                    templates: templates,\n\t                    cluster: currentCluster,\n\t                    dispatch: dispatch\n\t                });\n\t            })\n\t        )\n\t    );\n\t};\n\t\n\texports.default = ClusterTemplates;\n\n/***/ },\n/* 93 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\t__webpack_require__(94);\n\t\n\tvar _config = __webpack_require__(35);\n\t\n\tvar _helpers = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\t_react2.default;\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar VdsmConf = function (_React$Component) {\n\t    _inherits(VdsmConf, _React$Component);\n\t\n\t    // TODO: needs design\n\t    function VdsmConf(props) {\n\t        _classCallCheck(this, VdsmConf);\n\t\n\t        var _this = _possibleConstructorReturn(this, (VdsmConf.__proto__ || Object.getPrototypeOf(VdsmConf)).call(this, props));\n\t\n\t        _this.state = {\n\t            fileContent: _(\"Loading data ...\"),\n\t            changed: false,\n\t            loaded: false,\n\t            reloadConfirmation: false,\n\t            saveConfirmation: false\n\t        };\n\t\n\t        _this.onSave = _this.onSave.bind(_this);\n\t        _this.onSaveConfirmed = _this.onSaveConfirmed.bind(_this);\n\t        _this.onSaveCanceled = _this.onSaveCanceled.bind(_this);\n\t\n\t        _this.onReload = _this.onReload.bind(_this);\n\t        _this.onReloadConfirmed = _this.onReloadConfirmed.bind(_this);\n\t        _this.onReloadCanceled = _this.onReloadCanceled.bind(_this);\n\t\n\t        _this.onEditorChange = _this.onEditorChange.bind(_this);\n\t        return _this;\n\t    }\n\t\n\t    _createClass(VdsmConf, [{\n\t        key: 'componentDidMount',\n\t        value: function componentDidMount() {\n\t            this.doReload();\n\t        }\n\t    }, {\n\t        key: 'componentWillUnmount',\n\t        value: function componentWillUnmount() {}\n\t    }, {\n\t        key: 'doReload',\n\t        value: function doReload() {\n\t            var _this2 = this;\n\t\n\t            _cockpit2.default.file(_config.VDSM_CONF_FILE).read().done(function (content) {\n\t                _this2.setState({ fileContent: content, changed: false, loaded: true });\n\t            }).fail(function (error) {\n\t                // TODO: more visible for the user\n\t                (0, _helpers.logError)('Error reading ' + _config.VDSM_CONF_FILE + ': ' + JSON.stringify(error));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'doSave',\n\t        value: function doSave() {\n\t            var _this3 = this;\n\t\n\t            _cockpit2.default.file(_config.VDSM_CONF_FILE, { superuser: 'try' }).replace(this.state.fileContent).done(function () {\n\t                (0, _helpers.logDebug)('Content of vdsm.conf replaced.');\n\t                _this3.setState({ changed: false });\n\t            }).fail(function (error) {\n\t                (0, _helpers.logError)('Error writing ' + _config.VDSM_CONF_FILE + ': ' + JSON.stringify(error));\n\t            });\n\t        }\n\t    }, {\n\t        key: 'onSave',\n\t        value: function onSave() {\n\t            this.setState({ saveConfirmation: true });\n\t        } // render confirmation buttons\n\t\n\t    }, {\n\t        key: 'onSaveConfirmed',\n\t        value: function onSaveConfirmed() {\n\t            this.doSave();this.setState({ saveConfirmation: false });\n\t        }\n\t    }, {\n\t        key: 'onSaveCanceled',\n\t        value: function onSaveCanceled() {\n\t            this.setState({ saveConfirmation: false });\n\t        }\n\t    }, {\n\t        key: 'onReload',\n\t        value: function onReload() {\n\t            this.setState({ reloadConfirmation: true });\n\t        } // render confirmation buttons\n\t\n\t    }, {\n\t        key: 'onReloadConfirmed',\n\t        value: function onReloadConfirmed() {\n\t            this.doReload();this.setState({ reloadConfirmation: false });\n\t        }\n\t    }, {\n\t        key: 'onReloadCanceled',\n\t        value: function onReloadCanceled() {\n\t            this.setState({ reloadConfirmation: false });\n\t        }\n\t    }, {\n\t        key: 'onEditorChange',\n\t        value: function onEditorChange(event) {\n\t            this.setState({ fileContent: event.target.value, changed: true });\n\t        }\n\t    }, {\n\t        key: 'render',\n\t        value: function render() {\n\t            var reloadButton = null;\n\t            if (!this.state.saveConfirmation) {\n\t                if (this.state.reloadConfirmation) {\n\t                    reloadButton = _react2.default.createElement(\n\t                        'span',\n\t                        null,\n\t                        '\\xA0',\n\t                        _(\"Confirm reload:\"),\n\t                        '\\xA0',\n\t                        _react2.default.createElement(\n\t                            'button',\n\t                            { className: 'btn btn-danger btn-xs', onClick: this.onReloadConfirmed },\n\t                            _(\"OK\")\n\t                        ),\n\t                        '\\xA0',\n\t                        _react2.default.createElement(\n\t                            'button',\n\t                            { className: 'btn btn-primary btn-xs', onClick: this.onReloadCanceled },\n\t                            _(\"Cancel\")\n\t                        )\n\t                    );\n\t                } else {\n\t                    reloadButton = _react2.default.createElement(\n\t                        'button',\n\t                        { className: 'btn btn-default', onClick: this.onReload },\n\t                        _(\"Reload\")\n\t                    );\n\t                }\n\t            }\n\t\n\t            var saveButton = null;\n\t            if (!this.state.reloadConfirmation) {\n\t                if (this.state.saveConfirmation) {\n\t                    saveButton = _react2.default.createElement(\n\t                        'span',\n\t                        null,\n\t                        '\\xA0',\n\t                        _(\"Confirm save:\"),\n\t                        '\\xA0',\n\t                        _react2.default.createElement(\n\t                            'button',\n\t                            { className: 'btn btn-danger btn-xs', onClick: this.onSaveConfirmed },\n\t                            _(\"OK\")\n\t                        ),\n\t                        '\\xA0',\n\t                        _react2.default.createElement(\n\t                            'button',\n\t                            { className: 'btn btn-primary btn-xs', onClick: this.onSaveCanceled },\n\t                            _(\"Cancel\")\n\t                        )\n\t                    );\n\t                } else {\n\t                    saveButton = _react2.default.createElement(\n\t                        'button',\n\t                        { className: 'btn btn-default', onClick: this.onSave, disabled: !this.state.changed },\n\t                        _(\"Save\")\n\t                    );\n\t                }\n\t            }\n\t\n\t            var loaded = null;\n\t            if (this.state.loaded) {\n\t                loaded = _react2.default.createElement('div', { id: 'vdsmview-data-loaded' });\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                'div',\n\t                { className: 'ovirt-provider-vdsm' },\n\t                _react2.default.createElement(\n\t                    'h1',\n\t                    null,\n\t                    _(\"Edit the vdsm.conf\")\n\t                ),\n\t                _react2.default.createElement(\n\t                    'a',\n\t                    { href: '/system/services#/vdsmd.service', target: '_top' },\n\t                    _(\"VDSM Service Management\")\n\t                ),\n\t                _react2.default.createElement(\n\t                    'div',\n\t                    { className: 'ovirt-provider-vdsm-menu' },\n\t                    _react2.default.createElement('div', { className: 'ovirt-provider-vdsm-inline-block' }),\n\t                    _react2.default.createElement(\n\t                        'div',\n\t                        { className: 'btn-group ovirt-provider-vdsm-menu-buttons' },\n\t                        saveButton,\n\t                        reloadButton\n\t                    )\n\t                ),\n\t                _react2.default.createElement('br', null),\n\t                _react2.default.createElement('textarea', { className: 'ovirt-provider-vdsm-editor', value: this.state.fileContent, onChange: this.onEditorChange }),\n\t                loaded\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return VdsmConf;\n\t}(_react2.default.Component);\n\t\n\tvar VdsmView = function VdsmView() {\n\t    return _react2.default.createElement(\n\t        'div',\n\t        null,\n\t        _react2.default.createElement(VdsmConf, null)\n\t    );\n\t};\n\t\n\texports.default = VdsmView;\n\n/***/ },\n/* 94 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 95 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\t__webpack_require__(96);\n\t\n\tvar _cockpitComponentsDialog = __webpack_require__(43);\n\t\n\tvar _cockpitComponentsDialog2 = _interopRequireDefault(_cockpitComponentsDialog);\n\t\n\tvar _actions = __webpack_require__(38);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext; /*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\t\n\t_react2.default;\n\t\n\tvar hostToMaintenanceDialog = function hostToMaintenanceDialog(dispatch, host) {\n\t    var hostId = host && host.id;\n\t\n\t    var body = _react2.default.createElement(\n\t        'div',\n\t        { className: 'modal-body' },\n\t        _(\"Please confirm, the host shall be switched to maintenance mode.\"),\n\t        _react2.default.createElement('br', null),\n\t        _(\"All running virtual machines will be turned off.\")\n\t    );\n\t    var dialogProps = {\n\t        'title': _(\"Switch Host to Maintenance\"),\n\t        body: body\n\t    };\n\t\n\t    var footerProps = {\n\t        'actions': [{ 'clicked': function clicked() {\n\t                return dispatch((0, _actions.switchHostToMaintenance)({ hostId: hostId }));\n\t            },\n\t            'caption': _(\"OK\"),\n\t            'style': 'primary'\n\t        }]\n\t    };\n\t\n\t    _cockpitComponentsDialog2.default.show_modal_dialog(dialogProps, footerProps);\n\t};\n\t\n\tvar showHostToMaintenanceDialog = function showHostToMaintenanceDialog(dispatch, hosts) {\n\t    return function (event) {\n\t        if (!event || event.button !== 0) {\n\t            return;\n\t        }\n\t        hostToMaintenanceDialog(dispatch, hosts);\n\t    };\n\t};\n\t\n\tvar hostToMaintenance = function hostToMaintenance(_ref) {\n\t    var dispatch = _ref.dispatch,\n\t        host = _ref.host;\n\t\n\t    if (!host) {\n\t        return null;\n\t    }\n\t\n\t    // TODO: \"pficon-maintenance\" seems to be added to patternfly since 3.26 release - change once this gets to cockpit\n\t    return _react2.default.createElement(\n\t        'a',\n\t        { className: 'card-pf-link-with-icon pull-right', id: 'ovirt-host-to-maintenance',\n\t            onClick: showHostToMaintenanceDialog(dispatch, host) },\n\t        _react2.default.createElement(\n\t            'div',\n\t            { className: 'ovirt-action-padding' },\n\t            _react2.default.createElement('span', { className: 'pficon pficon-close' }),\n\t            _(\"Host to Maintenance\")\n\t        )\n\t    );\n\t};\n\t\n\texports.default = hostToMaintenance;\n\n/***/ },\n/* 96 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 97 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _react = __webpack_require__(13);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpit = __webpack_require__(21);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _rephraseUI = __webpack_require__(55);\n\t\n\tvar _rephraseUI2 = _interopRequireDefault(_rephraseUI);\n\t\n\t__webpack_require__(98);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*jshint esversion: 6 */\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t_react2.default;\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar HostStatus = function HostStatus(_ref) {\n\t    var host = _ref.host;\n\t\n\t    if (!host) {\n\t        return null;\n\t    }\n\t\n\t    return _react2.default.createElement(\n\t        'div',\n\t        { className: 'container-fluid ovirt-host-status-wrapper' },\n\t        _react2.default.createElement(\n\t            'div',\n\t            { className: 'ovirt-host-status' },\n\t            _react2.default.createElement(\n\t                'div',\n\t                { className: 'ovirt-host-status-label' },\n\t                _(\"oVirt Host State:\")\n\t            ),\n\t            '\\xA0',\n\t            (0, _rephraseUI2.default)('hostStatus', host.status)\n\t        )\n\t    );\n\t};\n\t\n\texports.default = HostStatus;\n\n/***/ },\n/* 98 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 99 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// ovirt/ovirt.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eb5e0bbd929ba86daa0b","'use strict';\n\n(function() {\n  \"use strict\";\n\n  document.addEventListener(\"DOMContentLoaded\", function() {\n    var vmsApp = require(\"./index.es6\");\n    vmsApp.appMain();\n  });\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/ovirt/index.js\n// module id = 10\n// module chunks = 0","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport '../lib/polyfills.js'; // once per application\n\nimport React from 'react';\nimport store from './store.es6';\nimport { getAllVms } from '../machines/actions.es6';\nimport { logDebug } from '../machines/helpers.es6';\n\nimport Provider from './provider.es6';\nimport App from './components/App.jsx';\nimport { setVirtProvider } from '../machines/provider.es6';\n\nfunction render() {\n    React.render(\n        React.createElement(App, {store: store}),\n        document.getElementById('app')\n    );\n}\n\n/**\n * Start the application.\n */\nexport function appMain() {\n    console.log(\"loading ovirt package\");\n    logDebug('index.es6: initial state: ' + JSON.stringify(store.getState()));\n\n    setVirtProvider(Provider);\n\n    // re-render app every time the state changes\n    store.subscribe(render);\n\n    // do initial render\n    render();\n\n    // initiate data retrieval\n    store.dispatch(getAllVms());\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/index.es6","'use strict';\n\n/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n This file contains various polyfills and other compatibility hacks\n */\n\n// for IE 11\nif (!String.prototype.startsWith) {\n    String.prototype.startsWith = function (searchString, position) {\n        position = position || 0;\n        return this.substr(position, searchString.length) === searchString;\n    };\n}\n\nif (!Array.prototype.findIndex) {\n    Array.prototype.findIndex = function (predicate) {\n        if (this === null) {\n            throw new TypeError('Array.prototype.findIndex called on null or undefined');\n        }\n        if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function');\n        }\n        var list = Object(this);\n        var length = list.length >>> 0;\n        var thisArg = arguments[1];\n        var value;\n\n        for (var i = 0; i < length; i++) {\n            value = list[i];\n            if (predicate.call(thisArg, value, i, list)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\n// for IE 11\nif (typeof Object.assign != 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, \"assign\", {\n        value: function assign(target, varArgs) { // .length of function is 2\n            'use strict';\n            if (target === null) { // TypeError if undefined or null\n                throw new TypeError('Cannot convert undefined or null to object');\n            }\n\n            var to = Object(target);\n\n            for (var index = 1; index < arguments.length; index++) {\n                var nextSource = arguments[index];\n\n                if (nextSource !== null) { // Skip over if undefined or null\n                    for (var nextKey in nextSource) {\n                        // Avoid bugs when hasOwnProperty is shadowed\n                        if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                            to[nextKey] = nextSource[nextKey];\n                        }\n                    }\n                }\n            }\n            return to;\n        },\n        writable: true,\n        configurable: true\n    });\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/lib/polyfills.js\n// module id = 12\n// module chunks = 0","/*!\n * react-lite.js v0.15.39\n * (c) 2017 Jade Gu\n * Released under the MIT License.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.React = factory();\n}(this, function () { 'use strict';\n\n  var HTML_KEY = 'dangerouslySetInnerHTML';\n  var SVGNamespaceURI = 'http://www.w3.org/2000/svg';\n  var COMPONENT_ID = 'liteid';\n  var VELEMENT = 2;\n  var VSTATELESS = 3;\n  var VCOMPONENT = 4;\n  var VCOMMENT = 5;\n  var ELEMENT_NODE_TYPE = 1;\n  var DOC_NODE_TYPE = 9;\n  var DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\n  /**\r\n   * current stateful component's refs property\r\n   * will attach to every vnode created by calling component.render method\r\n   */\n  var refs = null;\n\n  function createVnode(vtype, type, props, key, ref) {\n      var vnode = {\n          vtype: vtype,\n          type: type,\n          props: props,\n          refs: refs,\n          key: key,\n          ref: ref\n      };\n      if (vtype === VSTATELESS || vtype === VCOMPONENT) {\n          vnode.uid = getUid();\n      }\n      return vnode;\n  }\n\n  function initVnode(vnode, parentContext, namespaceURI) {\n      var vtype = vnode.vtype;\n\n      var node = null;\n      if (!vtype) {\n          // init text\n          node = document.createTextNode(vnode);\n      } else if (vtype === VELEMENT) {\n          // init element\n          node = initVelem(vnode, parentContext, namespaceURI);\n      } else if (vtype === VCOMPONENT) {\n          // init stateful component\n          node = initVcomponent(vnode, parentContext, namespaceURI);\n      } else if (vtype === VSTATELESS) {\n          // init stateless component\n          node = initVstateless(vnode, parentContext, namespaceURI);\n      } else if (vtype === VCOMMENT) {\n          // init comment\n          node = document.createComment('react-text: ' + (vnode.uid || getUid()));\n      }\n      return node;\n  }\n\n  function updateVnode(vnode, newVnode, node, parentContext) {\n      var vtype = vnode.vtype;\n\n      if (vtype === VCOMPONENT) {\n          return updateVcomponent(vnode, newVnode, node, parentContext);\n      }\n\n      if (vtype === VSTATELESS) {\n          return updateVstateless(vnode, newVnode, node, parentContext);\n      }\n\n      // ignore VCOMMENT and other vtypes\n      if (vtype !== VELEMENT) {\n          return node;\n      }\n\n      var oldHtml = vnode.props[HTML_KEY] && vnode.props[HTML_KEY].__html;\n      if (oldHtml != null) {\n          updateVelem(vnode, newVnode, node, parentContext);\n          initVchildren(newVnode, node, parentContext);\n      } else {\n          updateVChildren(vnode, newVnode, node, parentContext);\n          updateVelem(vnode, newVnode, node, parentContext);\n      }\n      return node;\n  }\n\n  function updateVChildren(vnode, newVnode, node, parentContext) {\n      var patches = {\n          removes: [],\n          updates: [],\n          creates: []\n      };\n      diffVchildren(patches, vnode, newVnode, node, parentContext);\n      flatEach(patches.removes, applyDestroy);\n      flatEach(patches.updates, applyUpdate);\n      flatEach(patches.creates, applyCreate);\n  }\n\n  function applyUpdate(data) {\n      if (!data) {\n          return;\n      }\n      var vnode = data.vnode;\n      var newNode = data.node;\n\n      // update\n      if (!data.shouldIgnore) {\n          if (!vnode.vtype) {\n              newNode.replaceData(0, newNode.length, data.newVnode);\n          } else if (vnode.vtype === VELEMENT) {\n              updateVelem(vnode, data.newVnode, newNode, data.parentContext);\n          } else if (vnode.vtype === VSTATELESS) {\n              newNode = updateVstateless(vnode, data.newVnode, newNode, data.parentContext);\n          } else if (vnode.vtype === VCOMPONENT) {\n              newNode = updateVcomponent(vnode, data.newVnode, newNode, data.parentContext);\n          }\n      }\n\n      // re-order\n      var currentNode = newNode.parentNode.childNodes[data.index];\n      if (currentNode !== newNode) {\n          newNode.parentNode.insertBefore(newNode, currentNode);\n      }\n      return newNode;\n  }\n\n  function applyDestroy(data) {\n      destroyVnode(data.vnode, data.node);\n      data.node.parentNode.removeChild(data.node);\n  }\n\n  function applyCreate(data) {\n      var node = initVnode(data.vnode, data.parentContext, data.parentNode.namespaceURI);\n      data.parentNode.insertBefore(node, data.parentNode.childNodes[data.index]);\n  }\n\n  /**\r\n   * Only vnode which has props.children need to call destroy function\r\n   * to check whether subTree has component that need to call lify-cycle method and release cache.\r\n   */\n\n  function destroyVnode(vnode, node) {\n      var vtype = vnode.vtype;\n\n      if (vtype === VELEMENT) {\n          // destroy element\n          destroyVelem(vnode, node);\n      } else if (vtype === VCOMPONENT) {\n          // destroy state component\n          destroyVcomponent(vnode, node);\n      } else if (vtype === VSTATELESS) {\n          // destroy stateless component\n          destroyVstateless(vnode, node);\n      }\n  }\n\n  function initVelem(velem, parentContext, namespaceURI) {\n      var type = velem.type;\n      var props = velem.props;\n\n      var node = null;\n\n      if (type === 'svg' || namespaceURI === SVGNamespaceURI) {\n          node = document.createElementNS(SVGNamespaceURI, type);\n          namespaceURI = SVGNamespaceURI;\n      } else {\n          node = document.createElement(type);\n      }\n\n      initVchildren(velem, node, parentContext);\n\n      var isCustomComponent = type.indexOf('-') >= 0 || props.is != null;\n      setProps(node, props, isCustomComponent);\n\n      if (velem.ref != null) {\n          addItem(pendingRefs, velem);\n          addItem(pendingRefs, node);\n      }\n\n      return node;\n  }\n\n  function initVchildren(velem, node, parentContext) {\n      var vchildren = node.vchildren = getFlattenChildren(velem);\n      var namespaceURI = node.namespaceURI;\n      for (var i = 0, len = vchildren.length; i < len; i++) {\n          node.appendChild(initVnode(vchildren[i], parentContext, namespaceURI));\n      }\n  }\n\n  function getFlattenChildren(vnode) {\n      var children = vnode.props.children;\n\n      var vchildren = [];\n      if (isArr(children)) {\n          flatEach(children, collectChild, vchildren);\n      } else {\n          collectChild(children, vchildren);\n      }\n      return vchildren;\n  }\n\n  function collectChild(child, children) {\n      if (child != null && typeof child !== 'boolean') {\n          if (!child.vtype) {\n              // convert immutablejs data\n              if (child.toJS) {\n                  child = child.toJS();\n                  if (isArr(child)) {\n                      flatEach(child, collectChild, children);\n                  } else {\n                      collectChild(child, children);\n                  }\n                  return;\n              }\n              child = '' + child;\n          }\n          children[children.length] = child;\n      }\n  }\n\n  function diffVchildren(patches, vnode, newVnode, node, parentContext) {\n      if (!node.vchildren) return; // react-lite hasn't seen this DOM node before\n\n      var childNodes = node.childNodes;\n      var vchildren = node.vchildren;\n\n      var newVchildren = node.vchildren = getFlattenChildren(newVnode);\n      var vchildrenLen = vchildren.length;\n      var newVchildrenLen = newVchildren.length;\n\n      if (vchildrenLen === 0) {\n          if (newVchildrenLen > 0) {\n              for (var i = 0; i < newVchildrenLen; i++) {\n                  addItem(patches.creates, {\n                      vnode: newVchildren[i],\n                      parentNode: node,\n                      parentContext: parentContext,\n                      index: i\n                  });\n              }\n          }\n          return;\n      } else if (newVchildrenLen === 0) {\n          for (var i = 0; i < vchildrenLen; i++) {\n              addItem(patches.removes, {\n                  vnode: vchildren[i],\n                  node: childNodes[i]\n              });\n          }\n          return;\n      }\n\n      var updates = Array(newVchildrenLen);\n      var removes = null;\n      var creates = null;\n\n      // isEqual\n      for (var i = 0; i < vchildrenLen; i++) {\n          var _vnode = vchildren[i];\n          for (var j = 0; j < newVchildrenLen; j++) {\n              if (updates[j]) {\n                  continue;\n              }\n              var _newVnode = newVchildren[j];\n              if (_vnode === _newVnode) {\n                  updates[j] = {\n                      shouldIgnore: shouldIgnoreUpdate(node),\n                      vnode: _vnode,\n                      newVnode: _newVnode,\n                      node: childNodes[i],\n                      parentContext: parentContext,\n                      index: j\n                  };\n                  vchildren[i] = null;\n                  break;\n              }\n          }\n      }\n\n      // isSimilar\n      for (var i = 0; i < vchildrenLen; i++) {\n          var _vnode2 = vchildren[i];\n          if (_vnode2 === null) {\n              continue;\n          }\n          var shouldRemove = true;\n          for (var j = 0; j < newVchildrenLen; j++) {\n              if (updates[j]) {\n                  continue;\n              }\n              var _newVnode2 = newVchildren[j];\n              if (_newVnode2.type === _vnode2.type && _newVnode2.key === _vnode2.key && _newVnode2.refs === _vnode2.refs) {\n                  updates[j] = {\n                      vnode: _vnode2,\n                      newVnode: _newVnode2,\n                      node: childNodes[i],\n                      parentContext: parentContext,\n                      index: j\n                  };\n                  shouldRemove = false;\n                  break;\n              }\n          }\n          if (shouldRemove) {\n              if (!removes) {\n                  removes = [];\n              }\n              addItem(removes, {\n                  vnode: _vnode2,\n                  node: childNodes[i]\n              });\n          }\n      }\n\n      for (var i = 0; i < newVchildrenLen; i++) {\n          var item = updates[i];\n          if (!item) {\n              if (!creates) {\n                  creates = [];\n              }\n              addItem(creates, {\n                  vnode: newVchildren[i],\n                  parentNode: node,\n                  parentContext: parentContext,\n                  index: i\n              });\n          } else if (item.vnode.vtype === VELEMENT) {\n              diffVchildren(patches, item.vnode, item.newVnode, item.node, item.parentContext);\n          }\n      }\n\n      if (removes) {\n          addItem(patches.removes, removes);\n      }\n      if (creates) {\n          addItem(patches.creates, creates);\n      }\n      addItem(patches.updates, updates);\n  }\n\n  function updateVelem(velem, newVelem, node) {\n      var isCustomComponent = velem.type.indexOf('-') >= 0 || velem.props.is != null;\n      patchProps(node, velem.props, newVelem.props, isCustomComponent);\n      if (velem.ref !== newVelem.ref) {\n          detachRef(velem.refs, velem.ref, node);\n          attachRef(newVelem.refs, newVelem.ref, node);\n      }\n      return node;\n  }\n\n  function destroyVelem(velem, node) {\n      var props = velem.props;\n      var vchildren = node.vchildren;\n      var childNodes = node.childNodes;\n\n      if (vchildren) {\n          for (var i = 0, len = vchildren.length; i < len; i++) {\n              destroyVnode(vchildren[i], childNodes[i]);\n          }\n      }\n      detachRef(velem.refs, velem.ref, node);\n      node.eventStore = node.vchildren = null;\n  }\n\n  function initVstateless(vstateless, parentContext, namespaceURI) {\n      var vnode = renderVstateless(vstateless, parentContext);\n      var node = initVnode(vnode, parentContext, namespaceURI);\n      node.cache = node.cache || {};\n      node.cache[vstateless.uid] = vnode;\n      return node;\n  }\n\n  function updateVstateless(vstateless, newVstateless, node, parentContext) {\n      var uid = vstateless.uid;\n      var vnode = node.cache[uid];\n      delete node.cache[uid];\n      var newVnode = renderVstateless(newVstateless, parentContext);\n      var newNode = compareTwoVnodes(vnode, newVnode, node, parentContext);\n      newNode.cache = newNode.cache || {};\n      newNode.cache[newVstateless.uid] = newVnode;\n      if (newNode !== node) {\n          syncCache(newNode.cache, node.cache, newNode);\n      }\n      return newNode;\n  }\n\n  function destroyVstateless(vstateless, node) {\n      var uid = vstateless.uid;\n      var vnode = node.cache[uid];\n      delete node.cache[uid];\n      destroyVnode(vnode, node);\n  }\n\n  function renderVstateless(vstateless, parentContext) {\n      var factory = vstateless.type;\n      var props = vstateless.props;\n\n      var componentContext = getContextByTypes(parentContext, factory.contextTypes);\n      var vnode = factory(props, componentContext);\n      if (vnode && vnode.render) {\n          vnode = vnode.render();\n      }\n      if (vnode === null || vnode === false) {\n          vnode = createVnode(VCOMMENT);\n      } else if (!vnode || !vnode.vtype) {\n          throw new Error('@' + factory.name + '#render:You may have returned undefined, an array or some other invalid object');\n      }\n      return vnode;\n  }\n\n  function initVcomponent(vcomponent, parentContext, namespaceURI) {\n      var Component = vcomponent.type;\n      var props = vcomponent.props;\n      var uid = vcomponent.uid;\n\n      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n      var component = new Component(props, componentContext);\n      var updater = component.$updater;\n      var cache = component.$cache;\n\n      cache.parentContext = parentContext;\n      updater.isPending = true;\n      component.props = component.props || props;\n      component.context = component.context || componentContext;\n      if (component.componentWillMount) {\n          component.componentWillMount();\n          component.state = updater.getState();\n      }\n      var vnode = renderComponent(component);\n      var node = initVnode(vnode, getChildContext(component, parentContext), namespaceURI);\n      node.cache = node.cache || {};\n      node.cache[uid] = component;\n      cache.vnode = vnode;\n      cache.node = node;\n      cache.isMounted = true;\n      addItem(pendingComponents, component);\n\n      if (vcomponent.ref != null) {\n          addItem(pendingRefs, vcomponent);\n          addItem(pendingRefs, component);\n      }\n\n      return node;\n  }\n\n  function updateVcomponent(vcomponent, newVcomponent, node, parentContext) {\n      var uid = vcomponent.uid;\n      var component = node.cache[uid];\n      var updater = component.$updater;\n      var cache = component.$cache;\n      var Component = newVcomponent.type;\n      var nextProps = newVcomponent.props;\n\n      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n      delete node.cache[uid];\n      node.cache[newVcomponent.uid] = component;\n      cache.parentContext = parentContext;\n      if (component.componentWillReceiveProps) {\n          var needToggleIsPending = !updater.isPending;\n          if (needToggleIsPending) updater.isPending = true;\n          component.componentWillReceiveProps(nextProps, componentContext);\n          if (needToggleIsPending) updater.isPending = false;\n      }\n\n      if (vcomponent.ref !== newVcomponent.ref) {\n          detachRef(vcomponent.refs, vcomponent.ref, component);\n          attachRef(newVcomponent.refs, newVcomponent.ref, component);\n      }\n\n      updater.emitUpdate(nextProps, componentContext);\n\n      return cache.node;\n  }\n\n  function destroyVcomponent(vcomponent, node) {\n      var uid = vcomponent.uid;\n      var component = node.cache[uid];\n      var cache = component.$cache;\n      delete node.cache[uid];\n      detachRef(vcomponent.refs, vcomponent.ref, component);\n      component.setState = component.forceUpdate = noop;\n      if (component.componentWillUnmount) {\n          component.componentWillUnmount();\n      }\n      destroyVnode(cache.vnode, node);\n      delete component.setState;\n      cache.isMounted = false;\n      cache.node = cache.parentContext = cache.vnode = component.refs = component.context = null;\n  }\n\n  function getContextByTypes(curContext, contextTypes) {\n      var context = {};\n      if (!contextTypes || !curContext) {\n          return context;\n      }\n      for (var key in contextTypes) {\n          if (contextTypes.hasOwnProperty(key)) {\n              context[key] = curContext[key];\n          }\n      }\n      return context;\n  }\n\n  function renderComponent(component, parentContext) {\n      refs = component.refs;\n      var vnode = component.render();\n      if (vnode === null || vnode === false) {\n          vnode = createVnode(VCOMMENT);\n      } else if (!vnode || !vnode.vtype) {\n          throw new Error('@' + component.constructor.name + '#render:You may have returned undefined, an array or some other invalid object');\n      }\n      refs = null;\n      return vnode;\n  }\n\n  function getChildContext(component, parentContext) {\n      if (component.getChildContext) {\n          var curContext = component.getChildContext();\n          if (curContext) {\n              parentContext = extend(extend({}, parentContext), curContext);\n          }\n      }\n      return parentContext;\n  }\n\n  var pendingComponents = [];\n  function clearPendingComponents() {\n      var len = pendingComponents.length;\n      if (!len) {\n          return;\n      }\n      var components = pendingComponents;\n      pendingComponents = [];\n      var i = -1;\n      while (len--) {\n          var component = components[++i];\n          var updater = component.$updater;\n          if (component.componentDidMount) {\n              component.componentDidMount();\n          }\n          updater.isPending = false;\n          updater.emitUpdate();\n      }\n  }\n\n  var pendingRefs = [];\n  function clearPendingRefs() {\n      var len = pendingRefs.length;\n      if (!len) {\n          return;\n      }\n      var list = pendingRefs;\n      pendingRefs = [];\n      for (var i = 0; i < len; i += 2) {\n          var vnode = list[i];\n          var refValue = list[i + 1];\n          attachRef(vnode.refs, vnode.ref, refValue);\n      }\n  }\n\n  function clearPending() {\n      clearPendingRefs();\n      clearPendingComponents();\n  }\n\n  function compareTwoVnodes(vnode, newVnode, node, parentContext) {\n      var newNode = node;\n      if (newVnode == null) {\n          // remove\n          destroyVnode(vnode, node);\n          node.parentNode.removeChild(node);\n      } else if (vnode.type !== newVnode.type || vnode.key !== newVnode.key) {\n          // replace\n          destroyVnode(vnode, node);\n          newNode = initVnode(newVnode, parentContext, node.namespaceURI);\n          node.parentNode.replaceChild(newNode, node);\n      } else if (vnode !== newVnode || parentContext) {\n          // same type and same key -> update\n          newNode = updateVnode(vnode, newVnode, node, parentContext);\n      }\n      return newNode;\n  }\n\n  function getDOMNode() {\n      return this;\n  }\n\n  function attachRef(refs, refKey, refValue) {\n      if (refKey == null || !refValue) {\n          return;\n      }\n      if (refValue.nodeName && !refValue.getDOMNode) {\n          // support react v0.13 style: this.refs.myInput.getDOMNode()\n          refValue.getDOMNode = getDOMNode;\n      }\n      if (isFn(refKey)) {\n          refKey(refValue);\n      } else if (refs) {\n          refs[refKey] = refValue;\n      }\n  }\n\n  function detachRef(refs, refKey, refValue) {\n      if (refKey == null) {\n          return;\n      }\n      if (isFn(refKey)) {\n          refKey(null);\n      } else if (refs && refs[refKey] === refValue) {\n          delete refs[refKey];\n      }\n  }\n\n  function syncCache(cache, oldCache, node) {\n      for (var key in oldCache) {\n          if (!oldCache.hasOwnProperty(key)) {\n              continue;\n          }\n          var value = oldCache[key];\n          cache[key] = value;\n\n          // is component, update component.$cache.node\n          if (value.forceUpdate) {\n              value.$cache.node = node;\n          }\n      }\n  }\n\n  function shouldIgnoreUpdate(node) {\n      var vchildren = node.vchildren;\n      var children = node.children;\n\n      if (vchildren) {\n          for (var i = 0; i < vchildren.length; i++) {\n              var vchild = vchildren[i];\n              if (vchild.vtype === VCOMPONENT || vchild.vtype === VSTATELESS) {\n                  if (vchild.type.contextTypes) {\n                      return false;\n                  }\n              }\n          }\n      }\n\n      if (children) {\n          for (var i = 0; i < children.length; i++) {\n              if (!shouldIgnoreUpdate(children[i])) {\n                  return false;\n              }\n          }\n      }\n\n      return true;\n  }\n\n  var updateQueue = {\n  \tupdaters: [],\n  \tisPending: false,\n  \tadd: function add(updater) {\n  \t\taddItem(this.updaters, updater);\n  \t},\n  \tbatchUpdate: function batchUpdate() {\n  \t\tif (this.isPending) {\n  \t\t\treturn;\n  \t\t}\n  \t\tthis.isPending = true;\n  \t\t/*\r\n     each updater.update may add new updater to updateQueue\r\n     clear them with a loop\r\n     event bubbles from bottom-level to top-level\r\n     reverse the updater order can merge some props and state and reduce the refresh times\r\n     see Updater.update method below to know why\r\n    */\n  \t\tvar updaters = this.updaters;\n\n  \t\tvar updater = undefined;\n  \t\twhile (updater = updaters.pop()) {\n  \t\t\tupdater.updateComponent();\n  \t\t}\n  \t\tthis.isPending = false;\n  \t}\n  };\n\n  function Updater(instance) {\n  \tthis.instance = instance;\n  \tthis.pendingStates = [];\n  \tthis.pendingCallbacks = [];\n  \tthis.isPending = false;\n  \tthis.nextProps = this.nextContext = null;\n  \tthis.clearCallbacks = this.clearCallbacks.bind(this);\n  }\n\n  Updater.prototype = {\n  \temitUpdate: function emitUpdate(nextProps, nextContext) {\n  \t\tthis.nextProps = nextProps;\n  \t\tthis.nextContext = nextContext;\n  \t\t// receive nextProps!! should update immediately\n  \t\tnextProps || !updateQueue.isPending ? this.updateComponent() : updateQueue.add(this);\n  \t},\n  \tupdateComponent: function updateComponent() {\n  \t\tvar instance = this.instance;\n  \t\tvar pendingStates = this.pendingStates;\n  \t\tvar nextProps = this.nextProps;\n  \t\tvar nextContext = this.nextContext;\n\n  \t\tif (nextProps || pendingStates.length > 0) {\n  \t\t\tnextProps = nextProps || instance.props;\n  \t\t\tnextContext = nextContext || instance.context;\n  \t\t\tthis.nextProps = this.nextContext = null;\n  \t\t\t// merge the nextProps and nextState and update by one time\n  \t\t\tshouldUpdate(instance, nextProps, this.getState(), nextContext, this.clearCallbacks);\n  \t\t}\n  \t},\n  \taddState: function addState(nextState) {\n  \t\tif (nextState) {\n  \t\t\taddItem(this.pendingStates, nextState);\n  \t\t\tif (!this.isPending) {\n  \t\t\t\tthis.emitUpdate();\n  \t\t\t}\n  \t\t}\n  \t},\n  \treplaceState: function replaceState(nextState) {\n  \t\tvar pendingStates = this.pendingStates;\n\n  \t\tpendingStates.pop();\n  \t\t// push special params to point out should replace state\n  \t\taddItem(pendingStates, [nextState]);\n  \t},\n  \tgetState: function getState() {\n  \t\tvar instance = this.instance;\n  \t\tvar pendingStates = this.pendingStates;\n  \t\tvar state = instance.state;\n  \t\tvar props = instance.props;\n\n  \t\tif (pendingStates.length) {\n  \t\t\tstate = extend({}, state);\n  \t\t\tpendingStates.forEach(function (nextState) {\n  \t\t\t\tvar isReplace = isArr(nextState);\n  \t\t\t\tif (isReplace) {\n  \t\t\t\t\tnextState = nextState[0];\n  \t\t\t\t}\n  \t\t\t\tif (isFn(nextState)) {\n  \t\t\t\t\tnextState = nextState.call(instance, state, props);\n  \t\t\t\t}\n  \t\t\t\t// replace state\n  \t\t\t\tif (isReplace) {\n  \t\t\t\t\tstate = extend({}, nextState);\n  \t\t\t\t} else {\n  \t\t\t\t\textend(state, nextState);\n  \t\t\t\t}\n  \t\t\t});\n  \t\t\tpendingStates.length = 0;\n  \t\t}\n  \t\treturn state;\n  \t},\n  \tclearCallbacks: function clearCallbacks() {\n  \t\tvar pendingCallbacks = this.pendingCallbacks;\n  \t\tvar instance = this.instance;\n\n  \t\tif (pendingCallbacks.length > 0) {\n  \t\t\tthis.pendingCallbacks = [];\n  \t\t\tpendingCallbacks.forEach(function (callback) {\n  \t\t\t\treturn callback.call(instance);\n  \t\t\t});\n  \t\t}\n  \t},\n  \taddCallback: function addCallback(callback) {\n  \t\tif (isFn(callback)) {\n  \t\t\taddItem(this.pendingCallbacks, callback);\n  \t\t}\n  \t}\n  };\n  function Component(props, context) {\n  \tthis.$updater = new Updater(this);\n  \tthis.$cache = { isMounted: false };\n  \tthis.props = props;\n  \tthis.state = {};\n  \tthis.refs = {};\n  \tthis.context = context;\n  }\n\n  var ReactComponentSymbol = {};\n\n  Component.prototype = {\n  \tconstructor: Component,\n  \tisReactComponent: ReactComponentSymbol,\n  \t// getChildContext: _.noop,\n  \t// componentWillUpdate: _.noop,\n  \t// componentDidUpdate: _.noop,\n  \t// componentWillReceiveProps: _.noop,\n  \t// componentWillMount: _.noop,\n  \t// componentDidMount: _.noop,\n  \t// componentWillUnmount: _.noop,\n  \t// shouldComponentUpdate(nextProps, nextState) {\n  \t// \treturn true\n  \t// },\n  \tforceUpdate: function forceUpdate(callback) {\n  \t\tvar $updater = this.$updater;\n  \t\tvar $cache = this.$cache;\n  \t\tvar props = this.props;\n  \t\tvar state = this.state;\n  \t\tvar context = this.context;\n\n  \t\tif (!$cache.isMounted) {\n  \t\t\treturn;\n  \t\t}\n  \t\t// if updater is pending, add state to trigger nexttick update\n  \t\tif ($updater.isPending) {\n  \t\t\t$updater.addState(state);\n  \t\t\treturn;\n  \t\t}\n  \t\tvar nextProps = $cache.props || props;\n  \t\tvar nextState = $cache.state || state;\n  \t\tvar nextContext = $cache.context || context;\n  \t\tvar parentContext = $cache.parentContext;\n  \t\tvar node = $cache.node;\n  \t\tvar vnode = $cache.vnode;\n  \t\t$cache.props = $cache.state = $cache.context = null;\n  \t\t$updater.isPending = true;\n  \t\tif (this.componentWillUpdate) {\n  \t\t\tthis.componentWillUpdate(nextProps, nextState, nextContext);\n  \t\t}\n  \t\tthis.state = nextState;\n  \t\tthis.props = nextProps;\n  \t\tthis.context = nextContext;\n  \t\tvar newVnode = renderComponent(this);\n  \t\tvar newNode = compareTwoVnodes(vnode, newVnode, node, getChildContext(this, parentContext));\n  \t\tif (newNode !== node) {\n  \t\t\tnewNode.cache = newNode.cache || {};\n  \t\t\tsyncCache(newNode.cache, node.cache, newNode);\n  \t\t}\n  \t\t$cache.vnode = newVnode;\n  \t\t$cache.node = newNode;\n  \t\tclearPending();\n  \t\tif (this.componentDidUpdate) {\n  \t\t\tthis.componentDidUpdate(props, state, context);\n  \t\t}\n  \t\tif (callback) {\n  \t\t\tcallback.call(this);\n  \t\t}\n  \t\t$updater.isPending = false;\n  \t\t$updater.emitUpdate();\n  \t},\n  \tsetState: function setState(nextState, callback) {\n  \t\tvar $updater = this.$updater;\n\n  \t\t$updater.addCallback(callback);\n  \t\t$updater.addState(nextState);\n  \t},\n  \treplaceState: function replaceState(nextState, callback) {\n  \t\tvar $updater = this.$updater;\n\n  \t\t$updater.addCallback(callback);\n  \t\t$updater.replaceState(nextState);\n  \t},\n  \tgetDOMNode: function getDOMNode() {\n  \t\tvar node = this.$cache.node;\n  \t\treturn node && node.nodeName === '#comment' ? null : node;\n  \t},\n  \tisMounted: function isMounted() {\n  \t\treturn this.$cache.isMounted;\n  \t}\n  };\n\n  function shouldUpdate(component, nextProps, nextState, nextContext, callback) {\n  \tvar shouldComponentUpdate = true;\n  \tif (component.shouldComponentUpdate) {\n  \t\tshouldComponentUpdate = component.shouldComponentUpdate(nextProps, nextState, nextContext);\n  \t}\n  \tif (shouldComponentUpdate === false) {\n  \t\tcomponent.props = nextProps;\n  \t\tcomponent.state = nextState;\n  \t\tcomponent.context = nextContext || {};\n  \t\treturn;\n  \t}\n  \tvar cache = component.$cache;\n  \tcache.props = nextProps;\n  \tcache.state = nextState;\n  \tcache.context = nextContext || {};\n  \tcomponent.forceUpdate(callback);\n  }\n\n  // event config\n  var unbubbleEvents = {\n      /**\r\n       * should not bind mousemove in document scope\r\n       * even though mousemove event can bubble\r\n       */\n      onmousemove: 1,\n      ontouchmove: 1,\n      onmouseleave: 1,\n      onmouseenter: 1,\n      onload: 1,\n      onunload: 1,\n      onscroll: 1,\n      onfocus: 1,\n      onblur: 1,\n      onrowexit: 1,\n      onbeforeunload: 1,\n      onstop: 1,\n      ondragdrop: 1,\n      ondragenter: 1,\n      ondragexit: 1,\n      ondraggesture: 1,\n      ondragover: 1,\n      oncontextmenu: 1,\n      onerror: 1,\n\n      // media event\n      onabort: 1,\n      oncanplay: 1,\n      oncanplaythrough: 1,\n      ondurationchange: 1,\n      onemptied: 1,\n      onended: 1,\n      onloadeddata: 1,\n      onloadedmetadata: 1,\n      onloadstart: 1,\n      onencrypted: 1,\n      onpause: 1,\n      onplay: 1,\n      onplaying: 1,\n      onprogress: 1,\n      onratechange: 1,\n      onseeking: 1,\n      onseeked: 1,\n      onstalled: 1,\n      onsuspend: 1,\n      ontimeupdate: 1,\n      onvolumechange: 1,\n      onwaiting: 1\n  };\n\n  function getEventName(key) {\n      if (key === 'onDoubleClick') {\n          key = 'ondblclick';\n      } else if (key === 'onTouchTap') {\n          key = 'onclick';\n      }\n\n      return key.toLowerCase();\n  }\n\n  // Mobile Safari does not fire properly bubble click events on\n  // non-interactive elements, which means delegated click listeners do not\n  // fire. The workaround for this bug involves attaching an empty click\n  // listener on the target node.\n  var inMobile = ('ontouchstart' in document);\n  var emptyFunction = function emptyFunction() {};\n  var ON_CLICK_KEY = 'onclick';\n\n  var eventTypes = {};\n\n  function addEvent(elem, eventType, listener) {\n      eventType = getEventName(eventType);\n\n      var eventStore = elem.eventStore || (elem.eventStore = {});\n      eventStore[eventType] = listener;\n\n      if (unbubbleEvents[eventType] === 1) {\n          elem[eventType] = dispatchUnbubbleEvent;\n          return;\n      } else if (!eventTypes[eventType]) {\n          // onclick -> click\n          document.addEventListener(eventType.substr(2), dispatchEvent, false);\n          eventTypes[eventType] = true;\n      }\n\n      if (inMobile && eventType === ON_CLICK_KEY) {\n          elem.addEventListener('click', emptyFunction, false);\n          return;\n      }\n\n      var nodeName = elem.nodeName;\n\n      if (eventType === 'onchange' && supportInputEvent(elem)) {\n          addEvent(elem, 'oninput', listener);\n      }\n  }\n\n  function removeEvent(elem, eventType) {\n      eventType = getEventName(eventType);\n\n      var eventStore = elem.eventStore || (elem.eventStore = {});\n      delete eventStore[eventType];\n\n      if (unbubbleEvents[eventType] === 1) {\n          elem[eventType] = null;\n          return;\n      } else if (inMobile && eventType === ON_CLICK_KEY) {\n          elem.removeEventListener('click', emptyFunction, false);\n          return;\n      }\n\n      var nodeName = elem.nodeName;\n\n      if (eventType === 'onchange' && supportInputEvent(elem)) {\n          delete eventStore['oninput'];\n      }\n  }\n\n  function dispatchEvent(event) {\n      var target = event.target;\n      var type = event.type;\n\n      var eventType = 'on' + type;\n      var syntheticEvent = undefined;\n\n      updateQueue.isPending = true;\n      while (target) {\n          var _target = target;\n          var eventStore = _target.eventStore;\n\n          var listener = eventStore && eventStore[eventType];\n          if (!listener) {\n              target = target.parentNode;\n              continue;\n          }\n          if (!syntheticEvent) {\n              syntheticEvent = createSyntheticEvent(event);\n          }\n          syntheticEvent.currentTarget = target;\n          listener.call(target, syntheticEvent);\n          if (syntheticEvent.$cancelBubble) {\n              break;\n          }\n          target = target.parentNode;\n      }\n      updateQueue.isPending = false;\n      updateQueue.batchUpdate();\n  }\n\n  function dispatchUnbubbleEvent(event) {\n      var target = event.currentTarget || event.target;\n      var eventType = 'on' + event.type;\n      var syntheticEvent = createSyntheticEvent(event);\n\n      syntheticEvent.currentTarget = target;\n      updateQueue.isPending = true;\n\n      var eventStore = target.eventStore;\n\n      var listener = eventStore && eventStore[eventType];\n      if (listener) {\n          listener.call(target, syntheticEvent);\n      }\n\n      updateQueue.isPending = false;\n      updateQueue.batchUpdate();\n  }\n\n  function createSyntheticEvent(nativeEvent) {\n      var syntheticEvent = {};\n      var cancelBubble = function cancelBubble() {\n          return syntheticEvent.$cancelBubble = true;\n      };\n      syntheticEvent.nativeEvent = nativeEvent;\n      syntheticEvent.persist = noop;\n      for (var key in nativeEvent) {\n          if (typeof nativeEvent[key] !== 'function') {\n              syntheticEvent[key] = nativeEvent[key];\n          } else if (key === 'stopPropagation' || key === 'stopImmediatePropagation') {\n              syntheticEvent[key] = cancelBubble;\n          } else {\n              syntheticEvent[key] = nativeEvent[key].bind(nativeEvent);\n          }\n      }\n      return syntheticEvent;\n  }\n\n  function supportInputEvent(elem) {\n      var nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n      return nodeName !== 'select' && !(nodeName === 'input' && elem.type === 'file');\n  }\n\n  function setStyle(elemStyle, styles) {\n      for (var styleName in styles) {\n          if (styles.hasOwnProperty(styleName)) {\n              setStyleValue(elemStyle, styleName, styles[styleName]);\n          }\n      }\n  }\n\n  function removeStyle(elemStyle, styles) {\n      for (var styleName in styles) {\n          if (styles.hasOwnProperty(styleName)) {\n              elemStyle[styleName] = '';\n          }\n      }\n  }\n\n  function patchStyle(elemStyle, style, newStyle) {\n      if (style === newStyle) {\n          return;\n      }\n      if (!newStyle && style) {\n          removeStyle(elemStyle, style);\n          return;\n      } else if (newStyle && !style) {\n          setStyle(elemStyle, newStyle);\n          return;\n      }\n\n      for (var key in style) {\n          if (newStyle.hasOwnProperty(key)) {\n              if (newStyle[key] !== style[key]) {\n                  setStyleValue(elemStyle, key, newStyle[key]);\n              }\n          } else {\n              elemStyle[key] = '';\n          }\n      }\n      for (var key in newStyle) {\n          if (!style.hasOwnProperty(key)) {\n              setStyleValue(elemStyle, key, newStyle[key]);\n          }\n      }\n  }\n\n  /**\r\n   * CSS properties which accept numbers but are not in units of \"px\".\r\n   */\n  var isUnitlessNumber = {\n      animationIterationCount: 1,\n      borderImageOutset: 1,\n      borderImageSlice: 1,\n      borderImageWidth: 1,\n      boxFlex: 1,\n      boxFlexGroup: 1,\n      boxOrdinalGroup: 1,\n      columnCount: 1,\n      flex: 1,\n      flexGrow: 1,\n      flexPositive: 1,\n      flexShrink: 1,\n      flexNegative: 1,\n      flexOrder: 1,\n      gridRow: 1,\n      gridColumn: 1,\n      fontWeight: 1,\n      lineClamp: 1,\n      lineHeight: 1,\n      opacity: 1,\n      order: 1,\n      orphans: 1,\n      tabSize: 1,\n      widows: 1,\n      zIndex: 1,\n      zoom: 1,\n\n      // SVG-related properties\n      fillOpacity: 1,\n      floodOpacity: 1,\n      stopOpacity: 1,\n      strokeDasharray: 1,\n      strokeDashoffset: 1,\n      strokeMiterlimit: 1,\n      strokeOpacity: 1,\n      strokeWidth: 1\n  };\n\n  function prefixKey(prefix, key) {\n      return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n  }\n\n  var prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\n  Object.keys(isUnitlessNumber).forEach(function (prop) {\n      prefixes.forEach(function (prefix) {\n          isUnitlessNumber[prefixKey(prefix, prop)] = 1;\n      });\n  });\n\n  var RE_NUMBER = /^-?\\d+(\\.\\d+)?$/;\n  function setStyleValue(elemStyle, styleName, styleValue) {\n\n      if (!isUnitlessNumber[styleName] && RE_NUMBER.test(styleValue)) {\n          elemStyle[styleName] = styleValue + 'px';\n          return;\n      }\n\n      if (styleName === 'float') {\n          styleName = 'cssFloat';\n      }\n\n      if (styleValue == null || typeof styleValue === 'boolean') {\n          styleValue = '';\n      }\n\n      elemStyle[styleName] = styleValue;\n  }\n\n  var ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n  var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\uB7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\n  var VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\n  var isCustomAttribute = RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\n  // will merge some data in properties below\n  var properties = {};\n\n  /**\r\n   * Mapping from normalized, camelcased property names to a configuration that\r\n   * specifies how the associated DOM property should be accessed or rendered.\r\n   */\n  var MUST_USE_PROPERTY = 0x1;\n  var HAS_BOOLEAN_VALUE = 0x4;\n  var HAS_NUMERIC_VALUE = 0x8;\n  var HAS_POSITIVE_NUMERIC_VALUE = 0x10 | 0x8;\n  var HAS_OVERLOADED_BOOLEAN_VALUE = 0x20;\n\n  // html config\n  var HTMLDOMPropertyConfig = {\n      props: {\n          /**\r\n           * Standard Properties\r\n           */\n          accept: 0,\n          acceptCharset: 0,\n          accessKey: 0,\n          action: 0,\n          allowFullScreen: HAS_BOOLEAN_VALUE,\n          allowTransparency: 0,\n          alt: 0,\n          async: HAS_BOOLEAN_VALUE,\n          autoComplete: 0,\n          autoFocus: HAS_BOOLEAN_VALUE,\n          autoPlay: HAS_BOOLEAN_VALUE,\n          capture: HAS_BOOLEAN_VALUE,\n          cellPadding: 0,\n          cellSpacing: 0,\n          charSet: 0,\n          challenge: 0,\n          checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          cite: 0,\n          classID: 0,\n          className: 0,\n          cols: HAS_POSITIVE_NUMERIC_VALUE,\n          colSpan: 0,\n          content: 0,\n          contentEditable: 0,\n          contextMenu: 0,\n          controls: HAS_BOOLEAN_VALUE,\n          coords: 0,\n          crossOrigin: 0,\n          data: 0, // For `<object />` acts as `src`.\n          dateTime: 0,\n          'default': HAS_BOOLEAN_VALUE,\n          // not in regular react, they did it in other way\n          defaultValue: MUST_USE_PROPERTY,\n          // not in regular react, they did it in other way\n          defaultChecked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          defer: HAS_BOOLEAN_VALUE,\n          dir: 0,\n          disabled: HAS_BOOLEAN_VALUE,\n          download: HAS_OVERLOADED_BOOLEAN_VALUE,\n          draggable: 0,\n          encType: 0,\n          form: 0,\n          formAction: 0,\n          formEncType: 0,\n          formMethod: 0,\n          formNoValidate: HAS_BOOLEAN_VALUE,\n          formTarget: 0,\n          frameBorder: 0,\n          headers: 0,\n          height: 0,\n          hidden: HAS_BOOLEAN_VALUE,\n          high: 0,\n          href: 0,\n          hrefLang: 0,\n          htmlFor: 0,\n          httpEquiv: 0,\n          icon: 0,\n          id: 0,\n          inputMode: 0,\n          integrity: 0,\n          is: 0,\n          keyParams: 0,\n          keyType: 0,\n          kind: 0,\n          label: 0,\n          lang: 0,\n          list: 0,\n          loop: HAS_BOOLEAN_VALUE,\n          low: 0,\n          manifest: 0,\n          marginHeight: 0,\n          marginWidth: 0,\n          max: 0,\n          maxLength: 0,\n          media: 0,\n          mediaGroup: 0,\n          method: 0,\n          min: 0,\n          minLength: 0,\n          // Caution; `option.selected` is not updated if `select.multiple` is\n          // disabled with `removeAttribute`.\n          multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          name: 0,\n          nonce: 0,\n          noValidate: HAS_BOOLEAN_VALUE,\n          open: HAS_BOOLEAN_VALUE,\n          optimum: 0,\n          pattern: 0,\n          placeholder: 0,\n          poster: 0,\n          preload: 0,\n          profile: 0,\n          radioGroup: 0,\n          readOnly: HAS_BOOLEAN_VALUE,\n          referrerPolicy: 0,\n          rel: 0,\n          required: HAS_BOOLEAN_VALUE,\n          reversed: HAS_BOOLEAN_VALUE,\n          role: 0,\n          rows: HAS_POSITIVE_NUMERIC_VALUE,\n          rowSpan: HAS_NUMERIC_VALUE,\n          sandbox: 0,\n          scope: 0,\n          scoped: HAS_BOOLEAN_VALUE,\n          scrolling: 0,\n          seamless: HAS_BOOLEAN_VALUE,\n          selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          shape: 0,\n          size: HAS_POSITIVE_NUMERIC_VALUE,\n          sizes: 0,\n          span: HAS_POSITIVE_NUMERIC_VALUE,\n          spellCheck: 0,\n          src: 0,\n          srcDoc: 0,\n          srcLang: 0,\n          srcSet: 0,\n          start: HAS_NUMERIC_VALUE,\n          step: 0,\n          style: 0,\n          summary: 0,\n          tabIndex: 0,\n          target: 0,\n          title: 0,\n          // Setting .type throws on non-<input> tags\n          type: 0,\n          useMap: 0,\n          value: MUST_USE_PROPERTY,\n          width: 0,\n          wmode: 0,\n          wrap: 0,\n\n          /**\r\n           * RDFa Properties\r\n           */\n          about: 0,\n          datatype: 0,\n          inlist: 0,\n          prefix: 0,\n          // property is also supported for OpenGraph in meta tags.\n          property: 0,\n          playsInline: HAS_BOOLEAN_VALUE,\n          resource: 0,\n          'typeof': 0,\n          vocab: 0,\n\n          /**\r\n           * Non-standard Properties\r\n           */\n          // autoCapitalize and autoCorrect are supported in Mobile Safari for\n          // keyboard hints.\n          autoCapitalize: 0,\n          autoCorrect: 0,\n          // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n          autoSave: 0,\n          // color is for Safari mask-icon link\n          color: 0,\n          // itemProp, itemScope, itemType are for\n          // Microdata support. See http://schema.org/docs/gs.html\n          itemProp: 0,\n          itemScope: HAS_BOOLEAN_VALUE,\n          itemType: 0,\n          // itemID and itemRef are for Microdata support as well but\n          // only specified in the WHATWG spec document. See\n          // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n          itemID: 0,\n          itemRef: 0,\n          // results show looking glass icon and recent searches on input\n          // search fields in WebKit/Blink\n          results: 0,\n          // IE-only attribute that specifies security restrictions on an iframe\n          // as an alternative to the sandbox attribute on IE<10\n          security: 0,\n          // IE-only attribute that controls focus behavior\n          unselectable: 0\n      },\n      attrNS: {},\n      domAttrs: {\n          acceptCharset: 'accept-charset',\n          className: 'class',\n          htmlFor: 'for',\n          httpEquiv: 'http-equiv'\n      },\n      domProps: {}\n  };\n\n  // svg config\n  var xlink = 'http://www.w3.org/1999/xlink';\n  var xml = 'http://www.w3.org/XML/1998/namespace';\n\n  // We use attributes for everything SVG so let's avoid some duplication and run\n  // code instead.\n  // The following are all specified in the HTML config already so we exclude here.\n  // - class (as className)\n  // - color\n  // - height\n  // - id\n  // - lang\n  // - max\n  // - media\n  // - method\n  // - min\n  // - name\n  // - style\n  // - target\n  // - type\n  // - width\n  var ATTRS = {\n      accentHeight: 'accent-height',\n      accumulate: 0,\n      additive: 0,\n      alignmentBaseline: 'alignment-baseline',\n      allowReorder: 'allowReorder',\n      alphabetic: 0,\n      amplitude: 0,\n      arabicForm: 'arabic-form',\n      ascent: 0,\n      attributeName: 'attributeName',\n      attributeType: 'attributeType',\n      autoReverse: 'autoReverse',\n      azimuth: 0,\n      baseFrequency: 'baseFrequency',\n      baseProfile: 'baseProfile',\n      baselineShift: 'baseline-shift',\n      bbox: 0,\n      begin: 0,\n      bias: 0,\n      by: 0,\n      calcMode: 'calcMode',\n      capHeight: 'cap-height',\n      clip: 0,\n      clipPath: 'clip-path',\n      clipRule: 'clip-rule',\n      clipPathUnits: 'clipPathUnits',\n      colorInterpolation: 'color-interpolation',\n      colorInterpolationFilters: 'color-interpolation-filters',\n      colorProfile: 'color-profile',\n      colorRendering: 'color-rendering',\n      contentScriptType: 'contentScriptType',\n      contentStyleType: 'contentStyleType',\n      cursor: 0,\n      cx: 0,\n      cy: 0,\n      d: 0,\n      decelerate: 0,\n      descent: 0,\n      diffuseConstant: 'diffuseConstant',\n      direction: 0,\n      display: 0,\n      divisor: 0,\n      dominantBaseline: 'dominant-baseline',\n      dur: 0,\n      dx: 0,\n      dy: 0,\n      edgeMode: 'edgeMode',\n      elevation: 0,\n      enableBackground: 'enable-background',\n      end: 0,\n      exponent: 0,\n      externalResourcesRequired: 'externalResourcesRequired',\n      fill: 0,\n      fillOpacity: 'fill-opacity',\n      fillRule: 'fill-rule',\n      filter: 0,\n      filterRes: 'filterRes',\n      filterUnits: 'filterUnits',\n      floodColor: 'flood-color',\n      floodOpacity: 'flood-opacity',\n      focusable: 0,\n      fontFamily: 'font-family',\n      fontSize: 'font-size',\n      fontSizeAdjust: 'font-size-adjust',\n      fontStretch: 'font-stretch',\n      fontStyle: 'font-style',\n      fontVariant: 'font-variant',\n      fontWeight: 'font-weight',\n      format: 0,\n      from: 0,\n      fx: 0,\n      fy: 0,\n      g1: 0,\n      g2: 0,\n      glyphName: 'glyph-name',\n      glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n      glyphOrientationVertical: 'glyph-orientation-vertical',\n      glyphRef: 'glyphRef',\n      gradientTransform: 'gradientTransform',\n      gradientUnits: 'gradientUnits',\n      hanging: 0,\n      horizAdvX: 'horiz-adv-x',\n      horizOriginX: 'horiz-origin-x',\n      ideographic: 0,\n      imageRendering: 'image-rendering',\n      'in': 0,\n      in2: 0,\n      intercept: 0,\n      k: 0,\n      k1: 0,\n      k2: 0,\n      k3: 0,\n      k4: 0,\n      kernelMatrix: 'kernelMatrix',\n      kernelUnitLength: 'kernelUnitLength',\n      kerning: 0,\n      keyPoints: 'keyPoints',\n      keySplines: 'keySplines',\n      keyTimes: 'keyTimes',\n      lengthAdjust: 'lengthAdjust',\n      letterSpacing: 'letter-spacing',\n      lightingColor: 'lighting-color',\n      limitingConeAngle: 'limitingConeAngle',\n      local: 0,\n      markerEnd: 'marker-end',\n      markerMid: 'marker-mid',\n      markerStart: 'marker-start',\n      markerHeight: 'markerHeight',\n      markerUnits: 'markerUnits',\n      markerWidth: 'markerWidth',\n      mask: 0,\n      maskContentUnits: 'maskContentUnits',\n      maskUnits: 'maskUnits',\n      mathematical: 0,\n      mode: 0,\n      numOctaves: 'numOctaves',\n      offset: 0,\n      opacity: 0,\n      operator: 0,\n      order: 0,\n      orient: 0,\n      orientation: 0,\n      origin: 0,\n      overflow: 0,\n      overlinePosition: 'overline-position',\n      overlineThickness: 'overline-thickness',\n      paintOrder: 'paint-order',\n      panose1: 'panose-1',\n      pathLength: 'pathLength',\n      patternContentUnits: 'patternContentUnits',\n      patternTransform: 'patternTransform',\n      patternUnits: 'patternUnits',\n      pointerEvents: 'pointer-events',\n      points: 0,\n      pointsAtX: 'pointsAtX',\n      pointsAtY: 'pointsAtY',\n      pointsAtZ: 'pointsAtZ',\n      preserveAlpha: 'preserveAlpha',\n      preserveAspectRatio: 'preserveAspectRatio',\n      primitiveUnits: 'primitiveUnits',\n      r: 0,\n      radius: 0,\n      refX: 'refX',\n      refY: 'refY',\n      renderingIntent: 'rendering-intent',\n      repeatCount: 'repeatCount',\n      repeatDur: 'repeatDur',\n      requiredExtensions: 'requiredExtensions',\n      requiredFeatures: 'requiredFeatures',\n      restart: 0,\n      result: 0,\n      rotate: 0,\n      rx: 0,\n      ry: 0,\n      scale: 0,\n      seed: 0,\n      shapeRendering: 'shape-rendering',\n      slope: 0,\n      spacing: 0,\n      specularConstant: 'specularConstant',\n      specularExponent: 'specularExponent',\n      speed: 0,\n      spreadMethod: 'spreadMethod',\n      startOffset: 'startOffset',\n      stdDeviation: 'stdDeviation',\n      stemh: 0,\n      stemv: 0,\n      stitchTiles: 'stitchTiles',\n      stopColor: 'stop-color',\n      stopOpacity: 'stop-opacity',\n      strikethroughPosition: 'strikethrough-position',\n      strikethroughThickness: 'strikethrough-thickness',\n      string: 0,\n      stroke: 0,\n      strokeDasharray: 'stroke-dasharray',\n      strokeDashoffset: 'stroke-dashoffset',\n      strokeLinecap: 'stroke-linecap',\n      strokeLinejoin: 'stroke-linejoin',\n      strokeMiterlimit: 'stroke-miterlimit',\n      strokeOpacity: 'stroke-opacity',\n      strokeWidth: 'stroke-width',\n      surfaceScale: 'surfaceScale',\n      systemLanguage: 'systemLanguage',\n      tableValues: 'tableValues',\n      targetX: 'targetX',\n      targetY: 'targetY',\n      textAnchor: 'text-anchor',\n      textDecoration: 'text-decoration',\n      textRendering: 'text-rendering',\n      textLength: 'textLength',\n      to: 0,\n      transform: 0,\n      u1: 0,\n      u2: 0,\n      underlinePosition: 'underline-position',\n      underlineThickness: 'underline-thickness',\n      unicode: 0,\n      unicodeBidi: 'unicode-bidi',\n      unicodeRange: 'unicode-range',\n      unitsPerEm: 'units-per-em',\n      vAlphabetic: 'v-alphabetic',\n      vHanging: 'v-hanging',\n      vIdeographic: 'v-ideographic',\n      vMathematical: 'v-mathematical',\n      values: 0,\n      vectorEffect: 'vector-effect',\n      version: 0,\n      vertAdvY: 'vert-adv-y',\n      vertOriginX: 'vert-origin-x',\n      vertOriginY: 'vert-origin-y',\n      viewBox: 'viewBox',\n      viewTarget: 'viewTarget',\n      visibility: 0,\n      widths: 0,\n      wordSpacing: 'word-spacing',\n      writingMode: 'writing-mode',\n      x: 0,\n      xHeight: 'x-height',\n      x1: 0,\n      x2: 0,\n      xChannelSelector: 'xChannelSelector',\n      xlinkActuate: 'xlink:actuate',\n      xlinkArcrole: 'xlink:arcrole',\n      xlinkHref: 'xlink:href',\n      xlinkRole: 'xlink:role',\n      xlinkShow: 'xlink:show',\n      xlinkTitle: 'xlink:title',\n      xlinkType: 'xlink:type',\n      xmlBase: 'xml:base',\n      xmlns: 0,\n      xmlnsXlink: 'xmlns:xlink',\n      xmlLang: 'xml:lang',\n      xmlSpace: 'xml:space',\n      y: 0,\n      y1: 0,\n      y2: 0,\n      yChannelSelector: 'yChannelSelector',\n      z: 0,\n      zoomAndPan: 'zoomAndPan'\n  };\n\n  var SVGDOMPropertyConfig = {\n      props: {},\n      attrNS: {\n          xlinkActuate: xlink,\n          xlinkArcrole: xlink,\n          xlinkHref: xlink,\n          xlinkRole: xlink,\n          xlinkShow: xlink,\n          xlinkTitle: xlink,\n          xlinkType: xlink,\n          xmlBase: xml,\n          xmlLang: xml,\n          xmlSpace: xml\n      },\n      domAttrs: {},\n      domProps: {}\n  };\n\n  Object.keys(ATTRS).map(function (key) {\n      SVGDOMPropertyConfig.props[key] = 0;\n      if (ATTRS[key]) {\n          SVGDOMPropertyConfig.domAttrs[key] = ATTRS[key];\n      }\n  });\n\n  // merge html and svg config into properties\n  mergeConfigToProperties(HTMLDOMPropertyConfig);\n  mergeConfigToProperties(SVGDOMPropertyConfig);\n\n  function mergeConfigToProperties(config) {\n      var\n      // all react/react-lite supporting property names in here\n      props = config.props;\n      var\n      // attributes namespace in here\n      attrNS = config.attrNS;\n      var\n      // propName in props which should use to be dom-attribute in here\n      domAttrs = config.domAttrs;\n      var\n      // propName in props which should use to be dom-property in here\n      domProps = config.domProps;\n\n      for (var propName in props) {\n          if (!props.hasOwnProperty(propName)) {\n              continue;\n          }\n          var propConfig = props[propName];\n          properties[propName] = {\n              attributeName: domAttrs.hasOwnProperty(propName) ? domAttrs[propName] : propName.toLowerCase(),\n              propertyName: domProps.hasOwnProperty(propName) ? domProps[propName] : propName,\n              attributeNamespace: attrNS.hasOwnProperty(propName) ? attrNS[propName] : null,\n              mustUseProperty: checkMask(propConfig, MUST_USE_PROPERTY),\n              hasBooleanValue: checkMask(propConfig, HAS_BOOLEAN_VALUE),\n              hasNumericValue: checkMask(propConfig, HAS_NUMERIC_VALUE),\n              hasPositiveNumericValue: checkMask(propConfig, HAS_POSITIVE_NUMERIC_VALUE),\n              hasOverloadedBooleanValue: checkMask(propConfig, HAS_OVERLOADED_BOOLEAN_VALUE)\n          };\n      }\n  }\n\n  function checkMask(value, bitmask) {\n      return (value & bitmask) === bitmask;\n  }\n\n  /**\r\n   * Sets the value for a property on a node.\r\n   *\r\n   * @param {DOMElement} node\r\n   * @param {string} name\r\n   * @param {*} value\r\n   */\n\n  function setPropValue(node, name, value) {\n      var propInfo = properties.hasOwnProperty(name) && properties[name];\n      if (propInfo) {\n          // should delete value from dom\n          if (value == null || propInfo.hasBooleanValue && !value || propInfo.hasNumericValue && isNaN(value) || propInfo.hasPositiveNumericValue && value < 1 || propInfo.hasOverloadedBooleanValue && value === false) {\n              removePropValue(node, name);\n          } else if (propInfo.mustUseProperty) {\n              node[propInfo.propertyName] = value;\n          } else {\n              var attributeName = propInfo.attributeName;\n              var namespace = propInfo.attributeNamespace;\n\n              // `setAttribute` with objects becomes only `[object]` in IE8/9,\n              // ('' + value) makes it output the correct toString()-value.\n              if (namespace) {\n                  node.setAttributeNS(namespace, attributeName, '' + value);\n              } else if (propInfo.hasBooleanValue || propInfo.hasOverloadedBooleanValue && value === true) {\n                  node.setAttribute(attributeName, '');\n              } else {\n                  node.setAttribute(attributeName, '' + value);\n              }\n          }\n      } else if (isCustomAttribute(name) && VALID_ATTRIBUTE_NAME_REGEX.test(name)) {\n          if (value == null) {\n              node.removeAttribute(name);\n          } else {\n              node.setAttribute(name, '' + value);\n          }\n      }\n  }\n\n  /**\r\n   * Deletes the value for a property on a node.\r\n   *\r\n   * @param {DOMElement} node\r\n   * @param {string} name\r\n   */\n\n  function removePropValue(node, name) {\n      var propInfo = properties.hasOwnProperty(name) && properties[name];\n      if (propInfo) {\n          if (propInfo.mustUseProperty) {\n              var propName = propInfo.propertyName;\n              if (propInfo.hasBooleanValue) {\n                  node[propName] = false;\n              } else {\n                  node[propName] = '';\n              }\n          } else {\n              node.removeAttribute(propInfo.attributeName);\n          }\n      } else if (isCustomAttribute(name)) {\n          node.removeAttribute(name);\n      }\n  }\n\n  function updateSelectOptions(select, multiple, propValue) {\n      var selectedValue, i;\n      var options = select.options;\n\n      if (multiple) {\n          select.multiple = true;\n          if (!Array.isArray(propValue)) {\n              throw new Error('The value prop supplied to <select> must be an array if `multiple` is true');\n          }\n          selectedValue = {};\n          for (i = 0; i < propValue.length; i++) {\n              selectedValue['' + propValue[i]] = true;\n          }\n          for (i = 0; i < options.length; i++) {\n              var selected = selectedValue.hasOwnProperty(options[i].value);\n              if (options[i].selected !== selected) {\n                  options[i].selected = selected;\n              }\n          }\n      } else {\n          select.multiple = false;\n          if (Array.isArray(propValue)) {\n              throw new Error('The value prop supplied to <select> must be a scalar value if `multiple` is false.');\n          }\n          // Do not set `select.value` as exact behavior isn't consistent across all\n          // browsers for all cases.\n          selectedValue = '' + propValue;\n          for (i = 0; i < options.length; i++) {\n              var option = options[i];\n              if (option.value === selectedValue) {\n                  if (!option.selected) {\n                      option.selected = true;\n                  }\n              } else {\n                  if (option.selected) {\n                      option.selected = false;\n                  }\n              }\n          }\n\n          if (options.selectedIndex < 0 && options.length) {\n              options[0].selected = true;\n          }\n      }\n  }\n\n  function isFn(obj) {\n      return typeof obj === 'function';\n  }\n\n  var isArr = Array.isArray;\n\n  function noop() {}\n\n  function identity(obj) {\n      return obj;\n  }\n\n  function pipe(fn1, fn2) {\n      return function () {\n          fn1.apply(this, arguments);\n          return fn2.apply(this, arguments);\n      };\n  }\n\n  function addItem(list, item) {\n      list[list.length] = item;\n  }\n\n  function flatEach(list, iteratee, a) {\n      var len = list.length;\n      var i = -1;\n\n      while (len--) {\n          var item = list[++i];\n          if (isArr(item)) {\n              flatEach(item, iteratee, a);\n          } else {\n              iteratee(item, a);\n          }\n      }\n  }\n\n  function extend(to, from) {\n      if (!from) {\n          return to;\n      }\n      var keys = Object.keys(from);\n      var i = keys.length;\n      while (i--) {\n          to[keys[i]] = from[keys[i]];\n      }\n      return to;\n  }\n\n  var uid = 0;\n\n  function getUid() {\n      return ++uid;\n  }\n\n  var EVENT_KEYS = /^on/i;\n\n  function setProp(elem, key, value, isCustomComponent) {\n      if (EVENT_KEYS.test(key)) {\n          addEvent(elem, key, value);\n      } else if (key === 'style') {\n          setStyle(elem.style, value);\n      } else if (key === HTML_KEY) {\n          if (value && value.__html != null) {\n              elem.innerHTML = value.__html;\n          }\n      } else if (isCustomComponent) {\n          if (value == null) {\n              elem.removeAttribute(key);\n          } else {\n              elem.setAttribute(key, '' + value);\n          }\n      } else {\n          setPropValue(elem, key, value);\n      }\n  }\n\n  function removeProp(elem, key, oldValue, isCustomComponent) {\n      if (EVENT_KEYS.test(key)) {\n          removeEvent(elem, key);\n      } else if (key === 'style') {\n          removeStyle(elem.style, oldValue);\n      } else if (key === HTML_KEY) {\n          elem.innerHTML = '';\n      } else if (isCustomComponent) {\n          elem.removeAttribute(key);\n      } else {\n          removePropValue(elem, key);\n      }\n  }\n\n  function patchProp(elem, key, value, oldValue, isCustomComponent) {\n      if (key === 'value' || key === 'checked') {\n          oldValue = elem[key];\n      }\n      if (value === oldValue) {\n          return;\n      }\n      if (value === undefined) {\n          removeProp(elem, key, oldValue, isCustomComponent);\n          return;\n      }\n      if (key === 'style') {\n          patchStyle(elem.style, oldValue, value);\n      } else {\n          setProp(elem, key, value, isCustomComponent);\n      }\n  }\n\n  function setProps(elem, props, isCustomComponent) {\n      var isSelect = elem.nodeName === 'SELECT';\n      for (var key in props) {\n          if (key !== 'children') {\n              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                  updateSelectOptions(elem, props.multiple, props[key]);\n              } else {\n                  setProp(elem, key, props[key], isCustomComponent);\n              }\n          }\n      }\n  }\n\n  function patchProps(elem, props, newProps, isCustomComponent) {\n      var isSelect = elem.nodeName === 'SELECT';\n      for (var key in props) {\n          if (key !== 'children') {\n              if (newProps.hasOwnProperty(key)) {\n                  if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                      updateSelectOptions(elem, newProps.multiple, newProps[key]);\n                  } else {\n                      patchProp(elem, key, newProps[key], props[key], isCustomComponent);\n                  }\n              } else {\n                  removeProp(elem, key, props[key], isCustomComponent);\n              }\n          }\n      }\n      for (var key in newProps) {\n          if (key !== 'children' && !props.hasOwnProperty(key)) {\n              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                  updateSelectOptions(elem, newProps.multiple, newProps[key]);\n              } else {\n                  setProp(elem, key, newProps[key], isCustomComponent);\n              }\n          }\n      }\n  }\n\n  if (!Object.freeze) {\n      Object.freeze = identity;\n  }\n\n  function isValidContainer(node) {\n  \treturn !!(node && (node.nodeType === ELEMENT_NODE_TYPE || node.nodeType === DOC_NODE_TYPE || node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE));\n  }\n\n  var pendingRendering = {};\n  var vnodeStore = {};\n  function renderTreeIntoContainer(vnode, container, callback, parentContext) {\n  \tif (!vnode.vtype) {\n  \t\tthrow new Error('cannot render ' + vnode + ' to container');\n  \t}\n  \tif (!isValidContainer(container)) {\n  \t\tthrow new Error('container ' + container + ' is not a DOM element');\n  \t}\n  \tvar id = container[COMPONENT_ID] || (container[COMPONENT_ID] = getUid());\n  \tvar argsCache = pendingRendering[id];\n\n  \t// component lify cycle method maybe call root rendering\n  \t// should bundle them and render by only one time\n  \tif (argsCache) {\n  \t\tif (argsCache === true) {\n  \t\t\tpendingRendering[id] = argsCache = { vnode: vnode, callback: callback, parentContext: parentContext };\n  \t\t} else {\n  \t\t\targsCache.vnode = vnode;\n  \t\t\targsCache.parentContext = parentContext;\n  \t\t\targsCache.callback = argsCache.callback ? pipe(argsCache.callback, callback) : callback;\n  \t\t}\n  \t\treturn;\n  \t}\n\n  \tpendingRendering[id] = true;\n  \tvar oldVnode = null;\n  \tvar rootNode = null;\n  \tif (oldVnode = vnodeStore[id]) {\n  \t\trootNode = compareTwoVnodes(oldVnode, vnode, container.firstChild, parentContext);\n  \t} else {\n  \t\trootNode = initVnode(vnode, parentContext, container.namespaceURI);\n  \t\tvar childNode = null;\n  \t\twhile (childNode = container.lastChild) {\n  \t\t\tcontainer.removeChild(childNode);\n  \t\t}\n  \t\tcontainer.appendChild(rootNode);\n  \t}\n  \tvnodeStore[id] = vnode;\n  \tvar isPending = updateQueue.isPending;\n  \tupdateQueue.isPending = true;\n  \tclearPending();\n  \targsCache = pendingRendering[id];\n  \tdelete pendingRendering[id];\n\n  \tvar result = null;\n  \tif (typeof argsCache === 'object') {\n  \t\tresult = renderTreeIntoContainer(argsCache.vnode, container, argsCache.callback, argsCache.parentContext);\n  \t} else if (vnode.vtype === VELEMENT) {\n  \t\tresult = rootNode;\n  \t} else if (vnode.vtype === VCOMPONENT) {\n  \t\tresult = rootNode.cache[vnode.uid];\n  \t}\n\n  \tif (!isPending) {\n  \t\tupdateQueue.isPending = false;\n  \t\tupdateQueue.batchUpdate();\n  \t}\n\n  \tif (callback) {\n  \t\tcallback.call(result);\n  \t}\n\n  \treturn result;\n  }\n\n  function render(vnode, container, callback) {\n  \treturn renderTreeIntoContainer(vnode, container, callback);\n  }\n\n  function unstable_renderSubtreeIntoContainer(parentComponent, subVnode, container, callback) {\n  \tvar context = parentComponent.$cache.parentContext;\n  \treturn renderTreeIntoContainer(subVnode, container, callback, context);\n  }\n\n  function unmountComponentAtNode(container) {\n  \tif (!container.nodeName) {\n  \t\tthrow new Error('expect node');\n  \t}\n  \tvar id = container[COMPONENT_ID];\n  \tvar vnode = null;\n  \tif (vnode = vnodeStore[id]) {\n  \t\tdestroyVnode(vnode, container.firstChild);\n  \t\tcontainer.removeChild(container.firstChild);\n  \t\tdelete vnodeStore[id];\n  \t\treturn true;\n  \t}\n  \treturn false;\n  }\n\n  function findDOMNode(node) {\n  \tif (node == null) {\n  \t\treturn null;\n  \t}\n  \tif (node.nodeName) {\n  \t\treturn node;\n  \t}\n  \tvar component = node;\n  \t// if component.node equal to false, component must be unmounted\n  \tif (component.getDOMNode && component.$cache.isMounted) {\n  \t\treturn component.getDOMNode();\n  \t}\n  \tthrow new Error('findDOMNode can not find Node');\n  }\n\n  var ReactDOM = Object.freeze({\n  \trender: render,\n  \tunstable_renderSubtreeIntoContainer: unstable_renderSubtreeIntoContainer,\n  \tunmountComponentAtNode: unmountComponentAtNode,\n  \tfindDOMNode: findDOMNode\n  });\n\n  function createElement(type, props, children) {\n  \tvar vtype = null;\n  \tif (typeof type === 'string') {\n  \t\tvtype = VELEMENT;\n  \t} else if (typeof type === 'function') {\n  \t\tif (type.prototype && type.prototype.isReactComponent) {\n  \t\t\tvtype = VCOMPONENT;\n  \t\t} else {\n  \t\t\tvtype = VSTATELESS;\n  \t\t}\n  \t} else {\n  \t\tthrow new Error('React.createElement: unexpect type [ ' + type + ' ]');\n  \t}\n\n  \tvar key = null;\n  \tvar ref = null;\n  \tvar finalProps = {};\n  \tif (props != null) {\n  \t\tfor (var propKey in props) {\n  \t\t\tif (!props.hasOwnProperty(propKey)) {\n  \t\t\t\tcontinue;\n  \t\t\t}\n  \t\t\tif (propKey === 'key') {\n  \t\t\t\tif (props.key !== undefined) {\n  \t\t\t\t\tkey = '' + props.key;\n  \t\t\t\t}\n  \t\t\t} else if (propKey === 'ref') {\n  \t\t\t\tif (props.ref !== undefined) {\n  \t\t\t\t\tref = props.ref;\n  \t\t\t\t}\n  \t\t\t} else {\n  \t\t\t\tfinalProps[propKey] = props[propKey];\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tvar defaultProps = type.defaultProps;\n\n  \tif (defaultProps) {\n  \t\tfor (var propKey in defaultProps) {\n  \t\t\tif (finalProps[propKey] === undefined) {\n  \t\t\t\tfinalProps[propKey] = defaultProps[propKey];\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tvar argsLen = arguments.length;\n  \tvar finalChildren = children;\n\n  \tif (argsLen > 3) {\n  \t\tfinalChildren = Array(argsLen - 2);\n  \t\tfor (var i = 2; i < argsLen; i++) {\n  \t\t\tfinalChildren[i - 2] = arguments[i];\n  \t\t}\n  \t}\n\n  \tif (finalChildren !== undefined) {\n  \t\tfinalProps.children = finalChildren;\n  \t}\n\n  \treturn createVnode(vtype, type, finalProps, key, ref);\n  }\n\n  function isValidElement(obj) {\n  \treturn obj != null && !!obj.vtype;\n  }\n\n  function cloneElement(originElem, props) {\n  \tvar type = originElem.type;\n  \tvar key = originElem.key;\n  \tvar ref = originElem.ref;\n\n  \tvar newProps = extend(extend({ key: key, ref: ref }, originElem.props), props);\n\n  \tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n  \t\tchildren[_key - 2] = arguments[_key];\n  \t}\n\n  \tvar vnode = createElement.apply(undefined, [type, newProps].concat(children));\n  \tif (vnode.ref === originElem.ref) {\n  \t\tvnode.refs = originElem.refs;\n  \t}\n  \treturn vnode;\n  }\n\n  function createFactory(type) {\n  \tvar factory = function factory() {\n  \t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n  \t\t\targs[_key2] = arguments[_key2];\n  \t\t}\n\n  \t\treturn createElement.apply(undefined, [type].concat(args));\n  \t};\n  \tfactory.type = type;\n  \treturn factory;\n  }\n\n  var tagNames = 'a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan';\n  var DOM = {};\n  tagNames.split('|').forEach(function (tagName) {\n  \tDOM[tagName] = createFactory(tagName);\n  });\n\n  var check = function check() {\n      return check;\n  };\n  check.isRequired = check;\n  var PropTypes = {\n      \"array\": check,\n      \"bool\": check,\n      \"func\": check,\n      \"number\": check,\n      \"object\": check,\n      \"string\": check,\n      \"any\": check,\n      \"arrayOf\": check,\n      \"element\": check,\n      \"instanceOf\": check,\n      \"node\": check,\n      \"objectOf\": check,\n      \"oneOf\": check,\n      \"oneOfType\": check,\n      \"shape\": check\n  };\n\n  function only(children) {\n  \tif (isValidElement(children)) {\n  \t\treturn children;\n  \t}\n  \tthrow new Error('expect only one child');\n  }\n\n  function forEach(children, iteratee, context) {\n  \tif (children == null) {\n  \t\treturn children;\n  \t}\n  \tvar index = 0;\n  \tif (isArr(children)) {\n  \t\tflatEach(children, function (child) {\n  \t\t\t// from traverseAllChildrenImpl in react\n  \t\t\tvar type = typeof child;\n  \t\t\tif (type === 'undefined' || type === 'boolean') {\n  \t\t\t\t// All of the above are perceived as null.\n  \t\t\t\tchild = null;\n  \t\t\t}\n\n  \t\t\titeratee.call(context, child, index++);\n  \t\t});\n  \t} else {\n  \t\t// from traverseAllChildrenImpl in react\n  \t\tvar type = typeof children;\n  \t\tif (type === 'undefined' || type === 'boolean') {\n  \t\t\t// All of the above are perceived as null.\n  \t\t\tchildren = null;\n  \t\t}\n  \t\titeratee.call(context, children, index);\n  \t}\n  }\n\n  function map(children, iteratee, context) {\n  \tif (children == null) {\n  \t\treturn children;\n  \t}\n  \tvar store = [];\n  \tvar keyMap = {};\n  \tforEach(children, function (child, index) {\n  \t\tvar data = {};\n  \t\tdata.child = iteratee.call(context, child, index) || child;\n  \t\tdata.isEqual = data.child === child;\n  \t\tvar key = data.key = getKey(child, index);\n  \t\tif (keyMap.hasOwnProperty(key)) {\n  \t\t\tkeyMap[key] += 1;\n  \t\t} else {\n  \t\t\tkeyMap[key] = 0;\n  \t\t}\n  \t\tdata.index = keyMap[key];\n  \t\taddItem(store, data);\n  \t});\n  \tvar result = [];\n  \tstore.forEach(function (_ref) {\n  \t\tvar child = _ref.child;\n  \t\tvar key = _ref.key;\n  \t\tvar index = _ref.index;\n  \t\tvar isEqual = _ref.isEqual;\n\n  \t\tif (child == null || typeof child === 'boolean') {\n  \t\t\treturn;\n  \t\t}\n  \t\tif (!isValidElement(child) || key == null) {\n  \t\t\taddItem(result, child);\n  \t\t\treturn;\n  \t\t}\n  \t\tif (keyMap[key] !== 0) {\n  \t\t\tkey += ':' + index;\n  \t\t}\n  \t\tif (!isEqual) {\n  \t\t\tkey = escapeUserProvidedKey(child.key || '') + '/' + key;\n  \t\t}\n  \t\tchild = cloneElement(child, { key: key });\n  \t\taddItem(result, child);\n  \t});\n  \treturn result;\n  }\n\n  function count(children) {\n  \tvar count = 0;\n  \tforEach(children, function () {\n  \t\tcount++;\n  \t});\n  \treturn count;\n  }\n\n  function toArray(children) {\n  \treturn map(children, identity) || [];\n  }\n\n  function getKey(child, index) {\n  \tvar key = undefined;\n  \tif (isValidElement(child) && typeof child.key === 'string') {\n  \t\tkey = '.$' + child.key;\n  \t} else {\n  \t\tkey = '.' + index.toString(36);\n  \t}\n  \treturn key;\n  }\n\n  var userProvidedKeyEscapeRegex = /\\/(?!\\/)/g;\n  function escapeUserProvidedKey(text) {\n  \treturn ('' + text).replace(userProvidedKeyEscapeRegex, '//');\n  }\n\n  var Children = Object.freeze({\n  \tonly: only,\n  \tforEach: forEach,\n  \tmap: map,\n  \tcount: count,\n  \ttoArray: toArray\n  });\n\n  function eachMixin(mixins, iteratee) {\n  \tmixins.forEach(function (mixin) {\n  \t\tif (mixin) {\n  \t\t\tif (isArr(mixin.mixins)) {\n  \t\t\t\teachMixin(mixin.mixins, iteratee);\n  \t\t\t}\n  \t\t\titeratee(mixin);\n  \t\t}\n  \t});\n  }\n\n  function combineMixinToProto(proto, mixin) {\n  \tfor (var key in mixin) {\n  \t\tif (!mixin.hasOwnProperty(key)) {\n  \t\t\tcontinue;\n  \t\t}\n  \t\tvar value = mixin[key];\n  \t\tif (key === 'getInitialState') {\n  \t\t\taddItem(proto.$getInitialStates, value);\n  \t\t\tcontinue;\n  \t\t}\n  \t\tvar curValue = proto[key];\n  \t\tif (isFn(curValue) && isFn(value)) {\n  \t\t\tproto[key] = pipe(curValue, value);\n  \t\t} else {\n  \t\t\tproto[key] = value;\n  \t\t}\n  \t}\n  }\n\n  function combineMixinToClass(Component, mixin) {\n  \tif (mixin.propTypes) {\n  \t\tComponent.propTypes = Component.propTypes || {};\n  \t\textend(Component.propTypes, mixin.propTypes);\n  \t}\n  \tif (mixin.contextTypes) {\n  \t\tComponent.contextTypes = Component.contextTypes || {};\n  \t\textend(Component.contextTypes, mixin.contextTypes);\n  \t}\n  \textend(Component, mixin.statics);\n  \tif (isFn(mixin.getDefaultProps)) {\n  \t\tComponent.defaultProps = Component.defaultProps || {};\n  \t\textend(Component.defaultProps, mixin.getDefaultProps());\n  \t}\n  }\n\n  function bindContext(obj, source) {\n  \tfor (var key in source) {\n  \t\tif (source.hasOwnProperty(key)) {\n  \t\t\tif (isFn(source[key])) {\n  \t\t\t\tobj[key] = source[key].bind(obj);\n  \t\t\t}\n  \t\t}\n  \t}\n  }\n\n  var Facade = function Facade() {};\n  Facade.prototype = Component.prototype;\n\n  function getInitialState() {\n  \tvar _this = this;\n\n  \tvar state = {};\n  \tvar setState = this.setState;\n  \tthis.setState = Facade;\n  \tthis.$getInitialStates.forEach(function (getInitialState) {\n  \t\tif (isFn(getInitialState)) {\n  \t\t\textend(state, getInitialState.call(_this));\n  \t\t}\n  \t});\n  \tthis.setState = setState;\n  \treturn state;\n  }\n  function createClass(spec) {\n  \tif (!isFn(spec.render)) {\n  \t\tthrow new Error('createClass: spec.render is not function');\n  \t}\n  \tvar specMixins = spec.mixins || [];\n  \tvar mixins = specMixins.concat(spec);\n  \tspec.mixins = null;\n  \tfunction Klass(props, context) {\n  \t\tComponent.call(this, props, context);\n  \t\tthis.constructor = Klass;\n  \t\tspec.autobind !== false && bindContext(this, Klass.prototype);\n  \t\tthis.state = this.getInitialState() || this.state;\n  \t}\n  \tKlass.displayName = spec.displayName;\n  \tvar proto = Klass.prototype = new Facade();\n  \tproto.$getInitialStates = [];\n  \teachMixin(mixins, function (mixin) {\n  \t\tcombineMixinToProto(proto, mixin);\n  \t\tcombineMixinToClass(Klass, mixin);\n  \t});\n  \tproto.getInitialState = getInitialState;\n  \tspec.mixins = specMixins;\n  \treturn Klass;\n  }\n\n  function shallowEqual(objA, objB) {\n      if (objA === objB) {\n          return true;\n      }\n\n      if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n          return false;\n      }\n\n      var keysA = Object.keys(objA);\n      var keysB = Object.keys(objB);\n\n      if (keysA.length !== keysB.length) {\n          return false;\n      }\n\n      // Test for A's keys different from B.\n      for (var i = 0; i < keysA.length; i++) {\n          if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n              return false;\n          }\n      }\n\n      return true;\n  }\n\n  function PureComponent(props, context) {\n  \tComponent.call(this, props, context);\n  }\n\n  PureComponent.prototype = Object.create(Component.prototype);\n  PureComponent.prototype.constructor = PureComponent;\n  PureComponent.prototype.isPureReactComponent = true;\n  PureComponent.prototype.shouldComponentUpdate = shallowCompare;\n\n  function shallowCompare(nextProps, nextState) {\n  \treturn !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n  }\n\n  var React = extend({\n      version: '0.15.1',\n      cloneElement: cloneElement,\n      isValidElement: isValidElement,\n      createElement: createElement,\n      createFactory: createFactory,\n      Component: Component,\n      PureComponent: PureComponent,\n      createClass: createClass,\n      Children: Children,\n      PropTypes: PropTypes,\n      DOM: DOM\n  }, ReactDOM);\n\n  React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactDOM;\n\n  return React;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/react-lite/dist/react-lite.js\n// module id = 13\n// module chunks = 0","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport store from '../machines/store.es6';\nimport { logDebug } from '../machines/helpers.es6';\n\nexport function waitForReducerSubtreeInit(delayedFunc) {\n    const state = store.getState();\n    if (state && state.config && state.config.providerState && state.config.providerState.ovirtConfig) {\n        delayedFunc();\n    } else {\n        logDebug('waitForReducerSubtreeInit(): subtree not yet initialized, waiting ...');\n        window.setTimeout(() => waitForReducerSubtreeInit(delayedFunc), 500);\n    }\n}\n\n// Let pkg/machines build the Redux store and extend it at runtime.\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/store.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport { applyMiddleware, createStore } from 'redux/dist/redux';\nimport reducer from './reducers.es6';\nimport { thunk } from './middlewares.es6';\n\nconst createStoreWithMiddleware = applyMiddleware(\n    thunk\n)(createStore);\n\nconst store = createStoreWithMiddleware(reducer);\n\nexport default store;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/store.es6","!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.Redux=t.Redux||{})}(this,function(t){\"use strict\";function e(t){var e=h.call(t,g),n=t[g];try{t[g]=void 0;var r=!0}catch(t){}var o=v.call(t);return r&&(e?t[g]=n:delete t[g]),o}function n(t){return j.call(t)}function r(t){return null==t?void 0===t?m:w:O&&O in Object(t)?e(t):n(t)}function o(t){return null!=t&&\"object\"==typeof t}function i(t){if(!o(t)||r(t)!=E)return!1;var e=x(t);if(null===e)return!0;var n=N.call(e,\"constructor\")&&e.constructor;return\"function\"==typeof n&&n instanceof n&&S.call(n)==A}function u(t,e,n){function r(){p===l&&(p=l.slice())}function o(){return s}function c(t){if(\"function\"!=typeof t)throw Error(\"Expected listener to be a function.\");var e=!0;return r(),p.push(t),function(){if(e){e=!1,r();var n=p.indexOf(t);p.splice(n,1)}}}function a(t){if(!i(t))throw Error(\"Actions must be plain objects. Use custom middleware for async actions.\");if(void 0===t.type)throw Error('Actions may not have an undefined \"type\" property. Have you misspelled a constant?');if(y)throw Error(\"Reducers may not dispatch actions.\");try{y=!0,s=d(s,t)}finally{y=!1}for(var e=l=p,n=0;e.length>n;n++)(0,e[n])();return t}var f;if(\"function\"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if(\"function\"!=typeof n)throw Error(\"Expected the enhancer to be a function.\");return n(u)(t,e)}if(\"function\"!=typeof t)throw Error(\"Expected the reducer to be a function.\");var d=t,s=e,l=[],p=l,y=!1;return a({type:P.INIT}),f={dispatch:a,subscribe:c,getState:o,replaceReducer:function(t){if(\"function\"!=typeof t)throw Error(\"Expected the nextReducer to be a function.\");d=t,a({type:P.INIT})}},f[R]=function(){var t,e=c;return t={subscribe:function(t){function n(){t.next&&t.next(o())}if(\"object\"!=typeof t)throw new TypeError(\"Expected the observer to be an object.\");return n(),{unsubscribe:e(n)}}},t[R]=function(){return this},t},f}function c(t,e){var n=e&&e.type;return\"Given action \"+(n&&'\"'+n+'\"'||\"an action\")+', reducer \"'+t+'\" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:P.INIT}))throw Error('Reducer \"'+e+\"\\\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.\");if(void 0===n(void 0,{type:\"@@redux/PROBE_UNKNOWN_ACTION_\"+Math.random().toString(36).substring(7).split(\"\").join(\".\")}))throw Error('Reducer \"'+e+\"\\\" returned undefined when probed with a random type. Don't try to handle \"+P.INIT+' or other actions in \"redux/*\" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function f(t,e){return function(){return e(t.apply(void 0,arguments))}}function d(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}var s,l=\"object\"==typeof global&&global&&global.Object===Object&&global,p=\"object\"==typeof self&&self&&self.Object===Object&&self,y=(l||p||Function(\"return this\")()).Symbol,b=Object.prototype,h=b.hasOwnProperty,v=b.toString,g=y?y.toStringTag:void 0,j=Object.prototype.toString,w=\"[object Null]\",m=\"[object Undefined]\",O=y?y.toStringTag:void 0,x=function(t,e){return function(n){return t(e(n))}}(Object.getPrototypeOf,Object),E=\"[object Object]\",I=Function.prototype,T=Object.prototype,S=I.toString,N=T.hasOwnProperty,A=S.call(Object),R=function(t){var e,n=t.Symbol;return\"function\"==typeof n?n.observable?e=n.observable:(e=n(\"observable\"),n.observable=e):e=\"@@observable\",e}(s=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof module?module:Function(\"return this\")()),P={INIT:\"@@redux/INIT\"},k=Object.assign||function(t){for(var e=1;arguments.length>e;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};t.createStore=u,t.combineReducers=function(t){for(var e=Object.keys(t),n={},r=0;e.length>r;r++){var o=e[r];\"function\"==typeof t[o]&&(n[o]=t[o])}var i=Object.keys(n),u=void 0;try{a(n)}catch(t){u=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(u)throw u;for(var r=!1,o={},a=0;i.length>a;a++){var f=i[a],d=n[f],s=t[f],l=d(s,e);if(void 0===l){var p=c(f,e);throw Error(p)}o[f]=l,r=r||l!==s}return r?o:t}},t.bindActionCreators=function(t,e){if(\"function\"==typeof t)return f(t,e);if(\"object\"!=typeof t||null===t)throw Error(\"bindActionCreators expected an object or a function, instead received \"+(null===t?\"null\":typeof t)+'. Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');for(var n=Object.keys(t),r={},o=0;n.length>o;o++){var i=n[o],u=t[i];\"function\"==typeof u&&(r[i]=f(u,e))}return r},t.applyMiddleware=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var i=t(n,r,o),u=i.dispatch,c=[],a={getState:i.getState,dispatch:function(t){return u(t)}};return c=e.map(function(t){return t(a)}),u=d.apply(void 0,c)(i.dispatch),k({},i,{dispatch:u})}}},t.compose=d,Object.defineProperty(t,\"__esModule\",{value:!0})});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/redux/dist/redux.min.js\n// module id = 16\n// module chunks = 0","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tmodule.children = [];\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/webpack/buildin/module.js\n// module id = 17\n// module chunks = 0","    /*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport { combineReducers } from 'redux/dist/redux';\nimport VMS_CONFIG from \"./config.es6\";\nimport { logDebug } from './helpers.es6';\n\n// --- helpers -------------------\nfunction getFirstIndexOfVm(state, field, value, connectionName) {\n    return state.findIndex(e => {\n        return e.connectionName === connectionName && e[field] === value;\n    });\n}\n\n// --- reducers ------------------\nfunction config(state, action) {\n    state = state ? state : {\n        provider: null,\n        providerState: null,\n        refreshInterval: VMS_CONFIG.DefaultRefreshInterval,\n    };\n\n    switch (action.type) {\n        case 'SET_PROVIDER':\n            return Object.assign({}, state, { provider: action.provider });\n        case 'SET_REFRESH_INTERVAL': {\n            const newState = Object.assign({}, state);\n            newState.refreshInterval = action.refreshInterval;\n            return newState;\n        }\n        default:\n            return state;\n    }\n}\n\n/**\n * Provider might optionally extend the reducer tree (see state.provider.reducer() function)\n */\nfunction lazyComposedReducer({ parentReducer, getSubreducer, getSubstate, setSubstate }) {\n    return (state, action) => {\n        let newState = parentReducer(state, action);\n        const subreducer = getSubreducer(newState);\n        if (subreducer) {\n            const newSubstate = subreducer(getSubstate(newState), action);\n            if (newSubstate !== getSubstate(newState)) {\n                newState = setSubstate(newState, newSubstate);\n            }\n        }\n        return newState;\n    };\n}\n\nfunction vms(state, action) {\n    state = state ? state : [];\n\n    logDebug('reducer vms: action=' + JSON.stringify(action));\n\n    function findVmToUpdate(state, { connectionName, id, name }) {\n        const index = id ? getFirstIndexOfVm(state, 'id', id, connectionName)\n            : getFirstIndexOfVm(state, 'name', name, connectionName);\n        if (index < 0) {\n            logDebug(`vms reducer: vm (name='${name}', connectionName='${connectionName}') not found, skipping`);\n            return null;\n        }\n        return { // return object of {index, copyOfVm}\n            index,\n            vmCopy: Object.assign({}, state[index]), // TODO: consider immutableJs\n        };\n    }\n\n    function replaceVm({ state, updatedVm, index }) {\n        return state.slice(0, index)\n            .concat(updatedVm)\n            .concat(state.slice(index + 1));\n    }\n\n    switch (action.type) {\n        case 'UPDATE_ADD_VM': {\n            const connectionName = action.vm.connectionName;\n            const index = action.vm.id ? getFirstIndexOfVm(state, 'id', action.vm.id, connectionName)\n                                       : getFirstIndexOfVm(state, 'name', action.vm.name, connectionName);\n            if (index < 0) { // add\n                return [...state, action.vm];\n            }\n\n            const updatedVm = Object.assign({}, state[index], action.vm);\n            return replaceVm({ state, updatedVm, index });\n        }\n        case 'UPDATE_VM': {\n            const indexedVm = findVmToUpdate(state, action.vm);\n            if (!indexedVm) {\n                return state;\n            }\n\n            let updatedVm;\n            if (action.vm['actualTimeInMs'] < 0) { // clear the usage data (i.e. VM went down)\n                logDebug(`Clearing usage data for vm '${action.vm.name}'`);\n                updatedVm = Object.assign(indexedVm.vmCopy, action.vm);\n                clearUsageData(updatedVm);\n            } else {\n                timeSampleUsageData(action.vm, indexedVm.vmCopy);\n                updatedVm = Object.assign(indexedVm.vmCopy, action.vm);\n            }\n\n            // replace whole object\n            return replaceVm({ state, updatedVm, index: indexedVm.index });\n        }\n        case 'VM_ACTION_FAILED': {\n            const indexedVm = findVmToUpdate(state, action.payload);\n            if (!indexedVm) { // already logged\n                return state;\n            }\n            const updatedVm = Object.assign(indexedVm.vmCopy, {\n                lastMessage: action.payload.message,\n                lastMessageDetail: action.payload.detail,\n            });\n\n            return replaceVm({ state, updatedVm, index: indexedVm.index });\n        }\n        case 'UNDEFINE_VM': {\n            return state\n                .filter(vm => (action.connectionName !== vm.connectionName || action.name != vm.name ||\n                    (action.transientOnly && vm.persistent)));\n        }\n        case 'DELETE_UNLISTED_VMS': {\n            return state\n                .filter(vm => (action.connectionName !== vm.connectionName || action.vmNames.indexOf(vm.name) >= 0));\n        }\n        default: // by default all reducers should return initial state on unknown actions\n            return state;\n    }\n}\n\nfunction osInfoList(state, action) {\n    state = state ? state : [];\n\n    switch (action.type) {\n        case 'UPDATE_OS_INFO_LIST': {\n            return action.osInfoList instanceof Array ? [...action.osInfoList] : state;\n        }\n        default: // by default all reducers should return initial state on unknown actions\n            return state;\n    }\n}\n\nfunction ui(state, action) {\n    state = state ? state : {\n        vmsCreated: {}, // transient property\n        vmsInstallInitiated: {}, // transient property\n    };\n\n    switch (action.type) {\n        case 'VM_CREATE_IN_PROGRESS': {\n            state.vmsCreated = Object.assign({}, state.vmsCreated,  {\n                [action.vm.name]: action.vm,\n            });\n            return state;\n        }\n        case 'VM_CREATE_COMPLETED':\n            delete state.vmsCreated[action.vm.name];\n            return state;\n        case 'VM_INSTALL_IN_PROGRESS': {\n            state.vmsInstallInitiated = Object.assign({}, state.vmsInstallInitiated, {\n                [action.vm.name]: action.vm,\n            });\n            return state;\n        }\n        case 'VM_INSTALL_COMPLETED':\n            delete state.vmsInstallInitiated[action.vm.name];\n            return state;\n\n        default: // by default all reducers should return initial state on unknown actions\n            return state;\n    }\n}\n\nfunction clearUsageData(updatedVm) {\n    updatedVm['actualTimeInMs'] = undefined;\n    updatedVm['cpuTime'] = undefined;\n    updatedVm['cpuUsage'] = undefined;\n\n    updatedVm['rssMemory'] = undefined;\n}\n\nfunction timeSampleUsageData(newVmRecord, previousVmRecord) {\n    if (newVmRecord['actualTimeInMs']) { // new usage data are provided\n        if (previousVmRecord['actualTimeInMs']) { // diff can be computed\n            const timeDiff = (newVmRecord.actualTimeInMs - previousVmRecord.actualTimeInMs) * 1000000; // in nanosecs\n            if (timeDiff <= 0) {\n                logDebug(`-- timeSampleUsageData(): no time difference`);\n                return;\n            }\n            const cpuTimeDiff = newVmRecord.cpuTime - previousVmRecord.cpuTime; // in nanosecs\n\n            // store computed actual usage stats\n            newVmRecord.cpuUsage = (100 * cpuTimeDiff / timeDiff).toFixed(1);\n\n            return;\n        } else {\n            logDebug(`timeSampleUsageData(): can't compute diff - missing previous record`);\n            newVmRecord.cpuUsage = 0;\n        }\n    }\n}\n\nexport default combineReducers({\n    config: lazyComposedReducer({\n        parentReducer: config,\n        getSubreducer: (state) => (state.provider && state.provider.reducer) ? state.provider.reducer : undefined,\n        getSubstate: (state) => state.providerState,\n        setSubstate: (state, subState) => Object.assign({}, state, { providerState: subState }),\n    }),\n    vms,\n    osInfoList,\n    ui,\n});\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/reducers.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Application-wide constants\n * TODO: make this configurable by user\n */\nconst VMS_CONFIG = {\n    DefaultRefreshInterval: 10000, // in ms\n    Virsh: {\n        connections: {\n            'system': {\n                params: ['-c', 'qemu:///system']\n            },\n            'session': {\n                params: ['-c', 'qemu:///session']\n            }\n        }\n    },\n    // TODO: make it configurable via config file\n    isDev: false, // Never commit with 'true'\n};\n\nexport default VMS_CONFIG;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/config.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport VMS_CONFIG from './config.es6';\n\nconst _ = cockpit.gettext;\n\nexport function toReadableNumber(number) {\n    if (number < 1) {\n        return number.toFixed(2);\n    } else {\n        const fixed1 = number.toFixed(1);\n        return (number - fixed1 === 0) ? number.toFixed(0) : fixed1;\n    }\n}\n\nexport const units = {\n    B: {\n        name: \"B\",\n        base1024Exponent: 0,\n    },\n    KiB: {\n        name: \"KiB\",\n        base1024Exponent: 1,\n    },\n    MiB: {\n        name: \"MiB\",\n        base1024Exponent: 2,\n    },\n    GiB: {\n        name: \"GiB\",\n        base1024Exponent: 3,\n    },\n    TiB: {\n        name: \"TiB\",\n        base1024Exponent: 4,\n    },\n    PiB: {\n        name: \"PiB\",\n        base1024Exponent: 5,\n    },\n    EiB: {\n        name: \"EiB\",\n        base1024Exponent: 6,\n    },\n};\n\nconst logUnitMap = {\n    '0': units.B,\n    '1': units.KiB,\n    '2': units.MiB,\n    '3': units.GiB,\n    '4': units.TiB,\n    '5': units.PiB,\n    '6': units.EiB,\n};\n\nfunction getPowerOf1024(exponent) {\n    return exponent === 0 ? 1 : Math.pow(1024, exponent);\n}\n\nfunction getLogarithmOfBase1024(value) {\n    return value > 0 ? (Math.floor(Math.log(value) / Math.log(1024))) : 0;\n}\n\nexport function convertToBestUnit(input, inputUnit) {\n    return convertToUnitVerbose(input, inputUnit,\n        logUnitMap[getLogarithmOfBase1024(convertToUnitVerbose(input, inputUnit, units.B).value)]);\n}\n\nexport function convertToUnit(input, inputUnit, outputUnit) {\n    return convertToUnitVerbose(input, inputUnit, outputUnit).value;\n}\n\nexport function convertToUnitVerbose(input, inputUnit, outputUnit) {\n    let result = {\n        value: 0,\n        unit: units.B.name,\n    };\n\n    input = Number(input);\n    if (isNaN(input)) {\n        console.error('input is not a number');\n        return result;\n    }\n\n    if (input < 0) {\n        console.error(`input == ${input} cannot be less than zero`);\n        return result;\n    }\n\n    let inUnit = units[(typeof inputUnit === 'string' ? inputUnit : inputUnit.name)];\n    let outUnit = units[(typeof outputUnit === 'string' ? outputUnit : outputUnit.name)];\n\n    if (!inUnit || !outUnit) {\n        console.error(`unknown unit ${!inUnit ? inputUnit : outputUnit}`);\n        return result;\n    }\n\n    let exponentDiff = inUnit.base1024Exponent - outUnit.base1024Exponent;\n    if (exponentDiff < 0) {\n        result.value = input / getPowerOf1024(-1 * exponentDiff);\n    } else {\n        result.value = input * getPowerOf1024(exponentDiff);\n    }\n    result.unit = outUnit.name;\n\n    return result;\n}\n\nexport function isEmpty(str) {\n    return (!str || 0 === str.length);\n}\n\nexport function arrayEquals(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n\n    const diff = arr1.filter((v, index) => {\n        return v !== arr2[index];\n    });\n    return diff.length === 0;\n}\n\nexport function logDebug(msg, ...params) {\n    if (VMS_CONFIG.isDev) {\n        console.log(msg, ...params);\n    }\n}\n\nexport function logError(msg, ...params) {\n    console.error(msg, ...params);\n}\n\nexport function digitFilter(event, allowDots = false) {\n    let doNotFilter = (allowDots && event.charCode === 46) || event.charCode >= 48 && event.charCode <= 57;\n\n    if (!doNotFilter) {\n        event.preventDefault();\n    }\n\n    return doNotFilter;\n}\n\nexport function getTodayYearShifted(yearDifference) {\n    const result = new Date();\n    result.setFullYear(result.getFullYear() + yearDifference);\n    return result;\n}\n\nconst transform = {\n    'autostart': {\n        'disable': _(\"disabled\"),\n        'enable': _(\"enabled\"),\n    },\n    'connections': {\n        'system': _(\"System\"),\n        'session': _(\"Session\"),\n    },\n    'vmStates': {\n        'running': _(\"running\"),\n        'idle': _(\"idle\"),\n        'paused': _(\"paused\"),\n        'shutdown': _(\"shutdown\"),\n        'shut off': _(\"shut off\"),\n        'crashed': _(\"crashed\"),\n        'dying': _(\"dying\"),\n        'pmsuspended': _(\"suspended (PM)\"),\n    },\n    'bootableDisk': {\n        'disk': _(\"disk\"),\n        'cdrom': _(\"cdrom\"),\n        'interface': _(\"network\"),\n        'hd': _(\"disk\"),\n    },\n    'cpuMode': {\n        'custom': _(\"custom\"),\n        'host-model': _(\"host\"),\n    },\n    'networkType': {\n        'direct': _(\"direct\"),\n        'network': _(\"network\"),\n        'bridge': _(\"bridge\"),\n        'user': _(\"user\"),\n        'ethernet': _(\"ethernet\"),\n        'hostdev': _(\"hostdev\"),\n        'mcast': _(\"mcast\"),\n        'server': _(\"server\"),\n        'udp': _(\"udp\"),\n        'vhostuser': _(\"vhostuser\"),\n    },\n    'networkManaged': {\n        'yes': _(\"yes\"),\n        'no': _(\"no\"),\n    },\n    'networkState': {\n        'up': _(\"up\"),\n        'down': _(\"down\"),\n    },\n};\n\nexport function rephraseUI(key, original) {\n    if (!(key in transform)) {\n        logDebug(`rephraseUI(key='${key}', original='${original}'): unknown key`);\n        return original;\n    }\n\n    if (!(original in transform[key])) {\n        logDebug(`rephraseUI(key='${key}', original='${original}'): unknown original value`);\n        return original;\n    }\n\n    return transform[key][original];\n}\n\nexport function toFixedPrecision(value, precision) {\n    precision = precision || 0;\n    const power = Math.pow(10, precision);\n    const absValue = Math.abs(Math.round(value * power));\n    let result = (value < 0 ? '-' : '') + String(Math.floor(absValue / power));\n\n    if (precision > 0) {\n        const fraction = String(absValue % power);\n        const padding = new Array(Math.max(precision - fraction.length, 0) + 1).join('0');\n        result += '.' + padding + fraction;\n    }\n    return result;\n}\n\n\nfunction isFirefox() {\n    return window.navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n}\n\n/**\n * Download given content as a file in the browser\n *\n * @param data Content of the file\n * @param fileName\n * @param mimeType\n * @returns {*}\n */\nexport function fileDownload({ data, fileName = 'myFile.dat', mimeType = 'application/octet-stream' }) {\n    if (!data) {\n        console.error('fileDownload(): no data to download');\n        return false;\n    }\n\n    const a = document.createElement('a');\n    a.id = 'dynamically-generated-file';\n    a.href = `data:${mimeType},${encodeURIComponent(data)}`;\n    document.body.appendChild(a); // if not used further then at least within integration tests\n\n    // Workaround since I can't get CSP working on newer Firefox versions for this\n    if (!isFirefox() && 'download' in a) { // html5 A[download]\n        logDebug('fileDownload() is using A.HREF');\n        a.setAttribute('download', fileName);\n        a.click();\n    } else { // do iframe dataURL download (old ch+FF):\n        logDebug('fileDownload() is using IFRAME');\n        const f = document.createElement('iframe');\n        f.width = '1';\n        f.height = '1';\n        document.body.appendChild(f);\n        const nicerText = '\\n[...............................GraphicsConsole]\\n';\n        f.src = `data:${mimeType},${encodeURIComponent(data + nicerText)}`;\n        window.setTimeout(() => document.body.removeChild(f), 333);\n    }\n\n    window.setTimeout(() => { // give test browser some time ...\n        logDebug('removing temporary A.HREF for filedownload');\n        document.body.removeChild(a);\n    }, 5000);\n    return true;\n}\n\nexport function vmId(vmName) {\n    return `vm-${vmName}`;\n}\n\nexport function mouseClick(fun) {\n    return function (event) {\n        if (!event || event.button !== 0)\n            return;\n        event.preventDefault();\n        return fun(event);\n    };\n}\n\n/**\n * Let promise resolve itself in specified delay or force resolve it with 0 arguments\n *\n * @param promise\n * @param delay of timeout in ms\n * @returns new promise\n */\nexport function timeoutedPromise(promise, delay) {\n    const deferred = cockpit.defer();\n    let done = false;\n\n    let timer = window.setTimeout(() => {\n        if (!done) {\n            deferred.resolve();\n            done = true;\n        }\n    }, delay);\n\n    promise.then(function(/* ... */) {\n        if (!done) {\n            deferred.resolve.apply(deferred, arguments);\n            done = true;\n            window.clearTimeout(timer);\n        }\n    });\n\n    promise.catch(function(/* ... */) {\n        if (!done) {\n            deferred.reject.apply(deferred, arguments);\n            done = true;\n            window.clearTimeout(timer);\n        }\n    });\n\n    return deferred.promise;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/helpers.es6","module.exports = cockpit;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cockpit\"\n// module id = 21\n// module chunks = 0","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { logDebug } from './helpers.es6';\n\n/**\n * Middleware that resolves functions taking (dispatch, getState) and promises.\n *\n * If a promise is passed the dispatch will just return the passed promise.\n * This is done to simplify some client code that can sometime dispatch a promise and sometimes a plain action.\n *\n * If a function is passed (which is not a promise) we perform the usual injection of (dispatch, getState).\n */\nexport function thunk({ dispatch, getState }) {\n    logDebug('thunk-middleware');\n\n    return next => action => {\n        if (typeof action === 'function') {\n            // cockpit style promise is also typeof 'function'\n            // so we differentiate between those two by the presence of property 'then' or 'done'\n            return (action.then || action.done) ? action : action(dispatch, getState);\n        }\n\n        return next(action);\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/middlewares.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport { getRefreshInterval } from './selectors.es6';\nimport VMS_CONFIG from \"./config.es6\";\nimport { logDebug } from './helpers.es6';\nimport { virt } from './provider.es6';\n\n/**\n * All actions dispatchable by in the application\n */\n\n// --- Provider actions -----------------------------------------\n/**\n *\n * @param connectionName optional - if `undefined` then for all connections\n */\nexport function getAllVms(connectionName) {\n    return virt('GET_ALL_VMS', { connectionName });\n}\n\nexport function getVm(connectionName, lookupId) {\n    return virt('GET_VM', {\n        lookupId, // provider-specific (i.e. libvirt uses vm_name)\n        connectionName,\n    });\n}\n\nexport function getOsInfoList() {\n    return virt('GET_OS_INFO_LIST');\n}\n\nexport function shutdownVm(vm) {\n    return virt('SHUTDOWN_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function forceVmOff(vm) {\n    return virt('FORCEOFF_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function rebootVm(vm) {\n    return virt('REBOOT_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function forceRebootVm(vm) {\n    return virt('FORCEREBOOT_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function startVm(vm) {\n    return virt('START_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function deleteVm(vm, options) {\n    return virt('DELETE_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName, options: options });\n}\n\nexport function installVm(vm) {\n    return virt('INSTALL_VM', vm);\n}\n\nexport function createVm(vmParams) {\n    return virt('CREATE_VM', vmParams);\n}\n\nexport function vmDesktopConsole(vm, consoleDetail) {\n    return virt('CONSOLE_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName, consoleDetail });\n}\n\nexport function usageStartPolling(vm) {\n    return virt('USAGE_START_POLLING', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function usageStopPolling(vm) {\n    return virt('USAGE_STOP_POLLING', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function sendNMI(vm) {\n    return virt('SENDNMI_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName });\n}\n\nexport function changeNetworkState(vm, networkMac, state) {\n    return virt('CHANGE_NETWORK_STATE', { name: vm.name, networkMac, state, connectionName: vm.connectionName });\n}\n\n/**\n * Delay call of polling action.\n *\n * To avoid execution overlap, the setTimeout() is used instead of setInterval().\n *\n * The delayPolling() function is called after previous execution is finished so\n * the refresh interval starts counting since that moment.\n *\n * If the application is not visible, the polling action execution is skipped\n * and scheduled on later.\n *\n * @param action I.e. getAllVms()\n * @param timeout Non-default timeout\n */\nexport function delayPolling(action, timeout) {\n    return (dispatch, getState) => {\n        timeout = timeout || getRefreshInterval(getState());\n\n        if (timeout > 0 && !cockpit.hidden) {\n            logDebug(`Scheduling ${timeout} ms delayed action`);\n            window.setTimeout(() => {\n                logDebug('Executing delayed action');\n                dispatch(action);\n            }, timeout);\n        } else {\n            // logDebug(`Skipping delayed action since refreshing is switched off`);\n            window.setTimeout(() => dispatch(delayPolling(action, timeout)), VMS_CONFIG.DefaultRefreshInterval);\n        }\n    };\n}\n\n// --- Store actions --------------------------------------------\nexport function setProvider(provider) {\n    return {\n        type: 'SET_PROVIDER',\n        provider,\n    };\n}\n\nexport function setRefreshInterval(refreshInterval) {\n    return {\n        type: 'SET_REFRESH_INTERVAL',\n        refreshInterval,\n    };\n}\n\nexport function updateOrAddVm(props) {\n    return {\n        type: 'UPDATE_ADD_VM',\n        vm: props,\n    };\n}\n\nexport function updateVm(props) {\n    return {\n        type: 'UPDATE_VM',\n        vm: props,\n    };\n}\n\nexport function updateOsInfoList(osInfoList) {\n    return {\n        type: 'UPDATE_OS_INFO_LIST',\n        osInfoList,\n    };\n}\n\nexport function vmCreateInProgress(vm) {\n    return {\n        type: 'VM_CREATE_IN_PROGRESS',\n        vm,\n    };\n}\n\nexport function vmCreateCompleted(vm) {\n    return {\n        type: 'VM_CREATE_COMPLETED',\n        vm,\n    };\n}\n\n\n\nexport function vmInstallInProgress(vm) {\n    return {\n        type: 'VM_INSTALL_IN_PROGRESS',\n        vm,\n    };\n}\n\nexport function vmInstallCompleted(vm) {\n    return {\n        type: 'VM_INSTALL_COMPLETED',\n        vm,\n    };\n}\n\n\n\nexport function vmActionFailed({ name, connectionName, message, detail, extraPayload }) {\n    return {\n        type: 'VM_ACTION_FAILED',\n        payload: {\n            name,\n            connectionName,\n            message,\n            detail,\n            extraPayload,\n        },\n    };\n}\n\nexport function deleteVmMessage({ name, connectionName }) {\n    // recently there's just the last error message kept so we can reuse the code\n    return vmActionFailed({ name, connectionName, message: null, detail: null, extraPayload: null });\n}\n\nexport function undefineVm(connectionName, name, transientOnly) {\n    return {\n        type: 'UNDEFINE_VM',\n        name,\n        connectionName,\n        transientOnly,\n    };\n}\n\nexport function deleteUnlistedVMs(connectionName, vmNames) {\n    return {\n        type: 'DELETE_UNLISTED_VMS',\n        vmNames,\n        connectionName,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/actions.es6","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n/*\n * Selectors are pattern that enables to decouple the View layer from the exact layout of\n * the state in Redux store. This also enables to put derived (computed) data on the same level\n * as the objects stored in the store directly.\n *\n * Reference: http://redux.js.org/docs/recipes/ComputingDerivedData.html\n */\n\nexport function getRefreshInterval(state) {\n    return state.config.refreshInterval;\n}\n\nexport function usagePollingEnabled(state, name, connectionName) {\n    for (var i = 0; i < state.vms.length; i++) {\n        let vm = state.vms[i];\n        if (vm.connectionName === connectionName && vm.name === name)\n            return vm.usagePolling;\n    }\n    return false; // VM got undefined\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/selectors.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from 'cockpit';\n\nimport { logDebug } from './helpers.es6';\nimport { setProvider } from './actions.es6';\n\nvar provider = null;\n\nexport function setVirtProvider (prov) {\n    provider = prov;\n}\n\nfunction getVirtProvider (store) {\n    const state = store.getState();\n    if (state.config.provider) {\n        return cockpit.resolve(state.config.provider);\n    } else {\n        const deferred = cockpit.defer();\n        logDebug('Discovering provider');\n\n        if (!provider) { //  no provider available\n            deferred.reject();\n        } else {\n            if (!provider.init) {\n                // Skip the initialization if provider does not define the `init` hook.\n                logDebug('No init() method in the provider');\n                store.dispatch(setProvider(provider));\n                deferred.resolve(provider);\n            } else {\n                // The external provider plugin lives in the same context as the parent code, so it should be shared.\n                // The provider is meant to support lazy initialization, especially of the React which is\n                // provided by the parent application.\n                const initResult = provider.init({ dispatch: store.dispatch });\n\n                if (initResult && initResult.then) { // if Promise or $.jqXHR, the then() is defined\n                    initResult.then(() => {\n                        logDebug(`Provider's Init() is returning resolved Promise`);\n                        store.dispatch(setProvider(provider));\n                        deferred.resolve(provider);\n                    }, (ex) => {\n                        logDebug(`Provider's Init() is returning rejected Promise`);\n                        deferred.reject(ex);\n                    });\n                } else { // Promise is not returned, so at least 'true' is expected\n                    if (initResult) {\n                        logDebug(`No Promise returned, but successful init: ${JSON.stringify(initResult)}`);\n                        store.dispatch(setProvider(provider));\n                        deferred.resolve(provider);\n                    } else {\n                        deferred.reject();\n                    }\n                }\n            }\n        }\n\n        return deferred.promise;\n    }\n}\n\n/**\n * Helper for dispatching virt provider methods.\n *\n * Lazily initializes the virt provider and dispatches given method on it.\n */\nexport function virt(method, action) {\n    return (dispatch, getState) => getVirtProvider({dispatch, getState}).fail(err => {\n        console.error('could not detect any virt provider');\n    }).then(provider => {\n        if (method in provider) {\n            logDebug(`Calling ${provider.name}.${method}`, action);\n            return dispatch(provider[method](action));\n        } else {\n            var msg = `method: '${method}' is not supported by provider: '${provider.name}'`;\n            console.warn(msg);\n            return cockpit.reject(msg);\n        }\n    });\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/provider.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\n\nimport LIBVIRT_PROVIDER, { buildFailHandler } from '../machines/libvirt.es6';\nimport { logDebug, logError, fileDownload } from '../machines/helpers.es6';\nimport { readConfiguration } from './configFuncs.es6';\nimport { CONSOLE_TYPE_ID_MAP } from './config.es6';\nimport { ovirtApiGet, ovirtApiPost } from './ovirtApiAccess.es6';\nimport { pollOvirt, forceNextOvirtPoll } from './ovirt.es6';\nimport { oVirtIconToInternal } from './ovirtConverters.es6';\n\nimport { updateIcon, downloadIcon, } from './actions.es6';\nimport { getAllIcons, isVmManagedByOvirt } from './selectors.es6';\nimport { ovirtReducer }  from './reducers.es6';\n\nimport VmActions from './components/VmActions.jsx';\nimport vmOverviewExtra from './components/VmOverviewColumn.jsx';\nimport ConsoleClientResources from './components/ConsoleClientResources.jsx';\nimport OVirtTab from './components/OVirtTab.jsx';\n\nconst _ = cockpit.gettext;\n\nconst OVIRT_PROVIDER = Object.create(LIBVIRT_PROVIDER); // inherit whatever is not implemented here\n\nconst QEMU_SYSTEM = 'system'; // conforms connection name defined in parent's cockpit:machines/config.es6\n\nOVIRT_PROVIDER.name = 'oVirt';\nOVIRT_PROVIDER.ovirtApiMetadata = {\n    passed: undefined, // check for oVirt API version\n}; // will be filled by initialization\n\nOVIRT_PROVIDER.reducer = ovirtReducer;\n\n// --- React extension\nOVIRT_PROVIDER.VmActions = VmActions;\nOVIRT_PROVIDER.vmOverviewExtra = vmOverviewExtra;\nOVIRT_PROVIDER.ConsoleClientResources = ConsoleClientResources;\nOVIRT_PROVIDER.vmTabRenderers = [\n    {\n        name: _(\"oVirt\"),\n        idPostfix: 'ovirt',\n        component: OVirtTab,\n    },\n];\n\n// --- enable/disable actions in UI\nOVIRT_PROVIDER.canDelete = (vmState, vmId, providerState) =>\n    isVmManagedByOvirt(providerState, vmId) ? false : LIBVIRT_PROVIDER.canDelete(vmState, vmId);\n\n/* Use of serial Console is disabled.\n  TODO: use ssh to connect to serial console of oVirt-managed VM.\n  https://www.ovirt.org/develop/release-management/features/virt/serial-console/\n  https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.1/html/virtual_machine_management_guide/sect-starting_the_virtual_machine\n*/\nOVIRT_PROVIDER.serialConsoleCommand = ({ vm }) => false;\n\n// --- verbs\nOVIRT_PROVIDER.init = function ({ dispatch }) {\n    logDebug(`Virtual Machines Provider used: ${this.name}`);\n    return readConfiguration({ dispatch }); // and do oVirt login\n};\n\nOVIRT_PROVIDER.POLL_OVIRT = function (payload) {\n    return pollOvirt();\n};\n\nOVIRT_PROVIDER.SHUTDOWN_VM = function (payload) {\n    logDebug(`SHUTDOWN_VM(payload: ${JSON.stringify(payload)})`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match, redirecting the action to Libvirt');\n        return LIBVIRT_PROVIDER.SHUTDOWN_VM(payload);\n    }\n\n    const id = payload.id;\n    const vmName = payload.name;\n    return (dispatch) => {\n        forceNextOvirtPoll();\n        return ovirtApiPost(\n            `vms/${id}/shutdown`,\n            '<action><async>false</async></action>',\n            buildFailHandler({\n                dispatch,\n                name: vmName,\n                connectionName: payload.connectionName,\n                message: _(\"SHUTDOWN action failed\")\n            })\n        );\n    };\n};\n\nOVIRT_PROVIDER.FORCEOFF_VM = function (payload) {\n    logDebug(`FORCEOFF_VM(payload: ${JSON.stringify(payload)})`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match, redirecting the action to Libvirt');\n        return LIBVIRT_PROVIDER.FORCEOFF_VM(payload);\n    }\n\n    const id = payload.id;\n    const vmName = payload.name;\n    return (dispatch) => {\n        forceNextOvirtPoll();\n        return ovirtApiPost(\n            `vms/${id}/stop`,\n            '<action><async>false</async></action>',\n            buildFailHandler({\n                dispatch,\n                name: vmName,\n                connectionName: payload.connectionName,\n                message: _(\"SHUTDOWN action failed\")\n            })\n        );\n    };\n};\n\nOVIRT_PROVIDER.REBOOT_VM = function (payload) {\n    logDebug(`REBOOT_VM(payload: ${JSON.stringify(payload)})`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match, redirecting the action to Libvirt');\n        return LIBVIRT_PROVIDER.REBOOT_VM(payload);\n    }\n\n    const vmName = payload.name;\n    const id = payload.id;\n    return (dispatch) => {\n        forceNextOvirtPoll();\n        return ovirtApiPost(\n            `vms/${id}/reboot`,\n            '<action><async>false</async></action>',\n            buildFailHandler({\n                dispatch,\n                name: vmName,\n                connectionName: payload.connectionName,\n                message: _(\"REBOOT action failed\")\n            })\n        );\n    };\n};\n\nOVIRT_PROVIDER.FORCEREBOOT_VM = function (payload) {\n    logDebug(`FORCEREBOOT_VM(payload: ${JSON.stringify(payload)})`);\n    return OVIRT_PROVIDER.REBOOT_VM(payload); // TODO: implement the 'force' - seems like not exposed by oVirt API\n};\n\nOVIRT_PROVIDER.START_VM = function (payload) {\n    logDebug(`START_VM(payload: ${JSON.stringify(payload)})`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match, redirecting the action to Libvirt');\n        return LIBVIRT_PROVIDER.START_VM(payload);\n    }\n\n    const id = payload.id;\n    const vmName = payload.name;\n    const hostName = payload.hostName; // optional\n\n    const actionXml = hostName ?\n        `<action><async>false</async><vm><placement_policy><hosts><host><name>${hostName}</name></host></hosts></placement_policy></vm></action>`\n        : '<action><async>false</async></action>';\n\n    return (dispatch) => {\n        forceNextOvirtPoll();\n\n        return ovirtApiPost(\n            `vms/${id}/start`,\n            actionXml,\n            buildFailHandler({\n                dispatch,\n                name: vmName,\n                connectionName: payload.connectionName,\n                message: _(\"START action failed\")\n            })\n        );\n    };\n};\n\nOVIRT_PROVIDER.CREATE_VM_FROM_TEMPLATE = function (payload) {\n    logDebug(`CREATE_VM: payload = ${JSON.stringify(payload)}`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match, but CREATE_VM action is not supported by the Libvirt provider. Skipping.');\n        return () => {};\n    }\n\n    const templateName = payload.templateName || 'blank'; // optional\n    const clusterName = payload.clusterName || 'default'; // optional\n    const { vm } = payload;\n\n    const name = `<name>${vm.name}</name>`;\n    const template = `<template><name>${templateName}</name></template>`;\n    const cluster =  `<cluster><name>${clusterName}</name></cluster>`;\n    const action = `<vm>${name}${cluster}${template}</vm>`;\n\n    return (dispatch) => {\n        forceNextOvirtPoll();\n        return ovirtApiPost(\n            `vms`,\n            action,\n            buildFailHandler({\n                dispatch,\n                name: vm.name,\n                connectionName: QEMU_SYSTEM,\n                message: _(\"CREATE VM action failed\"),\n                extraPayload: { templateName },\n            })\n        );\n    };\n};\n\nOVIRT_PROVIDER.MIGRATE_VM = function ({ vmId, vmName, hostId }) {\n    logDebug(`MIGRATE_VM(payload: {vmId: \"${vmId}\", hostId: \"${hostId}\"}`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match but the MIGRATE action is not supported by Libvirt provider, skipping' );\n        return () => {};\n    }\n\n    const action = hostId ?\n        `<action><async>false</async><host id=\"${hostId}\"/></action>` :\n        '<action/>';\n\n    return (dispatch) => {\n        forceNextOvirtPoll();\n        ovirtApiPost(\n            `vms/${vmId}/migrate`,\n            action,\n            buildFailHandler({\n                dispatch,\n                name: vmName,\n                connectionName: undefined, // TODO: oVirt-only, not implemented for Libvirt\n                message: _(\"MIGRATE action failed\")\n            })\n        );\n    };\n};\n\nOVIRT_PROVIDER.SUSPEND_VM = function ({ id, name }) {\n    logDebug(`SUSPEND_VM(id=${id})`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match, but SUSPEND_VM action is not supported by the Libvirt provider. Skipping.');\n        return () => {};\n    }\n\n    return (dispatch) => ovirtApiPost(\n        `vms/${id}/suspend`,\n        '<action><async>false</async></action>',\n        buildFailHandler({\n            dispatch,\n            name,\n            connectionName: undefined, // TODO: oVirt-only, not implemented for Libvirt\n            message: _(\"SUSPEND action failed\")\n        })).then( data => {\n            logDebug('SUSPEND_VM finished', data);\n            window.setTimeout(forceNextOvirtPoll, 5000); // hack for better user experience\n        }\n    );\n};\n\nOVIRT_PROVIDER.DOWNLOAD_ICON = function ({ iconId }) {\n    logDebug(`DOWNLOAD_ICON(iconId=${iconId})`);\n    return (dispatch) => ovirtApiGet(\n        `icons/${iconId}`\n    ).then(data => {\n        const icon = JSON.parse(data);\n        if (icon && icon['media_type'] && icon['data']) {\n            dispatch(updateIcon(oVirtIconToInternal(icon)));\n        }\n    });\n};\n\nOVIRT_PROVIDER.DOWNLOAD_ICONS = function ({ iconIds, forceReload }) {\n    logDebug(`DOWNLOAD_ICONS(forceReload=${forceReload}) called for ${iconIds.length} icon ids`);\n\n    return (dispatch, getState) => {\n        const existingIcons = forceReload ? {} : getAllIcons(getState());\n        const iconIdsToDownload = Object.getOwnPropertyNames(iconIds).filter( iconId => !existingIcons[iconId] );\n        iconIdsToDownload.forEach( iconId => dispatch(downloadIcon({ iconId })) );\n    };\n};\n\nOVIRT_PROVIDER.onConsoleAboutToShow = function ({ type, vm, providerState }) {\n    logDebug(`onConsoleAboutToShow(payload: {vmId: \"${vm.id}\", type: \"${type}\"}`);\n    const vmId = vm.id;\n    const orig = vm.displays[type];\n\n    if (!isVmManagedByOvirt(providerState, vmId) || !isOvirtApiCheckPassed()) {\n        return cockpit.resolve(orig);\n    }\n\n    const consoleDetail = Object.assign({}, orig); // to be updated and returned as a result of promise\n    const consoleId = CONSOLE_TYPE_ID_MAP[type];\n\n    return ovirtApiGet(\n        `vms/${vmId}/graphicsconsoles/${consoleId}`,\n        { Accept: 'application/x-virt-viewer' }\n    ).then(vvFile => {\n        const password = vvFile.match(/[^\\r\\n]+/g).filter(line => {\n            return line.trim().startsWith('password=');\n        });\n        if (password) {\n            consoleDetail.password = password[0].substring('password='.length);\n        }\n        return consoleDetail;\n    });\n};\n\nOVIRT_PROVIDER.CONSOLE_VM = function (payload) { // download a .vv file generated by oVirt\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match, redirecting CONSOLE_VM action to Libvirt');\n        return LIBVIRT_PROVIDER.CONSOLE_VM(payload);\n    }\n\n    const type = payload.consoleDetail.type; // spice, vnc, rdp\n    const vmId = payload.id;\n\n    // console ID is so far considered as a constant in oVirt for particular console type.\n    // TODO: cleaner (but slower) approach would be to query 'vms/${vmId}/graphicsconsoles' first to get full list\n    const consoleId = CONSOLE_TYPE_ID_MAP[type];\n    if (!consoleId) {\n        logError(`CONSOLE_VM: unable to map console type to id. Payload: ${JSON.stringify(payload)}`);\n        return ;\n    }\n\n    return (dispatch, getState) => {\n        if (!isVmManagedByOvirt(getState().config.providerState, vmId)) {\n            logDebug(`CONSOLE_VM: vmId: ${vmId} is not managed by oVirt, redirecting to Libvirt`);\n            return LIBVIRT_PROVIDER.CONSOLE_VM(payload)(dispatch, getState);\n        }\n\n        logDebug(`CONSOLE_VM: requesting .vv file from oVirt for vmId: ${vmId}, type: ${type}`);\n        forceNextOvirtPoll();\n        return ovirtApiGet(\n            `vms/${vmId}/graphicsconsoles/${consoleId}`,\n            { Accept: 'application/x-virt-viewer' }\n        ).then(vvFile => {\n            fileDownload({\n                data: vvFile,\n                fileName: `${type}Console.vv`,\n                mimeType: 'application/x-virt-viewer'\n            });\n        });\n    };\n};\n\nOVIRT_PROVIDER.HOST_TO_MAINTENANCE = function ({ hostId }) {\n    logDebug(`HOST_TO_MAINTENANCE(hostId=${hostId})`);\n    if (!isOvirtApiCheckPassed()) {\n        logDebug('oVirt API version does not match but the HOST_TO_MAINTENANCE action is not supported by Libvirt provider, skipping' );\n        return () => {};\n    }\n\n    return (dispatch) => {\n        forceNextOvirtPoll();\n\n        const dfd = cockpit.defer();\n        dfd.notify(_(\"Switching host to maintenance mode in progress ...\"));\n\n        ovirtApiPost(\n            `hosts/${hostId}/deactivate`,\n            '<action/>',\n            ({ data, exception }) => {\n                dfd.reject(_(\"Switching host to maintenance mode failed. Received error: \") + data);\n            }\n        ).then(() => {\n            dfd.resolve();\n        });\n\n        return dfd.promise;\n    };\n};\n\nexport function setOvirtApiCheckResult (passed) {\n    OVIRT_PROVIDER.ovirtApiMetadata.passed = passed;\n    if (!passed) {\n        // showFailedOvirtApiVersionCheck(REQUIRED_OVIRT_API_VERSION);\n        // TODO: dispatch action to show error message for incompatible OVIRT API version\n    }\n}\n\nexport function isOvirtApiCheckPassed () {\n    return OVIRT_PROVIDER.ovirtApiMetadata.passed;\n}\n\nexport default OVIRT_PROVIDER;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/provider.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\n * Provider for Libvirt\n */\nimport cockpit from 'cockpit';\nimport $ from 'jquery';\nimport createVmScript from 'raw!./scripts/create_machine.sh';\nimport installVmScript from 'raw!./scripts/install_machine.sh';\nimport getOSListScript from 'raw!./scripts/get_os_list.sh';\n\nimport {\n    updateOrAddVm,\n    updateVm,\n    getVm,\n    getAllVms,\n    delayPolling,\n    undefineVm,\n    deleteUnlistedVMs,\n    vmActionFailed,\n    getOsInfoList,\n    updateOsInfoList,\n    vmCreateInProgress,\n    vmCreateCompleted,\n    vmInstallInProgress,\n    vmInstallCompleted,\n} from './actions.es6';\n\nimport { usagePollingEnabled } from './selectors.es6';\nimport { spawnScript, spawnProcess } from './services.es6';\nimport {\n    convertToUnit,\n    units,\n    isEmpty,\n    logDebug,\n    rephraseUI,\n    fileDownload,\n} from './helpers.es6';\n\nimport {\n    prepareDisksParam,\n    prepareDisplaysParam,\n} from './libvirtUtils.es6';\n\nimport VMS_CONFIG from './config.es6';\n\nconst _ = cockpit.gettext;\n\nconst METADATA_NAMESPACE=\"https://github.com/cockpit-project/cockpit/tree/master/pkg/machines\";\n\nconst CREATE_IN_PROGRESS_UI_TIMEOUT = 10000;\nconst INSTALL_IN_PROGRESS_UI_TIMEOUT = 4000;\nconst VM_RECOVER_IN_UI_TIMEOUT = 3000;\n\n/**\n * Parse non-XML stdout of virsh.\n *\n * @param virshStdout\n * @returns {*}\n */\nfunction parseLines(virshStdout) {\n    return virshStdout.match(/[^\\r\\n]+/g);\n}\n\n/**\n * Parse format of:\n * Pattern: value\n * @param parsedLines\n * @param pattern\n */\nfunction getValueFromLine(parsedLines, pattern) {\n    const selectedLine = parsedLines.filter(line => {\n        return line.trim().startsWith(pattern);\n    });\n    return isEmpty(selectedLine) ? undefined : selectedLine.toString().trim().substring(pattern.length).trim();\n}\n\n/**\n * Returns a function handling VM action failures.\n */\nexport function buildFailHandler({ dispatch, name, connectionName, message, extraPayload }) {\n    return ({ exception, data }) =>\n        dispatch(vmActionFailed({\n            name,\n            connectionName,\n            message,\n            detail: {\n                exception,\n                data,\n            },\n            extraPayload,\n        }));\n}\n\nexport function buildScriptTimeoutFailHandler(args, delay) {\n    let handler = buildFailHandler(args);\n    return ({ message, exception }) => {\n        window.setTimeout(() => {\n            handler({\n                exception: exception ? exception : message,\n            });\n        }, delay);\n    };\n}\n\nlet LIBVIRT_PROVIDER = {};\nLIBVIRT_PROVIDER = {\n    name: 'Libvirt',\n\n    /**\n     * Initialize the provider.\n     * Arguments are used for reference only, they are actually not needed for this Libvirt provider.\n     *\n     * @param providerContext - see `getProviderContext()` in provider.es6\n     * @returns {boolean} - true, if initialization succeeded; or Promise\n     */\n    init(providerContext) {\n        // This is default provider - the Libvirt, so we do not need to use the providerContext param.\n        // The method is here for reference only.\n        return true; // or Promise\n    },\n\n    canReset: (vmState) => vmState == 'running' || vmState == 'idle' || vmState == 'paused',\n    canShutdown: (vmState) => LIBVIRT_PROVIDER.canReset(vmState),\n    canDelete: (vmState, vmId, providerState) => true,\n    isRunning: (vmState) => LIBVIRT_PROVIDER.canReset(vmState),\n    canRun: (vmState, hasInstallPhase) => !hasInstallPhase && vmState == 'shut off',\n    canInstall: (vmState, hasInstallPhase, installInProgress) => vmState != 'running' && hasInstallPhase && !installInProgress,\n    canConsole: (vmState) => vmState == 'running',\n    canSendNMI: (vmState) => LIBVIRT_PROVIDER.canReset(vmState),\n\n    serialConsoleCommand: ({ vm }) => !!vm.displays['pty'] ? [ 'virsh', ...VMS_CONFIG.Virsh.connections[vm.connectionName].params, 'console', vm.name ] : false,\n\n    /**\n     * Read VM properties of a single VM (virsh)\n     *\n     * @param VM name\n     * @returns {Function}\n     */\n    GET_VM ({ lookupId: name, connectionName }) {\n        logDebug(`${this.name}.GET_VM()`);\n\n        return dispatch => {\n            if (!isEmpty(name)) {\n                return spawnVirshReadOnly({connectionName, method: 'dumpxml', name}).then(domXml => {\n                    parseDumpxml(dispatch, connectionName, domXml);\n                    return spawnVirshReadOnly({connectionName, method: 'dominfo', name});\n                }).then(domInfo => {\n                    parseDominfo(dispatch, connectionName, name, domInfo);\n                }); // end of GET_VM return\n            }\n        };\n    },\n\n    /**\n     * Initiate read of all VMs\n     *\n     * @returns {Function}\n     */\n    GET_ALL_VMS ({ connectionName }) {\n        logDebug(`${this.name}.GET_ALL_VMS(connectionName='${connectionName}'):`);\n        if (connectionName) {\n            return dispatch => {\n                startEventMonitor(dispatch, connectionName);\n                doGetAllVms(dispatch, connectionName);\n                dispatch(getOsInfoList());\n            };\n        }\n\n        return dispatch => { // for all connections\n            return cockpit.user().done( loggedUser => {\n                const promises = Object.getOwnPropertyNames(VMS_CONFIG.Virsh.connections)\n                    .filter(\n                        // The 'root' user does not have its own qemu:///session just qemu:///system\n                        // https://bugzilla.redhat.com/show_bug.cgi?id=1045069\n                        connectionName => canLoggedUserConnectSession(connectionName, loggedUser))\n                    .map(connectionName => dispatch(getAllVms(connectionName)));\n\n                return cockpit.all(promises);\n            });\n        };\n    },\n\n    GET_OS_INFO_LIST () {\n        logDebug(`${this.name}.GET_OS_INFO_LIST():`);\n        return dispatch => cockpit.script(getOSListScript, null, { err: \"message\", environ: ['LC_ALL=en_US.UTF-8'] })\n            .then(osList => {\n                parseOsInfoList(dispatch, osList);\n            })\n            .fail((exception, data) => {\n                console.error(`get os list returned error: \"${JSON.stringify(exception)}\", data: \"${JSON.stringify(data)}\"`);\n            });\n    },\n\n\n    SHUTDOWN_VM ({ name, connectionName }) {\n        logDebug(`${this.name}.SHUTDOWN_VM(${name}):`);\n        return dispatch => spawnVirsh({connectionName,\n            method: 'SHUTDOWN_VM',\n            failHandler: buildFailHandler({ dispatch, name, connectionName, message: _(\"VM SHUT DOWN action failed\")}),\n            args: ['shutdown', name]\n        });\n    },\n\n    FORCEOFF_VM ({ name, connectionName }) {\n        logDebug(`${this.name}.FORCEOFF_VM(${name}):`);\n        return dispatch => spawnVirsh({connectionName,\n            method: 'FORCEOFF_VM',\n            failHandler: buildFailHandler({ dispatch, name, connectionName, message: _(\"VM FORCE OFF action failed\")}),\n            args: ['destroy', name]\n        });\n    },\n\n    REBOOT_VM ({ name, connectionName }) {\n        logDebug(`${this.name}.REBOOT_VM(${name}):`);\n        return dispatch => spawnVirsh({connectionName,\n            method: 'REBOOT_VM',\n            failHandler: buildFailHandler({ dispatch, name, connectionName, message: _(\"VM REBOOT action failed\")}),\n            args: ['reboot', name]\n        });\n    },\n\n    FORCEREBOOT_VM ({ name, connectionName }) {\n        logDebug(`${this.name}.FORCEREBOOT_VM(${name}):`);\n        return dispatch => spawnVirsh({connectionName,\n            method: 'FORCEREBOOT_VM',\n            failHandler: buildFailHandler({ dispatch, name, connectionName, message: _(\"VM FORCE REBOOT action failed\")}),\n            args: ['reset', name]\n        });\n    },\n\n    START_VM ({ name, connectionName }) {\n        logDebug(`${this.name}.START_VM(${name}):`);\n        return dispatch => spawnVirsh({connectionName,\n            method: 'START_VM',\n            failHandler: buildFailHandler({ dispatch, name, connectionName, message: _(\"VM START action failed\")}),\n            args: ['start', name]\n        });\n    },\n\n    CREATE_VM({ vmName, source, os, memorySize, storageSize, startVm}) {\n        logDebug(`${this.name}.CREATE_VM(${vmName}):`);\n        return dispatch => {\n            // presume that vm gets created, because we can get response from virsh before createVmScript finishes\n            dispatch(vmCreateInProgress({\n                name: vmName,\n                openConsoleTab: true,\n            }));\n\n            if (startVm) {\n                dispatch(vmInstallInProgress({\n                    name: vmName,\n                }));\n            }\n\n            // wait few secs for ui to get the new vm and to see that this ui created the vm\n            window.setTimeout(() => {\n                dispatch(vmCreateCompleted({\n                    name: vmName,\n                }));\n            }, CREATE_IN_PROGRESS_UI_TIMEOUT);\n\n            if (startVm) {\n                window.setTimeout(() => {\n                    dispatch(vmInstallCompleted({\n                        name: vmName,\n                    }));\n                }, INSTALL_IN_PROGRESS_UI_TIMEOUT);\n            }\n\n            return cockpit.script(createVmScript, [\n                vmName,\n                source,\n                os,\n                memorySize,\n                storageSize,\n                startVm,\n            ], { err: \"message\", environ: ['LC_ALL=C'] })\n                .fail((exception, data) => {\n                    console.info(`spawn 'vm creation' returned error: \"${JSON.stringify(exception)}\", data: \"${JSON.stringify(data)}\"`);\n                });\n        };\n    },\n\n    INSTALL_VM({ name, vcpus, currentMemory, metadata, disks, displays, connectionName }) {\n        logDebug(`${this.name}.INSTALL_VM(${name}):`);\n        return dispatch => {\n            dispatch(vmInstallInProgress({\n                name,\n            }));\n\n            window.setTimeout(() => {\n                dispatch(vmInstallCompleted({\n                    name,\n                }));\n            }, INSTALL_IN_PROGRESS_UI_TIMEOUT);\n\n            return cockpit.script(installVmScript, [\n                name,\n                metadata.installSource,\n                metadata.osVariant,\n                convertToUnit(currentMemory, units.KiB, units.MiB),\n                vcpus,\n                prepareDisksParam(disks),\n                prepareDisplaysParam(displays),\n            ], { err: \"message\", environ: ['LC_ALL=C'] })\n                .fail(buildScriptTimeoutFailHandler({\n                        dispatch,\n                        name,\n                        connectionName,\n                        message: _(\"INSTALL VM action failed\"),\n                    },\n                    VM_RECOVER_IN_UI_TIMEOUT));\n        };\n    },\n\n    DELETE_VM ({ name, connectionName, options }) {\n        logDebug(`${this.name}.DELETE_VM(${name}, ${JSON.stringify(options)}):`);\n\n        function destroy() {\n            return spawnVirsh({ connectionName,\n                                method: 'DELETE_VM',\n                                args: [ 'destroy', name ]\n                              });\n        }\n\n        function undefine() {\n            let args = ['undefine', name, '--managed-save' ];\n            if (options.storage) {\n                args.push('--storage');\n                args.push(options.storage.join(','));\n            }\n            return spawnVirsh({ connectionName,\n                                method: 'DELETE_VM',\n                                args: args\n                              });\n        }\n\n        return dispatch => {\n            if (options.destroy) {\n                return destroy().then(undefine);\n            } else {\n                return undefine();\n            }\n        };\n    },\n\n    CHANGE_NETWORK_STATE ({ name, networkMac, state, connectionName }) {\n        logDebug(`${this.name}.CHANGE_NETWORK_STATE(${name}.${networkMac} ${state}):`);\n        return dispatch => {\n            spawnVirsh({connectionName,\n                method: 'CHANGE_NETWORK_STATE',\n                failHandler: buildFailHandler({ dispatch, name, connectionName, message: _(\"CHANGE NETWORK STATE action failed\")}),\n                args: ['domif-setlink', name, networkMac, state]\n            }).then(() => {\n                dispatch(getVm(connectionName, name));\n            });\n        };\n    },\n\n    USAGE_START_POLLING ({ name, connectionName }) {\n        logDebug(`${this.name}.USAGE_START_POLLING(${name}):`);\n        return (dispatch => {\n            dispatch(updateVm({ connectionName, name, usagePolling: true }));\n            dispatch(doUsagePolling(name, connectionName));\n        });\n    },\n\n    USAGE_STOP_POLLING ({ name, connectionName }) {\n        logDebug(`${this.name}.USAGE_STOP_POLLING(${name}):`);\n        return dispatch => dispatch(updateVm({ connectionName, name, usagePolling: false}));\n    },\n\n\n    /**\n     * Basic, but working.\n     * TODO: provide support for more complex scenarios, like with TLS or proxy\n     *\n     * To try with virt-install: --graphics spice,listen=[external host IP]\n     */\n    CONSOLE_VM ({ name, consoleDetail }) {\n        logDebug(`${this.name}.CONSOLE_VM(name='${name}'), detail = `, consoleDetail);\n        return dispatch => {\n            fileDownload({\n                data: buildConsoleVVFile(consoleDetail),\n                fileName: 'console.vv',\n                mimeType: 'application/x-virt-viewer'\n            });\n        };\n    },\n\n    SENDNMI_VM ({ name, connectionName }) {\n        logDebug(`${this.name}.SENDNMI_VM(${name}):`);\n        return dispatch => spawnVirsh({connectionName,\n            method: 'SENDNMI_VM',\n            failHandler: buildFailHandler({ dispatch, name, connectionName, message: _(\"VM SEND Non-Maskable Interrrupt action failed\")}),\n            args: ['inject-nmi', name]\n        });\n    }\n};\n\nfunction canLoggedUserConnectSession (connectionName, loggedUser) {\n    return connectionName !== 'session' || loggedUser.name !== 'root';\n}\n\nfunction doGetAllVms (dispatch, connectionName) {\n    const connection = VMS_CONFIG.Virsh.connections[connectionName];\n\n    return spawnScript({\n        script: `virsh ${connection.params.join(' ')} -r list --all | awk '$1 == \"-\" || $1+0 > 0 { print $2 }'`\n    }).then(output => {\n        const vmNames = output.trim().split(/\\r?\\n/);\n        vmNames.forEach((vmName, index) => {\n            vmNames[index] = vmName.trim();\n        });\n        logDebug(`GET_ALL_VMS: vmNames: ${JSON.stringify(vmNames)}`);\n\n        // remove undefined domains\n        dispatch(deleteUnlistedVMs(connectionName, vmNames));\n\n        // read VM details\n        return cockpit.all(vmNames.map((name) => dispatch(getVm(connectionName, name))));\n    });\n}\n\n// TODO: add configurable custom virsh attribs - i.e. libvirt user/pwd\nfunction spawnVirsh({connectionName, method, failHandler, args}) {\n    return spawnProcess({\n        cmd: 'virsh',\n        args: VMS_CONFIG.Virsh.connections[connectionName].params.concat(args),\n        failHandler,\n    }).fail((ex, data, output) => {\n        const msg = `${method}() exception: '${ex}', data: '${data}', output: '${output}'`;\n        if (failHandler) {\n            logDebug(msg);\n            return ;\n        }\n        console.warn(msg);\n    });\n}\n\nfunction spawnVirshReadOnly({connectionName, method, name, failHandler}) {\n    return spawnVirsh({connectionName, method, args: ['-r', method, name], failHandler});\n}\n\nfunction parseDumpxml(dispatch, connectionName, domXml) {\n    const xmlDoc = $.parseXML(domXml);\n\n    if (!xmlDoc) {\n        console.warn(`Can't parse dumpxml, input: \"${domXml}\"`);\n        return ;\n    }\n\n    const domainElem = xmlDoc.getElementsByTagName(\"domain\")[0];\n    const osElem = domainElem.getElementsByTagName(\"os\")[0];\n    const currentMemoryElem = domainElem.getElementsByTagName(\"currentMemory\")[0];\n    const vcpuElem = domainElem.getElementsByTagName(\"vcpu\")[0];\n    const cpuElem = domainElem.getElementsByTagName(\"cpu\")[0];\n    const vcpuCurrentAttr = vcpuElem.attributes.getNamedItem('current');\n    const devicesElem = domainElem.getElementsByTagName(\"devices\")[0];\n    const osTypeElem = osElem.getElementsByTagName(\"type\")[0];\n    const metadataElem = getSingleOptionalElem(domainElem, \"metadata\");\n\n    const name = domainElem.getElementsByTagName(\"name\")[0].childNodes[0].nodeValue;\n    const id = domainElem.getElementsByTagName(\"uuid\")[0].childNodes[0].nodeValue;\n    const osType = osTypeElem.nodeValue;\n    const emulatedMachine = osTypeElem.getAttribute(\"machine\");\n\n    const currentMemoryUnit = currentMemoryElem.getAttribute(\"unit\");\n    const currentMemory = convertToUnit(currentMemoryElem.childNodes[0].nodeValue, currentMemoryUnit, units.KiB);\n\n    const vcpus = (vcpuCurrentAttr && vcpuCurrentAttr.value) ? vcpuCurrentAttr.value : vcpuElem.childNodes[0].nodeValue;\n\n\n    const disks = parseDumpxmlForDisks(devicesElem);\n    const bootOrder = parseDumpxmlForBootOrder(osElem, devicesElem);\n    const cpuModel = parseDumpxmlForCpuModel(cpuElem);\n    const displays = parseDumpxmlForConsoles(devicesElem);\n    const interfaces = parseDumpxmlForInterfaces(devicesElem);\n\n    const hasInstallPhase = parseDumpxmlMachinesMetadataElement(metadataElem, 'has_install_phase') === 'true';\n    const installSource = parseDumpxmlMachinesMetadataElement(metadataElem, 'install_source');\n    const osVariant = parseDumpxmlMachinesMetadataElement(metadataElem, 'os_variant');\n\n    const metadata = {\n        hasInstallPhase,\n        installSource,\n        osVariant,\n    };\n\n    dispatch(updateOrAddVm({\n        connectionName, name, id,\n        osType,\n        currentMemory,\n        vcpus,\n        disks,\n        emulatedMachine,\n        cpuModel,\n        bootOrder,\n        displays,\n        interfaces,\n        metadata,\n    }));\n}\n\nfunction getSingleOptionalElem(parent, name) {\n    const subElems = parent.getElementsByTagName(name);\n    return subElems.length > 0 ? subElems[0] : undefined; // optional\n}\n\nfunction parseDumpxmlForDisks(devicesElem) {\n    const disks = {};\n    const diskElems = devicesElem.getElementsByTagName('disk');\n    if (diskElems) {\n        for (let i = 0; i < diskElems.length; i++) {\n            const diskElem = diskElems[i];\n\n            const targetElem = diskElem.getElementsByTagName('target')[0];\n\n            const driverElem = getSingleOptionalElem(diskElem, 'driver');\n            const sourceElem = getSingleOptionalElem(diskElem, 'source');\n            const serialElem = getSingleOptionalElem(diskElem, 'serial');\n            const aliasElem = getSingleOptionalElem(diskElem, 'alias');\n            const readonlyElem = getSingleOptionalElem(diskElem, 'readonly');\n            const shareableElem = getSingleOptionalElem(diskElem, 'shareable');\n            const bootElem = getSingleOptionalElem(diskElem, 'boot');\n\n            const sourceHostElem = sourceElem ? getSingleOptionalElem(sourceElem, 'host') : undefined;\n\n            const disk = { // see https://libvirt.org/formatdomain.html#elementsDisks\n                target: targetElem.getAttribute('dev'), // identifier of the disk, i.e. sda, hdc\n                driver: {\n                    name: driverElem ? driverElem.getAttribute('name') : undefined, // optional\n                    type: driverElem ? driverElem.getAttribute('type') : undefined,\n                    cache: driverElem ? driverElem.getAttribute('cache') : undefined, // optional\n                    discard: driverElem ? driverElem.getAttribute('discard') : undefined, // optional\n                    io: driverElem ? driverElem.getAttribute('io') : undefined, // optional\n                    errorPolicy: driverElem ? driverElem.getAttribute('error_policy') : undefined, // optional\n                },\n                bootOrder: bootElem ? bootElem.getAttribute('order') : undefined,\n                type: diskElem.getAttribute('type'), // i.e.: file\n                device: diskElem.getAttribute('device'), // i.e. cdrom, disk\n                source: {\n                    file: sourceElem ? sourceElem.getAttribute('file') : undefined, // optional file name of the disk\n                    dev: sourceElem ? sourceElem.getAttribute('dev') : undefined,\n                    pool: sourceElem ? sourceElem.getAttribute('pool') : undefined,\n                    volume: sourceElem ? sourceElem.getAttribute('volumne') : undefined,\n                    protocol: sourceElem ? sourceElem.getAttribute('protocol') : undefined,\n                    host: {\n                        name: sourceHostElem ? sourceHostElem.getAttribute('name') : undefined,\n                        port: sourceHostElem ? sourceHostElem.getAttribute('port') : undefined,\n                    },\n                    startupPolicy: sourceElem ? sourceElem.getAttribute('startupPolicy') : undefined, // optional startupPolicy of the disk\n\n                },\n                bus: targetElem.getAttribute('bus'), // i.e. scsi, ide\n                serial: serialElem ? serialElem.getAttribute('serial') : undefined, // optional serial number\n                aliasName: aliasElem ? aliasElem.getAttribute('name') : undefined, // i.e. scsi0-0-0-0, ide0-1-0\n                readonly: readonlyElem ? true : false,\n                shareable: shareableElem ? true : false,\n                removable: targetElem.getAttribute('removable'),\n            };\n\n            if (disk.target) {\n                disks[disk.target] = disk;\n                logDebug(`parseDumpxmlForDisks(): disk device found: ${JSON.stringify(disk)}`);\n            } else {\n                console.warn(`parseDumpxmlForDisks(): mandatory properties are missing in dumpxml, found: ${JSON.stringify(disk)}`);\n            }\n        }\n    }\n\n    return disks;\n}\n\nfunction parseDumpxmlForInterfaces(devicesElem) {\n    const interfaces = [];\n    const interfaceElems = devicesElem.getElementsByTagName('interface');\n    if (interfaceElems) {\n        for (let i = 0; i < interfaceElems.length; i++) {\n            const interfaceElem = interfaceElems[i];\n\n            const targetElem = interfaceElem.getElementsByTagName('target')[0];\n            const macElem = getSingleOptionalElem(interfaceElem, 'mac');\n            const modelElem = getSingleOptionalElem(interfaceElem, 'model');\n            const aliasElem = getSingleOptionalElem(interfaceElem, 'alias');\n            const sourceElem = getSingleOptionalElem(interfaceElem, 'source');\n            const driverElem = getSingleOptionalElem(interfaceElem, 'driver');\n            const virtualportElem = getSingleOptionalElem(interfaceElem, 'virtualport');\n            const addressElem = getSingleOptionalElem(interfaceElem, 'address');\n            const linkElem = getSingleOptionalElem(interfaceElem, 'link');\n            const mtuElem = getSingleOptionalElem(interfaceElem, 'mtu');\n            const localElem = addressElem ? getSingleOptionalElem(addressElem, 'local') : null;\n\n            const networkInterface = { // see https://libvirt.org/formatdomain.html#elementsNICS\n                type: interfaceElem.getAttribute('type'), //Only one required parameter\n                managed: interfaceElem.getAttribute('managed'),\n                name: interfaceElem.getAttribute('name') ? interfaceElem.getAttribute('name') : undefined, //Name of interface\n                target: targetElem ? targetElem.getAttribute('dev') : undefined,\n                mac: macElem.getAttribute('address'), //MAC address\n                model: modelElem.getAttribute('type'), //Device model\n                aliasName: aliasElem ? aliasElem.getAttribute('name') : undefined,\n                virtualportType: virtualportElem ? virtualportElem.getAttribute('type') : undefined,\n                driverName: driverElem ? driverElem.getAttribute('name') : undefined,\n                state: linkElem ? linkElem.getAttribute('state') : 'up', //State of interface, up/down (plug/unplug)\n                mtu: mtuElem ? mtuElem.getAttribute('size') : undefined,\n                source: {\n                    bridge: sourceElem ? sourceElem.getAttribute('bridge') : undefined,\n                    network: sourceElem ? sourceElem.getAttribute('network') : undefined,\n                    portgroup: sourceElem ? sourceElem.getAttribute('portgroup') : undefined,\n                    dev: sourceElem ? sourceElem.getAttribute('dev') : undefined,\n                    mode: sourceElem ? sourceElem.getAttribute('mode') : undefined,\n                    address: sourceElem ? sourceElem.getAttribute('address') : undefined,\n                    port: sourceElem ? sourceElem.getAttribute('port') : undefined,\n                    local: {\n                        address: localElem ? localElem.getAttribute('address') : undefined,\n                        port: localElem ? localElem.getAttribute('port') : undefined,\n                    },\n                },\n                address: {\n                    bus: addressElem ? addressElem.getAttribute('bus') : undefined,\n                    function: addressElem ? addressElem.getAttribute('function') : undefined,\n                },\n            };\n            interfaces.push(networkInterface);\n        }\n    }\n    return interfaces;\n}\n\nfunction getBootableDeviceType(device) {\n    const tagName = device.tagName;\n    let type = _(\"other\");\n    switch (tagName) {\n        case 'disk':\n            type = rephraseUI('bootableDisk', device.getAttribute('device')); // Example: disk, cdrom\n            break;\n        case 'interface':\n            type = rephraseUI('bootableDisk', 'interface');\n            break;\n        default:\n            console.info(`Unrecognized type of bootable device: ${tagName}`);\n    }\n    return type;\n}\n\nfunction parseDumpxmlForBootOrder(osElem, devicesElem) {\n    const bootOrder = {\n        devices: [],\n    };\n\n    // Prefer boot order defined in domain/os element\n    const osBootElems = osElem.getElementsByTagName('boot');\n    if (osBootElems.length > 0) {\n        for (let bootNum = 0; bootNum < osBootElems.length; bootNum++) {\n            const bootElem = osBootElems[bootNum];\n            const dev = bootElem.getAttribute('dev');\n            if (dev) {\n                bootOrder.devices.push({\n                    order: bootNum,\n                    type: rephraseUI('bootableDisk', dev) // Example: hd, network, fd, cdrom\n                });\n            }\n        }\n        return bootOrder; // already sorted\n    }\n\n    // domain/os/boot elements not found, decide from device's boot elements\n    // VM can be theoretically booted from any device.\n    const bootableDevices = [];\n    for (let devNum = 0; devNum < devicesElem.childNodes.length; devNum++) {\n        const deviceElem = devicesElem.childNodes[devNum];\n        if (deviceElem.nodeType === 1) { // XML elements only\n            const bootElem = getSingleOptionalElem(deviceElem, 'boot');\n            if (bootElem && bootElem.getAttribute('order')) {\n                bootableDevices.push({\n                    // so far just the 'type' is rendered, skipping redundant attributes\n                    order: parseInt(bootElem.getAttribute('order')),\n                    type: getBootableDeviceType(deviceElem),\n                });\n            }\n        }\n    }\n    bootOrder.devices = bootableDevices.sort( (devA, devB) => devA.order - devB.order );\n    return bootOrder;\n}\n\nfunction parseDumpxmlForCpuModel(cpuElem) {\n    if (!cpuElem) {\n        return undefined;\n    }\n\n    const cpuMode = cpuElem.getAttribute('mode');\n    let cpuModel = '';\n    if (cpuMode && cpuMode === 'custom') {\n        const modelElem = getSingleOptionalElem(cpuElem, 'model');\n        if (modelElem) {\n            cpuModel = modelElem.childNodes[0].nodeValue; // content of the domain/cpu/model element\n        }\n    }\n\n    return rephraseUI('cpuMode', cpuMode) + (cpuModel ? ` (${cpuModel})` : '');\n}\n\nfunction parseDumpxmlForConsoles(devicesElem) {\n    const displays = {};\n    const graphicsElems = devicesElem.getElementsByTagName(\"graphics\");\n    if (graphicsElems) {\n        for (let i = 0; i < graphicsElems.length; i++) {\n            const graphicsElem = graphicsElems[i];\n            const display = {\n                type: graphicsElem.getAttribute('type'),\n                port: graphicsElem.getAttribute('port'),\n                tlsPort: graphicsElem.getAttribute('tlsPort'),\n                address: graphicsElem.getAttribute('listen'),\n                autoport: graphicsElem.getAttribute('autoport'),\n            };\n            if (display.type &&\n                (display.autoport ||\n                (display.address && (display.port || display.tlsPort)) )) {\n                displays[display.type] = display;\n                logDebug(`parseDumpxmlForConsoles(): graphics device found: ${JSON.stringify(display)}`);\n            } else {\n                console.warn(`parseDumpxmlForConsoles(): mandatory properties are missing in dumpxml, found: ${JSON.stringify(display)}`);\n            }\n        }\n    }\n\n    // console type='pty'\n    const consoleElems = devicesElem.getElementsByTagName(\"console\");\n    if (consoleElems) {\n        for (let i = 0; i < consoleElems.length; i++) {\n            const consoleElem = consoleElems[i];\n            if (consoleElem.getAttribute('type') === 'pty') {\n                // Definition of serial console is detected.\n                // So far no additional details needs to be parsed since the console is accessed via 'virsh console'.\n                displays['pty'] = {};\n            }\n\n        }\n    }\n\n    return displays;\n}\n\nfunction parseDominfo(dispatch, connectionName, name, domInfo) {\n    const lines = parseLines(domInfo);\n    const state = getValueFromLine(lines, 'State:');\n    const autostart = getValueFromLine(lines, 'Autostart:');\n    const persistent = getValueFromLine(lines, 'Persistent:') == 'yes';\n\n    if (!LIBVIRT_PROVIDER.isRunning(state)) { // clean usage data\n        dispatch(updateVm({connectionName, name, state, autostart, persistent, actualTimeInMs: -1}));\n    } else {\n        dispatch(updateVm({connectionName, name, state, persistent, autostart}));\n    }\n\n    return state;\n}\n\nfunction parseDumpxmlMachinesMetadataElement(metadataElem, name) {\n    if (!metadataElem) {\n        return null;\n    }\n    const subElems = metadataElem.getElementsByTagNameNS(METADATA_NAMESPACE, name);\n\n    return subElems.length > 0 ? subElems[0].textContent : null;\n}\n\nfunction parseOsInfoList(dispatch, osList) {\n    const osColumnsNames = ['shortId', 'name', 'version', 'family', 'vendor', 'releaseDate', 'eolDate', 'codename'];\n    let parsedList = [];\n\n    osList.split('\\n').forEach(line => {\n        const osColumns = line.split('|');\n\n        const result = {};\n\n        for (let i = 0; i < osColumnsNames.length; i++) {\n            result[osColumnsNames[i]] = osColumns.length > i ? osColumns[i] : null;\n        }\n\n        if (result.shortId) {\n            parsedList.push(result);\n        }\n    });\n\n    dispatch(updateOsInfoList(parsedList));\n}\n\nfunction parseDommemstat(dispatch, connectionName, name, dommemstat) {\n    const lines = parseLines(dommemstat);\n\n    let rssMemory = getValueFromLine(lines, 'rss'); // in KiB\n\n    if (rssMemory) {\n        dispatch(updateVm({connectionName, name, rssMemory}));\n    }\n}\n\nfunction parseDomstats(dispatch, connectionName, name, domstats) {\n    const actualTimeInMs = Date.now();\n\n    const lines = parseLines(domstats);\n\n    const cpuTime = getValueFromLine(lines, 'cpu\\.time=');\n    // TODO: Add network usage statistics\n\n    if (cpuTime) {\n        dispatch(updateVm({connectionName, name, actualTimeInMs, cpuTime}));\n    }\n\n   dispatch(updateVm({connectionName, name, disksStats: parseDomstatsForDisks(lines)}));\n}\n\nfunction parseDomstatsForDisks(domstatsLines) {\n    const count = getValueFromLine(domstatsLines, 'block\\.count=');\n    if (!count) {\n        return ;\n    }\n\n    // Libvirt reports disk capacity since version 1.2.18 (year 2015)\n    // TODO: If disk stats is required for old systems, find a way how to get it when 'block.X.capacity' is not present, consider various options for 'sources'\n    const disksStats = {};\n    for (let i=0; i<count; i++) {\n        const target = getValueFromLine(domstatsLines, `block\\.${i}\\.name=`);\n        const physical = getValueFromLine(domstatsLines, `block\\.${i}\\.physical=`) || NaN;\n        const capacity = getValueFromLine(domstatsLines, `block\\.${i}\\.capacity=`) || NaN;\n        const allocation = getValueFromLine(domstatsLines, `block\\.${i}\\.allocation=`) || NaN;\n\n        if (target) {\n            disksStats[target] = {\n                physical,\n                capacity,\n                allocation,\n            };\n        } else {\n            console.warn(`parseDomstatsForDisks(): mandatory property is missing in domstats (block\\.${i}\\.name)`);\n        }\n    }\n    return disksStats;\n}\n\nfunction buildConsoleVVFile(consoleDetail) {\n    return '[virt-viewer]\\n' +\n        `type=${consoleDetail.type}\\n` +\n        `host=${consoleDetail.address}\\n` +\n        `port=${consoleDetail.port}\\n` +\n        'delete-this-file=1\\n' +\n        'fullscreen=0\\n';\n}\n\nfunction doUsagePolling (name, connectionName) {\n    logDebug(`doUsagePolling(${name}, ${connectionName})`);\n\n    const canFailHandler = ({ exception, data }) => {\n        console.info(`The 'virsh' command failed, as expected: \"${JSON.stringify(exception)}\", data: \"${JSON.stringify(data)}\"`);\n        return cockpit.resolve();\n    };\n\n    return (dispatch, getState) => {\n        if (!usagePollingEnabled(getState(), name, connectionName)) {\n            logDebug(`doUsagePolling(${name}, ${connectionName}): usage polling disabled, stopping loop`);\n            return;\n        }\n\n        // Do polling even if following virsh calls fails. Might fail i.e. if a VM is not (yet) started\n        dispatch(delayPolling(doUsagePolling(name, connectionName), null, name, connectionName));\n\n        return spawnVirshReadOnly({ connectionName, method: 'dommemstat', name, failHandler: canFailHandler })\n            .then(dommemstat => {\n                if (dommemstat) { // is undefined if vm is not running\n                    parseDommemstat(dispatch, connectionName, name, dommemstat);\n                    return spawnVirshReadOnly({ connectionName, method: 'domstats', name, failHandler: canFailHandler });\n                }\n            }).then(domstats => {\n                if (domstats)\n                    parseDomstats(dispatch, connectionName, name, domstats);\n            });\n    };\n}\n\nfunction handleEvent(dispatch, connectionName, line) {\n    // example lines, some with detail, one without:\n    // event 'reboot' for domain sid-lxde\n    // event 'lifecycle' for domain sid-lxde: Shutdown Finished\n    // event 'device-removed' for domain green: virtio-disk2\n    const eventRe = /event '([a-z-]+)' .* domain ([^:]+)(?:: (.*))?$/;\n\n    var match = eventRe.exec(line);\n    if (!match) {\n        console.warn(\"Unable to parse event, ignoring:\", line);\n        return;\n    }\n    var [event_, name, info] = match.slice(1);\n\n    logDebug(`handleEvent(${connectionName}): domain ${name}: got event ${event_}; details: ${info}`);\n\n    // types and details: https://libvirt.org/html/libvirt-libvirt-domain.html#virDomainEventID\n    switch (event_) {\n        case 'lifecycle': {\n            let type = info.split(' ')[0];\n            switch (type) {\n                case 'Undefined':\n                    dispatch(undefineVm(connectionName, name));\n                    break;\n\n                case 'Defined':\n                case 'Started':\n                    dispatch(getVm(connectionName, name));\n                    break;\n\n                case 'Stopped':\n                    dispatch(updateVm({connectionName, name, state: 'shut off', actualTimeInMs: -1}));\n                    // transient VMs don't have a separate Undefined event, so remove them on stop\n                    dispatch(undefineVm(connectionName, name, true));\n                    break;\n\n                case 'Suspended':\n                    dispatch(updateVm({connectionName, name, state: 'paused'}));\n                    break;\n\n                case 'Resumed':\n                    dispatch(updateVm({connectionName, name, state: 'running'}));\n                    break;\n\n                default:\n                    logDebug(`Unhandled lifecycle event type ${type} in event: ${line}`);\n            }\n            break;\n        }\n        case 'metadata-change':\n        case 'device-added':\n        case 'device-removed':\n        case 'disk-change':\n        case 'tray-change':\n        case 'control-error':\n            // these (can) change what we display, so re-read the state\n            dispatch(getVm(connectionName, name));\n            break;\n\n        default:\n            logDebug(`handleEvent ${connectionName} ${name}: ignoring event ${line}`);\n    }\n}\n\nfunction startEventMonitor(dispatch, connectionName) {\n    var output_buf = '';\n\n    // set up event monitor for that connection; force PTY as otherwise the buffering\n    // will not show every line immediately\n    cockpit.spawn(['virsh'].concat(VMS_CONFIG.Virsh.connections[connectionName].params).concat(['-r', 'event', '--all', '--loop']), {'err': 'message', 'pty': true})\n        .stream(data => {\n            // buffer and line-split the output, there is no guarantee that we always get whole lines\n            output_buf += data;\n            let lines = output_buf.split('\\n');\n            while (lines.length > 1)\n                handleEvent(dispatch, connectionName, lines.shift().trim());\n            output_buf = lines[0];\n        })\n        .fail(ex => {\n            // this usually happens if libvirtd gets stopped or isn't running; retry connecting every 10s\n            console.log(\"virsh event failed:\", ex);\n            dispatch(deleteUnlistedVMs(connectionName, []));\n            dispatch(delayPolling(getAllVms(connectionName)));\n        });\n}\n\nexport default LIBVIRT_PROVIDER;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/libvirt.es6","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 28\n// module chunks = 0","module.exports = \"#!/bin/sh\\n\\nset -u -o noglob\\nVM_NAME=\\\"$1\\\"\\nSOURCE=\\\"$2\\\"\\nOS=\\\"$3\\\"\\nMEMORY_SIZE=\\\"$4\\\" # in MiB\\nSTORAGE_SIZE=\\\"$5\\\" # in GiB\\nSTART_VM=\\\"$6\\\"\\n\\nendIfFailed(){\\n\\tif [ $1 -ne 0 ]; then\\n\\t    rm -f \\\"$XMLS_FILE\\\"\\n        exit $1\\n    fi\\n}\\n\\n# prepare virt-install parameters\\nCOMPARISON=$(awk 'BEGIN{ print \\\"'$STORAGE_SIZE'\\\"<=0 }')\\nif [ \\\"$COMPARISON\\\" -eq 1 ]; then\\n    # default to no disk if size 0\\n    DISK_OPTIONS=\\\"none\\\"\\nelse\\n    DISK_OPTIONS=\\\"size=$STORAGE_SIZE,format=qcow2\\\"\\nfi\\n\\nGRAPHICS_PARAM=\\\"--graphics spice,listen=127.0.0.1 --graphics vnc,listen=127.0.0.1\\\"\\n\\nif [ \\\"$OS\\\" = \\\"other-os\\\" -o  -z \\\"$OS\\\" ]; then\\n    OS=\\\"auto\\\"\\nfi\\n\\nFIRST_1_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c 1`\\\"\\nFIRST_3_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -3`\\\"\\nFIRST_4_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -4`\\\"\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" -a \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -a ! -f \\\"$SOURCE\\\" ]; then\\n    echo \\\"$SOURCE does not exist or is not a file\\\" 1>&2\\n    exit 1\\nfi\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" -a \\\\( \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -o \\\"$FIRST_4_SOURCE\\\" = \\\"http\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"ftp\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"nfs\\\" \\\\) ]; then\\n    LOCATION_PARAM=\\\"--cdrom $SOURCE\\\"\\nelse\\n    # prevents creating duplicate cdroms if start vm is false\\n    # or if no source received\\n    LOCATION_PARAM=\\\"\\\"\\nfi\\n\\n\\nXMLS_FILE=\\\"`mktemp`\\\"\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" ]; then\\n    STARTUP_PARAMS=\\\"--wait -1 --noautoconsole --noreboot\\\"\\n    HAS_INSTALL_PHASE=\\\"false\\\"\\nelse\\n    # 2 = last phase only\\n    STARTUP_PARAMS=\\\"--print-xml\\\"\\n    HAS_INSTALL_PHASE=\\\"true\\\"\\nfi\\n\\nvirt-install \\\\\\n    --name \\\"$VM_NAME\\\" \\\\\\n    --os-variant \\\"$OS\\\" \\\\\\n    --memory \\\"$MEMORY_SIZE\\\" \\\\\\n    --quiet \\\\\\n    --disk  \\\"$DISK_OPTIONS\\\" \\\\\\n    $STARTUP_PARAMS \\\\\\n    $LOCATION_PARAM \\\\\\n    $GRAPHICS_PARAM \\\\\\n> \\\"$XMLS_FILE\\\"\\n\\nendIfFailed $?\\n\\n# add metadata to domain\\n\\nif [ \\\"$START_VM\\\" = \\\"true\\\" ]; then\\n    virsh -q dumpxml \\\"$VM_NAME\\\" > \\\"$XMLS_FILE\\\"\\nfi\\n\\n# LAST STEP ONLY - virt-install can output 1 or 2 steps\\nDOMAIN_MATCHES=`grep -n '</domain>' \\\"$XMLS_FILE\\\"`\\nLAST_STEP=`echo \\\"$DOMAIN_MATCHES\\\" | wc -l`\\nCURRENT_STEP=1\\nSTART_LINE=1\\n\\n# go through all domains (line numbers) and increment steps\\necho \\\"$DOMAIN_MATCHES\\\"  |  sed 's/[^0-9]//g' | while read -r FINISH_LINE ; do\\n        QUIT_LINE=\\\"`expr $FINISH_LINE + 1`\\\"\\n        # define only last step\\n        if [ \\\"$CURRENT_STEP\\\" = \\\"$LAST_STEP\\\" ]; then\\n            sed -n -i \\\"$START_LINE\\\"','\\\"$FINISH_LINE\\\"'p;'\\\"$QUIT_LINE\\\"'q' \\\"$XMLS_FILE\\\"\\n            METADATA_LINE=`grep -n '</metadata>' \\\"$XMLS_FILE\\\" | sed 's/[^0-9]//g'`\\n\\n            METADATA='    <cockpit_machines:data xmlns:cockpit_machines=\\\"https://github.com/cockpit-project/cockpit/tree/master/pkg/machines\\\"> \\\\\\n      <cockpit_machines:has_install_phase>'\\\"$HAS_INSTALL_PHASE\\\"'</cockpit_machines:has_install_phase> \\\\\\n      <cockpit_machines:install_source>'\\\"$SOURCE\\\"'</cockpit_machines:install_source> \\\\\\n      <cockpit_machines:os_variant>'\\\"$OS\\\"'</cockpit_machines:os_variant> \\\\\\n    </cockpit_machines:data>'\\n\\n            if [ -z \\\"$METADATA_LINE\\\"  ]; then\\n                METADATA_LINE=\\\"`cat \\\"$XMLS_FILE\\\" | wc -l`\\\"\\n                METADATA='\\\\ \\\\ <metadata> \\\\\\n'\\\"$METADATA\\\"' \\\\\\n  </metadata>'\\n            fi\\n\\n            #inject metadata, and define\\n            sed \\\"$METADATA_LINE\\\"\\\"i $METADATA\\\" \\\"$XMLS_FILE\\\" | virsh -q define /dev/stdin\\n            endIfFailed $?\\n        else\\n            START_LINE=\\\"$QUIT_LINE\\\"\\n            CURRENT_STEP=\\\"`expr $CURRENT_STEP + 1`\\\"\\n        fi\\ndone\\n\\nrm -f \\\"$XMLS_FILE\\\"\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/machines/scripts/create_machine.sh\n// module id = 29\n// module chunks = 0","module.exports = \"#!/bin/sh\\n\\nset -u -o noglob\\n\\nVM_NAME=\\\"$1\\\"\\nSOURCE=\\\"$2\\\"\\nOS=\\\"$3\\\"\\nMEMORY_SIZE=\\\"$4\\\" # in Mib\\nVCPUS=\\\"$5\\\"\\nDISKS=\\\"$6\\\"\\nDISPLAYS=\\\"$7\\\"\\n\\n# prepare virt-install parameters\\n\\ncreateOptions(){\\n    CREATE_OPTIONS_RESULT=\\\"\\\"\\n\\twhile IFS= read -r PARAM\\n    do\\n       if [ -n \\\"$PARAM\\\" ]; then\\n           CREATE_OPTIONS_RESULT=\\\"${CREATE_OPTIONS_RESULT} $2 $PARAM\\\"\\n       fi\\n    done << EOF\\n    $1\\nEOF\\n}\\n\\nif [ -z \\\"$OS\\\" ]; then\\n    OS=\\\"auto\\\"\\nfi\\n\\nif [ -z \\\"$DISKS\\\" ]; then\\n    DISKS_PARAM=\\\"--disk none\\\"\\nelse\\n    createOptions \\\"$DISKS\\\" \\\"--disk\\\"\\n    DISKS_PARAM=\\\"$CREATE_OPTIONS_RESULT\\\"\\nfi\\n\\nif [ -z \\\"$DISPLAYS\\\" ]; then\\n    GRAPHICS_PARAM=\\\"--graphics none\\\"\\nelse\\n    createOptions \\\"$DISPLAYS\\\" \\\"--graphics\\\"\\n    GRAPHICS_PARAM=\\\"$CREATE_OPTIONS_RESULT\\\"\\nfi\\n\\nFIRST_1_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c 1`\\\"\\nFIRST_3_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -3`\\\"\\nFIRST_4_SOURCE=\\\"`echo \\\"$SOURCE\\\" | cut -c -4`\\\"\\n\\nif [ \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -a ! -f \\\"$SOURCE\\\" ]; then\\n    echo \\\"$SOURCE does not exist or is not a file\\\" 1>&2\\n    exit 1\\nfi\\n\\nif [ \\\"$FIRST_1_SOURCE\\\" = \\\"/\\\" -o \\\"$FIRST_4_SOURCE\\\" = \\\"http\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"ftp\\\" -o \\\"$FIRST_3_SOURCE\\\" = \\\"nfs\\\" ]; then\\n    LOCATION_PARAM=\\\"--cdrom $SOURCE\\\"\\nelse\\n    LOCATION_PARAM=\\\"\\\"\\nfi\\n\\n# backup\\nDOMAIN_FILE=\\\"`mktemp`\\\"\\n\\nvirsh -q destroy \\\"$VM_NAME\\\" 2>/dev/null\\nvirsh -q dumpxml \\\"$VM_NAME\\\" > \\\"$DOMAIN_FILE\\\"\\nvirsh -q undefine \\\"$VM_NAME\\\" --managed-save\\n\\nvirt-install \\\\\\n    --name \\\"$VM_NAME\\\" \\\\\\n    --os-variant \\\"$OS\\\" \\\\\\n    --memory \\\"$MEMORY_SIZE\\\" \\\\\\n    --vcpus \\\"$VCPUS\\\" \\\\\\n    --quiet \\\\\\n    --wait -1 \\\\\\n    --noautoconsole \\\\\\n    --noreboot \\\\\\n    $DISKS_PARAM \\\\\\n    $LOCATION_PARAM \\\\\\n    $GRAPHICS_PARAM\\nEXIT_STATUS=$?\\n\\nif [ \\\"$EXIT_STATUS\\\" -eq 0 ]; then\\n    # set metadata\\n    virsh -q dumpxml \\\"$VM_NAME\\\" > \\\"$DOMAIN_FILE\\\"\\n    METADATA_LINE=`grep -n '</metadata>' \\\"$DOMAIN_FILE\\\" | sed 's/[^0-9]//g'`\\n    METADATA='    <cockpit_machines:data xmlns:cockpit_machines=\\\"https://github.com/cockpit-project/cockpit/tree/master/pkg/machines\\\"> \\\\\\n      <cockpit_machines:has_install_phase>false</cockpit_machines:has_install_phase> \\\\\\n      <cockpit_machines:install_source>'\\\"$SOURCE\\\"'</cockpit_machines:install_source> \\\\\\n      <cockpit_machines:os_variant>'\\\"$OS\\\"'</cockpit_machines:os_variant> \\\\\\n    </cockpit_machines:data>'\\n\\n    if [ -z \\\"$METADATA_LINE\\\"  ]; then\\n        METADATA_LINE=\\\"`cat \\\"$DOMAIN_FILE\\\" | wc -l`\\\"\\n        METADATA='\\\\ \\\\ <metadata> \\\\\\n'\\\"$METADATA\\\"' \\\\\\n  </metadata>'\\n    fi\\n\\n    #inject metadata, and define\\n    sed \\\"$METADATA_LINE\\\"\\\"i $METADATA\\\" \\\"$DOMAIN_FILE\\\" | virsh -q define /dev/stdin\\n    rm -f \\\"$DOMAIN_FILE\\\"\\nelse\\n    # return back if failed\\n    if virsh list --all | awk  '{print $2}' | grep -q --line-regexp --fixed-strings \\\"$VM_NAME\\\"; then\\n        # undefine if the domain was created but still failed\\n        virsh -q undefine \\\"$VM_NAME\\\" --managed-save\\n    fi\\n    virsh -q define \\\"$DOMAIN_FILE\\\"\\n    rm -f \\\"$DOMAIN_FILE\\\"\\n    exit 1\\nfi\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/machines/scripts/install_machine.sh\n// module id = 30\n// module chunks = 0","module.exports = \"#!/bin/sh\\n\\n# sed strips spaces at the end, the beginning and spaces around '|'\\nosinfo-query os --fields=short-id,name,version,family,vendor,release-date,eol-date,codename | tail -n +3 | sed -e 's/\\\\s*|\\\\s*/|/g; s/^\\\\s*//g; s/\\\\s*$//g'\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/machines/scripts/get_os_list.sh\n// module id = 31\n// module chunks = 0","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport { logDebug } from './helpers.es6';\n\nexport function spawnProcess({ cmd, args = [], stdin, failHandler }) {\n    const spawnArgs = [cmd, ...args];\n    logDebug(`spawn process args: ${spawnArgs}`);\n\n    return spawn(cockpit.spawn(spawnArgs, { err: \"message\", environ: ['LC_ALL=C'] })\n        .input(stdin))\n        .fail((exception, data) => {\n            if (failHandler) {\n                return failHandler({exception, data, spawnArgs});\n            }\n            console.warn(`spawn '${cmd}' process returned error: \"${JSON.stringify(exception)}\", data: \"${JSON.stringify(data)}\"`);\n        });\n}\n\nexport function spawnScript({ script }) {\n    const spawnArgs = [script];\n    logDebug(`spawn script args: ${spawnArgs}`);\n\n    return spawn(cockpit.script(spawnArgs, [], { err: \"message\", environ: ['LC_ALL=C'] }))\n        .fail((ex, data) =>\n            console.warn(`spawn '${script}' script error: \"${JSON.stringify(ex)}\", data: \"${JSON.stringify(data)}\"`));\n}\n\nfunction spawn(command) {\n    const deferred = cockpit.defer();\n    let stdout = '';\n    command\n        .stream(chunk => {\n            stdout += chunk;\n        })\n        .done(() => {\n            deferred.resolve(stdout);\n        })\n        .fail((ex, data) => {\n            deferred.reject(ex, data, stdout);\n        });\n\n    return deferred.promise;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/services.es6","/*jshint esversion: 6 */\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nfunction prepareParams(objectData, valueTransformer) {\n    let result = '';\n    let startLine = true;\n    Object.keys(objectData).forEach((key) => {\n        const options = valueTransformer(objectData[key]);\n\n        Object.keys(options).forEach((optionKey) => {\n            const option = options[optionKey];\n            if (option) {\n                result += (startLine) ? `${optionKey}=${option}` : `,${optionKey}=${option}`;\n                if (startLine) {\n                    startLine = false;\n                }\n            }\n        });\n        result += '\\n';\n        startLine = true;\n    });\n\n    return result;\n}\n\nexport function prepareDisplaysParam(displays) {\n    return prepareParams(displays, display => {\n        return {\n            type: display.type,\n            listen: display.address,\n            port: display.port,\n            tlsport: display.tlsPort,\n        };\n    });\n}\n\nexport function prepareDisksParam(disks) {\n    const isVolume = (disk) => disk.source.volume && disk.source.pool;\n    const getVolume = (disk) => isVolume(disk) ? `${disk.source.pool}/${disk.source.volume}` : null;\n    const getPath = (disk) => isVolume(disk) ? null : disk.source.file;\n\n    return prepareParams(disks, disk => {\n        return {\n            path: getPath(disk),\n            vol: getVolume(disk),\n            device: disk.device,\n            boot_order: disk.bootOrder,\n            bus: disk.bus,\n            removable: disk.removable,\n            readonly: disk.readonly ? 'on' : 'off',\n            shareable: disk.shareable ? 'on' : 'off',\n            cache: disk.driver.cache,\n            discard: disk.driver.discard,\n            driver_name: disk.driver.name,\n            driver_type: disk.driver.type,\n            io: disk.driver.io,\n            error_policy: disk.driver.errorPolicy,\n            startup_policy: disk.source.startupPolicy,\n            // format: libvirt's format auto-detection\n        };\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/libvirtUtils.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\n\nimport { logDebug, logError } from '../machines/helpers.es6';\nimport CONFIG, { OVIRT_CONF_FILE, REQUIRED_OVIRT_API_VERSION, getOvirtBaseUrl } from './config.es6';\nimport MACHINES_CONFIG from '../machines/config.es6';\nimport { setOvirtApiCheckResult } from './provider.es6';\nimport { ovirtApiGet } from './ovirtApiAccess.es6';\nimport { startOvirtPolling } from './ovirt.es6';\nimport { loginInProgress, setHostname } from './actions.es6';\nimport installationDialog from './components/InstallationDialog.jsx';\n\nimport store, { waitForReducerSubtreeInit } from './store.es6';\n\nexport function readConfiguration ({ dispatch }) {\n    logDebug(`readConfiguration() called for configUrl='${OVIRT_CONF_FILE}'`);\n\n    const promises = [];\n    promises.push(doReadConfiguration({ dispatch }));\n    promises.push(doReadHostname({ dispatch }));\n\n    return cockpit.all(promises);\n}\n\n/**\n * Configuration can be changed by admin after installation\n * and is kept in separate file (out of manifest.json)\n * @param dispatch\n */\nfunction doReadConfiguration ({ dispatch }) {\n    // Configuration can be changed by admin after installation\n    // and so is kept in separate file (out of manifest.json)\n    return cockpit.file(OVIRT_CONF_FILE).read()\n        .done((content) => {\n            if (!content) {\n                console.info('Configuration file empty, post-installation setup follows to generate: ', OVIRT_CONF_FILE);\n                installationDialog();\n                return;\n            }\n\n            console.log(`Configuration file ${OVIRT_CONF_FILE} content is read ...`);\n            const config = JSON.parse(content);\n            console.log('... and parsed');\n            Object.assign(CONFIG, config);\n\n            MACHINES_CONFIG.isDev = CONFIG.debug;\n\n            if (CONFIG.Virsh && CONFIG.Virsh.connections) {\n                MACHINES_CONFIG.Virsh = CONFIG.Virsh; // adjust pkg/machines\n                CONFIG.Virsh = null; // not used anywhere else within pkg/ovirt\n                logDebug('Connection params for virsh: ', JSON.stringify(MACHINES_CONFIG.Virsh));\n            }\n\n            logDebug(`Configuration parsed, using merged result: ${JSON.stringify(CONFIG)}`);\n            return doLogin({ dispatch });\n        }).fail( () => {\n            console.info('Failed to read configuration, post-installation setup follows to generate: ', OVIRT_CONF_FILE);\n            installationDialog();\n        });\n}\n\nfunction storeSsoUri (location) {\n    const accessTokenStart = location.href.lastIndexOf('access_token=');\n    if (accessTokenStart >= 0) { // valid only if ovirt-cockpit-sso is involved\n        const ssoUri = location.href.substr(0, accessTokenStart + 'access_token='.length);\n        logDebug('storeSsoUri(): ', ssoUri);\n        window.sessionStorage.setItem('OVIRT_PROVIDER_SSO_URI', ssoUri);\n    }\n}\n\nfunction doReadHostname ({ dispatch }) {\n    let hostname = '';\n    return cockpit.spawn(['hostname', '-f'], {'err': 'message'})\n        .stream(data => {\n            hostname += data;\n        }).done(() => {\n            hostname = hostname.trim();\n            logDebug('hostname read: ', hostname);\n            waitForReducerSubtreeInit(() => dispatch(setHostname(hostname)));\n        }).fail(ex => {\n            console.error(\"Getting 'hostname' failed:\", ex);\n        });\n}\n\nfunction doLogin ({ dispatch }) {\n    logDebug('doLogin() called');\n\n    const location = window.top.location;\n    const tokenStart = location.hash.indexOf('token=');\n    let token = window.sessionStorage.getItem('OVIRT_PROVIDER_TOKEN'); // as default\n\n    logDebug(`location: '${location.toString()}'\\ntokenStart='${tokenStart}'\\ntoken='${token}'`);\n\n    if (tokenStart >= 0) { // TOKEN received as a part of URL has precedence\n        logDebug(`doLogin(): token from params stored to sessionStorage, now removing the token hash from the url`);\n        storeSsoUri(location);\n\n        token = location.hash.substr(tokenStart + 'token='.length);\n        window.sessionStorage.setItem('OVIRT_PROVIDER_TOKEN', token);\n        logDebug(`doLogin(): token from params stored to sessionStorage, now removing the token hash from the url. `, token);\n        window.top.location.hash = '';\n        return onLoginSuccessful({ dispatch, token});\n    } else if (token) { // found in the sessionStorrage\n        logDebug(`doLogin(): token found in sessionStorrage: ${token}`);\n        return onLoginSuccessful({ dispatch, token });\n    } else {\n        redirectToOvirtSSO();\n    }\n    return false;\n}\n\nfunction onLoginSuccessful ({ dispatch , token }) {\n    CONFIG.token = token;\n\n    // Turn-off user notification about progress\n    // Provider's reducer subtree must not be initialized at this point\n    waitForReducerSubtreeInit(() => dispatch(loginInProgress(false)));\n\n    return checkApiVersion({ dispatch });\n}\n\nexport function redirectToOvirtSSO () {\n    console.info('Redirecting to oVirt SSO');\n\n    // hack to get the dispatch() function without it's extensive passing in the call hierarchy\n    store.dispatch(loginInProgress(true)); // for expired token: force user notification to render; connection to oVirt SSO Login page might take a while\n\n    const baseUrl = getOvirtBaseUrl();\n    let authorizedRedirect = `${baseUrl}/web-ui/authorizedRedirect.jsp?redirectUrl=`;\n\n    let ssoUri = window.sessionStorage.getItem('OVIRT_PROVIDER_SSO_URI');\n    if (ssoUri) {\n        // https://[ENGINE_FQDN]:9986/=[OVIRT_HOST_UUID]/machines#access_token=[VALID_OVIRT_ACCESS_TOKEN]\n        ssoUri = ssoUri.replace('#', '__hash__');\n        authorizedRedirect = authorizedRedirect + `${ssoUri}TOKEN`;\n    } else {\n        const hostUrl = `https://${window.location.host}`;\n        authorizedRedirect = authorizedRedirect + `${hostUrl}/machines/__hash__token=TOKEN`;\n    }\n\n    console.info('Redirecting to oVirt SSO: ', authorizedRedirect);\n    window.top.location = authorizedRedirect;\n}\n\nfunction checkApiVersion ({ dispatch }) {\n    logDebug('checkApiVersion() started');\n\n    const failHandler = (data, ex) => {\n        logError('checkApiVersion(): failed to load oVirt API metadata');\n        setOvirtApiCheckResult(false);\n    };\n\n    return ovirtApiGet(\n        ``, // just the /ovirt-engine/api\n        {},\n        failHandler\n    ).then(data => {\n        logDebug('checkApiVersion() - API metadata retrieved: ', data);\n        const apiMetaData = JSON.parse(data);\n\n        if (!(apiMetaData && apiMetaData['product_info'] && apiMetaData['product_info']['version'] &&\n            apiMetaData['product_info']['version']['major'] && apiMetaData['product_info']['version']['minor'])) {\n            console.error('Incompatible oVirt API version: ', apiMetaData);\n\n            setOvirtApiCheckResult(false);\n            return ;\n        }\n\n        const actual = apiMetaData['product_info']['version'];\n        const passed = compareVersion({ major: parseInt(actual.major, 10), minor: parseInt(actual.minor, 10) }, REQUIRED_OVIRT_API_VERSION);\n\n        logDebug('checkApiVersion(): ', passed);\n        setOvirtApiCheckResult(passed);\n\n        if (passed) {\n            startOvirtPolling({ dispatch });\n        }\n    });\n}\n\nfunction compareVersion (actual, required) {\n    logDebug(`compareVersion(), actual=${JSON.stringify(actual)}, required=${JSON.stringify(required)}`);\n\n    // assuming backward compatibility of oVirt API\n    if (actual.major >= required.major) {\n        if (actual.major === required.major) {\n            if (actual.minor < required.minor) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/configFuncs.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nexport const INSTALL_SH = '/usr/share/cockpit/ovirt/install.sh';\n\nexport const OVIRT_CONF_FILE = '/etc/cockpit/machines-ovirt.config'; // relative URL for async download\nexport const VDSM_CONF_FILE = '/etc/vdsm/vdsm.conf';\nexport const PEM_FILE = '/etc/pki/vdsm/certs/cacert.pem';\nexport const OVIRT_DEFAULT_PORT = 443;\n\nexport const CONSOLE_TYPE_ID_MAP = {\n    // TODO: replace this by API call /vms/[ID]/graphicsconsoles for more flexibility\n    // but it's hardcoded in oVirt anyway ...\n    'spice': '7370696365',\n    'vnc': '766e63',\n    'rdp': 'rdp_not_yet_supported',\n};\n\n\nexport const REQUIRED_OVIRT_API_VERSION = {\n    major: 4,\n    minor: 0, // TODO: do not commit change, keep to 0!\n};\n\nconst CONFIG = { // will be dynamically replaced by content of CONFIG_FILE_URL within OVIRT_PROVIDER.init()\n    /**\n     * Set to false to turn off the debug logging\n     * See install.sh for production default.\n     */\n    debug: true,\n\n    OVIRT_FQDN: 'replace.by.engine.fqdn',\n    OVIRT_PORT: 443,\n\n    CONSOLE_CLIENT_RESOURCES_URL: 'https://www.ovirt.org/documentation/admin-guide/virt/console-client-resources/',\n\n    /**\n     * oVirt polling is not called more than once per this time period.\n     * Just single execution can be in progress at a time.\n     * The delay window starts since previous polling processing is finished.\n     * In ms.\n     *\n     * See install.sh for production default.\n     */\n    ovirt_polling_interval: 5000,\n\n    cockpitPort: 9090,\n\n    /**\n     * If optional 'Virsh' property is provided here, it will be injected\n     * to machines/config.es6 to adjust virsh connection parameters.\n     *\n     * See machines/config.es6\n     * See ovirt/configFuncs.es6:readConfiguration()\n     */\n    Virsh: {\n        connections: null,\n    },\n\n    /**\n     * oVirt SSO token, filled in login.js\n     */\n    token: null,\n};\n\nexport function getOvirtBaseUrl () {\n    return `https://${CONFIG.OVIRT_FQDN}:${CONFIG.OVIRT_PORT}/ovirt-engine`;\n}\n\nexport default CONFIG;\n\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/config.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\n\nimport CONFIG, { PEM_FILE } from './config.es6';\nimport { logDebug, logError } from '../machines/helpers.es6';\nimport { redirectToOvirtSSO } from './configFuncs.es6';\n\nlet httpClient = null;\n\n/**\n * Reusable Http Client to access oVirt API.\n * @returns {*}\n */\nfunction getHttpClient () {\n    if (!httpClient) {\n        httpClient = cockpit.http({\n            \"port\": CONFIG.OVIRT_PORT,\n            \"address\": CONFIG.OVIRT_FQDN,\n            \"tls\": {\n                \"authority\": {\n                    \"file\": PEM_FILE\n                },\n                \"key\": {\n                    \"file\": PEM_FILE\n                },\n                \"certificate\": {\n                    \"file\": PEM_FILE\n                }\n            }\n        });\n    }\n\n    return httpClient;\n}\n\n// TODO: use \"Filter: true\" header for non-admins\nexport function ovirtApiGet (resource, custHeaders, failHandler) {\n    const headers = Object.assign({}, {\n            'Accept': 'application/json',\n            'Content-Type': 'application/xml', // TODO: change to JSON once verified\n            'Authorization': 'Bearer ' + CONFIG.token\n        },\n        custHeaders);\n\n    const url = `/ovirt-engine/api/${resource}`;\n    logDebug(`ovirtApiGet(): resource: ${resource}, headers: ${JSON.stringify(headers)}, url: ${url}`);\n\n    return getHttpClient().get(url, null, headers)\n        .fail(function (exception, error) {\n            console.info(`HTTP GET failed: ${JSON.stringify(error)}, ${JSON.stringify(exception)}, url: `, url);\n            handleOvirtError({ error, exception, failHandler });\n        });\n}\n\nexport function ovirtApiPost (resource, body, failHandler) {\n    logDebug(`ovirtApiPost(): resource: ${resource}, body: ${body}`);\n\n    const headers = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/xml',\n        'Authorization': 'Bearer ' + CONFIG.token,\n    };\n\n    const url = `/ovirt-engine/api/${resource}`;\n    return getHttpClient().request({\n        method: 'POST',\n        path: url,\n        headers,\n        body,\n    }).fail(function (exception, error) {\n        console.info(`HTTP POST failed: ${JSON.stringify(error)}`, url);\n        handleOvirtError({ error, exception, failHandler });\n    });\n}\n\nexport function handleOvirtError ({ error, exception, failHandler }) {\n    if (!error) {\n        logError(`oVirt operation failed but no error received`);\n        return ;\n    }\n\n    console.info('handleOvirtError, error = ', error, 'exception = ', exception);\n\n    if (!exception) {\n        logError(`oVirt operation failed but no exception received`);\n        return ;\n    }\n\n    switch (exception.status) {\n        case 401: { // Unauthorized\n            // clear token from sessionStorage and refresh --> SSO will pass again\n            window.sessionStorage.setItem('OVIRT_PROVIDER_TOKEN', undefined); // see login.js\n            redirectToOvirtSSO();\n            return ; // never comes here\n        }\n        case 404: /* falls through */\n        default:\n            if (failHandler) {\n                try { // returned error might be JSON-formatted\n                    error = JSON.parse(error);\n                } catch (ex) {\n                    logDebug('handleOvirtError(): error is not a JSON string');\n                }\n\n                let data = error;\n                if (error.detail) {\n                    data = error.detail;\n                } else if (error.fault) {\n                    data = error.fault.detail || error.fault;\n                }\n\n                failHandler({ data, exception });\n            } else {\n                logError(`oVirt operation failed but no failHandler defined. Error: ${JSON.stringify(error)}`);\n            }\n    }\n}\n\n/**\n * Issue general-purpose HTTP GET.\n * Please use oVirtApiGet() to access the API instead.\n */\nexport function httpGet(address, port, resource) {\n    console.info('httpGet(): ', address, port, resource);\n    return cockpit.http({\n        \"port\": parseInt(port),\n        \"address\": address,\n        \"tls\": {\n            \"authority\": {\n                \"file\": PEM_FILE\n            },\n            \"key\": {\n                \"file\": PEM_FILE\n            },\n            \"certificate\": {\n                \"file\": PEM_FILE\n            }\n        }\n    }).get(resource);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/ovirtApiAccess.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\n\nimport {\n    pollOvirtAction,\n    updateHost,\n    removeHost,\n    updateVm,\n    removeVm,\n    updateTemplate,\n    removeTemplate,\n    updateCluster,\n    removeCluster,\n    downloadIcons,\n} from './actions.es6';\n\nimport {\n    clusterConverter,\n    vmConverter,\n    templateConverter,\n    hostConverter,\n} from './ovirtConverters.es6';\n\nimport { logDebug, logError } from '../machines/helpers.es6';\nimport { ovirtApiGet } from './ovirtApiAccess.es6';\nimport CONFIG from './config.es6';\nimport { isOvirtApiCheckPassed } from './provider.es6';\nimport { waitForCurrentCluster } from './selectors.es6';\n\nlet lastOvirtPoll = -1; // timestamp\n/**\n * Initiate polling of oVirt data.\n *\n * @param dispatch\n */\nexport function startOvirtPolling({ dispatch }) {\n    if (!isOvirtApiCheckPassed()) {\n        logDebug(`Skipping oVirt poling due to failed/unfinished oVirt API check`);\n        return;\n    }\n\n    window.setInterval(() => dispatch(pollOvirtAction()), 1000); // see pollOvirt(), polling will be effectively started less often\n}\n\n/**\n * Shortens the period for next oVirt event polling, so it will be executed at next earliest opportunity.\n *\n * Useful to shorten reaction after user action.\n */\nexport function forceNextOvirtPoll() {\n    lastOvirtPoll = -1;\n}\n\n/**\n * Ensure, the function `call()` is not executed more than once per timeperiod.\n */\nfunction callOncePerTimeperiod({ call, delay, lastCall }) {\n    const now = Date.now();\n\n    if (lastCall + delay <= now) {\n        return call();\n    }\n\n    return null;\n}\n\nexport function pollOvirt() {\n    return function (dispatch, getState) {\n        callOncePerTimeperiod({\n            lastCall: lastOvirtPoll,\n            delay: CONFIG.ovirt_polling_interval, // do not poll more than once per this period\n            call: () => {\n                if (cockpit.hidden) { // plugin is not visible in Cockpit\n                    logDebug('oVirt polling skipped since the plugin is not visible');\n                    return;\n                }\n\n                logDebug('Executing oVirt polling');\n                lastOvirtPoll = Infinity; // avoid parallel execution\n                return doRefreshEvents(dispatch, getState)\n                    .always(() => { // update the timestamp\n                        logDebug('oVirt polling finished');\n                        lastOvirtPoll = Date.now(); // single polling finished, re-enable it\n                    });\n            }\n        });\n    };\n}\n\nlet lastEventIndexReceived = -1; // oVirt strictly increases event indexes to allow incremental polling\nfunction doRefreshEvents(dispatch, getState) {\n    logDebug(`doRefreshEvents() called`);\n\n    let fullReload = false;\n    let params = `?from=${lastEventIndexReceived}`;\n    if (lastEventIndexReceived < 0) { // first run, take last event index and do full reload\n        params = '?max=1&search=sortby%20time%20desc'; // just the last one\n        fullReload = true;\n    }\n\n    const deferred = cockpit.defer();\n\n    ovirtApiGet(`events${params}`)\n        .done(data => {\n            const result = JSON.parse(data);\n            if (result && result.event && (result.event instanceof Array)) {\n                const vmsToRefresh = {};\n                const templatesToRefresh = {};\n                const hostsToRefresh = {};\n                const clustersToRefresh = {};\n\n                result.event.forEach(event => parseEvent(event, {\n                    vmsToRefresh,\n                    templatesToRefresh,\n                    hostsToRefresh,\n                    clustersToRefresh,\n                }));\n\n                const promises = [];\n\n                if (fullReload) { // first run\n                    promises.push(doRefreshClusters(dispatch));\n                    promises.push(doRefreshHosts(dispatch));\n\n                    promises.push(doRefreshVms(dispatch, getState));\n                    promises.push(doRefreshTemplates(dispatch, getState));\n                } else { // partial reload based on events only\n                    Object.getOwnPropertyNames(clustersToRefresh)\n                        .forEach(id => promises.push(doRefreshClusters(dispatch, id)));\n\n                    Object.getOwnPropertyNames(hostsToRefresh)\n                        .forEach(id => promises.push(doRefreshHosts(dispatch, id)));\n\n                    Object.getOwnPropertyNames(vmsToRefresh)\n                        .forEach(id => promises.push(doRefreshVms(dispatch, getState, id)));\n\n                    Object.getOwnPropertyNames(templatesToRefresh)\n                        .forEach(id => promises.push(doRefreshTemplates(dispatch, getState, id)));\n                }\n\n                cockpit.all(promises)\n                    .then(() => deferred.resolve())\n                    .fail((r) => deferred.reject(r));\n            } else {\n                if (result && Object.getOwnPropertyNames(result).length === 0) { // no new events\n                    logDebug('No new oVirt events received');\n                    deferred.resolve();\n                } else {\n                    logError('doRefreshEvents() failed, data: ', data, ', result: ', result);\n                    deferred.reject('Array of events expected');\n                }\n            }\n        }).fail(() => {\n            logError('Failed to retrieve oVirt events');\n            deferred.reject('Failed to retrieve oVirt events');\n        });\n\n    return deferred.promise;\n}\n\nfunction parseEvent(event, { vmsToRefresh, templatesToRefresh, hostsToRefresh, clustersToRefresh }) {\n    logDebug('parseEvent: ', event);\n    const eventIndex = parseInt(event.index);\n    lastEventIndexReceived = (lastEventIndexReceived < eventIndex) ? eventIndex : lastEventIndexReceived;\n\n    // TODO: improve refresh decision based on event type and not just on presence of related resource\n    if (event.host && event.host.id) {\n        hostsToRefresh[event.host.id] = true;\n    }\n\n    if (event.vm && event.vm.id) {\n        vmsToRefresh[event.vm.id] = true;\n    }\n\n    if (event.template && event.template.id) {\n        templatesToRefresh[event.template.id] = true;\n    }\n\n    if (event.cluster && event.cluster.id) {\n        clustersToRefresh[event.cluster.id] = true;\n    }\n}\n\nfunction doRefreshHosts(dispatch, hostId) {\n    return doRefreshResource(dispatch, 'hosts', hostId, parseHosts, removeHost);\n}\n\nfunction doRefreshClusters(dispatch, clusterId) {\n    return doRefreshResource(dispatch, 'clusters', clusterId, parseClusters, removeCluster);\n}\n\nfunction doRefreshVms(dispatch, getState, vmId) {\n    return doRefreshResourceWithCurrentCluster(dispatch, getState, 'vms', vmId, parseVms, removeVm, true);\n}\n\nfunction doRefreshTemplates(dispatch, getState, templateId) {\n    return doRefreshResourceWithCurrentCluster(dispatch, getState, 'templates', templateId, parseTemplates, removeTemplate, false);\n}\n\nfunction parseVms(deferred, data, dispatch, currentCluster) {\n    const filterPredicate = vm => vm.cluster && vm.cluster.id === currentCluster.id;\n\n    const allIconIds = {}; // used as a set\n    const collectIconIds = vm => {\n        if (vm.large_icon) {\n            allIconIds[vm.large_icon.id] = true;\n        }\n        if (vm.small_icon) {\n            allIconIds[vm.small_icon.id] = true;\n        }\n    };\n\n    parseResourceGeneric(data, dispatch, 'vm', vmConverter, updateVm, filterPredicate, deferred, collectIconIds);\n    dispatch(downloadIcons({ iconIds: allIconIds, forceReload: false }));\n}\n\nfunction parseTemplates(deferred, data, dispatch, currentCluster) {\n    const filterPredicate = (template) => !template.cluster || template.cluster.id === currentCluster.id;\n    parseResourceGeneric(data, dispatch, 'template', templateConverter, updateTemplate, filterPredicate, deferred);\n}\n\nfunction parseHosts(data, dispatch) {\n    parseResourceGeneric(data, dispatch, 'host', hostConverter, updateHost);\n}\n\nfunction parseClusters(data, dispatch) {\n    parseResourceGeneric(data, dispatch, 'cluster', clusterConverter, updateCluster);\n}\n\n/**\n * Generic function to parse received oVirt JSON resource string and update redux store.\n */\nfunction parseResourceGeneric(data, dispatch, name, converterFunction, updateAction, filterPredicate, deferred, resourceCallback) {\n    const alwaysTrue = () => true;\n    filterPredicate = filterPredicate || alwaysTrue;\n\n    const result = JSON.parse(data);\n    if (result && result[name] && (result[name] instanceof Array)) {\n        result[name]\n            .filter(filterPredicate)\n            .forEach( resource => {\n                if (resourceCallback) {\n                    resourceCallback(resource);\n                }\n                dispatch(updateAction(converterFunction(resource)));\n            });\n\n        if (deferred) {\n            deferred.resolve();\n        }\n    } else if (result && result.id) { // single entry\n        if (resourceCallback) {\n            resourceCallback(result);\n        }\n        dispatch(updateAction(converterFunction(result)));\n        if (deferred) {\n            deferred.resolve();\n        }\n    } else {\n        if (result && Object.getOwnPropertyNames(result).length === 0) { // no resource received\n            logDebug(`No oVirt '${name}' received`);\n        } else {\n            logError('parseResourceGeneric() failed, name: ', name, ', data:\\n', data, '\\n, result:\\n', result);\n        }\n\n        if (deferred) {\n            deferred.reject(result);\n        }\n    }\n}\n\n/**\n * Generic function to refresh oVirt API resource\n */\nfunction doRefreshResource(dispatch, name, resourceId, parserFunction, removeAction) {\n    const url = `${name}${resourceId ? `/${resourceId}` : ''}`;\n    logDebug(`doRefreshResource() called for ${url}`);\n\n    return ovirtApiGet(url)\n        .done(data => parserFunction(data, dispatch))\n        .fail(data => {\n            console.info(`Failed to get ${url}, `, data);\n            if (resourceId) {\n                console.info(`The ${name} ${resourceId} is about to be removed from the list.`);\n                dispatch(removeAction(resourceId));\n            }\n        });\n}\n\n/**\n * Like doRefreshResource() but waits for 'cluster' to be loaded\n */\nfunction doRefreshResourceWithCurrentCluster(dispatch, getState, name, resourceId, parserFunction, removeAction, isApiSearchOnCluster ) {\n    logDebug(`doRefreshResourceWithCurrentCluster() called, name=${name}, resourceId=${resourceId} `);\n\n    const deferred = cockpit.defer();\n\n    waitForCurrentCluster(getState)\n        .done(currentCluster => {\n            logDebug(`Reading ${name} for currentCluster: `, currentCluster);\n\n            let url = isApiSearchOnCluster ? `${name}?search=cluster%3D${currentCluster.name}` : `${name}`; // special case for templates - no way to get cluster templates + Blank from API\n            if (resourceId) {\n                url = `${name}/${resourceId}`; // currently no way to filter on cluster for single resource\n            }\n\n            logDebug('doRefreshResourceWithCurrentCluster(), url: ', url);\n            ovirtApiGet(url) // TODO: consider paging; there might be thousands of resources within initial load\n                .done(data => parserFunction(deferred, data, dispatch, currentCluster))\n                .fail(data => {\n                    console.info(`Failed to get ${url}, `, data);\n                    if (resourceId) {\n                        console.info(`The ${name} ${resourceId} is about to be removed from the list.`);\n                        dispatch(removeAction(resourceId));\n                    }\n                    deferred.reject(data);\n                });\n        }).fail((reason) => deferred.reject(reason));\n\n    return deferred.promise;\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/ovirt.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport { virt } from '../machines/provider.es6';\n\nexport function suspendVm({ id, name, connectionName }) {\n    return virt('SUSPEND_VM', { id, name, connectionName });\n}\n\nexport function migrateVm (vmId, vmName, hostId) {\n    return virt('MIGRATE_VM', { vmId, vmName, hostId });\n}\n\nexport function pollOvirtAction() {\n    return virt('POLL_OVIRT', { });\n}\n\nexport function downloadIcons ({ iconIds, forceReload }) {\n    return virt('DOWNLOAD_ICONS', { iconIds, forceReload });\n}\n\nexport function downloadIcon ({ iconId }) {\n    return virt('DOWNLOAD_ICON', { iconId });\n}\n\nexport function startVm(vm, hostName) { // matches action creator in ../machines/actions.es6\n    return virt('START_VM', { name: vm.name, id: vm.id, connectionName: vm.connectionName, hostName });\n}\n\nexport function createVmFromTemplate ({ templateName, clusterName, vm }) {\n    return virt('CREATE_VM_FROM_TEMPLATE', { templateName, clusterName, vm });\n}\n\nexport function switchHostToMaintenance ({ hostId }) {\n    return virt('HOST_TO_MAINTENANCE', { hostId });\n}\n\nexport function updateHost(host) {\n    return {\n        type: 'OVIRT_UPDATE_HOST',\n        payload: host\n    };\n}\n\nexport function removeHost(id) {\n    return {\n        type: 'OVIRT_REMOVE_HOST',\n        payload: {\n            id,\n        }\n    };\n}\n\nexport function updateVm(vm) {\n    return {\n        type: 'OVIRT_UPDATE_VM',\n        payload: vm\n    };\n}\n\nexport function removeVm(id) {\n    return {\n        type: 'OVIRT_REMOVE_VM',\n        payload: {\n            id,\n        }\n    };\n}\n\nexport function updateTemplate(template) {\n    return {\n        type: 'OVIRT_UPDATE_TEMPLATE',\n        payload: template\n    };\n}\n\nexport function removeTemplate(id) {\n    return {\n        type: 'OVIRT_REMOVE_TEMPLATE',\n        payload: {\n            id,\n        }\n    };\n}\n\nexport function updateCluster(cluster) {\n    return {\n        type: 'OVIRT_UPDATE_CLUSTER',\n        payload: cluster\n    };\n}\n\nexport function removeCluster(id) {\n    return {\n        type: 'OVIRT_REMOVE_CLUSTER',\n        payload: {\n            id,\n        }\n    };\n}\n\nexport function updateIcon(icon) {\n    return {\n        type: 'OVIRT_UPDATE_ICON',\n        payload: icon\n    };\n}\n\nexport function loginInProgress(isInProgress) {\n    return {\n        type: 'OVIRT_LOGIN_IN_PROGRESS',\n        payload: {\n            loginInProgress: isInProgress\n        }\n    };\n}\n\nexport function goToSubpage (target) {\n    return {\n        type: 'OVIRT_GOTO_SUBPAGE',\n        payload: {\n            target,\n        },\n    };\n}\n\nexport function setHostname(hostname) {\n    return {\n        type: 'OVIRT_SET_HOSTNAME',\n        payload: {\n            hostname,\n        }\n    };\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/actions.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * @param cluster - parsed oVirt resource\n */\nexport function clusterConverter(cluster) {\n    return {\n        id: cluster.id,\n        name: cluster.name,\n        // TODO: add more, if needed\n    };\n}\n\nexport function hostConverter(host) {\n    return {\n        id: host.id,\n        name: host.name,\n        address: host.address,\n        clusterId: host.cluster ? host.cluster.id : undefined,\n        status: host.status,\n        memory: host.memory,\n        cpu: host.cpu ? {\n            name: host.cpu.name,\n            speed: host.cpu.speed,\n            topology: host.cpu.topology ? {\n                sockets: host.cpu.topology.sockets,\n                cores: host.cpu.topology.cores,\n                threads: host.cpu.topology.threads\n            } : undefined\n        } : undefined,\n        // summary\n        // vdsm version\n        // libvirt_version\n    };\n}\n\nexport function templateConverter(template) {\n    return {\n        id: template.id,\n        name: template.name,\n        description: template.description,\n        cpu: {\n            architecture: template.cpu.architecture,\n            topology: {\n                sockets: template.cpu.topology.sockets,\n                cores: template.cpu.topology.cores,\n                threads: template.cpu.topology.threads\n            }\n        },\n        memory: template.memory,\n        creationTime: template.creation_time,\n\n        highAvailability: template.high_availability,\n        icons: {\n            largeId: template.large_icon ? template.large_icon.id : undefined,\n            smallId: template.small_icon ? template.small_icon.id : undefined,\n        },\n        os: {\n            type: template.os.type\n        },\n        stateless: template.stateless,\n        type: template.type, // server, desktop\n        version: {\n            name: template.version ? template.version.name : undefined,\n            number: template.version ? template.version.number : undefined,\n            baseTemplateId: template.version && template.version.base_template ? template.version.base_template.id : undefined,\n        },\n\n        // bios\n        // display\n        // migration\n        // memory_policy\n        // os.boot\n        // start_paused\n        // usb\n    };\n}\n\nexport function vmConverter(vm) {\n    return {\n        id: vm.id,\n        name: vm.name,\n        state: mapOvirtStatusToLibvirtState(vm.status),\n        description: vm.description,\n        highAvailability: vm.high_availability,\n        icons: {\n            largeId: vm.large_icon && vm.large_icon.id || undefined,\n            smallId: vm.small_icon && vm.small_icon.id || undefined,\n        },\n        memory: vm.memory,\n        cpu: {\n            architecture: vm.cpu.architecture,\n            topology: {\n                sockets: vm.cpu.topology.sockets,\n                cores: vm.cpu.topology.cores,\n                threads: vm.cpu.topology.threads\n            }\n        },\n        origin: vm.origin,\n        os: {\n            type: vm.os.type\n        },\n        type: vm.type, // server, desktop\n        stateless: vm.stateless,\n        clusterId: vm.cluster.id,\n        templateId: vm.template.id,\n        hostId: vm.host ? vm.host.id : undefined,\n        fqdn: vm.fqdn,\n        startTime: vm.start_time, // in milliseconds since 1970/01/01\n    };\n}\n\nfunction mapOvirtStatusToLibvirtState(ovirtStatus) {\n    switch (ovirtStatus) {// TODO: finish - add additional states\n        case 'up': return 'running';\n        case 'down': return 'shut off';\n        default:\n            return ovirtStatus;\n    }\n}\n\nexport function oVirtIconToInternal(ovirtIcon) {\n    return {\n        id: ovirtIcon.id,\n        type: ovirtIcon['media_type'],\n        data: ovirtIcon.data,\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/ovirtConverters.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\n\nimport { getHostAddress } from './helpers.es6';\nimport { logDebug, logError } from '../machines/helpers.es6';\n\nexport function getAllIcons (state) {\n    return state.config && state.config.providerState ? state.config.providerState.icons : {};\n}\n\nexport function getHost(hosts, ovirtConfig) {\n    if (!hosts) {\n        return null;\n    }\n\n    // match by browser URL first\n    const hostAddress = getHostAddress();\n    let hostId = Object.getOwnPropertyNames(hosts).find(hostId => hosts[hostId].address === hostAddress);\n\n    // match by system's hostname as fallback\n    if (!hostId && ovirtConfig && ovirtConfig.hostname) {\n        hostId = Object.getOwnPropertyNames(hosts).find(hostId => hosts[hostId].address === ovirtConfig.hostname);\n    }\n\n    return hostId && hosts[hostId];\n}\n\nexport function getCurrentClusterFromState(state) {\n    return getCurrentCluster(state.config.providerState.hosts, state.config.providerState.clusters, state.config.providerState.ovirtConfig);\n}\n\nexport function getCurrentCluster (hosts, clusters, ovirtConfig) {\n    const currentHost = getHost(hosts, ovirtConfig);\n    if (!currentHost || !clusters || !currentHost.clusterId) {\n        return null;\n    }\n\n    return clusters[currentHost.clusterId];\n}\n\nexport function isVmManagedByOvirt (providerState, vmId) {\n    return vmId && providerState && !!providerState.vms[vmId];\n}\n\nfunction _waitForCurrentCluster(deferred, getState, counter) {\n    if (counter <= 0) {\n        logError('waitForCurrentCluster(): timeout reached, list of hosts and/or clusters has not yet finished');\n        deferred.reject();\n    }\n\n    logDebug('Sleeping in _waitForCurrentCluster(), ', counter);\n    window.setTimeout(() => {\n        const currentCluster = getCurrentClusterFromState(getState());\n        if (currentCluster) {\n            deferred.resolve(currentCluster);\n        } else {\n            _waitForCurrentCluster(deferred, getState, counter - 1);\n        }\n    }, 250);\n}\n\nexport function waitForCurrentCluster(getState) {\n    let currentCluster = getCurrentClusterFromState(getState());\n    if (currentCluster) {\n        return cockpit.resolve(currentCluster);\n    }\n\n    const deferred = cockpit.defer();\n    logDebug('Waiting for list of clusters and hosts to be loaded');\n\n    _waitForCurrentCluster(deferred, getState, 20);\n\n    return deferred.promise;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/selectors.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\n\nexport function getHostAddress() {\n    const localHost = window.location.host;\n    const localAddress = localHost.substring(0, localHost.indexOf(':'));\n    return localAddress;\n}\n\nexport function isSameHostAddress(hostAddress) {\n    return getHostAddress() === hostAddress;\n}\n\nexport function toGigaBytes(amount, currentUnit) {\n    let result;\n    switch (currentUnit) {\n        case 'B':\n            result = amount / 1024 / 1024 / 1024;\n            break;\n        case 'KiB':\n            result = amount / 1024 / 1024;\n            break;\n        default:\n            console.error(`toGigaBytes(): unknown unit: ${currentUnit}`);\n            result = amount / 1;\n    }\n\n    if (result < 1) {\n        result = result.toFixed(2);\n    } else {\n        const fixed1 = result.toFixed(1);\n        result = (result - fixed1 === 0) ? result.toFixed(0) : fixed1;\n    }\n\n    return result;\n}\n\nexport function valueOrDefault(value, def) {\n    return (value === undefined || value === null) ?  def : value;\n}\n\nexport function isNumeric(value) {\n    return /^\\d+$/.test(value);\n}\n\n/**\n * \"Month Number Hour:Minute\" (ie. September 17 18:15)\n * or \"August 12, 2016 20:15\" if the year is different from actual\n */\nexport function formatDateTime (milliseconds) {\n    const now = new Date(); // Should be server time (not browser), but do we care for decision about the year difference?\n    const date = new Date(milliseconds);\n    const isYearDifferent = (now.getUTCFullYear() - date.getUTCFullYear()) !== 0;\n\n    if(isNaN(date.getTime())) {\n        return ''; // invalid date\n    }\n\n    const options = {\n        month: 'long',\n        year: isYearDifferent ? 'numeric' : undefined,\n        day: 'numeric',\n        hour: 'numeric',\n        hour12: false,\n        minute: 'numeric',\n    };\n\n    let localeString = date.toLocaleString(cockpit.language || 'en', options);\n    localeString = localeString.replace(/,([^,]*)$/,'$1'); // remove ',' before time\n    return localeString;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/helpers.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from 'cockpit';\nimport React from 'react';\n\nimport { INSTALL_SH, OVIRT_DEFAULT_PORT } from '../config.es6';\nimport { httpGet } from '../ovirtApiAccess.es6';\nimport { logError } from '../../machines/helpers.es6';\nimport { isNumeric } from '../helpers.es6';\n\nimport { show_modal_dialog } from 'cockpit-components-dialog.jsx';\n\nimport './InstallationDialog.css';\n\nconst _ = cockpit.gettext;\n\nReact;\n\nconst INSTALL_SH_ERRORS = {\n    '1': _(\"oVirt Provider installation script failed due to missing arguments.\"),\n    '3': _(\"oVirt Provider installation script failed: Can't write to /etc/cockpit/machines-ovirt.config, try as root.\"),\n};\n\nconst InstallationDialogBody = ({ values, onChange }) => {\n    return (\n        <div className='modal-body'>\n            <table className='form-table-ct'>\n                <tr>\n                    <td className='top'>\n                        <label className='control-label' for='ovirt-provider-install-dialog-engine-fqdn'>\n                            {_(\"FQDN\")}\n                        </label>\n                    </td>\n                    <td>\n                        <input id='ovirt-provider-install-dialog-engine-fqdn'\n                               className='form-control'\n                               type='text'\n                               placeholder='engine.mydomain.com'\n                               onChange={(event) => {\n                                       values.oVirtUrl = event.target.value;\n                                       onChange();\n                                   }}\n                        />\n                    </td>\n                </tr>\n                <tr>\n                    <td className='top'>\n                        <label className='control-label' for='ovirt-provider-install-dialog-engine-port'>\n                            {_(\"Port\")}\n                        </label>\n                    </td>\n                    <td>\n                        <input id='ovirt-provider-install-dialog-engine-fqdn'\n                               className='form-control'\n                               type='text'\n                               placeholder={OVIRT_DEFAULT_PORT}\n                               onChange={(event) => {\n                                   values.oVirtPort = isNumeric(event.target.value) ? event.target.value : values.oVirtPort;\n                                   onChange();\n                               }}\n                        />\n                    </td>\n                </tr>\n                <tr>\n                    <td colSpan='2'>\n                        <p>\n                            {_(\"Please provide fully qualified domain name and port of the oVirt engine.\")}\n                        </p>\n                    </td>\n                </tr>\n            </table>\n        </div>\n    );\n}\n\nfunction installationDialog() {\n    // TODO: check for root user (permission to write to configuration file)\n\n    const values = {\n        oVirtUrl: null,\n        oVirtPort: OVIRT_DEFAULT_PORT,\n    };\n\n    const dlg = show_modal_dialog(\n        { title: _(\"Connect to oVirt Engine\"),\n          body: <InstallationDialogBody values={values} onChange={() => dlg.render()}/>\n        },\n        { actions: [\n            { caption: _(\"Register oVirt\"),\n                style: 'primary',\n                clicked: () => {\n                    return configureOvirtUrl(values.oVirtUrl, values.oVirtPort);\n                }\n            }\n        ]\n        });\n}\n\n/**\n * Run cockpit/ovirt/install.sh script to configure\n *\n * @param oVirtUrl\n * @returns {boolean}\n */\nfunction configureOvirtUrl(oVirtFqdn, oVirtPort) {\n    console.info('configureOvirtUrl: ', oVirtFqdn, oVirtPort);\n\n    const dfd = cockpit.defer();\n    dfd.notify(_(\"Registering oVirt to Cockpit\"));\n\n    const failHandler = (ex, data) => {\n        if (ex && ex.status === 302) { // Found, redirects would follow\n            doRegisterOvirt(oVirtFqdn, oVirtPort, dfd);\n            return ;\n        }\n\n        console.info('Unable to access oVirt engine: ', JSON.stringify(ex), JSON.stringify(data));\n        dfd.reject(_(\"Please provide valid oVirt engine fully qualified domain name (FQDN) and port (443 by default)\"));\n    };\n\n    httpGet( // make a dummy request to verify just the FQDN:PORT\n        oVirtFqdn,\n        oVirtPort,\n        '/ovirt-engine' // contextRoot - just the main page, the API would require authorization\n    ).then(() => {\n        doRegisterOvirt(oVirtFqdn, oVirtPort, dfd);\n    }).fail(failHandler);\n\n    return dfd.promise;\n}\n\nfunction doRegisterOvirt(oVirtFqdn, oVirtPort, dfd) {\n    console.info('configureOvirtUrl() - oVirt engine connection can be established', oVirtFqdn, oVirtPort);\n    cockpit.spawn(['bash', INSTALL_SH, oVirtFqdn, oVirtPort], {\"superuser\": \"try\"})\n        .done(function () {\n            console.info('oVirt installation script was successful');\n            window.location.reload(); // to force configuration reload\n            dfd.resolve();\n        })\n        .fail(function (ex, data) {\n            logError('oVirt installation script failed. Exception: ', JSON.stringify(ex), ', output: ', JSON.stringify(data));\n\n            let errMsg = _(\"oVirt installation script failed with following output: \") + (ex.message || data);\n            if (ex.exit_status && ex.exit_status >= 1) {\n                errMsg = INSTALL_SH_ERRORS[ex.exit_status] || errMsg;\n            }\n            dfd.reject(errMsg);\n        });\n}\n\nexport default installationDialog;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/InstallationDialog.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar cockpit = require(\"cockpit\");\nvar React = require(\"react\");\nvar _ = cockpit.gettext;\n\nrequire(\"page.css\");\n\n/*\n * React template for a Cockpit dialog footer\n * It can display an error, wait for an action to complete,\n * has a 'Cancel' button and an action button (defaults to 'OK')\n * Expected props:\n *  - cancel_clicked optional\n *     Callback called when the dialog is canceled\n *  - cancel_style\n *     css class used for the cancel button, defaults to 'cancel'\n *  - cancel_caption optional, defaults to 'Cancel'\n *  - list of actions, each an object with:\n *      - clicked\n *         Callback function that is expected to return a promise.\n *         parameter: callback to set the progress text (will be displayed next to spinner)\n *      - caption optional, defaults to 'Ok'\n *      - disabled optional, defaults to false\n *      - style defaults to 'default', other options: 'primary', 'danger'\n *  - static_error optional, always show this error\n *  - dialog_done optional, callback when dialog is finished (param true if success, false on cancel)\n */\nvar DialogFooter = React.createClass({\n    propTypes: {\n        cancel_clicked: React.PropTypes.func,\n        cancel_caption: React.PropTypes.string,\n        actions: React.PropTypes.array,\n        static_error: React.PropTypes.string,\n        dialog_done: React.PropTypes.func,\n    },\n    getInitialState: function() {\n        return {\n            action_in_progress: false,\n            action_in_progress_promise: null,\n            action_progress_message: '',\n            action_canceled: false,\n            error_message: null,\n        };\n    },\n    keyUpHandler: function(e) {\n        if (e.keyCode == 27) {\n            this.cancel_click();\n            e.stopPropagation();\n        }\n    },\n    componentDidMount: function() {\n        document.body.classList.add(\"modal-in\");\n        document.addEventListener('keyup', this.keyUpHandler.bind(this));\n    },\n    componentWillUnmount: function() {\n        document.body.classList.remove(\"modal-in\");\n        document.removeEventListener('keyup', this.keyUpHandler.bind(this));\n    },\n    update_progress: function(msg) {\n        this.setState({ action_progress_message: msg });\n    },\n    action_click: function(handler, e) {\n        // only consider clicks with the primary button\n        if (e && e.button !== 0)\n            return;\n        var self = this;\n        this.setState({\n                          error_message: null,\n                          action_progress_message: '',\n                          action_in_progress: true,\n                          action_canceled: false,\n                      });\n        this.state.action_in_progress_promise = handler(this.update_progress.bind(this))\n            .done(function() {\n                self.setState({ action_in_progress: false, error_message: null });\n                if (self.props.dialog_done)\n                    self.props.dialog_done(true);\n            })\n            .fail(function(error) {\n                if (self.state.action_canceled) {\n                    if (self.props.dialog_done)\n                        self.props.dialog_done(false);\n                }\n\n                /* Always log global dialog errors for easier debugging */\n                console.warn(error);\n\n                self.setState({ action_in_progress: false, error_message: error });\n            })\n            .progress(this.update_progress.bind(this));\n        if (e)\n            e.stopPropagation();\n    },\n    cancel_click: function(e) {\n        // only consider clicks with the primary button\n        if (e && e.button !== 0)\n            return;\n\n        this.setState({ action_canceled: true });\n\n        if (this.props.cancel_clicked)\n            this.props.cancel_clicked();\n\n        // an action might be in progress, let that handler decide what to do if they added a cancel function\n        if (this.state.action_in_progress && 'cancel' in this.state.action_in_progress_promise) {\n            this.state.action_in_progress_promise.cancel();\n            return;\n        }\n\n        if (this.props.dialog_done)\n            this.props.dialog_done(false);\n        if (e)\n            e.stopPropagation();\n    },\n    render: function() {\n        var cancel_caption, cancel_style;\n        if ('cancel_caption' in this.props)\n            cancel_caption = this.props.cancel_caption;\n        else\n            cancel_caption = _(\"Cancel\");\n\n        if ('cancel_style' in this.props)\n            cancel_style = this.props.cancel_style;\n        else\n            cancel_style = \"cancel\";\n        cancel_style = \"btn btn-default \" + cancel_style;\n\n        // If an action is in progress, show the spinner with its message and disable all actions except cancel\n        var wait_element;\n        var actions_disabled;\n        if (this.state.action_in_progress) {\n            actions_disabled = 'disabled';\n            wait_element = <div className=\"dialog-wait-ct pull-left\">\n                               <div className=\"spinner spinner-sm\"></div>\n                               <span>{ this.state.action_progress_message }</span>\n                           </div>;\n        }\n\n        var self = this;\n        var action_buttons = this.props.actions.map(function(action) {\n            var caption;\n            if ('caption' in action)\n                caption = action.caption;\n            else\n                caption = _(\"Ok\");\n\n            var button_style = \"btn-default\";\n            var button_style_mapping = { 'primary': 'btn-primary', 'danger': 'btn-danger' };\n            if ('style' in action && action.style in button_style_mapping)\n                button_style = button_style_mapping[action.style];\n            button_style = \"btn \" + button_style + \" apply\";\n            var action_disabled = actions_disabled || ('disabled' in action && action.disabled);\n            return (<button\n                    key={ caption }\n                    className={ button_style }\n                    onClick={ self.action_click.bind(self, action.clicked) }\n                    disabled={ action_disabled }\n                    >{ caption }</button>\n            );\n        });\n\n        // If we have an error message, display the error\n        var error_element;\n        var error_message;\n        if (this.props.static_error !== undefined && this.props.static_error !== null)\n            error_message = this.props.static_error;\n        else\n            error_message = this.state.error_message;\n        if (error_message) {\n            error_element = <div className=\"alert alert-danger dialog-error\">\n                                <span className=\"fa fa-exclamation-triangle\"></span>\n                                <span>{ error_message }</span>\n                            </div>;\n        }\n        return (\n            <div className=\"modal-footer\">\n                { error_element }\n                { wait_element }\n                <button\n                    className={ cancel_style }\n                    onClick={ this.cancel_click.bind(this) }\n                    >{ cancel_caption }</button>\n                { action_buttons }\n            </div>\n        );\n    }\n});\n\n/*\n * React template for a Cockpit dialog\n * The primary action button is disabled while its action is in progress (waiting for promise)\n * Removes focus on other elements on showing\n * Expected props:\n *  - title (string)\n *  - no_backdrop optional, skip backdrop if true\n *  - body (react element, top element should be of class modal-body)\n *      It is recommended for information gathering dialogs to pass references\n *      to the input components to the controller. That way, the controller can\n *      extract all necessary information (e.g. for input validation) when an\n *      action is triggered.\n *  - footer (react element, top element should be of class modal-footer)\n *  - id optional, id that is assigned to the top level dialog node, but not the backdrop\n */\nvar Dialog = React.createClass({\n    propTypes: {\n        title: React.PropTypes.string.isRequired,\n        no_backdrop: React.PropTypes.bool,\n        body: React.PropTypes.element.isRequired,\n        footer: React.PropTypes.element.isRequired,\n        id: React.PropTypes.string,\n    },\n    componentDidMount: function() {\n        // if we used a button to open this, make sure it's not focused anymore\n        if (document.activeElement)\n            document.activeElement.blur();\n    },\n    render: function() {\n        var backdrop;\n        if (!this.props.no_backdrop) {\n            backdrop = <div className=\"modal-backdrop fade in\"></div>;\n        }\n        return (\n            <div>\n                { backdrop }\n                <div className=\"modal fade in dialog-ct-visible\" tabindex=\"-1\">\n                    <div id={this.props.id} className=\"modal-dialog\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h4 className=\"modal-title\">{ this.props.title }</h4>\n                            </div>\n                            { this.props.body }\n                            { this.props.footer }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\n/* Create and show a dialog\n * For this, create a containing DOM node at the body level\n * The returned object has the following methods:\n *     - setFooterProps replace the current footerProps and render\n *     - setProps       replace the current props and render\n *     - render         render again using the stored props\n * The DOM node and React metadata are freed once the dialog has closed\n */\nvar show_modal_dialog = function(props, footerProps) {\n    var dialogName = 'cockpit_modal_dialog';\n    // don't allow nested dialogs\n    if (document.getElementById(dialogName)) {\n        console.warn('Unable to create nested dialog');\n        return;\n    }\n    // create an element to render into\n    var rootElement = document.createElement(\"div\");\n    rootElement.id = dialogName;\n    document.body.appendChild(rootElement);\n\n    // register our own on-close callback\n    var origCallback;\n    var closeCallback = function() {\n        if (origCallback)\n            origCallback.apply(this, arguments);\n        React.unmountComponentAtNode(rootElement);\n        rootElement.remove();\n    };\n\n    var dialogObj = { };\n    dialogObj.props = null;\n    dialogObj.footerProps = null;\n    dialogObj.render = function() {\n        dialogObj.props.footer = <DialogFooter {...dialogObj.footerProps} />;\n        React.render(<Dialog {...dialogObj.props} />, rootElement);\n    };\n    function updateFooterAndRender() {\n        if (dialogObj.props === null || dialogObj.props === undefined)\n            dialogObj.props = { };\n        dialogObj.props.footer = <DialogFooter {...dialogObj.footerProps} />;\n        dialogObj.render();\n    }\n    dialogObj.setFooterProps = function(footerProps) {\n        /* Always log error messages to console for easier debugging */\n        if (footerProps.static_error)\n            console.warn(footerProps.static_error);\n        dialogObj.footerProps = footerProps;\n        if (dialogObj.footerProps === null || dialogObj.footerProps === undefined)\n            dialogObj.footerProps = { };\n        if (dialogObj.footerProps.dialog_done != closeCallback) {\n            origCallback = dialogObj.footerProps.dialog_done;\n            dialogObj.footerProps.dialog_done = closeCallback;\n        }\n        updateFooterAndRender();\n    };\n    dialogObj.setProps = function(props) {\n        dialogObj.props = props;\n        updateFooterAndRender();\n    };\n    dialogObj.setFooterProps(footerProps);\n    dialogObj.setProps(props);\n\n    // now actually render\n    dialogObj.render();\n\n    return dialogObj;\n};\n\nmodule.exports = {\n    Dialog: Dialog,\n    DialogFooter: DialogFooter,\n    show_modal_dialog: show_modal_dialog,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-dialog.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport { logDebug } from '../machines/helpers.es6';\n\n// TODO: consider immutableJS\n// TODO: reducers share common code - generalize\n\nfunction removeResource(state, id) {\n    if (state[id]) {\n        const newState = Object.assign({}, state);\n        delete newState[id];\n        return newState;\n    }\n    return state;\n\n}\n\nfunction hostsReducer (state, action) {\n    state = state || {}; // object of 'hostId: host'\n\n    switch (action.type) {\n        case 'OVIRT_UPDATE_HOST':\n        {\n            const newState = Object.assign({}, state);\n            newState[action.payload.id] = newState[action.payload.id] || {};\n            Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n            return newState;\n        }\n        case 'OVIRT_REMOVE_HOST':\n        {\n            return removeResource(state, action.payload.id);\n        }\n        default:\n            return state;\n    }\n}\n\nfunction clustersReducer (state, action) {\n    state = state || {}; // object of 'clusterId: cluster'\n\n    switch (action.type) {\n        case 'OVIRT_UPDATE_CLUSTER':\n        {\n            const newState = Object.assign({}, state);\n            newState[action.payload.id] = newState[action.payload.id] || {};\n            Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n            return newState;\n        }\n        case 'OVIRT_REMOVE_CLUSTER':\n        {\n            return removeResource(state, action.payload.id);\n        }\n        default:\n            return state;\n    }\n}\n\nfunction iconsReducer (state, action) {\n    state = state || {}; // object of 'iconId: icon'\n\n    switch (action.type) {\n        case 'OVIRT_UPDATE_ICON':\n        {\n            const newState = Object.assign({}, state);\n            newState[action.payload.id] = newState[action.payload.id] || {};\n            Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n            return newState;\n        }\n        default:\n            return state;\n    }\n}\n\nfunction configReducer (state, action) {\n    state = state || {\n            loginInProgress: true,\n        };\n\n    switch (action.type) {\n        case 'OVIRT_LOGIN_IN_PROGRESS':\n        {\n            return Object.assign({}, state, { loginInProgress: action.payload.loginInProgress });\n        }\n        case 'OVIRT_SET_HOSTNAME':\n        {\n            return Object.assign({}, state, { hostname: action.payload.hostname });\n        }\n        default:\n            return state;\n    }\n}\n\nfunction vmsReducer (state, action) {\n    state = state || {}; // object of 'vmId: vm'\n\n    switch (action.type) {\n        case 'OVIRT_UPDATE_VM':\n        {\n            const newState = Object.assign({}, state);\n            newState[action.payload.id] = newState[action.payload.id] || {};\n            Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n            return newState;\n        }\n        case 'OVIRT_REMOVE_VM':\n        {\n            return removeResource(state, action.payload.id);\n        }\n        case 'VM_ACTION_FAILED': // this reducer seconds the implementation in cockpit:machines (see the 'vms' reducer there).\n        { // If an action failed on a VM running on this host, the error will be recorded on two places - it's as expected.\n            // If the VM is unknown for this host, the user needs to be still informed about the result\n            // So far, the VM is identified by \"name\" only\n            // See the templatesReducer() as well.\n            const vmId =  Object.getOwnPropertyNames(state).filter(vmId => state[vmId].name === action.payload.name);\n            if (!vmId || vmId.length === 0) {\n                return state;\n            }\n\n            const updatedVm = Object.assign({}, state[vmId],\n                {lastMessage: action.payload.message, lastMessageDetail: action.payload.detail});\n            const updatedPartOfState = {};\n            updatedPartOfState[vmId] = updatedVm;\n            const newState = Object.assign({}, state, updatedPartOfState);\n            return newState;\n        }\n        default:\n            return state;\n    }\n}\n\nfunction templatesReducer (state, action) {\n    state = state || {}; // object of 'templateId: template'\n\n    switch (action.type) {\n        case 'OVIRT_UPDATE_TEMPLATE':\n        {\n            const newState = Object.assign({}, state);\n            newState[action.payload.id] = newState[action.payload.id] || {};\n            Object.assign(newState[action.payload.id], action.payload); // merge instead of replace, is it as expected?\n            return newState;\n        }\n        case 'OVIRT_REMOVE_TEMPLATE':\n        {\n            return removeResource(state, action.payload.id);\n        }\n        case 'VM_ACTION_FAILED': // this reducer seconds the implementation in cockpit:machines and the vmsReducer()\n        {\n            logDebug(`templateReducer() VM_ACTION_FAILED payload: ${JSON.stringify(action.payload)}`);\n            if (action.payload.extraPayload && action.payload.extraPayload.templateName) {\n                const templateId = Object.getOwnPropertyNames(state).filter(templateId => state[templateId].name === action.payload.extraPayload.templateName);\n                const updatedTemplate = Object.assign({}, state[templateId], {\n                    lastMessage: action.payload.message,\n                    lastMessageDetail: action.payload.detail\n                });\n                const updatedPartOfState = {};\n                updatedPartOfState[templateId] = updatedTemplate;\n                const newState = Object.assign({}, state, updatedPartOfState);\n                logDebug(`templateReducer() VM_ACTION_FAILED: ${JSON.stringify(newState)}`);\n                return newState;\n            }\n            return state;\n        }\n        default:\n            return state;\n    }\n}\n\nfunction routerReducer (state, action) {\n    state = state || {\n        route: 'hostvms',\n    };\n\n    switch (action.type) {\n        case 'OVIRT_GOTO_SUBPAGE': {\n            return Object.assign({}, state, {route: action.payload.target});\n        }\n        default:\n            return state;\n    }\n}\n\nfunction callSubReducer (newState, action, subreducer, substateName) {\n    const newSubstate = subreducer(newState[substateName], action);\n    if (newState[substateName] !== newSubstate) {\n        const temp = {};\n        temp[substateName] = newSubstate;\n        newState = Object.assign({}, newState, temp);\n    }\n    return newState;\n}\n\nexport function ovirtReducer (state, action) {\n    state = state || {\n            hosts: {}, // {id:host}\n        };\n\n    let newState = state;\n    newState = callSubReducer(newState, action, hostsReducer, 'hosts');\n    newState = callSubReducer(newState, action, vmsReducer, 'vms');\n    newState = callSubReducer(newState, action, templatesReducer, 'templates');\n    newState = callSubReducer(newState, action, clustersReducer, 'clusters');\n    newState = callSubReducer(newState, action, iconsReducer, 'icons');\n    newState = callSubReducer(newState, action, configReducer, 'ovirtConfig');\n    newState = callSubReducer(newState, action, routerReducer, 'router');\n\n    return newState;\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/reducers.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React from \"react\";\n\nimport { suspendVm } from '../actions.es6';\nimport { vmId } from '../../machines/helpers.es6';\n\nReact;\nconst _ = cockpit.gettext;\n\nconst VmActions = ({ vm, providerState, dispatch }) => {\n    const clusterVm = providerState.vms[vm.id];\n    if (!clusterVm) { // not an oVirt-managed VM\n        return null;\n    }\n\n    const idPrefix =`${vmId(vm.name)}-ovirt`;\n\n    // TODO: add user confirmation\n    return (\n        <div className='btn-group'>\n            <button className='btn btn-default' id={`${idPrefix}-suspendbutton`}\n                    onClick={() => dispatch(suspendVm({ id: clusterVm.id, name: clusterVm.name, connectionName: vm.connectionName }))}>\n                {_(\"Suspend\")}\n            </button>\n        </div>\n    );\n};\n\nexport default VmActions;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/VmActions.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React from \"react\";\n\nimport { formatDateTime } from '../helpers.es6';\n\nReact;\nconst _ = cockpit.gettext;\n\nimport './VmOverviewColumn.css';\n\nconst VmIcon = ({ icons, iconId }) => {\n    if (!iconId || !icons || !icons[iconId] || !icons[iconId].data) {\n        return null;\n    }\n\n    const icon = icons[iconId];\n    const src = `data:${icon.type};base64,${icon.data}`;\n\n    return (\n        <img src={src} className='ovirt-provider-overview-icon' alt={_(\"VM icon\")}/>\n    );\n};\n\n/**\n * Additional (oVirt-specific) columns for the Overview subatb\n */\nconst vmOverviewExtra = (vm, providerState) => {\n    const clusterVm = providerState.vms[vm.id];\n    if (!clusterVm) { // not an oVirt-managed VM\n        return [];\n    }\n\n    return [\n        [\n            { title: _(\"Description:\"), value: clusterVm.description, idPostfix: 'ovirt-description' },\n            { title: _(\"Address:\"), value: clusterVm.fqdn, idPostfix: 'ovirt-fqdn' },\n            { title: _(\"Running Since:\"), value: formatDateTime(clusterVm.startTime), idPostfix: 'ovirt-starttime' },\n        ],\n        [\n            { title: null, value: (<VmIcon icons={providerState.icons} iconId={clusterVm.icons.largeId}/>), idPostfix: 'ovirt-icon' },\n        ],\n    ];\n};\n\nexport default vmOverviewExtra;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/VmOverviewColumn.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React from \"react\";\n\nimport CONFIG from '../config.es6';\n\nReact;\nconst _ = cockpit.gettext;\n\nconst ConsoleClientResources = ({ vm, providerState }) => {\n    const clusterVm = providerState.vms[vm.id];\n    if (!clusterVm) { // not an oVirt-managed VM\n        return null;\n    }\n\n    const msg = cockpit.format(_(\"Please refer to oVirt's $0 for more information about Remote Viewer setup.\"),\n        `<a href=\"${CONFIG.CONSOLE_CLIENT_RESOURCES_URL}\" target=\"_blank\">Console Client Resources</a>`);\n\n    return (\n        <div dangerouslySetInnerHTML={{__html: msg}} />\n    );\n};\n\nexport default ConsoleClientResources;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/ConsoleClientResources.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React from \"react\";\n\nimport { isSameHostAddress } from '../helpers.es6';\nimport { vmId } from '../../machines/helpers.es6';\nimport { migrateVm } from '../actions.es6';\n\nimport ConfirmButtons from './ConfirmButtons.jsx';\nimport VmProperty from '../../machines/components/infoRecord.jsx';\nimport rephraseUI from '../rephraseUI.es6';\n\nReact;\nconst _ = cockpit.gettext;\n\nimport './OVirtTab.css';\n\nfunction canVmMigrateToHost ({ host }) {\n    return host.status === 'up';\n}\n\nclass MigrateTo extends React.Component {\n    constructor (props) {\n        super(props)\n\n        this.state = {\n            confirmAction: false,\n            selectedHostId: null,\n        };\n    }\n\n    render () {\n        const { vm, hosts, dispatch } = this.props;\n\n        const onHostChange = e => { this.setState({selectedHostId: e.target.value}); };\n        const onAction = () => { this.setState({ confirmAction: true }); };\n        const onActionCanceled = () => { this.setState({ confirmAction: false }); };\n        const onActionConfirmed = () => {\n            this.setState({ confirmAction: false });\n            dispatch(migrateVm(vm.id, vm.name, this.state.selectedHostId));\n        };\n\n        const idPrefix =`${vmId(vm.name)}-ovirt`;\n\n        return (\n            <tr>\n                <td>\n                    {this.state.confirmAction ?\n                        (<ConfirmButtons confirmText={_(\"Confirm migration\")}\n                                         dismissText={_(\"Cancel\")}\n                                         onYes={onActionConfirmed}\n                                         onNo={onActionCanceled}/>) :\n                        (<button className=\"btn btn-default btn-danger\" onClick={onAction} id={`${idPrefix}-migratetobutton`}>\n                            {_(\"Migrate To:\")}\n                        </button>)\n                    }\n                </td>\n                <td>\n                    <select className='combobox form-control ovirt-provider-migrateto-combo' onChange={onHostChange} disabled={this.state.confirmAction} id={`${idPrefix}-migratetoselect`}>\n                        <option value={null} selected={!this.state.selectedHostId}>\n                            <i>{_(\"Automatically selected host\")}</i>\n                        </option>\n                        {Object.getOwnPropertyNames(hosts)\n                            .filter( hostId => canVmMigrateToHost({host: hosts[hostId]}))\n                            .map(hostId => (\n                                <option value={hostId}\n                                        selected={hostId === this.state.selectedHostId}\n                                        disabled={isSameHostAddress(hosts[hostId].address)}>\n                                    {hosts[hostId].name}\n                                </option>\n                            ))}\n                    </select>\n                </td>\n            </tr>\n        );\n    }\n}\n\nconst VmTemplate = ({ clusterVm, templates, id }) => {\n    if (!templates || !clusterVm) {\n        return null;\n    }\n\n    const template = templates[clusterVm.templateId];\n    if (!template) {\n        return (\n            <VmProperty descr={_(\"Base template:\")}\n                        value='' />\n        );\n    }\n\n    const version = template.version;\n    return (\n        <VmProperty descr={_(\"Base template:\")}\n                    value={version.name ?\n                          (`${version.name} (${template.name})`)\n                        : template.name}\n                    id={id}\n        />\n    );\n};\n\nconst VmHA = ({ clusterVm, id }) => {\n    let value = _(\"disabled\");\n    if (clusterVm.highAvailability && clusterVm.highAvailability.enabled === 'true') {\n        value = _(\"enabled\");\n    }\n\n    return (<VmProperty descr={_(\"HA:\")} value={value} id={id}/>);\n};\n\nconst OVirtTab = ({ vm, providerState, dispatch }) => {\n    const clusterVm = providerState.vms[vm.id]; // 'vm' is from Libvirt, 'clusterVm' is from oVirt\n    if (!clusterVm) {\n        return (<div>{_(\"This virtual machine is not managed by oVirt\")}</div>);\n    }\n\n    const idPrefix =`${vmId(vm.name)}-ovirt`;\n\n    return (\n        <table className='machines-width-max'>\n            <tr className='machines-listing-ct-body-detail'>\n                <td className='ovirt-provider-listing-top-column'>\n                    <table className='form-table-ct'>\n                        <VmProperty descr={_(\"Description:\")} value={clusterVm.description} id={`${idPrefix}-description`}/>\n                        <VmTemplate clusterVm={clusterVm} templates={providerState.templates} id={`${idPrefix}-template`}/>\n                        <VmProperty descr={_(\"OS Type:\")} value={clusterVm.os.type} id={`${idPrefix}-ostype`}/>\n                    </table>\n                </td>\n                <td className='ovirt-provider-listing-top-column'>\n                    <table className='form-table-ct'>\n                        <VmHA clusterVm={clusterVm} id={`${idPrefix}-ha`}/>\n                        <VmProperty descr={_(\"Stateless:\")} value={rephraseUI('stateless', clusterVm.stateless)} id={`${idPrefix}-stateless`}/>\n                        <VmProperty descr={_(\"Optimized for:\")} value={clusterVm.type} id={`${idPrefix}-optimizedfor`}/>\n                    </table>\n                </td>\n                <td className='ovirt-provider-listing-top-column'>\n                    <table className='form-table-ct'>\n                        <MigrateTo vm={vm} hosts={providerState.hosts} dispatch={dispatch}/>\n                    </table>\n                </td>\n            </tr>\n        </table>\n    );\n};\n\nexport default OVirtTab;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/OVirtTab.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\n\nReact;\n\n// TODO: replace this by Cockpit's modal dialog\nconst ConfirmButtons = ({ confirmText, dismissText, onYes, onNo }) => {\n    return (\n        <span>\n        <button className='btn btn-danger btn-xs' type='button' onClick={onYes}>{confirmText}</button>\n            &nbsp;\n            <button className='btn btn-primary btn-xs' type='button' onClick={onNo}>{dismissText}</button>\n      </span>\n    );\n};\n\nexport default ConfirmButtons;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/ConfirmButtons.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { PropTypes } from \"react\";\n\nReact;\n\nconst InfoRecord = ({id, descr, value, descrClass, valueClass}) => {\n    return (<tr>\n        <td className={descrClass ? descrClass : 'top'}>\n            <label className='control-label'>\n                {descr}\n            </label>\n        </td>\n        <td id={id} className={valueClass}>\n            {value}\n        </td>\n    </tr>);\n};\n\nInfoRecord.propTypes = {\n    id: PropTypes.string,\n    descr: PropTypes.string.isRequired,\n    descrClass: PropTypes.string,\n    valueClass: PropTypes.string,\n    value: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.element\n    ]).isRequired,\n}\n\nexport default InfoRecord;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/infoRecord.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nconst _ = cockpit.gettext;\nimport { logDebug } from '../machines/helpers.es6';\n\nconst transform = {\n    'hostStatus': {\n        'preparing_for_maintenance': _(\"Preparing for Maintenance\"),\n        'up': _(\"up\"),\n        'down': _(\"down\"),\n        'error': _(\"error\"),\n        'initializing': _(\"initializing\"),\n        'install_failed': _(\"installation failed\"),\n        'maintenance': _(\"maintenance\"),\n        'non_operational': _(\"non operational\"),\n        'non_responsive': _(\"non responsive\"),\n        'pending_approval': _(\"pending approval\"),\n        'connecting': _(\"connecting\"),\n        'reboot': _(\"reboot\"),\n        'unassigned': _(\"unassigned\"),\n        'installing_os': _(\"installing OS\"),\n        'kdumping': _(\"kdumping\"),\n    },\n    'stateless': {\n        'true': _(\"yes\"),\n        'false': _(\"no\"),\n    },\n};\n\n\nfunction rephraseUI(key, original) {\n    if (!(key in transform)) {\n        logDebug(`ovirt rephraseUI(key='${key}', original='${original}'): unknown key`);\n        return original;\n    }\n\n    if (!(original in transform[key])) {\n        logDebug(`ovirt rephraseUI(key='${key}', original='${original}'): unknown original value`);\n        return original;\n    }\n\n    return transform[key][original];\n}\n\nexport default rephraseUI;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/rephraseUI.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\n\nimport HostVmsList from '../../machines/hostvmslist.jsx';\nimport ClusterVms from './ClusterVms.jsx';\nimport ClusterTemplates from './ClusterTemplates.jsx';\nimport VdsmView from './VdsmView.jsx';\n\nimport { goToSubpage } from '../actions.es6';\nimport hostToMaintenance from './HostToMaintenance.jsx';\nimport HostStatus from './HostStatus.jsx';\nimport { getHost } from \"../selectors.es6\";\n\nconst _ = cockpit.gettext;\n\nconst LoginInProgress = ({ ovirtConfig }) => {\n    if (ovirtConfig && ovirtConfig.loginInProgress) {\n        return (\n            <p className='ovirt-login-in-progress'>\n                {_(\"oVirt login in progress\") + '\\xa0'}\n                <span className=\"spinner spinner-xs spinner-inline\"></span>\n            </p>\n        );\n    }\n\n    return null;\n};\n\nconst TopMenu = ({ ovirtConfig, router, dispatch }) => {\n    /* TODO: design\n     - http://www.patternfly.org/pattern-library/navigation/horizontal-navigation\n     - or use \"dashboard\" in manifest.json ?\n     */\n    if (!ovirtConfig) {\n        return null; // oVirt is not yet initialized\n    }\n    const onNavigate = (target) => {\n        dispatch(goToSubpage(target));\n    };\n\n    const selected = (target) => {\n        if (!router) {\n            return '';\n        }\n\n        if (router.route === target || (!router.route && target === 'hostvms')) {\n            return ' top-menu-selected';\n        }\n\n        return '';\n    };\n\n    return (\n        <div className='content-extra-header'>\n            <a className={'top-menu-link' + selected('hostvms')} href='#'\n               id='ovirt-topnav-hostvms'\n               onClick={() => onNavigate('hostvms')}>{_(\"Host\")}</a>\n            <a className={'top-menu-link' + selected('clustervms')} href='#'\n               id='ovirt-topnav-clustervms'\n               onClick={() => onNavigate('clustervms')}>{_(\"Cluster\")}</a>\n            <a className={'top-menu-link' + selected('clustertemplates')} href='#'\n               id='ovirt-topnav-clustertemplates'\n               onClick={() => onNavigate('clustertemplates')}>{_(\"Templates\")}</a>\n            <a className={'top-menu-link' + selected('vdsm')} href='#'\n               id='ovirt-topnav-vdsm'\n               onClick={() => onNavigate('vdsm')}>{_(\"VDSM\")}</a>\n\n            <LoginInProgress ovirtConfig={ovirtConfig}/>\n        </div>\n    );\n};\n\nconst HostVmsListDecorated = ({ vms, config, osInfoList, ui, dispatch, host }) => {\n    const actions = host && [hostToMaintenance({ dispatch, host })];\n    return (\n        <div className='container-fluid'>\n            <HostStatus host={host}/>\n            <HostVmsList vms={vms}\n                         config={config}\n                         osInfoList={osInfoList}\n                         ui={ui}\n                         dispatch={dispatch}\n                         actions={actions}/>\n        </div>\n    );\n};\n\nconst App = ({ store }) => {\n    const state = store.getState();\n    const dispatch = store.dispatch;\n    const { vms, config, osInfoList, ui }  = state;\n\n    let ovirtConfig, hosts, router;\n    if (config.providerState) {\n        ovirtConfig = config.providerState.ovirtConfig;\n        hosts = config.providerState.hosts;\n        router = config.providerState.router;\n    }\n\n    const host = getHost(hosts, ovirtConfig); // oVirt record for current host\n    const route = router && router.route;\n\n    let component = null;\n    switch (route) {\n        case 'clustervms':\n            component = (<ClusterVms config={config} dispatch={dispatch}/>);\n            break;\n        case 'clustertemplates':\n            component = (<ClusterTemplates config={config} dispatch={dispatch}/>);\n            break;\n        case 'vdsm':\n            component = (<VdsmView/>);\n            break;\n        default:\n            component = (\n                <HostVmsListDecorated vms={vms} config={config} osInfoList={osInfoList} ui={ui} dispatch={dispatch} host={host} />);\n    }\n\n    return (\n        <div className='main-app-div'>\n            {component}\n            <TopMenu ovirtConfig={ovirtConfig} router={router} dispatch={dispatch} />\n        </div>\n    );\n};\nApp.propTypes = {\n    store: React.PropTypes.object.isRequired\n};\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/App.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React, { PropTypes } from \"react\";\nimport {\n    shutdownVm,\n    forceVmOff,\n    forceRebootVm,\n    rebootVm,\n    sendNMI,\n    startVm,\n    installVm,\n    usageStartPolling,\n    usageStopPolling,\n} from \"./actions.es6\";\nimport {\n    rephraseUI,\n    logDebug,\n    convertToUnit,\n    toReadableNumber,\n    units,\n    toFixedPrecision,\n    vmId,\n    mouseClick,\n} from \"./helpers.es6\";\nimport DonutChart from \"./c3charts.jsx\";\nimport { Listing, ListingRow } from \"cockpit-components-listing.jsx\";\nimport VmDisksTab from './components/vmDisksTabLibvirt.jsx';\nimport VmNetworkTab from './vmnetworktab.jsx';\nimport Consoles from './components/consoles.jsx';\nimport { deleteDialog } from \"./components/deleteDialog.jsx\";\nimport DropdownButtons from './components/dropdownButtons.jsx';\nimport { createVmDialog } from './components/createVmDialog.jsx';\nimport VmOverviewTab from './components/vmOverviewTabLibvirt.jsx';\n\nconst _ = cockpit.gettext;\n\nconst VmActions = ({ vm, config, dispatch, onStart, onInstall, onReboot, onForceReboot, onShutdown, onForceoff, onSendNMI, installInProgress }) => {\n    const id = vmId(vm.name);\n    const state = vm.state;\n    const hasInstallPhase = vm.metadata.hasInstallPhase;\n\n    let reset = null;\n    if (config.provider.canReset(state)) {\n        reset = DropdownButtons({\n            buttons: [{\n                title: _(\"Restart\"),\n                action: onReboot,\n                id: `${id}-reboot`,\n            }, {\n                title: _(\"Force Restart\"),\n                action: onForceReboot,\n                id: `${id}-forceReboot`,\n            }],\n        });\n    }\n\n    let shutdown = null;\n    if (config.provider.canShutdown(state)) {\n        let buttons = [{\n            title: _(\"Shut Down\"),\n            action: onShutdown,\n            id: `${id}-off`,\n        }, {\n            title: _(\"Force Shut Down\"),\n            action: onForceoff,\n            id: `${id}-forceOff`,\n        }];\n        if (config.provider.canSendNMI && config.provider.canSendNMI(state)) {\n            buttons.push({\n                title: _(\"Send Non-Maskable Interrupt\"),\n                action: onSendNMI,\n                id: `${id}-sendNMI`,\n            });\n        }\n        shutdown = DropdownButtons({ buttons: buttons });\n    }\n\n    let run = null;\n    if (config.provider.canRun(state, hasInstallPhase)) {\n        run = (<button className=\"btn btn-default btn-danger\" onClick={mouseClick(onStart)} id={`${id}-run`}>\n            {_(\"Run\")}\n        </button>);\n    }\n\n    let install = null;\n    if (config.provider.canInstall(state, hasInstallPhase, installInProgress)) {\n        install = (<button className=\"btn btn-default btn-danger\" onClick={mouseClick(onInstall)} id={`${id}-install`}>\n            {_(\"Install\")}\n        </button>);\n    }\n\n    let providerActions = null;\n    if (config.provider.VmActions) {\n        const ProviderActions = config.provider.VmActions;\n        providerActions = <ProviderActions vm={vm} providerState={config.providerState} dispatch={dispatch}/>;\n    }\n\n    let deleteAction = null;\n    if (state !== undefined && config.provider.canDelete && config.provider.canDelete(state, vm.id, config.providerState)) {\n        deleteAction = (\n            <button className=\"btn btn-danger\" id={`${id}-delete`}\n                    onClick={mouseClick(() => deleteDialog(vm, dispatch))}>\n                {_(\"Delete\")}\n            </button>\n        );\n    }\n\n    return (<div>\n        {reset}\n        {shutdown}\n        {run}\n        {install}\n        {providerActions}\n        {deleteAction}\n    </div>);\n};\nVmActions.propTypes = {\n    vm: PropTypes.object.isRequired,\n    config: PropTypes.string.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    onStart: PropTypes.func.isRequired,\n    onReboot: PropTypes.func.isRequired,\n    onForceReboot: PropTypes.func.isRequired,\n    onShutdown: PropTypes.func.isRequired,\n    onForceoff: PropTypes.func.isRequired,\n    onSendNMI: PropTypes.func.isRequired,\n};\n\nconst IconElement = ({ onClick, className, title, state }) => {\n    return (<span title={title} data-toggle='tooltip' data-placement='left'>\n        {state}&nbsp;<i onClick={mouseClick(onClick)} className={className}/>\n    </span>);\n};\nIconElement.propTypes = {\n    onClick: PropTypes.func,\n    className: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    state: PropTypes.string.isRequired,\n};\n\nexport const StateIcon = ({ state, config, valueId, extra }) => {\n    if (state === undefined) {\n        return (<div/>);\n    }\n\n    let stateMap = {\n        running: { className: 'pficon pficon-ok icon-1x-vms', title: _(\"The VM is running.\") }, // TODO: display VM screenshot if available or the ok-icon otherwise\n        idle: { className: 'pficon pficon-running icon-1x-vms', title: _(\"The VM is idle.\") },\n        paused: { className: 'pficon pficon-pause icon-1x-vms', title: _(\"The VM is paused.\") },\n        shutdown: { className: 'glyphicon glyphicon-wrench icon-1x-vms', title: _(\"The VM is going down.\") },\n        'shut off': { className: 'fa fa-arrow-circle-o-down icon-1x-vms', title: _(\"The VM is down.\") },\n        crashed: { className: 'pficon pficon-error-circle-o icon-1x-vms', title: _(\"The VM crashed.\") },\n        dying: {\n            className: 'pficon pficon-warning-triangle-o icon-1x-vms',\n            title: _(\"The VM is in process of dying (shut down or crash is not completed).\"),\n        },\n        pmsuspended: {\n            className: 'pficon pficon-ok icon-1x-vms',\n            title: _(\"The VM is suspended by guest power management.\"),\n        },\n    };\n    if (config.provider.vmStateMap) { // merge default and provider's stateMap to allow both reuse and extension\n        stateMap = Object.assign(stateMap, config.provider.vmStateMap);\n    }\n\n    if (stateMap[state]) {\n        return (\n            <span title={stateMap[state].title} data-toggle='tooltip' data-placement='left'>\n                {extra}\n                <span id={valueId}>{rephraseUI('vmStates', state)}</span>\n            </span>);\n    }\n    return (<small>{state}</small>);\n};\nStateIcon.propTypes = {\n    state: PropTypes.string.isRequired,\n    config: PropTypes.string.isRequired,\n    valueId: PropTypes.string,\n    extra: PropTypes.any,\n};\n\nclass VmUsageTab extends React.Component {\n    componentDidMount() {\n        this.props.onUsageStartPolling();\n    }\n\n    componentWillUnmount() {\n        this.props.onUsageStopPolling();\n    }\n\n    render() {\n        const vm = this.props.vm;\n        const width = 220;\n        const height = 170;\n\n        const rssMem = vm[\"rssMemory\"] ? vm[\"rssMemory\"] : 0; // in KiB\n        const memTotal = vm[\"currentMemory\"] ? vm[\"currentMemory\"] : 0; // in KiB\n        let available = memTotal - rssMem; // in KiB\n        available = available < 0 ? 0 : available;\n\n        const totalCpus = vm['vcpus'] > 0 ? vm['vcpus'] : 0;\n        // 4 CPU system can have usage 400%, let's keep % between 0..100\n        let cpuUsage = vm['cpuUsage'] / (totalCpus > 0 ? totalCpus : 1);\n        cpuUsage = isNaN(cpuUsage) ? 0 : cpuUsage;\n        cpuUsage = toFixedPrecision(cpuUsage, 1);\n\n        logDebug(`VmUsageTab.render(): rssMem: ${rssMem} KiB, memTotal: ${memTotal} KiB, available: ${available} KiB, totalCpus: ${totalCpus}, cpuUsage: ${cpuUsage}`);\n\n        const memChartData = {\n            columns: [\n                [_(\"Used\"), toReadableNumber(convertToUnit(rssMem, units.KiB, units.GiB))],\n                [_(\"Available\"), toReadableNumber(convertToUnit(available, units.KiB, units.GiB))],\n            ],\n            groups: [\n                [\"used\", \"available\"],\n            ],\n            order: null,\n        };\n\n        const cpuChartData = {\n            columns: [\n                [_(\"Used\"), cpuUsage],\n                [_(\"Available\"), 100.0 - cpuUsage],\n            ],\n            groups: [\n                [\"used\", \"available\"],\n            ],\n            order: null,\n        };\n\n        const chartSize = {\n            width, // keep the .usage-donut-caption CSS in sync\n            height,\n        };\n\n        return (<table>\n                <tr>\n                    <td>\n                        <DonutChart data={memChartData} size={chartSize} width='8' tooltipText=' '\n                                    primaryTitle={toReadableNumber(convertToUnit(rssMem, units.KiB, units.GiB))}\n                                    secondaryTitle='GiB'\n                                    caption={`used from ${cockpit.format_bytes(memTotal * 1024)} memory`}/>\n                    </td>\n\n                    <td>\n                        <DonutChart data={cpuChartData} size={chartSize} width='8' tooltipText=' '\n                                    primaryTitle={cpuUsage} secondaryTitle='%'\n                                    caption={`used from ${totalCpus} vCPUs`}/>\n                    </td>\n                </tr>\n            </table>\n\n        );\n    }\n}\n\nVmUsageTab.propTypes = {\n    vm: React.PropTypes.object.isRequired,\n    onUsageStartPolling: PropTypes.func.isRequired,\n    onUsageStopPolling: PropTypes.func.isRequired,\n};\n\n/** One VM in the list (a row)\n */\nconst Vm = ({ vm, config, hostDevices, onStart, onInstall, onShutdown, onForceoff, onReboot, onForceReboot,\n              onUsageStartPolling, onUsageStopPolling, onSendNMI, uiState, dispatch }) => {\n    const stateAlert = vm.lastMessage && (<span className='pficon-warning-triangle-o machines-status-alert' />);\n    const stateIcon = (<StateIcon state={vm.state} config={config} valueId={`${vmId(vm.name)}-state`} extra={stateAlert} />);\n\n    const usageTabName = (<div id={`${vmId(vm.name)}-usage`}>{_(\"Usage\")}</div>);\n    const disksTabName = (<div id={`${vmId(vm.name)}-disks`}>{_(\"Disks\")}</div>);\n    const networkTabName = (<div id={`${vmId(vm.name)}-networks`}>{_(\"Networks\")}</div>);\n    const consolesTabName = (<div id={`${vmId(vm.name)}-consoles`}>{_(\"Consoles\")}</div>);\n\n    let tabRenderers = [\n        {name: _(\"Overview\"), renderer: VmOverviewTab, data: { vm, config, dispatch }},\n        {name: usageTabName, renderer: VmUsageTab, data: { vm, onUsageStartPolling, onUsageStopPolling }, presence: 'onlyActive' },\n        {name: disksTabName, renderer: VmDisksTab, data: { vm, onUsageStartPolling, onUsageStopPolling }, presence: 'onlyActive' },\n        {name: networkTabName, renderer: VmNetworkTab, data: { vm, dispatch, hostDevices }},\n        {name: consolesTabName, renderer: Consoles, data: { vm, config, dispatch }},\n    ];\n\n    if (config.provider.vmTabRenderers) { // External Provider might extend the subtab list\n        tabRenderers = tabRenderers.concat(config.provider.vmTabRenderers.map(\n            tabRender => {\n                let tabName = tabRender.name;\n                if (tabRender.idPostfix) {\n                    tabName = (<div id={`${vmId(vm.name)}-${tabRender.idPostfix}`}>{tabRender.name}</div>);\n                }\n                return {\n                    name: tabName,\n                    renderer: tabRender.component,\n                    data: { vm, providerState: config.providerState, dispatch },\n                };\n            }\n        ));\n    }\n\n    const initiallyExpanded = uiState && uiState.createInProgress;\n    let initiallyActiveTab = null;\n    if (uiState && uiState.createInProgress && uiState.createInProgress.openConsoleTab) {\n        initiallyActiveTab = tabRenderers.map((o) =>  o.name).indexOf(consolesTabName);\n    }\n\n    const name = (<span id={`${vmId(vm.name)}-row`}>{vm.name}</span>);\n\n    return (<ListingRow\n        rowId={`${vmId(vm.name)}`}\n        columns={[\n            {name, 'header': true},\n            rephraseUI('connections', vm.connectionName),\n            stateIcon,\n        ]}\n        initiallyExpanded={initiallyExpanded}\n        initiallyActiveTab={initiallyActiveTab}\n        tabRenderers={tabRenderers}\n        listingActions={VmActions({\n            vm, config, dispatch,\n            onStart, onInstall, onReboot, onForceReboot, onShutdown, onForceoff, onSendNMI,\n            installInProgress: !!uiState.installInProgress,\n        })}/>);\n};\nVm.propTypes = {\n    vm: PropTypes.object.isRequired,\n    config: PropTypes.object.isRequired,\n    hostDevices: PropTypes.object.isRequired,\n    onStart: PropTypes.func.isRequired,\n    onShutdown: PropTypes.func.isRequired,\n    onForceoff: PropTypes.func.isRequired,\n    onReboot: PropTypes.func.isRequired,\n    onForceReboot: PropTypes.func.isRequired,\n    onUsageStartPolling: PropTypes.func.isRequired,\n    onUsageStopPolling: PropTypes.func.isRequired,\n    onSendNMI: React.PropTypes.func.isRequired,\n    dispatch: PropTypes.func.isRequired,\n    initallyExpanded: PropTypes.bool,\n};\n\n/**\n * List of all VMs defined on this host\n */\nclass HostVmsList extends React.Component {\n    constructor(props) {\n        super(props);\n        this.deviceProxyHandler = this.deviceProxyHandler.bind(this);\n        this.client = cockpit.dbus(\"org.freedesktop.NetworkManager\", {});\n        this.deviceProxies = this.client.proxies(\"org.freedesktop.NetworkManager.Device\");\n        this.deviceProxies.addEventListener('changed', this.deviceProxyHandler);\n        this.deviceProxies.addEventListener('removed', this.deviceProxyHandler);\n    }\n\n    componentWillUnmount() {\n        this.client.close();\n    }\n\n    deviceProxyHandler() {\n        this.forceUpdate();\n    }\n\n    render() {\n        const { vms, config, osInfoList, ui, dispatch, actions } = this.props;\n\n        const sortFunction = (vmA, vmB) => vmA.name.localeCompare(vmB.name);\n\n        let allActions = [\n            (\n                <a className=\"card-pf-link-with-icon pull-right\" id=\"create-new-vm\"\n                   onClick={mouseClick(() => createVmDialog(dispatch, osInfoList))}>\n                    <span className=\"pficon pficon-add-circle-o\"/>{_(\"Create New VM\")}\n                </a>\n            )\n        ];\n\n        if (actions) {\n            allActions = allActions.concat(actions);\n        }\n\n        return (<div className='container-fluid'>\n            <Listing title={_(\"Virtual Machines\")}\n                     columnTitles={[_(\"Name\"), _(\"Connection\"), _(\"State\")]}\n                     actions={allActions}\n                     emptyCaption={_(\"No VM is running or defined on this host\")}>\n                {vms\n                    .sort(sortFunction)\n                    .map(vm => {\n                    return (\n                        <Vm vm={vm} config={config}\n                            hostDevices={this.deviceProxies}\n                            onStart={() => dispatch(startVm(vm))}\n                            onInstall={() => dispatch(installVm(vm))}\n                            onReboot={() => dispatch(rebootVm(vm))}\n                            onForceReboot={() => dispatch(forceRebootVm(vm))}\n                            onShutdown={() => dispatch(shutdownVm(vm))}\n                            onForceoff={() => dispatch(forceVmOff(vm))}\n                            onUsageStartPolling={() => dispatch(usageStartPolling(vm))}\n                            onUsageStopPolling={() => dispatch(usageStopPolling(vm))}\n                            onSendNMI={() => dispatch(sendNMI(vm))}\n                            dispatch={dispatch}\n                            uiState={{\n                                createInProgress: ui.vmsCreated[vm.name],\n                                installInProgress: ui.vmsInstallInitiated[vm.name],\n                            }}\n                            key={`${vmId(vm.name)}`}\n                        />);\n                })}\n            </Listing>\n        </div>);\n    }\n}\n\nHostVmsList.propTypes = {\n    vms: PropTypes.array.isRequired,\n    config: PropTypes.object.isRequired,\n    osInfoList: PropTypes.array.isRequired,\n    ui: PropTypes.object.isRequired,\n    dispatch: PropTypes.func.isRequired,\n};\n\nexport default HostVmsList;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/hostvmslist.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport $ from 'jquery';\nimport React from \"react\";\n\nimport c3 from \"c3/c3\";\nimport {logDebug} from \"./helpers.es6\";\n\nvar idCounter = 0; // To keep <div id=\"\"> unique\n\nclass DonutChart extends React.Component {\n    constructor(props) {\n        super(props);\n        this.domId = `chart-donut-${idCounter++}`;\n    }\n\n    prepareProps(props) {\n        const state = {\n            data: props['data'] ? props['data'] : {},\n            size: props['size'] ? props['size'] : {width: 150, height: 100},\n            width: props['width'] ? props['width'] : 10,\n\n            tooltipText: props['tooltipText'],\n            primaryTitle: props['primaryTitle'],\n            secondaryTitle: props['secondaryTitle'],\n\n            caption: props['caption'] ? props['caption'] : ''\n        };\n        state.data['type'] = 'donut';\n        return state;\n    }\n\n    componentDidMount() {\n        this._renderChart();\n    }\n\n    componentWillUnmount() {\n        this.donutChart.destroy();\n    }\n\n    shouldComponentUpdate(nextProps) {\n        if (this.props['data']) {\n            const result = JSON.stringify(this.props.data.columns) !== JSON.stringify(nextProps.data.columns);\n            logDebug(`shouldComponentUpdate() ${result}\\nold: ${JSON.stringify(this.props.data.columns)}\\nnew: ${JSON.stringify(nextProps.data.columns)}`);\n            return result;\n        }\n\n        return true;\n    }\n\n    _renderChart() {\n        logDebug('DonutChart._render() called');\n        const bindTo = `#${this.domId}`;\n        const c3ChartDefaults = $().c3ChartDefaults();\n        const options = c3ChartDefaults.getDefaultDonutConfig('');\n\n        const props = this.prepareProps(this.props);\n\n        options.bindto = bindTo;\n        options.data = props.data;\n        options.size = props.size;\n        options.donut.width = props.width;\n        options.tooltip = props.tooltipText ? {contents: $().pfGetUtilizationDonutTooltipContentsFn(props.tooltipText)} : options.tooltip;\n\n        try {\n            this.donutChart = c3.generate(options);\n            $().pfSetDonutChartTitle(bindTo, props.primaryTitle, props.secondaryTitle);\n        } catch (err) {\n            logDebug('Exception thrown when rendering donut chart: ', err);\n        }\n    }\n\n    render() {\n        this._renderChart();\n\n        return (<div>\n            <div id={this.domId} />\n            <div className='usage-donut-caption'>{this.props['caption']}</div>\n        </div>);\n    }\n}\n\nexport default DonutChart;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/c3charts.jsx","/* @license C3.js v0.4.21 | (c) C3 Team and other contributors | http://c3js.org/ */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.c3 = factory());\n}(this, (function () { 'use strict';\n\nvar CLASS = {\n    target: 'c3-target',\n    chart: 'c3-chart',\n    chartLine: 'c3-chart-line',\n    chartLines: 'c3-chart-lines',\n    chartBar: 'c3-chart-bar',\n    chartBars: 'c3-chart-bars',\n    chartText: 'c3-chart-text',\n    chartTexts: 'c3-chart-texts',\n    chartArc: 'c3-chart-arc',\n    chartArcs: 'c3-chart-arcs',\n    chartArcsTitle: 'c3-chart-arcs-title',\n    chartArcsBackground: 'c3-chart-arcs-background',\n    chartArcsGaugeUnit: 'c3-chart-arcs-gauge-unit',\n    chartArcsGaugeMax: 'c3-chart-arcs-gauge-max',\n    chartArcsGaugeMin: 'c3-chart-arcs-gauge-min',\n    selectedCircle: 'c3-selected-circle',\n    selectedCircles: 'c3-selected-circles',\n    eventRect: 'c3-event-rect',\n    eventRects: 'c3-event-rects',\n    eventRectsSingle: 'c3-event-rects-single',\n    eventRectsMultiple: 'c3-event-rects-multiple',\n    zoomRect: 'c3-zoom-rect',\n    brush: 'c3-brush',\n    focused: 'c3-focused',\n    defocused: 'c3-defocused',\n    region: 'c3-region',\n    regions: 'c3-regions',\n    title: 'c3-title',\n    tooltipContainer: 'c3-tooltip-container',\n    tooltip: 'c3-tooltip',\n    tooltipName: 'c3-tooltip-name',\n    shape: 'c3-shape',\n    shapes: 'c3-shapes',\n    line: 'c3-line',\n    lines: 'c3-lines',\n    bar: 'c3-bar',\n    bars: 'c3-bars',\n    circle: 'c3-circle',\n    circles: 'c3-circles',\n    arc: 'c3-arc',\n    arcLabelLine: 'c3-arc-label-line',\n    arcs: 'c3-arcs',\n    area: 'c3-area',\n    areas: 'c3-areas',\n    empty: 'c3-empty',\n    text: 'c3-text',\n    texts: 'c3-texts',\n    gaugeValue: 'c3-gauge-value',\n    grid: 'c3-grid',\n    gridLines: 'c3-grid-lines',\n    xgrid: 'c3-xgrid',\n    xgrids: 'c3-xgrids',\n    xgridLine: 'c3-xgrid-line',\n    xgridLines: 'c3-xgrid-lines',\n    xgridFocus: 'c3-xgrid-focus',\n    ygrid: 'c3-ygrid',\n    ygrids: 'c3-ygrids',\n    ygridLine: 'c3-ygrid-line',\n    ygridLines: 'c3-ygrid-lines',\n    axis: 'c3-axis',\n    axisX: 'c3-axis-x',\n    axisXLabel: 'c3-axis-x-label',\n    axisY: 'c3-axis-y',\n    axisYLabel: 'c3-axis-y-label',\n    axisY2: 'c3-axis-y2',\n    axisY2Label: 'c3-axis-y2-label',\n    legendBackground: 'c3-legend-background',\n    legendItem: 'c3-legend-item',\n    legendItemEvent: 'c3-legend-item-event',\n    legendItemTile: 'c3-legend-item-tile',\n    legendItemHidden: 'c3-legend-item-hidden',\n    legendItemFocused: 'c3-legend-item-focused',\n    dragarea: 'c3-dragarea',\n    EXPANDED: '_expanded_',\n    SELECTED: '_selected_',\n    INCLUDED: '_included_'\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar isValue = function isValue(v) {\n    return v || v === 0;\n};\nvar isFunction = function isFunction(o) {\n    return typeof o === 'function';\n};\nvar isArray = function isArray(o) {\n    return Array.isArray(o);\n};\nvar isString = function isString(o) {\n    return typeof o === 'string';\n};\nvar isUndefined = function isUndefined(v) {\n    return typeof v === 'undefined';\n};\nvar isDefined = function isDefined(v) {\n    return typeof v !== 'undefined';\n};\nvar ceil10 = function ceil10(v) {\n    return Math.ceil(v / 10) * 10;\n};\nvar asHalfPixel = function asHalfPixel(n) {\n    return Math.ceil(n) + 0.5;\n};\nvar diffDomain = function diffDomain(d) {\n    return d[1] - d[0];\n};\nvar isEmpty = function isEmpty(o) {\n    return typeof o === 'undefined' || o === null || isString(o) && o.length === 0 || (typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object' && Object.keys(o).length === 0;\n};\nvar notEmpty = function notEmpty(o) {\n    return !c3_chart_internal_fn.isEmpty(o);\n};\nvar getOption = function getOption(options, key, defaultValue) {\n    return isDefined(options[key]) ? options[key] : defaultValue;\n};\nvar hasValue = function hasValue(dict, value) {\n    var found = false;\n    Object.keys(dict).forEach(function (key) {\n        if (dict[key] === value) {\n            found = true;\n        }\n    });\n    return found;\n};\nvar sanitise = function sanitise(str) {\n    return typeof str === 'string' ? str.replace(/</g, '&lt;').replace(/>/g, '&gt;') : str;\n};\nvar getPathBox = function getPathBox(path) {\n    var box = path.getBoundingClientRect(),\n        items = [path.pathSegList.getItem(0), path.pathSegList.getItem(1)],\n        minX = items[0].x,\n        minY = Math.min(items[0].y, items[1].y);\n    return { x: minX, y: minY, width: box.width, height: box.height };\n};\n\nvar c3_axis_fn;\nvar c3_axis_internal_fn;\n\nfunction AxisInternal(component, params) {\n    var internal = this;\n    internal.component = component;\n    internal.params = params || {};\n\n    internal.d3 = component.d3;\n    internal.scale = internal.d3.scale.linear();\n    internal.range;\n    internal.orient = \"bottom\";\n    internal.innerTickSize = 6;\n    internal.outerTickSize = this.params.withOuterTick ? 6 : 0;\n    internal.tickPadding = 3;\n    internal.tickValues = null;\n    internal.tickFormat;\n    internal.tickArguments;\n\n    internal.tickOffset = 0;\n    internal.tickCulling = true;\n    internal.tickCentered;\n    internal.tickTextCharSize;\n    internal.tickTextRotate = internal.params.tickTextRotate;\n    internal.tickLength;\n\n    internal.axis = internal.generateAxis();\n}\nc3_axis_internal_fn = AxisInternal.prototype;\n\nc3_axis_internal_fn.axisX = function (selection, x, tickOffset) {\n    selection.attr(\"transform\", function (d) {\n        return \"translate(\" + Math.ceil(x(d) + tickOffset) + \", 0)\";\n    });\n};\nc3_axis_internal_fn.axisY = function (selection, y) {\n    selection.attr(\"transform\", function (d) {\n        return \"translate(0,\" + Math.ceil(y(d)) + \")\";\n    });\n};\nc3_axis_internal_fn.scaleExtent = function (domain) {\n    var start = domain[0],\n        stop = domain[domain.length - 1];\n    return start < stop ? [start, stop] : [stop, start];\n};\nc3_axis_internal_fn.generateTicks = function (scale) {\n    var internal = this;\n    var i,\n        domain,\n        ticks = [];\n    if (scale.ticks) {\n        return scale.ticks.apply(scale, internal.tickArguments);\n    }\n    domain = scale.domain();\n    for (i = Math.ceil(domain[0]); i < domain[1]; i++) {\n        ticks.push(i);\n    }\n    if (ticks.length > 0 && ticks[0] > 0) {\n        ticks.unshift(ticks[0] - (ticks[1] - ticks[0]));\n    }\n    return ticks;\n};\nc3_axis_internal_fn.copyScale = function () {\n    var internal = this;\n    var newScale = internal.scale.copy(),\n        domain;\n    if (internal.params.isCategory) {\n        domain = internal.scale.domain();\n        newScale.domain([domain[0], domain[1] - 1]);\n    }\n    return newScale;\n};\nc3_axis_internal_fn.textFormatted = function (v) {\n    var internal = this,\n        formatted = internal.tickFormat ? internal.tickFormat(v) : v;\n    return typeof formatted !== 'undefined' ? formatted : '';\n};\nc3_axis_internal_fn.updateRange = function () {\n    var internal = this;\n    internal.range = internal.scale.rangeExtent ? internal.scale.rangeExtent() : internal.scaleExtent(internal.scale.range());\n    return internal.range;\n};\nc3_axis_internal_fn.updateTickTextCharSize = function (tick) {\n    var internal = this;\n    if (internal.tickTextCharSize) {\n        return internal.tickTextCharSize;\n    }\n    var size = {\n        h: 11.5,\n        w: 5.5\n    };\n    tick.select('text').text(function (d) {\n        return internal.textFormatted(d);\n    }).each(function (d) {\n        var box = this.getBoundingClientRect(),\n            text = internal.textFormatted(d),\n            h = box.height,\n            w = text ? box.width / text.length : undefined;\n        if (h && w) {\n            size.h = h;\n            size.w = w;\n        }\n    }).text('');\n    internal.tickTextCharSize = size;\n    return size;\n};\nc3_axis_internal_fn.transitionise = function (selection) {\n    return this.params.withoutTransition ? selection : this.d3.transition(selection);\n};\nc3_axis_internal_fn.isVertical = function () {\n    return this.orient === 'left' || this.orient === 'right';\n};\nc3_axis_internal_fn.tspanData = function (d, i, ticks, scale) {\n    var internal = this;\n    var splitted = internal.params.tickMultiline ? internal.splitTickText(d, ticks, scale) : [].concat(internal.textFormatted(d));\n    return splitted.map(function (s) {\n        return { index: i, splitted: s, length: splitted.length };\n    });\n};\nc3_axis_internal_fn.splitTickText = function (d, ticks, scale) {\n    var internal = this,\n        tickText = internal.textFormatted(d),\n        maxWidth = internal.params.tickWidth,\n        subtext,\n        spaceIndex,\n        textWidth,\n        splitted = [];\n\n    if (Object.prototype.toString.call(tickText) === \"[object Array]\") {\n        return tickText;\n    }\n\n    if (!maxWidth || maxWidth <= 0) {\n        maxWidth = internal.isVertical() ? 95 : internal.params.isCategory ? Math.ceil(scale(ticks[1]) - scale(ticks[0])) - 12 : 110;\n    }\n\n    function split(splitted, text) {\n        spaceIndex = undefined;\n        for (var i = 1; i < text.length; i++) {\n            if (text.charAt(i) === ' ') {\n                spaceIndex = i;\n            }\n            subtext = text.substr(0, i + 1);\n            textWidth = internal.tickTextCharSize.w * subtext.length;\n            // if text width gets over tick width, split by space index or crrent index\n            if (maxWidth < textWidth) {\n                return split(splitted.concat(text.substr(0, spaceIndex ? spaceIndex : i)), text.slice(spaceIndex ? spaceIndex + 1 : i));\n            }\n        }\n        return splitted.concat(text);\n    }\n\n    return split(splitted, tickText + \"\");\n};\nc3_axis_internal_fn.updateTickLength = function () {\n    var internal = this;\n    internal.tickLength = Math.max(internal.innerTickSize, 0) + internal.tickPadding;\n};\nc3_axis_internal_fn.lineY2 = function (d) {\n    var internal = this,\n        tickPosition = internal.scale(d) + (internal.tickCentered ? 0 : internal.tickOffset);\n    return internal.range[0] < tickPosition && tickPosition < internal.range[1] ? internal.innerTickSize : 0;\n};\nc3_axis_internal_fn.textY = function () {\n    var internal = this,\n        rotate = internal.tickTextRotate;\n    return rotate ? 11.5 - 2.5 * (rotate / 15) * (rotate > 0 ? 1 : -1) : internal.tickLength;\n};\nc3_axis_internal_fn.textTransform = function () {\n    var internal = this,\n        rotate = internal.tickTextRotate;\n    return rotate ? \"rotate(\" + rotate + \")\" : \"\";\n};\nc3_axis_internal_fn.textTextAnchor = function () {\n    var internal = this,\n        rotate = internal.tickTextRotate;\n    return rotate ? rotate > 0 ? \"start\" : \"end\" : \"middle\";\n};\nc3_axis_internal_fn.tspanDx = function () {\n    var internal = this,\n        rotate = internal.tickTextRotate;\n    return rotate ? 8 * Math.sin(Math.PI * (rotate / 180)) : 0;\n};\nc3_axis_internal_fn.tspanDy = function (d, i) {\n    var internal = this,\n        dy = internal.tickTextCharSize.h;\n    if (i === 0) {\n        if (internal.isVertical()) {\n            dy = -((d.length - 1) * (internal.tickTextCharSize.h / 2) - 3);\n        } else {\n            dy = \".71em\";\n        }\n    }\n    return dy;\n};\n\nc3_axis_internal_fn.generateAxis = function () {\n    var internal = this,\n        d3 = internal.d3,\n        params = internal.params;\n    function axis(g) {\n        g.each(function () {\n            var g = axis.g = d3.select(this);\n\n            var scale0 = this.__chart__ || internal.scale,\n                scale1 = this.__chart__ = internal.copyScale();\n\n            var ticks = internal.tickValues ? internal.tickValues : internal.generateTicks(scale1),\n                tick = g.selectAll(\".tick\").data(ticks, scale1),\n                tickEnter = tick.enter().insert(\"g\", \".domain\").attr(\"class\", \"tick\").style(\"opacity\", 1e-6),\n\n            // MEMO: No exit transition. The reason is this transition affects max tick width calculation because old tick will be included in the ticks.\n            tickExit = tick.exit().remove(),\n                tickUpdate = internal.transitionise(tick).style(\"opacity\", 1),\n                tickTransform,\n                tickX,\n                tickY;\n\n            if (params.isCategory) {\n                internal.tickOffset = Math.ceil((scale1(1) - scale1(0)) / 2);\n                tickX = internal.tickCentered ? 0 : internal.tickOffset;\n                tickY = internal.tickCentered ? internal.tickOffset : 0;\n            } else {\n                internal.tickOffset = tickX = 0;\n            }\n\n            tickEnter.append(\"line\");\n            tickEnter.append(\"text\");\n\n            internal.updateRange();\n            internal.updateTickLength();\n            internal.updateTickTextCharSize(g.select('.tick'));\n\n            var lineUpdate = tickUpdate.select(\"line\"),\n                textUpdate = tickUpdate.select(\"text\"),\n                tspanUpdate = tick.select(\"text\").selectAll('tspan').data(function (d, i) {\n                return internal.tspanData(d, i, ticks, scale1);\n            });\n\n            tspanUpdate.enter().append('tspan');\n            tspanUpdate.exit().remove();\n            tspanUpdate.text(function (d) {\n                return d.splitted;\n            });\n\n            var path = g.selectAll(\".domain\").data([0]),\n                pathUpdate = (path.enter().append(\"path\").attr(\"class\", \"domain\"), internal.transitionise(path));\n\n            // TODO: each attr should be one function and change its behavior by internal.orient, probably\n            switch (internal.orient) {\n                case \"bottom\":\n                    {\n                        tickTransform = internal.axisX;\n                        lineUpdate.attr(\"x1\", tickX).attr(\"x2\", tickX).attr(\"y2\", function (d, i) {\n                            return internal.lineY2(d, i);\n                        });\n                        textUpdate.attr(\"x\", 0).attr(\"y\", function (d, i) {\n                            return internal.textY(d, i);\n                        }).attr(\"transform\", function (d, i) {\n                            return internal.textTransform(d, i);\n                        }).style(\"text-anchor\", function (d, i) {\n                            return internal.textTextAnchor(d, i);\n                        });\n                        tspanUpdate.attr('x', 0).attr(\"dy\", function (d, i) {\n                            return internal.tspanDy(d, i);\n                        }).attr('dx', function (d, i) {\n                            return internal.tspanDx(d, i);\n                        });\n                        pathUpdate.attr(\"d\", \"M\" + internal.range[0] + \",\" + internal.outerTickSize + \"V0H\" + internal.range[1] + \"V\" + internal.outerTickSize);\n                        break;\n                    }\n                case \"top\":\n                    {\n                        // TODO: rotated tick text\n                        tickTransform = internal.axisX;\n                        lineUpdate.attr(\"x2\", 0).attr(\"y2\", -internal.innerTickSize);\n                        textUpdate.attr(\"x\", 0).attr(\"y\", -internal.tickLength).style(\"text-anchor\", \"middle\");\n                        tspanUpdate.attr('x', 0).attr(\"dy\", \"0em\");\n                        pathUpdate.attr(\"d\", \"M\" + internal.range[0] + \",\" + -internal.outerTickSize + \"V0H\" + internal.range[1] + \"V\" + -internal.outerTickSize);\n                        break;\n                    }\n                case \"left\":\n                    {\n                        tickTransform = internal.axisY;\n                        lineUpdate.attr(\"x2\", -internal.innerTickSize).attr(\"y1\", tickY).attr(\"y2\", tickY);\n                        textUpdate.attr(\"x\", -internal.tickLength).attr(\"y\", internal.tickOffset).style(\"text-anchor\", \"end\");\n                        tspanUpdate.attr('x', -internal.tickLength).attr(\"dy\", function (d, i) {\n                            return internal.tspanDy(d, i);\n                        });\n                        pathUpdate.attr(\"d\", \"M\" + -internal.outerTickSize + \",\" + internal.range[0] + \"H0V\" + internal.range[1] + \"H\" + -internal.outerTickSize);\n                        break;\n                    }\n                case \"right\":\n                    {\n                        tickTransform = internal.axisY;\n                        lineUpdate.attr(\"x2\", internal.innerTickSize).attr(\"y2\", 0);\n                        textUpdate.attr(\"x\", internal.tickLength).attr(\"y\", 0).style(\"text-anchor\", \"start\");\n                        tspanUpdate.attr('x', internal.tickLength).attr(\"dy\", function (d, i) {\n                            return internal.tspanDy(d, i);\n                        });\n                        pathUpdate.attr(\"d\", \"M\" + internal.outerTickSize + \",\" + internal.range[0] + \"H0V\" + internal.range[1] + \"H\" + internal.outerTickSize);\n                        break;\n                    }\n            }\n            if (scale1.rangeBand) {\n                var x = scale1,\n                    dx = x.rangeBand() / 2;\n                scale0 = scale1 = function scale1(d) {\n                    return x(d) + dx;\n                };\n            } else if (scale0.rangeBand) {\n                scale0 = scale1;\n            } else {\n                tickExit.call(tickTransform, scale1, internal.tickOffset);\n            }\n            tickEnter.call(tickTransform, scale0, internal.tickOffset);\n            tickUpdate.call(tickTransform, scale1, internal.tickOffset);\n        });\n    }\n    axis.scale = function (x) {\n        if (!arguments.length) {\n            return internal.scale;\n        }\n        internal.scale = x;\n        return axis;\n    };\n    axis.orient = function (x) {\n        if (!arguments.length) {\n            return internal.orient;\n        }\n        internal.orient = x in { top: 1, right: 1, bottom: 1, left: 1 } ? x + \"\" : \"bottom\";\n        return axis;\n    };\n    axis.tickFormat = function (format) {\n        if (!arguments.length) {\n            return internal.tickFormat;\n        }\n        internal.tickFormat = format;\n        return axis;\n    };\n    axis.tickCentered = function (isCentered) {\n        if (!arguments.length) {\n            return internal.tickCentered;\n        }\n        internal.tickCentered = isCentered;\n        return axis;\n    };\n    axis.tickOffset = function () {\n        return internal.tickOffset;\n    };\n    axis.tickInterval = function () {\n        var interval, length;\n        if (params.isCategory) {\n            interval = internal.tickOffset * 2;\n        } else {\n            length = axis.g.select('path.domain').node().getTotalLength() - internal.outerTickSize * 2;\n            interval = length / axis.g.selectAll('line').size();\n        }\n        return interval === Infinity ? 0 : interval;\n    };\n    axis.ticks = function () {\n        if (!arguments.length) {\n            return internal.tickArguments;\n        }\n        internal.tickArguments = arguments;\n        return axis;\n    };\n    axis.tickCulling = function (culling) {\n        if (!arguments.length) {\n            return internal.tickCulling;\n        }\n        internal.tickCulling = culling;\n        return axis;\n    };\n    axis.tickValues = function (x) {\n        if (typeof x === 'function') {\n            internal.tickValues = function () {\n                return x(internal.scale.domain());\n            };\n        } else {\n            if (!arguments.length) {\n                return internal.tickValues;\n            }\n            internal.tickValues = x;\n        }\n        return axis;\n    };\n    return axis;\n};\n\nvar Axis = function (_Component) {\n    inherits(Axis, _Component);\n\n    function Axis(owner) {\n        classCallCheck(this, Axis);\n\n        var fn = {\n            fn: c3_axis_fn,\n            internal: {\n                fn: c3_axis_internal_fn\n            }\n        };\n\n        var _this = possibleConstructorReturn(this, (Axis.__proto__ || Object.getPrototypeOf(Axis)).call(this, owner, 'axis', fn));\n\n        _this.d3 = owner.d3;\n        _this.internal = AxisInternal;\n        return _this;\n    }\n\n    return Axis;\n}(Component);\n\nc3_axis_fn = Axis.prototype;\n\nc3_axis_fn.init = function init() {\n    var $$ = this.owner,\n        config = $$.config,\n        main = $$.main;\n    $$.axes.x = main.append(\"g\").attr(\"class\", CLASS.axis + ' ' + CLASS.axisX).attr(\"clip-path\", $$.clipPathForXAxis).attr(\"transform\", $$.getTranslate('x')).style(\"visibility\", config.axis_x_show ? 'visible' : 'hidden');\n    $$.axes.x.append(\"text\").attr(\"class\", CLASS.axisXLabel).attr(\"transform\", config.axis_rotated ? \"rotate(-90)\" : \"\").style(\"text-anchor\", this.textAnchorForXAxisLabel.bind(this));\n    $$.axes.y = main.append(\"g\").attr(\"class\", CLASS.axis + ' ' + CLASS.axisY).attr(\"clip-path\", config.axis_y_inner ? \"\" : $$.clipPathForYAxis).attr(\"transform\", $$.getTranslate('y')).style(\"visibility\", config.axis_y_show ? 'visible' : 'hidden');\n    $$.axes.y.append(\"text\").attr(\"class\", CLASS.axisYLabel).attr(\"transform\", config.axis_rotated ? \"\" : \"rotate(-90)\").style(\"text-anchor\", this.textAnchorForYAxisLabel.bind(this));\n\n    $$.axes.y2 = main.append(\"g\").attr(\"class\", CLASS.axis + ' ' + CLASS.axisY2)\n    // clip-path?\n    .attr(\"transform\", $$.getTranslate('y2')).style(\"visibility\", config.axis_y2_show ? 'visible' : 'hidden');\n    $$.axes.y2.append(\"text\").attr(\"class\", CLASS.axisY2Label).attr(\"transform\", config.axis_rotated ? \"\" : \"rotate(-90)\").style(\"text-anchor\", this.textAnchorForY2AxisLabel.bind(this));\n};\nc3_axis_fn.getXAxis = function getXAxis(scale, orient, tickFormat, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\n    var $$ = this.owner,\n        config = $$.config,\n        axisParams = {\n        isCategory: $$.isCategorized(),\n        withOuterTick: withOuterTick,\n        tickMultiline: config.axis_x_tick_multiline,\n        tickWidth: config.axis_x_tick_width,\n        tickTextRotate: withoutRotateTickText ? 0 : config.axis_x_tick_rotate,\n        withoutTransition: withoutTransition\n    },\n        axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient);\n\n    if ($$.isTimeSeries() && tickValues && typeof tickValues !== \"function\") {\n        tickValues = tickValues.map(function (v) {\n            return $$.parseDate(v);\n        });\n    }\n\n    // Set tick\n    axis.tickFormat(tickFormat).tickValues(tickValues);\n    if ($$.isCategorized()) {\n        axis.tickCentered(config.axis_x_tick_centered);\n        if (isEmpty(config.axis_x_tick_culling)) {\n            config.axis_x_tick_culling = false;\n        }\n    }\n\n    return axis;\n};\nc3_axis_fn.updateXAxisTickValues = function updateXAxisTickValues(targets, axis) {\n    var $$ = this.owner,\n        config = $$.config,\n        tickValues;\n    if (config.axis_x_tick_fit || config.axis_x_tick_count) {\n        tickValues = this.generateTickValues($$.mapTargetsToUniqueXs(targets), config.axis_x_tick_count, $$.isTimeSeries());\n    }\n    if (axis) {\n        axis.tickValues(tickValues);\n    } else {\n        $$.xAxis.tickValues(tickValues);\n        $$.subXAxis.tickValues(tickValues);\n    }\n    return tickValues;\n};\nc3_axis_fn.getYAxis = function getYAxis(scale, orient, tickFormat, tickValues, withOuterTick, withoutTransition, withoutRotateTickText) {\n    var $$ = this.owner,\n        config = $$.config,\n        axisParams = {\n        withOuterTick: withOuterTick,\n        withoutTransition: withoutTransition,\n        tickTextRotate: withoutRotateTickText ? 0 : config.axis_y_tick_rotate\n    },\n        axis = new this.internal(this, axisParams).axis.scale(scale).orient(orient).tickFormat(tickFormat);\n    if ($$.isTimeSeriesY()) {\n        axis.ticks($$.d3.time[config.axis_y_tick_time_value], config.axis_y_tick_time_interval);\n    } else {\n        axis.tickValues(tickValues);\n    }\n    return axis;\n};\nc3_axis_fn.getId = function getId(id) {\n    var config = this.owner.config;\n    return id in config.data_axes ? config.data_axes[id] : 'y';\n};\nc3_axis_fn.getXAxisTickFormat = function getXAxisTickFormat() {\n    var $$ = this.owner,\n        config = $$.config,\n        format = $$.isTimeSeries() ? $$.defaultAxisTimeFormat : $$.isCategorized() ? $$.categoryName : function (v) {\n        return v < 0 ? v.toFixed(0) : v;\n    };\n    if (config.axis_x_tick_format) {\n        if (isFunction(config.axis_x_tick_format)) {\n            format = config.axis_x_tick_format;\n        } else if ($$.isTimeSeries()) {\n            format = function format(date) {\n                return date ? $$.axisTimeFormat(config.axis_x_tick_format)(date) : \"\";\n            };\n        }\n    }\n    return isFunction(format) ? function (v) {\n        return format.call($$, v);\n    } : format;\n};\nc3_axis_fn.getTickValues = function getTickValues(tickValues, axis) {\n    return tickValues ? tickValues : axis ? axis.tickValues() : undefined;\n};\nc3_axis_fn.getXAxisTickValues = function getXAxisTickValues() {\n    return this.getTickValues(this.owner.config.axis_x_tick_values, this.owner.xAxis);\n};\nc3_axis_fn.getYAxisTickValues = function getYAxisTickValues() {\n    return this.getTickValues(this.owner.config.axis_y_tick_values, this.owner.yAxis);\n};\nc3_axis_fn.getY2AxisTickValues = function getY2AxisTickValues() {\n    return this.getTickValues(this.owner.config.axis_y2_tick_values, this.owner.y2Axis);\n};\nc3_axis_fn.getLabelOptionByAxisId = function getLabelOptionByAxisId(axisId) {\n    var $$ = this.owner,\n        config = $$.config,\n        option;\n    if (axisId === 'y') {\n        option = config.axis_y_label;\n    } else if (axisId === 'y2') {\n        option = config.axis_y2_label;\n    } else if (axisId === 'x') {\n        option = config.axis_x_label;\n    }\n    return option;\n};\nc3_axis_fn.getLabelText = function getLabelText(axisId) {\n    var option = this.getLabelOptionByAxisId(axisId);\n    return isString(option) ? option : option ? option.text : null;\n};\nc3_axis_fn.setLabelText = function setLabelText(axisId, text) {\n    var $$ = this.owner,\n        config = $$.config,\n        option = this.getLabelOptionByAxisId(axisId);\n    if (isString(option)) {\n        if (axisId === 'y') {\n            config.axis_y_label = text;\n        } else if (axisId === 'y2') {\n            config.axis_y2_label = text;\n        } else if (axisId === 'x') {\n            config.axis_x_label = text;\n        }\n    } else if (option) {\n        option.text = text;\n    }\n};\nc3_axis_fn.getLabelPosition = function getLabelPosition(axisId, defaultPosition) {\n    var option = this.getLabelOptionByAxisId(axisId),\n        position = option && (typeof option === 'undefined' ? 'undefined' : _typeof(option)) === 'object' && option.position ? option.position : defaultPosition;\n    return {\n        isInner: position.indexOf('inner') >= 0,\n        isOuter: position.indexOf('outer') >= 0,\n        isLeft: position.indexOf('left') >= 0,\n        isCenter: position.indexOf('center') >= 0,\n        isRight: position.indexOf('right') >= 0,\n        isTop: position.indexOf('top') >= 0,\n        isMiddle: position.indexOf('middle') >= 0,\n        isBottom: position.indexOf('bottom') >= 0\n    };\n};\nc3_axis_fn.getXAxisLabelPosition = function getXAxisLabelPosition() {\n    return this.getLabelPosition('x', this.owner.config.axis_rotated ? 'inner-top' : 'inner-right');\n};\nc3_axis_fn.getYAxisLabelPosition = function getYAxisLabelPosition() {\n    return this.getLabelPosition('y', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\n};\nc3_axis_fn.getY2AxisLabelPosition = function getY2AxisLabelPosition() {\n    return this.getLabelPosition('y2', this.owner.config.axis_rotated ? 'inner-right' : 'inner-top');\n};\nc3_axis_fn.getLabelPositionById = function getLabelPositionById(id) {\n    return id === 'y2' ? this.getY2AxisLabelPosition() : id === 'y' ? this.getYAxisLabelPosition() : this.getXAxisLabelPosition();\n};\nc3_axis_fn.textForXAxisLabel = function textForXAxisLabel() {\n    return this.getLabelText('x');\n};\nc3_axis_fn.textForYAxisLabel = function textForYAxisLabel() {\n    return this.getLabelText('y');\n};\nc3_axis_fn.textForY2AxisLabel = function textForY2AxisLabel() {\n    return this.getLabelText('y2');\n};\nc3_axis_fn.xForAxisLabel = function xForAxisLabel(forHorizontal, position) {\n    var $$ = this.owner;\n    if (forHorizontal) {\n        return position.isLeft ? 0 : position.isCenter ? $$.width / 2 : $$.width;\n    } else {\n        return position.isBottom ? -$$.height : position.isMiddle ? -$$.height / 2 : 0;\n    }\n};\nc3_axis_fn.dxForAxisLabel = function dxForAxisLabel(forHorizontal, position) {\n    if (forHorizontal) {\n        return position.isLeft ? \"0.5em\" : position.isRight ? \"-0.5em\" : \"0\";\n    } else {\n        return position.isTop ? \"-0.5em\" : position.isBottom ? \"0.5em\" : \"0\";\n    }\n};\nc3_axis_fn.textAnchorForAxisLabel = function textAnchorForAxisLabel(forHorizontal, position) {\n    if (forHorizontal) {\n        return position.isLeft ? 'start' : position.isCenter ? 'middle' : 'end';\n    } else {\n        return position.isBottom ? 'start' : position.isMiddle ? 'middle' : 'end';\n    }\n};\nc3_axis_fn.xForXAxisLabel = function xForXAxisLabel() {\n    return this.xForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\n};\nc3_axis_fn.xForYAxisLabel = function xForYAxisLabel() {\n    return this.xForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\n};\nc3_axis_fn.xForY2AxisLabel = function xForY2AxisLabel() {\n    return this.xForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\n};\nc3_axis_fn.dxForXAxisLabel = function dxForXAxisLabel() {\n    return this.dxForAxisLabel(!this.owner.config.axis_rotated, this.getXAxisLabelPosition());\n};\nc3_axis_fn.dxForYAxisLabel = function dxForYAxisLabel() {\n    return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getYAxisLabelPosition());\n};\nc3_axis_fn.dxForY2AxisLabel = function dxForY2AxisLabel() {\n    return this.dxForAxisLabel(this.owner.config.axis_rotated, this.getY2AxisLabelPosition());\n};\nc3_axis_fn.dyForXAxisLabel = function dyForXAxisLabel() {\n    var $$ = this.owner,\n        config = $$.config,\n        position = this.getXAxisLabelPosition();\n    if (config.axis_rotated) {\n        return position.isInner ? \"1.2em\" : -25 - this.getMaxTickWidth('x');\n    } else {\n        return position.isInner ? \"-0.5em\" : config.axis_x_height ? config.axis_x_height - 10 : \"3em\";\n    }\n};\nc3_axis_fn.dyForYAxisLabel = function dyForYAxisLabel() {\n    var $$ = this.owner,\n        position = this.getYAxisLabelPosition();\n    if ($$.config.axis_rotated) {\n        return position.isInner ? \"-0.5em\" : \"3em\";\n    } else {\n        return position.isInner ? \"1.2em\" : -10 - ($$.config.axis_y_inner ? 0 : this.getMaxTickWidth('y') + 10);\n    }\n};\nc3_axis_fn.dyForY2AxisLabel = function dyForY2AxisLabel() {\n    var $$ = this.owner,\n        position = this.getY2AxisLabelPosition();\n    if ($$.config.axis_rotated) {\n        return position.isInner ? \"1.2em\" : \"-2.2em\";\n    } else {\n        return position.isInner ? \"-0.5em\" : 15 + ($$.config.axis_y2_inner ? 0 : this.getMaxTickWidth('y2') + 15);\n    }\n};\nc3_axis_fn.textAnchorForXAxisLabel = function textAnchorForXAxisLabel() {\n    var $$ = this.owner;\n    return this.textAnchorForAxisLabel(!$$.config.axis_rotated, this.getXAxisLabelPosition());\n};\nc3_axis_fn.textAnchorForYAxisLabel = function textAnchorForYAxisLabel() {\n    var $$ = this.owner;\n    return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getYAxisLabelPosition());\n};\nc3_axis_fn.textAnchorForY2AxisLabel = function textAnchorForY2AxisLabel() {\n    var $$ = this.owner;\n    return this.textAnchorForAxisLabel($$.config.axis_rotated, this.getY2AxisLabelPosition());\n};\nc3_axis_fn.getMaxTickWidth = function getMaxTickWidth(id, withoutRecompute) {\n    var $$ = this.owner,\n        config = $$.config,\n        maxWidth = 0,\n        targetsToShow,\n        scale,\n        axis,\n        dummy,\n        svg;\n    if (withoutRecompute && $$.currentMaxTickWidths[id]) {\n        return $$.currentMaxTickWidths[id];\n    }\n    if ($$.svg) {\n        targetsToShow = $$.filterTargetsToShow($$.data.targets);\n        if (id === 'y') {\n            scale = $$.y.copy().domain($$.getYDomain(targetsToShow, 'y'));\n            axis = this.getYAxis(scale, $$.yOrient, config.axis_y_tick_format, $$.yAxisTickValues, false, true, true);\n        } else if (id === 'y2') {\n            scale = $$.y2.copy().domain($$.getYDomain(targetsToShow, 'y2'));\n            axis = this.getYAxis(scale, $$.y2Orient, config.axis_y2_tick_format, $$.y2AxisTickValues, false, true, true);\n        } else {\n            scale = $$.x.copy().domain($$.getXDomain(targetsToShow));\n            axis = this.getXAxis(scale, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, false, true, true);\n            this.updateXAxisTickValues(targetsToShow, axis);\n        }\n        dummy = $$.d3.select('body').append('div').classed('c3', true);\n        svg = dummy.append(\"svg\").style('visibility', 'hidden').style('position', 'fixed').style('top', 0).style('left', 0), svg.append('g').call(axis).each(function () {\n            $$.d3.select(this).selectAll('text').each(function () {\n                var box = this.getBoundingClientRect();\n                if (maxWidth < box.width) {\n                    maxWidth = box.width;\n                }\n            });\n            dummy.remove();\n        });\n    }\n    $$.currentMaxTickWidths[id] = maxWidth <= 0 ? $$.currentMaxTickWidths[id] : maxWidth;\n    return $$.currentMaxTickWidths[id];\n};\n\nc3_axis_fn.updateLabels = function updateLabels(withTransition) {\n    var $$ = this.owner;\n    var axisXLabel = $$.main.select('.' + CLASS.axisX + ' .' + CLASS.axisXLabel),\n        axisYLabel = $$.main.select('.' + CLASS.axisY + ' .' + CLASS.axisYLabel),\n        axisY2Label = $$.main.select('.' + CLASS.axisY2 + ' .' + CLASS.axisY2Label);\n    (withTransition ? axisXLabel.transition() : axisXLabel).attr(\"x\", this.xForXAxisLabel.bind(this)).attr(\"dx\", this.dxForXAxisLabel.bind(this)).attr(\"dy\", this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));\n    (withTransition ? axisYLabel.transition() : axisYLabel).attr(\"x\", this.xForYAxisLabel.bind(this)).attr(\"dx\", this.dxForYAxisLabel.bind(this)).attr(\"dy\", this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));\n    (withTransition ? axisY2Label.transition() : axisY2Label).attr(\"x\", this.xForY2AxisLabel.bind(this)).attr(\"dx\", this.dxForY2AxisLabel.bind(this)).attr(\"dy\", this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this));\n};\nc3_axis_fn.getPadding = function getPadding(padding, key, defaultValue, domainLength) {\n    var p = typeof padding === 'number' ? padding : padding[key];\n    if (!isValue(p)) {\n        return defaultValue;\n    }\n    if (padding.unit === 'ratio') {\n        return padding[key] * domainLength;\n    }\n    // assume padding is pixels if unit is not specified\n    return this.convertPixelsToAxisPadding(p, domainLength);\n};\nc3_axis_fn.convertPixelsToAxisPadding = function convertPixelsToAxisPadding(pixels, domainLength) {\n    var $$ = this.owner,\n        length = $$.config.axis_rotated ? $$.width : $$.height;\n    return domainLength * (pixels / length);\n};\nc3_axis_fn.generateTickValues = function generateTickValues(values, tickCount, forTimeSeries) {\n    var tickValues = values,\n        targetCount,\n        start,\n        end,\n        count,\n        interval,\n        i,\n        tickValue;\n    if (tickCount) {\n        targetCount = isFunction(tickCount) ? tickCount() : tickCount;\n        // compute ticks according to tickCount\n        if (targetCount === 1) {\n            tickValues = [values[0]];\n        } else if (targetCount === 2) {\n            tickValues = [values[0], values[values.length - 1]];\n        } else if (targetCount > 2) {\n            count = targetCount - 2;\n            start = values[0];\n            end = values[values.length - 1];\n            interval = (end - start) / (count + 1);\n            // re-construct unique values\n            tickValues = [start];\n            for (i = 0; i < count; i++) {\n                tickValue = +start + interval * (i + 1);\n                tickValues.push(forTimeSeries ? new Date(tickValue) : tickValue);\n            }\n            tickValues.push(end);\n        }\n    }\n    if (!forTimeSeries) {\n        tickValues = tickValues.sort(function (a, b) {\n            return a - b;\n        });\n    }\n    return tickValues;\n};\nc3_axis_fn.generateTransitions = function generateTransitions(duration) {\n    var $$ = this.owner,\n        axes = $$.axes;\n    return {\n        axisX: duration ? axes.x.transition().duration(duration) : axes.x,\n        axisY: duration ? axes.y.transition().duration(duration) : axes.y,\n        axisY2: duration ? axes.y2.transition().duration(duration) : axes.y2,\n        axisSubX: duration ? axes.subx.transition().duration(duration) : axes.subx\n    };\n};\nc3_axis_fn.redraw = function redraw(transitions, isHidden) {\n    var $$ = this.owner;\n    $$.axes.x.style(\"opacity\", isHidden ? 0 : 1);\n    $$.axes.y.style(\"opacity\", isHidden ? 0 : 1);\n    $$.axes.y2.style(\"opacity\", isHidden ? 0 : 1);\n    $$.axes.subx.style(\"opacity\", isHidden ? 0 : 1);\n    transitions.axisX.call($$.xAxis);\n    transitions.axisY.call($$.yAxis);\n    transitions.axisY2.call($$.y2Axis);\n    transitions.axisSubX.call($$.subXAxis);\n};\n\nvar c3 = { version: \"0.4.21\" };\n\nvar c3_chart_fn;\nvar c3_chart_internal_fn;\n\nfunction Component(owner, componentKey, fn) {\n    this.owner = owner;\n    c3.chart.internal[componentKey] = fn;\n}\n\nfunction Chart(config) {\n    var $$ = this.internal = new ChartInternal(this);\n    $$.loadConfig(config);\n\n    $$.beforeInit(config);\n    $$.init();\n    $$.afterInit(config);\n\n    // bind \"this\" to nested API\n    (function bindThis(fn, target, argThis) {\n        Object.keys(fn).forEach(function (key) {\n            target[key] = fn[key].bind(argThis);\n            if (Object.keys(fn[key]).length > 0) {\n                bindThis(fn[key], target[key], argThis);\n            }\n        });\n    })(c3_chart_fn, this, this);\n}\n\nfunction ChartInternal(api) {\n    var $$ = this;\n    $$.d3 = window.d3 ? window.d3 : typeof require !== 'undefined' ? require(\"d3\") : undefined;\n    $$.api = api;\n    $$.config = $$.getDefaultConfig();\n    $$.data = {};\n    $$.cache = {};\n    $$.axes = {};\n}\n\nc3.generate = function (config) {\n    return new Chart(config);\n};\n\nc3.chart = {\n    fn: Chart.prototype,\n    internal: {\n        fn: ChartInternal.prototype\n    }\n};\nc3_chart_fn = c3.chart.fn;\nc3_chart_internal_fn = c3.chart.internal.fn;\n\nc3_chart_internal_fn.beforeInit = function () {\n    // can do something\n};\nc3_chart_internal_fn.afterInit = function () {\n    // can do something\n};\nc3_chart_internal_fn.init = function () {\n    var $$ = this,\n        config = $$.config;\n\n    $$.initParams();\n\n    if (config.data_url) {\n        $$.convertUrlToData(config.data_url, config.data_mimeType, config.data_headers, config.data_keys, $$.initWithData);\n    } else if (config.data_json) {\n        $$.initWithData($$.convertJsonToData(config.data_json, config.data_keys));\n    } else if (config.data_rows) {\n        $$.initWithData($$.convertRowsToData(config.data_rows));\n    } else if (config.data_columns) {\n        $$.initWithData($$.convertColumnsToData(config.data_columns));\n    } else {\n        throw Error('url or json or rows or columns is required.');\n    }\n};\n\nc3_chart_internal_fn.initParams = function () {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config;\n\n    // MEMO: clipId needs to be unique because it conflicts when multiple charts exist\n    $$.clipId = \"c3-\" + +new Date() + '-clip', $$.clipIdForXAxis = $$.clipId + '-xaxis', $$.clipIdForYAxis = $$.clipId + '-yaxis', $$.clipIdForGrid = $$.clipId + '-grid', $$.clipIdForSubchart = $$.clipId + '-subchart', $$.clipPath = $$.getClipPath($$.clipId), $$.clipPathForXAxis = $$.getClipPath($$.clipIdForXAxis), $$.clipPathForYAxis = $$.getClipPath($$.clipIdForYAxis);\n    $$.clipPathForGrid = $$.getClipPath($$.clipIdForGrid), $$.clipPathForSubchart = $$.getClipPath($$.clipIdForSubchart), $$.dragStart = null;\n    $$.dragging = false;\n    $$.flowing = false;\n    $$.cancelClick = false;\n    $$.mouseover = false;\n    $$.transiting = false;\n\n    $$.color = $$.generateColor();\n    $$.levelColor = $$.generateLevelColor();\n\n    $$.dataTimeFormat = config.data_xLocaltime ? d3.time.format : d3.time.format.utc;\n    $$.axisTimeFormat = config.axis_x_localtime ? d3.time.format : d3.time.format.utc;\n    $$.defaultAxisTimeFormat = $$.axisTimeFormat.multi([[\".%L\", function (d) {\n        return d.getMilliseconds();\n    }], [\":%S\", function (d) {\n        return d.getSeconds();\n    }], [\"%I:%M\", function (d) {\n        return d.getMinutes();\n    }], [\"%I %p\", function (d) {\n        return d.getHours();\n    }], [\"%-m/%-d\", function (d) {\n        return d.getDay() && d.getDate() !== 1;\n    }], [\"%-m/%-d\", function (d) {\n        return d.getDate() !== 1;\n    }], [\"%-m/%-d\", function (d) {\n        return d.getMonth();\n    }], [\"%Y/%-m/%-d\", function () {\n        return true;\n    }]]);\n\n    $$.hiddenTargetIds = [];\n    $$.hiddenLegendIds = [];\n    $$.focusedTargetIds = [];\n    $$.defocusedTargetIds = [];\n\n    $$.xOrient = config.axis_rotated ? \"left\" : \"bottom\";\n    $$.yOrient = config.axis_rotated ? config.axis_y_inner ? \"top\" : \"bottom\" : config.axis_y_inner ? \"right\" : \"left\";\n    $$.y2Orient = config.axis_rotated ? config.axis_y2_inner ? \"bottom\" : \"top\" : config.axis_y2_inner ? \"left\" : \"right\";\n    $$.subXOrient = config.axis_rotated ? \"left\" : \"bottom\";\n\n    $$.isLegendRight = config.legend_position === 'right';\n    $$.isLegendInset = config.legend_position === 'inset';\n    $$.isLegendTop = config.legend_inset_anchor === 'top-left' || config.legend_inset_anchor === 'top-right';\n    $$.isLegendLeft = config.legend_inset_anchor === 'top-left' || config.legend_inset_anchor === 'bottom-left';\n    $$.legendStep = 0;\n    $$.legendItemWidth = 0;\n    $$.legendItemHeight = 0;\n\n    $$.currentMaxTickWidths = {\n        x: 0,\n        y: 0,\n        y2: 0\n    };\n\n    $$.rotated_padding_left = 30;\n    $$.rotated_padding_right = config.axis_rotated && !config.axis_x_show ? 0 : 30;\n    $$.rotated_padding_top = 5;\n\n    $$.withoutFadeIn = {};\n\n    $$.intervalForObserveInserted = undefined;\n\n    $$.axes.subx = d3.selectAll([]); // needs when excluding subchart.js\n};\n\nc3_chart_internal_fn.initChartElements = function () {\n    if (this.initBar) {\n        this.initBar();\n    }\n    if (this.initLine) {\n        this.initLine();\n    }\n    if (this.initArc) {\n        this.initArc();\n    }\n    if (this.initGauge) {\n        this.initGauge();\n    }\n    if (this.initText) {\n        this.initText();\n    }\n};\n\nc3_chart_internal_fn.initWithData = function (data) {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config;\n    var defs,\n        main,\n        binding = true;\n\n    $$.axis = new Axis($$);\n\n    if ($$.initPie) {\n        $$.initPie();\n    }\n    if ($$.initBrush) {\n        $$.initBrush();\n    }\n    if ($$.initZoom) {\n        $$.initZoom();\n    }\n\n    if (!config.bindto) {\n        $$.selectChart = d3.selectAll([]);\n    } else if (typeof config.bindto.node === 'function') {\n        $$.selectChart = config.bindto;\n    } else {\n        $$.selectChart = d3.select(config.bindto);\n    }\n    if ($$.selectChart.empty()) {\n        $$.selectChart = d3.select(document.createElement('div')).style('opacity', 0);\n        $$.observeInserted($$.selectChart);\n        binding = false;\n    }\n    $$.selectChart.html(\"\").classed(\"c3\", true);\n\n    // Init data as targets\n    $$.data.xs = {};\n    $$.data.targets = $$.convertDataToTargets(data);\n\n    if (config.data_filter) {\n        $$.data.targets = $$.data.targets.filter(config.data_filter);\n    }\n\n    // Set targets to hide if needed\n    if (config.data_hide) {\n        $$.addHiddenTargetIds(config.data_hide === true ? $$.mapToIds($$.data.targets) : config.data_hide);\n    }\n    if (config.legend_hide) {\n        $$.addHiddenLegendIds(config.legend_hide === true ? $$.mapToIds($$.data.targets) : config.legend_hide);\n    }\n\n    // Init sizes and scales\n    $$.updateSizes();\n    $$.updateScales();\n\n    // Set domains for each scale\n    $$.x.domain(d3.extent($$.getXDomain($$.data.targets)));\n    $$.y.domain($$.getYDomain($$.data.targets, 'y'));\n    $$.y2.domain($$.getYDomain($$.data.targets, 'y2'));\n    $$.subX.domain($$.x.domain());\n    $$.subY.domain($$.y.domain());\n    $$.subY2.domain($$.y2.domain());\n\n    // Save original x domain for zoom update\n    $$.orgXDomain = $$.x.domain();\n\n    // Set initialized scales to brush and zoom\n    if ($$.brush) {\n        $$.brush.scale($$.subX);\n    }\n    if (config.zoom_enabled) {\n        $$.zoom.scale($$.x);\n    }\n\n    /*-- Basic Elements --*/\n\n    // Define svgs\n    $$.svg = $$.selectChart.append(\"svg\").style(\"overflow\", \"hidden\").on('mouseenter', function () {\n        return config.onmouseover.call($$);\n    }).on('mouseleave', function () {\n        return config.onmouseout.call($$);\n    });\n\n    if ($$.config.svg_classname) {\n        $$.svg.attr('class', $$.config.svg_classname);\n    }\n\n    // Define defs\n    defs = $$.svg.append(\"defs\");\n    $$.clipChart = $$.appendClip(defs, $$.clipId);\n    $$.clipXAxis = $$.appendClip(defs, $$.clipIdForXAxis);\n    $$.clipYAxis = $$.appendClip(defs, $$.clipIdForYAxis);\n    $$.clipGrid = $$.appendClip(defs, $$.clipIdForGrid);\n    $$.clipSubchart = $$.appendClip(defs, $$.clipIdForSubchart);\n    $$.updateSvgSize();\n\n    // Define regions\n    main = $$.main = $$.svg.append(\"g\").attr(\"transform\", $$.getTranslate('main'));\n\n    if ($$.initSubchart) {\n        $$.initSubchart();\n    }\n    if ($$.initTooltip) {\n        $$.initTooltip();\n    }\n    if ($$.initLegend) {\n        $$.initLegend();\n    }\n    if ($$.initTitle) {\n        $$.initTitle();\n    }\n\n    /*-- Main Region --*/\n\n    // text when empty\n    main.append(\"text\").attr(\"class\", CLASS.text + ' ' + CLASS.empty).attr(\"text-anchor\", \"middle\") // horizontal centering of text at x position in all browsers.\n    .attr(\"dominant-baseline\", \"middle\"); // vertical centering of text at y position in all browsers, except IE.\n\n    // Regions\n    $$.initRegion();\n\n    // Grids\n    $$.initGrid();\n\n    // Define g for chart area\n    main.append('g').attr(\"clip-path\", $$.clipPath).attr('class', CLASS.chart);\n\n    // Grid lines\n    if (config.grid_lines_front) {\n        $$.initGridLines();\n    }\n\n    // Cover whole with rects for events\n    $$.initEventRect();\n\n    // Define g for chart\n    $$.initChartElements();\n\n    // if zoom privileged, insert rect to forefront\n    // TODO: is this needed?\n    main.insert('rect', config.zoom_privileged ? null : 'g.' + CLASS.regions).attr('class', CLASS.zoomRect).attr('width', $$.width).attr('height', $$.height).style('opacity', 0).on(\"dblclick.zoom\", null);\n\n    // Set default extent if defined\n    if (config.axis_x_extent) {\n        $$.brush.extent($$.getDefaultExtent());\n    }\n\n    // Add Axis\n    $$.axis.init();\n\n    // Set targets\n    $$.updateTargets($$.data.targets);\n\n    // Draw with targets\n    if (binding) {\n        $$.updateDimension();\n        $$.config.oninit.call($$);\n        $$.redraw({\n            withTransition: false,\n            withTransform: true,\n            withUpdateXDomain: true,\n            withUpdateOrgXDomain: true,\n            withTransitionForAxis: false\n        });\n    }\n\n    // Bind resize event\n    $$.bindResize();\n\n    // export element of the chart\n    $$.api.element = $$.selectChart.node();\n};\n\nc3_chart_internal_fn.smoothLines = function (el, type) {\n    var $$ = this;\n    if (type === 'grid') {\n        el.each(function () {\n            var g = $$.d3.select(this),\n                x1 = g.attr('x1'),\n                x2 = g.attr('x2'),\n                y1 = g.attr('y1'),\n                y2 = g.attr('y2');\n            g.attr({\n                'x1': Math.ceil(x1),\n                'x2': Math.ceil(x2),\n                'y1': Math.ceil(y1),\n                'y2': Math.ceil(y2)\n            });\n        });\n    }\n};\n\nc3_chart_internal_fn.updateSizes = function () {\n    var $$ = this,\n        config = $$.config;\n    var legendHeight = $$.legend ? $$.getLegendHeight() : 0,\n        legendWidth = $$.legend ? $$.getLegendWidth() : 0,\n        legendHeightForBottom = $$.isLegendRight || $$.isLegendInset ? 0 : legendHeight,\n        hasArc = $$.hasArcType(),\n        xAxisHeight = config.axis_rotated || hasArc ? 0 : $$.getHorizontalAxisHeight('x'),\n        subchartHeight = config.subchart_show && !hasArc ? config.subchart_size_height + xAxisHeight : 0;\n\n    $$.currentWidth = $$.getCurrentWidth();\n    $$.currentHeight = $$.getCurrentHeight();\n\n    // for main\n    $$.margin = config.axis_rotated ? {\n        top: $$.getHorizontalAxisHeight('y2') + $$.getCurrentPaddingTop(),\n        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n        bottom: $$.getHorizontalAxisHeight('y') + legendHeightForBottom + $$.getCurrentPaddingBottom(),\n        left: subchartHeight + (hasArc ? 0 : $$.getCurrentPaddingLeft())\n    } : {\n        top: 4 + $$.getCurrentPaddingTop(), // for top tick text\n        right: hasArc ? 0 : $$.getCurrentPaddingRight(),\n        bottom: xAxisHeight + subchartHeight + legendHeightForBottom + $$.getCurrentPaddingBottom(),\n        left: hasArc ? 0 : $$.getCurrentPaddingLeft()\n    };\n\n    // for subchart\n    $$.margin2 = config.axis_rotated ? {\n        top: $$.margin.top,\n        right: NaN,\n        bottom: 20 + legendHeightForBottom,\n        left: $$.rotated_padding_left\n    } : {\n        top: $$.currentHeight - subchartHeight - legendHeightForBottom,\n        right: NaN,\n        bottom: xAxisHeight + legendHeightForBottom,\n        left: $$.margin.left\n    };\n\n    // for legend\n    $$.margin3 = {\n        top: 0,\n        right: NaN,\n        bottom: 0,\n        left: 0\n    };\n    if ($$.updateSizeForLegend) {\n        $$.updateSizeForLegend(legendHeight, legendWidth);\n    }\n\n    $$.width = $$.currentWidth - $$.margin.left - $$.margin.right;\n    $$.height = $$.currentHeight - $$.margin.top - $$.margin.bottom;\n    if ($$.width < 0) {\n        $$.width = 0;\n    }\n    if ($$.height < 0) {\n        $$.height = 0;\n    }\n\n    $$.width2 = config.axis_rotated ? $$.margin.left - $$.rotated_padding_left - $$.rotated_padding_right : $$.width;\n    $$.height2 = config.axis_rotated ? $$.height : $$.currentHeight - $$.margin2.top - $$.margin2.bottom;\n    if ($$.width2 < 0) {\n        $$.width2 = 0;\n    }\n    if ($$.height2 < 0) {\n        $$.height2 = 0;\n    }\n\n    // for arc\n    $$.arcWidth = $$.width - ($$.isLegendRight ? legendWidth + 10 : 0);\n    $$.arcHeight = $$.height - ($$.isLegendRight ? 0 : 10);\n    if ($$.hasType('gauge') && !config.gauge_fullCircle) {\n        $$.arcHeight += $$.height - $$.getGaugeLabelHeight();\n    }\n    if ($$.updateRadius) {\n        $$.updateRadius();\n    }\n\n    if ($$.isLegendRight && hasArc) {\n        $$.margin3.left = $$.arcWidth / 2 + $$.radiusExpanded * 1.1;\n    }\n};\n\nc3_chart_internal_fn.updateTargets = function (targets) {\n    var $$ = this;\n\n    /*-- Main --*/\n\n    //-- Text --//\n    $$.updateTargetsForText(targets);\n\n    //-- Bar --//\n    $$.updateTargetsForBar(targets);\n\n    //-- Line --//\n    $$.updateTargetsForLine(targets);\n\n    //-- Arc --//\n    if ($$.hasArcType() && $$.updateTargetsForArc) {\n        $$.updateTargetsForArc(targets);\n    }\n\n    /*-- Sub --*/\n\n    if ($$.updateTargetsForSubchart) {\n        $$.updateTargetsForSubchart(targets);\n    }\n\n    // Fade-in each chart\n    $$.showTargets();\n};\nc3_chart_internal_fn.showTargets = function () {\n    var $$ = this;\n    $$.svg.selectAll('.' + CLASS.target).filter(function (d) {\n        return $$.isTargetToShow(d.id);\n    }).transition().duration($$.config.transition_duration).style(\"opacity\", 1);\n};\n\nc3_chart_internal_fn.redraw = function (options, transitions) {\n    var $$ = this,\n        main = $$.main,\n        d3 = $$.d3,\n        config = $$.config;\n    var areaIndices = $$.getShapeIndices($$.isAreaType),\n        barIndices = $$.getShapeIndices($$.isBarType),\n        lineIndices = $$.getShapeIndices($$.isLineType);\n    var withY, withSubchart, withTransition, withTransitionForExit, withTransitionForAxis, withTransform, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain, withLegend, withEventRect, withDimension, withUpdateXAxis;\n    var hideAxis = $$.hasArcType();\n    var drawArea, drawBar, drawLine, xForText, yForText;\n    var duration, durationForExit, durationForAxis;\n    var waitForDraw, flow;\n    var targetsToShow = $$.filterTargetsToShow($$.data.targets),\n        tickValues,\n        i,\n        intervalForCulling,\n        xDomainForZoom;\n    var xv = $$.xv.bind($$),\n        cx,\n        cy;\n\n    options = options || {};\n    withY = getOption(options, \"withY\", true);\n    withSubchart = getOption(options, \"withSubchart\", true);\n    withTransition = getOption(options, \"withTransition\", true);\n    withTransform = getOption(options, \"withTransform\", false);\n    withUpdateXDomain = getOption(options, \"withUpdateXDomain\", false);\n    withUpdateOrgXDomain = getOption(options, \"withUpdateOrgXDomain\", false);\n    withTrimXDomain = getOption(options, \"withTrimXDomain\", true);\n    withUpdateXAxis = getOption(options, \"withUpdateXAxis\", withUpdateXDomain);\n    withLegend = getOption(options, \"withLegend\", false);\n    withEventRect = getOption(options, \"withEventRect\", true);\n    withDimension = getOption(options, \"withDimension\", true);\n    withTransitionForExit = getOption(options, \"withTransitionForExit\", withTransition);\n    withTransitionForAxis = getOption(options, \"withTransitionForAxis\", withTransition);\n\n    duration = withTransition ? config.transition_duration : 0;\n    durationForExit = withTransitionForExit ? duration : 0;\n    durationForAxis = withTransitionForAxis ? duration : 0;\n\n    transitions = transitions || $$.axis.generateTransitions(durationForAxis);\n\n    // update legend and transform each g\n    if (withLegend && config.legend_show) {\n        $$.updateLegend($$.mapToIds($$.data.targets), options, transitions);\n    } else if (withDimension) {\n        // need to update dimension (e.g. axis.y.tick.values) because y tick values should change\n        // no need to update axis in it because they will be updated in redraw()\n        $$.updateDimension(true);\n    }\n\n    // MEMO: needed for grids calculation\n    if ($$.isCategorized() && targetsToShow.length === 0) {\n        $$.x.domain([0, $$.axes.x.selectAll('.tick').size()]);\n    }\n\n    if (targetsToShow.length) {\n        $$.updateXDomain(targetsToShow, withUpdateXDomain, withUpdateOrgXDomain, withTrimXDomain);\n        if (!config.axis_x_tick_values) {\n            tickValues = $$.axis.updateXAxisTickValues(targetsToShow);\n        }\n    } else {\n        $$.xAxis.tickValues([]);\n        $$.subXAxis.tickValues([]);\n    }\n\n    if (config.zoom_rescale && !options.flow) {\n        xDomainForZoom = $$.x.orgDomain();\n    }\n\n    $$.y.domain($$.getYDomain(targetsToShow, 'y', xDomainForZoom));\n    $$.y2.domain($$.getYDomain(targetsToShow, 'y2', xDomainForZoom));\n\n    if (!config.axis_y_tick_values && config.axis_y_tick_count) {\n        $$.yAxis.tickValues($$.axis.generateTickValues($$.y.domain(), config.axis_y_tick_count));\n    }\n    if (!config.axis_y2_tick_values && config.axis_y2_tick_count) {\n        $$.y2Axis.tickValues($$.axis.generateTickValues($$.y2.domain(), config.axis_y2_tick_count));\n    }\n\n    // axes\n    $$.axis.redraw(transitions, hideAxis);\n\n    // Update axis label\n    $$.axis.updateLabels(withTransition);\n\n    // show/hide if manual culling needed\n    if ((withUpdateXDomain || withUpdateXAxis) && targetsToShow.length) {\n        if (config.axis_x_tick_culling && tickValues) {\n            for (i = 1; i < tickValues.length; i++) {\n                if (tickValues.length / i < config.axis_x_tick_culling_max) {\n                    intervalForCulling = i;\n                    break;\n                }\n            }\n            $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').each(function (e) {\n                var index = tickValues.indexOf(e);\n                if (index >= 0) {\n                    d3.select(this).style('display', index % intervalForCulling ? 'none' : 'block');\n                }\n            });\n        } else {\n            $$.svg.selectAll('.' + CLASS.axisX + ' .tick text').style('display', 'block');\n        }\n    }\n\n    // setup drawer - MEMO: these must be called after axis updated\n    drawArea = $$.generateDrawArea ? $$.generateDrawArea(areaIndices, false) : undefined;\n    drawBar = $$.generateDrawBar ? $$.generateDrawBar(barIndices) : undefined;\n    drawLine = $$.generateDrawLine ? $$.generateDrawLine(lineIndices, false) : undefined;\n    xForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, true);\n    yForText = $$.generateXYForText(areaIndices, barIndices, lineIndices, false);\n\n    // Update sub domain\n    if (withY) {\n        $$.subY.domain($$.getYDomain(targetsToShow, 'y'));\n        $$.subY2.domain($$.getYDomain(targetsToShow, 'y2'));\n    }\n\n    // xgrid focus\n    $$.updateXgridFocus();\n\n    // Data empty label positioning and text.\n    main.select(\"text.\" + CLASS.text + '.' + CLASS.empty).attr(\"x\", $$.width / 2).attr(\"y\", $$.height / 2).text(config.data_empty_label_text).transition().style('opacity', targetsToShow.length ? 0 : 1);\n\n    // grid\n    $$.updateGrid(duration);\n\n    // rect for regions\n    $$.updateRegion(duration);\n\n    // bars\n    $$.updateBar(durationForExit);\n\n    // lines, areas and cricles\n    $$.updateLine(durationForExit);\n    $$.updateArea(durationForExit);\n    $$.updateCircle();\n\n    // text\n    if ($$.hasDataLabel()) {\n        $$.updateText(durationForExit);\n    }\n\n    // title\n    if ($$.redrawTitle) {\n        $$.redrawTitle();\n    }\n\n    // arc\n    if ($$.redrawArc) {\n        $$.redrawArc(duration, durationForExit, withTransform);\n    }\n\n    // subchart\n    if ($$.redrawSubchart) {\n        $$.redrawSubchart(withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices);\n    }\n\n    // circles for select\n    main.selectAll('.' + CLASS.selectedCircles).filter($$.isBarType.bind($$)).selectAll('circle').remove();\n\n    // event rects will redrawn when flow called\n    if (config.interaction_enabled && !options.flow && withEventRect) {\n        $$.redrawEventRect();\n        if ($$.updateZoom) {\n            $$.updateZoom();\n        }\n    }\n\n    // update circleY based on updated parameters\n    $$.updateCircleY();\n\n    // generate circle x/y functions depending on updated params\n    cx = ($$.config.axis_rotated ? $$.circleY : $$.circleX).bind($$);\n    cy = ($$.config.axis_rotated ? $$.circleX : $$.circleY).bind($$);\n\n    if (options.flow) {\n        flow = $$.generateFlow({\n            targets: targetsToShow,\n            flow: options.flow,\n            duration: options.flow.duration,\n            drawBar: drawBar,\n            drawLine: drawLine,\n            drawArea: drawArea,\n            cx: cx,\n            cy: cy,\n            xv: xv,\n            xForText: xForText,\n            yForText: yForText\n        });\n    }\n\n    if ((duration || flow) && $$.isTabVisible()) {\n        // Only use transition if tab visible. See #938.\n        // transition should be derived from one transition\n        d3.transition().duration(duration).each(function () {\n            var transitionsToWait = [];\n\n            // redraw and gather transitions\n            [$$.redrawBar(drawBar, true), $$.redrawLine(drawLine, true), $$.redrawArea(drawArea, true), $$.redrawCircle(cx, cy, true), $$.redrawText(xForText, yForText, options.flow, true), $$.redrawRegion(true), $$.redrawGrid(true)].forEach(function (transitions) {\n                transitions.forEach(function (transition) {\n                    transitionsToWait.push(transition);\n                });\n            });\n\n            // Wait for end of transitions to call flow and onrendered callback\n            waitForDraw = $$.generateWait();\n            transitionsToWait.forEach(function (t) {\n                waitForDraw.add(t);\n            });\n        }).call(waitForDraw, function () {\n            if (flow) {\n                flow();\n            }\n            if (config.onrendered) {\n                config.onrendered.call($$);\n            }\n        });\n    } else {\n        $$.redrawBar(drawBar);\n        $$.redrawLine(drawLine);\n        $$.redrawArea(drawArea);\n        $$.redrawCircle(cx, cy);\n        $$.redrawText(xForText, yForText, options.flow);\n        $$.redrawRegion();\n        $$.redrawGrid();\n        if (config.onrendered) {\n            config.onrendered.call($$);\n        }\n    }\n\n    // update fadein condition\n    $$.mapToIds($$.data.targets).forEach(function (id) {\n        $$.withoutFadeIn[id] = true;\n    });\n};\n\nc3_chart_internal_fn.updateAndRedraw = function (options) {\n    var $$ = this,\n        config = $$.config,\n        transitions;\n    options = options || {};\n    // same with redraw\n    options.withTransition = getOption(options, \"withTransition\", true);\n    options.withTransform = getOption(options, \"withTransform\", false);\n    options.withLegend = getOption(options, \"withLegend\", false);\n    // NOT same with redraw\n    options.withUpdateXDomain = true;\n    options.withUpdateOrgXDomain = true;\n    options.withTransitionForExit = false;\n    options.withTransitionForTransform = getOption(options, \"withTransitionForTransform\", options.withTransition);\n    // MEMO: this needs to be called before updateLegend and it means this ALWAYS needs to be called)\n    $$.updateSizes();\n    // MEMO: called in updateLegend in redraw if withLegend\n    if (!(options.withLegend && config.legend_show)) {\n        transitions = $$.axis.generateTransitions(options.withTransitionForAxis ? config.transition_duration : 0);\n        // Update scales\n        $$.updateScales();\n        $$.updateSvgSize();\n        // Update g positions\n        $$.transformAll(options.withTransitionForTransform, transitions);\n    }\n    // Draw with new sizes & scales\n    $$.redraw(options, transitions);\n};\nc3_chart_internal_fn.redrawWithoutRescale = function () {\n    this.redraw({\n        withY: false,\n        withSubchart: false,\n        withEventRect: false,\n        withTransitionForAxis: false\n    });\n};\n\nc3_chart_internal_fn.isTimeSeries = function () {\n    return this.config.axis_x_type === 'timeseries';\n};\nc3_chart_internal_fn.isCategorized = function () {\n    return this.config.axis_x_type.indexOf('categor') >= 0;\n};\nc3_chart_internal_fn.isCustomX = function () {\n    var $$ = this,\n        config = $$.config;\n    return !$$.isTimeSeries() && (config.data_x || notEmpty(config.data_xs));\n};\n\nc3_chart_internal_fn.isTimeSeriesY = function () {\n    return this.config.axis_y_type === 'timeseries';\n};\n\nc3_chart_internal_fn.getTranslate = function (target) {\n    var $$ = this,\n        config = $$.config,\n        x,\n        y;\n    if (target === 'main') {\n        x = asHalfPixel($$.margin.left);\n        y = asHalfPixel($$.margin.top);\n    } else if (target === 'context') {\n        x = asHalfPixel($$.margin2.left);\n        y = asHalfPixel($$.margin2.top);\n    } else if (target === 'legend') {\n        x = $$.margin3.left;\n        y = $$.margin3.top;\n    } else if (target === 'x') {\n        x = 0;\n        y = config.axis_rotated ? 0 : $$.height;\n    } else if (target === 'y') {\n        x = 0;\n        y = config.axis_rotated ? $$.height : 0;\n    } else if (target === 'y2') {\n        x = config.axis_rotated ? 0 : $$.width;\n        y = config.axis_rotated ? 1 : 0;\n    } else if (target === 'subx') {\n        x = 0;\n        y = config.axis_rotated ? 0 : $$.height2;\n    } else if (target === 'arc') {\n        x = $$.arcWidth / 2;\n        y = $$.arcHeight / 2 - ($$.hasType('gauge') ? 6 : 0); // to prevent wrong display of min and max label\n    }\n    return \"translate(\" + x + \",\" + y + \")\";\n};\nc3_chart_internal_fn.initialOpacity = function (d) {\n    return d.value !== null && this.withoutFadeIn[d.id] ? 1 : 0;\n};\nc3_chart_internal_fn.initialOpacityForCircle = function (d) {\n    return d.value !== null && this.withoutFadeIn[d.id] ? this.opacityForCircle(d) : 0;\n};\nc3_chart_internal_fn.opacityForCircle = function (d) {\n    var isPointShouldBeShown = isFunction(this.config.point_show) ? this.config.point_show(d) : this.config.point_show;\n    var opacity = isPointShouldBeShown ? 1 : 0;\n    return isValue(d.value) ? this.isScatterType(d) ? 0.5 : opacity : 0;\n};\nc3_chart_internal_fn.opacityForText = function () {\n    return this.hasDataLabel() ? 1 : 0;\n};\nc3_chart_internal_fn.xx = function (d) {\n    return d ? this.x(d.x) : null;\n};\nc3_chart_internal_fn.xv = function (d) {\n    var $$ = this,\n        value = d.value;\n    if ($$.isTimeSeries()) {\n        value = $$.parseDate(d.value);\n    } else if ($$.isCategorized() && typeof d.value === 'string') {\n        value = $$.config.axis_x_categories.indexOf(d.value);\n    }\n    return Math.ceil($$.x(value));\n};\nc3_chart_internal_fn.yv = function (d) {\n    var $$ = this,\n        yScale = d.axis && d.axis === 'y2' ? $$.y2 : $$.y;\n    return Math.ceil(yScale(d.value));\n};\nc3_chart_internal_fn.subxx = function (d) {\n    return d ? this.subX(d.x) : null;\n};\n\nc3_chart_internal_fn.transformMain = function (withTransition, transitions) {\n    var $$ = this,\n        xAxis,\n        yAxis,\n        y2Axis;\n    if (transitions && transitions.axisX) {\n        xAxis = transitions.axisX;\n    } else {\n        xAxis = $$.main.select('.' + CLASS.axisX);\n        if (withTransition) {\n            xAxis = xAxis.transition();\n        }\n    }\n    if (transitions && transitions.axisY) {\n        yAxis = transitions.axisY;\n    } else {\n        yAxis = $$.main.select('.' + CLASS.axisY);\n        if (withTransition) {\n            yAxis = yAxis.transition();\n        }\n    }\n    if (transitions && transitions.axisY2) {\n        y2Axis = transitions.axisY2;\n    } else {\n        y2Axis = $$.main.select('.' + CLASS.axisY2);\n        if (withTransition) {\n            y2Axis = y2Axis.transition();\n        }\n    }\n    (withTransition ? $$.main.transition() : $$.main).attr(\"transform\", $$.getTranslate('main'));\n    xAxis.attr(\"transform\", $$.getTranslate('x'));\n    yAxis.attr(\"transform\", $$.getTranslate('y'));\n    y2Axis.attr(\"transform\", $$.getTranslate('y2'));\n    $$.main.select('.' + CLASS.chartArcs).attr(\"transform\", $$.getTranslate('arc'));\n};\nc3_chart_internal_fn.transformAll = function (withTransition, transitions) {\n    var $$ = this;\n    $$.transformMain(withTransition, transitions);\n    if ($$.config.subchart_show) {\n        $$.transformContext(withTransition, transitions);\n    }\n    if ($$.legend) {\n        $$.transformLegend(withTransition);\n    }\n};\n\nc3_chart_internal_fn.updateSvgSize = function () {\n    var $$ = this,\n        brush = $$.svg.select(\".c3-brush .background\");\n    $$.svg.attr('width', $$.currentWidth).attr('height', $$.currentHeight);\n    $$.svg.selectAll(['#' + $$.clipId, '#' + $$.clipIdForGrid]).select('rect').attr('width', $$.width).attr('height', $$.height);\n    $$.svg.select('#' + $$.clipIdForXAxis).select('rect').attr('x', $$.getXAxisClipX.bind($$)).attr('y', $$.getXAxisClipY.bind($$)).attr('width', $$.getXAxisClipWidth.bind($$)).attr('height', $$.getXAxisClipHeight.bind($$));\n    $$.svg.select('#' + $$.clipIdForYAxis).select('rect').attr('x', $$.getYAxisClipX.bind($$)).attr('y', $$.getYAxisClipY.bind($$)).attr('width', $$.getYAxisClipWidth.bind($$)).attr('height', $$.getYAxisClipHeight.bind($$));\n    $$.svg.select('#' + $$.clipIdForSubchart).select('rect').attr('width', $$.width).attr('height', brush.size() ? brush.attr('height') : 0);\n    $$.svg.select('.' + CLASS.zoomRect).attr('width', $$.width).attr('height', $$.height);\n    // MEMO: parent div's height will be bigger than svg when <!DOCTYPE html>\n    $$.selectChart.style('max-height', $$.currentHeight + \"px\");\n};\n\nc3_chart_internal_fn.updateDimension = function (withoutAxis) {\n    var $$ = this;\n    if (!withoutAxis) {\n        if ($$.config.axis_rotated) {\n            $$.axes.x.call($$.xAxis);\n            $$.axes.subx.call($$.subXAxis);\n        } else {\n            $$.axes.y.call($$.yAxis);\n            $$.axes.y2.call($$.y2Axis);\n        }\n    }\n    $$.updateSizes();\n    $$.updateScales();\n    $$.updateSvgSize();\n    $$.transformAll(false);\n};\n\nc3_chart_internal_fn.observeInserted = function (selection) {\n    var $$ = this,\n        observer;\n    if (typeof MutationObserver === 'undefined') {\n        window.console.error(\"MutationObserver not defined.\");\n        return;\n    }\n    observer = new MutationObserver(function (mutations) {\n        mutations.forEach(function (mutation) {\n            if (mutation.type === 'childList' && mutation.previousSibling) {\n                observer.disconnect();\n                // need to wait for completion of load because size calculation requires the actual sizes determined after that completion\n                $$.intervalForObserveInserted = window.setInterval(function () {\n                    // parentNode will NOT be null when completed\n                    if (selection.node().parentNode) {\n                        window.clearInterval($$.intervalForObserveInserted);\n                        $$.updateDimension();\n                        if ($$.brush) {\n                            $$.brush.update();\n                        }\n                        $$.config.oninit.call($$);\n                        $$.redraw({\n                            withTransform: true,\n                            withUpdateXDomain: true,\n                            withUpdateOrgXDomain: true,\n                            withTransition: false,\n                            withTransitionForTransform: false,\n                            withLegend: true\n                        });\n                        selection.transition().style('opacity', 1);\n                    }\n                }, 10);\n            }\n        });\n    });\n    observer.observe(selection.node(), { attributes: true, childList: true, characterData: true });\n};\n\nc3_chart_internal_fn.bindResize = function () {\n    var $$ = this,\n        config = $$.config;\n\n    $$.resizeFunction = $$.generateResize(); // need to call .remove\n\n    $$.resizeFunction.add(function () {\n        config.onresize.call($$);\n    });\n    if (config.resize_auto) {\n        $$.resizeFunction.add(function () {\n            if ($$.resizeTimeout !== undefined) {\n                window.clearTimeout($$.resizeTimeout);\n            }\n            $$.resizeTimeout = window.setTimeout(function () {\n                delete $$.resizeTimeout;\n                $$.api.flush();\n            }, 100);\n        });\n    }\n    $$.resizeFunction.add(function () {\n        config.onresized.call($$);\n    });\n\n    $$.resizeIfElementDisplayed = function () {\n        // if element not displayed skip it\n        if ($$.api == null || !$$.api.element.offsetParent) {\n            return;\n        }\n\n        $$.resizeFunction();\n    };\n\n    if (window.attachEvent) {\n        window.attachEvent('onresize', $$.resizeIfElementDisplayed);\n    } else if (window.addEventListener) {\n        window.addEventListener('resize', $$.resizeIfElementDisplayed, false);\n    } else {\n        // fallback to this, if this is a very old browser\n        var wrapper = window.onresize;\n        if (!wrapper) {\n            // create a wrapper that will call all charts\n            wrapper = $$.generateResize();\n        } else if (!wrapper.add || !wrapper.remove) {\n            // there is already a handler registered, make sure we call it too\n            wrapper = $$.generateResize();\n            wrapper.add(window.onresize);\n        }\n        // add this graph to the wrapper, we will be removed if the user calls destroy\n        wrapper.add($$.resizeFunction);\n        window.onresize = function () {\n            // if element not displayed skip it\n            if (!$$.api.element.offsetParent) {\n                return;\n            }\n\n            wrapper();\n        };\n    }\n};\n\nc3_chart_internal_fn.generateResize = function () {\n    var resizeFunctions = [];\n    function callResizeFunctions() {\n        resizeFunctions.forEach(function (f) {\n            f();\n        });\n    }\n    callResizeFunctions.add = function (f) {\n        resizeFunctions.push(f);\n    };\n    callResizeFunctions.remove = function (f) {\n        for (var i = 0; i < resizeFunctions.length; i++) {\n            if (resizeFunctions[i] === f) {\n                resizeFunctions.splice(i, 1);\n                break;\n            }\n        }\n    };\n    return callResizeFunctions;\n};\n\nc3_chart_internal_fn.endall = function (transition, callback) {\n    var n = 0;\n    transition.each(function () {\n        ++n;\n    }).each(\"end\", function () {\n        if (! --n) {\n            callback.apply(this, arguments);\n        }\n    });\n};\nc3_chart_internal_fn.generateWait = function () {\n    var transitionsToWait = [],\n        f = function f(transition, callback) {\n        var timer = setInterval(function () {\n            var done = 0;\n            transitionsToWait.forEach(function (t) {\n                if (t.empty()) {\n                    done += 1;\n                    return;\n                }\n                try {\n                    t.transition();\n                } catch (e) {\n                    done += 1;\n                }\n            });\n            if (done === transitionsToWait.length) {\n                clearInterval(timer);\n                if (callback) {\n                    callback();\n                }\n            }\n        }, 10);\n    };\n    f.add = function (transition) {\n        transitionsToWait.push(transition);\n    };\n    return f;\n};\n\nc3_chart_internal_fn.parseDate = function (date) {\n    var $$ = this,\n        parsedDate;\n    if (date instanceof Date) {\n        parsedDate = date;\n    } else if (typeof date === 'string') {\n        parsedDate = $$.dataTimeFormat($$.config.data_xFormat).parse(date);\n    } else if ((typeof date === 'undefined' ? 'undefined' : _typeof(date)) === 'object') {\n        parsedDate = new Date(+date);\n    } else if (typeof date === 'number' && !isNaN(date)) {\n        parsedDate = new Date(+date);\n    }\n    if (!parsedDate || isNaN(+parsedDate)) {\n        window.console.error(\"Failed to parse x '\" + date + \"' to Date object\");\n    }\n    return parsedDate;\n};\n\nc3_chart_internal_fn.isTabVisible = function () {\n    var hidden;\n    if (typeof document.hidden !== \"undefined\") {\n        // Opera 12.10 and Firefox 18 and later support\n        hidden = \"hidden\";\n    } else if (typeof document.mozHidden !== \"undefined\") {\n        hidden = \"mozHidden\";\n    } else if (typeof document.msHidden !== \"undefined\") {\n        hidden = \"msHidden\";\n    } else if (typeof document.webkitHidden !== \"undefined\") {\n        hidden = \"webkitHidden\";\n    }\n\n    return document[hidden] ? false : true;\n};\n\nc3_chart_internal_fn.isValue = isValue;\nc3_chart_internal_fn.isFunction = isFunction;\nc3_chart_internal_fn.isString = isString;\nc3_chart_internal_fn.isUndefined = isUndefined;\nc3_chart_internal_fn.isDefined = isDefined;\nc3_chart_internal_fn.ceil10 = ceil10;\nc3_chart_internal_fn.asHalfPixel = asHalfPixel;\nc3_chart_internal_fn.diffDomain = diffDomain;\nc3_chart_internal_fn.isEmpty = isEmpty;\nc3_chart_internal_fn.notEmpty = notEmpty;\nc3_chart_internal_fn.notEmpty = notEmpty;\nc3_chart_internal_fn.getOption = getOption;\nc3_chart_internal_fn.hasValue = hasValue;\nc3_chart_internal_fn.sanitise = sanitise;\nc3_chart_internal_fn.getPathBox = getPathBox;\nc3_chart_internal_fn.CLASS = CLASS;\n\n/* jshint ignore:start */\n\n// PhantomJS doesn't have support for Function.prototype.bind, which has caused confusion. Use\n// this polyfill to avoid the confusion.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind#Polyfill\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function (oThis) {\n        if (typeof this !== 'function') {\n            // closest thing possible to the ECMAScript 5\n            // internal IsCallable function\n            throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\n        }\n\n        var aArgs = Array.prototype.slice.call(arguments, 1),\n            fToBind = this,\n            fNOP = function fNOP() {},\n            fBound = function fBound() {\n            return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\n        };\n\n        fNOP.prototype = this.prototype;\n        fBound.prototype = new fNOP();\n\n        return fBound;\n    };\n}\n\n// SVGPathSeg API polyfill\n// https://github.com/progers/pathseg\n//\n// This is a drop-in replacement for the SVGPathSeg and SVGPathSegList APIs that were removed from\n// SVG2 (https://lists.w3.org/Archives/Public/www-svg/2015Jun/0044.html), including the latest spec\n// changes which were implemented in Firefox 43 and Chrome 46.\n\n(function () {\n    if (!(\"SVGPathSeg\" in window)) {\n        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSeg\n        window.SVGPathSeg = function (type, typeAsLetter, owningPathSegList) {\n            this.pathSegType = type;\n            this.pathSegTypeAsLetter = typeAsLetter;\n            this._owningPathSegList = owningPathSegList;\n        };\n\n        window.SVGPathSeg.prototype.classname = \"SVGPathSeg\";\n\n        window.SVGPathSeg.PATHSEG_UNKNOWN = 0;\n        window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;\n        window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;\n        window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;\n        window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;\n        window.SVGPathSeg.PATHSEG_LINETO_REL = 5;\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;\n        window.SVGPathSeg.PATHSEG_ARC_ABS = 10;\n        window.SVGPathSeg.PATHSEG_ARC_REL = 11;\n        window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;\n        window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;\n        window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;\n        window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;\n        window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;\n        window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;\n\n        // Notify owning PathSegList on any changes so they can be synchronized back to the path element.\n        window.SVGPathSeg.prototype._segmentChanged = function () {\n            if (this._owningPathSegList) this._owningPathSegList.segmentChanged(this);\n        };\n\n        window.SVGPathSegClosePath = function (owningPathSegList) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CLOSEPATH, \"z\", owningPathSegList);\n        };\n        window.SVGPathSegClosePath.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegClosePath.prototype.toString = function () {\n            return \"[object SVGPathSegClosePath]\";\n        };\n        window.SVGPathSegClosePath.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter;\n        };\n        window.SVGPathSegClosePath.prototype.clone = function () {\n            return new window.SVGPathSegClosePath(undefined);\n        };\n\n        window.SVGPathSegMovetoAbs = function (owningPathSegList, x, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_ABS, \"M\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n        };\n        window.SVGPathSegMovetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegMovetoAbs.prototype.toString = function () {\n            return \"[object SVGPathSegMovetoAbs]\";\n        };\n        window.SVGPathSegMovetoAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegMovetoAbs.prototype.clone = function () {\n            return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegMovetoRel = function (owningPathSegList, x, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_REL, \"m\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n        };\n        window.SVGPathSegMovetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegMovetoRel.prototype.toString = function () {\n            return \"[object SVGPathSegMovetoRel]\";\n        };\n        window.SVGPathSegMovetoRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegMovetoRel.prototype.clone = function () {\n            return new window.SVGPathSegMovetoRel(undefined, this._x, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegMovetoRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegMovetoRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegLinetoAbs = function (owningPathSegList, x, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_ABS, \"L\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n        };\n        window.SVGPathSegLinetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegLinetoAbs.prototype.toString = function () {\n            return \"[object SVGPathSegLinetoAbs]\";\n        };\n        window.SVGPathSegLinetoAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegLinetoAbs.prototype.clone = function () {\n            return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegLinetoRel = function (owningPathSegList, x, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_REL, \"l\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n        };\n        window.SVGPathSegLinetoRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegLinetoRel.prototype.toString = function () {\n            return \"[object SVGPathSegLinetoRel]\";\n        };\n        window.SVGPathSegLinetoRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegLinetoRel.prototype.clone = function () {\n            return new window.SVGPathSegLinetoRel(undefined, this._x, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegLinetoRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegLinetoRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoCubicAbs = function (owningPathSegList, x, y, x1, y1, x2, y2) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, \"C\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._x1 = x1;\n            this._y1 = y1;\n            this._x2 = x2;\n            this._y2 = y2;\n        };\n        window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoCubicAbs.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoCubicAbs]\";\n        };\n        window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoCubicAbs.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"x1\", { get: function get() {\n                return this._x1;\n            }, set: function set(x1) {\n                this._x1 = x1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"y1\", { get: function get() {\n                return this._y1;\n            }, set: function set(y1) {\n                this._y1 = y1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"x2\", { get: function get() {\n                return this._x2;\n            }, set: function set(x2) {\n                this._x2 = x2;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, \"y2\", { get: function get() {\n                return this._y2;\n            }, set: function set(y2) {\n                this._y2 = y2;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoCubicRel = function (owningPathSegList, x, y, x1, y1, x2, y2) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, \"c\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._x1 = x1;\n            this._y1 = y1;\n            this._x2 = x2;\n            this._y2 = y2;\n        };\n        window.SVGPathSegCurvetoCubicRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoCubicRel.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoCubicRel]\";\n        };\n        window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoCubicRel.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"x1\", { get: function get() {\n                return this._x1;\n            }, set: function set(x1) {\n                this._x1 = x1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"y1\", { get: function get() {\n                return this._y1;\n            }, set: function set(y1) {\n                this._y1 = y1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"x2\", { get: function get() {\n                return this._x2;\n            }, set: function set(x2) {\n                this._x2 = x2;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, \"y2\", { get: function get() {\n                return this._y2;\n            }, set: function set(y2) {\n                this._y2 = y2;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoQuadraticAbs = function (owningPathSegList, x, y, x1, y1) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, \"Q\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._x1 = x1;\n            this._y1 = y1;\n        };\n        window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoQuadraticAbs]\";\n        };\n        window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"x1\", { get: function get() {\n                return this._x1;\n            }, set: function set(x1) {\n                this._x1 = x1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, \"y1\", { get: function get() {\n                return this._y1;\n            }, set: function set(y1) {\n                this._y1 = y1;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoQuadraticRel = function (owningPathSegList, x, y, x1, y1) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, \"q\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._x1 = x1;\n            this._y1 = y1;\n        };\n        window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoQuadraticRel]\";\n        };\n        window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x1 + \" \" + this._y1 + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"x1\", { get: function get() {\n                return this._x1;\n            }, set: function set(x1) {\n                this._x1 = x1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, \"y1\", { get: function get() {\n                return this._y1;\n            }, set: function set(y1) {\n                this._y1 = y1;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegArcAbs = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_ABS, \"A\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._r1 = r1;\n            this._r2 = r2;\n            this._angle = angle;\n            this._largeArcFlag = largeArcFlag;\n            this._sweepFlag = sweepFlag;\n        };\n        window.SVGPathSegArcAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegArcAbs.prototype.toString = function () {\n            return \"[object SVGPathSegArcAbs]\";\n        };\n        window.SVGPathSegArcAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._r1 + \" \" + this._r2 + \" \" + this._angle + \" \" + (this._largeArcFlag ? \"1\" : \"0\") + \" \" + (this._sweepFlag ? \"1\" : \"0\") + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegArcAbs.prototype.clone = function () {\n            return new window.SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\n        };\n        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"r1\", { get: function get() {\n                return this._r1;\n            }, set: function set(r1) {\n                this._r1 = r1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"r2\", { get: function get() {\n                return this._r2;\n            }, set: function set(r2) {\n                this._r2 = r2;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"angle\", { get: function get() {\n                return this._angle;\n            }, set: function set(angle) {\n                this._angle = angle;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"largeArcFlag\", { get: function get() {\n                return this._largeArcFlag;\n            }, set: function set(largeArcFlag) {\n                this._largeArcFlag = largeArcFlag;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcAbs.prototype, \"sweepFlag\", { get: function get() {\n                return this._sweepFlag;\n            }, set: function set(sweepFlag) {\n                this._sweepFlag = sweepFlag;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegArcRel = function (owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_REL, \"a\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._r1 = r1;\n            this._r2 = r2;\n            this._angle = angle;\n            this._largeArcFlag = largeArcFlag;\n            this._sweepFlag = sweepFlag;\n        };\n        window.SVGPathSegArcRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegArcRel.prototype.toString = function () {\n            return \"[object SVGPathSegArcRel]\";\n        };\n        window.SVGPathSegArcRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._r1 + \" \" + this._r2 + \" \" + this._angle + \" \" + (this._largeArcFlag ? \"1\" : \"0\") + \" \" + (this._sweepFlag ? \"1\" : \"0\") + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegArcRel.prototype.clone = function () {\n            return new window.SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag);\n        };\n        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"r1\", { get: function get() {\n                return this._r1;\n            }, set: function set(r1) {\n                this._r1 = r1;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"r2\", { get: function get() {\n                return this._r2;\n            }, set: function set(r2) {\n                this._r2 = r2;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"angle\", { get: function get() {\n                return this._angle;\n            }, set: function set(angle) {\n                this._angle = angle;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"largeArcFlag\", { get: function get() {\n                return this._largeArcFlag;\n            }, set: function set(largeArcFlag) {\n                this._largeArcFlag = largeArcFlag;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegArcRel.prototype, \"sweepFlag\", { get: function get() {\n                return this._sweepFlag;\n            }, set: function set(sweepFlag) {\n                this._sweepFlag = sweepFlag;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegLinetoHorizontalAbs = function (owningPathSegList, x) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, \"H\", owningPathSegList);\n            this._x = x;\n        };\n        window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function () {\n            return \"[object SVGPathSegLinetoHorizontalAbs]\";\n        };\n        window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x;\n        };\n        window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function () {\n            return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x);\n        };\n        Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegLinetoHorizontalRel = function (owningPathSegList, x) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, \"h\", owningPathSegList);\n            this._x = x;\n        };\n        window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegLinetoHorizontalRel.prototype.toString = function () {\n            return \"[object SVGPathSegLinetoHorizontalRel]\";\n        };\n        window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x;\n        };\n        window.SVGPathSegLinetoHorizontalRel.prototype.clone = function () {\n            return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x);\n        };\n        Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegLinetoVerticalAbs = function (owningPathSegList, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, \"V\", owningPathSegList);\n            this._y = y;\n        };\n        window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegLinetoVerticalAbs.prototype.toString = function () {\n            return \"[object SVGPathSegLinetoVerticalAbs]\";\n        };\n        window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._y;\n        };\n        window.SVGPathSegLinetoVerticalAbs.prototype.clone = function () {\n            return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegLinetoVerticalRel = function (owningPathSegList, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, \"v\", owningPathSegList);\n            this._y = y;\n        };\n        window.SVGPathSegLinetoVerticalRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegLinetoVerticalRel.prototype.toString = function () {\n            return \"[object SVGPathSegLinetoVerticalRel]\";\n        };\n        window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._y;\n        };\n        window.SVGPathSegLinetoVerticalRel.prototype.clone = function () {\n            return new window.SVGPathSegLinetoVerticalRel(undefined, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoCubicSmoothAbs = function (owningPathSegList, x, y, x2, y2) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, \"S\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._x2 = x2;\n            this._y2 = y2;\n        };\n        window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoCubicSmoothAbs]\";\n        };\n        window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"x2\", { get: function get() {\n                return this._x2;\n            }, set: function set(x2) {\n                this._x2 = x2;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, \"y2\", { get: function get() {\n                return this._y2;\n            }, set: function set(y2) {\n                this._y2 = y2;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoCubicSmoothRel = function (owningPathSegList, x, y, x2, y2) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, \"s\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n            this._x2 = x2;\n            this._y2 = y2;\n        };\n        window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoCubicSmoothRel]\";\n        };\n        window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x2 + \" \" + this._y2 + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"x2\", { get: function get() {\n                return this._x2;\n            }, set: function set(x2) {\n                this._x2 = x2;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, \"y2\", { get: function get() {\n                return this._y2;\n            }, set: function set(y2) {\n                this._y2 = y2;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoQuadraticSmoothAbs = function (owningPathSegList, x, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, \"T\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n        };\n        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoQuadraticSmoothAbs]\";\n        };\n        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        window.SVGPathSegCurvetoQuadraticSmoothRel = function (owningPathSegList, x, y) {\n            window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, \"t\", owningPathSegList);\n            this._x = x;\n            this._y = y;\n        };\n        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);\n        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function () {\n            return \"[object SVGPathSegCurvetoQuadraticSmoothRel]\";\n        };\n        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function () {\n            return this.pathSegTypeAsLetter + \" \" + this._x + \" \" + this._y;\n        };\n        window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function () {\n            return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y);\n        };\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, \"x\", { get: function get() {\n                return this._x;\n            }, set: function set(x) {\n                this._x = x;this._segmentChanged();\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, \"y\", { get: function get() {\n                return this._y;\n            }, set: function set(y) {\n                this._y = y;this._segmentChanged();\n            }, enumerable: true });\n\n        // Add createSVGPathSeg* functions to window.SVGPathElement.\n        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-Interfacewindow.SVGPathElement.\n        window.SVGPathElement.prototype.createSVGPathSegClosePath = function () {\n            return new window.SVGPathSegClosePath(undefined);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function (x, y) {\n            return new window.SVGPathSegMovetoAbs(undefined, x, y);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function (x, y) {\n            return new window.SVGPathSegMovetoRel(undefined, x, y);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function (x, y) {\n            return new window.SVGPathSegLinetoAbs(undefined, x, y);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function (x, y) {\n            return new window.SVGPathSegLinetoRel(undefined, x, y);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function (x, y, x1, y1, x2, y2) {\n            return new window.SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function (x, y, x1, y1, x2, y2) {\n            return new window.SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function (x, y, x1, y1) {\n            return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function (x, y, x1, y1) {\n            return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegArcAbs = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n            return new window.SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegArcRel = function (x, y, r1, r2, angle, largeArcFlag, sweepFlag) {\n            return new window.SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function (x) {\n            return new window.SVGPathSegLinetoHorizontalAbs(undefined, x);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function (x) {\n            return new window.SVGPathSegLinetoHorizontalRel(undefined, x);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function (y) {\n            return new window.SVGPathSegLinetoVerticalAbs(undefined, y);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function (y) {\n            return new window.SVGPathSegLinetoVerticalRel(undefined, y);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function (x, y, x2, y2) {\n            return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function (x, y, x2, y2) {\n            return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function (x, y) {\n            return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y);\n        };\n        window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function (x, y) {\n            return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y);\n        };\n\n        if (!(\"getPathSegAtLength\" in window.SVGPathElement.prototype)) {\n            // Add getPathSegAtLength to SVGPathElement.\n            // Spec: https://www.w3.org/TR/SVG11/single-page.html#paths-__svg__SVGPathElement__getPathSegAtLength\n            // This polyfill requires SVGPathElement.getTotalLength to implement the distance-along-a-path algorithm.\n            window.SVGPathElement.prototype.getPathSegAtLength = function (distance) {\n                if (distance === undefined || !isFinite(distance)) throw \"Invalid arguments.\";\n\n                var measurementElement = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n                measurementElement.setAttribute(\"d\", this.getAttribute(\"d\"));\n                var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;\n\n                // If the path is empty, return 0.\n                if (lastPathSegment <= 0) return 0;\n\n                do {\n                    measurementElement.pathSegList.removeItem(lastPathSegment);\n                    if (distance > measurementElement.getTotalLength()) break;\n                    lastPathSegment--;\n                } while (lastPathSegment > 0);\n                return lastPathSegment;\n            };\n        }\n    }\n\n    if (!(\"SVGPathSegList\" in window)) {\n        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGPathSegList\n        window.SVGPathSegList = function (pathElement) {\n            this._pathElement = pathElement;\n            this._list = this._parsePath(this._pathElement.getAttribute(\"d\"));\n\n            // Use a MutationObserver to catch changes to the path's \"d\" attribute.\n            this._mutationObserverConfig = { \"attributes\": true, \"attributeFilter\": [\"d\"] };\n            this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));\n            this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n        };\n\n        window.SVGPathSegList.prototype.classname = \"SVGPathSegList\";\n\n        Object.defineProperty(window.SVGPathSegList.prototype, \"numberOfItems\", {\n            get: function get() {\n                this._checkPathSynchronizedToList();\n                return this._list.length;\n            },\n            enumerable: true\n        });\n\n        // Add the pathSegList accessors to window.SVGPathElement.\n        // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-InterfaceSVGAnimatedPathData\n        Object.defineProperty(window.SVGPathElement.prototype, \"pathSegList\", {\n            get: function get() {\n                if (!this._pathSegList) this._pathSegList = new window.SVGPathSegList(this);\n                return this._pathSegList;\n            },\n            enumerable: true\n        });\n        // FIXME: The following are not implemented and simply return window.SVGPathElement.pathSegList.\n        Object.defineProperty(window.SVGPathElement.prototype, \"normalizedPathSegList\", { get: function get() {\n                return this.pathSegList;\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathElement.prototype, \"animatedPathSegList\", { get: function get() {\n                return this.pathSegList;\n            }, enumerable: true });\n        Object.defineProperty(window.SVGPathElement.prototype, \"animatedNormalizedPathSegList\", { get: function get() {\n                return this.pathSegList;\n            }, enumerable: true });\n\n        // Process any pending mutations to the path element and update the list as needed.\n        // This should be the first call of all public functions and is needed because\n        // MutationObservers are not synchronous so we can have pending asynchronous mutations.\n        window.SVGPathSegList.prototype._checkPathSynchronizedToList = function () {\n            this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());\n        };\n\n        window.SVGPathSegList.prototype._updateListFromPathMutations = function (mutationRecords) {\n            if (!this._pathElement) return;\n            var hasPathMutations = false;\n            mutationRecords.forEach(function (record) {\n                if (record.attributeName == \"d\") hasPathMutations = true;\n            });\n            if (hasPathMutations) this._list = this._parsePath(this._pathElement.getAttribute(\"d\"));\n        };\n\n        // Serialize the list and update the path's 'd' attribute.\n        window.SVGPathSegList.prototype._writeListToPath = function () {\n            this._pathElementMutationObserver.disconnect();\n            this._pathElement.setAttribute(\"d\", window.SVGPathSegList._pathSegArrayAsString(this._list));\n            this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);\n        };\n\n        // When a path segment changes the list needs to be synchronized back to the path element.\n        window.SVGPathSegList.prototype.segmentChanged = function (pathSeg) {\n            this._writeListToPath();\n        };\n\n        window.SVGPathSegList.prototype.clear = function () {\n            this._checkPathSynchronizedToList();\n\n            this._list.forEach(function (pathSeg) {\n                pathSeg._owningPathSegList = null;\n            });\n            this._list = [];\n            this._writeListToPath();\n        };\n\n        window.SVGPathSegList.prototype.initialize = function (newItem) {\n            this._checkPathSynchronizedToList();\n\n            this._list = [newItem];\n            newItem._owningPathSegList = this;\n            this._writeListToPath();\n            return newItem;\n        };\n\n        window.SVGPathSegList.prototype._checkValidIndex = function (index) {\n            if (isNaN(index) || index < 0 || index >= this.numberOfItems) throw \"INDEX_SIZE_ERR\";\n        };\n\n        window.SVGPathSegList.prototype.getItem = function (index) {\n            this._checkPathSynchronizedToList();\n\n            this._checkValidIndex(index);\n            return this._list[index];\n        };\n\n        window.SVGPathSegList.prototype.insertItemBefore = function (newItem, index) {\n            this._checkPathSynchronizedToList();\n\n            // Spec: If the index is greater than or equal to numberOfItems, then the new item is appended to the end of the list.\n            if (index > this.numberOfItems) index = this.numberOfItems;\n            if (newItem._owningPathSegList) {\n                // SVG2 spec says to make a copy.\n                newItem = newItem.clone();\n            }\n            this._list.splice(index, 0, newItem);\n            newItem._owningPathSegList = this;\n            this._writeListToPath();\n            return newItem;\n        };\n\n        window.SVGPathSegList.prototype.replaceItem = function (newItem, index) {\n            this._checkPathSynchronizedToList();\n\n            if (newItem._owningPathSegList) {\n                // SVG2 spec says to make a copy.\n                newItem = newItem.clone();\n            }\n            this._checkValidIndex(index);\n            this._list[index] = newItem;\n            newItem._owningPathSegList = this;\n            this._writeListToPath();\n            return newItem;\n        };\n\n        window.SVGPathSegList.prototype.removeItem = function (index) {\n            this._checkPathSynchronizedToList();\n\n            this._checkValidIndex(index);\n            var item = this._list[index];\n            this._list.splice(index, 1);\n            this._writeListToPath();\n            return item;\n        };\n\n        window.SVGPathSegList.prototype.appendItem = function (newItem) {\n            this._checkPathSynchronizedToList();\n\n            if (newItem._owningPathSegList) {\n                // SVG2 spec says to make a copy.\n                newItem = newItem.clone();\n            }\n            this._list.push(newItem);\n            newItem._owningPathSegList = this;\n            // TODO: Optimize this to just append to the existing attribute.\n            this._writeListToPath();\n            return newItem;\n        };\n\n        window.SVGPathSegList._pathSegArrayAsString = function (pathSegArray) {\n            var string = \"\";\n            var first = true;\n            pathSegArray.forEach(function (pathSeg) {\n                if (first) {\n                    first = false;\n                    string += pathSeg._asPathString();\n                } else {\n                    string += \" \" + pathSeg._asPathString();\n                }\n            });\n            return string;\n        };\n\n        // This closely follows SVGPathParser::parsePath from Source/core/svg/SVGPathParser.cpp.\n        window.SVGPathSegList.prototype._parsePath = function (string) {\n            if (!string || string.length == 0) return [];\n\n            var owningPathSegList = this;\n\n            var Builder = function Builder() {\n                this.pathSegList = [];\n            };\n\n            Builder.prototype.appendSegment = function (pathSeg) {\n                this.pathSegList.push(pathSeg);\n            };\n\n            var Source = function Source(string) {\n                this._string = string;\n                this._currentIndex = 0;\n                this._endIndex = this._string.length;\n                this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;\n\n                this._skipOptionalSpaces();\n            };\n\n            Source.prototype._isCurrentSpace = function () {\n                var character = this._string[this._currentIndex];\n                return character <= \" \" && (character == \" \" || character == \"\\n\" || character == \"\\t\" || character == \"\\r\" || character == \"\\f\");\n            };\n\n            Source.prototype._skipOptionalSpaces = function () {\n                while (this._currentIndex < this._endIndex && this._isCurrentSpace()) {\n                    this._currentIndex++;\n                }return this._currentIndex < this._endIndex;\n            };\n\n            Source.prototype._skipOptionalSpacesOrDelimiter = function () {\n                if (this._currentIndex < this._endIndex && !this._isCurrentSpace() && this._string.charAt(this._currentIndex) != \",\") return false;\n                if (this._skipOptionalSpaces()) {\n                    if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \",\") {\n                        this._currentIndex++;\n                        this._skipOptionalSpaces();\n                    }\n                }\n                return this._currentIndex < this._endIndex;\n            };\n\n            Source.prototype.hasMoreData = function () {\n                return this._currentIndex < this._endIndex;\n            };\n\n            Source.prototype.peekSegmentType = function () {\n                var lookahead = this._string[this._currentIndex];\n                return this._pathSegTypeFromChar(lookahead);\n            };\n\n            Source.prototype._pathSegTypeFromChar = function (lookahead) {\n                switch (lookahead) {\n                    case \"Z\":\n                    case \"z\":\n                        return window.SVGPathSeg.PATHSEG_CLOSEPATH;\n                    case \"M\":\n                        return window.SVGPathSeg.PATHSEG_MOVETO_ABS;\n                    case \"m\":\n                        return window.SVGPathSeg.PATHSEG_MOVETO_REL;\n                    case \"L\":\n                        return window.SVGPathSeg.PATHSEG_LINETO_ABS;\n                    case \"l\":\n                        return window.SVGPathSeg.PATHSEG_LINETO_REL;\n                    case \"C\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;\n                    case \"c\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;\n                    case \"Q\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;\n                    case \"q\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;\n                    case \"A\":\n                        return window.SVGPathSeg.PATHSEG_ARC_ABS;\n                    case \"a\":\n                        return window.SVGPathSeg.PATHSEG_ARC_REL;\n                    case \"H\":\n                        return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;\n                    case \"h\":\n                        return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;\n                    case \"V\":\n                        return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;\n                    case \"v\":\n                        return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;\n                    case \"S\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;\n                    case \"s\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;\n                    case \"T\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;\n                    case \"t\":\n                        return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;\n                    default:\n                        return window.SVGPathSeg.PATHSEG_UNKNOWN;\n                }\n            };\n\n            Source.prototype._nextCommandHelper = function (lookahead, previousCommand) {\n                // Check for remaining coordinates in the current command.\n                if ((lookahead == \"+\" || lookahead == \"-\" || lookahead == \".\" || lookahead >= \"0\" && lookahead <= \"9\") && previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH) {\n                    if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS) return window.SVGPathSeg.PATHSEG_LINETO_ABS;\n                    if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL) return window.SVGPathSeg.PATHSEG_LINETO_REL;\n                    return previousCommand;\n                }\n                return window.SVGPathSeg.PATHSEG_UNKNOWN;\n            };\n\n            Source.prototype.initialCommandIsMoveTo = function () {\n                // If the path is empty it is still valid, so return true.\n                if (!this.hasMoreData()) return true;\n                var command = this.peekSegmentType();\n                // Path must start with moveTo.\n                return command == window.SVGPathSeg.PATHSEG_MOVETO_ABS || command == window.SVGPathSeg.PATHSEG_MOVETO_REL;\n            };\n\n            // Parse a number from an SVG path. This very closely follows genericParseNumber(...) from Source/core/svg/SVGParserUtilities.cpp.\n            // Spec: http://www.w3.org/TR/SVG11/single-page.html#paths-PathDataBNF\n            Source.prototype._parseNumber = function () {\n                var exponent = 0;\n                var integer = 0;\n                var frac = 1;\n                var decimal = 0;\n                var sign = 1;\n                var expsign = 1;\n\n                var startIndex = this._currentIndex;\n\n                this._skipOptionalSpaces();\n\n                // Read the sign.\n                if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \"+\") this._currentIndex++;else if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \"-\") {\n                    this._currentIndex++;\n                    sign = -1;\n                }\n\n                if (this._currentIndex == this._endIndex || (this._string.charAt(this._currentIndex) < \"0\" || this._string.charAt(this._currentIndex) > \"9\") && this._string.charAt(this._currentIndex) != \".\")\n                    // The first character of a number must be one of [0-9+-.].\n                    return undefined;\n\n                // Read the integer part, build right-to-left.\n                var startIntPartIndex = this._currentIndex;\n                while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= \"0\" && this._string.charAt(this._currentIndex) <= \"9\") {\n                    this._currentIndex++;\n                } // Advance to first non-digit.\n\n                if (this._currentIndex != startIntPartIndex) {\n                    var scanIntPartIndex = this._currentIndex - 1;\n                    var multiplier = 1;\n                    while (scanIntPartIndex >= startIntPartIndex) {\n                        integer += multiplier * (this._string.charAt(scanIntPartIndex--) - \"0\");\n                        multiplier *= 10;\n                    }\n                }\n\n                // Read the decimals.\n                if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == \".\") {\n                    this._currentIndex++;\n\n                    // There must be a least one digit following the .\n                    if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < \"0\" || this._string.charAt(this._currentIndex) > \"9\") return undefined;\n                    while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= \"0\" && this._string.charAt(this._currentIndex) <= \"9\") {\n                        frac *= 10;\n                        decimal += (this._string.charAt(this._currentIndex) - \"0\") / frac;\n                        this._currentIndex += 1;\n                    }\n                }\n\n                // Read the exponent part.\n                if (this._currentIndex != startIndex && this._currentIndex + 1 < this._endIndex && (this._string.charAt(this._currentIndex) == \"e\" || this._string.charAt(this._currentIndex) == \"E\") && this._string.charAt(this._currentIndex + 1) != \"x\" && this._string.charAt(this._currentIndex + 1) != \"m\") {\n                    this._currentIndex++;\n\n                    // Read the sign of the exponent.\n                    if (this._string.charAt(this._currentIndex) == \"+\") {\n                        this._currentIndex++;\n                    } else if (this._string.charAt(this._currentIndex) == \"-\") {\n                        this._currentIndex++;\n                        expsign = -1;\n                    }\n\n                    // There must be an exponent.\n                    if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < \"0\" || this._string.charAt(this._currentIndex) > \"9\") return undefined;\n\n                    while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= \"0\" && this._string.charAt(this._currentIndex) <= \"9\") {\n                        exponent *= 10;\n                        exponent += this._string.charAt(this._currentIndex) - \"0\";\n                        this._currentIndex++;\n                    }\n                }\n\n                var number = integer + decimal;\n                number *= sign;\n\n                if (exponent) number *= Math.pow(10, expsign * exponent);\n\n                if (startIndex == this._currentIndex) return undefined;\n\n                this._skipOptionalSpacesOrDelimiter();\n\n                return number;\n            };\n\n            Source.prototype._parseArcFlag = function () {\n                if (this._currentIndex >= this._endIndex) return undefined;\n                var flag = false;\n                var flagChar = this._string.charAt(this._currentIndex++);\n                if (flagChar == \"0\") flag = false;else if (flagChar == \"1\") flag = true;else return undefined;\n\n                this._skipOptionalSpacesOrDelimiter();\n                return flag;\n            };\n\n            Source.prototype.parseSegment = function () {\n                var lookahead = this._string[this._currentIndex];\n                var command = this._pathSegTypeFromChar(lookahead);\n                if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {\n                    // Possibly an implicit command. Not allowed if this is the first command.\n                    if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN) return null;\n                    command = this._nextCommandHelper(lookahead, this._previousCommand);\n                    if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) return null;\n                } else {\n                    this._currentIndex++;\n                }\n\n                this._previousCommand = command;\n\n                switch (command) {\n                    case window.SVGPathSeg.PATHSEG_MOVETO_REL:\n                        return new window.SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_MOVETO_ABS:\n                        return new window.SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_LINETO_REL:\n                        return new window.SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_LINETO_ABS:\n                        return new window.SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:\n                        return new window.SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:\n                        return new window.SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:\n                        return new window.SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:\n                        return new window.SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_CLOSEPATH:\n                        this._skipOptionalSpaces();\n                        return new window.SVGPathSegClosePath(owningPathSegList);\n                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:\n                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:\n                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);\n                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:\n                        var points = { x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);\n                    case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:\n                        var points = { x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);\n                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:\n                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);\n                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:\n                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);\n                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:\n                        return new window.SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:\n                        return new window.SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());\n                    case window.SVGPathSeg.PATHSEG_ARC_REL:\n                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n                    case window.SVGPathSeg.PATHSEG_ARC_ABS:\n                        var points = { x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber() };\n                        return new window.SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);\n                    default:\n                        throw \"Unknown path seg type.\";\n                }\n            };\n\n            var builder = new Builder();\n            var source = new Source(string);\n\n            if (!source.initialCommandIsMoveTo()) return [];\n            while (source.hasMoreData()) {\n                var pathSeg = source.parseSegment();\n                if (!pathSeg) return [];\n                builder.appendSegment(pathSeg);\n            }\n\n            return builder.pathSegList;\n        };\n    }\n})();\n\n/* jshint ignore:end */\n\nc3_chart_fn.axis = function () {};\nc3_chart_fn.axis.labels = function (labels) {\n    var $$ = this.internal;\n    if (arguments.length) {\n        Object.keys(labels).forEach(function (axisId) {\n            $$.axis.setLabelText(axisId, labels[axisId]);\n        });\n        $$.axis.updateLabels();\n    }\n    // TODO: return some values?\n};\nc3_chart_fn.axis.max = function (max) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (arguments.length) {\n        if ((typeof max === 'undefined' ? 'undefined' : _typeof(max)) === 'object') {\n            if (isValue(max.x)) {\n                config.axis_x_max = max.x;\n            }\n            if (isValue(max.y)) {\n                config.axis_y_max = max.y;\n            }\n            if (isValue(max.y2)) {\n                config.axis_y2_max = max.y2;\n            }\n        } else {\n            config.axis_y_max = config.axis_y2_max = max;\n        }\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    } else {\n        return {\n            x: config.axis_x_max,\n            y: config.axis_y_max,\n            y2: config.axis_y2_max\n        };\n    }\n};\nc3_chart_fn.axis.min = function (min) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (arguments.length) {\n        if ((typeof min === 'undefined' ? 'undefined' : _typeof(min)) === 'object') {\n            if (isValue(min.x)) {\n                config.axis_x_min = min.x;\n            }\n            if (isValue(min.y)) {\n                config.axis_y_min = min.y;\n            }\n            if (isValue(min.y2)) {\n                config.axis_y2_min = min.y2;\n            }\n        } else {\n            config.axis_y_min = config.axis_y2_min = min;\n        }\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    } else {\n        return {\n            x: config.axis_x_min,\n            y: config.axis_y_min,\n            y2: config.axis_y2_min\n        };\n    }\n};\nc3_chart_fn.axis.range = function (range) {\n    if (arguments.length) {\n        if (isDefined(range.max)) {\n            this.axis.max(range.max);\n        }\n        if (isDefined(range.min)) {\n            this.axis.min(range.min);\n        }\n    } else {\n        return {\n            max: this.axis.max(),\n            min: this.axis.min()\n        };\n    }\n};\n\nc3_chart_fn.category = function (i, category) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (arguments.length > 1) {\n        config.axis_x_categories[i] = category;\n        $$.redraw();\n    }\n    return config.axis_x_categories[i];\n};\nc3_chart_fn.categories = function (categories) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (!arguments.length) {\n        return config.axis_x_categories;\n    }\n    config.axis_x_categories = categories;\n    $$.redraw();\n    return config.axis_x_categories;\n};\n\nc3_chart_fn.resize = function (size) {\n    var $$ = this.internal,\n        config = $$.config;\n    config.size_width = size ? size.width : null;\n    config.size_height = size ? size.height : null;\n    this.flush();\n};\n\nc3_chart_fn.flush = function () {\n    var $$ = this.internal;\n    $$.updateAndRedraw({ withLegend: true, withTransition: false, withTransitionForTransform: false });\n};\n\nc3_chart_fn.destroy = function () {\n    var $$ = this.internal;\n\n    window.clearInterval($$.intervalForObserveInserted);\n\n    if ($$.resizeTimeout !== undefined) {\n        window.clearTimeout($$.resizeTimeout);\n    }\n\n    if (window.detachEvent) {\n        window.detachEvent('onresize', $$.resizeIfElementDisplayed);\n    } else if (window.removeEventListener) {\n        window.removeEventListener('resize', $$.resizeIfElementDisplayed);\n    } else {\n        var wrapper = window.onresize;\n        // check if no one else removed our wrapper and remove our resizeFunction from it\n        if (wrapper && wrapper.add && wrapper.remove) {\n            wrapper.remove($$.resizeFunction);\n        }\n    }\n\n    // remove the inner resize functions\n    $$.resizeFunction.remove();\n\n    $$.selectChart.classed('c3', false).html(\"\");\n\n    // MEMO: this is needed because the reference of some elements will not be released, then memory leak will happen.\n    Object.keys($$).forEach(function (key) {\n        $$[key] = null;\n    });\n\n    return null;\n};\n\n// TODO: fix\nc3_chart_fn.color = function (id) {\n    var $$ = this.internal;\n    return $$.color(id); // more patterns\n};\n\nc3_chart_fn.data = function (targetIds) {\n    var targets = this.internal.data.targets;\n    return typeof targetIds === 'undefined' ? targets : targets.filter(function (t) {\n        return [].concat(targetIds).indexOf(t.id) >= 0;\n    });\n};\nc3_chart_fn.data.shown = function (targetIds) {\n    return this.internal.filterTargetsToShow(this.data(targetIds));\n};\nc3_chart_fn.data.values = function (targetId) {\n    var targets,\n        values = null;\n    if (targetId) {\n        targets = this.data(targetId);\n        values = targets[0] ? targets[0].values.map(function (d) {\n            return d.value;\n        }) : null;\n    }\n    return values;\n};\nc3_chart_fn.data.names = function (names) {\n    this.internal.clearLegendItemTextBoxCache();\n    return this.internal.updateDataAttributes('names', names);\n};\nc3_chart_fn.data.colors = function (colors) {\n    return this.internal.updateDataAttributes('colors', colors);\n};\nc3_chart_fn.data.axes = function (axes) {\n    return this.internal.updateDataAttributes('axes', axes);\n};\n\nc3_chart_fn.flow = function (args) {\n    var $$ = this.internal,\n        targets,\n        data,\n        notfoundIds = [],\n        orgDataCount = $$.getMaxDataCount(),\n        dataCount,\n        domain,\n        baseTarget,\n        baseValue,\n        length = 0,\n        tail = 0,\n        diff,\n        to;\n\n    if (args.json) {\n        data = $$.convertJsonToData(args.json, args.keys);\n    } else if (args.rows) {\n        data = $$.convertRowsToData(args.rows);\n    } else if (args.columns) {\n        data = $$.convertColumnsToData(args.columns);\n    } else {\n        return;\n    }\n    targets = $$.convertDataToTargets(data, true);\n\n    // Update/Add data\n    $$.data.targets.forEach(function (t) {\n        var found = false,\n            i,\n            j;\n        for (i = 0; i < targets.length; i++) {\n            if (t.id === targets[i].id) {\n                found = true;\n\n                if (t.values[t.values.length - 1]) {\n                    tail = t.values[t.values.length - 1].index + 1;\n                }\n                length = targets[i].values.length;\n\n                for (j = 0; j < length; j++) {\n                    targets[i].values[j].index = tail + j;\n                    if (!$$.isTimeSeries()) {\n                        targets[i].values[j].x = tail + j;\n                    }\n                }\n                t.values = t.values.concat(targets[i].values);\n\n                targets.splice(i, 1);\n                break;\n            }\n        }\n        if (!found) {\n            notfoundIds.push(t.id);\n        }\n    });\n\n    // Append null for not found targets\n    $$.data.targets.forEach(function (t) {\n        var i, j;\n        for (i = 0; i < notfoundIds.length; i++) {\n            if (t.id === notfoundIds[i]) {\n                tail = t.values[t.values.length - 1].index + 1;\n                for (j = 0; j < length; j++) {\n                    t.values.push({\n                        id: t.id,\n                        index: tail + j,\n                        x: $$.isTimeSeries() ? $$.getOtherTargetX(tail + j) : tail + j,\n                        value: null\n                    });\n                }\n            }\n        }\n    });\n\n    // Generate null values for new target\n    if ($$.data.targets.length) {\n        targets.forEach(function (t) {\n            var i,\n                missing = [];\n            for (i = $$.data.targets[0].values[0].index; i < tail; i++) {\n                missing.push({\n                    id: t.id,\n                    index: i,\n                    x: $$.isTimeSeries() ? $$.getOtherTargetX(i) : i,\n                    value: null\n                });\n            }\n            t.values.forEach(function (v) {\n                v.index += tail;\n                if (!$$.isTimeSeries()) {\n                    v.x += tail;\n                }\n            });\n            t.values = missing.concat(t.values);\n        });\n    }\n    $$.data.targets = $$.data.targets.concat(targets); // add remained\n\n    // check data count because behavior needs to change when it's only one\n    dataCount = $$.getMaxDataCount();\n    baseTarget = $$.data.targets[0];\n    baseValue = baseTarget.values[0];\n\n    // Update length to flow if needed\n    if (isDefined(args.to)) {\n        length = 0;\n        to = $$.isTimeSeries() ? $$.parseDate(args.to) : args.to;\n        baseTarget.values.forEach(function (v) {\n            if (v.x < to) {\n                length++;\n            }\n        });\n    } else if (isDefined(args.length)) {\n        length = args.length;\n    }\n\n    // If only one data, update the domain to flow from left edge of the chart\n    if (!orgDataCount) {\n        if ($$.isTimeSeries()) {\n            if (baseTarget.values.length > 1) {\n                diff = baseTarget.values[baseTarget.values.length - 1].x - baseValue.x;\n            } else {\n                diff = baseValue.x - $$.getXDomain($$.data.targets)[0];\n            }\n        } else {\n            diff = 1;\n        }\n        domain = [baseValue.x - diff, baseValue.x];\n        $$.updateXDomain(null, true, true, false, domain);\n    } else if (orgDataCount === 1) {\n        if ($$.isTimeSeries()) {\n            diff = (baseTarget.values[baseTarget.values.length - 1].x - baseValue.x) / 2;\n            domain = [new Date(+baseValue.x - diff), new Date(+baseValue.x + diff)];\n            $$.updateXDomain(null, true, true, false, domain);\n        }\n    }\n\n    // Set targets\n    $$.updateTargets($$.data.targets);\n\n    // Redraw with new targets\n    $$.redraw({\n        flow: {\n            index: baseValue.index,\n            length: length,\n            duration: isValue(args.duration) ? args.duration : $$.config.transition_duration,\n            done: args.done,\n            orgDataCount: orgDataCount\n        },\n        withLegend: true,\n        withTransition: orgDataCount > 1,\n        withTrimXDomain: false,\n        withUpdateXAxis: true\n    });\n};\n\nc3_chart_internal_fn.generateFlow = function (args) {\n    var $$ = this,\n        config = $$.config,\n        d3 = $$.d3;\n\n    return function () {\n        var targets = args.targets,\n            flow = args.flow,\n            drawBar = args.drawBar,\n            drawLine = args.drawLine,\n            drawArea = args.drawArea,\n            cx = args.cx,\n            cy = args.cy,\n            xv = args.xv,\n            xForText = args.xForText,\n            yForText = args.yForText,\n            duration = args.duration;\n\n        var translateX,\n            scaleX = 1,\n            transform,\n            flowIndex = flow.index,\n            flowLength = flow.length,\n            flowStart = $$.getValueOnIndex($$.data.targets[0].values, flowIndex),\n            flowEnd = $$.getValueOnIndex($$.data.targets[0].values, flowIndex + flowLength),\n            orgDomain = $$.x.domain(),\n            domain,\n            durationForFlow = flow.duration || duration,\n            done = flow.done || function () {},\n            wait = $$.generateWait();\n\n        var xgrid = $$.xgrid || d3.selectAll([]),\n            xgridLines = $$.xgridLines || d3.selectAll([]),\n            mainRegion = $$.mainRegion || d3.selectAll([]),\n            mainText = $$.mainText || d3.selectAll([]),\n            mainBar = $$.mainBar || d3.selectAll([]),\n            mainLine = $$.mainLine || d3.selectAll([]),\n            mainArea = $$.mainArea || d3.selectAll([]),\n            mainCircle = $$.mainCircle || d3.selectAll([]);\n\n        // set flag\n        $$.flowing = true;\n\n        // remove head data after rendered\n        $$.data.targets.forEach(function (d) {\n            d.values.splice(0, flowLength);\n        });\n\n        // update x domain to generate axis elements for flow\n        domain = $$.updateXDomain(targets, true, true);\n        // update elements related to x scale\n        if ($$.updateXGrid) {\n            $$.updateXGrid(true);\n        }\n\n        // generate transform to flow\n        if (!flow.orgDataCount) {\n            // if empty\n            if ($$.data.targets[0].values.length !== 1) {\n                translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n            } else {\n                if ($$.isTimeSeries()) {\n                    flowStart = $$.getValueOnIndex($$.data.targets[0].values, 0);\n                    flowEnd = $$.getValueOnIndex($$.data.targets[0].values, $$.data.targets[0].values.length - 1);\n                    translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\n                } else {\n                    translateX = diffDomain(domain) / 2;\n                }\n            }\n        } else if (flow.orgDataCount === 1 || (flowStart && flowStart.x) === (flowEnd && flowEnd.x)) {\n            translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n        } else {\n            if ($$.isTimeSeries()) {\n                translateX = $$.x(orgDomain[0]) - $$.x(domain[0]);\n            } else {\n                translateX = $$.x(flowStart.x) - $$.x(flowEnd.x);\n            }\n        }\n        scaleX = diffDomain(orgDomain) / diffDomain(domain);\n        transform = 'translate(' + translateX + ',0) scale(' + scaleX + ',1)';\n\n        $$.hideXGridFocus();\n\n        d3.transition().ease('linear').duration(durationForFlow).each(function () {\n            wait.add($$.axes.x.transition().call($$.xAxis));\n            wait.add(mainBar.transition().attr('transform', transform));\n            wait.add(mainLine.transition().attr('transform', transform));\n            wait.add(mainArea.transition().attr('transform', transform));\n            wait.add(mainCircle.transition().attr('transform', transform));\n            wait.add(mainText.transition().attr('transform', transform));\n            wait.add(mainRegion.filter($$.isRegionOnX).transition().attr('transform', transform));\n            wait.add(xgrid.transition().attr('transform', transform));\n            wait.add(xgridLines.transition().attr('transform', transform));\n        }).call(wait, function () {\n            var i,\n                shapes = [],\n                texts = [],\n                eventRects = [];\n\n            // remove flowed elements\n            if (flowLength) {\n                for (i = 0; i < flowLength; i++) {\n                    shapes.push('.' + CLASS.shape + '-' + (flowIndex + i));\n                    texts.push('.' + CLASS.text + '-' + (flowIndex + i));\n                    eventRects.push('.' + CLASS.eventRect + '-' + (flowIndex + i));\n                }\n                $$.svg.selectAll('.' + CLASS.shapes).selectAll(shapes).remove();\n                $$.svg.selectAll('.' + CLASS.texts).selectAll(texts).remove();\n                $$.svg.selectAll('.' + CLASS.eventRects).selectAll(eventRects).remove();\n                $$.svg.select('.' + CLASS.xgrid).remove();\n            }\n\n            // draw again for removing flowed elements and reverting attr\n            xgrid.attr('transform', null).attr($$.xgridAttr);\n            xgridLines.attr('transform', null);\n            xgridLines.select('line').attr(\"x1\", config.axis_rotated ? 0 : xv).attr(\"x2\", config.axis_rotated ? $$.width : xv);\n            xgridLines.select('text').attr(\"x\", config.axis_rotated ? $$.width : 0).attr(\"y\", xv);\n            mainBar.attr('transform', null).attr(\"d\", drawBar);\n            mainLine.attr('transform', null).attr(\"d\", drawLine);\n            mainArea.attr('transform', null).attr(\"d\", drawArea);\n            mainCircle.attr('transform', null).attr(\"cx\", cx).attr(\"cy\", cy);\n            mainText.attr('transform', null).attr('x', xForText).attr('y', yForText).style('fill-opacity', $$.opacityForText.bind($$));\n            mainRegion.attr('transform', null);\n            mainRegion.select('rect').filter($$.isRegionOnX).attr(\"x\", $$.regionX.bind($$)).attr(\"width\", $$.regionWidth.bind($$));\n\n            if (config.interaction_enabled) {\n                $$.redrawEventRect();\n            }\n\n            // callback for end of flow\n            done();\n\n            $$.flowing = false;\n        });\n    };\n};\n\nc3_chart_fn.focus = function (targetIds) {\n    var $$ = this.internal,\n        candidates;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))), this.revert();\n    this.defocus();\n    candidates.classed(CLASS.focused, true).classed(CLASS.defocused, false);\n    if ($$.hasArcType()) {\n        $$.expandArc(targetIds);\n    }\n    $$.toggleFocusLegend(targetIds, true);\n\n    $$.focusedTargetIds = targetIds;\n    $$.defocusedTargetIds = $$.defocusedTargetIds.filter(function (id) {\n        return targetIds.indexOf(id) < 0;\n    });\n};\n\nc3_chart_fn.defocus = function (targetIds) {\n    var $$ = this.internal,\n        candidates;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    candidates = $$.svg.selectAll($$.selectorTargets(targetIds.filter($$.isTargetToShow, $$))), candidates.classed(CLASS.focused, false).classed(CLASS.defocused, true);\n    if ($$.hasArcType()) {\n        $$.unexpandArc(targetIds);\n    }\n    $$.toggleFocusLegend(targetIds, false);\n\n    $$.focusedTargetIds = $$.focusedTargetIds.filter(function (id) {\n        return targetIds.indexOf(id) < 0;\n    });\n    $$.defocusedTargetIds = targetIds;\n};\n\nc3_chart_fn.revert = function (targetIds) {\n    var $$ = this.internal,\n        candidates;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    candidates = $$.svg.selectAll($$.selectorTargets(targetIds)); // should be for all targets\n\n    candidates.classed(CLASS.focused, false).classed(CLASS.defocused, false);\n    if ($$.hasArcType()) {\n        $$.unexpandArc(targetIds);\n    }\n    if ($$.config.legend_show) {\n        $$.showLegend(targetIds.filter($$.isLegendToShow.bind($$)));\n        $$.legend.selectAll($$.selectorLegends(targetIds)).filter(function () {\n            return $$.d3.select(this).classed(CLASS.legendItemFocused);\n        }).classed(CLASS.legendItemFocused, false);\n    }\n\n    $$.focusedTargetIds = [];\n    $$.defocusedTargetIds = [];\n};\n\nc3_chart_fn.xgrids = function (grids) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (!grids) {\n        return config.grid_x_lines;\n    }\n    config.grid_x_lines = grids;\n    $$.redrawWithoutRescale();\n    return config.grid_x_lines;\n};\nc3_chart_fn.xgrids.add = function (grids) {\n    var $$ = this.internal;\n    return this.xgrids($$.config.grid_x_lines.concat(grids ? grids : []));\n};\nc3_chart_fn.xgrids.remove = function (params) {\n    // TODO: multiple\n    var $$ = this.internal;\n    $$.removeGridLines(params, true);\n};\n\nc3_chart_fn.ygrids = function (grids) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (!grids) {\n        return config.grid_y_lines;\n    }\n    config.grid_y_lines = grids;\n    $$.redrawWithoutRescale();\n    return config.grid_y_lines;\n};\nc3_chart_fn.ygrids.add = function (grids) {\n    var $$ = this.internal;\n    return this.ygrids($$.config.grid_y_lines.concat(grids ? grids : []));\n};\nc3_chart_fn.ygrids.remove = function (params) {\n    // TODO: multiple\n    var $$ = this.internal;\n    $$.removeGridLines(params, false);\n};\n\nc3_chart_fn.groups = function (groups) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (isUndefined(groups)) {\n        return config.data_groups;\n    }\n    config.data_groups = groups;\n    $$.redraw();\n    return config.data_groups;\n};\n\nc3_chart_fn.legend = function () {};\nc3_chart_fn.legend.show = function (targetIds) {\n    var $$ = this.internal;\n    $$.showLegend($$.mapToTargetIds(targetIds));\n    $$.updateAndRedraw({ withLegend: true });\n};\nc3_chart_fn.legend.hide = function (targetIds) {\n    var $$ = this.internal;\n    $$.hideLegend($$.mapToTargetIds(targetIds));\n    $$.updateAndRedraw({ withLegend: true });\n};\n\nc3_chart_fn.load = function (args) {\n    var $$ = this.internal,\n        config = $$.config;\n    // update xs if specified\n    if (args.xs) {\n        $$.addXs(args.xs);\n    }\n    // update names if exists\n    if ('names' in args) {\n        c3_chart_fn.data.names.bind(this)(args.names);\n    }\n    // update classes if exists\n    if ('classes' in args) {\n        Object.keys(args.classes).forEach(function (id) {\n            config.data_classes[id] = args.classes[id];\n        });\n    }\n    // update categories if exists\n    if ('categories' in args && $$.isCategorized()) {\n        config.axis_x_categories = args.categories;\n    }\n    // update axes if exists\n    if ('axes' in args) {\n        Object.keys(args.axes).forEach(function (id) {\n            config.data_axes[id] = args.axes[id];\n        });\n    }\n    // update colors if exists\n    if ('colors' in args) {\n        Object.keys(args.colors).forEach(function (id) {\n            config.data_colors[id] = args.colors[id];\n        });\n    }\n    // use cache if exists\n    if ('cacheIds' in args && $$.hasCaches(args.cacheIds)) {\n        $$.load($$.getCaches(args.cacheIds), args.done);\n        return;\n    }\n    // unload if needed\n    if ('unload' in args) {\n        // TODO: do not unload if target will load (included in url/rows/columns)\n        $$.unload($$.mapToTargetIds(typeof args.unload === 'boolean' && args.unload ? null : args.unload), function () {\n            $$.loadFromArgs(args);\n        });\n    } else {\n        $$.loadFromArgs(args);\n    }\n};\n\nc3_chart_fn.unload = function (args) {\n    var $$ = this.internal;\n    args = args || {};\n    if (args instanceof Array) {\n        args = { ids: args };\n    } else if (typeof args === 'string') {\n        args = { ids: [args] };\n    }\n    $$.unload($$.mapToTargetIds(args.ids), function () {\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n        if (args.done) {\n            args.done();\n        }\n    });\n};\n\nc3_chart_fn.regions = function (regions) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (!regions) {\n        return config.regions;\n    }\n    config.regions = regions;\n    $$.redrawWithoutRescale();\n    return config.regions;\n};\nc3_chart_fn.regions.add = function (regions) {\n    var $$ = this.internal,\n        config = $$.config;\n    if (!regions) {\n        return config.regions;\n    }\n    config.regions = config.regions.concat(regions);\n    $$.redrawWithoutRescale();\n    return config.regions;\n};\nc3_chart_fn.regions.remove = function (options) {\n    var $$ = this.internal,\n        config = $$.config,\n        duration,\n        classes,\n        regions;\n\n    options = options || {};\n    duration = $$.getOption(options, \"duration\", config.transition_duration);\n    classes = $$.getOption(options, \"classes\", [CLASS.region]);\n\n    regions = $$.main.select('.' + CLASS.regions).selectAll(classes.map(function (c) {\n        return '.' + c;\n    }));\n    (duration ? regions.transition().duration(duration) : regions).style('opacity', 0).remove();\n\n    config.regions = config.regions.filter(function (region) {\n        var found = false;\n        if (!region['class']) {\n            return true;\n        }\n        region['class'].split(' ').forEach(function (c) {\n            if (classes.indexOf(c) >= 0) {\n                found = true;\n            }\n        });\n        return !found;\n    });\n\n    return config.regions;\n};\n\nc3_chart_fn.selected = function (targetId) {\n    var $$ = this.internal,\n        d3 = $$.d3;\n    return d3.merge($$.main.selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(targetId)).selectAll('.' + CLASS.shape).filter(function () {\n        return d3.select(this).classed(CLASS.SELECTED);\n    }).map(function (d) {\n        return d.map(function (d) {\n            var data = d.__data__;return data.data ? data.data : data;\n        });\n    }));\n};\nc3_chart_fn.select = function (ids, indices, resetOther) {\n    var $$ = this.internal,\n        d3 = $$.d3,\n        config = $$.config;\n    if (!config.data_selection_enabled) {\n        return;\n    }\n    $$.main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).each(function (d, i) {\n        var shape = d3.select(this),\n            id = d.data ? d.data.id : d.id,\n            toggle = $$.getToggle(this, d).bind($$),\n            isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n            isTargetIndex = !indices || indices.indexOf(i) >= 0,\n            isSelected = shape.classed(CLASS.SELECTED);\n        // line/area selection not supported yet\n        if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n            return;\n        }\n        if (isTargetId && isTargetIndex) {\n            if (config.data_selection_isselectable(d) && !isSelected) {\n                toggle(true, shape.classed(CLASS.SELECTED, true), d, i);\n            }\n        } else if (isDefined(resetOther) && resetOther) {\n            if (isSelected) {\n                toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n            }\n        }\n    });\n};\nc3_chart_fn.unselect = function (ids, indices) {\n    var $$ = this.internal,\n        d3 = $$.d3,\n        config = $$.config;\n    if (!config.data_selection_enabled) {\n        return;\n    }\n    $$.main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).each(function (d, i) {\n        var shape = d3.select(this),\n            id = d.data ? d.data.id : d.id,\n            toggle = $$.getToggle(this, d).bind($$),\n            isTargetId = config.data_selection_grouped || !ids || ids.indexOf(id) >= 0,\n            isTargetIndex = !indices || indices.indexOf(i) >= 0,\n            isSelected = shape.classed(CLASS.SELECTED);\n        // line/area selection not supported yet\n        if (shape.classed(CLASS.line) || shape.classed(CLASS.area)) {\n            return;\n        }\n        if (isTargetId && isTargetIndex) {\n            if (config.data_selection_isselectable(d)) {\n                if (isSelected) {\n                    toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n                }\n            }\n        }\n    });\n};\n\nc3_chart_fn.show = function (targetIds, options) {\n    var $$ = this.internal,\n        targets;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    options = options || {};\n\n    $$.removeHiddenTargetIds(targetIds);\n    targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\n    targets.transition().style('opacity', 1, 'important').call($$.endall, function () {\n        targets.style('opacity', null).style('opacity', 1);\n    });\n\n    if (options.withLegend) {\n        $$.showLegend(targetIds);\n    }\n\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n};\n\nc3_chart_fn.hide = function (targetIds, options) {\n    var $$ = this.internal,\n        targets;\n\n    targetIds = $$.mapToTargetIds(targetIds);\n    options = options || {};\n\n    $$.addHiddenTargetIds(targetIds);\n    targets = $$.svg.selectAll($$.selectorTargets(targetIds));\n\n    targets.transition().style('opacity', 0, 'important').call($$.endall, function () {\n        targets.style('opacity', null).style('opacity', 0);\n    });\n\n    if (options.withLegend) {\n        $$.hideLegend(targetIds);\n    }\n\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n};\n\nc3_chart_fn.toggle = function (targetIds, options) {\n    var that = this,\n        $$ = this.internal;\n    $$.mapToTargetIds(targetIds).forEach(function (targetId) {\n        $$.isTargetToShow(targetId) ? that.hide(targetId, options) : that.show(targetId, options);\n    });\n};\n\nc3_chart_fn.tooltip = function () {};\nc3_chart_fn.tooltip.show = function (args) {\n    var $$ = this.internal,\n        index,\n        mouse;\n\n    // determine mouse position on the chart\n    if (args.mouse) {\n        mouse = args.mouse;\n    }\n\n    // determine focus data\n    if (args.data) {\n        if ($$.isMultipleX()) {\n            // if multiple xs, target point will be determined by mouse\n            mouse = [$$.x(args.data.x), $$.getYScale(args.data.id)(args.data.value)];\n            index = null;\n        } else {\n            // TODO: when tooltip_grouped = false\n            index = isValue(args.data.index) ? args.data.index : $$.getIndexByX(args.data.x);\n        }\n    } else if (typeof args.x !== 'undefined') {\n        index = $$.getIndexByX(args.x);\n    } else if (typeof args.index !== 'undefined') {\n        index = args.index;\n    }\n\n    // emulate mouse events to show\n    $$.dispatchEvent('mouseover', index, mouse);\n    $$.dispatchEvent('mousemove', index, mouse);\n\n    $$.config.tooltip_onshow.call($$, args.data);\n};\nc3_chart_fn.tooltip.hide = function () {\n    // TODO: get target data by checking the state of focus\n    this.internal.dispatchEvent('mouseout', 0);\n\n    this.internal.config.tooltip_onhide.call(this);\n};\n\nc3_chart_fn.transform = function (type, targetIds) {\n    var $$ = this.internal,\n        options = ['pie', 'donut'].indexOf(type) >= 0 ? { withTransform: true } : null;\n    $$.transformTo(targetIds, type, options);\n};\n\nc3_chart_internal_fn.transformTo = function (targetIds, type, optionsForRedraw) {\n    var $$ = this,\n        withTransitionForAxis = !$$.hasArcType(),\n        options = optionsForRedraw || { withTransitionForAxis: withTransitionForAxis };\n    options.withTransitionForTransform = false;\n    $$.transiting = false;\n    $$.setTargetType(targetIds, type);\n    $$.updateTargets($$.data.targets); // this is needed when transforming to arc\n    $$.updateAndRedraw(options);\n};\n\nc3_chart_fn.x = function (x) {\n    var $$ = this.internal;\n    if (arguments.length) {\n        $$.updateTargetX($$.data.targets, x);\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    }\n    return $$.data.xs;\n};\nc3_chart_fn.xs = function (xs) {\n    var $$ = this.internal;\n    if (arguments.length) {\n        $$.updateTargetXs($$.data.targets, xs);\n        $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true });\n    }\n    return $$.data.xs;\n};\n\nc3_chart_fn.zoom = function (domain) {\n    var $$ = this.internal;\n    if (domain) {\n        if ($$.isTimeSeries()) {\n            domain = domain.map(function (x) {\n                return $$.parseDate(x);\n            });\n        }\n        $$.brush.extent(domain);\n        $$.redraw({ withUpdateXDomain: true, withY: $$.config.zoom_rescale });\n        $$.config.zoom_onzoom.call(this, $$.x.orgDomain());\n    }\n    return $$.brush.extent();\n};\nc3_chart_fn.zoom.enable = function (enabled) {\n    var $$ = this.internal;\n    $$.config.zoom_enabled = enabled;\n    $$.updateAndRedraw();\n};\nc3_chart_fn.unzoom = function () {\n    var $$ = this.internal;\n    $$.brush.clear().update();\n    $$.redraw({ withUpdateXDomain: true });\n};\n\nc3_chart_fn.zoom.max = function (max) {\n    var $$ = this.internal,\n        config = $$.config,\n        d3 = $$.d3;\n    if (max === 0 || max) {\n        config.zoom_x_max = d3.max([$$.orgXDomain[1], max]);\n    } else {\n        return config.zoom_x_max;\n    }\n};\n\nc3_chart_fn.zoom.min = function (min) {\n    var $$ = this.internal,\n        config = $$.config,\n        d3 = $$.d3;\n    if (min === 0 || min) {\n        config.zoom_x_min = d3.min([$$.orgXDomain[0], min]);\n    } else {\n        return config.zoom_x_min;\n    }\n};\n\nc3_chart_fn.zoom.range = function (range) {\n    if (arguments.length) {\n        if (isDefined(range.max)) {\n            this.domain.max(range.max);\n        }\n        if (isDefined(range.min)) {\n            this.domain.min(range.min);\n        }\n    } else {\n        return {\n            max: this.domain.max(),\n            min: this.domain.min()\n        };\n    }\n};\n\nc3_chart_internal_fn.initPie = function () {\n    var $$ = this,\n        d3 = $$.d3;\n    $$.pie = d3.layout.pie().value(function (d) {\n        return d.values.reduce(function (a, b) {\n            return a + b.value;\n        }, 0);\n    });\n    $$.pie.sort($$.getOrderFunction() || null);\n};\n\nc3_chart_internal_fn.updateRadius = function () {\n    var $$ = this,\n        config = $$.config,\n        w = config.gauge_width || config.donut_width,\n        gaugeArcWidth = $$.filterTargetsToShow($$.data.targets).length * $$.config.gauge_arcs_minWidth;\n    $$.radiusExpanded = Math.min($$.arcWidth, $$.arcHeight) / 2 * ($$.hasType('gauge') ? 0.85 : 1);\n    $$.radius = $$.radiusExpanded * 0.95;\n    $$.innerRadiusRatio = w ? ($$.radius - w) / $$.radius : 0.6;\n    $$.innerRadius = $$.hasType('donut') || $$.hasType('gauge') ? $$.radius * $$.innerRadiusRatio : 0;\n    $$.gaugeArcWidth = w ? w : gaugeArcWidth <= $$.radius - $$.innerRadius ? $$.radius - $$.innerRadius : gaugeArcWidth <= $$.radius ? gaugeArcWidth : $$.radius;\n};\n\nc3_chart_internal_fn.updateArc = function () {\n    var $$ = this;\n    $$.svgArc = $$.getSvgArc();\n    $$.svgArcExpanded = $$.getSvgArcExpanded();\n    $$.svgArcExpandedSub = $$.getSvgArcExpanded(0.98);\n};\n\nc3_chart_internal_fn.updateAngle = function (d) {\n    var $$ = this,\n        config = $$.config,\n        found = false,\n        index = 0,\n        gMin,\n        gMax,\n        gTic,\n        gValue;\n\n    if (!config) {\n        return null;\n    }\n\n    $$.pie($$.filterTargetsToShow($$.data.targets)).forEach(function (t) {\n        if (!found && t.data.id === d.data.id) {\n            found = true;\n            d = t;\n            d.index = index;\n        }\n        index++;\n    });\n    if (isNaN(d.startAngle)) {\n        d.startAngle = 0;\n    }\n    if (isNaN(d.endAngle)) {\n        d.endAngle = d.startAngle;\n    }\n    if ($$.isGaugeType(d.data)) {\n        gMin = config.gauge_min;\n        gMax = config.gauge_max;\n        gTic = Math.PI * (config.gauge_fullCircle ? 2 : 1) / (gMax - gMin);\n        gValue = d.value < gMin ? 0 : d.value < gMax ? d.value - gMin : gMax - gMin;\n        d.startAngle = config.gauge_startingAngle;\n        d.endAngle = d.startAngle + gTic * gValue;\n    }\n    return found ? d : null;\n};\n\nc3_chart_internal_fn.getSvgArc = function () {\n    var $$ = this,\n        hasGaugeType = $$.hasType('gauge'),\n        singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length,\n        arc = $$.d3.svg.arc().outerRadius(function (d) {\n        return hasGaugeType ? $$.radius - singleArcWidth * d.index : $$.radius;\n    }).innerRadius(function (d) {\n        return hasGaugeType ? $$.radius - singleArcWidth * (d.index + 1) : $$.innerRadius;\n    }),\n        newArc = function newArc(d, withoutUpdate) {\n        var updated;\n        if (withoutUpdate) {\n            return arc(d);\n        } // for interpolate\n        updated = $$.updateAngle(d);\n        return updated ? arc(updated) : \"M 0 0\";\n    };\n    // TODO: extends all function\n    newArc.centroid = arc.centroid;\n    return newArc;\n};\n\nc3_chart_internal_fn.getSvgArcExpanded = function (rate) {\n    rate = rate || 1;\n    var $$ = this,\n        hasGaugeType = $$.hasType('gauge'),\n        singleArcWidth = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length,\n        expandWidth = Math.min($$.radiusExpanded * rate - $$.radius, singleArcWidth * 0.8 - (1 - rate) * 100),\n        arc = $$.d3.svg.arc().outerRadius(function (d) {\n        return hasGaugeType ? $$.radius - singleArcWidth * d.index + expandWidth : $$.radiusExpanded * rate;\n    }).innerRadius(function (d) {\n        return hasGaugeType ? $$.radius - singleArcWidth * (d.index + 1) : $$.innerRadius;\n    });\n    return function (d) {\n        var updated = $$.updateAngle(d);\n        return updated ? arc(updated) : \"M 0 0\";\n    };\n};\n\nc3_chart_internal_fn.getArc = function (d, withoutUpdate, force) {\n    return force || this.isArcType(d.data) ? this.svgArc(d, withoutUpdate) : \"M 0 0\";\n};\n\nc3_chart_internal_fn.transformForArcLabel = function (d) {\n    var $$ = this,\n        config = $$.config,\n        updated = $$.updateAngle(d),\n        c,\n        x,\n        y,\n        h,\n        ratio,\n        translate = \"\",\n        hasGauge = $$.hasType('gauge');\n    if (updated && !hasGauge) {\n        c = this.svgArc.centroid(updated);\n        x = isNaN(c[0]) ? 0 : c[0];\n        y = isNaN(c[1]) ? 0 : c[1];\n        h = Math.sqrt(x * x + y * y);\n        if ($$.hasType('donut') && config.donut_label_ratio) {\n            ratio = isFunction(config.donut_label_ratio) ? config.donut_label_ratio(d, $$.radius, h) : config.donut_label_ratio;\n        } else if ($$.hasType('pie') && config.pie_label_ratio) {\n            ratio = isFunction(config.pie_label_ratio) ? config.pie_label_ratio(d, $$.radius, h) : config.pie_label_ratio;\n        } else {\n            ratio = $$.radius && h ? (36 / $$.radius > 0.375 ? 1.175 - 36 / $$.radius : 0.8) * $$.radius / h : 0;\n        }\n        translate = \"translate(\" + x * ratio + ',' + y * ratio + \")\";\n    } else if (updated && hasGauge && $$.filterTargetsToShow($$.data.targets).length > 1) {\n        var y1 = Math.sin(updated.endAngle - Math.PI / 2);\n        x = Math.cos(updated.endAngle - Math.PI / 2) * ($$.radiusExpanded + 25);\n        y = y1 * ($$.radiusExpanded + 15 - Math.abs(y1 * 10)) + 3;\n        translate = \"translate(\" + x + ',' + y + \")\";\n    }\n    return translate;\n};\n\nc3_chart_internal_fn.getArcRatio = function (d) {\n    var $$ = this,\n        config = $$.config,\n        whole = Math.PI * ($$.hasType('gauge') && !config.gauge_fullCircle ? 1 : 2);\n    return d ? (d.endAngle - d.startAngle) / whole : null;\n};\n\nc3_chart_internal_fn.convertToArcData = function (d) {\n    return this.addName({\n        id: d.data.id,\n        value: d.value,\n        ratio: this.getArcRatio(d),\n        index: d.index\n    });\n};\n\nc3_chart_internal_fn.textForArcLabel = function (d) {\n    var $$ = this,\n        updated,\n        value,\n        ratio,\n        id,\n        format;\n    if (!$$.shouldShowArcLabel()) {\n        return \"\";\n    }\n    updated = $$.updateAngle(d);\n    value = updated ? updated.value : null;\n    ratio = $$.getArcRatio(updated);\n    id = d.data.id;\n    if (!$$.hasType('gauge') && !$$.meetsArcLabelThreshold(ratio)) {\n        return \"\";\n    }\n    format = $$.getArcLabelFormat();\n    return format ? format(value, ratio, id) : $$.defaultArcValueFormat(value, ratio);\n};\n\nc3_chart_internal_fn.textForGaugeMinMax = function (value, isMax) {\n    var $$ = this,\n        format = $$.getGaugeLabelExtents();\n\n    return format ? format(value, isMax) : value;\n};\n\nc3_chart_internal_fn.expandArc = function (targetIds) {\n    var $$ = this,\n        interval;\n\n    // MEMO: avoid to cancel transition\n    if ($$.transiting) {\n        interval = window.setInterval(function () {\n            if (!$$.transiting) {\n                window.clearInterval(interval);\n                if ($$.legend.selectAll('.c3-legend-item-focused').size() > 0) {\n                    $$.expandArc(targetIds);\n                }\n            }\n        }, 10);\n        return;\n    }\n\n    targetIds = $$.mapToTargetIds(targetIds);\n\n    $$.svg.selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc)).each(function (d) {\n        if (!$$.shouldExpand(d.data.id)) {\n            return;\n        }\n        $$.d3.select(this).selectAll('path').transition().duration($$.expandDuration(d.data.id)).attr(\"d\", $$.svgArcExpanded).transition().duration($$.expandDuration(d.data.id) * 2).attr(\"d\", $$.svgArcExpandedSub).each(function (d) {\n            if ($$.isDonutType(d.data)) {\n                // callback here\n            }\n        });\n    });\n};\n\nc3_chart_internal_fn.unexpandArc = function (targetIds) {\n    var $$ = this;\n\n    if ($$.transiting) {\n        return;\n    }\n\n    targetIds = $$.mapToTargetIds(targetIds);\n\n    $$.svg.selectAll($$.selectorTargets(targetIds, '.' + CLASS.chartArc)).selectAll('path').transition().duration(function (d) {\n        return $$.expandDuration(d.data.id);\n    }).attr(\"d\", $$.svgArc);\n    $$.svg.selectAll('.' + CLASS.arc);\n};\n\nc3_chart_internal_fn.expandDuration = function (id) {\n    var $$ = this,\n        config = $$.config;\n\n    if ($$.isDonutType(id)) {\n        return config.donut_expand_duration;\n    } else if ($$.isGaugeType(id)) {\n        return config.gauge_expand_duration;\n    } else if ($$.isPieType(id)) {\n        return config.pie_expand_duration;\n    } else {\n        return 50;\n    }\n};\n\nc3_chart_internal_fn.shouldExpand = function (id) {\n    var $$ = this,\n        config = $$.config;\n    return $$.isDonutType(id) && config.donut_expand || $$.isGaugeType(id) && config.gauge_expand || $$.isPieType(id) && config.pie_expand;\n};\n\nc3_chart_internal_fn.shouldShowArcLabel = function () {\n    var $$ = this,\n        config = $$.config,\n        shouldShow = true;\n    if ($$.hasType('donut')) {\n        shouldShow = config.donut_label_show;\n    } else if ($$.hasType('pie')) {\n        shouldShow = config.pie_label_show;\n    }\n    // when gauge, always true\n    return shouldShow;\n};\n\nc3_chart_internal_fn.meetsArcLabelThreshold = function (ratio) {\n    var $$ = this,\n        config = $$.config,\n        threshold = $$.hasType('donut') ? config.donut_label_threshold : config.pie_label_threshold;\n    return ratio >= threshold;\n};\n\nc3_chart_internal_fn.getArcLabelFormat = function () {\n    var $$ = this,\n        config = $$.config,\n        format = config.pie_label_format;\n    if ($$.hasType('gauge')) {\n        format = config.gauge_label_format;\n    } else if ($$.hasType('donut')) {\n        format = config.donut_label_format;\n    }\n    return format;\n};\n\nc3_chart_internal_fn.getGaugeLabelExtents = function () {\n    var $$ = this,\n        config = $$.config;\n    return config.gauge_label_extents;\n};\n\nc3_chart_internal_fn.getArcTitle = function () {\n    var $$ = this;\n    return $$.hasType('donut') ? $$.config.donut_title : \"\";\n};\n\nc3_chart_internal_fn.updateTargetsForArc = function (targets) {\n    var $$ = this,\n        main = $$.main,\n        mainPieUpdate,\n        mainPieEnter,\n        classChartArc = $$.classChartArc.bind($$),\n        classArcs = $$.classArcs.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainPieUpdate = main.select('.' + CLASS.chartArcs).selectAll('.' + CLASS.chartArc).data($$.pie(targets)).attr(\"class\", function (d) {\n        return classChartArc(d) + classFocus(d.data);\n    });\n    mainPieEnter = mainPieUpdate.enter().append(\"g\").attr(\"class\", classChartArc);\n    mainPieEnter.append('g').attr('class', classArcs);\n    mainPieEnter.append(\"text\").attr(\"dy\", $$.hasType('gauge') ? \"-.1em\" : \".35em\").style(\"opacity\", 0).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n    // MEMO: can not keep same color..., but not bad to update color in redraw\n    //mainPieUpdate.exit().remove();\n};\n\nc3_chart_internal_fn.initArc = function () {\n    var $$ = this;\n    $$.arcs = $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartArcs).attr(\"transform\", $$.getTranslate('arc'));\n    $$.arcs.append('text').attr('class', CLASS.chartArcsTitle).style(\"text-anchor\", \"middle\").text($$.getArcTitle());\n};\n\nc3_chart_internal_fn.redrawArc = function (duration, durationForExit, withTransform) {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config,\n        main = $$.main,\n        mainArc,\n        backgroundArc,\n        mainArcLabelLine,\n        hasGaugeType = $$.hasType('gauge');\n    mainArc = main.selectAll('.' + CLASS.arcs).selectAll('.' + CLASS.arc).data($$.arcData.bind($$));\n    mainArc.enter().append('path').attr(\"class\", $$.classArc.bind($$)).style(\"fill\", function (d) {\n        return $$.color(d.data);\n    }).style(\"cursor\", function (d) {\n        return config.interaction_enabled && config.data_selection_isselectable(d) ? \"pointer\" : null;\n    }).each(function (d) {\n        if ($$.isGaugeType(d.data)) {\n            d.startAngle = d.endAngle = config.gauge_startingAngle;\n        }\n        this._current = d;\n    });\n    if (hasGaugeType) {\n        mainArcLabelLine = main.selectAll('.' + CLASS.arcs).selectAll('.' + CLASS.arcLabelLine).data($$.arcData.bind($$));\n        mainArcLabelLine.enter().append('rect').attr(\"class\", function (d) {\n            return CLASS.arcLabelLine + ' ' + CLASS.target + ' ' + CLASS.target + '-' + d.data.id;\n        });\n        if ($$.filterTargetsToShow($$.data.targets).length === 1) {\n            mainArcLabelLine.style(\"display\", \"none\");\n        } else {\n            mainArcLabelLine.style(\"fill\", function (d) {\n                return config.color_pattern.length > 0 ? $$.levelColor(d.data.values[0].value) : $$.color(d.data);\n            }).style(\"display\", config.gauge_labelLine_show ? \"\" : \"none\").each(function (d) {\n                var lineLength = 0,\n                    lineThickness = 2,\n                    x = 0,\n                    y = 0,\n                    transform = \"\";\n                if ($$.hiddenTargetIds.indexOf(d.data.id) < 0) {\n                    var updated = $$.updateAngle(d),\n                        innerLineLength = $$.gaugeArcWidth / $$.filterTargetsToShow($$.data.targets).length * (updated.index + 1),\n                        lineAngle = updated.endAngle - Math.PI / 2,\n                        arcInnerRadius = $$.radius - innerLineLength,\n                        linePositioningAngle = lineAngle - (arcInnerRadius === 0 ? 0 : 1 / arcInnerRadius);\n                    lineLength = $$.radiusExpanded - $$.radius + innerLineLength;\n                    x = Math.cos(linePositioningAngle) * arcInnerRadius;\n                    y = Math.sin(linePositioningAngle) * arcInnerRadius;\n                    transform = \"rotate(\" + lineAngle * 180 / Math.PI + \", \" + x + \", \" + y + \")\";\n                }\n                d3.select(this).attr({ x: x, y: y, width: lineLength, height: lineThickness, transform: transform }).style(\"stroke-dasharray\", \"0, \" + (lineLength + lineThickness) + \", 0\");\n            });\n        }\n    }\n    mainArc.attr(\"transform\", function (d) {\n        return !$$.isGaugeType(d.data) && withTransform ? \"scale(0)\" : \"\";\n    }).on('mouseover', config.interaction_enabled ? function (d) {\n        var updated, arcData;\n        if ($$.transiting) {\n            // skip while transiting\n            return;\n        }\n        updated = $$.updateAngle(d);\n        if (updated) {\n            arcData = $$.convertToArcData(updated);\n            // transitions\n            $$.expandArc(updated.data.id);\n            $$.api.focus(updated.data.id);\n            $$.toggleFocusLegend(updated.data.id, true);\n            $$.config.data_onmouseover(arcData, this);\n        }\n    } : null).on('mousemove', config.interaction_enabled ? function (d) {\n        var updated = $$.updateAngle(d),\n            arcData,\n            selectedData;\n        if (updated) {\n            arcData = $$.convertToArcData(updated), selectedData = [arcData];\n            $$.showTooltip(selectedData, this);\n        }\n    } : null).on('mouseout', config.interaction_enabled ? function (d) {\n        var updated, arcData;\n        if ($$.transiting) {\n            // skip while transiting\n            return;\n        }\n        updated = $$.updateAngle(d);\n        if (updated) {\n            arcData = $$.convertToArcData(updated);\n            // transitions\n            $$.unexpandArc(updated.data.id);\n            $$.api.revert();\n            $$.revertLegend();\n            $$.hideTooltip();\n            $$.config.data_onmouseout(arcData, this);\n        }\n    } : null).on('click', config.interaction_enabled ? function (d, i) {\n        var updated = $$.updateAngle(d),\n            arcData;\n        if (updated) {\n            arcData = $$.convertToArcData(updated);\n            if ($$.toggleShape) {\n                $$.toggleShape(this, arcData, i);\n            }\n            $$.config.data_onclick.call($$.api, arcData, this);\n        }\n    } : null).each(function () {\n        $$.transiting = true;\n    }).transition().duration(duration).attrTween(\"d\", function (d) {\n        var updated = $$.updateAngle(d),\n            interpolate;\n        if (!updated) {\n            return function () {\n                return \"M 0 0\";\n            };\n        }\n        //                if (this._current === d) {\n        //                    this._current = {\n        //                        startAngle: Math.PI*2,\n        //                        endAngle: Math.PI*2,\n        //                    };\n        //                }\n        if (isNaN(this._current.startAngle)) {\n            this._current.startAngle = 0;\n        }\n        if (isNaN(this._current.endAngle)) {\n            this._current.endAngle = this._current.startAngle;\n        }\n        interpolate = d3.interpolate(this._current, updated);\n        this._current = interpolate(0);\n        return function (t) {\n            var interpolated = interpolate(t);\n            interpolated.data = d.data; // data.id will be updated by interporator\n            return $$.getArc(interpolated, true);\n        };\n    }).attr(\"transform\", withTransform ? \"scale(1)\" : \"\").style(\"fill\", function (d) {\n        return $$.levelColor ? $$.levelColor(d.data.values[0].value) : $$.color(d.data.id);\n    }) // Where gauge reading color would receive customization.\n    .call($$.endall, function () {\n        $$.transiting = false;\n    });\n    mainArc.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n    main.selectAll('.' + CLASS.chartArc).select('text').style(\"opacity\", 0).attr('class', function (d) {\n        return $$.isGaugeType(d.data) ? CLASS.gaugeValue : '';\n    }).text($$.textForArcLabel.bind($$)).attr(\"transform\", $$.transformForArcLabel.bind($$)).style('font-size', function (d) {\n        return $$.isGaugeType(d.data) && $$.filterTargetsToShow($$.data.targets).length === 1 ? Math.round($$.radius / 5) + 'px' : '';\n    }).transition().duration(duration).style(\"opacity\", function (d) {\n        return $$.isTargetToShow(d.data.id) && $$.isArcType(d.data) ? 1 : 0;\n    });\n    main.select('.' + CLASS.chartArcsTitle).style(\"opacity\", $$.hasType('donut') || hasGaugeType ? 1 : 0);\n\n    if (hasGaugeType) {\n        var index = 0;\n        backgroundArc = $$.arcs.select('g.' + CLASS.chartArcsBackground).selectAll('path.' + CLASS.chartArcsBackground).data($$.data.targets);\n        backgroundArc.enter().append(\"path\");\n        backgroundArc.attr(\"class\", function (d, i) {\n            return CLASS.chartArcsBackground + ' ' + CLASS.chartArcsBackground + '-' + i;\n        }).attr(\"d\", function (d1) {\n            if ($$.hiddenTargetIds.indexOf(d1.id) >= 0) {\n                return \"M 0 0\";\n            }\n\n            var d = {\n                data: [{ value: config.gauge_max }],\n                startAngle: config.gauge_startingAngle,\n                endAngle: -1 * config.gauge_startingAngle * (config.gauge_fullCircle ? Math.PI : 1),\n                index: index++\n            };\n            return $$.getArc(d, true, true);\n        });\n        backgroundArc.exit().remove();\n\n        $$.arcs.select('.' + CLASS.chartArcsGaugeUnit).attr(\"dy\", \".75em\").text(config.gauge_label_show ? config.gauge_units : '');\n        $$.arcs.select('.' + CLASS.chartArcsGaugeMin).attr(\"dx\", -1 * ($$.innerRadius + ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2)) + \"px\").attr(\"dy\", \"1.2em\").text(config.gauge_label_show ? $$.textForGaugeMinMax(config.gauge_min, false) : '');\n        $$.arcs.select('.' + CLASS.chartArcsGaugeMax).attr(\"dx\", $$.innerRadius + ($$.radius - $$.innerRadius) / (config.gauge_fullCircle ? 1 : 2) + \"px\").attr(\"dy\", \"1.2em\").text(config.gauge_label_show ? $$.textForGaugeMinMax(config.gauge_max, true) : '');\n    }\n};\nc3_chart_internal_fn.initGauge = function () {\n    var arcs = this.arcs;\n    if (this.hasType('gauge')) {\n        arcs.append('g').attr(\"class\", CLASS.chartArcsBackground);\n        arcs.append(\"text\").attr(\"class\", CLASS.chartArcsGaugeUnit).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n        arcs.append(\"text\").attr(\"class\", CLASS.chartArcsGaugeMin).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n        arcs.append(\"text\").attr(\"class\", CLASS.chartArcsGaugeMax).style(\"text-anchor\", \"middle\").style(\"pointer-events\", \"none\");\n    }\n};\nc3_chart_internal_fn.getGaugeLabelHeight = function () {\n    return this.config.gauge_label_show ? 20 : 0;\n};\n\nc3_chart_internal_fn.hasCaches = function (ids) {\n    for (var i = 0; i < ids.length; i++) {\n        if (!(ids[i] in this.cache)) {\n            return false;\n        }\n    }\n    return true;\n};\nc3_chart_internal_fn.addCache = function (id, target) {\n    this.cache[id] = this.cloneTarget(target);\n};\nc3_chart_internal_fn.getCaches = function (ids) {\n    var targets = [],\n        i;\n    for (i = 0; i < ids.length; i++) {\n        if (ids[i] in this.cache) {\n            targets.push(this.cloneTarget(this.cache[ids[i]]));\n        }\n    }\n    return targets;\n};\n\nc3_chart_internal_fn.categoryName = function (i) {\n    var config = this.config;\n    return i < config.axis_x_categories.length ? config.axis_x_categories[i] : i;\n};\n\nc3_chart_internal_fn.generateClass = function (prefix, targetId) {\n    return \" \" + prefix + \" \" + prefix + this.getTargetSelectorSuffix(targetId);\n};\nc3_chart_internal_fn.classText = function (d) {\n    return this.generateClass(CLASS.text, d.index);\n};\nc3_chart_internal_fn.classTexts = function (d) {\n    return this.generateClass(CLASS.texts, d.id);\n};\nc3_chart_internal_fn.classShape = function (d) {\n    return this.generateClass(CLASS.shape, d.index);\n};\nc3_chart_internal_fn.classShapes = function (d) {\n    return this.generateClass(CLASS.shapes, d.id);\n};\nc3_chart_internal_fn.classLine = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.line, d.id);\n};\nc3_chart_internal_fn.classLines = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.lines, d.id);\n};\nc3_chart_internal_fn.classCircle = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.circle, d.index);\n};\nc3_chart_internal_fn.classCircles = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.circles, d.id);\n};\nc3_chart_internal_fn.classBar = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.bar, d.index);\n};\nc3_chart_internal_fn.classBars = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.bars, d.id);\n};\nc3_chart_internal_fn.classArc = function (d) {\n    return this.classShape(d.data) + this.generateClass(CLASS.arc, d.data.id);\n};\nc3_chart_internal_fn.classArcs = function (d) {\n    return this.classShapes(d.data) + this.generateClass(CLASS.arcs, d.data.id);\n};\nc3_chart_internal_fn.classArea = function (d) {\n    return this.classShape(d) + this.generateClass(CLASS.area, d.id);\n};\nc3_chart_internal_fn.classAreas = function (d) {\n    return this.classShapes(d) + this.generateClass(CLASS.areas, d.id);\n};\nc3_chart_internal_fn.classRegion = function (d, i) {\n    return this.generateClass(CLASS.region, i) + ' ' + ('class' in d ? d['class'] : '');\n};\nc3_chart_internal_fn.classEvent = function (d) {\n    return this.generateClass(CLASS.eventRect, d.index);\n};\nc3_chart_internal_fn.classTarget = function (id) {\n    var $$ = this;\n    var additionalClassSuffix = $$.config.data_classes[id],\n        additionalClass = '';\n    if (additionalClassSuffix) {\n        additionalClass = ' ' + CLASS.target + '-' + additionalClassSuffix;\n    }\n    return $$.generateClass(CLASS.target, id) + additionalClass;\n};\nc3_chart_internal_fn.classFocus = function (d) {\n    return this.classFocused(d) + this.classDefocused(d);\n};\nc3_chart_internal_fn.classFocused = function (d) {\n    return ' ' + (this.focusedTargetIds.indexOf(d.id) >= 0 ? CLASS.focused : '');\n};\nc3_chart_internal_fn.classDefocused = function (d) {\n    return ' ' + (this.defocusedTargetIds.indexOf(d.id) >= 0 ? CLASS.defocused : '');\n};\nc3_chart_internal_fn.classChartText = function (d) {\n    return CLASS.chartText + this.classTarget(d.id);\n};\nc3_chart_internal_fn.classChartLine = function (d) {\n    return CLASS.chartLine + this.classTarget(d.id);\n};\nc3_chart_internal_fn.classChartBar = function (d) {\n    return CLASS.chartBar + this.classTarget(d.id);\n};\nc3_chart_internal_fn.classChartArc = function (d) {\n    return CLASS.chartArc + this.classTarget(d.data.id);\n};\nc3_chart_internal_fn.getTargetSelectorSuffix = function (targetId) {\n    return targetId || targetId === 0 ? ('-' + targetId).replace(/[\\s?!@#$%^&*()_=+,.<>'\":;\\[\\]\\/|~`{}\\\\]/g, '-') : '';\n};\nc3_chart_internal_fn.selectorTarget = function (id, prefix) {\n    return (prefix || '') + '.' + CLASS.target + this.getTargetSelectorSuffix(id);\n};\nc3_chart_internal_fn.selectorTargets = function (ids, prefix) {\n    var $$ = this;\n    ids = ids || [];\n    return ids.length ? ids.map(function (id) {\n        return $$.selectorTarget(id, prefix);\n    }) : null;\n};\nc3_chart_internal_fn.selectorLegend = function (id) {\n    return '.' + CLASS.legendItem + this.getTargetSelectorSuffix(id);\n};\nc3_chart_internal_fn.selectorLegends = function (ids) {\n    var $$ = this;\n    return ids && ids.length ? ids.map(function (id) {\n        return $$.selectorLegend(id);\n    }) : null;\n};\n\nc3_chart_internal_fn.getClipPath = function (id) {\n    var isIE9 = window.navigator.appVersion.toLowerCase().indexOf(\"msie 9.\") >= 0;\n    return \"url(\" + (isIE9 ? \"\" : document.URL.split('#')[0]) + \"#\" + id + \")\";\n};\nc3_chart_internal_fn.appendClip = function (parent, id) {\n    return parent.append(\"clipPath\").attr(\"id\", id).append(\"rect\");\n};\nc3_chart_internal_fn.getAxisClipX = function (forHorizontal) {\n    // axis line width + padding for left\n    var left = Math.max(30, this.margin.left);\n    return forHorizontal ? -(1 + left) : -(left - 1);\n};\nc3_chart_internal_fn.getAxisClipY = function (forHorizontal) {\n    return forHorizontal ? -20 : -this.margin.top;\n};\nc3_chart_internal_fn.getXAxisClipX = function () {\n    var $$ = this;\n    return $$.getAxisClipX(!$$.config.axis_rotated);\n};\nc3_chart_internal_fn.getXAxisClipY = function () {\n    var $$ = this;\n    return $$.getAxisClipY(!$$.config.axis_rotated);\n};\nc3_chart_internal_fn.getYAxisClipX = function () {\n    var $$ = this;\n    return $$.config.axis_y_inner ? -1 : $$.getAxisClipX($$.config.axis_rotated);\n};\nc3_chart_internal_fn.getYAxisClipY = function () {\n    var $$ = this;\n    return $$.getAxisClipY($$.config.axis_rotated);\n};\nc3_chart_internal_fn.getAxisClipWidth = function (forHorizontal) {\n    var $$ = this,\n        left = Math.max(30, $$.margin.left),\n        right = Math.max(30, $$.margin.right);\n    // width + axis line width + padding for left/right\n    return forHorizontal ? $$.width + 2 + left + right : $$.margin.left + 20;\n};\nc3_chart_internal_fn.getAxisClipHeight = function (forHorizontal) {\n    // less than 20 is not enough to show the axis label 'outer' without legend\n    return (forHorizontal ? this.margin.bottom : this.margin.top + this.height) + 20;\n};\nc3_chart_internal_fn.getXAxisClipWidth = function () {\n    var $$ = this;\n    return $$.getAxisClipWidth(!$$.config.axis_rotated);\n};\nc3_chart_internal_fn.getXAxisClipHeight = function () {\n    var $$ = this;\n    return $$.getAxisClipHeight(!$$.config.axis_rotated);\n};\nc3_chart_internal_fn.getYAxisClipWidth = function () {\n    var $$ = this;\n    return $$.getAxisClipWidth($$.config.axis_rotated) + ($$.config.axis_y_inner ? 20 : 0);\n};\nc3_chart_internal_fn.getYAxisClipHeight = function () {\n    var $$ = this;\n    return $$.getAxisClipHeight($$.config.axis_rotated);\n};\n\nc3_chart_internal_fn.generateColor = function () {\n    var $$ = this,\n        config = $$.config,\n        d3 = $$.d3,\n        colors = config.data_colors,\n        pattern = notEmpty(config.color_pattern) ? config.color_pattern : d3.scale.category10().range(),\n        callback = config.data_color,\n        ids = [];\n\n    return function (d) {\n        var id = d.id || d.data && d.data.id || d,\n            color;\n\n        // if callback function is provided\n        if (colors[id] instanceof Function) {\n            color = colors[id](d);\n        }\n        // if specified, choose that color\n        else if (colors[id]) {\n                color = colors[id];\n            }\n            // if not specified, choose from pattern\n            else {\n                    if (ids.indexOf(id) < 0) {\n                        ids.push(id);\n                    }\n                    color = pattern[ids.indexOf(id) % pattern.length];\n                    colors[id] = color;\n                }\n        return callback instanceof Function ? callback(color, d) : color;\n    };\n};\nc3_chart_internal_fn.generateLevelColor = function () {\n    var $$ = this,\n        config = $$.config,\n        colors = config.color_pattern,\n        threshold = config.color_threshold,\n        asValue = threshold.unit === 'value',\n        values = threshold.values && threshold.values.length ? threshold.values : [],\n        max = threshold.max || 100;\n    return notEmpty(config.color_threshold) ? function (value) {\n        var i,\n            v,\n            color = colors[colors.length - 1];\n        for (i = 0; i < values.length; i++) {\n            v = asValue ? value : value * 100 / max;\n            if (v < values[i]) {\n                color = colors[i];\n                break;\n            }\n        }\n        return color;\n    } : null;\n};\n\nc3_chart_internal_fn.getDefaultConfig = function () {\n    var config = {\n        bindto: '#chart',\n        svg_classname: undefined,\n        size_width: undefined,\n        size_height: undefined,\n        padding_left: undefined,\n        padding_right: undefined,\n        padding_top: undefined,\n        padding_bottom: undefined,\n        resize_auto: true,\n        zoom_enabled: false,\n        zoom_extent: undefined,\n        zoom_privileged: false,\n        zoom_rescale: false,\n        zoom_onzoom: function zoom_onzoom() {},\n        zoom_onzoomstart: function zoom_onzoomstart() {},\n        zoom_onzoomend: function zoom_onzoomend() {},\n        zoom_x_min: undefined,\n        zoom_x_max: undefined,\n        interaction_brighten: true,\n        interaction_enabled: true,\n        onmouseover: function onmouseover() {},\n        onmouseout: function onmouseout() {},\n        onresize: function onresize() {},\n        onresized: function onresized() {},\n        oninit: function oninit() {},\n        onrendered: function onrendered() {},\n        transition_duration: 350,\n        data_x: undefined,\n        data_xs: {},\n        data_xFormat: '%Y-%m-%d',\n        data_xLocaltime: true,\n        data_xSort: true,\n        data_idConverter: function data_idConverter(id) {\n            return id;\n        },\n        data_names: {},\n        data_classes: {},\n        data_groups: [],\n        data_axes: {},\n        data_type: undefined,\n        data_types: {},\n        data_labels: {},\n        data_order: 'desc',\n        data_regions: {},\n        data_color: undefined,\n        data_colors: {},\n        data_hide: false,\n        data_filter: undefined,\n        data_selection_enabled: false,\n        data_selection_grouped: false,\n        data_selection_isselectable: function data_selection_isselectable() {\n            return true;\n        },\n        data_selection_multiple: true,\n        data_selection_draggable: false,\n        data_onclick: function data_onclick() {},\n        data_onmouseover: function data_onmouseover() {},\n        data_onmouseout: function data_onmouseout() {},\n        data_onselected: function data_onselected() {},\n        data_onunselected: function data_onunselected() {},\n        data_url: undefined,\n        data_headers: undefined,\n        data_json: undefined,\n        data_rows: undefined,\n        data_columns: undefined,\n        data_mimeType: undefined,\n        data_keys: undefined,\n        // configuration for no plot-able data supplied.\n        data_empty_label_text: \"\",\n        // subchart\n        subchart_show: false,\n        subchart_size_height: 60,\n        subchart_axis_x_show: true,\n        subchart_onbrush: function subchart_onbrush() {},\n        // color\n        color_pattern: [],\n        color_threshold: {},\n        // legend\n        legend_show: true,\n        legend_hide: false,\n        legend_position: 'bottom',\n        legend_inset_anchor: 'top-left',\n        legend_inset_x: 10,\n        legend_inset_y: 0,\n        legend_inset_step: undefined,\n        legend_item_onclick: undefined,\n        legend_item_onmouseover: undefined,\n        legend_item_onmouseout: undefined,\n        legend_equally: false,\n        legend_padding: 0,\n        legend_item_tile_width: 10,\n        legend_item_tile_height: 10,\n        // axis\n        axis_rotated: false,\n        axis_x_show: true,\n        axis_x_type: 'indexed',\n        axis_x_localtime: true,\n        axis_x_categories: [],\n        axis_x_tick_centered: false,\n        axis_x_tick_format: undefined,\n        axis_x_tick_culling: {},\n        axis_x_tick_culling_max: 10,\n        axis_x_tick_count: undefined,\n        axis_x_tick_fit: true,\n        axis_x_tick_values: null,\n        axis_x_tick_rotate: 0,\n        axis_x_tick_outer: true,\n        axis_x_tick_multiline: true,\n        axis_x_tick_width: null,\n        axis_x_max: undefined,\n        axis_x_min: undefined,\n        axis_x_padding: {},\n        axis_x_height: undefined,\n        axis_x_extent: undefined,\n        axis_x_label: {},\n        axis_y_show: true,\n        axis_y_type: undefined,\n        axis_y_max: undefined,\n        axis_y_min: undefined,\n        axis_y_inverted: false,\n        axis_y_center: undefined,\n        axis_y_inner: undefined,\n        axis_y_label: {},\n        axis_y_tick_format: undefined,\n        axis_y_tick_outer: true,\n        axis_y_tick_values: null,\n        axis_y_tick_rotate: 0,\n        axis_y_tick_count: undefined,\n        axis_y_tick_time_value: undefined,\n        axis_y_tick_time_interval: undefined,\n        axis_y_padding: {},\n        axis_y_default: undefined,\n        axis_y2_show: false,\n        axis_y2_max: undefined,\n        axis_y2_min: undefined,\n        axis_y2_inverted: false,\n        axis_y2_center: undefined,\n        axis_y2_inner: undefined,\n        axis_y2_label: {},\n        axis_y2_tick_format: undefined,\n        axis_y2_tick_outer: true,\n        axis_y2_tick_values: null,\n        axis_y2_tick_count: undefined,\n        axis_y2_padding: {},\n        axis_y2_default: undefined,\n        // grid\n        grid_x_show: false,\n        grid_x_type: 'tick',\n        grid_x_lines: [],\n        grid_y_show: false,\n        // not used\n        // grid_y_type: 'tick',\n        grid_y_lines: [],\n        grid_y_ticks: 10,\n        grid_focus_show: true,\n        grid_lines_front: true,\n        // point - point of each data\n        point_show: true,\n        point_r: 2.5,\n        point_sensitivity: 10,\n        point_focus_expand_enabled: true,\n        point_focus_expand_r: undefined,\n        point_select_r: undefined,\n        // line\n        line_connectNull: false,\n        line_step_type: 'step',\n        // bar\n        bar_width: undefined,\n        bar_width_ratio: 0.6,\n        bar_width_max: undefined,\n        bar_zerobased: true,\n        bar_space: 0,\n        // area\n        area_zerobased: true,\n        area_above: false,\n        // pie\n        pie_label_show: true,\n        pie_label_format: undefined,\n        pie_label_threshold: 0.05,\n        pie_label_ratio: undefined,\n        pie_expand: {},\n        pie_expand_duration: 50,\n        // gauge\n        gauge_fullCircle: false,\n        gauge_label_show: true,\n        gauge_labelLine_show: true,\n        gauge_label_format: undefined,\n        gauge_min: 0,\n        gauge_max: 100,\n        gauge_startingAngle: -1 * Math.PI / 2,\n        gauge_label_extents: undefined,\n        gauge_units: undefined,\n        gauge_width: undefined,\n        gauge_arcs_minWidth: 5,\n        gauge_expand: {},\n        gauge_expand_duration: 50,\n        // donut\n        donut_label_show: true,\n        donut_label_format: undefined,\n        donut_label_threshold: 0.05,\n        donut_label_ratio: undefined,\n        donut_width: undefined,\n        donut_title: \"\",\n        donut_expand: {},\n        donut_expand_duration: 50,\n        // spline\n        spline_interpolation_type: 'cardinal',\n        // region - region to change style\n        regions: [],\n        // tooltip - show when mouseover on each data\n        tooltip_show: true,\n        tooltip_grouped: true,\n        tooltip_order: undefined,\n        tooltip_format_title: undefined,\n        tooltip_format_name: undefined,\n        tooltip_format_value: undefined,\n        tooltip_position: undefined,\n        tooltip_contents: function tooltip_contents(d, defaultTitleFormat, defaultValueFormat, color) {\n            return this.getTooltipContent ? this.getTooltipContent(d, defaultTitleFormat, defaultValueFormat, color) : '';\n        },\n        tooltip_init_show: false,\n        tooltip_init_x: 0,\n        tooltip_init_position: { top: '0px', left: '50px' },\n        tooltip_onshow: function tooltip_onshow() {},\n        tooltip_onhide: function tooltip_onhide() {},\n        // title\n        title_text: undefined,\n        title_padding: {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        },\n        title_position: 'top-center'\n    };\n\n    Object.keys(this.additionalConfig).forEach(function (key) {\n        config[key] = this.additionalConfig[key];\n    }, this);\n\n    return config;\n};\nc3_chart_internal_fn.additionalConfig = {};\n\nc3_chart_internal_fn.loadConfig = function (config) {\n    var this_config = this.config,\n        target,\n        keys,\n        read;\n    function find() {\n        var key = keys.shift();\n        //        console.log(\"key =>\", key, \", target =>\", target);\n        if (key && target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && key in target) {\n            target = target[key];\n            return find();\n        } else if (!key) {\n            return target;\n        } else {\n            return undefined;\n        }\n    }\n    Object.keys(this_config).forEach(function (key) {\n        target = config;\n        keys = key.split('_');\n        read = find();\n        //        console.log(\"CONFIG : \", key, read);\n        if (isDefined(read)) {\n            this_config[key] = read;\n        }\n    });\n};\n\nc3_chart_internal_fn.convertUrlToData = function (url, mimeType, headers, keys, done) {\n    var $$ = this,\n        type = mimeType ? mimeType : 'csv';\n    var req = $$.d3.xhr(url);\n    if (headers) {\n        Object.keys(headers).forEach(function (header) {\n            req.header(header, headers[header]);\n        });\n    }\n    req.get(function (error, data) {\n        var d;\n        var dataResponse = data.response || data.responseText; // Fixes IE9 XHR issue; see #1345\n        if (!data) {\n            throw new Error(error.responseURL + ' ' + error.status + ' (' + error.statusText + ')');\n        }\n        if (type === 'json') {\n            d = $$.convertJsonToData(JSON.parse(dataResponse), keys);\n        } else if (type === 'tsv') {\n            d = $$.convertTsvToData(dataResponse);\n        } else {\n            d = $$.convertCsvToData(dataResponse);\n        }\n        done.call($$, d);\n    });\n};\nc3_chart_internal_fn.convertXsvToData = function (xsv, parser) {\n    var rows = parser.parseRows(xsv),\n        d;\n    if (rows.length === 1) {\n        d = [{}];\n        rows[0].forEach(function (id) {\n            d[0][id] = null;\n        });\n    } else {\n        d = parser.parse(xsv);\n    }\n    return d;\n};\nc3_chart_internal_fn.convertCsvToData = function (csv) {\n    return this.convertXsvToData(csv, this.d3.csv);\n};\nc3_chart_internal_fn.convertTsvToData = function (tsv) {\n    return this.convertXsvToData(tsv, this.d3.tsv);\n};\nc3_chart_internal_fn.convertJsonToData = function (json, keys) {\n    var $$ = this,\n        new_rows = [],\n        targetKeys,\n        data;\n    if (keys) {\n        // when keys specified, json would be an array that includes objects\n        if (keys.x) {\n            targetKeys = keys.value.concat(keys.x);\n            $$.config.data_x = keys.x;\n        } else {\n            targetKeys = keys.value;\n        }\n        new_rows.push(targetKeys);\n        json.forEach(function (o) {\n            var new_row = [];\n            targetKeys.forEach(function (key) {\n                // convert undefined to null because undefined data will be removed in convertDataToTargets()\n                var v = $$.findValueInJson(o, key);\n                if (isUndefined(v)) {\n                    v = null;\n                }\n                new_row.push(v);\n            });\n            new_rows.push(new_row);\n        });\n        data = $$.convertRowsToData(new_rows);\n    } else {\n        Object.keys(json).forEach(function (key) {\n            new_rows.push([key].concat(json[key]));\n        });\n        data = $$.convertColumnsToData(new_rows);\n    }\n    return data;\n};\nc3_chart_internal_fn.findValueInJson = function (object, path) {\n    path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties (replace [] with .)\n    path = path.replace(/^\\./, ''); // strip a leading dot\n    var pathArray = path.split('.');\n    for (var i = 0; i < pathArray.length; ++i) {\n        var k = pathArray[i];\n        if (k in object) {\n            object = object[k];\n        } else {\n            return;\n        }\n    }\n    return object;\n};\n\n/**\n * Converts the rows to normalized data.\n * @param {any[][]} rows The row data\n * @return {Object[]}\n */\nc3_chart_internal_fn.convertRowsToData = function (rows) {\n    var newRows = [];\n    var keys = rows[0];\n\n    for (var i = 1; i < rows.length; i++) {\n        var newRow = {};\n        for (var j = 0; j < rows[i].length; j++) {\n            if (isUndefined(rows[i][j])) {\n                throw new Error(\"Source data is missing a component at (\" + i + \",\" + j + \")!\");\n            }\n            newRow[keys[j]] = rows[i][j];\n        }\n        newRows.push(newRow);\n    }\n    return newRows;\n};\n\n/**\n * Converts the columns to normalized data.\n * @param {any[][]} columns The column data\n * @return {Object[]}\n */\nc3_chart_internal_fn.convertColumnsToData = function (columns) {\n    var newRows = [];\n\n    for (var i = 0; i < columns.length; i++) {\n        var key = columns[i][0];\n        for (var j = 1; j < columns[i].length; j++) {\n            if (isUndefined(newRows[j - 1])) {\n                newRows[j - 1] = {};\n            }\n            if (isUndefined(columns[i][j])) {\n                throw new Error(\"Source data is missing a component at (\" + i + \",\" + j + \")!\");\n            }\n            newRows[j - 1][key] = columns[i][j];\n        }\n    }\n\n    return newRows;\n};\n\nc3_chart_internal_fn.convertDataToTargets = function (data, appendXs) {\n    var $$ = this,\n        config = $$.config,\n        ids = $$.d3.keys(data[0]).filter($$.isNotX, $$),\n        xs = $$.d3.keys(data[0]).filter($$.isX, $$),\n        targets;\n\n    // save x for update data by load when custom x and c3.x API\n    ids.forEach(function (id) {\n        var xKey = $$.getXKey(id);\n\n        if ($$.isCustomX() || $$.isTimeSeries()) {\n            // if included in input data\n            if (xs.indexOf(xKey) >= 0) {\n                $$.data.xs[id] = (appendXs && $$.data.xs[id] ? $$.data.xs[id] : []).concat(data.map(function (d) {\n                    return d[xKey];\n                }).filter(isValue).map(function (rawX, i) {\n                    return $$.generateTargetX(rawX, id, i);\n                }));\n            }\n            // if not included in input data, find from preloaded data of other id's x\n            else if (config.data_x) {\n                    $$.data.xs[id] = $$.getOtherTargetXs();\n                }\n                // if not included in input data, find from preloaded data\n                else if (notEmpty(config.data_xs)) {\n                        $$.data.xs[id] = $$.getXValuesOfXKey(xKey, $$.data.targets);\n                    }\n            // MEMO: if no x included, use same x of current will be used\n        } else {\n            $$.data.xs[id] = data.map(function (d, i) {\n                return i;\n            });\n        }\n    });\n\n    // check x is defined\n    ids.forEach(function (id) {\n        if (!$$.data.xs[id]) {\n            throw new Error('x is not defined for id = \"' + id + '\".');\n        }\n    });\n\n    // convert to target\n    targets = ids.map(function (id, index) {\n        var convertedId = config.data_idConverter(id);\n        return {\n            id: convertedId,\n            id_org: id,\n            values: data.map(function (d, i) {\n                var xKey = $$.getXKey(id),\n                    rawX = d[xKey],\n                    value = d[id] !== null && !isNaN(d[id]) ? +d[id] : null,\n                    x;\n                // use x as categories if custom x and categorized\n                if ($$.isCustomX() && $$.isCategorized() && !isUndefined(rawX)) {\n                    if (index === 0 && i === 0) {\n                        config.axis_x_categories = [];\n                    }\n                    x = config.axis_x_categories.indexOf(rawX);\n                    if (x === -1) {\n                        x = config.axis_x_categories.length;\n                        config.axis_x_categories.push(rawX);\n                    }\n                } else {\n                    x = $$.generateTargetX(rawX, id, i);\n                }\n                // mark as x = undefined if value is undefined and filter to remove after mapped\n                if (isUndefined(d[id]) || $$.data.xs[id].length <= i) {\n                    x = undefined;\n                }\n                return { x: x, value: value, id: convertedId };\n            }).filter(function (v) {\n                return isDefined(v.x);\n            })\n        };\n    });\n\n    // finish targets\n    targets.forEach(function (t) {\n        var i;\n        // sort values by its x\n        if (config.data_xSort) {\n            t.values = t.values.sort(function (v1, v2) {\n                var x1 = v1.x || v1.x === 0 ? v1.x : Infinity,\n                    x2 = v2.x || v2.x === 0 ? v2.x : Infinity;\n                return x1 - x2;\n            });\n        }\n        // indexing each value\n        i = 0;\n        t.values.forEach(function (v) {\n            v.index = i++;\n        });\n        // this needs to be sorted because its index and value.index is identical\n        $$.data.xs[t.id].sort(function (v1, v2) {\n            return v1 - v2;\n        });\n    });\n\n    // cache information about values\n    $$.hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n    $$.hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n\n    // set target types\n    if (config.data_type) {\n        $$.setTargetType($$.mapToIds(targets).filter(function (id) {\n            return !(id in config.data_types);\n        }), config.data_type);\n    }\n\n    // cache as original id keyed\n    targets.forEach(function (d) {\n        $$.addCache(d.id_org, d);\n    });\n\n    return targets;\n};\n\nc3_chart_internal_fn.isX = function (key) {\n    var $$ = this,\n        config = $$.config;\n    return config.data_x && key === config.data_x || notEmpty(config.data_xs) && hasValue(config.data_xs, key);\n};\nc3_chart_internal_fn.isNotX = function (key) {\n    return !this.isX(key);\n};\nc3_chart_internal_fn.getXKey = function (id) {\n    var $$ = this,\n        config = $$.config;\n    return config.data_x ? config.data_x : notEmpty(config.data_xs) ? config.data_xs[id] : null;\n};\nc3_chart_internal_fn.getXValuesOfXKey = function (key, targets) {\n    var $$ = this,\n        xValues,\n        ids = targets && notEmpty(targets) ? $$.mapToIds(targets) : [];\n    ids.forEach(function (id) {\n        if ($$.getXKey(id) === key) {\n            xValues = $$.data.xs[id];\n        }\n    });\n    return xValues;\n};\nc3_chart_internal_fn.getIndexByX = function (x) {\n    var $$ = this,\n        data = $$.filterByX($$.data.targets, x);\n    return data.length ? data[0].index : null;\n};\nc3_chart_internal_fn.getXValue = function (id, i) {\n    var $$ = this;\n    return id in $$.data.xs && $$.data.xs[id] && isValue($$.data.xs[id][i]) ? $$.data.xs[id][i] : i;\n};\nc3_chart_internal_fn.getOtherTargetXs = function () {\n    var $$ = this,\n        idsForX = Object.keys($$.data.xs);\n    return idsForX.length ? $$.data.xs[idsForX[0]] : null;\n};\nc3_chart_internal_fn.getOtherTargetX = function (index) {\n    var xs = this.getOtherTargetXs();\n    return xs && index < xs.length ? xs[index] : null;\n};\nc3_chart_internal_fn.addXs = function (xs) {\n    var $$ = this;\n    Object.keys(xs).forEach(function (id) {\n        $$.config.data_xs[id] = xs[id];\n    });\n};\nc3_chart_internal_fn.hasMultipleX = function (xs) {\n    return this.d3.set(Object.keys(xs).map(function (id) {\n        return xs[id];\n    })).size() > 1;\n};\nc3_chart_internal_fn.isMultipleX = function () {\n    return notEmpty(this.config.data_xs) || !this.config.data_xSort || this.hasType('scatter');\n};\nc3_chart_internal_fn.addName = function (data) {\n    var $$ = this,\n        name;\n    if (data) {\n        name = $$.config.data_names[data.id];\n        data.name = name !== undefined ? name : data.id;\n    }\n    return data;\n};\nc3_chart_internal_fn.getValueOnIndex = function (values, index) {\n    var valueOnIndex = values.filter(function (v) {\n        return v.index === index;\n    });\n    return valueOnIndex.length ? valueOnIndex[0] : null;\n};\nc3_chart_internal_fn.updateTargetX = function (targets, x) {\n    var $$ = this;\n    targets.forEach(function (t) {\n        t.values.forEach(function (v, i) {\n            v.x = $$.generateTargetX(x[i], t.id, i);\n        });\n        $$.data.xs[t.id] = x;\n    });\n};\nc3_chart_internal_fn.updateTargetXs = function (targets, xs) {\n    var $$ = this;\n    targets.forEach(function (t) {\n        if (xs[t.id]) {\n            $$.updateTargetX([t], xs[t.id]);\n        }\n    });\n};\nc3_chart_internal_fn.generateTargetX = function (rawX, id, index) {\n    var $$ = this,\n        x;\n    if ($$.isTimeSeries()) {\n        x = rawX ? $$.parseDate(rawX) : $$.parseDate($$.getXValue(id, index));\n    } else if ($$.isCustomX() && !$$.isCategorized()) {\n        x = isValue(rawX) ? +rawX : $$.getXValue(id, index);\n    } else {\n        x = index;\n    }\n    return x;\n};\nc3_chart_internal_fn.cloneTarget = function (target) {\n    return {\n        id: target.id,\n        id_org: target.id_org,\n        values: target.values.map(function (d) {\n            return { x: d.x, value: d.value, id: d.id };\n        })\n    };\n};\nc3_chart_internal_fn.updateXs = function () {\n    var $$ = this;\n    if ($$.data.targets.length) {\n        $$.xs = [];\n        $$.data.targets[0].values.forEach(function (v) {\n            $$.xs[v.index] = v.x;\n        });\n    }\n};\nc3_chart_internal_fn.getPrevX = function (i) {\n    var x = this.xs[i - 1];\n    return typeof x !== 'undefined' ? x : null;\n};\nc3_chart_internal_fn.getNextX = function (i) {\n    var x = this.xs[i + 1];\n    return typeof x !== 'undefined' ? x : null;\n};\nc3_chart_internal_fn.getMaxDataCount = function () {\n    var $$ = this;\n    return $$.d3.max($$.data.targets, function (t) {\n        return t.values.length;\n    });\n};\nc3_chart_internal_fn.getMaxDataCountTarget = function (targets) {\n    var length = targets.length,\n        max = 0,\n        maxTarget;\n    if (length > 1) {\n        targets.forEach(function (t) {\n            if (t.values.length > max) {\n                maxTarget = t;\n                max = t.values.length;\n            }\n        });\n    } else {\n        maxTarget = length ? targets[0] : null;\n    }\n    return maxTarget;\n};\nc3_chart_internal_fn.getEdgeX = function (targets) {\n    var $$ = this;\n    return !targets.length ? [0, 0] : [$$.d3.min(targets, function (t) {\n        return t.values[0].x;\n    }), $$.d3.max(targets, function (t) {\n        return t.values[t.values.length - 1].x;\n    })];\n};\nc3_chart_internal_fn.mapToIds = function (targets) {\n    return targets.map(function (d) {\n        return d.id;\n    });\n};\nc3_chart_internal_fn.mapToTargetIds = function (ids) {\n    var $$ = this;\n    return ids ? [].concat(ids) : $$.mapToIds($$.data.targets);\n};\nc3_chart_internal_fn.hasTarget = function (targets, id) {\n    var ids = this.mapToIds(targets),\n        i;\n    for (i = 0; i < ids.length; i++) {\n        if (ids[i] === id) {\n            return true;\n        }\n    }\n    return false;\n};\nc3_chart_internal_fn.isTargetToShow = function (targetId) {\n    return this.hiddenTargetIds.indexOf(targetId) < 0;\n};\nc3_chart_internal_fn.isLegendToShow = function (targetId) {\n    return this.hiddenLegendIds.indexOf(targetId) < 0;\n};\nc3_chart_internal_fn.filterTargetsToShow = function (targets) {\n    var $$ = this;\n    return targets.filter(function (t) {\n        return $$.isTargetToShow(t.id);\n    });\n};\nc3_chart_internal_fn.mapTargetsToUniqueXs = function (targets) {\n    var $$ = this;\n    var xs = $$.d3.set($$.d3.merge(targets.map(function (t) {\n        return t.values.map(function (v) {\n            return +v.x;\n        });\n    }))).values();\n    xs = $$.isTimeSeries() ? xs.map(function (x) {\n        return new Date(+x);\n    }) : xs.map(function (x) {\n        return +x;\n    });\n    return xs.sort(function (a, b) {\n        return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n    });\n};\nc3_chart_internal_fn.addHiddenTargetIds = function (targetIds) {\n    targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\n    for (var i = 0; i < targetIds.length; i++) {\n        if (this.hiddenTargetIds.indexOf(targetIds[i]) < 0) {\n            this.hiddenTargetIds = this.hiddenTargetIds.concat(targetIds[i]);\n        }\n    }\n};\nc3_chart_internal_fn.removeHiddenTargetIds = function (targetIds) {\n    this.hiddenTargetIds = this.hiddenTargetIds.filter(function (id) {\n        return targetIds.indexOf(id) < 0;\n    });\n};\nc3_chart_internal_fn.addHiddenLegendIds = function (targetIds) {\n    targetIds = targetIds instanceof Array ? targetIds : new Array(targetIds);\n    for (var i = 0; i < targetIds.length; i++) {\n        if (this.hiddenLegendIds.indexOf(targetIds[i]) < 0) {\n            this.hiddenLegendIds = this.hiddenLegendIds.concat(targetIds[i]);\n        }\n    }\n};\nc3_chart_internal_fn.removeHiddenLegendIds = function (targetIds) {\n    this.hiddenLegendIds = this.hiddenLegendIds.filter(function (id) {\n        return targetIds.indexOf(id) < 0;\n    });\n};\nc3_chart_internal_fn.getValuesAsIdKeyed = function (targets) {\n    var ys = {};\n    targets.forEach(function (t) {\n        ys[t.id] = [];\n        t.values.forEach(function (v) {\n            ys[t.id].push(v.value);\n        });\n    });\n    return ys;\n};\nc3_chart_internal_fn.checkValueInTargets = function (targets, checker) {\n    var ids = Object.keys(targets),\n        i,\n        j,\n        values;\n    for (i = 0; i < ids.length; i++) {\n        values = targets[ids[i]].values;\n        for (j = 0; j < values.length; j++) {\n            if (checker(values[j].value)) {\n                return true;\n            }\n        }\n    }\n    return false;\n};\nc3_chart_internal_fn.hasNegativeValueInTargets = function (targets) {\n    return this.checkValueInTargets(targets, function (v) {\n        return v < 0;\n    });\n};\nc3_chart_internal_fn.hasPositiveValueInTargets = function (targets) {\n    return this.checkValueInTargets(targets, function (v) {\n        return v > 0;\n    });\n};\nc3_chart_internal_fn.isOrderDesc = function () {\n    var config = this.config;\n    return typeof config.data_order === 'string' && config.data_order.toLowerCase() === 'desc';\n};\nc3_chart_internal_fn.isOrderAsc = function () {\n    var config = this.config;\n    return typeof config.data_order === 'string' && config.data_order.toLowerCase() === 'asc';\n};\nc3_chart_internal_fn.getOrderFunction = function () {\n    var $$ = this,\n        config = $$.config,\n        orderAsc = $$.isOrderAsc(),\n        orderDesc = $$.isOrderDesc();\n    if (orderAsc || orderDesc) {\n        return function (t1, t2) {\n            var reducer = function reducer(p, c) {\n                return p + Math.abs(c.value);\n            };\n            var t1Sum = t1.values.reduce(reducer, 0),\n                t2Sum = t2.values.reduce(reducer, 0);\n            return orderDesc ? t2Sum - t1Sum : t1Sum - t2Sum;\n        };\n    } else if (isFunction(config.data_order)) {\n        return config.data_order;\n    } else if (isArray(config.data_order)) {\n        var order = config.data_order;\n        return function (t1, t2) {\n            return order.indexOf(t1.id) - order.indexOf(t2.id);\n        };\n    }\n};\nc3_chart_internal_fn.orderTargets = function (targets) {\n    var fct = this.getOrderFunction();\n    if (fct) {\n        targets.sort(fct);\n        if (this.isOrderAsc() || this.isOrderDesc()) {\n            targets.reverse();\n        }\n    }\n    return targets;\n};\nc3_chart_internal_fn.filterByX = function (targets, x) {\n    return this.d3.merge(targets.map(function (t) {\n        return t.values;\n    })).filter(function (v) {\n        return v.x - x === 0;\n    });\n};\nc3_chart_internal_fn.filterRemoveNull = function (data) {\n    return data.filter(function (d) {\n        return isValue(d.value);\n    });\n};\nc3_chart_internal_fn.filterByXDomain = function (targets, xDomain) {\n    return targets.map(function (t) {\n        return {\n            id: t.id,\n            id_org: t.id_org,\n            values: t.values.filter(function (v) {\n                return xDomain[0] <= v.x && v.x <= xDomain[1];\n            })\n        };\n    });\n};\nc3_chart_internal_fn.hasDataLabel = function () {\n    var config = this.config;\n    if (typeof config.data_labels === 'boolean' && config.data_labels) {\n        return true;\n    } else if (_typeof(config.data_labels) === 'object' && notEmpty(config.data_labels)) {\n        return true;\n    }\n    return false;\n};\nc3_chart_internal_fn.getDataLabelLength = function (min, max, key) {\n    var $$ = this,\n        lengths = [0, 0],\n        paddingCoef = 1.3;\n    $$.selectChart.select('svg').selectAll('.dummy').data([min, max]).enter().append('text').text(function (d) {\n        return $$.dataLabelFormat(d.id)(d);\n    }).each(function (d, i) {\n        lengths[i] = this.getBoundingClientRect()[key] * paddingCoef;\n    }).remove();\n    return lengths;\n};\nc3_chart_internal_fn.isNoneArc = function (d) {\n    return this.hasTarget(this.data.targets, d.id);\n}, c3_chart_internal_fn.isArc = function (d) {\n    return 'data' in d && this.hasTarget(this.data.targets, d.data.id);\n};\nc3_chart_internal_fn.findSameXOfValues = function (values, index) {\n    var i,\n        targetX = values[index].x,\n        sames = [];\n    for (i = index - 1; i >= 0; i--) {\n        if (targetX !== values[i].x) {\n            break;\n        }\n        sames.push(values[i]);\n    }\n    for (i = index; i < values.length; i++) {\n        if (targetX !== values[i].x) {\n            break;\n        }\n        sames.push(values[i]);\n    }\n    return sames;\n};\n\nc3_chart_internal_fn.findClosestFromTargets = function (targets, pos) {\n    var $$ = this,\n        candidates;\n\n    // map to array of closest points of each target\n    candidates = targets.map(function (target) {\n        return $$.findClosest(target.values, pos);\n    });\n\n    // decide closest point and return\n    return $$.findClosest(candidates, pos);\n};\nc3_chart_internal_fn.findClosest = function (values, pos) {\n    var $$ = this,\n        minDist = $$.config.point_sensitivity,\n        closest;\n\n    // find mouseovering bar\n    values.filter(function (v) {\n        return v && $$.isBarType(v.id);\n    }).forEach(function (v) {\n        var shape = $$.main.select('.' + CLASS.bars + $$.getTargetSelectorSuffix(v.id) + ' .' + CLASS.bar + '-' + v.index).node();\n        if (!closest && $$.isWithinBar(shape)) {\n            closest = v;\n        }\n    });\n\n    // find closest point from non-bar\n    values.filter(function (v) {\n        return v && !$$.isBarType(v.id);\n    }).forEach(function (v) {\n        var d = $$.dist(v, pos);\n        if (d < minDist) {\n            minDist = d;\n            closest = v;\n        }\n    });\n\n    return closest;\n};\nc3_chart_internal_fn.dist = function (data, pos) {\n    var $$ = this,\n        config = $$.config,\n        xIndex = config.axis_rotated ? 1 : 0,\n        yIndex = config.axis_rotated ? 0 : 1,\n        y = $$.circleY(data, data.index),\n        x = $$.x(data.x);\n    return Math.sqrt(Math.pow(x - pos[xIndex], 2) + Math.pow(y - pos[yIndex], 2));\n};\nc3_chart_internal_fn.convertValuesToStep = function (values) {\n    var converted = [].concat(values),\n        i;\n\n    if (!this.isCategorized()) {\n        return values;\n    }\n\n    for (i = values.length + 1; 0 < i; i--) {\n        converted[i] = converted[i - 1];\n    }\n\n    converted[0] = {\n        x: converted[0].x - 1,\n        value: converted[0].value,\n        id: converted[0].id\n    };\n    converted[values.length + 1] = {\n        x: converted[values.length].x + 1,\n        value: converted[values.length].value,\n        id: converted[values.length].id\n    };\n\n    return converted;\n};\nc3_chart_internal_fn.updateDataAttributes = function (name, attrs) {\n    var $$ = this,\n        config = $$.config,\n        current = config['data_' + name];\n    if (typeof attrs === 'undefined') {\n        return current;\n    }\n    Object.keys(attrs).forEach(function (id) {\n        current[id] = attrs[id];\n    });\n    $$.redraw({ withLegend: true });\n    return current;\n};\n\nc3_chart_internal_fn.load = function (targets, args) {\n    var $$ = this;\n    if (targets) {\n        // filter loading targets if needed\n        if (args.filter) {\n            targets = targets.filter(args.filter);\n        }\n        // set type if args.types || args.type specified\n        if (args.type || args.types) {\n            targets.forEach(function (t) {\n                var type = args.types && args.types[t.id] ? args.types[t.id] : args.type;\n                $$.setTargetType(t.id, type);\n            });\n        }\n        // Update/Add data\n        $$.data.targets.forEach(function (d) {\n            for (var i = 0; i < targets.length; i++) {\n                if (d.id === targets[i].id) {\n                    d.values = targets[i].values;\n                    targets.splice(i, 1);\n                    break;\n                }\n            }\n        });\n        $$.data.targets = $$.data.targets.concat(targets); // add remained\n    }\n\n    // Set targets\n    $$.updateTargets($$.data.targets);\n\n    // Redraw with new targets\n    $$.redraw({ withUpdateOrgXDomain: true, withUpdateXDomain: true, withLegend: true });\n\n    if (args.done) {\n        args.done();\n    }\n};\nc3_chart_internal_fn.loadFromArgs = function (args) {\n    var $$ = this;\n    if (args.data) {\n        $$.load($$.convertDataToTargets(args.data), args);\n    } else if (args.url) {\n        $$.convertUrlToData(args.url, args.mimeType, args.headers, args.keys, function (data) {\n            $$.load($$.convertDataToTargets(data), args);\n        });\n    } else if (args.json) {\n        $$.load($$.convertDataToTargets($$.convertJsonToData(args.json, args.keys)), args);\n    } else if (args.rows) {\n        $$.load($$.convertDataToTargets($$.convertRowsToData(args.rows)), args);\n    } else if (args.columns) {\n        $$.load($$.convertDataToTargets($$.convertColumnsToData(args.columns)), args);\n    } else {\n        $$.load(null, args);\n    }\n};\nc3_chart_internal_fn.unload = function (targetIds, done) {\n    var $$ = this;\n    if (!done) {\n        done = function done() {};\n    }\n    // filter existing target\n    targetIds = targetIds.filter(function (id) {\n        return $$.hasTarget($$.data.targets, id);\n    });\n    // If no target, call done and return\n    if (!targetIds || targetIds.length === 0) {\n        done();\n        return;\n    }\n    $$.svg.selectAll(targetIds.map(function (id) {\n        return $$.selectorTarget(id);\n    })).transition().style('opacity', 0).remove().call($$.endall, done);\n    targetIds.forEach(function (id) {\n        // Reset fadein for future load\n        $$.withoutFadeIn[id] = false;\n        // Remove target's elements\n        if ($$.legend) {\n            $$.legend.selectAll('.' + CLASS.legendItem + $$.getTargetSelectorSuffix(id)).remove();\n        }\n        // Remove target\n        $$.data.targets = $$.data.targets.filter(function (t) {\n            return t.id !== id;\n        });\n    });\n};\n\nc3_chart_internal_fn.getYDomainMin = function (targets) {\n    var $$ = this,\n        config = $$.config,\n        ids = $$.mapToIds(targets),\n        ys = $$.getValuesAsIdKeyed(targets),\n        j,\n        k,\n        baseId,\n        idsInGroup,\n        id,\n        hasNegativeValue;\n    if (config.data_groups.length > 0) {\n        hasNegativeValue = $$.hasNegativeValueInTargets(targets);\n        for (j = 0; j < config.data_groups.length; j++) {\n            // Determine baseId\n            idsInGroup = config.data_groups[j].filter(function (id) {\n                return ids.indexOf(id) >= 0;\n            });\n            if (idsInGroup.length === 0) {\n                continue;\n            }\n            baseId = idsInGroup[0];\n            // Consider negative values\n            if (hasNegativeValue && ys[baseId]) {\n                ys[baseId].forEach(function (v, i) {\n                    ys[baseId][i] = v < 0 ? v : 0;\n                });\n            }\n            // Compute min\n            for (k = 1; k < idsInGroup.length; k++) {\n                id = idsInGroup[k];\n                if (!ys[id]) {\n                    continue;\n                }\n                ys[id].forEach(function (v, i) {\n                    if ($$.axis.getId(id) === $$.axis.getId(baseId) && ys[baseId] && !(hasNegativeValue && +v > 0)) {\n                        ys[baseId][i] += +v;\n                    }\n                });\n            }\n        }\n    }\n    return $$.d3.min(Object.keys(ys).map(function (key) {\n        return $$.d3.min(ys[key]);\n    }));\n};\nc3_chart_internal_fn.getYDomainMax = function (targets) {\n    var $$ = this,\n        config = $$.config,\n        ids = $$.mapToIds(targets),\n        ys = $$.getValuesAsIdKeyed(targets),\n        j,\n        k,\n        baseId,\n        idsInGroup,\n        id,\n        hasPositiveValue;\n    if (config.data_groups.length > 0) {\n        hasPositiveValue = $$.hasPositiveValueInTargets(targets);\n        for (j = 0; j < config.data_groups.length; j++) {\n            // Determine baseId\n            idsInGroup = config.data_groups[j].filter(function (id) {\n                return ids.indexOf(id) >= 0;\n            });\n            if (idsInGroup.length === 0) {\n                continue;\n            }\n            baseId = idsInGroup[0];\n            // Consider positive values\n            if (hasPositiveValue && ys[baseId]) {\n                ys[baseId].forEach(function (v, i) {\n                    ys[baseId][i] = v > 0 ? v : 0;\n                });\n            }\n            // Compute max\n            for (k = 1; k < idsInGroup.length; k++) {\n                id = idsInGroup[k];\n                if (!ys[id]) {\n                    continue;\n                }\n                ys[id].forEach(function (v, i) {\n                    if ($$.axis.getId(id) === $$.axis.getId(baseId) && ys[baseId] && !(hasPositiveValue && +v < 0)) {\n                        ys[baseId][i] += +v;\n                    }\n                });\n            }\n        }\n    }\n    return $$.d3.max(Object.keys(ys).map(function (key) {\n        return $$.d3.max(ys[key]);\n    }));\n};\nc3_chart_internal_fn.getYDomain = function (targets, axisId, xDomain) {\n    var $$ = this,\n        config = $$.config,\n        targetsByAxisId = targets.filter(function (t) {\n        return $$.axis.getId(t.id) === axisId;\n    }),\n        yTargets = xDomain ? $$.filterByXDomain(targetsByAxisId, xDomain) : targetsByAxisId,\n        yMin = axisId === 'y2' ? config.axis_y2_min : config.axis_y_min,\n        yMax = axisId === 'y2' ? config.axis_y2_max : config.axis_y_max,\n        yDomainMin = $$.getYDomainMin(yTargets),\n        yDomainMax = $$.getYDomainMax(yTargets),\n        domain,\n        domainLength,\n        padding,\n        padding_top,\n        padding_bottom,\n        center = axisId === 'y2' ? config.axis_y2_center : config.axis_y_center,\n        yDomainAbs,\n        lengths,\n        diff,\n        ratio,\n        isAllPositive,\n        isAllNegative,\n        isZeroBased = $$.hasType('bar', yTargets) && config.bar_zerobased || $$.hasType('area', yTargets) && config.area_zerobased,\n        isInverted = axisId === 'y2' ? config.axis_y2_inverted : config.axis_y_inverted,\n        showHorizontalDataLabel = $$.hasDataLabel() && config.axis_rotated,\n        showVerticalDataLabel = $$.hasDataLabel() && !config.axis_rotated;\n\n    // MEMO: avoid inverting domain unexpectedly\n    yDomainMin = isValue(yMin) ? yMin : isValue(yMax) ? yDomainMin < yMax ? yDomainMin : yMax - 10 : yDomainMin;\n    yDomainMax = isValue(yMax) ? yMax : isValue(yMin) ? yMin < yDomainMax ? yDomainMax : yMin + 10 : yDomainMax;\n\n    if (yTargets.length === 0) {\n        // use current domain if target of axisId is none\n        return axisId === 'y2' ? $$.y2.domain() : $$.y.domain();\n    }\n    if (isNaN(yDomainMin)) {\n        // set minimum to zero when not number\n        yDomainMin = 0;\n    }\n    if (isNaN(yDomainMax)) {\n        // set maximum to have same value as yDomainMin\n        yDomainMax = yDomainMin;\n    }\n    if (yDomainMin === yDomainMax) {\n        yDomainMin < 0 ? yDomainMax = 0 : yDomainMin = 0;\n    }\n    isAllPositive = yDomainMin >= 0 && yDomainMax >= 0;\n    isAllNegative = yDomainMin <= 0 && yDomainMax <= 0;\n\n    // Cancel zerobased if axis_*_min / axis_*_max specified\n    if (isValue(yMin) && isAllPositive || isValue(yMax) && isAllNegative) {\n        isZeroBased = false;\n    }\n\n    // Bar/Area chart should be 0-based if all positive|negative\n    if (isZeroBased) {\n        if (isAllPositive) {\n            yDomainMin = 0;\n        }\n        if (isAllNegative) {\n            yDomainMax = 0;\n        }\n    }\n\n    domainLength = Math.abs(yDomainMax - yDomainMin);\n    padding = padding_top = padding_bottom = domainLength * 0.1;\n\n    if (typeof center !== 'undefined') {\n        yDomainAbs = Math.max(Math.abs(yDomainMin), Math.abs(yDomainMax));\n        yDomainMax = center + yDomainAbs;\n        yDomainMin = center - yDomainAbs;\n    }\n    // add padding for data label\n    if (showHorizontalDataLabel) {\n        lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'width');\n        diff = diffDomain($$.y.range());\n        ratio = [lengths[0] / diff, lengths[1] / diff];\n        padding_top += domainLength * (ratio[1] / (1 - ratio[0] - ratio[1]));\n        padding_bottom += domainLength * (ratio[0] / (1 - ratio[0] - ratio[1]));\n    } else if (showVerticalDataLabel) {\n        lengths = $$.getDataLabelLength(yDomainMin, yDomainMax, 'height');\n        padding_top += $$.axis.convertPixelsToAxisPadding(lengths[1], domainLength);\n        padding_bottom += $$.axis.convertPixelsToAxisPadding(lengths[0], domainLength);\n    }\n    if (axisId === 'y' && notEmpty(config.axis_y_padding)) {\n        padding_top = $$.axis.getPadding(config.axis_y_padding, 'top', padding_top, domainLength);\n        padding_bottom = $$.axis.getPadding(config.axis_y_padding, 'bottom', padding_bottom, domainLength);\n    }\n    if (axisId === 'y2' && notEmpty(config.axis_y2_padding)) {\n        padding_top = $$.axis.getPadding(config.axis_y2_padding, 'top', padding_top, domainLength);\n        padding_bottom = $$.axis.getPadding(config.axis_y2_padding, 'bottom', padding_bottom, domainLength);\n    }\n    // Bar/Area chart should be 0-based if all positive|negative\n    if (isZeroBased) {\n        if (isAllPositive) {\n            padding_bottom = yDomainMin;\n        }\n        if (isAllNegative) {\n            padding_top = -yDomainMax;\n        }\n    }\n    domain = [yDomainMin - padding_bottom, yDomainMax + padding_top];\n    return isInverted ? domain.reverse() : domain;\n};\nc3_chart_internal_fn.getXDomainMin = function (targets) {\n    var $$ = this,\n        config = $$.config;\n    return isDefined(config.axis_x_min) ? $$.isTimeSeries() ? this.parseDate(config.axis_x_min) : config.axis_x_min : $$.d3.min(targets, function (t) {\n        return $$.d3.min(t.values, function (v) {\n            return v.x;\n        });\n    });\n};\nc3_chart_internal_fn.getXDomainMax = function (targets) {\n    var $$ = this,\n        config = $$.config;\n    return isDefined(config.axis_x_max) ? $$.isTimeSeries() ? this.parseDate(config.axis_x_max) : config.axis_x_max : $$.d3.max(targets, function (t) {\n        return $$.d3.max(t.values, function (v) {\n            return v.x;\n        });\n    });\n};\nc3_chart_internal_fn.getXDomainPadding = function (domain) {\n    var $$ = this,\n        config = $$.config,\n        diff = domain[1] - domain[0],\n        maxDataCount,\n        padding,\n        paddingLeft,\n        paddingRight;\n    if ($$.isCategorized()) {\n        padding = 0;\n    } else if ($$.hasType('bar')) {\n        maxDataCount = $$.getMaxDataCount();\n        padding = maxDataCount > 1 ? diff / (maxDataCount - 1) / 2 : 0.5;\n    } else {\n        padding = diff * 0.01;\n    }\n    if (_typeof(config.axis_x_padding) === 'object' && notEmpty(config.axis_x_padding)) {\n        paddingLeft = isValue(config.axis_x_padding.left) ? config.axis_x_padding.left : padding;\n        paddingRight = isValue(config.axis_x_padding.right) ? config.axis_x_padding.right : padding;\n    } else if (typeof config.axis_x_padding === 'number') {\n        paddingLeft = paddingRight = config.axis_x_padding;\n    } else {\n        paddingLeft = paddingRight = padding;\n    }\n    return { left: paddingLeft, right: paddingRight };\n};\nc3_chart_internal_fn.getXDomain = function (targets) {\n    var $$ = this,\n        xDomain = [$$.getXDomainMin(targets), $$.getXDomainMax(targets)],\n        firstX = xDomain[0],\n        lastX = xDomain[1],\n        padding = $$.getXDomainPadding(xDomain),\n        min = 0,\n        max = 0;\n    // show center of x domain if min and max are the same\n    if (firstX - lastX === 0 && !$$.isCategorized()) {\n        if ($$.isTimeSeries()) {\n            firstX = new Date(firstX.getTime() * 0.5);\n            lastX = new Date(lastX.getTime() * 1.5);\n        } else {\n            firstX = firstX === 0 ? 1 : firstX * 0.5;\n            lastX = lastX === 0 ? -1 : lastX * 1.5;\n        }\n    }\n    if (firstX || firstX === 0) {\n        min = $$.isTimeSeries() ? new Date(firstX.getTime() - padding.left) : firstX - padding.left;\n    }\n    if (lastX || lastX === 0) {\n        max = $$.isTimeSeries() ? new Date(lastX.getTime() + padding.right) : lastX + padding.right;\n    }\n    return [min, max];\n};\nc3_chart_internal_fn.updateXDomain = function (targets, withUpdateXDomain, withUpdateOrgXDomain, withTrim, domain) {\n    var $$ = this,\n        config = $$.config;\n\n    if (withUpdateOrgXDomain) {\n        $$.x.domain(domain ? domain : $$.d3.extent($$.getXDomain(targets)));\n        $$.orgXDomain = $$.x.domain();\n        if (config.zoom_enabled) {\n            $$.zoom.scale($$.x).updateScaleExtent();\n        }\n        $$.subX.domain($$.x.domain());\n        if ($$.brush) {\n            $$.brush.scale($$.subX);\n        }\n    }\n    if (withUpdateXDomain) {\n        $$.x.domain(domain ? domain : !$$.brush || $$.brush.empty() ? $$.orgXDomain : $$.brush.extent());\n        if (config.zoom_enabled) {\n            $$.zoom.scale($$.x).updateScaleExtent();\n        }\n    }\n\n    // Trim domain when too big by zoom mousemove event\n    if (withTrim) {\n        $$.x.domain($$.trimXDomain($$.x.orgDomain()));\n    }\n\n    return $$.x.domain();\n};\nc3_chart_internal_fn.trimXDomain = function (domain) {\n    var zoomDomain = this.getZoomDomain(),\n        min = zoomDomain[0],\n        max = zoomDomain[1];\n    if (domain[0] <= min) {\n        domain[1] = +domain[1] + (min - domain[0]);\n        domain[0] = min;\n    }\n    if (max <= domain[1]) {\n        domain[0] = +domain[0] - (domain[1] - max);\n        domain[1] = max;\n    }\n    return domain;\n};\n\nc3_chart_internal_fn.drag = function (mouse) {\n    var $$ = this,\n        config = $$.config,\n        main = $$.main,\n        d3 = $$.d3;\n    var sx, sy, mx, my, minX, maxX, minY, maxY;\n\n    if ($$.hasArcType()) {\n        return;\n    }\n    if (!config.data_selection_enabled) {\n        return;\n    } // do nothing if not selectable\n    if (config.zoom_enabled && !$$.zoom.altDomain) {\n        return;\n    } // skip if zoomable because of conflict drag dehavior\n    if (!config.data_selection_multiple) {\n        return;\n    } // skip when single selection because drag is used for multiple selection\n\n    sx = $$.dragStart[0];\n    sy = $$.dragStart[1];\n    mx = mouse[0];\n    my = mouse[1];\n    minX = Math.min(sx, mx);\n    maxX = Math.max(sx, mx);\n    minY = config.data_selection_grouped ? $$.margin.top : Math.min(sy, my);\n    maxY = config.data_selection_grouped ? $$.height : Math.max(sy, my);\n\n    main.select('.' + CLASS.dragarea).attr('x', minX).attr('y', minY).attr('width', maxX - minX).attr('height', maxY - minY);\n    // TODO: binary search when multiple xs\n    main.selectAll('.' + CLASS.shapes).selectAll('.' + CLASS.shape).filter(function (d) {\n        return config.data_selection_isselectable(d);\n    }).each(function (d, i) {\n        var shape = d3.select(this),\n            isSelected = shape.classed(CLASS.SELECTED),\n            isIncluded = shape.classed(CLASS.INCLUDED),\n            _x,\n            _y,\n            _w,\n            _h,\n            toggle,\n            isWithin = false,\n            box;\n        if (shape.classed(CLASS.circle)) {\n            _x = shape.attr(\"cx\") * 1;\n            _y = shape.attr(\"cy\") * 1;\n            toggle = $$.togglePoint;\n            isWithin = minX < _x && _x < maxX && minY < _y && _y < maxY;\n        } else if (shape.classed(CLASS.bar)) {\n            box = getPathBox(this);\n            _x = box.x;\n            _y = box.y;\n            _w = box.width;\n            _h = box.height;\n            toggle = $$.togglePath;\n            isWithin = !(maxX < _x || _x + _w < minX) && !(maxY < _y || _y + _h < minY);\n        } else {\n            // line/area selection not supported yet\n            return;\n        }\n        if (isWithin ^ isIncluded) {\n            shape.classed(CLASS.INCLUDED, !isIncluded);\n            // TODO: included/unincluded callback here\n            shape.classed(CLASS.SELECTED, !isSelected);\n            toggle.call($$, !isSelected, shape, d, i);\n        }\n    });\n};\n\nc3_chart_internal_fn.dragstart = function (mouse) {\n    var $$ = this,\n        config = $$.config;\n    if ($$.hasArcType()) {\n        return;\n    }\n    if (!config.data_selection_enabled) {\n        return;\n    } // do nothing if not selectable\n    $$.dragStart = mouse;\n    $$.main.select('.' + CLASS.chart).append('rect').attr('class', CLASS.dragarea).style('opacity', 0.1);\n    $$.dragging = true;\n};\n\nc3_chart_internal_fn.dragend = function () {\n    var $$ = this,\n        config = $$.config;\n    if ($$.hasArcType()) {\n        return;\n    }\n    if (!config.data_selection_enabled) {\n        return;\n    } // do nothing if not selectable\n    $$.main.select('.' + CLASS.dragarea).transition().duration(100).style('opacity', 0).remove();\n    $$.main.selectAll('.' + CLASS.shape).classed(CLASS.INCLUDED, false);\n    $$.dragging = false;\n};\n\nc3_chart_internal_fn.getYFormat = function (forArc) {\n    var $$ = this,\n        formatForY = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.yFormat,\n        formatForY2 = forArc && !$$.hasType('gauge') ? $$.defaultArcValueFormat : $$.y2Format;\n    return function (v, ratio, id) {\n        var format = $$.axis.getId(id) === 'y2' ? formatForY2 : formatForY;\n        return format.call($$, v, ratio);\n    };\n};\nc3_chart_internal_fn.yFormat = function (v) {\n    var $$ = this,\n        config = $$.config,\n        format = config.axis_y_tick_format ? config.axis_y_tick_format : $$.defaultValueFormat;\n    return format(v);\n};\nc3_chart_internal_fn.y2Format = function (v) {\n    var $$ = this,\n        config = $$.config,\n        format = config.axis_y2_tick_format ? config.axis_y2_tick_format : $$.defaultValueFormat;\n    return format(v);\n};\nc3_chart_internal_fn.defaultValueFormat = function (v) {\n    return isValue(v) ? +v : \"\";\n};\nc3_chart_internal_fn.defaultArcValueFormat = function (v, ratio) {\n    return (ratio * 100).toFixed(1) + '%';\n};\nc3_chart_internal_fn.dataLabelFormat = function (targetId) {\n    var $$ = this,\n        data_labels = $$.config.data_labels,\n        format,\n        defaultFormat = function defaultFormat(v) {\n        return isValue(v) ? +v : \"\";\n    };\n    // find format according to axis id\n    if (typeof data_labels.format === 'function') {\n        format = data_labels.format;\n    } else if (_typeof(data_labels.format) === 'object') {\n        if (data_labels.format[targetId]) {\n            format = data_labels.format[targetId] === true ? defaultFormat : data_labels.format[targetId];\n        } else {\n            format = function format() {\n                return '';\n            };\n        }\n    } else {\n        format = defaultFormat;\n    }\n    return format;\n};\n\nc3_chart_internal_fn.initGrid = function () {\n    var $$ = this,\n        config = $$.config,\n        d3 = $$.d3;\n    $$.grid = $$.main.append('g').attr(\"clip-path\", $$.clipPathForGrid).attr('class', CLASS.grid);\n    if (config.grid_x_show) {\n        $$.grid.append(\"g\").attr(\"class\", CLASS.xgrids);\n    }\n    if (config.grid_y_show) {\n        $$.grid.append('g').attr('class', CLASS.ygrids);\n    }\n    if (config.grid_focus_show) {\n        $$.grid.append('g').attr(\"class\", CLASS.xgridFocus).append('line').attr('class', CLASS.xgridFocus);\n    }\n    $$.xgrid = d3.selectAll([]);\n    if (!config.grid_lines_front) {\n        $$.initGridLines();\n    }\n};\nc3_chart_internal_fn.initGridLines = function () {\n    var $$ = this,\n        d3 = $$.d3;\n    $$.gridLines = $$.main.append('g').attr(\"clip-path\", $$.clipPathForGrid).attr('class', CLASS.grid + ' ' + CLASS.gridLines);\n    $$.gridLines.append('g').attr(\"class\", CLASS.xgridLines);\n    $$.gridLines.append('g').attr('class', CLASS.ygridLines);\n    $$.xgridLines = d3.selectAll([]);\n};\nc3_chart_internal_fn.updateXGrid = function (withoutUpdate) {\n    var $$ = this,\n        config = $$.config,\n        d3 = $$.d3,\n        xgridData = $$.generateGridData(config.grid_x_type, $$.x),\n        tickOffset = $$.isCategorized() ? $$.xAxis.tickOffset() : 0;\n\n    $$.xgridAttr = config.axis_rotated ? {\n        'x1': 0,\n        'x2': $$.width,\n        'y1': function y1(d) {\n            return $$.x(d) - tickOffset;\n        },\n        'y2': function y2(d) {\n            return $$.x(d) - tickOffset;\n        }\n    } : {\n        'x1': function x1(d) {\n            return $$.x(d) + tickOffset;\n        },\n        'x2': function x2(d) {\n            return $$.x(d) + tickOffset;\n        },\n        'y1': 0,\n        'y2': $$.height\n    };\n\n    $$.xgrid = $$.main.select('.' + CLASS.xgrids).selectAll('.' + CLASS.xgrid).data(xgridData);\n    $$.xgrid.enter().append('line').attr(\"class\", CLASS.xgrid);\n    if (!withoutUpdate) {\n        $$.xgrid.attr($$.xgridAttr).style(\"opacity\", function () {\n            return +d3.select(this).attr(config.axis_rotated ? 'y1' : 'x1') === (config.axis_rotated ? $$.height : 0) ? 0 : 1;\n        });\n    }\n    $$.xgrid.exit().remove();\n};\n\nc3_chart_internal_fn.updateYGrid = function () {\n    var $$ = this,\n        config = $$.config,\n        gridValues = $$.yAxis.tickValues() || $$.y.ticks(config.grid_y_ticks);\n    $$.ygrid = $$.main.select('.' + CLASS.ygrids).selectAll('.' + CLASS.ygrid).data(gridValues);\n    $$.ygrid.enter().append('line').attr('class', CLASS.ygrid);\n    $$.ygrid.attr(\"x1\", config.axis_rotated ? $$.y : 0).attr(\"x2\", config.axis_rotated ? $$.y : $$.width).attr(\"y1\", config.axis_rotated ? 0 : $$.y).attr(\"y2\", config.axis_rotated ? $$.height : $$.y);\n    $$.ygrid.exit().remove();\n    $$.smoothLines($$.ygrid, 'grid');\n};\n\nc3_chart_internal_fn.gridTextAnchor = function (d) {\n    return d.position ? d.position : \"end\";\n};\nc3_chart_internal_fn.gridTextDx = function (d) {\n    return d.position === 'start' ? 4 : d.position === 'middle' ? 0 : -4;\n};\nc3_chart_internal_fn.xGridTextX = function (d) {\n    return d.position === 'start' ? -this.height : d.position === 'middle' ? -this.height / 2 : 0;\n};\nc3_chart_internal_fn.yGridTextX = function (d) {\n    return d.position === 'start' ? 0 : d.position === 'middle' ? this.width / 2 : this.width;\n};\nc3_chart_internal_fn.updateGrid = function (duration) {\n    var $$ = this,\n        main = $$.main,\n        config = $$.config,\n        xgridLine,\n        ygridLine,\n        yv;\n\n    // hide if arc type\n    $$.grid.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\n    main.select('line.' + CLASS.xgridFocus).style(\"visibility\", \"hidden\");\n    if (config.grid_x_show) {\n        $$.updateXGrid();\n    }\n    $$.xgridLines = main.select('.' + CLASS.xgridLines).selectAll('.' + CLASS.xgridLine).data(config.grid_x_lines);\n    // enter\n    xgridLine = $$.xgridLines.enter().append('g').attr(\"class\", function (d) {\n        return CLASS.xgridLine + (d['class'] ? ' ' + d['class'] : '');\n    });\n    xgridLine.append('line').style(\"opacity\", 0);\n    xgridLine.append('text').attr(\"text-anchor\", $$.gridTextAnchor).attr(\"transform\", config.axis_rotated ? \"\" : \"rotate(-90)\").attr('dx', $$.gridTextDx).attr('dy', -5).style(\"opacity\", 0);\n    // udpate\n    // done in d3.transition() of the end of this function\n    // exit\n    $$.xgridLines.exit().transition().duration(duration).style(\"opacity\", 0).remove();\n\n    // Y-Grid\n    if (config.grid_y_show) {\n        $$.updateYGrid();\n    }\n    $$.ygridLines = main.select('.' + CLASS.ygridLines).selectAll('.' + CLASS.ygridLine).data(config.grid_y_lines);\n    // enter\n    ygridLine = $$.ygridLines.enter().append('g').attr(\"class\", function (d) {\n        return CLASS.ygridLine + (d['class'] ? ' ' + d['class'] : '');\n    });\n    ygridLine.append('line').style(\"opacity\", 0);\n    ygridLine.append('text').attr(\"text-anchor\", $$.gridTextAnchor).attr(\"transform\", config.axis_rotated ? \"rotate(-90)\" : \"\").attr('dx', $$.gridTextDx).attr('dy', -5).style(\"opacity\", 0);\n    // update\n    yv = $$.yv.bind($$);\n    $$.ygridLines.select('line').transition().duration(duration).attr(\"x1\", config.axis_rotated ? yv : 0).attr(\"x2\", config.axis_rotated ? yv : $$.width).attr(\"y1\", config.axis_rotated ? 0 : yv).attr(\"y2\", config.axis_rotated ? $$.height : yv).style(\"opacity\", 1);\n    $$.ygridLines.select('text').transition().duration(duration).attr(\"x\", config.axis_rotated ? $$.xGridTextX.bind($$) : $$.yGridTextX.bind($$)).attr(\"y\", yv).text(function (d) {\n        return d.text;\n    }).style(\"opacity\", 1);\n    // exit\n    $$.ygridLines.exit().transition().duration(duration).style(\"opacity\", 0).remove();\n};\nc3_chart_internal_fn.redrawGrid = function (withTransition) {\n    var $$ = this,\n        config = $$.config,\n        xv = $$.xv.bind($$),\n        lines = $$.xgridLines.select('line'),\n        texts = $$.xgridLines.select('text');\n    return [(withTransition ? lines.transition() : lines).attr(\"x1\", config.axis_rotated ? 0 : xv).attr(\"x2\", config.axis_rotated ? $$.width : xv).attr(\"y1\", config.axis_rotated ? xv : 0).attr(\"y2\", config.axis_rotated ? xv : $$.height).style(\"opacity\", 1), (withTransition ? texts.transition() : texts).attr(\"x\", config.axis_rotated ? $$.yGridTextX.bind($$) : $$.xGridTextX.bind($$)).attr(\"y\", xv).text(function (d) {\n        return d.text;\n    }).style(\"opacity\", 1)];\n};\nc3_chart_internal_fn.showXGridFocus = function (selectedData) {\n    var $$ = this,\n        config = $$.config,\n        dataToShow = selectedData.filter(function (d) {\n        return d && isValue(d.value);\n    }),\n        focusEl = $$.main.selectAll('line.' + CLASS.xgridFocus),\n        xx = $$.xx.bind($$);\n    if (!config.tooltip_show) {\n        return;\n    }\n    // Hide when scatter plot exists\n    if ($$.hasType('scatter') || $$.hasArcType()) {\n        return;\n    }\n    focusEl.style(\"visibility\", \"visible\").data([dataToShow[0]]).attr(config.axis_rotated ? 'y1' : 'x1', xx).attr(config.axis_rotated ? 'y2' : 'x2', xx);\n    $$.smoothLines(focusEl, 'grid');\n};\nc3_chart_internal_fn.hideXGridFocus = function () {\n    this.main.select('line.' + CLASS.xgridFocus).style(\"visibility\", \"hidden\");\n};\nc3_chart_internal_fn.updateXgridFocus = function () {\n    var $$ = this,\n        config = $$.config;\n    $$.main.select('line.' + CLASS.xgridFocus).attr(\"x1\", config.axis_rotated ? 0 : -10).attr(\"x2\", config.axis_rotated ? $$.width : -10).attr(\"y1\", config.axis_rotated ? -10 : 0).attr(\"y2\", config.axis_rotated ? -10 : $$.height);\n};\nc3_chart_internal_fn.generateGridData = function (type, scale) {\n    var $$ = this,\n        gridData = [],\n        xDomain,\n        firstYear,\n        lastYear,\n        i,\n        tickNum = $$.main.select(\".\" + CLASS.axisX).selectAll('.tick').size();\n    if (type === 'year') {\n        xDomain = $$.getXDomain();\n        firstYear = xDomain[0].getFullYear();\n        lastYear = xDomain[1].getFullYear();\n        for (i = firstYear; i <= lastYear; i++) {\n            gridData.push(new Date(i + '-01-01 00:00:00'));\n        }\n    } else {\n        gridData = scale.ticks(10);\n        if (gridData.length > tickNum) {\n            // use only int\n            gridData = gridData.filter(function (d) {\n                return (\"\" + d).indexOf('.') < 0;\n            });\n        }\n    }\n    return gridData;\n};\nc3_chart_internal_fn.getGridFilterToRemove = function (params) {\n    return params ? function (line) {\n        var found = false;\n        [].concat(params).forEach(function (param) {\n            if ('value' in param && line.value === param.value || 'class' in param && line['class'] === param['class']) {\n                found = true;\n            }\n        });\n        return found;\n    } : function () {\n        return true;\n    };\n};\nc3_chart_internal_fn.removeGridLines = function (params, forX) {\n    var $$ = this,\n        config = $$.config,\n        toRemove = $$.getGridFilterToRemove(params),\n        toShow = function toShow(line) {\n        return !toRemove(line);\n    },\n        classLines = forX ? CLASS.xgridLines : CLASS.ygridLines,\n        classLine = forX ? CLASS.xgridLine : CLASS.ygridLine;\n    $$.main.select('.' + classLines).selectAll('.' + classLine).filter(toRemove).transition().duration(config.transition_duration).style('opacity', 0).remove();\n    if (forX) {\n        config.grid_x_lines = config.grid_x_lines.filter(toShow);\n    } else {\n        config.grid_y_lines = config.grid_y_lines.filter(toShow);\n    }\n};\n\nc3_chart_internal_fn.initEventRect = function () {\n    var $$ = this;\n    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.eventRects).style('fill-opacity', 0);\n};\nc3_chart_internal_fn.redrawEventRect = function () {\n    var $$ = this,\n        config = $$.config,\n        eventRectUpdate,\n        maxDataCountTarget,\n        isMultipleX = $$.isMultipleX();\n\n    // rects for mouseover\n    var eventRects = $$.main.select('.' + CLASS.eventRects).style('cursor', config.zoom_enabled ? config.axis_rotated ? 'ns-resize' : 'ew-resize' : null).classed(CLASS.eventRectsMultiple, isMultipleX).classed(CLASS.eventRectsSingle, !isMultipleX);\n\n    // clear old rects\n    eventRects.selectAll('.' + CLASS.eventRect).remove();\n\n    // open as public variable\n    $$.eventRect = eventRects.selectAll('.' + CLASS.eventRect);\n\n    if (isMultipleX) {\n        eventRectUpdate = $$.eventRect.data([0]);\n        // enter : only one rect will be added\n        $$.generateEventRectsForMultipleXs(eventRectUpdate.enter());\n        // update\n        $$.updateEventRect(eventRectUpdate);\n        // exit : not needed because always only one rect exists\n    } else {\n        // Set data and update $$.eventRect\n        maxDataCountTarget = $$.getMaxDataCountTarget($$.data.targets);\n        eventRects.datum(maxDataCountTarget ? maxDataCountTarget.values : []);\n        $$.eventRect = eventRects.selectAll('.' + CLASS.eventRect);\n        eventRectUpdate = $$.eventRect.data(function (d) {\n            return d;\n        });\n        // enter\n        $$.generateEventRectsForSingleX(eventRectUpdate.enter());\n        // update\n        $$.updateEventRect(eventRectUpdate);\n        // exit\n        eventRectUpdate.exit().remove();\n    }\n};\nc3_chart_internal_fn.updateEventRect = function (eventRectUpdate) {\n    var $$ = this,\n        config = $$.config,\n        x,\n        y,\n        w,\n        h,\n        rectW,\n        rectX;\n\n    // set update selection if null\n    eventRectUpdate = eventRectUpdate || $$.eventRect.data(function (d) {\n        return d;\n    });\n\n    if ($$.isMultipleX()) {\n        // TODO: rotated not supported yet\n        x = 0;\n        y = 0;\n        w = $$.width;\n        h = $$.height;\n    } else {\n        if (($$.isCustomX() || $$.isTimeSeries()) && !$$.isCategorized()) {\n\n            // update index for x that is used by prevX and nextX\n            $$.updateXs();\n\n            rectW = function rectW(d) {\n                var prevX = $$.getPrevX(d.index),\n                    nextX = $$.getNextX(d.index);\n\n                // if there this is a single data point make the eventRect full width (or height)\n                if (prevX === null && nextX === null) {\n                    return config.axis_rotated ? $$.height : $$.width;\n                }\n\n                if (prevX === null) {\n                    prevX = $$.x.domain()[0];\n                }\n                if (nextX === null) {\n                    nextX = $$.x.domain()[1];\n                }\n\n                return Math.max(0, ($$.x(nextX) - $$.x(prevX)) / 2);\n            };\n            rectX = function rectX(d) {\n                var prevX = $$.getPrevX(d.index),\n                    nextX = $$.getNextX(d.index),\n                    thisX = $$.data.xs[d.id][d.index];\n\n                // if there this is a single data point position the eventRect at 0\n                if (prevX === null && nextX === null) {\n                    return 0;\n                }\n\n                if (prevX === null) {\n                    prevX = $$.x.domain()[0];\n                }\n\n                return ($$.x(thisX) + $$.x(prevX)) / 2;\n            };\n        } else {\n            rectW = $$.getEventRectWidth();\n            rectX = function rectX(d) {\n                return $$.x(d.x) - rectW / 2;\n            };\n        }\n        x = config.axis_rotated ? 0 : rectX;\n        y = config.axis_rotated ? rectX : 0;\n        w = config.axis_rotated ? $$.width : rectW;\n        h = config.axis_rotated ? rectW : $$.height;\n    }\n\n    eventRectUpdate.attr('class', $$.classEvent.bind($$)).attr(\"x\", x).attr(\"y\", y).attr(\"width\", w).attr(\"height\", h);\n};\nc3_chart_internal_fn.generateEventRectsForSingleX = function (eventRectEnter) {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config;\n    eventRectEnter.append(\"rect\").attr(\"class\", $$.classEvent.bind($$)).style(\"cursor\", config.data_selection_enabled && config.data_selection_grouped ? \"pointer\" : null).on('mouseover', function (d) {\n        var index = d.index;\n\n        if ($$.dragging || $$.flowing) {\n            return;\n        } // do nothing while dragging/flowing\n        if ($$.hasArcType()) {\n            return;\n        }\n\n        // Expand shapes for selection\n        if (config.point_focus_expand_enabled) {\n            $$.expandCircles(index, null, true);\n        }\n        $$.expandBars(index, null, true);\n\n        // Call event handler\n        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function (d) {\n            config.data_onmouseover.call($$.api, d);\n        });\n    }).on('mouseout', function (d) {\n        var index = d.index;\n        if (!$$.config) {\n            return;\n        } // chart is destroyed\n        if ($$.hasArcType()) {\n            return;\n        }\n        $$.hideXGridFocus();\n        $$.hideTooltip();\n        // Undo expanded shapes\n        $$.unexpandCircles();\n        $$.unexpandBars();\n        // Call event handler\n        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function (d) {\n            config.data_onmouseout.call($$.api, d);\n        });\n    }).on('mousemove', function (d) {\n        var selectedData,\n            index = d.index,\n            eventRect = $$.svg.select('.' + CLASS.eventRect + '-' + index);\n\n        if ($$.dragging || $$.flowing) {\n            return;\n        } // do nothing while dragging/flowing\n        if ($$.hasArcType()) {\n            return;\n        }\n\n        if ($$.isStepType(d) && $$.config.line_step_type === 'step-after' && d3.mouse(this)[0] < $$.x($$.getXValue(d.id, index))) {\n            index -= 1;\n        }\n\n        // Show tooltip\n        selectedData = $$.filterTargetsToShow($$.data.targets).map(function (t) {\n            return $$.addName($$.getValueOnIndex(t.values, index));\n        });\n\n        if (config.tooltip_grouped) {\n            $$.showTooltip(selectedData, this);\n            $$.showXGridFocus(selectedData);\n        }\n\n        if (config.tooltip_grouped && (!config.data_selection_enabled || config.data_selection_grouped)) {\n            return;\n        }\n\n        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function () {\n            d3.select(this).classed(CLASS.EXPANDED, true);\n            if (config.data_selection_enabled) {\n                eventRect.style('cursor', config.data_selection_grouped ? 'pointer' : null);\n            }\n            if (!config.tooltip_grouped) {\n                $$.hideXGridFocus();\n                $$.hideTooltip();\n                if (!config.data_selection_grouped) {\n                    $$.unexpandCircles(index);\n                    $$.unexpandBars(index);\n                }\n            }\n        }).filter(function (d) {\n            return $$.isWithinShape(this, d);\n        }).each(function (d) {\n            if (config.data_selection_enabled && (config.data_selection_grouped || config.data_selection_isselectable(d))) {\n                eventRect.style('cursor', 'pointer');\n            }\n            if (!config.tooltip_grouped) {\n                $$.showTooltip([d], this);\n                $$.showXGridFocus([d]);\n                if (config.point_focus_expand_enabled) {\n                    $$.expandCircles(index, d.id, true);\n                }\n                $$.expandBars(index, d.id, true);\n            }\n        });\n    }).on('click', function (d) {\n        var index = d.index;\n        if ($$.hasArcType() || !$$.toggleShape) {\n            return;\n        }\n        if ($$.cancelClick) {\n            $$.cancelClick = false;\n            return;\n        }\n        if ($$.isStepType(d) && config.line_step_type === 'step-after' && d3.mouse(this)[0] < $$.x($$.getXValue(d.id, index))) {\n            index -= 1;\n        }\n        $$.main.selectAll('.' + CLASS.shape + '-' + index).each(function (d) {\n            if (config.data_selection_grouped || $$.isWithinShape(this, d)) {\n                $$.toggleShape(this, d, index);\n                $$.config.data_onclick.call($$.api, d, this);\n            }\n        });\n    }).call(config.data_selection_draggable && $$.drag ? d3.behavior.drag().origin(Object).on('drag', function () {\n        $$.drag(d3.mouse(this));\n    }).on('dragstart', function () {\n        $$.dragstart(d3.mouse(this));\n    }).on('dragend', function () {\n        $$.dragend();\n    }) : function () {});\n};\n\nc3_chart_internal_fn.generateEventRectsForMultipleXs = function (eventRectEnter) {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config;\n\n    function mouseout() {\n        $$.svg.select('.' + CLASS.eventRect).style('cursor', null);\n        $$.hideXGridFocus();\n        $$.hideTooltip();\n        $$.unexpandCircles();\n        $$.unexpandBars();\n    }\n\n    eventRectEnter.append('rect').attr('x', 0).attr('y', 0).attr('width', $$.width).attr('height', $$.height).attr('class', CLASS.eventRect).on('mouseout', function () {\n        if (!$$.config) {\n            return;\n        } // chart is destroyed\n        if ($$.hasArcType()) {\n            return;\n        }\n        mouseout();\n    }).on('mousemove', function () {\n        var targetsToShow = $$.filterTargetsToShow($$.data.targets);\n        var mouse, closest, sameXData, selectedData;\n\n        if ($$.dragging) {\n            return;\n        } // do nothing when dragging\n        if ($$.hasArcType(targetsToShow)) {\n            return;\n        }\n\n        mouse = d3.mouse(this);\n        closest = $$.findClosestFromTargets(targetsToShow, mouse);\n\n        if ($$.mouseover && (!closest || closest.id !== $$.mouseover.id)) {\n            config.data_onmouseout.call($$.api, $$.mouseover);\n            $$.mouseover = undefined;\n        }\n\n        if (!closest) {\n            mouseout();\n            return;\n        }\n\n        if ($$.isScatterType(closest) || !config.tooltip_grouped) {\n            sameXData = [closest];\n        } else {\n            sameXData = $$.filterByX(targetsToShow, closest.x);\n        }\n\n        // show tooltip when cursor is close to some point\n        selectedData = sameXData.map(function (d) {\n            return $$.addName(d);\n        });\n        $$.showTooltip(selectedData, this);\n\n        // expand points\n        if (config.point_focus_expand_enabled) {\n            $$.expandCircles(closest.index, closest.id, true);\n        }\n        $$.expandBars(closest.index, closest.id, true);\n\n        // Show xgrid focus line\n        $$.showXGridFocus(selectedData);\n\n        // Show cursor as pointer if point is close to mouse position\n        if ($$.isBarType(closest.id) || $$.dist(closest, mouse) < config.point_sensitivity) {\n            $$.svg.select('.' + CLASS.eventRect).style('cursor', 'pointer');\n            if (!$$.mouseover) {\n                config.data_onmouseover.call($$.api, closest);\n                $$.mouseover = closest;\n            }\n        }\n    }).on('click', function () {\n        var targetsToShow = $$.filterTargetsToShow($$.data.targets);\n        var mouse, closest;\n        if ($$.hasArcType(targetsToShow)) {\n            return;\n        }\n\n        mouse = d3.mouse(this);\n        closest = $$.findClosestFromTargets(targetsToShow, mouse);\n        if (!closest) {\n            return;\n        }\n        // select if selection enabled\n        if ($$.isBarType(closest.id) || $$.dist(closest, mouse) < config.point_sensitivity) {\n            $$.main.selectAll('.' + CLASS.shapes + $$.getTargetSelectorSuffix(closest.id)).selectAll('.' + CLASS.shape + '-' + closest.index).each(function () {\n                if (config.data_selection_grouped || $$.isWithinShape(this, closest)) {\n                    $$.toggleShape(this, closest, closest.index);\n                    $$.config.data_onclick.call($$.api, closest, this);\n                }\n            });\n        }\n    }).call(config.data_selection_draggable && $$.drag ? d3.behavior.drag().origin(Object).on('drag', function () {\n        $$.drag(d3.mouse(this));\n    }).on('dragstart', function () {\n        $$.dragstart(d3.mouse(this));\n    }).on('dragend', function () {\n        $$.dragend();\n    }) : function () {});\n};\nc3_chart_internal_fn.dispatchEvent = function (type, index, mouse) {\n    var $$ = this,\n        selector = '.' + CLASS.eventRect + (!$$.isMultipleX() ? '-' + index : ''),\n        eventRect = $$.main.select(selector).node(),\n        box = eventRect.getBoundingClientRect(),\n        x = box.left + (mouse ? mouse[0] : 0),\n        y = box.top + (mouse ? mouse[1] : 0),\n        event = document.createEvent(\"MouseEvents\");\n\n    event.initMouseEvent(type, true, true, window, 0, x, y, x, y, false, false, false, false, 0, null);\n    eventRect.dispatchEvent(event);\n};\n\nc3_chart_internal_fn.initLegend = function () {\n    var $$ = this;\n    $$.legendItemTextBox = {};\n    $$.legendHasRendered = false;\n    $$.legend = $$.svg.append(\"g\").attr(\"transform\", $$.getTranslate('legend'));\n    if (!$$.config.legend_show) {\n        $$.legend.style('visibility', 'hidden');\n        $$.hiddenLegendIds = $$.mapToIds($$.data.targets);\n        return;\n    }\n    // MEMO: call here to update legend box and tranlate for all\n    // MEMO: translate will be upated by this, so transform not needed in updateLegend()\n    $$.updateLegendWithDefaults();\n};\nc3_chart_internal_fn.updateLegendWithDefaults = function () {\n    var $$ = this;\n    $$.updateLegend($$.mapToIds($$.data.targets), { withTransform: false, withTransitionForTransform: false, withTransition: false });\n};\nc3_chart_internal_fn.updateSizeForLegend = function (legendHeight, legendWidth) {\n    var $$ = this,\n        config = $$.config,\n        insetLegendPosition = {\n        top: $$.isLegendTop ? $$.getCurrentPaddingTop() + config.legend_inset_y + 5.5 : $$.currentHeight - legendHeight - $$.getCurrentPaddingBottom() - config.legend_inset_y,\n        left: $$.isLegendLeft ? $$.getCurrentPaddingLeft() + config.legend_inset_x + 0.5 : $$.currentWidth - legendWidth - $$.getCurrentPaddingRight() - config.legend_inset_x + 0.5\n    };\n\n    $$.margin3 = {\n        top: $$.isLegendRight ? 0 : $$.isLegendInset ? insetLegendPosition.top : $$.currentHeight - legendHeight,\n        right: NaN,\n        bottom: 0,\n        left: $$.isLegendRight ? $$.currentWidth - legendWidth : $$.isLegendInset ? insetLegendPosition.left : 0\n    };\n};\nc3_chart_internal_fn.transformLegend = function (withTransition) {\n    var $$ = this;\n    (withTransition ? $$.legend.transition() : $$.legend).attr(\"transform\", $$.getTranslate('legend'));\n};\nc3_chart_internal_fn.updateLegendStep = function (step) {\n    this.legendStep = step;\n};\nc3_chart_internal_fn.updateLegendItemWidth = function (w) {\n    this.legendItemWidth = w;\n};\nc3_chart_internal_fn.updateLegendItemHeight = function (h) {\n    this.legendItemHeight = h;\n};\nc3_chart_internal_fn.getLegendWidth = function () {\n    var $$ = this;\n    return $$.config.legend_show ? $$.isLegendRight || $$.isLegendInset ? $$.legendItemWidth * ($$.legendStep + 1) : $$.currentWidth : 0;\n};\nc3_chart_internal_fn.getLegendHeight = function () {\n    var $$ = this,\n        h = 0;\n    if ($$.config.legend_show) {\n        if ($$.isLegendRight) {\n            h = $$.currentHeight;\n        } else {\n            h = Math.max(20, $$.legendItemHeight) * ($$.legendStep + 1);\n        }\n    }\n    return h;\n};\nc3_chart_internal_fn.opacityForLegend = function (legendItem) {\n    return legendItem.classed(CLASS.legendItemHidden) ? null : 1;\n};\nc3_chart_internal_fn.opacityForUnfocusedLegend = function (legendItem) {\n    return legendItem.classed(CLASS.legendItemHidden) ? null : 0.3;\n};\nc3_chart_internal_fn.toggleFocusLegend = function (targetIds, focus) {\n    var $$ = this;\n    targetIds = $$.mapToTargetIds(targetIds);\n    $$.legend.selectAll('.' + CLASS.legendItem).filter(function (id) {\n        return targetIds.indexOf(id) >= 0;\n    }).classed(CLASS.legendItemFocused, focus).transition().duration(100).style('opacity', function () {\n        var opacity = focus ? $$.opacityForLegend : $$.opacityForUnfocusedLegend;\n        return opacity.call($$, $$.d3.select(this));\n    });\n};\nc3_chart_internal_fn.revertLegend = function () {\n    var $$ = this,\n        d3 = $$.d3;\n    $$.legend.selectAll('.' + CLASS.legendItem).classed(CLASS.legendItemFocused, false).transition().duration(100).style('opacity', function () {\n        return $$.opacityForLegend(d3.select(this));\n    });\n};\nc3_chart_internal_fn.showLegend = function (targetIds) {\n    var $$ = this,\n        config = $$.config;\n    if (!config.legend_show) {\n        config.legend_show = true;\n        $$.legend.style('visibility', 'visible');\n        if (!$$.legendHasRendered) {\n            $$.updateLegendWithDefaults();\n        }\n    }\n    $$.removeHiddenLegendIds(targetIds);\n    $$.legend.selectAll($$.selectorLegends(targetIds)).style('visibility', 'visible').transition().style('opacity', function () {\n        return $$.opacityForLegend($$.d3.select(this));\n    });\n};\nc3_chart_internal_fn.hideLegend = function (targetIds) {\n    var $$ = this,\n        config = $$.config;\n    if (config.legend_show && isEmpty(targetIds)) {\n        config.legend_show = false;\n        $$.legend.style('visibility', 'hidden');\n    }\n    $$.addHiddenLegendIds(targetIds);\n    $$.legend.selectAll($$.selectorLegends(targetIds)).style('opacity', 0).style('visibility', 'hidden');\n};\nc3_chart_internal_fn.clearLegendItemTextBoxCache = function () {\n    this.legendItemTextBox = {};\n};\nc3_chart_internal_fn.updateLegend = function (targetIds, options, transitions) {\n    var $$ = this,\n        config = $$.config;\n    var xForLegend, xForLegendText, xForLegendRect, yForLegend, yForLegendText, yForLegendRect, x1ForLegendTile, x2ForLegendTile, yForLegendTile;\n    var paddingTop = 4,\n        paddingRight = 10,\n        maxWidth = 0,\n        maxHeight = 0,\n        posMin = 10,\n        tileWidth = config.legend_item_tile_width + 5;\n    var l,\n        totalLength = 0,\n        offsets = {},\n        widths = {},\n        heights = {},\n        margins = [0],\n        steps = {},\n        step = 0;\n    var withTransition, withTransitionForTransform;\n    var texts, rects, tiles, background;\n\n    // Skip elements when their name is set to null\n    targetIds = targetIds.filter(function (id) {\n        return !isDefined(config.data_names[id]) || config.data_names[id] !== null;\n    });\n\n    options = options || {};\n    withTransition = getOption(options, \"withTransition\", true);\n    withTransitionForTransform = getOption(options, \"withTransitionForTransform\", true);\n\n    function getTextBox(textElement, id) {\n        if (!$$.legendItemTextBox[id]) {\n            $$.legendItemTextBox[id] = $$.getTextRect(textElement.textContent, CLASS.legendItem, textElement);\n        }\n        return $$.legendItemTextBox[id];\n    }\n\n    function updatePositions(textElement, id, index) {\n        var reset = index === 0,\n            isLast = index === targetIds.length - 1,\n            box = getTextBox(textElement, id),\n            itemWidth = box.width + tileWidth + (isLast && !($$.isLegendRight || $$.isLegendInset) ? 0 : paddingRight) + config.legend_padding,\n            itemHeight = box.height + paddingTop,\n            itemLength = $$.isLegendRight || $$.isLegendInset ? itemHeight : itemWidth,\n            areaLength = $$.isLegendRight || $$.isLegendInset ? $$.getLegendHeight() : $$.getLegendWidth(),\n            margin,\n            maxLength;\n\n        // MEMO: care about condifion of step, totalLength\n        function updateValues(id, withoutStep) {\n            if (!withoutStep) {\n                margin = (areaLength - totalLength - itemLength) / 2;\n                if (margin < posMin) {\n                    margin = (areaLength - itemLength) / 2;\n                    totalLength = 0;\n                    step++;\n                }\n            }\n            steps[id] = step;\n            margins[step] = $$.isLegendInset ? 10 : margin;\n            offsets[id] = totalLength;\n            totalLength += itemLength;\n        }\n\n        if (reset) {\n            totalLength = 0;\n            step = 0;\n            maxWidth = 0;\n            maxHeight = 0;\n        }\n\n        if (config.legend_show && !$$.isLegendToShow(id)) {\n            widths[id] = heights[id] = steps[id] = offsets[id] = 0;\n            return;\n        }\n\n        widths[id] = itemWidth;\n        heights[id] = itemHeight;\n\n        if (!maxWidth || itemWidth >= maxWidth) {\n            maxWidth = itemWidth;\n        }\n        if (!maxHeight || itemHeight >= maxHeight) {\n            maxHeight = itemHeight;\n        }\n        maxLength = $$.isLegendRight || $$.isLegendInset ? maxHeight : maxWidth;\n\n        if (config.legend_equally) {\n            Object.keys(widths).forEach(function (id) {\n                widths[id] = maxWidth;\n            });\n            Object.keys(heights).forEach(function (id) {\n                heights[id] = maxHeight;\n            });\n            margin = (areaLength - maxLength * targetIds.length) / 2;\n            if (margin < posMin) {\n                totalLength = 0;\n                step = 0;\n                targetIds.forEach(function (id) {\n                    updateValues(id);\n                });\n            } else {\n                updateValues(id, true);\n            }\n        } else {\n            updateValues(id);\n        }\n    }\n\n    if ($$.isLegendInset) {\n        step = config.legend_inset_step ? config.legend_inset_step : targetIds.length;\n        $$.updateLegendStep(step);\n    }\n\n    if ($$.isLegendRight) {\n        xForLegend = function xForLegend(id) {\n            return maxWidth * steps[id];\n        };\n        yForLegend = function yForLegend(id) {\n            return margins[steps[id]] + offsets[id];\n        };\n    } else if ($$.isLegendInset) {\n        xForLegend = function xForLegend(id) {\n            return maxWidth * steps[id] + 10;\n        };\n        yForLegend = function yForLegend(id) {\n            return margins[steps[id]] + offsets[id];\n        };\n    } else {\n        xForLegend = function xForLegend(id) {\n            return margins[steps[id]] + offsets[id];\n        };\n        yForLegend = function yForLegend(id) {\n            return maxHeight * steps[id];\n        };\n    }\n    xForLegendText = function xForLegendText(id, i) {\n        return xForLegend(id, i) + 4 + config.legend_item_tile_width;\n    };\n    yForLegendText = function yForLegendText(id, i) {\n        return yForLegend(id, i) + 9;\n    };\n    xForLegendRect = function xForLegendRect(id, i) {\n        return xForLegend(id, i);\n    };\n    yForLegendRect = function yForLegendRect(id, i) {\n        return yForLegend(id, i) - 5;\n    };\n    x1ForLegendTile = function x1ForLegendTile(id, i) {\n        return xForLegend(id, i) - 2;\n    };\n    x2ForLegendTile = function x2ForLegendTile(id, i) {\n        return xForLegend(id, i) - 2 + config.legend_item_tile_width;\n    };\n    yForLegendTile = function yForLegendTile(id, i) {\n        return yForLegend(id, i) + 4;\n    };\n\n    // Define g for legend area\n    l = $$.legend.selectAll('.' + CLASS.legendItem).data(targetIds).enter().append('g').attr('class', function (id) {\n        return $$.generateClass(CLASS.legendItem, id);\n    }).style('visibility', function (id) {\n        return $$.isLegendToShow(id) ? 'visible' : 'hidden';\n    }).style('cursor', 'pointer').on('click', function (id) {\n        if (config.legend_item_onclick) {\n            config.legend_item_onclick.call($$, id);\n        } else {\n            if ($$.d3.event.altKey) {\n                $$.api.hide();\n                $$.api.show(id);\n            } else {\n                $$.api.toggle(id);\n                $$.isTargetToShow(id) ? $$.api.focus(id) : $$.api.revert();\n            }\n        }\n    }).on('mouseover', function (id) {\n        if (config.legend_item_onmouseover) {\n            config.legend_item_onmouseover.call($$, id);\n        } else {\n            $$.d3.select(this).classed(CLASS.legendItemFocused, true);\n            if (!$$.transiting && $$.isTargetToShow(id)) {\n                $$.api.focus(id);\n            }\n        }\n    }).on('mouseout', function (id) {\n        if (config.legend_item_onmouseout) {\n            config.legend_item_onmouseout.call($$, id);\n        } else {\n            $$.d3.select(this).classed(CLASS.legendItemFocused, false);\n            $$.api.revert();\n        }\n    });\n    l.append('text').text(function (id) {\n        return isDefined(config.data_names[id]) ? config.data_names[id] : id;\n    }).each(function (id, i) {\n        updatePositions(this, id, i);\n    }).style(\"pointer-events\", \"none\").attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendText : -200).attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendText);\n    l.append('rect').attr(\"class\", CLASS.legendItemEvent).style('fill-opacity', 0).attr('x', $$.isLegendRight || $$.isLegendInset ? xForLegendRect : -200).attr('y', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendRect);\n    l.append('line').attr('class', CLASS.legendItemTile).style('stroke', $$.color).style(\"pointer-events\", \"none\").attr('x1', $$.isLegendRight || $$.isLegendInset ? x1ForLegendTile : -200).attr('y1', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile).attr('x2', $$.isLegendRight || $$.isLegendInset ? x2ForLegendTile : -200).attr('y2', $$.isLegendRight || $$.isLegendInset ? -200 : yForLegendTile).attr('stroke-width', config.legend_item_tile_height);\n\n    // Set background for inset legend\n    background = $$.legend.select('.' + CLASS.legendBackground + ' rect');\n    if ($$.isLegendInset && maxWidth > 0 && background.size() === 0) {\n        background = $$.legend.insert('g', '.' + CLASS.legendItem).attr(\"class\", CLASS.legendBackground).append('rect');\n    }\n\n    texts = $$.legend.selectAll('text').data(targetIds).text(function (id) {\n        return isDefined(config.data_names[id]) ? config.data_names[id] : id;\n    }) // MEMO: needed for update\n    .each(function (id, i) {\n        updatePositions(this, id, i);\n    });\n    (withTransition ? texts.transition() : texts).attr('x', xForLegendText).attr('y', yForLegendText);\n\n    rects = $$.legend.selectAll('rect.' + CLASS.legendItemEvent).data(targetIds);\n    (withTransition ? rects.transition() : rects).attr('width', function (id) {\n        return widths[id];\n    }).attr('height', function (id) {\n        return heights[id];\n    }).attr('x', xForLegendRect).attr('y', yForLegendRect);\n\n    tiles = $$.legend.selectAll('line.' + CLASS.legendItemTile).data(targetIds);\n    (withTransition ? tiles.transition() : tiles).style('stroke', $$.levelColor ? function (id) {\n        return $$.levelColor($$.cache[id].values[0].value);\n    } : $$.color).attr('x1', x1ForLegendTile).attr('y1', yForLegendTile).attr('x2', x2ForLegendTile).attr('y2', yForLegendTile);\n\n    if (background) {\n        (withTransition ? background.transition() : background).attr('height', $$.getLegendHeight() - 12).attr('width', maxWidth * (step + 1) + 10);\n    }\n\n    // toggle legend state\n    $$.legend.selectAll('.' + CLASS.legendItem).classed(CLASS.legendItemHidden, function (id) {\n        return !$$.isTargetToShow(id);\n    });\n\n    // Update all to reflect change of legend\n    $$.updateLegendItemWidth(maxWidth);\n    $$.updateLegendItemHeight(maxHeight);\n    $$.updateLegendStep(step);\n    // Update size and scale\n    $$.updateSizes();\n    $$.updateScales();\n    $$.updateSvgSize();\n    // Update g positions\n    $$.transformAll(withTransitionForTransform, transitions);\n    $$.legendHasRendered = true;\n};\n\nc3_chart_internal_fn.initRegion = function () {\n    var $$ = this;\n    $$.region = $$.main.append('g').attr(\"clip-path\", $$.clipPath).attr(\"class\", CLASS.regions);\n};\nc3_chart_internal_fn.updateRegion = function (duration) {\n    var $$ = this,\n        config = $$.config;\n\n    // hide if arc type\n    $$.region.style('visibility', $$.hasArcType() ? 'hidden' : 'visible');\n\n    $$.mainRegion = $$.main.select('.' + CLASS.regions).selectAll('.' + CLASS.region).data(config.regions);\n    $$.mainRegion.enter().append('g').append('rect').style(\"fill-opacity\", 0);\n    $$.mainRegion.attr('class', $$.classRegion.bind($$));\n    $$.mainRegion.exit().transition().duration(duration).style(\"opacity\", 0).remove();\n};\nc3_chart_internal_fn.redrawRegion = function (withTransition) {\n    var $$ = this,\n        regions = $$.mainRegion.selectAll('rect').each(function () {\n        // data is binded to g and it's not transferred to rect (child node) automatically,\n        // then data of each rect has to be updated manually.\n        // TODO: there should be more efficient way to solve this?\n        var parentData = $$.d3.select(this.parentNode).datum();\n        $$.d3.select(this).datum(parentData);\n    }),\n        x = $$.regionX.bind($$),\n        y = $$.regionY.bind($$),\n        w = $$.regionWidth.bind($$),\n        h = $$.regionHeight.bind($$);\n    return [(withTransition ? regions.transition() : regions).attr(\"x\", x).attr(\"y\", y).attr(\"width\", w).attr(\"height\", h).style(\"fill-opacity\", function (d) {\n        return isValue(d.opacity) ? d.opacity : 0.1;\n    })];\n};\nc3_chart_internal_fn.regionX = function (d) {\n    var $$ = this,\n        config = $$.config,\n        xPos,\n        yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        xPos = config.axis_rotated ? 'start' in d ? yScale(d.start) : 0 : 0;\n    } else {\n        xPos = config.axis_rotated ? 0 : 'start' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start) : 0;\n    }\n    return xPos;\n};\nc3_chart_internal_fn.regionY = function (d) {\n    var $$ = this,\n        config = $$.config,\n        yPos,\n        yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        yPos = config.axis_rotated ? 0 : 'end' in d ? yScale(d.end) : 0;\n    } else {\n        yPos = config.axis_rotated ? 'start' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.start) : d.start) : 0 : 0;\n    }\n    return yPos;\n};\nc3_chart_internal_fn.regionWidth = function (d) {\n    var $$ = this,\n        config = $$.config,\n        start = $$.regionX(d),\n        end,\n        yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        end = config.axis_rotated ? 'end' in d ? yScale(d.end) : $$.width : $$.width;\n    } else {\n        end = config.axis_rotated ? $$.width : 'end' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end) : $$.width;\n    }\n    return end < start ? 0 : end - start;\n};\nc3_chart_internal_fn.regionHeight = function (d) {\n    var $$ = this,\n        config = $$.config,\n        start = this.regionY(d),\n        end,\n        yScale = d.axis === 'y' ? $$.y : $$.y2;\n    if (d.axis === 'y' || d.axis === 'y2') {\n        end = config.axis_rotated ? $$.height : 'start' in d ? yScale(d.start) : $$.height;\n    } else {\n        end = config.axis_rotated ? 'end' in d ? $$.x($$.isTimeSeries() ? $$.parseDate(d.end) : d.end) : $$.height : $$.height;\n    }\n    return end < start ? 0 : end - start;\n};\nc3_chart_internal_fn.isRegionOnX = function (d) {\n    return !d.axis || d.axis === 'x';\n};\n\nc3_chart_internal_fn.getScale = function (min, max, forTimeseries) {\n    return (forTimeseries ? this.d3.time.scale() : this.d3.scale.linear()).range([min, max]);\n};\nc3_chart_internal_fn.getX = function (min, max, domain, offset) {\n    var $$ = this,\n        scale = $$.getScale(min, max, $$.isTimeSeries()),\n        _scale = domain ? scale.domain(domain) : scale,\n        key;\n    // Define customized scale if categorized axis\n    if ($$.isCategorized()) {\n        offset = offset || function () {\n            return 0;\n        };\n        scale = function scale(d, raw) {\n            var v = _scale(d) + offset(d);\n            return raw ? v : Math.ceil(v);\n        };\n    } else {\n        scale = function scale(d, raw) {\n            var v = _scale(d);\n            return raw ? v : Math.ceil(v);\n        };\n    }\n    // define functions\n    for (key in _scale) {\n        scale[key] = _scale[key];\n    }\n    scale.orgDomain = function () {\n        return _scale.domain();\n    };\n    // define custom domain() for categorized axis\n    if ($$.isCategorized()) {\n        scale.domain = function (domain) {\n            if (!arguments.length) {\n                domain = this.orgDomain();\n                return [domain[0], domain[1] + 1];\n            }\n            _scale.domain(domain);\n            return scale;\n        };\n    }\n    return scale;\n};\nc3_chart_internal_fn.getY = function (min, max, domain) {\n    var scale = this.getScale(min, max, this.isTimeSeriesY());\n    if (domain) {\n        scale.domain(domain);\n    }\n    return scale;\n};\nc3_chart_internal_fn.getYScale = function (id) {\n    return this.axis.getId(id) === 'y2' ? this.y2 : this.y;\n};\nc3_chart_internal_fn.getSubYScale = function (id) {\n    return this.axis.getId(id) === 'y2' ? this.subY2 : this.subY;\n};\nc3_chart_internal_fn.updateScales = function () {\n    var $$ = this,\n        config = $$.config,\n        forInit = !$$.x;\n    // update edges\n    $$.xMin = config.axis_rotated ? 1 : 0;\n    $$.xMax = config.axis_rotated ? $$.height : $$.width;\n    $$.yMin = config.axis_rotated ? 0 : $$.height;\n    $$.yMax = config.axis_rotated ? $$.width : 1;\n    $$.subXMin = $$.xMin;\n    $$.subXMax = $$.xMax;\n    $$.subYMin = config.axis_rotated ? 0 : $$.height2;\n    $$.subYMax = config.axis_rotated ? $$.width2 : 1;\n    // update scales\n    $$.x = $$.getX($$.xMin, $$.xMax, forInit ? undefined : $$.x.orgDomain(), function () {\n        return $$.xAxis.tickOffset();\n    });\n    $$.y = $$.getY($$.yMin, $$.yMax, forInit ? config.axis_y_default : $$.y.domain());\n    $$.y2 = $$.getY($$.yMin, $$.yMax, forInit ? config.axis_y2_default : $$.y2.domain());\n    $$.subX = $$.getX($$.xMin, $$.xMax, $$.orgXDomain, function (d) {\n        return d % 1 ? 0 : $$.subXAxis.tickOffset();\n    });\n    $$.subY = $$.getY($$.subYMin, $$.subYMax, forInit ? config.axis_y_default : $$.subY.domain());\n    $$.subY2 = $$.getY($$.subYMin, $$.subYMax, forInit ? config.axis_y2_default : $$.subY2.domain());\n    // update axes\n    $$.xAxisTickFormat = $$.axis.getXAxisTickFormat();\n    $$.xAxisTickValues = $$.axis.getXAxisTickValues();\n    $$.yAxisTickValues = $$.axis.getYAxisTickValues();\n    $$.y2AxisTickValues = $$.axis.getY2AxisTickValues();\n\n    $$.xAxis = $$.axis.getXAxis($$.x, $$.xOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\n    $$.subXAxis = $$.axis.getXAxis($$.subX, $$.subXOrient, $$.xAxisTickFormat, $$.xAxisTickValues, config.axis_x_tick_outer);\n    $$.yAxis = $$.axis.getYAxis($$.y, $$.yOrient, config.axis_y_tick_format, $$.yAxisTickValues, config.axis_y_tick_outer);\n    $$.y2Axis = $$.axis.getYAxis($$.y2, $$.y2Orient, config.axis_y2_tick_format, $$.y2AxisTickValues, config.axis_y2_tick_outer);\n\n    // Set initialized scales to brush and zoom\n    if (!forInit) {\n        if ($$.brush) {\n            $$.brush.scale($$.subX);\n        }\n        if (config.zoom_enabled) {\n            $$.zoom.scale($$.x);\n        }\n    }\n    // update for arc\n    if ($$.updateArc) {\n        $$.updateArc();\n    }\n};\n\nc3_chart_internal_fn.selectPoint = function (target, d, i) {\n    var $$ = this,\n        config = $$.config,\n        cx = (config.axis_rotated ? $$.circleY : $$.circleX).bind($$),\n        cy = (config.axis_rotated ? $$.circleX : $$.circleY).bind($$),\n        r = $$.pointSelectR.bind($$);\n    config.data_onselected.call($$.api, d, target.node());\n    // add selected-circle on low layer g\n    $$.main.select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id)).selectAll('.' + CLASS.selectedCircle + '-' + i).data([d]).enter().append('circle').attr(\"class\", function () {\n        return $$.generateClass(CLASS.selectedCircle, i);\n    }).attr(\"cx\", cx).attr(\"cy\", cy).attr(\"stroke\", function () {\n        return $$.color(d);\n    }).attr(\"r\", function (d) {\n        return $$.pointSelectR(d) * 1.4;\n    }).transition().duration(100).attr(\"r\", r);\n};\nc3_chart_internal_fn.unselectPoint = function (target, d, i) {\n    var $$ = this;\n    $$.config.data_onunselected.call($$.api, d, target.node());\n    // remove selected-circle from low layer g\n    $$.main.select('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(d.id)).selectAll('.' + CLASS.selectedCircle + '-' + i).transition().duration(100).attr('r', 0).remove();\n};\nc3_chart_internal_fn.togglePoint = function (selected, target, d, i) {\n    selected ? this.selectPoint(target, d, i) : this.unselectPoint(target, d, i);\n};\nc3_chart_internal_fn.selectPath = function (target, d) {\n    var $$ = this;\n    $$.config.data_onselected.call($$, d, target.node());\n    if ($$.config.interaction_brighten) {\n        target.transition().duration(100).style(\"fill\", function () {\n            return $$.d3.rgb($$.color(d)).brighter(0.75);\n        });\n    }\n};\nc3_chart_internal_fn.unselectPath = function (target, d) {\n    var $$ = this;\n    $$.config.data_onunselected.call($$, d, target.node());\n    if ($$.config.interaction_brighten) {\n        target.transition().duration(100).style(\"fill\", function () {\n            return $$.color(d);\n        });\n    }\n};\nc3_chart_internal_fn.togglePath = function (selected, target, d, i) {\n    selected ? this.selectPath(target, d, i) : this.unselectPath(target, d, i);\n};\nc3_chart_internal_fn.getToggle = function (that, d) {\n    var $$ = this,\n        toggle;\n    if (that.nodeName === 'circle') {\n        if ($$.isStepType(d)) {\n            // circle is hidden in step chart, so treat as within the click area\n            toggle = function toggle() {}; // TODO: how to select step chart?\n        } else {\n            toggle = $$.togglePoint;\n        }\n    } else if (that.nodeName === 'path') {\n        toggle = $$.togglePath;\n    }\n    return toggle;\n};\nc3_chart_internal_fn.toggleShape = function (that, d, i) {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config,\n        shape = d3.select(that),\n        isSelected = shape.classed(CLASS.SELECTED),\n        toggle = $$.getToggle(that, d).bind($$);\n\n    if (config.data_selection_enabled && config.data_selection_isselectable(d)) {\n        if (!config.data_selection_multiple) {\n            $$.main.selectAll('.' + CLASS.shapes + (config.data_selection_grouped ? $$.getTargetSelectorSuffix(d.id) : \"\")).selectAll('.' + CLASS.shape).each(function (d, i) {\n                var shape = d3.select(this);\n                if (shape.classed(CLASS.SELECTED)) {\n                    toggle(false, shape.classed(CLASS.SELECTED, false), d, i);\n                }\n            });\n        }\n        shape.classed(CLASS.SELECTED, !isSelected);\n        toggle(!isSelected, shape, d, i);\n    }\n};\n\nc3_chart_internal_fn.initBar = function () {\n    var $$ = this;\n    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartBars);\n};\nc3_chart_internal_fn.updateTargetsForBar = function (targets) {\n    var $$ = this,\n        config = $$.config,\n        mainBarUpdate,\n        mainBarEnter,\n        classChartBar = $$.classChartBar.bind($$),\n        classBars = $$.classBars.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainBarUpdate = $$.main.select('.' + CLASS.chartBars).selectAll('.' + CLASS.chartBar).data(targets).attr('class', function (d) {\n        return classChartBar(d) + classFocus(d);\n    });\n    mainBarEnter = mainBarUpdate.enter().append('g').attr('class', classChartBar).style(\"pointer-events\", \"none\");\n    // Bars for each data\n    mainBarEnter.append('g').attr(\"class\", classBars).style(\"cursor\", function (d) {\n        return config.data_selection_isselectable(d) ? \"pointer\" : null;\n    });\n};\nc3_chart_internal_fn.updateBar = function (durationForExit) {\n    var $$ = this,\n        barData = $$.barData.bind($$),\n        classBar = $$.classBar.bind($$),\n        initialOpacity = $$.initialOpacity.bind($$),\n        color = function color(d) {\n        return $$.color(d.id);\n    };\n    $$.mainBar = $$.main.selectAll('.' + CLASS.bars).selectAll('.' + CLASS.bar).data(barData);\n    $$.mainBar.enter().append('path').attr(\"class\", classBar).style(\"stroke\", color).style(\"fill\", color);\n    $$.mainBar.style(\"opacity\", initialOpacity);\n    $$.mainBar.exit().transition().duration(durationForExit).remove();\n};\nc3_chart_internal_fn.redrawBar = function (drawBar, withTransition) {\n    return [(withTransition ? this.mainBar.transition(Math.random().toString()) : this.mainBar).attr('d', drawBar).style(\"stroke\", this.color).style(\"fill\", this.color).style(\"opacity\", 1)];\n};\nc3_chart_internal_fn.getBarW = function (axis, barTargetsNum) {\n    var $$ = this,\n        config = $$.config,\n        w = typeof config.bar_width === 'number' ? config.bar_width : barTargetsNum ? axis.tickInterval() * config.bar_width_ratio / barTargetsNum : 0;\n    return config.bar_width_max && w > config.bar_width_max ? config.bar_width_max : w;\n};\nc3_chart_internal_fn.getBars = function (i, id) {\n    var $$ = this;\n    return (id ? $$.main.selectAll('.' + CLASS.bars + $$.getTargetSelectorSuffix(id)) : $$.main).selectAll('.' + CLASS.bar + (isValue(i) ? '-' + i : ''));\n};\nc3_chart_internal_fn.expandBars = function (i, id, reset) {\n    var $$ = this;\n    if (reset) {\n        $$.unexpandBars();\n    }\n    $$.getBars(i, id).classed(CLASS.EXPANDED, true);\n};\nc3_chart_internal_fn.unexpandBars = function (i) {\n    var $$ = this;\n    $$.getBars(i).classed(CLASS.EXPANDED, false);\n};\nc3_chart_internal_fn.generateDrawBar = function (barIndices, isSub) {\n    var $$ = this,\n        config = $$.config,\n        getPoints = $$.generateGetBarPoints(barIndices, isSub);\n    return function (d, i) {\n        // 4 points that make a bar\n        var points = getPoints(d, i);\n\n        // switch points if axis is rotated, not applicable for sub chart\n        var indexX = config.axis_rotated ? 1 : 0;\n        var indexY = config.axis_rotated ? 0 : 1;\n\n        var path = 'M ' + points[0][indexX] + ',' + points[0][indexY] + ' ' + 'L' + points[1][indexX] + ',' + points[1][indexY] + ' ' + 'L' + points[2][indexX] + ',' + points[2][indexY] + ' ' + 'L' + points[3][indexX] + ',' + points[3][indexY] + ' ' + 'z';\n\n        return path;\n    };\n};\nc3_chart_internal_fn.generateGetBarPoints = function (barIndices, isSub) {\n    var $$ = this,\n        axis = isSub ? $$.subXAxis : $$.xAxis,\n        barTargetsNum = barIndices.__max__ + 1,\n        barW = $$.getBarW(axis, barTargetsNum),\n        barX = $$.getShapeX(barW, barTargetsNum, barIndices, !!isSub),\n        barY = $$.getShapeY(!!isSub),\n        barOffset = $$.getShapeOffset($$.isBarType, barIndices, !!isSub),\n        barSpaceOffset = barW * ($$.config.bar_space / 2),\n        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n    return function (d, i) {\n        var y0 = yScale.call($$, d.id)(0),\n            offset = barOffset(d, i) || y0,\n            // offset is for stacked bar chart\n        posX = barX(d),\n            posY = barY(d);\n        // fix posY not to overflow opposite quadrant\n        if ($$.config.axis_rotated) {\n            if (0 < d.value && posY < y0 || d.value < 0 && y0 < posY) {\n                posY = y0;\n            }\n        }\n        // 4 points that make a bar\n        return [[posX + barSpaceOffset, offset], [posX + barSpaceOffset, posY - (y0 - offset)], [posX + barW - barSpaceOffset, posY - (y0 - offset)], [posX + barW - barSpaceOffset, offset]];\n    };\n};\nc3_chart_internal_fn.isWithinBar = function (that) {\n    var mouse = this.d3.mouse(that),\n        box = that.getBoundingClientRect(),\n        seg0 = that.pathSegList.getItem(0),\n        seg1 = that.pathSegList.getItem(1),\n        x = Math.min(seg0.x, seg1.x),\n        y = Math.min(seg0.y, seg1.y),\n        w = box.width,\n        h = box.height,\n        offset = 2,\n        sx = x - offset,\n        ex = x + w + offset,\n        sy = y + h + offset,\n        ey = y - offset;\n    return sx < mouse[0] && mouse[0] < ex && ey < mouse[1] && mouse[1] < sy;\n};\n\nc3_chart_internal_fn.getShapeIndices = function (typeFilter) {\n    var $$ = this,\n        config = $$.config,\n        indices = {},\n        i = 0,\n        j,\n        k;\n    $$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$)).forEach(function (d) {\n        for (j = 0; j < config.data_groups.length; j++) {\n            if (config.data_groups[j].indexOf(d.id) < 0) {\n                continue;\n            }\n            for (k = 0; k < config.data_groups[j].length; k++) {\n                if (config.data_groups[j][k] in indices) {\n                    indices[d.id] = indices[config.data_groups[j][k]];\n                    break;\n                }\n            }\n        }\n        if (isUndefined(indices[d.id])) {\n            indices[d.id] = i++;\n        }\n    });\n    indices.__max__ = i - 1;\n    return indices;\n};\nc3_chart_internal_fn.getShapeX = function (offset, targetsNum, indices, isSub) {\n    var $$ = this,\n        scale = isSub ? $$.subX : $$.x;\n    return function (d) {\n        var index = d.id in indices ? indices[d.id] : 0;\n        return d.x || d.x === 0 ? scale(d.x) - offset * (targetsNum / 2 - index) : 0;\n    };\n};\nc3_chart_internal_fn.getShapeY = function (isSub) {\n    var $$ = this;\n    return function (d) {\n        var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id);\n        return scale(d.value);\n    };\n};\nc3_chart_internal_fn.getShapeOffset = function (typeFilter, indices, isSub) {\n    var $$ = this,\n        targets = $$.orderTargets($$.filterTargetsToShow($$.data.targets.filter(typeFilter, $$))),\n        targetIds = targets.map(function (t) {\n        return t.id;\n    });\n    return function (d, i) {\n        var scale = isSub ? $$.getSubYScale(d.id) : $$.getYScale(d.id),\n            y0 = scale(0),\n            offset = y0;\n        targets.forEach(function (t) {\n            var values = $$.isStepType(d) ? $$.convertValuesToStep(t.values) : t.values;\n            if (t.id === d.id || indices[t.id] !== indices[d.id]) {\n                return;\n            }\n            if (targetIds.indexOf(t.id) < targetIds.indexOf(d.id)) {\n                // check if the x values line up\n                if (typeof values[i] === 'undefined' || +values[i].x !== +d.x) {\n                    // \"+\" for timeseries\n                    // if not, try to find the value that does line up\n                    i = -1;\n                    values.forEach(function (v, j) {\n                        if (v.x === d.x) {\n                            i = j;\n                        }\n                    });\n                }\n                if (i in values && values[i].value * d.value >= 0) {\n                    offset += scale(values[i].value) - y0;\n                }\n            }\n        });\n        return offset;\n    };\n};\nc3_chart_internal_fn.isWithinShape = function (that, d) {\n    var $$ = this,\n        shape = $$.d3.select(that),\n        isWithin;\n    if (!$$.isTargetToShow(d.id)) {\n        isWithin = false;\n    } else if (that.nodeName === 'circle') {\n        isWithin = $$.isStepType(d) ? $$.isWithinStep(that, $$.getYScale(d.id)(d.value)) : $$.isWithinCircle(that, $$.pointSelectR(d) * 1.5);\n    } else if (that.nodeName === 'path') {\n        isWithin = shape.classed(CLASS.bar) ? $$.isWithinBar(that) : true;\n    }\n    return isWithin;\n};\n\nc3_chart_internal_fn.getInterpolate = function (d) {\n    var $$ = this,\n        interpolation = $$.isInterpolationType($$.config.spline_interpolation_type) ? $$.config.spline_interpolation_type : 'cardinal';\n    return $$.isSplineType(d) ? interpolation : $$.isStepType(d) ? $$.config.line_step_type : \"linear\";\n};\n\nc3_chart_internal_fn.initLine = function () {\n    var $$ = this;\n    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartLines);\n};\nc3_chart_internal_fn.updateTargetsForLine = function (targets) {\n    var $$ = this,\n        config = $$.config,\n        mainLineUpdate,\n        mainLineEnter,\n        classChartLine = $$.classChartLine.bind($$),\n        classLines = $$.classLines.bind($$),\n        classAreas = $$.classAreas.bind($$),\n        classCircles = $$.classCircles.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainLineUpdate = $$.main.select('.' + CLASS.chartLines).selectAll('.' + CLASS.chartLine).data(targets).attr('class', function (d) {\n        return classChartLine(d) + classFocus(d);\n    });\n    mainLineEnter = mainLineUpdate.enter().append('g').attr('class', classChartLine).style('opacity', 0).style(\"pointer-events\", \"none\");\n    // Lines for each data\n    mainLineEnter.append('g').attr(\"class\", classLines);\n    // Areas\n    mainLineEnter.append('g').attr('class', classAreas);\n    // Circles for each data point on lines\n    mainLineEnter.append('g').attr(\"class\", function (d) {\n        return $$.generateClass(CLASS.selectedCircles, d.id);\n    });\n    mainLineEnter.append('g').attr(\"class\", classCircles).style(\"cursor\", function (d) {\n        return config.data_selection_isselectable(d) ? \"pointer\" : null;\n    });\n    // Update date for selected circles\n    targets.forEach(function (t) {\n        $$.main.selectAll('.' + CLASS.selectedCircles + $$.getTargetSelectorSuffix(t.id)).selectAll('.' + CLASS.selectedCircle).each(function (d) {\n            d.value = t.values[d.index].value;\n        });\n    });\n    // MEMO: can not keep same color...\n    //mainLineUpdate.exit().remove();\n};\nc3_chart_internal_fn.updateLine = function (durationForExit) {\n    var $$ = this;\n    $$.mainLine = $$.main.selectAll('.' + CLASS.lines).selectAll('.' + CLASS.line).data($$.lineData.bind($$));\n    $$.mainLine.enter().append('path').attr('class', $$.classLine.bind($$)).style(\"stroke\", $$.color);\n    $$.mainLine.style(\"opacity\", $$.initialOpacity.bind($$)).style('shape-rendering', function (d) {\n        return $$.isStepType(d) ? 'crispEdges' : '';\n    }).attr('transform', null);\n    $$.mainLine.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n};\nc3_chart_internal_fn.redrawLine = function (drawLine, withTransition) {\n    return [(withTransition ? this.mainLine.transition(Math.random().toString()) : this.mainLine).attr(\"d\", drawLine).style(\"stroke\", this.color).style(\"opacity\", 1)];\n};\nc3_chart_internal_fn.generateDrawLine = function (lineIndices, isSub) {\n    var $$ = this,\n        config = $$.config,\n        line = $$.d3.svg.line(),\n        getPoints = $$.generateGetLinePoints(lineIndices, isSub),\n        yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n        xValue = function xValue(d) {\n        return (isSub ? $$.subxx : $$.xx).call($$, d);\n    },\n        yValue = function yValue(d, i) {\n        return config.data_groups.length > 0 ? getPoints(d, i)[0][1] : yScaleGetter.call($$, d.id)(d.value);\n    };\n\n    line = config.axis_rotated ? line.x(yValue).y(xValue) : line.x(xValue).y(yValue);\n    if (!config.line_connectNull) {\n        line = line.defined(function (d) {\n            return d.value != null;\n        });\n    }\n    return function (d) {\n        var values = config.line_connectNull ? $$.filterRemoveNull(d.values) : d.values,\n            x = isSub ? $$.x : $$.subX,\n            y = yScaleGetter.call($$, d.id),\n            x0 = 0,\n            y0 = 0,\n            path;\n        if ($$.isLineType(d)) {\n            if (config.data_regions[d.id]) {\n                path = $$.lineWithRegions(values, x, y, config.data_regions[d.id]);\n            } else {\n                if ($$.isStepType(d)) {\n                    values = $$.convertValuesToStep(values);\n                }\n                path = line.interpolate($$.getInterpolate(d))(values);\n            }\n        } else {\n            if (values[0]) {\n                x0 = x(values[0].x);\n                y0 = y(values[0].value);\n            }\n            path = config.axis_rotated ? \"M \" + y0 + \" \" + x0 : \"M \" + x0 + \" \" + y0;\n        }\n        return path ? path : \"M 0 0\";\n    };\n};\nc3_chart_internal_fn.generateGetLinePoints = function (lineIndices, isSub) {\n    // partial duplication of generateGetBarPoints\n    var $$ = this,\n        config = $$.config,\n        lineTargetsNum = lineIndices.__max__ + 1,\n        x = $$.getShapeX(0, lineTargetsNum, lineIndices, !!isSub),\n        y = $$.getShapeY(!!isSub),\n        lineOffset = $$.getShapeOffset($$.isLineType, lineIndices, !!isSub),\n        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n    return function (d, i) {\n        var y0 = yScale.call($$, d.id)(0),\n            offset = lineOffset(d, i) || y0,\n            // offset is for stacked area chart\n        posX = x(d),\n            posY = y(d);\n        // fix posY not to overflow opposite quadrant\n        if (config.axis_rotated) {\n            if (0 < d.value && posY < y0 || d.value < 0 && y0 < posY) {\n                posY = y0;\n            }\n        }\n        // 1 point that marks the line position\n        return [[posX, posY - (y0 - offset)], [posX, posY - (y0 - offset)], // needed for compatibility\n        [posX, posY - (y0 - offset)], // needed for compatibility\n        [posX, posY - (y0 - offset)] // needed for compatibility\n        ];\n    };\n};\n\nc3_chart_internal_fn.lineWithRegions = function (d, x, y, _regions) {\n    var $$ = this,\n        config = $$.config,\n        prev = -1,\n        i,\n        j,\n        s = \"M\",\n        sWithRegion,\n        xp,\n        yp,\n        dx,\n        dy,\n        dd,\n        diff,\n        diffx2,\n        xOffset = $$.isCategorized() ? 0.5 : 0,\n        xValue,\n        yValue,\n        regions = [];\n\n    function isWithinRegions(x, regions) {\n        var i;\n        for (i = 0; i < regions.length; i++) {\n            if (regions[i].start < x && x <= regions[i].end) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    // Check start/end of regions\n    if (isDefined(_regions)) {\n        for (i = 0; i < _regions.length; i++) {\n            regions[i] = {};\n            if (isUndefined(_regions[i].start)) {\n                regions[i].start = d[0].x;\n            } else {\n                regions[i].start = $$.isTimeSeries() ? $$.parseDate(_regions[i].start) : _regions[i].start;\n            }\n            if (isUndefined(_regions[i].end)) {\n                regions[i].end = d[d.length - 1].x;\n            } else {\n                regions[i].end = $$.isTimeSeries() ? $$.parseDate(_regions[i].end) : _regions[i].end;\n            }\n        }\n    }\n\n    // Set scales\n    xValue = config.axis_rotated ? function (d) {\n        return y(d.value);\n    } : function (d) {\n        return x(d.x);\n    };\n    yValue = config.axis_rotated ? function (d) {\n        return x(d.x);\n    } : function (d) {\n        return y(d.value);\n    };\n\n    // Define svg generator function for region\n    function generateM(points) {\n        return 'M' + points[0][0] + ' ' + points[0][1] + ' ' + points[1][0] + ' ' + points[1][1];\n    }\n    if ($$.isTimeSeries()) {\n        sWithRegion = function sWithRegion(d0, d1, j, diff) {\n            var x0 = d0.x.getTime(),\n                x_diff = d1.x - d0.x,\n                xv0 = new Date(x0 + x_diff * j),\n                xv1 = new Date(x0 + x_diff * (j + diff)),\n                points;\n            if (config.axis_rotated) {\n                points = [[y(yp(j)), x(xv0)], [y(yp(j + diff)), x(xv1)]];\n            } else {\n                points = [[x(xv0), y(yp(j))], [x(xv1), y(yp(j + diff))]];\n            }\n            return generateM(points);\n        };\n    } else {\n        sWithRegion = function sWithRegion(d0, d1, j, diff) {\n            var points;\n            if (config.axis_rotated) {\n                points = [[y(yp(j), true), x(xp(j))], [y(yp(j + diff), true), x(xp(j + diff))]];\n            } else {\n                points = [[x(xp(j), true), y(yp(j))], [x(xp(j + diff), true), y(yp(j + diff))]];\n            }\n            return generateM(points);\n        };\n    }\n\n    // Generate\n    for (i = 0; i < d.length; i++) {\n\n        // Draw as normal\n        if (isUndefined(regions) || !isWithinRegions(d[i].x, regions)) {\n            s += \" \" + xValue(d[i]) + \" \" + yValue(d[i]);\n        }\n        // Draw with region // TODO: Fix for horizotal charts\n        else {\n                xp = $$.getScale(d[i - 1].x + xOffset, d[i].x + xOffset, $$.isTimeSeries());\n                yp = $$.getScale(d[i - 1].value, d[i].value);\n\n                dx = x(d[i].x) - x(d[i - 1].x);\n                dy = y(d[i].value) - y(d[i - 1].value);\n                dd = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n                diff = 2 / dd;\n                diffx2 = diff * 2;\n\n                for (j = diff; j <= 1; j += diffx2) {\n                    s += sWithRegion(d[i - 1], d[i], j, diff);\n                }\n            }\n        prev = d[i].x;\n    }\n\n    return s;\n};\n\nc3_chart_internal_fn.updateArea = function (durationForExit) {\n    var $$ = this,\n        d3 = $$.d3;\n    $$.mainArea = $$.main.selectAll('.' + CLASS.areas).selectAll('.' + CLASS.area).data($$.lineData.bind($$));\n    $$.mainArea.enter().append('path').attr(\"class\", $$.classArea.bind($$)).style(\"fill\", $$.color).style(\"opacity\", function () {\n        $$.orgAreaOpacity = +d3.select(this).style('opacity');return 0;\n    });\n    $$.mainArea.style(\"opacity\", $$.orgAreaOpacity);\n    $$.mainArea.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n};\nc3_chart_internal_fn.redrawArea = function (drawArea, withTransition) {\n    return [(withTransition ? this.mainArea.transition(Math.random().toString()) : this.mainArea).attr(\"d\", drawArea).style(\"fill\", this.color).style(\"opacity\", this.orgAreaOpacity)];\n};\nc3_chart_internal_fn.generateDrawArea = function (areaIndices, isSub) {\n    var $$ = this,\n        config = $$.config,\n        area = $$.d3.svg.area(),\n        getPoints = $$.generateGetAreaPoints(areaIndices, isSub),\n        yScaleGetter = isSub ? $$.getSubYScale : $$.getYScale,\n        xValue = function xValue(d) {\n        return (isSub ? $$.subxx : $$.xx).call($$, d);\n    },\n        value0 = function value0(d, i) {\n        return config.data_groups.length > 0 ? getPoints(d, i)[0][1] : yScaleGetter.call($$, d.id)($$.getAreaBaseValue(d.id));\n    },\n        value1 = function value1(d, i) {\n        return config.data_groups.length > 0 ? getPoints(d, i)[1][1] : yScaleGetter.call($$, d.id)(d.value);\n    };\n\n    area = config.axis_rotated ? area.x0(value0).x1(value1).y(xValue) : area.x(xValue).y0(config.area_above ? 0 : value0).y1(value1);\n    if (!config.line_connectNull) {\n        area = area.defined(function (d) {\n            return d.value !== null;\n        });\n    }\n\n    return function (d) {\n        var values = config.line_connectNull ? $$.filterRemoveNull(d.values) : d.values,\n            x0 = 0,\n            y0 = 0,\n            path;\n        if ($$.isAreaType(d)) {\n            if ($$.isStepType(d)) {\n                values = $$.convertValuesToStep(values);\n            }\n            path = area.interpolate($$.getInterpolate(d))(values);\n        } else {\n            if (values[0]) {\n                x0 = $$.x(values[0].x);\n                y0 = $$.getYScale(d.id)(values[0].value);\n            }\n            path = config.axis_rotated ? \"M \" + y0 + \" \" + x0 : \"M \" + x0 + \" \" + y0;\n        }\n        return path ? path : \"M 0 0\";\n    };\n};\nc3_chart_internal_fn.getAreaBaseValue = function () {\n    return 0;\n};\nc3_chart_internal_fn.generateGetAreaPoints = function (areaIndices, isSub) {\n    // partial duplication of generateGetBarPoints\n    var $$ = this,\n        config = $$.config,\n        areaTargetsNum = areaIndices.__max__ + 1,\n        x = $$.getShapeX(0, areaTargetsNum, areaIndices, !!isSub),\n        y = $$.getShapeY(!!isSub),\n        areaOffset = $$.getShapeOffset($$.isAreaType, areaIndices, !!isSub),\n        yScale = isSub ? $$.getSubYScale : $$.getYScale;\n    return function (d, i) {\n        var y0 = yScale.call($$, d.id)(0),\n            offset = areaOffset(d, i) || y0,\n            // offset is for stacked area chart\n        posX = x(d),\n            posY = y(d);\n        // fix posY not to overflow opposite quadrant\n        if (config.axis_rotated) {\n            if (0 < d.value && posY < y0 || d.value < 0 && y0 < posY) {\n                posY = y0;\n            }\n        }\n        // 1 point that marks the area position\n        return [[posX, offset], [posX, posY - (y0 - offset)], [posX, posY - (y0 - offset)], // needed for compatibility\n        [posX, offset] // needed for compatibility\n        ];\n    };\n};\n\nc3_chart_internal_fn.updateCircle = function () {\n    var $$ = this;\n    $$.mainCircle = $$.main.selectAll('.' + CLASS.circles).selectAll('.' + CLASS.circle).data($$.lineOrScatterData.bind($$));\n    $$.mainCircle.enter().append(\"circle\").attr(\"class\", $$.classCircle.bind($$)).attr(\"r\", $$.pointR.bind($$)).style(\"fill\", $$.color);\n    $$.mainCircle.style(\"opacity\", $$.initialOpacityForCircle.bind($$));\n    $$.mainCircle.exit().remove();\n};\nc3_chart_internal_fn.redrawCircle = function (cx, cy, withTransition) {\n    var selectedCircles = this.main.selectAll('.' + CLASS.selectedCircle);\n    return [(withTransition ? this.mainCircle.transition(Math.random().toString()) : this.mainCircle).style('opacity', this.opacityForCircle.bind(this)).style(\"fill\", this.color).attr(\"cx\", cx).attr(\"cy\", cy), (withTransition ? selectedCircles.transition(Math.random().toString()) : selectedCircles).attr(\"cx\", cx).attr(\"cy\", cy)];\n};\nc3_chart_internal_fn.circleX = function (d) {\n    return d.x || d.x === 0 ? this.x(d.x) : null;\n};\nc3_chart_internal_fn.updateCircleY = function () {\n    var $$ = this,\n        lineIndices,\n        getPoints;\n    if ($$.config.data_groups.length > 0) {\n        lineIndices = $$.getShapeIndices($$.isLineType), getPoints = $$.generateGetLinePoints(lineIndices);\n        $$.circleY = function (d, i) {\n            return getPoints(d, i)[0][1];\n        };\n    } else {\n        $$.circleY = function (d) {\n            return $$.getYScale(d.id)(d.value);\n        };\n    }\n};\nc3_chart_internal_fn.getCircles = function (i, id) {\n    var $$ = this;\n    return (id ? $$.main.selectAll('.' + CLASS.circles + $$.getTargetSelectorSuffix(id)) : $$.main).selectAll('.' + CLASS.circle + (isValue(i) ? '-' + i : ''));\n};\nc3_chart_internal_fn.expandCircles = function (i, id, reset) {\n    var $$ = this,\n        r = $$.pointExpandedR.bind($$);\n    if (reset) {\n        $$.unexpandCircles();\n    }\n    $$.getCircles(i, id).classed(CLASS.EXPANDED, true).attr('r', r);\n};\nc3_chart_internal_fn.unexpandCircles = function (i) {\n    var $$ = this,\n        r = $$.pointR.bind($$);\n    $$.getCircles(i).filter(function () {\n        return $$.d3.select(this).classed(CLASS.EXPANDED);\n    }).classed(CLASS.EXPANDED, false).attr('r', r);\n};\nc3_chart_internal_fn.pointR = function (d) {\n    var $$ = this,\n        config = $$.config;\n    return $$.isStepType(d) ? 0 : isFunction(config.point_r) ? config.point_r(d) : config.point_r;\n};\nc3_chart_internal_fn.pointExpandedR = function (d) {\n    var $$ = this,\n        config = $$.config;\n    if (config.point_focus_expand_enabled) {\n        return isFunction(config.point_focus_expand_r) ? config.point_focus_expand_r(d) : config.point_focus_expand_r ? config.point_focus_expand_r : $$.pointR(d) * 1.75;\n    } else {\n        return $$.pointR(d);\n    }\n};\nc3_chart_internal_fn.pointSelectR = function (d) {\n    var $$ = this,\n        config = $$.config;\n    return isFunction(config.point_select_r) ? config.point_select_r(d) : config.point_select_r ? config.point_select_r : $$.pointR(d) * 4;\n};\nc3_chart_internal_fn.isWithinCircle = function (that, r) {\n    var d3 = this.d3,\n        mouse = d3.mouse(that),\n        d3_this = d3.select(that),\n        cx = +d3_this.attr(\"cx\"),\n        cy = +d3_this.attr(\"cy\");\n    return Math.sqrt(Math.pow(cx - mouse[0], 2) + Math.pow(cy - mouse[1], 2)) < r;\n};\nc3_chart_internal_fn.isWithinStep = function (that, y) {\n    return Math.abs(y - this.d3.mouse(that)[1]) < 30;\n};\n\nc3_chart_internal_fn.getCurrentWidth = function () {\n    var $$ = this,\n        config = $$.config;\n    return config.size_width ? config.size_width : $$.getParentWidth();\n};\nc3_chart_internal_fn.getCurrentHeight = function () {\n    var $$ = this,\n        config = $$.config,\n        h = config.size_height ? config.size_height : $$.getParentHeight();\n    return h > 0 ? h : 320 / ($$.hasType('gauge') && !config.gauge_fullCircle ? 2 : 1);\n};\nc3_chart_internal_fn.getCurrentPaddingTop = function () {\n    var $$ = this,\n        config = $$.config,\n        padding = isValue(config.padding_top) ? config.padding_top : 0;\n    if ($$.title && $$.title.node()) {\n        padding += $$.getTitlePadding();\n    }\n    return padding;\n};\nc3_chart_internal_fn.getCurrentPaddingBottom = function () {\n    var config = this.config;\n    return isValue(config.padding_bottom) ? config.padding_bottom : 0;\n};\nc3_chart_internal_fn.getCurrentPaddingLeft = function (withoutRecompute) {\n    var $$ = this,\n        config = $$.config;\n    if (isValue(config.padding_left)) {\n        return config.padding_left;\n    } else if (config.axis_rotated) {\n        return !config.axis_x_show ? 1 : Math.max(ceil10($$.getAxisWidthByAxisId('x', withoutRecompute)), 40);\n    } else if (!config.axis_y_show || config.axis_y_inner) {\n        // && !config.axis_rotated\n        return $$.axis.getYAxisLabelPosition().isOuter ? 30 : 1;\n    } else {\n        return ceil10($$.getAxisWidthByAxisId('y', withoutRecompute));\n    }\n};\nc3_chart_internal_fn.getCurrentPaddingRight = function () {\n    var $$ = this,\n        config = $$.config,\n        defaultPadding = 10,\n        legendWidthOnRight = $$.isLegendRight ? $$.getLegendWidth() + 20 : 0;\n    if (isValue(config.padding_right)) {\n        return config.padding_right + 1; // 1 is needed not to hide tick line\n    } else if (config.axis_rotated) {\n        return defaultPadding + legendWidthOnRight;\n    } else if (!config.axis_y2_show || config.axis_y2_inner) {\n        // && !config.axis_rotated\n        return 2 + legendWidthOnRight + ($$.axis.getY2AxisLabelPosition().isOuter ? 20 : 0);\n    } else {\n        return ceil10($$.getAxisWidthByAxisId('y2')) + legendWidthOnRight;\n    }\n};\n\nc3_chart_internal_fn.getParentRectValue = function (key) {\n    var parent = this.selectChart.node(),\n        v;\n    while (parent && parent.tagName !== 'BODY') {\n        try {\n            v = parent.getBoundingClientRect()[key];\n        } catch (e) {\n            if (key === 'width') {\n                // In IE in certain cases getBoundingClientRect\n                // will cause an \"unspecified error\"\n                v = parent.offsetWidth;\n            }\n        }\n        if (v) {\n            break;\n        }\n        parent = parent.parentNode;\n    }\n    return v;\n};\nc3_chart_internal_fn.getParentWidth = function () {\n    return this.getParentRectValue('width');\n};\nc3_chart_internal_fn.getParentHeight = function () {\n    var h = this.selectChart.style('height');\n    return h.indexOf('px') > 0 ? +h.replace('px', '') : 0;\n};\n\nc3_chart_internal_fn.getSvgLeft = function (withoutRecompute) {\n    var $$ = this,\n        config = $$.config,\n        hasLeftAxisRect = config.axis_rotated || !config.axis_rotated && !config.axis_y_inner,\n        leftAxisClass = config.axis_rotated ? CLASS.axisX : CLASS.axisY,\n        leftAxis = $$.main.select('.' + leftAxisClass).node(),\n        svgRect = leftAxis && hasLeftAxisRect ? leftAxis.getBoundingClientRect() : { right: 0 },\n        chartRect = $$.selectChart.node().getBoundingClientRect(),\n        hasArc = $$.hasArcType(),\n        svgLeft = svgRect.right - chartRect.left - (hasArc ? 0 : $$.getCurrentPaddingLeft(withoutRecompute));\n    return svgLeft > 0 ? svgLeft : 0;\n};\n\nc3_chart_internal_fn.getAxisWidthByAxisId = function (id, withoutRecompute) {\n    var $$ = this,\n        position = $$.axis.getLabelPositionById(id);\n    return $$.axis.getMaxTickWidth(id, withoutRecompute) + (position.isInner ? 20 : 40);\n};\nc3_chart_internal_fn.getHorizontalAxisHeight = function (axisId) {\n    var $$ = this,\n        config = $$.config,\n        h = 30;\n    if (axisId === 'x' && !config.axis_x_show) {\n        return 8;\n    }\n    if (axisId === 'x' && config.axis_x_height) {\n        return config.axis_x_height;\n    }\n    if (axisId === 'y' && !config.axis_y_show) {\n        return config.legend_show && !$$.isLegendRight && !$$.isLegendInset ? 10 : 1;\n    }\n    if (axisId === 'y2' && !config.axis_y2_show) {\n        return $$.rotated_padding_top;\n    }\n    // Calculate x axis height when tick rotated\n    if (axisId === 'x' && !config.axis_rotated && config.axis_x_tick_rotate) {\n        h = 30 + $$.axis.getMaxTickWidth(axisId) * Math.cos(Math.PI * (90 - config.axis_x_tick_rotate) / 180);\n    }\n    // Calculate y axis height when tick rotated\n    if (axisId === 'y' && config.axis_rotated && config.axis_y_tick_rotate) {\n        h = 30 + $$.axis.getMaxTickWidth(axisId) * Math.cos(Math.PI * (90 - config.axis_y_tick_rotate) / 180);\n    }\n    return h + ($$.axis.getLabelPositionById(axisId).isInner ? 0 : 10) + (axisId === 'y2' ? -10 : 0);\n};\n\nc3_chart_internal_fn.getEventRectWidth = function () {\n    return Math.max(0, this.xAxis.tickInterval());\n};\n\nc3_chart_internal_fn.initBrush = function () {\n    var $$ = this,\n        d3 = $$.d3;\n    $$.brush = d3.svg.brush().on(\"brush\", function () {\n        $$.redrawForBrush();\n    });\n    $$.brush.update = function () {\n        if ($$.context) {\n            $$.context.select('.' + CLASS.brush).call(this);\n        }\n        return this;\n    };\n    $$.brush.scale = function (scale) {\n        return $$.config.axis_rotated ? this.y(scale) : this.x(scale);\n    };\n};\nc3_chart_internal_fn.initSubchart = function () {\n    var $$ = this,\n        config = $$.config,\n        context = $$.context = $$.svg.append(\"g\").attr(\"transform\", $$.getTranslate('context')),\n        visibility = config.subchart_show ? 'visible' : 'hidden';\n\n    context.style('visibility', visibility);\n\n    // Define g for chart area\n    context.append('g').attr(\"clip-path\", $$.clipPathForSubchart).attr('class', CLASS.chart);\n\n    // Define g for bar chart area\n    context.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartBars);\n\n    // Define g for line chart area\n    context.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartLines);\n\n    // Add extent rect for Brush\n    context.append(\"g\").attr(\"clip-path\", $$.clipPath).attr(\"class\", CLASS.brush).call($$.brush);\n\n    // ATTENTION: This must be called AFTER chart added\n    // Add Axis\n    $$.axes.subx = context.append(\"g\").attr(\"class\", CLASS.axisX).attr(\"transform\", $$.getTranslate('subx')).attr(\"clip-path\", config.axis_rotated ? \"\" : $$.clipPathForXAxis).style(\"visibility\", config.subchart_axis_x_show ? visibility : 'hidden');\n};\nc3_chart_internal_fn.updateTargetsForSubchart = function (targets) {\n    var $$ = this,\n        context = $$.context,\n        config = $$.config,\n        contextLineEnter,\n        contextLineUpdate,\n        contextBarEnter,\n        contextBarUpdate,\n        classChartBar = $$.classChartBar.bind($$),\n        classBars = $$.classBars.bind($$),\n        classChartLine = $$.classChartLine.bind($$),\n        classLines = $$.classLines.bind($$),\n        classAreas = $$.classAreas.bind($$);\n\n    if (config.subchart_show) {\n        //-- Bar --//\n        contextBarUpdate = context.select('.' + CLASS.chartBars).selectAll('.' + CLASS.chartBar).data(targets).attr('class', classChartBar);\n        contextBarEnter = contextBarUpdate.enter().append('g').style('opacity', 0).attr('class', classChartBar);\n        // Bars for each data\n        contextBarEnter.append('g').attr(\"class\", classBars);\n\n        //-- Line --//\n        contextLineUpdate = context.select('.' + CLASS.chartLines).selectAll('.' + CLASS.chartLine).data(targets).attr('class', classChartLine);\n        contextLineEnter = contextLineUpdate.enter().append('g').style('opacity', 0).attr('class', classChartLine);\n        // Lines for each data\n        contextLineEnter.append(\"g\").attr(\"class\", classLines);\n        // Area\n        contextLineEnter.append(\"g\").attr(\"class\", classAreas);\n\n        //-- Brush --//\n        context.selectAll('.' + CLASS.brush + ' rect').attr(config.axis_rotated ? \"width\" : \"height\", config.axis_rotated ? $$.width2 : $$.height2);\n    }\n};\nc3_chart_internal_fn.updateBarForSubchart = function (durationForExit) {\n    var $$ = this;\n    $$.contextBar = $$.context.selectAll('.' + CLASS.bars).selectAll('.' + CLASS.bar).data($$.barData.bind($$));\n    $$.contextBar.enter().append('path').attr(\"class\", $$.classBar.bind($$)).style(\"stroke\", 'none').style(\"fill\", $$.color);\n    $$.contextBar.style(\"opacity\", $$.initialOpacity.bind($$));\n    $$.contextBar.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n};\nc3_chart_internal_fn.redrawBarForSubchart = function (drawBarOnSub, withTransition, duration) {\n    (withTransition ? this.contextBar.transition(Math.random().toString()).duration(duration) : this.contextBar).attr('d', drawBarOnSub).style('opacity', 1);\n};\nc3_chart_internal_fn.updateLineForSubchart = function (durationForExit) {\n    var $$ = this;\n    $$.contextLine = $$.context.selectAll('.' + CLASS.lines).selectAll('.' + CLASS.line).data($$.lineData.bind($$));\n    $$.contextLine.enter().append('path').attr('class', $$.classLine.bind($$)).style('stroke', $$.color);\n    $$.contextLine.style(\"opacity\", $$.initialOpacity.bind($$));\n    $$.contextLine.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n};\nc3_chart_internal_fn.redrawLineForSubchart = function (drawLineOnSub, withTransition, duration) {\n    (withTransition ? this.contextLine.transition(Math.random().toString()).duration(duration) : this.contextLine).attr(\"d\", drawLineOnSub).style('opacity', 1);\n};\nc3_chart_internal_fn.updateAreaForSubchart = function (durationForExit) {\n    var $$ = this,\n        d3 = $$.d3;\n    $$.contextArea = $$.context.selectAll('.' + CLASS.areas).selectAll('.' + CLASS.area).data($$.lineData.bind($$));\n    $$.contextArea.enter().append('path').attr(\"class\", $$.classArea.bind($$)).style(\"fill\", $$.color).style(\"opacity\", function () {\n        $$.orgAreaOpacity = +d3.select(this).style('opacity');return 0;\n    });\n    $$.contextArea.style(\"opacity\", 0);\n    $$.contextArea.exit().transition().duration(durationForExit).style('opacity', 0).remove();\n};\nc3_chart_internal_fn.redrawAreaForSubchart = function (drawAreaOnSub, withTransition, duration) {\n    (withTransition ? this.contextArea.transition(Math.random().toString()).duration(duration) : this.contextArea).attr(\"d\", drawAreaOnSub).style(\"fill\", this.color).style(\"opacity\", this.orgAreaOpacity);\n};\nc3_chart_internal_fn.redrawSubchart = function (withSubchart, transitions, duration, durationForExit, areaIndices, barIndices, lineIndices) {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config,\n        drawAreaOnSub,\n        drawBarOnSub,\n        drawLineOnSub;\n\n    $$.context.style('visibility', config.subchart_show ? 'visible' : 'hidden');\n\n    // subchart\n    if (config.subchart_show) {\n        // reflect main chart to extent on subchart if zoomed\n        if (d3.event && d3.event.type === 'zoom') {\n            $$.brush.extent($$.x.orgDomain()).update();\n        }\n        // update subchart elements if needed\n        if (withSubchart) {\n\n            // extent rect\n            if (!$$.brush.empty()) {\n                $$.brush.extent($$.x.orgDomain()).update();\n            }\n            // setup drawer - MEMO: this must be called after axis updated\n            drawAreaOnSub = $$.generateDrawArea(areaIndices, true);\n            drawBarOnSub = $$.generateDrawBar(barIndices, true);\n            drawLineOnSub = $$.generateDrawLine(lineIndices, true);\n\n            $$.updateBarForSubchart(duration);\n            $$.updateLineForSubchart(duration);\n            $$.updateAreaForSubchart(duration);\n\n            $$.redrawBarForSubchart(drawBarOnSub, duration, duration);\n            $$.redrawLineForSubchart(drawLineOnSub, duration, duration);\n            $$.redrawAreaForSubchart(drawAreaOnSub, duration, duration);\n        }\n    }\n};\nc3_chart_internal_fn.redrawForBrush = function () {\n    var $$ = this,\n        x = $$.x;\n    $$.redraw({\n        withTransition: false,\n        withY: $$.config.zoom_rescale,\n        withSubchart: false,\n        withUpdateXDomain: true,\n        withDimension: false\n    });\n    $$.config.subchart_onbrush.call($$.api, x.orgDomain());\n};\nc3_chart_internal_fn.transformContext = function (withTransition, transitions) {\n    var $$ = this,\n        subXAxis;\n    if (transitions && transitions.axisSubX) {\n        subXAxis = transitions.axisSubX;\n    } else {\n        subXAxis = $$.context.select('.' + CLASS.axisX);\n        if (withTransition) {\n            subXAxis = subXAxis.transition();\n        }\n    }\n    $$.context.attr(\"transform\", $$.getTranslate('context'));\n    subXAxis.attr(\"transform\", $$.getTranslate('subx'));\n};\nc3_chart_internal_fn.getDefaultExtent = function () {\n    var $$ = this,\n        config = $$.config,\n        extent = isFunction(config.axis_x_extent) ? config.axis_x_extent($$.getXDomain($$.data.targets)) : config.axis_x_extent;\n    if ($$.isTimeSeries()) {\n        extent = [$$.parseDate(extent[0]), $$.parseDate(extent[1])];\n    }\n    return extent;\n};\n\nc3_chart_internal_fn.initText = function () {\n    var $$ = this;\n    $$.main.select('.' + CLASS.chart).append(\"g\").attr(\"class\", CLASS.chartTexts);\n    $$.mainText = $$.d3.selectAll([]);\n};\nc3_chart_internal_fn.updateTargetsForText = function (targets) {\n    var $$ = this,\n        mainTextUpdate,\n        mainTextEnter,\n        classChartText = $$.classChartText.bind($$),\n        classTexts = $$.classTexts.bind($$),\n        classFocus = $$.classFocus.bind($$);\n    mainTextUpdate = $$.main.select('.' + CLASS.chartTexts).selectAll('.' + CLASS.chartText).data(targets).attr('class', function (d) {\n        return classChartText(d) + classFocus(d);\n    });\n    mainTextEnter = mainTextUpdate.enter().append('g').attr('class', classChartText).style('opacity', 0).style(\"pointer-events\", \"none\");\n    mainTextEnter.append('g').attr('class', classTexts);\n};\nc3_chart_internal_fn.updateText = function (durationForExit) {\n    var $$ = this,\n        config = $$.config,\n        barOrLineData = $$.barOrLineData.bind($$),\n        classText = $$.classText.bind($$);\n    $$.mainText = $$.main.selectAll('.' + CLASS.texts).selectAll('.' + CLASS.text).data(barOrLineData);\n    $$.mainText.enter().append('text').attr(\"class\", classText).attr('text-anchor', function (d) {\n        return config.axis_rotated ? d.value < 0 ? 'end' : 'start' : 'middle';\n    }).style(\"stroke\", 'none').style(\"fill\", function (d) {\n        return $$.color(d);\n    }).style(\"fill-opacity\", 0);\n    $$.mainText.text(function (d, i, j) {\n        return $$.dataLabelFormat(d.id)(d.value, d.id, i, j);\n    });\n    $$.mainText.exit().transition().duration(durationForExit).style('fill-opacity', 0).remove();\n};\nc3_chart_internal_fn.redrawText = function (xForText, yForText, forFlow, withTransition) {\n    return [(withTransition ? this.mainText.transition() : this.mainText).attr('x', xForText).attr('y', yForText).style(\"fill\", this.color).style(\"fill-opacity\", forFlow ? 0 : this.opacityForText.bind(this))];\n};\nc3_chart_internal_fn.getTextRect = function (text, cls, element) {\n    var dummy = this.d3.select('body').append('div').classed('c3', true),\n        svg = dummy.append(\"svg\").style('visibility', 'hidden').style('position', 'fixed').style('top', 0).style('left', 0),\n        font = this.d3.select(element).style('font'),\n        rect;\n    svg.selectAll('.dummy').data([text]).enter().append('text').classed(cls ? cls : \"\", true).style('font', font).text(text).each(function () {\n        rect = this.getBoundingClientRect();\n    });\n    dummy.remove();\n    return rect;\n};\nc3_chart_internal_fn.generateXYForText = function (areaIndices, barIndices, lineIndices, forX) {\n    var $$ = this,\n        getAreaPoints = $$.generateGetAreaPoints(areaIndices, false),\n        getBarPoints = $$.generateGetBarPoints(barIndices, false),\n        getLinePoints = $$.generateGetLinePoints(lineIndices, false),\n        getter = forX ? $$.getXForText : $$.getYForText;\n    return function (d, i) {\n        var getPoints = $$.isAreaType(d) ? getAreaPoints : $$.isBarType(d) ? getBarPoints : getLinePoints;\n        return getter.call($$, getPoints(d, i), d, this);\n    };\n};\nc3_chart_internal_fn.getXForText = function (points, d, textElement) {\n    var $$ = this,\n        box = textElement.getBoundingClientRect(),\n        xPos,\n        padding;\n    if ($$.config.axis_rotated) {\n        padding = $$.isBarType(d) ? 4 : 6;\n        xPos = points[2][1] + padding * (d.value < 0 ? -1 : 1);\n    } else {\n        xPos = $$.hasType('bar') ? (points[2][0] + points[0][0]) / 2 : points[0][0];\n    }\n    // show labels regardless of the domain if value is null\n    if (d.value === null) {\n        if (xPos > $$.width) {\n            xPos = $$.width - box.width;\n        } else if (xPos < 0) {\n            xPos = 4;\n        }\n    }\n    return xPos;\n};\nc3_chart_internal_fn.getYForText = function (points, d, textElement) {\n    var $$ = this,\n        box = textElement.getBoundingClientRect(),\n        yPos;\n    if ($$.config.axis_rotated) {\n        yPos = (points[0][0] + points[2][0] + box.height * 0.6) / 2;\n    } else {\n        yPos = points[2][1];\n        if (d.value < 0 || d.value === 0 && !$$.hasPositiveValue) {\n            yPos += box.height;\n            if ($$.isBarType(d) && $$.isSafari()) {\n                yPos -= 3;\n            } else if (!$$.isBarType(d) && $$.isChrome()) {\n                yPos += 3;\n            }\n        } else {\n            yPos += $$.isBarType(d) ? -3 : -6;\n        }\n    }\n    // show labels regardless of the domain if value is null\n    if (d.value === null && !$$.config.axis_rotated) {\n        if (yPos < box.height) {\n            yPos = box.height;\n        } else if (yPos > this.height) {\n            yPos = this.height - 4;\n        }\n    }\n    return yPos;\n};\n\nc3_chart_internal_fn.initTitle = function () {\n    var $$ = this;\n    $$.title = $$.svg.append(\"text\").text($$.config.title_text).attr(\"class\", $$.CLASS.title);\n};\nc3_chart_internal_fn.redrawTitle = function () {\n    var $$ = this;\n    $$.title.attr(\"x\", $$.xForTitle.bind($$)).attr(\"y\", $$.yForTitle.bind($$));\n};\nc3_chart_internal_fn.xForTitle = function () {\n    var $$ = this,\n        config = $$.config,\n        position = config.title_position || 'left',\n        x;\n    if (position.indexOf('right') >= 0) {\n        x = $$.currentWidth - $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width - config.title_padding.right;\n    } else if (position.indexOf('center') >= 0) {\n        x = ($$.currentWidth - $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).width) / 2;\n    } else {\n        // left\n        x = config.title_padding.left;\n    }\n    return x;\n};\nc3_chart_internal_fn.yForTitle = function () {\n    var $$ = this;\n    return $$.config.title_padding.top + $$.getTextRect($$.title.node().textContent, $$.CLASS.title, $$.title.node()).height;\n};\nc3_chart_internal_fn.getTitlePadding = function () {\n    var $$ = this;\n    return $$.yForTitle() + $$.config.title_padding.bottom;\n};\n\nc3_chart_internal_fn.initTooltip = function () {\n    var $$ = this,\n        config = $$.config,\n        i;\n    $$.tooltip = $$.selectChart.style(\"position\", \"relative\").append(\"div\").attr('class', CLASS.tooltipContainer).style(\"position\", \"absolute\").style(\"pointer-events\", \"none\").style(\"display\", \"none\");\n    // Show tooltip if needed\n    if (config.tooltip_init_show) {\n        if ($$.isTimeSeries() && isString(config.tooltip_init_x)) {\n            config.tooltip_init_x = $$.parseDate(config.tooltip_init_x);\n            for (i = 0; i < $$.data.targets[0].values.length; i++) {\n                if ($$.data.targets[0].values[i].x - config.tooltip_init_x === 0) {\n                    break;\n                }\n            }\n            config.tooltip_init_x = i;\n        }\n        $$.tooltip.html(config.tooltip_contents.call($$, $$.data.targets.map(function (d) {\n            return $$.addName(d.values[config.tooltip_init_x]);\n        }), $$.axis.getXAxisTickFormat(), $$.getYFormat($$.hasArcType()), $$.color));\n        $$.tooltip.style(\"top\", config.tooltip_init_position.top).style(\"left\", config.tooltip_init_position.left).style(\"display\", \"block\");\n    }\n};\nc3_chart_internal_fn.getTooltipSortFunction = function () {\n    var $$ = this,\n        config = $$.config;\n\n    if (config.data_groups.length === 0 || config.tooltip_order !== undefined) {\n        // if data are not grouped or if an order is specified\n        // for the tooltip values we sort them by their values\n\n        var order = config.tooltip_order;\n        if (order === undefined) {\n            order = config.data_order;\n        }\n\n        var valueOf = function valueOf(obj) {\n            return obj ? obj.value : null;\n        };\n\n        // if data are not grouped, we sort them by their value\n        if (isString(order) && order.toLowerCase() === 'asc') {\n            return function (a, b) {\n                return valueOf(a) - valueOf(b);\n            };\n        } else if (isString(order) && order.toLowerCase() === 'desc') {\n            return function (a, b) {\n                return valueOf(b) - valueOf(a);\n            };\n        } else if (isFunction(order)) {\n\n            // if the function is from data_order we need\n            // to wrap the returned function in order to format\n            // the sorted value to the expected format\n\n            var sortFunction = order;\n\n            if (config.tooltip_order === undefined) {\n                sortFunction = function sortFunction(a, b) {\n                    return order(a ? {\n                        id: a.id,\n                        values: [a]\n                    } : null, b ? {\n                        id: b.id,\n                        values: [b]\n                    } : null);\n                };\n            }\n\n            return sortFunction;\n        } else if (isArray(order)) {\n            return function (a, b) {\n                return order.indexOf(a.id) - order.indexOf(b.id);\n            };\n        }\n    } else {\n        // if data are grouped, we follow the order of grouped targets\n        var ids = $$.orderTargets($$.data.targets).map(function (i) {\n            return i.id;\n        });\n\n        // if it was either asc or desc we need to invert the order\n        // returned by orderTargets\n        if ($$.isOrderAsc() || $$.isOrderDesc()) {\n            ids = ids.reverse();\n        }\n\n        return function (a, b) {\n            return ids.indexOf(a.id) - ids.indexOf(b.id);\n        };\n    }\n};\nc3_chart_internal_fn.getTooltipContent = function (d, defaultTitleFormat, defaultValueFormat, color) {\n    var $$ = this,\n        config = $$.config,\n        titleFormat = config.tooltip_format_title || defaultTitleFormat,\n        nameFormat = config.tooltip_format_name || function (name) {\n        return name;\n    },\n        valueFormat = config.tooltip_format_value || defaultValueFormat,\n        text,\n        i,\n        title,\n        value,\n        name,\n        bgcolor;\n\n    var tooltipSortFunction = this.getTooltipSortFunction();\n    if (tooltipSortFunction) {\n        d.sort(tooltipSortFunction);\n    }\n\n    for (i = 0; i < d.length; i++) {\n        if (!(d[i] && (d[i].value || d[i].value === 0))) {\n            continue;\n        }\n\n        if (!text) {\n            title = sanitise(titleFormat ? titleFormat(d[i].x) : d[i].x);\n            text = \"<table class='\" + $$.CLASS.tooltip + \"'>\" + (title || title === 0 ? \"<tr><th colspan='2'>\" + title + \"</th></tr>\" : \"\");\n        }\n\n        value = sanitise(valueFormat(d[i].value, d[i].ratio, d[i].id, d[i].index, d));\n        if (value !== undefined) {\n            // Skip elements when their name is set to null\n            if (d[i].name === null) {\n                continue;\n            }\n            name = sanitise(nameFormat(d[i].name, d[i].ratio, d[i].id, d[i].index));\n            bgcolor = $$.levelColor ? $$.levelColor(d[i].value) : color(d[i].id);\n\n            text += \"<tr class='\" + $$.CLASS.tooltipName + \"-\" + $$.getTargetSelectorSuffix(d[i].id) + \"'>\";\n            text += \"<td class='name'><span style='background-color:\" + bgcolor + \"'></span>\" + name + \"</td>\";\n            text += \"<td class='value'>\" + value + \"</td>\";\n            text += \"</tr>\";\n        }\n    }\n    return text + \"</table>\";\n};\nc3_chart_internal_fn.tooltipPosition = function (dataToShow, tWidth, tHeight, element) {\n    var $$ = this,\n        config = $$.config,\n        d3 = $$.d3;\n    var svgLeft, tooltipLeft, tooltipRight, tooltipTop, chartRight;\n    var forArc = $$.hasArcType(),\n        mouse = d3.mouse(element);\n    // Determin tooltip position\n    if (forArc) {\n        tooltipLeft = ($$.width - ($$.isLegendRight ? $$.getLegendWidth() : 0)) / 2 + mouse[0];\n        tooltipTop = ($$.hasType('gauge') ? $$.height : $$.height / 2) + mouse[1] + 20;\n    } else {\n        svgLeft = $$.getSvgLeft(true);\n        if (config.axis_rotated) {\n            tooltipLeft = svgLeft + mouse[0] + 100;\n            tooltipRight = tooltipLeft + tWidth;\n            chartRight = $$.currentWidth - $$.getCurrentPaddingRight();\n            tooltipTop = $$.x(dataToShow[0].x) + 20;\n        } else {\n            tooltipLeft = svgLeft + $$.getCurrentPaddingLeft(true) + $$.x(dataToShow[0].x) + 20;\n            tooltipRight = tooltipLeft + tWidth;\n            chartRight = svgLeft + $$.currentWidth - $$.getCurrentPaddingRight();\n            tooltipTop = mouse[1] + 15;\n        }\n\n        if (tooltipRight > chartRight) {\n            // 20 is needed for Firefox to keep tooltip width\n            tooltipLeft -= tooltipRight - chartRight + 20;\n        }\n        if (tooltipTop + tHeight > $$.currentHeight) {\n            tooltipTop -= tHeight + 30;\n        }\n    }\n    if (tooltipTop < 0) {\n        tooltipTop = 0;\n    }\n    return { top: tooltipTop, left: tooltipLeft };\n};\nc3_chart_internal_fn.showTooltip = function (selectedData, element) {\n    var $$ = this,\n        config = $$.config;\n    var tWidth, tHeight, position;\n    var forArc = $$.hasArcType(),\n        dataToShow = selectedData.filter(function (d) {\n        return d && isValue(d.value);\n    }),\n        positionFunction = config.tooltip_position || c3_chart_internal_fn.tooltipPosition;\n    if (dataToShow.length === 0 || !config.tooltip_show) {\n        return;\n    }\n    $$.tooltip.html(config.tooltip_contents.call($$, selectedData, $$.axis.getXAxisTickFormat(), $$.getYFormat(forArc), $$.color)).style(\"display\", \"block\");\n\n    // Get tooltip dimensions\n    tWidth = $$.tooltip.property('offsetWidth');\n    tHeight = $$.tooltip.property('offsetHeight');\n\n    position = positionFunction.call(this, dataToShow, tWidth, tHeight, element);\n    // Set tooltip\n    $$.tooltip.style(\"top\", position.top + \"px\").style(\"left\", position.left + 'px');\n};\nc3_chart_internal_fn.hideTooltip = function () {\n    this.tooltip.style(\"display\", \"none\");\n};\n\nc3_chart_internal_fn.setTargetType = function (targetIds, type) {\n    var $$ = this,\n        config = $$.config;\n    $$.mapToTargetIds(targetIds).forEach(function (id) {\n        $$.withoutFadeIn[id] = type === config.data_types[id];\n        config.data_types[id] = type;\n    });\n    if (!targetIds) {\n        config.data_type = type;\n    }\n};\nc3_chart_internal_fn.hasType = function (type, targets) {\n    var $$ = this,\n        types = $$.config.data_types,\n        has = false;\n    targets = targets || $$.data.targets;\n    if (targets && targets.length) {\n        targets.forEach(function (target) {\n            var t = types[target.id];\n            if (t && t.indexOf(type) >= 0 || !t && type === 'line') {\n                has = true;\n            }\n        });\n    } else if (Object.keys(types).length) {\n        Object.keys(types).forEach(function (id) {\n            if (types[id] === type) {\n                has = true;\n            }\n        });\n    } else {\n        has = $$.config.data_type === type;\n    }\n    return has;\n};\nc3_chart_internal_fn.hasArcType = function (targets) {\n    return this.hasType('pie', targets) || this.hasType('donut', targets) || this.hasType('gauge', targets);\n};\nc3_chart_internal_fn.isLineType = function (d) {\n    var config = this.config,\n        id = isString(d) ? d : d.id;\n    return !config.data_types[id] || ['line', 'spline', 'area', 'area-spline', 'step', 'area-step'].indexOf(config.data_types[id]) >= 0;\n};\nc3_chart_internal_fn.isStepType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return ['step', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\n};\nc3_chart_internal_fn.isSplineType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return ['spline', 'area-spline'].indexOf(this.config.data_types[id]) >= 0;\n};\nc3_chart_internal_fn.isAreaType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return ['area', 'area-spline', 'area-step'].indexOf(this.config.data_types[id]) >= 0;\n};\nc3_chart_internal_fn.isBarType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'bar';\n};\nc3_chart_internal_fn.isScatterType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'scatter';\n};\nc3_chart_internal_fn.isPieType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'pie';\n};\nc3_chart_internal_fn.isGaugeType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'gauge';\n};\nc3_chart_internal_fn.isDonutType = function (d) {\n    var id = isString(d) ? d : d.id;\n    return this.config.data_types[id] === 'donut';\n};\nc3_chart_internal_fn.isArcType = function (d) {\n    return this.isPieType(d) || this.isDonutType(d) || this.isGaugeType(d);\n};\nc3_chart_internal_fn.lineData = function (d) {\n    return this.isLineType(d) ? [d] : [];\n};\nc3_chart_internal_fn.arcData = function (d) {\n    return this.isArcType(d.data) ? [d] : [];\n};\n/* not used\n function scatterData(d) {\n return isScatterType(d) ? d.values : [];\n }\n */\nc3_chart_internal_fn.barData = function (d) {\n    return this.isBarType(d) ? d.values : [];\n};\nc3_chart_internal_fn.lineOrScatterData = function (d) {\n    return this.isLineType(d) || this.isScatterType(d) ? d.values : [];\n};\nc3_chart_internal_fn.barOrLineData = function (d) {\n    return this.isBarType(d) || this.isLineType(d) ? d.values : [];\n};\nc3_chart_internal_fn.isInterpolationType = function (type) {\n    return ['linear', 'linear-closed', 'basis', 'basis-open', 'basis-closed', 'bundle', 'cardinal', 'cardinal-open', 'cardinal-closed', 'monotone'].indexOf(type) >= 0;\n};\n\nc3_chart_internal_fn.isSafari = function () {\n    var ua = window.navigator.userAgent;\n    return ua.indexOf('Safari') >= 0 && ua.indexOf('Chrome') < 0;\n};\nc3_chart_internal_fn.isChrome = function () {\n    var ua = window.navigator.userAgent;\n    return ua.indexOf('Chrome') >= 0;\n};\n\nc3_chart_internal_fn.initZoom = function () {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config,\n        startEvent;\n\n    $$.zoom = d3.behavior.zoom().on(\"zoomstart\", function () {\n        startEvent = d3.event.sourceEvent;\n        $$.zoom.altDomain = d3.event.sourceEvent.altKey ? $$.x.orgDomain() : null;\n        config.zoom_onzoomstart.call($$.api, d3.event.sourceEvent);\n    }).on(\"zoom\", function () {\n        $$.redrawForZoom.call($$);\n    }).on('zoomend', function () {\n        var event = d3.event.sourceEvent;\n        // if click, do nothing. otherwise, click interaction will be canceled.\n        if (event && startEvent.clientX === event.clientX && startEvent.clientY === event.clientY) {\n            return;\n        }\n        $$.redrawEventRect();\n        $$.updateZoom();\n        config.zoom_onzoomend.call($$.api, $$.x.orgDomain());\n    });\n    $$.zoom.scale = function (scale) {\n        return config.axis_rotated ? this.y(scale) : this.x(scale);\n    };\n    $$.zoom.orgScaleExtent = function () {\n        var extent = config.zoom_extent ? config.zoom_extent : [1, 10];\n        return [extent[0], Math.max($$.getMaxDataCount() / extent[1], extent[1])];\n    };\n    $$.zoom.updateScaleExtent = function () {\n        var ratio = diffDomain($$.x.orgDomain()) / diffDomain($$.getZoomDomain()),\n            extent = this.orgScaleExtent();\n        this.scaleExtent([extent[0] * ratio, extent[1] * ratio]);\n        return this;\n    };\n};\nc3_chart_internal_fn.getZoomDomain = function () {\n    var $$ = this,\n        config = $$.config,\n        d3 = $$.d3,\n        min = d3.min([$$.orgXDomain[0], config.zoom_x_min]),\n        max = d3.max([$$.orgXDomain[1], config.zoom_x_max]);\n    return [min, max];\n};\nc3_chart_internal_fn.updateZoom = function () {\n    var $$ = this,\n        z = $$.config.zoom_enabled ? $$.zoom : function () {};\n    $$.main.select('.' + CLASS.zoomRect).call(z).on(\"dblclick.zoom\", null);\n    $$.main.selectAll('.' + CLASS.eventRect).call(z).on(\"dblclick.zoom\", null);\n};\nc3_chart_internal_fn.redrawForZoom = function () {\n    var $$ = this,\n        d3 = $$.d3,\n        config = $$.config,\n        zoom = $$.zoom,\n        x = $$.x;\n    if (!config.zoom_enabled) {\n        return;\n    }\n    if ($$.filterTargetsToShow($$.data.targets).length === 0) {\n        return;\n    }\n    if (d3.event.sourceEvent.type === 'mousemove' && zoom.altDomain) {\n        x.domain(zoom.altDomain);\n        zoom.scale(x).updateScaleExtent();\n        return;\n    }\n    if ($$.isCategorized() && x.orgDomain()[0] === $$.orgXDomain[0]) {\n        x.domain([$$.orgXDomain[0] - 1e-10, x.orgDomain()[1]]);\n    }\n    $$.redraw({\n        withTransition: false,\n        withY: config.zoom_rescale,\n        withSubchart: false,\n        withEventRect: false,\n        withDimension: false\n    });\n    if (d3.event.sourceEvent.type === 'mousemove') {\n        $$.cancelClick = true;\n    }\n    config.zoom_onzoom.call($$.api, x.orgDomain());\n};\n\nreturn c3;\n\n})));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/c3/c3.js\n// module id = 60\n// module chunks = 0","!function() {\n  var d3 = {\n    version: \"3.5.17\"\n  };\n  var d3_arraySlice = [].slice, d3_array = function(list) {\n    return d3_arraySlice.call(list);\n  };\n  var d3_document = this.document;\n  function d3_documentElement(node) {\n    return node && (node.ownerDocument || node.document || node).documentElement;\n  }\n  function d3_window(node) {\n    return node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n  }\n  if (d3_document) {\n    try {\n      d3_array(d3_document.documentElement.childNodes)[0].nodeType;\n    } catch (e) {\n      d3_array = function(list) {\n        var i = list.length, array = new Array(i);\n        while (i--) array[i] = list[i];\n        return array;\n      };\n    }\n  }\n  if (!Date.now) Date.now = function() {\n    return +new Date();\n  };\n  if (d3_document) {\n    try {\n      d3_document.createElement(\"DIV\").style.setProperty(\"opacity\", 0, \"\");\n    } catch (error) {\n      var d3_element_prototype = this.Element.prototype, d3_element_setAttribute = d3_element_prototype.setAttribute, d3_element_setAttributeNS = d3_element_prototype.setAttributeNS, d3_style_prototype = this.CSSStyleDeclaration.prototype, d3_style_setProperty = d3_style_prototype.setProperty;\n      d3_element_prototype.setAttribute = function(name, value) {\n        d3_element_setAttribute.call(this, name, value + \"\");\n      };\n      d3_element_prototype.setAttributeNS = function(space, local, value) {\n        d3_element_setAttributeNS.call(this, space, local, value + \"\");\n      };\n      d3_style_prototype.setProperty = function(name, value, priority) {\n        d3_style_setProperty.call(this, name, value + \"\", priority);\n      };\n    }\n  }\n  d3.ascending = d3_ascending;\n  function d3_ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n  d3.descending = function(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  };\n  d3.min = function(array, f) {\n    var i = -1, n = array.length, a, b;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && a > b) a = b;\n    }\n    return a;\n  };\n  d3.max = function(array, f) {\n    var i = -1, n = array.length, a, b;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b > a) a = b;\n    }\n    return a;\n  };\n  d3.extent = function(array, f) {\n    var i = -1, n = array.length, a, b, c;\n    if (arguments.length === 1) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) {\n        a = c = b;\n        break;\n      }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    } else {\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null && b >= b) {\n        a = c = b;\n        break;\n      }\n      while (++i < n) if ((b = f.call(array, array[i], i)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n    return [ a, c ];\n  };\n  function d3_number(x) {\n    return x === null ? NaN : +x;\n  }\n  function d3_numeric(x) {\n    return !isNaN(x);\n  }\n  d3.sum = function(array, f) {\n    var s = 0, n = array.length, a, i = -1;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = +array[i])) s += a;\n    } else {\n      while (++i < n) if (d3_numeric(a = +f.call(array, array[i], i))) s += a;\n    }\n    return s;\n  };\n  d3.mean = function(array, f) {\n    var s = 0, n = array.length, a, i = -1, j = n;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) s += a; else --j;\n    } else {\n      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) s += a; else --j;\n    }\n    if (j) return s / j;\n  };\n  d3.quantile = function(values, p) {\n    var H = (values.length - 1) * p + 1, h = Math.floor(H), v = +values[h - 1], e = H - h;\n    return e ? v + e * (values[h] - v) : v;\n  };\n  d3.median = function(array, f) {\n    var numbers = [], n = array.length, a, i = -1;\n    if (arguments.length === 1) {\n      while (++i < n) if (d3_numeric(a = d3_number(array[i]))) numbers.push(a);\n    } else {\n      while (++i < n) if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) numbers.push(a);\n    }\n    if (numbers.length) return d3.quantile(numbers.sort(d3_ascending), .5);\n  };\n  d3.variance = function(array, f) {\n    var n = array.length, m = 0, a, d, s = 0, i = -1, j = 0;\n    if (arguments.length === 1) {\n      while (++i < n) {\n        if (d3_numeric(a = d3_number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    } else {\n      while (++i < n) {\n        if (d3_numeric(a = d3_number(f.call(array, array[i], i)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n    if (j > 1) return s / (j - 1);\n  };\n  d3.deviation = function() {\n    var v = d3.variance.apply(this, arguments);\n    return v ? Math.sqrt(v) : v;\n  };\n  function d3_bisector(compare) {\n    return {\n      left: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1; else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (arguments.length < 3) lo = 0;\n        if (arguments.length < 4) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid; else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n  var d3_bisect = d3_bisector(d3_ascending);\n  d3.bisectLeft = d3_bisect.left;\n  d3.bisect = d3.bisectRight = d3_bisect.right;\n  d3.bisector = function(f) {\n    return d3_bisector(f.length === 1 ? function(d, x) {\n      return d3_ascending(f(d), x);\n    } : f);\n  };\n  d3.shuffle = function(array, i0, i1) {\n    if ((m = arguments.length) < 3) {\n      i1 = array.length;\n      if (m < 2) i0 = 0;\n    }\n    var m = i1 - i0, t, i;\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0], array[m + i0] = array[i + i0], array[i + i0] = t;\n    }\n    return array;\n  };\n  d3.permute = function(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  };\n  d3.pairs = function(array) {\n    var i = 0, n = array.length - 1, p0, p1 = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [ p0 = p1, p1 = array[++i] ];\n    return pairs;\n  };\n  d3.transpose = function(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = d3.min(matrix, d3_transposeLength), transpose = new Array(m); ++i < m; ) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n; ) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  };\n  function d3_transposeLength(d) {\n    return d.length;\n  }\n  d3.zip = function() {\n    return d3.transpose(arguments);\n  };\n  d3.keys = function(map) {\n    var keys = [];\n    for (var key in map) keys.push(key);\n    return keys;\n  };\n  d3.values = function(map) {\n    var values = [];\n    for (var key in map) values.push(map[key]);\n    return values;\n  };\n  d3.entries = function(map) {\n    var entries = [];\n    for (var key in map) entries.push({\n      key: key,\n      value: map[key]\n    });\n    return entries;\n  };\n  d3.merge = function(arrays) {\n    var n = arrays.length, m, i = -1, j = 0, merged, array;\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n    return merged;\n  };\n  var abs = Math.abs;\n  d3.range = function(start, stop, step) {\n    if (arguments.length < 3) {\n      step = 1;\n      if (arguments.length < 2) {\n        stop = start;\n        start = 0;\n      }\n    }\n    if ((stop - start) / step === Infinity) throw new Error(\"infinite range\");\n    var range = [], k = d3_range_integerScale(abs(step)), i = -1, j;\n    start *= k, stop *= k, step *= k;\n    if (step < 0) while ((j = start + step * ++i) > stop) range.push(j / k); else while ((j = start + step * ++i) < stop) range.push(j / k);\n    return range;\n  };\n  function d3_range_integerScale(x) {\n    var k = 1;\n    while (x * k % 1) k *= 10;\n    return k;\n  }\n  function d3_class(ctor, properties) {\n    for (var key in properties) {\n      Object.defineProperty(ctor.prototype, key, {\n        value: properties[key],\n        enumerable: false\n      });\n    }\n  }\n  d3.map = function(object, f) {\n    var map = new d3_Map();\n    if (object instanceof d3_Map) {\n      object.forEach(function(key, value) {\n        map.set(key, value);\n      });\n    } else if (Array.isArray(object)) {\n      var i = -1, n = object.length, o;\n      if (arguments.length === 1) while (++i < n) map.set(i, object[i]); else while (++i < n) map.set(f.call(object, o = object[i], i), o);\n    } else {\n      for (var key in object) map.set(key, object[key]);\n    }\n    return map;\n  };\n  function d3_Map() {\n    this._ = Object.create(null);\n  }\n  var d3_map_proto = \"__proto__\", d3_map_zero = \"\\x00\";\n  d3_class(d3_Map, {\n    has: d3_map_has,\n    get: function(key) {\n      return this._[d3_map_escape(key)];\n    },\n    set: function(key, value) {\n      return this._[d3_map_escape(key)] = value;\n    },\n    remove: d3_map_remove,\n    keys: d3_map_keys,\n    values: function() {\n      var values = [];\n      for (var key in this._) values.push(this._[key]);\n      return values;\n    },\n    entries: function() {\n      var entries = [];\n      for (var key in this._) entries.push({\n        key: d3_map_unescape(key),\n        value: this._[key]\n      });\n      return entries;\n    },\n    size: d3_map_size,\n    empty: d3_map_empty,\n    forEach: function(f) {\n      for (var key in this._) f.call(this, d3_map_unescape(key), this._[key]);\n    }\n  });\n  function d3_map_escape(key) {\n    return (key += \"\") === d3_map_proto || key[0] === d3_map_zero ? d3_map_zero + key : key;\n  }\n  function d3_map_unescape(key) {\n    return (key += \"\")[0] === d3_map_zero ? key.slice(1) : key;\n  }\n  function d3_map_has(key) {\n    return d3_map_escape(key) in this._;\n  }\n  function d3_map_remove(key) {\n    return (key = d3_map_escape(key)) in this._ && delete this._[key];\n  }\n  function d3_map_keys() {\n    var keys = [];\n    for (var key in this._) keys.push(d3_map_unescape(key));\n    return keys;\n  }\n  function d3_map_size() {\n    var size = 0;\n    for (var key in this._) ++size;\n    return size;\n  }\n  function d3_map_empty() {\n    for (var key in this._) return false;\n    return true;\n  }\n  d3.nest = function() {\n    var nest = {}, keys = [], sortKeys = [], sortValues, rollup;\n    function map(mapType, array, depth) {\n      if (depth >= keys.length) return rollup ? rollup.call(nest, array) : sortValues ? array.sort(sortValues) : array;\n      var i = -1, n = array.length, key = keys[depth++], keyValue, object, setter, valuesByKey = new d3_Map(), values;\n      while (++i < n) {\n        if (values = valuesByKey.get(keyValue = key(object = array[i]))) {\n          values.push(object);\n        } else {\n          valuesByKey.set(keyValue, [ object ]);\n        }\n      }\n      if (mapType) {\n        object = mapType();\n        setter = function(keyValue, values) {\n          object.set(keyValue, map(mapType, values, depth));\n        };\n      } else {\n        object = {};\n        setter = function(keyValue, values) {\n          object[keyValue] = map(mapType, values, depth);\n        };\n      }\n      valuesByKey.forEach(setter);\n      return object;\n    }\n    function entries(map, depth) {\n      if (depth >= keys.length) return map;\n      var array = [], sortKey = sortKeys[depth++];\n      map.forEach(function(key, keyMap) {\n        array.push({\n          key: key,\n          values: entries(keyMap, depth)\n        });\n      });\n      return sortKey ? array.sort(function(a, b) {\n        return sortKey(a.key, b.key);\n      }) : array;\n    }\n    nest.map = function(array, mapType) {\n      return map(mapType, array, 0);\n    };\n    nest.entries = function(array) {\n      return entries(map(d3.map, array, 0), 0);\n    };\n    nest.key = function(d) {\n      keys.push(d);\n      return nest;\n    };\n    nest.sortKeys = function(order) {\n      sortKeys[keys.length - 1] = order;\n      return nest;\n    };\n    nest.sortValues = function(order) {\n      sortValues = order;\n      return nest;\n    };\n    nest.rollup = function(f) {\n      rollup = f;\n      return nest;\n    };\n    return nest;\n  };\n  d3.set = function(array) {\n    var set = new d3_Set();\n    if (array) for (var i = 0, n = array.length; i < n; ++i) set.add(array[i]);\n    return set;\n  };\n  function d3_Set() {\n    this._ = Object.create(null);\n  }\n  d3_class(d3_Set, {\n    has: d3_map_has,\n    add: function(key) {\n      this._[d3_map_escape(key += \"\")] = true;\n      return key;\n    },\n    remove: d3_map_remove,\n    values: d3_map_keys,\n    size: d3_map_size,\n    empty: d3_map_empty,\n    forEach: function(f) {\n      for (var key in this._) f.call(this, d3_map_unescape(key));\n    }\n  });\n  d3.behavior = {};\n  function d3_identity(d) {\n    return d;\n  }\n  d3.rebind = function(target, source) {\n    var i = 1, n = arguments.length, method;\n    while (++i < n) target[method = arguments[i]] = d3_rebind(target, source, source[method]);\n    return target;\n  };\n  function d3_rebind(target, source, method) {\n    return function() {\n      var value = method.apply(source, arguments);\n      return value === source ? target : value;\n    };\n  }\n  function d3_vendorSymbol(object, name) {\n    if (name in object) return name;\n    name = name.charAt(0).toUpperCase() + name.slice(1);\n    for (var i = 0, n = d3_vendorPrefixes.length; i < n; ++i) {\n      var prefixName = d3_vendorPrefixes[i] + name;\n      if (prefixName in object) return prefixName;\n    }\n  }\n  var d3_vendorPrefixes = [ \"webkit\", \"ms\", \"moz\", \"Moz\", \"o\", \"O\" ];\n  function d3_noop() {}\n  d3.dispatch = function() {\n    var dispatch = new d3_dispatch(), i = -1, n = arguments.length;\n    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n    return dispatch;\n  };\n  function d3_dispatch() {}\n  d3_dispatch.prototype.on = function(type, listener) {\n    var i = type.indexOf(\".\"), name = \"\";\n    if (i >= 0) {\n      name = type.slice(i + 1);\n      type = type.slice(0, i);\n    }\n    if (type) return arguments.length < 2 ? this[type].on(name) : this[type].on(name, listener);\n    if (arguments.length === 2) {\n      if (listener == null) for (type in this) {\n        if (this.hasOwnProperty(type)) this[type].on(name, null);\n      }\n      return this;\n    }\n  };\n  function d3_dispatch_event(dispatch) {\n    var listeners = [], listenerByName = new d3_Map();\n    function event() {\n      var z = listeners, i = -1, n = z.length, l;\n      while (++i < n) if (l = z[i].on) l.apply(this, arguments);\n      return dispatch;\n    }\n    event.on = function(name, listener) {\n      var l = listenerByName.get(name), i;\n      if (arguments.length < 2) return l && l.on;\n      if (l) {\n        l.on = null;\n        listeners = listeners.slice(0, i = listeners.indexOf(l)).concat(listeners.slice(i + 1));\n        listenerByName.remove(name);\n      }\n      if (listener) listeners.push(listenerByName.set(name, {\n        on: listener\n      }));\n      return dispatch;\n    };\n    return event;\n  }\n  d3.event = null;\n  function d3_eventPreventDefault() {\n    d3.event.preventDefault();\n  }\n  function d3_eventSource() {\n    var e = d3.event, s;\n    while (s = e.sourceEvent) e = s;\n    return e;\n  }\n  function d3_eventDispatch(target) {\n    var dispatch = new d3_dispatch(), i = 0, n = arguments.length;\n    while (++i < n) dispatch[arguments[i]] = d3_dispatch_event(dispatch);\n    dispatch.of = function(thiz, argumentz) {\n      return function(e1) {\n        try {\n          var e0 = e1.sourceEvent = d3.event;\n          e1.target = target;\n          d3.event = e1;\n          dispatch[e1.type].apply(thiz, argumentz);\n        } finally {\n          d3.event = e0;\n        }\n      };\n    };\n    return dispatch;\n  }\n  d3.requote = function(s) {\n    return s.replace(d3_requote_re, \"\\\\$&\");\n  };\n  var d3_requote_re = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n  var d3_subclass = {}.__proto__ ? function(object, prototype) {\n    object.__proto__ = prototype;\n  } : function(object, prototype) {\n    for (var property in prototype) object[property] = prototype[property];\n  };\n  function d3_selection(groups) {\n    d3_subclass(groups, d3_selectionPrototype);\n    return groups;\n  }\n  var d3_select = function(s, n) {\n    return n.querySelector(s);\n  }, d3_selectAll = function(s, n) {\n    return n.querySelectorAll(s);\n  }, d3_selectMatches = function(n, s) {\n    var d3_selectMatcher = n.matches || n[d3_vendorSymbol(n, \"matchesSelector\")];\n    d3_selectMatches = function(n, s) {\n      return d3_selectMatcher.call(n, s);\n    };\n    return d3_selectMatches(n, s);\n  };\n  if (typeof Sizzle === \"function\") {\n    d3_select = function(s, n) {\n      return Sizzle(s, n)[0] || null;\n    };\n    d3_selectAll = Sizzle;\n    d3_selectMatches = Sizzle.matchesSelector;\n  }\n  d3.selection = function() {\n    return d3.select(d3_document.documentElement);\n  };\n  var d3_selectionPrototype = d3.selection.prototype = [];\n  d3_selectionPrototype.select = function(selector) {\n    var subgroups = [], subgroup, subnode, group, node;\n    selector = d3_selection_selector(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = (group = this[j]).parentNode;\n      for (var i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroup.push(subnode = selector.call(node, node.__data__, i, j));\n          if (subnode && \"__data__\" in node) subnode.__data__ = node.__data__;\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_selector(selector) {\n    return typeof selector === \"function\" ? selector : function() {\n      return d3_select(selector, this);\n    };\n  }\n  d3_selectionPrototype.selectAll = function(selector) {\n    var subgroups = [], subgroup, node;\n    selector = d3_selection_selectorAll(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroups.push(subgroup = d3_array(selector.call(node, node.__data__, i, j)));\n          subgroup.parentNode = node;\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_selectorAll(selector) {\n    return typeof selector === \"function\" ? selector : function() {\n      return d3_selectAll(selector, this);\n    };\n  }\n  var d3_nsXhtml = \"http://www.w3.org/1999/xhtml\";\n  var d3_nsPrefix = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: d3_nsXhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n  d3.ns = {\n    prefix: d3_nsPrefix,\n    qualify: function(name) {\n      var i = name.indexOf(\":\"), prefix = name;\n      if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n      return d3_nsPrefix.hasOwnProperty(prefix) ? {\n        space: d3_nsPrefix[prefix],\n        local: name\n      } : name;\n    }\n  };\n  d3_selectionPrototype.attr = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") {\n        var node = this.node();\n        name = d3.ns.qualify(name);\n        return name.local ? node.getAttributeNS(name.space, name.local) : node.getAttribute(name);\n      }\n      for (value in name) this.each(d3_selection_attr(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_attr(name, value));\n  };\n  function d3_selection_attr(name, value) {\n    name = d3.ns.qualify(name);\n    function attrNull() {\n      this.removeAttribute(name);\n    }\n    function attrNullNS() {\n      this.removeAttributeNS(name.space, name.local);\n    }\n    function attrConstant() {\n      this.setAttribute(name, value);\n    }\n    function attrConstantNS() {\n      this.setAttributeNS(name.space, name.local, value);\n    }\n    function attrFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttribute(name); else this.setAttribute(name, x);\n    }\n    function attrFunctionNS() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.removeAttributeNS(name.space, name.local); else this.setAttributeNS(name.space, name.local, x);\n    }\n    return value == null ? name.local ? attrNullNS : attrNull : typeof value === \"function\" ? name.local ? attrFunctionNS : attrFunction : name.local ? attrConstantNS : attrConstant;\n  }\n  function d3_collapse(s) {\n    return s.trim().replace(/\\s+/g, \" \");\n  }\n  d3_selectionPrototype.classed = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") {\n        var node = this.node(), n = (name = d3_selection_classes(name)).length, i = -1;\n        if (value = node.classList) {\n          while (++i < n) if (!value.contains(name[i])) return false;\n        } else {\n          value = node.getAttribute(\"class\");\n          while (++i < n) if (!d3_selection_classedRe(name[i]).test(value)) return false;\n        }\n        return true;\n      }\n      for (value in name) this.each(d3_selection_classed(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_classed(name, value));\n  };\n  function d3_selection_classedRe(name) {\n    return new RegExp(\"(?:^|\\\\s+)\" + d3.requote(name) + \"(?:\\\\s+|$)\", \"g\");\n  }\n  function d3_selection_classes(name) {\n    return (name + \"\").trim().split(/^|\\s+/);\n  }\n  function d3_selection_classed(name, value) {\n    name = d3_selection_classes(name).map(d3_selection_classedName);\n    var n = name.length;\n    function classedConstant() {\n      var i = -1;\n      while (++i < n) name[i](this, value);\n    }\n    function classedFunction() {\n      var i = -1, x = value.apply(this, arguments);\n      while (++i < n) name[i](this, x);\n    }\n    return typeof value === \"function\" ? classedFunction : classedConstant;\n  }\n  function d3_selection_classedName(name) {\n    var re = d3_selection_classedRe(name);\n    return function(node, value) {\n      if (c = node.classList) return value ? c.add(name) : c.remove(name);\n      var c = node.getAttribute(\"class\") || \"\";\n      if (value) {\n        re.lastIndex = 0;\n        if (!re.test(c)) node.setAttribute(\"class\", d3_collapse(c + \" \" + name));\n      } else {\n        node.setAttribute(\"class\", d3_collapse(c.replace(re, \" \")));\n      }\n    };\n  }\n  d3_selectionPrototype.style = function(name, value, priority) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof name !== \"string\") {\n        if (n < 2) value = \"\";\n        for (priority in name) this.each(d3_selection_style(priority, name[priority], value));\n        return this;\n      }\n      if (n < 2) {\n        var node = this.node();\n        return d3_window(node).getComputedStyle(node, null).getPropertyValue(name);\n      }\n      priority = \"\";\n    }\n    return this.each(d3_selection_style(name, value, priority));\n  };\n  function d3_selection_style(name, value, priority) {\n    function styleNull() {\n      this.style.removeProperty(name);\n    }\n    function styleConstant() {\n      this.style.setProperty(name, value, priority);\n    }\n    function styleFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) this.style.removeProperty(name); else this.style.setProperty(name, x, priority);\n    }\n    return value == null ? styleNull : typeof value === \"function\" ? styleFunction : styleConstant;\n  }\n  d3_selectionPrototype.property = function(name, value) {\n    if (arguments.length < 2) {\n      if (typeof name === \"string\") return this.node()[name];\n      for (value in name) this.each(d3_selection_property(value, name[value]));\n      return this;\n    }\n    return this.each(d3_selection_property(name, value));\n  };\n  function d3_selection_property(name, value) {\n    function propertyNull() {\n      delete this[name];\n    }\n    function propertyConstant() {\n      this[name] = value;\n    }\n    function propertyFunction() {\n      var x = value.apply(this, arguments);\n      if (x == null) delete this[name]; else this[name] = x;\n    }\n    return value == null ? propertyNull : typeof value === \"function\" ? propertyFunction : propertyConstant;\n  }\n  d3_selectionPrototype.text = function(value) {\n    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n      var v = value.apply(this, arguments);\n      this.textContent = v == null ? \"\" : v;\n    } : value == null ? function() {\n      this.textContent = \"\";\n    } : function() {\n      this.textContent = value;\n    }) : this.node().textContent;\n  };\n  d3_selectionPrototype.html = function(value) {\n    return arguments.length ? this.each(typeof value === \"function\" ? function() {\n      var v = value.apply(this, arguments);\n      this.innerHTML = v == null ? \"\" : v;\n    } : value == null ? function() {\n      this.innerHTML = \"\";\n    } : function() {\n      this.innerHTML = value;\n    }) : this.node().innerHTML;\n  };\n  d3_selectionPrototype.append = function(name) {\n    name = d3_selection_creator(name);\n    return this.select(function() {\n      return this.appendChild(name.apply(this, arguments));\n    });\n  };\n  function d3_selection_creator(name) {\n    function create() {\n      var document = this.ownerDocument, namespace = this.namespaceURI;\n      return namespace === d3_nsXhtml && document.documentElement.namespaceURI === d3_nsXhtml ? document.createElement(name) : document.createElementNS(namespace, name);\n    }\n    function createNS() {\n      return this.ownerDocument.createElementNS(name.space, name.local);\n    }\n    return typeof name === \"function\" ? name : (name = d3.ns.qualify(name)).local ? createNS : create;\n  }\n  d3_selectionPrototype.insert = function(name, before) {\n    name = d3_selection_creator(name);\n    before = d3_selection_selector(before);\n    return this.select(function() {\n      return this.insertBefore(name.apply(this, arguments), before.apply(this, arguments) || null);\n    });\n  };\n  d3_selectionPrototype.remove = function() {\n    return this.each(d3_selectionRemove);\n  };\n  function d3_selectionRemove() {\n    var parent = this.parentNode;\n    if (parent) parent.removeChild(this);\n  }\n  d3_selectionPrototype.data = function(value, key) {\n    var i = -1, n = this.length, group, node;\n    if (!arguments.length) {\n      value = new Array(n = (group = this[0]).length);\n      while (++i < n) {\n        if (node = group[i]) {\n          value[i] = node.__data__;\n        }\n      }\n      return value;\n    }\n    function bind(group, groupData) {\n      var i, n = group.length, m = groupData.length, n0 = Math.min(n, m), updateNodes = new Array(m), enterNodes = new Array(m), exitNodes = new Array(n), node, nodeData;\n      if (key) {\n        var nodeByKeyValue = new d3_Map(), keyValues = new Array(n), keyValue;\n        for (i = -1; ++i < n; ) {\n          if (node = group[i]) {\n            if (nodeByKeyValue.has(keyValue = key.call(node, node.__data__, i))) {\n              exitNodes[i] = node;\n            } else {\n              nodeByKeyValue.set(keyValue, node);\n            }\n            keyValues[i] = keyValue;\n          }\n        }\n        for (i = -1; ++i < m; ) {\n          if (!(node = nodeByKeyValue.get(keyValue = key.call(groupData, nodeData = groupData[i], i)))) {\n            enterNodes[i] = d3_selection_dataNode(nodeData);\n          } else if (node !== true) {\n            updateNodes[i] = node;\n            node.__data__ = nodeData;\n          }\n          nodeByKeyValue.set(keyValue, true);\n        }\n        for (i = -1; ++i < n; ) {\n          if (i in keyValues && nodeByKeyValue.get(keyValues[i]) !== true) {\n            exitNodes[i] = group[i];\n          }\n        }\n      } else {\n        for (i = -1; ++i < n0; ) {\n          node = group[i];\n          nodeData = groupData[i];\n          if (node) {\n            node.__data__ = nodeData;\n            updateNodes[i] = node;\n          } else {\n            enterNodes[i] = d3_selection_dataNode(nodeData);\n          }\n        }\n        for (;i < m; ++i) {\n          enterNodes[i] = d3_selection_dataNode(groupData[i]);\n        }\n        for (;i < n; ++i) {\n          exitNodes[i] = group[i];\n        }\n      }\n      enterNodes.update = updateNodes;\n      enterNodes.parentNode = updateNodes.parentNode = exitNodes.parentNode = group.parentNode;\n      enter.push(enterNodes);\n      update.push(updateNodes);\n      exit.push(exitNodes);\n    }\n    var enter = d3_selection_enter([]), update = d3_selection([]), exit = d3_selection([]);\n    if (typeof value === \"function\") {\n      while (++i < n) {\n        bind(group = this[i], value.call(group, group.parentNode.__data__, i));\n      }\n    } else {\n      while (++i < n) {\n        bind(group = this[i], value);\n      }\n    }\n    update.enter = function() {\n      return enter;\n    };\n    update.exit = function() {\n      return exit;\n    };\n    return update;\n  };\n  function d3_selection_dataNode(data) {\n    return {\n      __data__: data\n    };\n  }\n  d3_selectionPrototype.datum = function(value) {\n    return arguments.length ? this.property(\"__data__\", value) : this.property(\"__data__\");\n  };\n  d3_selectionPrototype.filter = function(filter) {\n    var subgroups = [], subgroup, group, node;\n    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = (group = this[j]).parentNode;\n      for (var i = 0, n = group.length; i < n; i++) {\n        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n          subgroup.push(node);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  function d3_selection_filter(selector) {\n    return function() {\n      return d3_selectMatches(this, selector);\n    };\n  }\n  d3_selectionPrototype.order = function() {\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n        if (node = group[i]) {\n          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n          next = node;\n        }\n      }\n    }\n    return this;\n  };\n  d3_selectionPrototype.sort = function(comparator) {\n    comparator = d3_selection_sortComparator.apply(this, arguments);\n    for (var j = -1, m = this.length; ++j < m; ) this[j].sort(comparator);\n    return this.order();\n  };\n  function d3_selection_sortComparator(comparator) {\n    if (!arguments.length) comparator = d3_ascending;\n    return function(a, b) {\n      return a && b ? comparator(a.__data__, b.__data__) : !a - !b;\n    };\n  }\n  d3_selectionPrototype.each = function(callback) {\n    return d3_selection_each(this, function(node, i, j) {\n      callback.call(node, node.__data__, i, j);\n    });\n  };\n  function d3_selection_each(groups, callback) {\n    for (var j = 0, m = groups.length; j < m; j++) {\n      for (var group = groups[j], i = 0, n = group.length, node; i < n; i++) {\n        if (node = group[i]) callback(node, i, j);\n      }\n    }\n    return groups;\n  }\n  d3_selectionPrototype.call = function(callback) {\n    var args = d3_array(arguments);\n    callback.apply(args[0] = this, args);\n    return this;\n  };\n  d3_selectionPrototype.empty = function() {\n    return !this.node();\n  };\n  d3_selectionPrototype.node = function() {\n    for (var j = 0, m = this.length; j < m; j++) {\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        var node = group[i];\n        if (node) return node;\n      }\n    }\n    return null;\n  };\n  d3_selectionPrototype.size = function() {\n    var n = 0;\n    d3_selection_each(this, function() {\n      ++n;\n    });\n    return n;\n  };\n  function d3_selection_enter(selection) {\n    d3_subclass(selection, d3_selection_enterPrototype);\n    return selection;\n  }\n  var d3_selection_enterPrototype = [];\n  d3.selection.enter = d3_selection_enter;\n  d3.selection.enter.prototype = d3_selection_enterPrototype;\n  d3_selection_enterPrototype.append = d3_selectionPrototype.append;\n  d3_selection_enterPrototype.empty = d3_selectionPrototype.empty;\n  d3_selection_enterPrototype.node = d3_selectionPrototype.node;\n  d3_selection_enterPrototype.call = d3_selectionPrototype.call;\n  d3_selection_enterPrototype.size = d3_selectionPrototype.size;\n  d3_selection_enterPrototype.select = function(selector) {\n    var subgroups = [], subgroup, subnode, upgroup, group, node;\n    for (var j = -1, m = this.length; ++j < m; ) {\n      upgroup = (group = this[j]).update;\n      subgroups.push(subgroup = []);\n      subgroup.parentNode = group.parentNode;\n      for (var i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          subgroup.push(upgroup[i] = subnode = selector.call(group.parentNode, node.__data__, i, j));\n          subnode.__data__ = node.__data__;\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_selection(subgroups);\n  };\n  d3_selection_enterPrototype.insert = function(name, before) {\n    if (arguments.length < 2) before = d3_selection_enterInsertBefore(this);\n    return d3_selectionPrototype.insert.call(this, name, before);\n  };\n  function d3_selection_enterInsertBefore(enter) {\n    var i0, j0;\n    return function(d, i, j) {\n      var group = enter[j].update, n = group.length, node;\n      if (j != j0) j0 = j, i0 = 0;\n      if (i >= i0) i0 = i + 1;\n      while (!(node = group[i0]) && ++i0 < n) ;\n      return node;\n    };\n  }\n  d3.select = function(node) {\n    var group;\n    if (typeof node === \"string\") {\n      group = [ d3_select(node, d3_document) ];\n      group.parentNode = d3_document.documentElement;\n    } else {\n      group = [ node ];\n      group.parentNode = d3_documentElement(node);\n    }\n    return d3_selection([ group ]);\n  };\n  d3.selectAll = function(nodes) {\n    var group;\n    if (typeof nodes === \"string\") {\n      group = d3_array(d3_selectAll(nodes, d3_document));\n      group.parentNode = d3_document.documentElement;\n    } else {\n      group = d3_array(nodes);\n      group.parentNode = null;\n    }\n    return d3_selection([ group ]);\n  };\n  d3_selectionPrototype.on = function(type, listener, capture) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof type !== \"string\") {\n        if (n < 2) listener = false;\n        for (capture in type) this.each(d3_selection_on(capture, type[capture], listener));\n        return this;\n      }\n      if (n < 2) return (n = this.node()[\"__on\" + type]) && n._;\n      capture = false;\n    }\n    return this.each(d3_selection_on(type, listener, capture));\n  };\n  function d3_selection_on(type, listener, capture) {\n    var name = \"__on\" + type, i = type.indexOf(\".\"), wrap = d3_selection_onListener;\n    if (i > 0) type = type.slice(0, i);\n    var filter = d3_selection_onFilters.get(type);\n    if (filter) type = filter, wrap = d3_selection_onFilter;\n    function onRemove() {\n      var l = this[name];\n      if (l) {\n        this.removeEventListener(type, l, l.$);\n        delete this[name];\n      }\n    }\n    function onAdd() {\n      var l = wrap(listener, d3_array(arguments));\n      onRemove.call(this);\n      this.addEventListener(type, this[name] = l, l.$ = capture);\n      l._ = listener;\n    }\n    function removeAll() {\n      var re = new RegExp(\"^__on([^.]+)\" + d3.requote(type) + \"$\"), match;\n      for (var name in this) {\n        if (match = name.match(re)) {\n          var l = this[name];\n          this.removeEventListener(match[1], l, l.$);\n          delete this[name];\n        }\n      }\n    }\n    return i ? listener ? onAdd : onRemove : listener ? d3_noop : removeAll;\n  }\n  var d3_selection_onFilters = d3.map({\n    mouseenter: \"mouseover\",\n    mouseleave: \"mouseout\"\n  });\n  if (d3_document) {\n    d3_selection_onFilters.forEach(function(k) {\n      if (\"on\" + k in d3_document) d3_selection_onFilters.remove(k);\n    });\n  }\n  function d3_selection_onListener(listener, argumentz) {\n    return function(e) {\n      var o = d3.event;\n      d3.event = e;\n      argumentz[0] = this.__data__;\n      try {\n        listener.apply(this, argumentz);\n      } finally {\n        d3.event = o;\n      }\n    };\n  }\n  function d3_selection_onFilter(listener, argumentz) {\n    var l = d3_selection_onListener(listener, argumentz);\n    return function(e) {\n      var target = this, related = e.relatedTarget;\n      if (!related || related !== target && !(related.compareDocumentPosition(target) & 8)) {\n        l.call(target, e);\n      }\n    };\n  }\n  var d3_event_dragSelect, d3_event_dragId = 0;\n  function d3_event_dragSuppress(node) {\n    var name = \".dragsuppress-\" + ++d3_event_dragId, click = \"click\" + name, w = d3.select(d3_window(node)).on(\"touchmove\" + name, d3_eventPreventDefault).on(\"dragstart\" + name, d3_eventPreventDefault).on(\"selectstart\" + name, d3_eventPreventDefault);\n    if (d3_event_dragSelect == null) {\n      d3_event_dragSelect = \"onselectstart\" in node ? false : d3_vendorSymbol(node.style, \"userSelect\");\n    }\n    if (d3_event_dragSelect) {\n      var style = d3_documentElement(node).style, select = style[d3_event_dragSelect];\n      style[d3_event_dragSelect] = \"none\";\n    }\n    return function(suppressClick) {\n      w.on(name, null);\n      if (d3_event_dragSelect) style[d3_event_dragSelect] = select;\n      if (suppressClick) {\n        var off = function() {\n          w.on(click, null);\n        };\n        w.on(click, function() {\n          d3_eventPreventDefault();\n          off();\n        }, true);\n        setTimeout(off, 0);\n      }\n    };\n  }\n  d3.mouse = function(container) {\n    return d3_mousePoint(container, d3_eventSource());\n  };\n  var d3_mouse_bug44083 = this.navigator && /WebKit/.test(this.navigator.userAgent) ? -1 : 0;\n  function d3_mousePoint(container, e) {\n    if (e.changedTouches) e = e.changedTouches[0];\n    var svg = container.ownerSVGElement || container;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      if (d3_mouse_bug44083 < 0) {\n        var window = d3_window(container);\n        if (window.scrollX || window.scrollY) {\n          svg = d3.select(\"body\").append(\"svg\").style({\n            position: \"absolute\",\n            top: 0,\n            left: 0,\n            margin: 0,\n            padding: 0,\n            border: \"none\"\n          }, \"important\");\n          var ctm = svg[0][0].getScreenCTM();\n          d3_mouse_bug44083 = !(ctm.f || ctm.e);\n          svg.remove();\n        }\n      }\n      if (d3_mouse_bug44083) point.x = e.pageX, point.y = e.pageY; else point.x = e.clientX, \n      point.y = e.clientY;\n      point = point.matrixTransform(container.getScreenCTM().inverse());\n      return [ point.x, point.y ];\n    }\n    var rect = container.getBoundingClientRect();\n    return [ e.clientX - rect.left - container.clientLeft, e.clientY - rect.top - container.clientTop ];\n  }\n  d3.touch = function(container, touches, identifier) {\n    if (arguments.length < 3) identifier = touches, touches = d3_eventSource().changedTouches;\n    if (touches) for (var i = 0, n = touches.length, touch; i < n; ++i) {\n      if ((touch = touches[i]).identifier === identifier) {\n        return d3_mousePoint(container, touch);\n      }\n    }\n  };\n  d3.behavior.drag = function() {\n    var event = d3_eventDispatch(drag, \"drag\", \"dragstart\", \"dragend\"), origin = null, mousedown = dragstart(d3_noop, d3.mouse, d3_window, \"mousemove\", \"mouseup\"), touchstart = dragstart(d3_behavior_dragTouchId, d3.touch, d3_identity, \"touchmove\", \"touchend\");\n    function drag() {\n      this.on(\"mousedown.drag\", mousedown).on(\"touchstart.drag\", touchstart);\n    }\n    function dragstart(id, position, subject, move, end) {\n      return function() {\n        var that = this, target = d3.event.target.correspondingElement || d3.event.target, parent = that.parentNode, dispatch = event.of(that, arguments), dragged = 0, dragId = id(), dragName = \".drag\" + (dragId == null ? \"\" : \"-\" + dragId), dragOffset, dragSubject = d3.select(subject(target)).on(move + dragName, moved).on(end + dragName, ended), dragRestore = d3_event_dragSuppress(target), position0 = position(parent, dragId);\n        if (origin) {\n          dragOffset = origin.apply(that, arguments);\n          dragOffset = [ dragOffset.x - position0[0], dragOffset.y - position0[1] ];\n        } else {\n          dragOffset = [ 0, 0 ];\n        }\n        dispatch({\n          type: \"dragstart\"\n        });\n        function moved() {\n          var position1 = position(parent, dragId), dx, dy;\n          if (!position1) return;\n          dx = position1[0] - position0[0];\n          dy = position1[1] - position0[1];\n          dragged |= dx | dy;\n          position0 = position1;\n          dispatch({\n            type: \"drag\",\n            x: position1[0] + dragOffset[0],\n            y: position1[1] + dragOffset[1],\n            dx: dx,\n            dy: dy\n          });\n        }\n        function ended() {\n          if (!position(parent, dragId)) return;\n          dragSubject.on(move + dragName, null).on(end + dragName, null);\n          dragRestore(dragged);\n          dispatch({\n            type: \"dragend\"\n          });\n        }\n      };\n    }\n    drag.origin = function(x) {\n      if (!arguments.length) return origin;\n      origin = x;\n      return drag;\n    };\n    return d3.rebind(drag, event, \"on\");\n  };\n  function d3_behavior_dragTouchId() {\n    return d3.event.changedTouches[0].identifier;\n  }\n  d3.touches = function(container, touches) {\n    if (arguments.length < 2) touches = d3_eventSource().touches;\n    return touches ? d3_array(touches).map(function(touch) {\n      var point = d3_mousePoint(container, touch);\n      point.identifier = touch.identifier;\n      return point;\n    }) : [];\n  };\n  var  = 1e-6, 2 =  * ,  = Math.PI,  = 2 * ,  =  - , half =  / 2, d3_radians =  / 180, d3_degrees = 180 / ;\n  function d3_sgn(x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n  }\n  function d3_cross2d(a, b, c) {\n    return (b[0] - a[0]) * (c[1] - a[1]) - (b[1] - a[1]) * (c[0] - a[0]);\n  }\n  function d3_acos(x) {\n    return x > 1 ? 0 : x < -1 ?  : Math.acos(x);\n  }\n  function d3_asin(x) {\n    return x > 1 ? half : x < -1 ? -half : Math.asin(x);\n  }\n  function d3_sinh(x) {\n    return ((x = Math.exp(x)) - 1 / x) / 2;\n  }\n  function d3_cosh(x) {\n    return ((x = Math.exp(x)) + 1 / x) / 2;\n  }\n  function d3_tanh(x) {\n    return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n  }\n  function d3_haversin(x) {\n    return (x = Math.sin(x / 2)) * x;\n  }\n  var  = Math.SQRT2, 2 = 2, 4 = 4;\n  d3.interpolateZoom = function(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < 2) {\n      S = Math.log(w1 / w0) / ;\n      i = function(t) {\n        return [ ux0 + t * dx, uy0 + t * dy, w0 * Math.exp( * t * S) ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + 4 * d2) / (2 * w0 * 2 * d1), b1 = (w1 * w1 - w0 * w0 - 4 * d2) / (2 * w1 * 2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / ;\n      i = function(t) {\n        var s = t * S, coshr0 = d3_cosh(r0), u = w0 / (2 * d1) * (coshr0 * d3_tanh( * s + r0) - d3_sinh(r0));\n        return [ ux0 + u * dx, uy0 + u * dy, w0 * coshr0 / d3_cosh( * s + r0) ];\n      };\n    }\n    i.duration = S * 1e3;\n    return i;\n  };\n  d3.behavior.zoom = function() {\n    var view = {\n      x: 0,\n      y: 0,\n      k: 1\n    }, translate0, center0, center, size = [ 960, 500 ], scaleExtent = d3_behavior_zoomInfinity, duration = 250, zooming = 0, mousedown = \"mousedown.zoom\", mousemove = \"mousemove.zoom\", mouseup = \"mouseup.zoom\", mousewheelTimer, touchstart = \"touchstart.zoom\", touchtime, event = d3_eventDispatch(zoom, \"zoomstart\", \"zoom\", \"zoomend\"), x0, x1, y0, y1;\n    if (!d3_behavior_zoomWheel) {\n      d3_behavior_zoomWheel = \"onwheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n        return -d3.event.deltaY * (d3.event.deltaMode ? 120 : 1);\n      }, \"wheel\") : \"onmousewheel\" in d3_document ? (d3_behavior_zoomDelta = function() {\n        return d3.event.wheelDelta;\n      }, \"mousewheel\") : (d3_behavior_zoomDelta = function() {\n        return -d3.event.detail;\n      }, \"MozMousePixelScroll\");\n    }\n    function zoom(g) {\n      g.on(mousedown, mousedowned).on(d3_behavior_zoomWheel + \".zoom\", mousewheeled).on(\"dblclick.zoom\", dblclicked).on(touchstart, touchstarted);\n    }\n    zoom.event = function(g) {\n      g.each(function() {\n        var dispatch = event.of(this, arguments), view1 = view;\n        if (d3_transitionInheritId) {\n          d3.select(this).transition().each(\"start.zoom\", function() {\n            view = this.__chart__ || {\n              x: 0,\n              y: 0,\n              k: 1\n            };\n            zoomstarted(dispatch);\n          }).tween(\"zoom:zoom\", function() {\n            var dx = size[0], dy = size[1], cx = center0 ? center0[0] : dx / 2, cy = center0 ? center0[1] : dy / 2, i = d3.interpolateZoom([ (cx - view.x) / view.k, (cy - view.y) / view.k, dx / view.k ], [ (cx - view1.x) / view1.k, (cy - view1.y) / view1.k, dx / view1.k ]);\n            return function(t) {\n              var l = i(t), k = dx / l[2];\n              this.__chart__ = view = {\n                x: cx - l[0] * k,\n                y: cy - l[1] * k,\n                k: k\n              };\n              zoomed(dispatch);\n            };\n          }).each(\"interrupt.zoom\", function() {\n            zoomended(dispatch);\n          }).each(\"end.zoom\", function() {\n            zoomended(dispatch);\n          });\n        } else {\n          this.__chart__ = view;\n          zoomstarted(dispatch);\n          zoomed(dispatch);\n          zoomended(dispatch);\n        }\n      });\n    };\n    zoom.translate = function(_) {\n      if (!arguments.length) return [ view.x, view.y ];\n      view = {\n        x: +_[0],\n        y: +_[1],\n        k: view.k\n      };\n      rescale();\n      return zoom;\n    };\n    zoom.scale = function(_) {\n      if (!arguments.length) return view.k;\n      view = {\n        x: view.x,\n        y: view.y,\n        k: null\n      };\n      scaleTo(+_);\n      rescale();\n      return zoom;\n    };\n    zoom.scaleExtent = function(_) {\n      if (!arguments.length) return scaleExtent;\n      scaleExtent = _ == null ? d3_behavior_zoomInfinity : [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.center = function(_) {\n      if (!arguments.length) return center;\n      center = _ && [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.size = function(_) {\n      if (!arguments.length) return size;\n      size = _ && [ +_[0], +_[1] ];\n      return zoom;\n    };\n    zoom.duration = function(_) {\n      if (!arguments.length) return duration;\n      duration = +_;\n      return zoom;\n    };\n    zoom.x = function(z) {\n      if (!arguments.length) return x1;\n      x1 = z;\n      x0 = z.copy();\n      view = {\n        x: 0,\n        y: 0,\n        k: 1\n      };\n      return zoom;\n    };\n    zoom.y = function(z) {\n      if (!arguments.length) return y1;\n      y1 = z;\n      y0 = z.copy();\n      view = {\n        x: 0,\n        y: 0,\n        k: 1\n      };\n      return zoom;\n    };\n    function location(p) {\n      return [ (p[0] - view.x) / view.k, (p[1] - view.y) / view.k ];\n    }\n    function point(l) {\n      return [ l[0] * view.k + view.x, l[1] * view.k + view.y ];\n    }\n    function scaleTo(s) {\n      view.k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], s));\n    }\n    function translateTo(p, l) {\n      l = point(l);\n      view.x += p[0] - l[0];\n      view.y += p[1] - l[1];\n    }\n    function zoomTo(that, p, l, k) {\n      that.__chart__ = {\n        x: view.x,\n        y: view.y,\n        k: view.k\n      };\n      scaleTo(Math.pow(2, k));\n      translateTo(center0 = p, l);\n      that = d3.select(that);\n      if (duration > 0) that = that.transition().duration(duration);\n      that.call(zoom.event);\n    }\n    function rescale() {\n      if (x1) x1.domain(x0.range().map(function(x) {\n        return (x - view.x) / view.k;\n      }).map(x0.invert));\n      if (y1) y1.domain(y0.range().map(function(y) {\n        return (y - view.y) / view.k;\n      }).map(y0.invert));\n    }\n    function zoomstarted(dispatch) {\n      if (!zooming++) dispatch({\n        type: \"zoomstart\"\n      });\n    }\n    function zoomed(dispatch) {\n      rescale();\n      dispatch({\n        type: \"zoom\",\n        scale: view.k,\n        translate: [ view.x, view.y ]\n      });\n    }\n    function zoomended(dispatch) {\n      if (!--zooming) dispatch({\n        type: \"zoomend\"\n      }), center0 = null;\n    }\n    function mousedowned() {\n      var that = this, dispatch = event.of(that, arguments), dragged = 0, subject = d3.select(d3_window(that)).on(mousemove, moved).on(mouseup, ended), location0 = location(d3.mouse(that)), dragRestore = d3_event_dragSuppress(that);\n      d3_selection_interrupt.call(that);\n      zoomstarted(dispatch);\n      function moved() {\n        dragged = 1;\n        translateTo(d3.mouse(that), location0);\n        zoomed(dispatch);\n      }\n      function ended() {\n        subject.on(mousemove, null).on(mouseup, null);\n        dragRestore(dragged);\n        zoomended(dispatch);\n      }\n    }\n    function touchstarted() {\n      var that = this, dispatch = event.of(that, arguments), locations0 = {}, distance0 = 0, scale0, zoomName = \".zoom-\" + d3.event.changedTouches[0].identifier, touchmove = \"touchmove\" + zoomName, touchend = \"touchend\" + zoomName, targets = [], subject = d3.select(that), dragRestore = d3_event_dragSuppress(that);\n      started();\n      zoomstarted(dispatch);\n      subject.on(mousedown, null).on(touchstart, started);\n      function relocate() {\n        var touches = d3.touches(that);\n        scale0 = view.k;\n        touches.forEach(function(t) {\n          if (t.identifier in locations0) locations0[t.identifier] = location(t);\n        });\n        return touches;\n      }\n      function started() {\n        var target = d3.event.target;\n        d3.select(target).on(touchmove, moved).on(touchend, ended);\n        targets.push(target);\n        var changed = d3.event.changedTouches;\n        for (var i = 0, n = changed.length; i < n; ++i) {\n          locations0[changed[i].identifier] = null;\n        }\n        var touches = relocate(), now = Date.now();\n        if (touches.length === 1) {\n          if (now - touchtime < 500) {\n            var p = touches[0];\n            zoomTo(that, p, locations0[p.identifier], Math.floor(Math.log(view.k) / Math.LN2) + 1);\n            d3_eventPreventDefault();\n          }\n          touchtime = now;\n        } else if (touches.length > 1) {\n          var p = touches[0], q = touches[1], dx = p[0] - q[0], dy = p[1] - q[1];\n          distance0 = dx * dx + dy * dy;\n        }\n      }\n      function moved() {\n        var touches = d3.touches(that), p0, l0, p1, l1;\n        d3_selection_interrupt.call(that);\n        for (var i = 0, n = touches.length; i < n; ++i, l1 = null) {\n          p1 = touches[i];\n          if (l1 = locations0[p1.identifier]) {\n            if (l0) break;\n            p0 = p1, l0 = l1;\n          }\n        }\n        if (l1) {\n          var distance1 = (distance1 = p1[0] - p0[0]) * distance1 + (distance1 = p1[1] - p0[1]) * distance1, scale1 = distance0 && Math.sqrt(distance1 / distance0);\n          p0 = [ (p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2 ];\n          l0 = [ (l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2 ];\n          scaleTo(scale1 * scale0);\n        }\n        touchtime = null;\n        translateTo(p0, l0);\n        zoomed(dispatch);\n      }\n      function ended() {\n        if (d3.event.touches.length) {\n          var changed = d3.event.changedTouches;\n          for (var i = 0, n = changed.length; i < n; ++i) {\n            delete locations0[changed[i].identifier];\n          }\n          for (var identifier in locations0) {\n            return void relocate();\n          }\n        }\n        d3.selectAll(targets).on(zoomName, null);\n        subject.on(mousedown, mousedowned).on(touchstart, touchstarted);\n        dragRestore();\n        zoomended(dispatch);\n      }\n    }\n    function mousewheeled() {\n      var dispatch = event.of(this, arguments);\n      if (mousewheelTimer) clearTimeout(mousewheelTimer); else d3_selection_interrupt.call(this), \n      translate0 = location(center0 = center || d3.mouse(this)), zoomstarted(dispatch);\n      mousewheelTimer = setTimeout(function() {\n        mousewheelTimer = null;\n        zoomended(dispatch);\n      }, 50);\n      d3_eventPreventDefault();\n      scaleTo(Math.pow(2, d3_behavior_zoomDelta() * .002) * view.k);\n      translateTo(center0, translate0);\n      zoomed(dispatch);\n    }\n    function dblclicked() {\n      var p = d3.mouse(this), k = Math.log(view.k) / Math.LN2;\n      zoomTo(this, p, location(p), d3.event.shiftKey ? Math.ceil(k) - 1 : Math.floor(k) + 1);\n    }\n    return d3.rebind(zoom, event, \"on\");\n  };\n  var d3_behavior_zoomInfinity = [ 0, Infinity ], d3_behavior_zoomDelta, d3_behavior_zoomWheel;\n  d3.color = d3_color;\n  function d3_color() {}\n  d3_color.prototype.toString = function() {\n    return this.rgb() + \"\";\n  };\n  d3.hsl = d3_hsl;\n  function d3_hsl(h, s, l) {\n    return this instanceof d3_hsl ? void (this.h = +h, this.s = +s, this.l = +l) : arguments.length < 2 ? h instanceof d3_hsl ? new d3_hsl(h.h, h.s, h.l) : d3_rgb_parse(\"\" + h, d3_rgb_hsl, d3_hsl) : new d3_hsl(h, s, l);\n  }\n  var d3_hslPrototype = d3_hsl.prototype = new d3_color();\n  d3_hslPrototype.brighter = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_hsl(this.h, this.s, this.l / k);\n  };\n  d3_hslPrototype.darker = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_hsl(this.h, this.s, k * this.l);\n  };\n  d3_hslPrototype.rgb = function() {\n    return d3_hsl_rgb(this.h, this.s, this.l);\n  };\n  function d3_hsl_rgb(h, s, l) {\n    var m1, m2;\n    h = isNaN(h) ? 0 : (h %= 360) < 0 ? h + 360 : h;\n    s = isNaN(s) ? 0 : s < 0 ? 0 : s > 1 ? 1 : s;\n    l = l < 0 ? 0 : l > 1 ? 1 : l;\n    m2 = l <= .5 ? l * (1 + s) : l + s - l * s;\n    m1 = 2 * l - m2;\n    function v(h) {\n      if (h > 360) h -= 360; else if (h < 0) h += 360;\n      if (h < 60) return m1 + (m2 - m1) * h / 60;\n      if (h < 180) return m2;\n      if (h < 240) return m1 + (m2 - m1) * (240 - h) / 60;\n      return m1;\n    }\n    function vv(h) {\n      return Math.round(v(h) * 255);\n    }\n    return new d3_rgb(vv(h + 120), vv(h), vv(h - 120));\n  }\n  d3.hcl = d3_hcl;\n  function d3_hcl(h, c, l) {\n    return this instanceof d3_hcl ? void (this.h = +h, this.c = +c, this.l = +l) : arguments.length < 2 ? h instanceof d3_hcl ? new d3_hcl(h.h, h.c, h.l) : h instanceof d3_lab ? d3_lab_hcl(h.l, h.a, h.b) : d3_lab_hcl((h = d3_rgb_lab((h = d3.rgb(h)).r, h.g, h.b)).l, h.a, h.b) : new d3_hcl(h, c, l);\n  }\n  var d3_hclPrototype = d3_hcl.prototype = new d3_color();\n  d3_hclPrototype.brighter = function(k) {\n    return new d3_hcl(this.h, this.c, Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)));\n  };\n  d3_hclPrototype.darker = function(k) {\n    return new d3_hcl(this.h, this.c, Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)));\n  };\n  d3_hclPrototype.rgb = function() {\n    return d3_hcl_lab(this.h, this.c, this.l).rgb();\n  };\n  function d3_hcl_lab(h, c, l) {\n    if (isNaN(h)) h = 0;\n    if (isNaN(c)) c = 0;\n    return new d3_lab(l, Math.cos(h *= d3_radians) * c, Math.sin(h) * c);\n  }\n  d3.lab = d3_lab;\n  function d3_lab(l, a, b) {\n    return this instanceof d3_lab ? void (this.l = +l, this.a = +a, this.b = +b) : arguments.length < 2 ? l instanceof d3_lab ? new d3_lab(l.l, l.a, l.b) : l instanceof d3_hcl ? d3_hcl_lab(l.h, l.c, l.l) : d3_rgb_lab((l = d3_rgb(l)).r, l.g, l.b) : new d3_lab(l, a, b);\n  }\n  var d3_lab_K = 18;\n  var d3_lab_X = .95047, d3_lab_Y = 1, d3_lab_Z = 1.08883;\n  var d3_labPrototype = d3_lab.prototype = new d3_color();\n  d3_labPrototype.brighter = function(k) {\n    return new d3_lab(Math.min(100, this.l + d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n  };\n  d3_labPrototype.darker = function(k) {\n    return new d3_lab(Math.max(0, this.l - d3_lab_K * (arguments.length ? k : 1)), this.a, this.b);\n  };\n  d3_labPrototype.rgb = function() {\n    return d3_lab_rgb(this.l, this.a, this.b);\n  };\n  function d3_lab_rgb(l, a, b) {\n    var y = (l + 16) / 116, x = y + a / 500, z = y - b / 200;\n    x = d3_lab_xyz(x) * d3_lab_X;\n    y = d3_lab_xyz(y) * d3_lab_Y;\n    z = d3_lab_xyz(z) * d3_lab_Z;\n    return new d3_rgb(d3_xyz_rgb(3.2404542 * x - 1.5371385 * y - .4985314 * z), d3_xyz_rgb(-.969266 * x + 1.8760108 * y + .041556 * z), d3_xyz_rgb(.0556434 * x - .2040259 * y + 1.0572252 * z));\n  }\n  function d3_lab_hcl(l, a, b) {\n    return l > 0 ? new d3_hcl(Math.atan2(b, a) * d3_degrees, Math.sqrt(a * a + b * b), l) : new d3_hcl(NaN, NaN, l);\n  }\n  function d3_lab_xyz(x) {\n    return x > .206893034 ? x * x * x : (x - 4 / 29) / 7.787037;\n  }\n  function d3_xyz_lab(x) {\n    return x > .008856 ? Math.pow(x, 1 / 3) : 7.787037 * x + 4 / 29;\n  }\n  function d3_xyz_rgb(r) {\n    return Math.round(255 * (r <= .00304 ? 12.92 * r : 1.055 * Math.pow(r, 1 / 2.4) - .055));\n  }\n  d3.rgb = d3_rgb;\n  function d3_rgb(r, g, b) {\n    return this instanceof d3_rgb ? void (this.r = ~~r, this.g = ~~g, this.b = ~~b) : arguments.length < 2 ? r instanceof d3_rgb ? new d3_rgb(r.r, r.g, r.b) : d3_rgb_parse(\"\" + r, d3_rgb, d3_hsl_rgb) : new d3_rgb(r, g, b);\n  }\n  function d3_rgbNumber(value) {\n    return new d3_rgb(value >> 16, value >> 8 & 255, value & 255);\n  }\n  function d3_rgbString(value) {\n    return d3_rgbNumber(value) + \"\";\n  }\n  var d3_rgbPrototype = d3_rgb.prototype = new d3_color();\n  d3_rgbPrototype.brighter = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    var r = this.r, g = this.g, b = this.b, i = 30;\n    if (!r && !g && !b) return new d3_rgb(i, i, i);\n    if (r && r < i) r = i;\n    if (g && g < i) g = i;\n    if (b && b < i) b = i;\n    return new d3_rgb(Math.min(255, r / k), Math.min(255, g / k), Math.min(255, b / k));\n  };\n  d3_rgbPrototype.darker = function(k) {\n    k = Math.pow(.7, arguments.length ? k : 1);\n    return new d3_rgb(k * this.r, k * this.g, k * this.b);\n  };\n  d3_rgbPrototype.hsl = function() {\n    return d3_rgb_hsl(this.r, this.g, this.b);\n  };\n  d3_rgbPrototype.toString = function() {\n    return \"#\" + d3_rgb_hex(this.r) + d3_rgb_hex(this.g) + d3_rgb_hex(this.b);\n  };\n  function d3_rgb_hex(v) {\n    return v < 16 ? \"0\" + Math.max(0, v).toString(16) : Math.min(255, v).toString(16);\n  }\n  function d3_rgb_parse(format, rgb, hsl) {\n    var r = 0, g = 0, b = 0, m1, m2, color;\n    m1 = /([a-z]+)\\((.*)\\)/.exec(format = format.toLowerCase());\n    if (m1) {\n      m2 = m1[2].split(\",\");\n      switch (m1[1]) {\n       case \"hsl\":\n        {\n          return hsl(parseFloat(m2[0]), parseFloat(m2[1]) / 100, parseFloat(m2[2]) / 100);\n        }\n\n       case \"rgb\":\n        {\n          return rgb(d3_rgb_parseNumber(m2[0]), d3_rgb_parseNumber(m2[1]), d3_rgb_parseNumber(m2[2]));\n        }\n      }\n    }\n    if (color = d3_rgb_names.get(format)) {\n      return rgb(color.r, color.g, color.b);\n    }\n    if (format != null && format.charAt(0) === \"#\" && !isNaN(color = parseInt(format.slice(1), 16))) {\n      if (format.length === 4) {\n        r = (color & 3840) >> 4;\n        r = r >> 4 | r;\n        g = color & 240;\n        g = g >> 4 | g;\n        b = color & 15;\n        b = b << 4 | b;\n      } else if (format.length === 7) {\n        r = (color & 16711680) >> 16;\n        g = (color & 65280) >> 8;\n        b = color & 255;\n      }\n    }\n    return rgb(r, g, b);\n  }\n  function d3_rgb_hsl(r, g, b) {\n    var min = Math.min(r /= 255, g /= 255, b /= 255), max = Math.max(r, g, b), d = max - min, h, s, l = (max + min) / 2;\n    if (d) {\n      s = l < .5 ? d / (max + min) : d / (2 - max - min);\n      if (r == max) h = (g - b) / d + (g < b ? 6 : 0); else if (g == max) h = (b - r) / d + 2; else h = (r - g) / d + 4;\n      h *= 60;\n    } else {\n      h = NaN;\n      s = l > 0 && l < 1 ? 0 : h;\n    }\n    return new d3_hsl(h, s, l);\n  }\n  function d3_rgb_lab(r, g, b) {\n    r = d3_rgb_xyz(r);\n    g = d3_rgb_xyz(g);\n    b = d3_rgb_xyz(b);\n    var x = d3_xyz_lab((.4124564 * r + .3575761 * g + .1804375 * b) / d3_lab_X), y = d3_xyz_lab((.2126729 * r + .7151522 * g + .072175 * b) / d3_lab_Y), z = d3_xyz_lab((.0193339 * r + .119192 * g + .9503041 * b) / d3_lab_Z);\n    return d3_lab(116 * y - 16, 500 * (x - y), 200 * (y - z));\n  }\n  function d3_rgb_xyz(r) {\n    return (r /= 255) <= .04045 ? r / 12.92 : Math.pow((r + .055) / 1.055, 2.4);\n  }\n  function d3_rgb_parseNumber(c) {\n    var f = parseFloat(c);\n    return c.charAt(c.length - 1) === \"%\" ? Math.round(f * 2.55) : f;\n  }\n  var d3_rgb_names = d3.map({\n    aliceblue: 15792383,\n    antiquewhite: 16444375,\n    aqua: 65535,\n    aquamarine: 8388564,\n    azure: 15794175,\n    beige: 16119260,\n    bisque: 16770244,\n    black: 0,\n    blanchedalmond: 16772045,\n    blue: 255,\n    blueviolet: 9055202,\n    brown: 10824234,\n    burlywood: 14596231,\n    cadetblue: 6266528,\n    chartreuse: 8388352,\n    chocolate: 13789470,\n    coral: 16744272,\n    cornflowerblue: 6591981,\n    cornsilk: 16775388,\n    crimson: 14423100,\n    cyan: 65535,\n    darkblue: 139,\n    darkcyan: 35723,\n    darkgoldenrod: 12092939,\n    darkgray: 11119017,\n    darkgreen: 25600,\n    darkgrey: 11119017,\n    darkkhaki: 12433259,\n    darkmagenta: 9109643,\n    darkolivegreen: 5597999,\n    darkorange: 16747520,\n    darkorchid: 10040012,\n    darkred: 9109504,\n    darksalmon: 15308410,\n    darkseagreen: 9419919,\n    darkslateblue: 4734347,\n    darkslategray: 3100495,\n    darkslategrey: 3100495,\n    darkturquoise: 52945,\n    darkviolet: 9699539,\n    deeppink: 16716947,\n    deepskyblue: 49151,\n    dimgray: 6908265,\n    dimgrey: 6908265,\n    dodgerblue: 2003199,\n    firebrick: 11674146,\n    floralwhite: 16775920,\n    forestgreen: 2263842,\n    fuchsia: 16711935,\n    gainsboro: 14474460,\n    ghostwhite: 16316671,\n    gold: 16766720,\n    goldenrod: 14329120,\n    gray: 8421504,\n    green: 32768,\n    greenyellow: 11403055,\n    grey: 8421504,\n    honeydew: 15794160,\n    hotpink: 16738740,\n    indianred: 13458524,\n    indigo: 4915330,\n    ivory: 16777200,\n    khaki: 15787660,\n    lavender: 15132410,\n    lavenderblush: 16773365,\n    lawngreen: 8190976,\n    lemonchiffon: 16775885,\n    lightblue: 11393254,\n    lightcoral: 15761536,\n    lightcyan: 14745599,\n    lightgoldenrodyellow: 16448210,\n    lightgray: 13882323,\n    lightgreen: 9498256,\n    lightgrey: 13882323,\n    lightpink: 16758465,\n    lightsalmon: 16752762,\n    lightseagreen: 2142890,\n    lightskyblue: 8900346,\n    lightslategray: 7833753,\n    lightslategrey: 7833753,\n    lightsteelblue: 11584734,\n    lightyellow: 16777184,\n    lime: 65280,\n    limegreen: 3329330,\n    linen: 16445670,\n    magenta: 16711935,\n    maroon: 8388608,\n    mediumaquamarine: 6737322,\n    mediumblue: 205,\n    mediumorchid: 12211667,\n    mediumpurple: 9662683,\n    mediumseagreen: 3978097,\n    mediumslateblue: 8087790,\n    mediumspringgreen: 64154,\n    mediumturquoise: 4772300,\n    mediumvioletred: 13047173,\n    midnightblue: 1644912,\n    mintcream: 16121850,\n    mistyrose: 16770273,\n    moccasin: 16770229,\n    navajowhite: 16768685,\n    navy: 128,\n    oldlace: 16643558,\n    olive: 8421376,\n    olivedrab: 7048739,\n    orange: 16753920,\n    orangered: 16729344,\n    orchid: 14315734,\n    palegoldenrod: 15657130,\n    palegreen: 10025880,\n    paleturquoise: 11529966,\n    palevioletred: 14381203,\n    papayawhip: 16773077,\n    peachpuff: 16767673,\n    peru: 13468991,\n    pink: 16761035,\n    plum: 14524637,\n    powderblue: 11591910,\n    purple: 8388736,\n    rebeccapurple: 6697881,\n    red: 16711680,\n    rosybrown: 12357519,\n    royalblue: 4286945,\n    saddlebrown: 9127187,\n    salmon: 16416882,\n    sandybrown: 16032864,\n    seagreen: 3050327,\n    seashell: 16774638,\n    sienna: 10506797,\n    silver: 12632256,\n    skyblue: 8900331,\n    slateblue: 6970061,\n    slategray: 7372944,\n    slategrey: 7372944,\n    snow: 16775930,\n    springgreen: 65407,\n    steelblue: 4620980,\n    tan: 13808780,\n    teal: 32896,\n    thistle: 14204888,\n    tomato: 16737095,\n    turquoise: 4251856,\n    violet: 15631086,\n    wheat: 16113331,\n    white: 16777215,\n    whitesmoke: 16119285,\n    yellow: 16776960,\n    yellowgreen: 10145074\n  });\n  d3_rgb_names.forEach(function(key, value) {\n    d3_rgb_names.set(key, d3_rgbNumber(value));\n  });\n  function d3_functor(v) {\n    return typeof v === \"function\" ? v : function() {\n      return v;\n    };\n  }\n  d3.functor = d3_functor;\n  d3.xhr = d3_xhrType(d3_identity);\n  function d3_xhrType(response) {\n    return function(url, mimeType, callback) {\n      if (arguments.length === 2 && typeof mimeType === \"function\") callback = mimeType, \n      mimeType = null;\n      return d3_xhr(url, mimeType, response, callback);\n    };\n  }\n  function d3_xhr(url, mimeType, response, callback) {\n    var xhr = {}, dispatch = d3.dispatch(\"beforesend\", \"progress\", \"load\", \"error\"), headers = {}, request = new XMLHttpRequest(), responseType = null;\n    if (this.XDomainRequest && !(\"withCredentials\" in request) && /^(http(s)?:)?\\/\\//.test(url)) request = new XDomainRequest();\n    \"onload\" in request ? request.onload = request.onerror = respond : request.onreadystatechange = function() {\n      request.readyState > 3 && respond();\n    };\n    function respond() {\n      var status = request.status, result;\n      if (!status && d3_xhrHasResponse(request) || status >= 200 && status < 300 || status === 304) {\n        try {\n          result = response.call(xhr, request);\n        } catch (e) {\n          dispatch.error.call(xhr, e);\n          return;\n        }\n        dispatch.load.call(xhr, result);\n      } else {\n        dispatch.error.call(xhr, request);\n      }\n    }\n    request.onprogress = function(event) {\n      var o = d3.event;\n      d3.event = event;\n      try {\n        dispatch.progress.call(xhr, request);\n      } finally {\n        d3.event = o;\n      }\n    };\n    xhr.header = function(name, value) {\n      name = (name + \"\").toLowerCase();\n      if (arguments.length < 2) return headers[name];\n      if (value == null) delete headers[name]; else headers[name] = value + \"\";\n      return xhr;\n    };\n    xhr.mimeType = function(value) {\n      if (!arguments.length) return mimeType;\n      mimeType = value == null ? null : value + \"\";\n      return xhr;\n    };\n    xhr.responseType = function(value) {\n      if (!arguments.length) return responseType;\n      responseType = value;\n      return xhr;\n    };\n    xhr.response = function(value) {\n      response = value;\n      return xhr;\n    };\n    [ \"get\", \"post\" ].forEach(function(method) {\n      xhr[method] = function() {\n        return xhr.send.apply(xhr, [ method ].concat(d3_array(arguments)));\n      };\n    });\n    xhr.send = function(method, data, callback) {\n      if (arguments.length === 2 && typeof data === \"function\") callback = data, data = null;\n      request.open(method, url, true);\n      if (mimeType != null && !(\"accept\" in headers)) headers[\"accept\"] = mimeType + \",*/*\";\n      if (request.setRequestHeader) for (var name in headers) request.setRequestHeader(name, headers[name]);\n      if (mimeType != null && request.overrideMimeType) request.overrideMimeType(mimeType);\n      if (responseType != null) request.responseType = responseType;\n      if (callback != null) xhr.on(\"error\", callback).on(\"load\", function(request) {\n        callback(null, request);\n      });\n      dispatch.beforesend.call(xhr, request);\n      request.send(data == null ? null : data);\n      return xhr;\n    };\n    xhr.abort = function() {\n      request.abort();\n      return xhr;\n    };\n    d3.rebind(xhr, dispatch, \"on\");\n    return callback == null ? xhr : xhr.get(d3_xhr_fixCallback(callback));\n  }\n  function d3_xhr_fixCallback(callback) {\n    return callback.length === 1 ? function(error, request) {\n      callback(error == null ? request : null);\n    } : callback;\n  }\n  function d3_xhrHasResponse(request) {\n    var type = request.responseType;\n    return type && type !== \"text\" ? request.response : request.responseText;\n  }\n  d3.dsv = function(delimiter, mimeType) {\n    var reFormat = new RegExp('[\"' + delimiter + \"\\n]\"), delimiterCode = delimiter.charCodeAt(0);\n    function dsv(url, row, callback) {\n      if (arguments.length < 3) callback = row, row = null;\n      var xhr = d3_xhr(url, mimeType, row == null ? response : typedResponse(row), callback);\n      xhr.row = function(_) {\n        return arguments.length ? xhr.response((row = _) == null ? response : typedResponse(_)) : row;\n      };\n      return xhr;\n    }\n    function response(request) {\n      return dsv.parse(request.responseText);\n    }\n    function typedResponse(f) {\n      return function(request) {\n        return dsv.parse(request.responseText, f);\n      };\n    }\n    dsv.parse = function(text, f) {\n      var o;\n      return dsv.parseRows(text, function(row, i) {\n        if (o) return o(row, i - 1);\n        var a = new Function(\"d\", \"return {\" + row.map(function(name, i) {\n          return JSON.stringify(name) + \": d[\" + i + \"]\";\n        }).join(\",\") + \"}\");\n        o = f ? function(row, i) {\n          return f(a(row), i);\n        } : a;\n      });\n    };\n    dsv.parseRows = function(text, f) {\n      var EOL = {}, EOF = {}, rows = [], N = text.length, I = 0, n = 0, t, eol;\n      function token() {\n        if (I >= N) return EOF;\n        if (eol) return eol = false, EOL;\n        var j = I;\n        if (text.charCodeAt(j) === 34) {\n          var i = j;\n          while (i++ < N) {\n            if (text.charCodeAt(i) === 34) {\n              if (text.charCodeAt(i + 1) !== 34) break;\n              ++i;\n            }\n          }\n          I = i + 2;\n          var c = text.charCodeAt(i + 1);\n          if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(i + 2) === 10) ++I;\n          } else if (c === 10) {\n            eol = true;\n          }\n          return text.slice(j + 1, i).replace(/\"\"/g, '\"');\n        }\n        while (I < N) {\n          var c = text.charCodeAt(I++), k = 1;\n          if (c === 10) eol = true; else if (c === 13) {\n            eol = true;\n            if (text.charCodeAt(I) === 10) ++I, ++k;\n          } else if (c !== delimiterCode) continue;\n          return text.slice(j, I - k);\n        }\n        return text.slice(j);\n      }\n      while ((t = token()) !== EOF) {\n        var a = [];\n        while (t !== EOL && t !== EOF) {\n          a.push(t);\n          t = token();\n        }\n        if (f && (a = f(a, n++)) == null) continue;\n        rows.push(a);\n      }\n      return rows;\n    };\n    dsv.format = function(rows) {\n      if (Array.isArray(rows[0])) return dsv.formatRows(rows);\n      var fieldSet = new d3_Set(), fields = [];\n      rows.forEach(function(row) {\n        for (var field in row) {\n          if (!fieldSet.has(field)) {\n            fields.push(fieldSet.add(field));\n          }\n        }\n      });\n      return [ fields.map(formatValue).join(delimiter) ].concat(rows.map(function(row) {\n        return fields.map(function(field) {\n          return formatValue(row[field]);\n        }).join(delimiter);\n      })).join(\"\\n\");\n    };\n    dsv.formatRows = function(rows) {\n      return rows.map(formatRow).join(\"\\n\");\n    };\n    function formatRow(row) {\n      return row.map(formatValue).join(delimiter);\n    }\n    function formatValue(text) {\n      return reFormat.test(text) ? '\"' + text.replace(/\\\"/g, '\"\"') + '\"' : text;\n    }\n    return dsv;\n  };\n  d3.csv = d3.dsv(\",\", \"text/csv\");\n  d3.tsv = d3.dsv(\"\t\", \"text/tab-separated-values\");\n  var d3_timer_queueHead, d3_timer_queueTail, d3_timer_interval, d3_timer_timeout, d3_timer_frame = this[d3_vendorSymbol(this, \"requestAnimationFrame\")] || function(callback) {\n    setTimeout(callback, 17);\n  };\n  d3.timer = function() {\n    d3_timer.apply(this, arguments);\n  };\n  function d3_timer(callback, delay, then) {\n    var n = arguments.length;\n    if (n < 2) delay = 0;\n    if (n < 3) then = Date.now();\n    var time = then + delay, timer = {\n      c: callback,\n      t: time,\n      n: null\n    };\n    if (d3_timer_queueTail) d3_timer_queueTail.n = timer; else d3_timer_queueHead = timer;\n    d3_timer_queueTail = timer;\n    if (!d3_timer_interval) {\n      d3_timer_timeout = clearTimeout(d3_timer_timeout);\n      d3_timer_interval = 1;\n      d3_timer_frame(d3_timer_step);\n    }\n    return timer;\n  }\n  function d3_timer_step() {\n    var now = d3_timer_mark(), delay = d3_timer_sweep() - now;\n    if (delay > 24) {\n      if (isFinite(delay)) {\n        clearTimeout(d3_timer_timeout);\n        d3_timer_timeout = setTimeout(d3_timer_step, delay);\n      }\n      d3_timer_interval = 0;\n    } else {\n      d3_timer_interval = 1;\n      d3_timer_frame(d3_timer_step);\n    }\n  }\n  d3.timer.flush = function() {\n    d3_timer_mark();\n    d3_timer_sweep();\n  };\n  function d3_timer_mark() {\n    var now = Date.now(), timer = d3_timer_queueHead;\n    while (timer) {\n      if (now >= timer.t && timer.c(now - timer.t)) timer.c = null;\n      timer = timer.n;\n    }\n    return now;\n  }\n  function d3_timer_sweep() {\n    var t0, t1 = d3_timer_queueHead, time = Infinity;\n    while (t1) {\n      if (t1.c) {\n        if (t1.t < time) time = t1.t;\n        t1 = (t0 = t1).n;\n      } else {\n        t1 = t0 ? t0.n = t1.n : d3_timer_queueHead = t1.n;\n      }\n    }\n    d3_timer_queueTail = t0;\n    return time;\n  }\n  function d3_format_precision(x, p) {\n    return p - (x ? Math.ceil(Math.log(x) / Math.LN10) : 1);\n  }\n  d3.round = function(x, n) {\n    return n ? Math.round(x * (n = Math.pow(10, n))) / n : Math.round(x);\n  };\n  var d3_formatPrefixes = [ \"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\" ].map(d3_formatPrefix);\n  d3.formatPrefix = function(value, precision) {\n    var i = 0;\n    if (value = +value) {\n      if (value < 0) value *= -1;\n      if (precision) value = d3.round(value, d3_format_precision(value, precision));\n      i = 1 + Math.floor(1e-12 + Math.log(value) / Math.LN10);\n      i = Math.max(-24, Math.min(24, Math.floor((i - 1) / 3) * 3));\n    }\n    return d3_formatPrefixes[8 + i / 3];\n  };\n  function d3_formatPrefix(d, i) {\n    var k = Math.pow(10, abs(8 - i) * 3);\n    return {\n      scale: i > 8 ? function(d) {\n        return d / k;\n      } : function(d) {\n        return d * k;\n      },\n      symbol: d\n    };\n  }\n  function d3_locale_numberFormat(locale) {\n    var locale_decimal = locale.decimal, locale_thousands = locale.thousands, locale_grouping = locale.grouping, locale_currency = locale.currency, formatGroup = locale_grouping && locale_thousands ? function(value, width) {\n      var i = value.length, t = [], j = 0, g = locale_grouping[0], length = 0;\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = locale_grouping[j = (j + 1) % locale_grouping.length];\n      }\n      return t.reverse().join(locale_thousands);\n    } : d3_identity;\n    return function(specifier) {\n      var match = d3_format_re.exec(specifier), fill = match[1] || \" \", align = match[2] || \">\", sign = match[3] || \"-\", symbol = match[4] || \"\", zfill = match[5], width = +match[6], comma = match[7], precision = match[8], type = match[9], scale = 1, prefix = \"\", suffix = \"\", integer = false, exponent = true;\n      if (precision) precision = +precision.substring(1);\n      if (zfill || fill === \"0\" && align === \"=\") {\n        zfill = fill = \"0\";\n        align = \"=\";\n      }\n      switch (type) {\n       case \"n\":\n        comma = true;\n        type = \"g\";\n        break;\n\n       case \"%\":\n        scale = 100;\n        suffix = \"%\";\n        type = \"f\";\n        break;\n\n       case \"p\":\n        scale = 100;\n        suffix = \"%\";\n        type = \"r\";\n        break;\n\n       case \"b\":\n       case \"o\":\n       case \"x\":\n       case \"X\":\n        if (symbol === \"#\") prefix = \"0\" + type.toLowerCase();\n\n       case \"c\":\n        exponent = false;\n\n       case \"d\":\n        integer = true;\n        precision = 0;\n        break;\n\n       case \"s\":\n        scale = -1;\n        type = \"r\";\n        break;\n      }\n      if (symbol === \"$\") prefix = locale_currency[0], suffix = locale_currency[1];\n      if (type == \"r\" && !precision) type = \"g\";\n      if (precision != null) {\n        if (type == \"g\") precision = Math.max(1, Math.min(21, precision)); else if (type == \"e\" || type == \"f\") precision = Math.max(0, Math.min(20, precision));\n      }\n      type = d3_format_types.get(type) || d3_format_typeDefault;\n      var zcomma = zfill && comma;\n      return function(value) {\n        var fullSuffix = suffix;\n        if (integer && value % 1) return \"\";\n        var negative = value < 0 || value === 0 && 1 / value < 0 ? (value = -value, \"-\") : sign === \"-\" ? \"\" : sign;\n        if (scale < 0) {\n          var unit = d3.formatPrefix(value, precision);\n          value = unit.scale(value);\n          fullSuffix = unit.symbol + suffix;\n        } else {\n          value *= scale;\n        }\n        value = type(value, precision);\n        var i = value.lastIndexOf(\".\"), before, after;\n        if (i < 0) {\n          var j = exponent ? value.lastIndexOf(\"e\") : -1;\n          if (j < 0) before = value, after = \"\"; else before = value.substring(0, j), after = value.substring(j);\n        } else {\n          before = value.substring(0, i);\n          after = locale_decimal + value.substring(i + 1);\n        }\n        if (!zfill && comma) before = formatGroup(before, Infinity);\n        var length = prefix.length + before.length + after.length + (zcomma ? 0 : negative.length), padding = length < width ? new Array(length = width - length + 1).join(fill) : \"\";\n        if (zcomma) before = formatGroup(padding + before, padding.length ? width - after.length : Infinity);\n        negative += prefix;\n        value = before + after;\n        return (align === \"<\" ? negative + value + padding : align === \">\" ? padding + negative + value : align === \"^\" ? padding.substring(0, length >>= 1) + negative + value + padding.substring(length) : negative + (zcomma ? value : padding + value)) + fullSuffix;\n      };\n    };\n  }\n  var d3_format_re = /(?:([^{])?([<>=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i;\n  var d3_format_types = d3.map({\n    b: function(x) {\n      return x.toString(2);\n    },\n    c: function(x) {\n      return String.fromCharCode(x);\n    },\n    o: function(x) {\n      return x.toString(8);\n    },\n    x: function(x) {\n      return x.toString(16);\n    },\n    X: function(x) {\n      return x.toString(16).toUpperCase();\n    },\n    g: function(x, p) {\n      return x.toPrecision(p);\n    },\n    e: function(x, p) {\n      return x.toExponential(p);\n    },\n    f: function(x, p) {\n      return x.toFixed(p);\n    },\n    r: function(x, p) {\n      return (x = d3.round(x, d3_format_precision(x, p))).toFixed(Math.max(0, Math.min(20, d3_format_precision(x * (1 + 1e-15), p))));\n    }\n  });\n  function d3_format_typeDefault(x) {\n    return x + \"\";\n  }\n  var d3_time = d3.time = {}, d3_date = Date;\n  function d3_date_utc() {\n    this._ = new Date(arguments.length > 1 ? Date.UTC.apply(this, arguments) : arguments[0]);\n  }\n  d3_date_utc.prototype = {\n    getDate: function() {\n      return this._.getUTCDate();\n    },\n    getDay: function() {\n      return this._.getUTCDay();\n    },\n    getFullYear: function() {\n      return this._.getUTCFullYear();\n    },\n    getHours: function() {\n      return this._.getUTCHours();\n    },\n    getMilliseconds: function() {\n      return this._.getUTCMilliseconds();\n    },\n    getMinutes: function() {\n      return this._.getUTCMinutes();\n    },\n    getMonth: function() {\n      return this._.getUTCMonth();\n    },\n    getSeconds: function() {\n      return this._.getUTCSeconds();\n    },\n    getTime: function() {\n      return this._.getTime();\n    },\n    getTimezoneOffset: function() {\n      return 0;\n    },\n    valueOf: function() {\n      return this._.valueOf();\n    },\n    setDate: function() {\n      d3_time_prototype.setUTCDate.apply(this._, arguments);\n    },\n    setDay: function() {\n      d3_time_prototype.setUTCDay.apply(this._, arguments);\n    },\n    setFullYear: function() {\n      d3_time_prototype.setUTCFullYear.apply(this._, arguments);\n    },\n    setHours: function() {\n      d3_time_prototype.setUTCHours.apply(this._, arguments);\n    },\n    setMilliseconds: function() {\n      d3_time_prototype.setUTCMilliseconds.apply(this._, arguments);\n    },\n    setMinutes: function() {\n      d3_time_prototype.setUTCMinutes.apply(this._, arguments);\n    },\n    setMonth: function() {\n      d3_time_prototype.setUTCMonth.apply(this._, arguments);\n    },\n    setSeconds: function() {\n      d3_time_prototype.setUTCSeconds.apply(this._, arguments);\n    },\n    setTime: function() {\n      d3_time_prototype.setTime.apply(this._, arguments);\n    }\n  };\n  var d3_time_prototype = Date.prototype;\n  function d3_time_interval(local, step, number) {\n    function round(date) {\n      var d0 = local(date), d1 = offset(d0, 1);\n      return date - d0 < d1 - date ? d0 : d1;\n    }\n    function ceil(date) {\n      step(date = local(new d3_date(date - 1)), 1);\n      return date;\n    }\n    function offset(date, k) {\n      step(date = new d3_date(+date), k);\n      return date;\n    }\n    function range(t0, t1, dt) {\n      var time = ceil(t0), times = [];\n      if (dt > 1) {\n        while (time < t1) {\n          if (!(number(time) % dt)) times.push(new Date(+time));\n          step(time, 1);\n        }\n      } else {\n        while (time < t1) times.push(new Date(+time)), step(time, 1);\n      }\n      return times;\n    }\n    function range_utc(t0, t1, dt) {\n      try {\n        d3_date = d3_date_utc;\n        var utc = new d3_date_utc();\n        utc._ = t0;\n        return range(utc, t1, dt);\n      } finally {\n        d3_date = Date;\n      }\n    }\n    local.floor = local;\n    local.round = round;\n    local.ceil = ceil;\n    local.offset = offset;\n    local.range = range;\n    var utc = local.utc = d3_time_interval_utc(local);\n    utc.floor = utc;\n    utc.round = d3_time_interval_utc(round);\n    utc.ceil = d3_time_interval_utc(ceil);\n    utc.offset = d3_time_interval_utc(offset);\n    utc.range = range_utc;\n    return local;\n  }\n  function d3_time_interval_utc(method) {\n    return function(date, k) {\n      try {\n        d3_date = d3_date_utc;\n        var utc = new d3_date_utc();\n        utc._ = date;\n        return method(utc, k)._;\n      } finally {\n        d3_date = Date;\n      }\n    };\n  }\n  d3_time.year = d3_time_interval(function(date) {\n    date = d3_time.day(date);\n    date.setMonth(0, 1);\n    return date;\n  }, function(date, offset) {\n    date.setFullYear(date.getFullYear() + offset);\n  }, function(date) {\n    return date.getFullYear();\n  });\n  d3_time.years = d3_time.year.range;\n  d3_time.years.utc = d3_time.year.utc.range;\n  d3_time.day = d3_time_interval(function(date) {\n    var day = new d3_date(2e3, 0);\n    day.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n    return day;\n  }, function(date, offset) {\n    date.setDate(date.getDate() + offset);\n  }, function(date) {\n    return date.getDate() - 1;\n  });\n  d3_time.days = d3_time.day.range;\n  d3_time.days.utc = d3_time.day.utc.range;\n  d3_time.dayOfYear = function(date) {\n    var year = d3_time.year(date);\n    return Math.floor((date - year - (date.getTimezoneOffset() - year.getTimezoneOffset()) * 6e4) / 864e5);\n  };\n  [ \"sunday\", \"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\", \"saturday\" ].forEach(function(day, i) {\n    i = 7 - i;\n    var interval = d3_time[day] = d3_time_interval(function(date) {\n      (date = d3_time.day(date)).setDate(date.getDate() - (date.getDay() + i) % 7);\n      return date;\n    }, function(date, offset) {\n      date.setDate(date.getDate() + Math.floor(offset) * 7);\n    }, function(date) {\n      var day = d3_time.year(date).getDay();\n      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7) - (day !== i);\n    });\n    d3_time[day + \"s\"] = interval.range;\n    d3_time[day + \"s\"].utc = interval.utc.range;\n    d3_time[day + \"OfYear\"] = function(date) {\n      var day = d3_time.year(date).getDay();\n      return Math.floor((d3_time.dayOfYear(date) + (day + i) % 7) / 7);\n    };\n  });\n  d3_time.week = d3_time.sunday;\n  d3_time.weeks = d3_time.sunday.range;\n  d3_time.weeks.utc = d3_time.sunday.utc.range;\n  d3_time.weekOfYear = d3_time.sundayOfYear;\n  function d3_locale_timeFormat(locale) {\n    var locale_dateTime = locale.dateTime, locale_date = locale.date, locale_time = locale.time, locale_periods = locale.periods, locale_days = locale.days, locale_shortDays = locale.shortDays, locale_months = locale.months, locale_shortMonths = locale.shortMonths;\n    function d3_time_format(template) {\n      var n = template.length;\n      function format(date) {\n        var string = [], i = -1, j = 0, c, p, f;\n        while (++i < n) {\n          if (template.charCodeAt(i) === 37) {\n            string.push(template.slice(j, i));\n            if ((p = d3_time_formatPads[c = template.charAt(++i)]) != null) c = template.charAt(++i);\n            if (f = d3_time_formats[c]) c = f(date, p == null ? c === \"e\" ? \" \" : \"0\" : p);\n            string.push(c);\n            j = i + 1;\n          }\n        }\n        string.push(template.slice(j, i));\n        return string.join(\"\");\n      }\n      format.parse = function(string) {\n        var d = {\n          y: 1900,\n          m: 0,\n          d: 1,\n          H: 0,\n          M: 0,\n          S: 0,\n          L: 0,\n          Z: null\n        }, i = d3_time_parse(d, template, string, 0);\n        if (i != string.length) return null;\n        if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n        var localZ = d.Z != null && d3_date !== d3_date_utc, date = new (localZ ? d3_date_utc : d3_date)();\n        if (\"j\" in d) date.setFullYear(d.y, 0, d.j); else if (\"W\" in d || \"U\" in d) {\n          if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n          date.setFullYear(d.y, 0, 1);\n          date.setFullYear(d.y, 0, \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (date.getDay() + 5) % 7 : d.w + d.U * 7 - (date.getDay() + 6) % 7);\n        } else date.setFullYear(d.y, d.m, d.d);\n        date.setHours(d.H + (d.Z / 100 | 0), d.M + d.Z % 100, d.S, d.L);\n        return localZ ? date._ : date;\n      };\n      format.toString = function() {\n        return template;\n      };\n      return format;\n    }\n    function d3_time_parse(date, template, string, j) {\n      var c, p, t, i = 0, n = template.length, m = string.length;\n      while (i < n) {\n        if (j >= m) return -1;\n        c = template.charCodeAt(i++);\n        if (c === 37) {\n          t = template.charAt(i++);\n          p = d3_time_parsers[t in d3_time_formatPads ? template.charAt(i++) : t];\n          if (!p || (j = p(date, string, j)) < 0) return -1;\n        } else if (c != string.charCodeAt(j++)) {\n          return -1;\n        }\n      }\n      return j;\n    }\n    d3_time_format.utc = function(template) {\n      var local = d3_time_format(template);\n      function format(date) {\n        try {\n          d3_date = d3_date_utc;\n          var utc = new d3_date();\n          utc._ = date;\n          return local(utc);\n        } finally {\n          d3_date = Date;\n        }\n      }\n      format.parse = function(string) {\n        try {\n          d3_date = d3_date_utc;\n          var date = local.parse(string);\n          return date && date._;\n        } finally {\n          d3_date = Date;\n        }\n      };\n      format.toString = local.toString;\n      return format;\n    };\n    d3_time_format.multi = d3_time_format.utc.multi = d3_time_formatMulti;\n    var d3_time_periodLookup = d3.map(), d3_time_dayRe = d3_time_formatRe(locale_days), d3_time_dayLookup = d3_time_formatLookup(locale_days), d3_time_dayAbbrevRe = d3_time_formatRe(locale_shortDays), d3_time_dayAbbrevLookup = d3_time_formatLookup(locale_shortDays), d3_time_monthRe = d3_time_formatRe(locale_months), d3_time_monthLookup = d3_time_formatLookup(locale_months), d3_time_monthAbbrevRe = d3_time_formatRe(locale_shortMonths), d3_time_monthAbbrevLookup = d3_time_formatLookup(locale_shortMonths);\n    locale_periods.forEach(function(p, i) {\n      d3_time_periodLookup.set(p.toLowerCase(), i);\n    });\n    var d3_time_formats = {\n      a: function(d) {\n        return locale_shortDays[d.getDay()];\n      },\n      A: function(d) {\n        return locale_days[d.getDay()];\n      },\n      b: function(d) {\n        return locale_shortMonths[d.getMonth()];\n      },\n      B: function(d) {\n        return locale_months[d.getMonth()];\n      },\n      c: d3_time_format(locale_dateTime),\n      d: function(d, p) {\n        return d3_time_formatPad(d.getDate(), p, 2);\n      },\n      e: function(d, p) {\n        return d3_time_formatPad(d.getDate(), p, 2);\n      },\n      H: function(d, p) {\n        return d3_time_formatPad(d.getHours(), p, 2);\n      },\n      I: function(d, p) {\n        return d3_time_formatPad(d.getHours() % 12 || 12, p, 2);\n      },\n      j: function(d, p) {\n        return d3_time_formatPad(1 + d3_time.dayOfYear(d), p, 3);\n      },\n      L: function(d, p) {\n        return d3_time_formatPad(d.getMilliseconds(), p, 3);\n      },\n      m: function(d, p) {\n        return d3_time_formatPad(d.getMonth() + 1, p, 2);\n      },\n      M: function(d, p) {\n        return d3_time_formatPad(d.getMinutes(), p, 2);\n      },\n      p: function(d) {\n        return locale_periods[+(d.getHours() >= 12)];\n      },\n      S: function(d, p) {\n        return d3_time_formatPad(d.getSeconds(), p, 2);\n      },\n      U: function(d, p) {\n        return d3_time_formatPad(d3_time.sundayOfYear(d), p, 2);\n      },\n      w: function(d) {\n        return d.getDay();\n      },\n      W: function(d, p) {\n        return d3_time_formatPad(d3_time.mondayOfYear(d), p, 2);\n      },\n      x: d3_time_format(locale_date),\n      X: d3_time_format(locale_time),\n      y: function(d, p) {\n        return d3_time_formatPad(d.getFullYear() % 100, p, 2);\n      },\n      Y: function(d, p) {\n        return d3_time_formatPad(d.getFullYear() % 1e4, p, 4);\n      },\n      Z: d3_time_zone,\n      \"%\": function() {\n        return \"%\";\n      }\n    };\n    var d3_time_parsers = {\n      a: d3_time_parseWeekdayAbbrev,\n      A: d3_time_parseWeekday,\n      b: d3_time_parseMonthAbbrev,\n      B: d3_time_parseMonth,\n      c: d3_time_parseLocaleFull,\n      d: d3_time_parseDay,\n      e: d3_time_parseDay,\n      H: d3_time_parseHour24,\n      I: d3_time_parseHour24,\n      j: d3_time_parseDayOfYear,\n      L: d3_time_parseMilliseconds,\n      m: d3_time_parseMonthNumber,\n      M: d3_time_parseMinutes,\n      p: d3_time_parseAmPm,\n      S: d3_time_parseSeconds,\n      U: d3_time_parseWeekNumberSunday,\n      w: d3_time_parseWeekdayNumber,\n      W: d3_time_parseWeekNumberMonday,\n      x: d3_time_parseLocaleDate,\n      X: d3_time_parseLocaleTime,\n      y: d3_time_parseYear,\n      Y: d3_time_parseFullYear,\n      Z: d3_time_parseZone,\n      \"%\": d3_time_parseLiteralPercent\n    };\n    function d3_time_parseWeekdayAbbrev(date, string, i) {\n      d3_time_dayAbbrevRe.lastIndex = 0;\n      var n = d3_time_dayAbbrevRe.exec(string.slice(i));\n      return n ? (date.w = d3_time_dayAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseWeekday(date, string, i) {\n      d3_time_dayRe.lastIndex = 0;\n      var n = d3_time_dayRe.exec(string.slice(i));\n      return n ? (date.w = d3_time_dayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseMonthAbbrev(date, string, i) {\n      d3_time_monthAbbrevRe.lastIndex = 0;\n      var n = d3_time_monthAbbrevRe.exec(string.slice(i));\n      return n ? (date.m = d3_time_monthAbbrevLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseMonth(date, string, i) {\n      d3_time_monthRe.lastIndex = 0;\n      var n = d3_time_monthRe.exec(string.slice(i));\n      return n ? (date.m = d3_time_monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n    }\n    function d3_time_parseLocaleFull(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.c.toString(), string, i);\n    }\n    function d3_time_parseLocaleDate(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.x.toString(), string, i);\n    }\n    function d3_time_parseLocaleTime(date, string, i) {\n      return d3_time_parse(date, d3_time_formats.X.toString(), string, i);\n    }\n    function d3_time_parseAmPm(date, string, i) {\n      var n = d3_time_periodLookup.get(string.slice(i, i += 2).toLowerCase());\n      return n == null ? -1 : (date.p = n, i);\n    }\n    return d3_time_format;\n  }\n  var d3_time_formatPads = {\n    \"-\": \"\",\n    _: \" \",\n    \"0\": \"0\"\n  }, d3_time_numberRe = /^\\s*\\d+/, d3_time_percentRe = /^%/;\n  function d3_time_formatPad(value, fill, width) {\n    var sign = value < 0 ? \"-\" : \"\", string = (sign ? -value : value) + \"\", length = string.length;\n    return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n  }\n  function d3_time_formatRe(names) {\n    return new RegExp(\"^(?:\" + names.map(d3.requote).join(\"|\") + \")\", \"i\");\n  }\n  function d3_time_formatLookup(names) {\n    var map = new d3_Map(), i = -1, n = names.length;\n    while (++i < n) map.set(names[i].toLowerCase(), i);\n    return map;\n  }\n  function d3_time_parseWeekdayNumber(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 1));\n    return n ? (date.w = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseWeekNumberSunday(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i));\n    return n ? (date.U = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseWeekNumberMonday(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i));\n    return n ? (date.W = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseFullYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 4));\n    return n ? (date.y = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.y = d3_time_expandYear(+n[0]), i + n[0].length) : -1;\n  }\n  function d3_time_parseZone(date, string, i) {\n    return /^[+-]\\d{4}$/.test(string = string.slice(i, i + 5)) ? (date.Z = -string, \n    i + 5) : -1;\n  }\n  function d3_time_expandYear(d) {\n    return d + (d > 68 ? 1900 : 2e3);\n  }\n  function d3_time_parseMonthNumber(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.m = n[0] - 1, i + n[0].length) : -1;\n  }\n  function d3_time_parseDay(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.d = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseDayOfYear(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n    return n ? (date.j = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseHour24(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.H = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseMinutes(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.M = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseSeconds(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 2));\n    return n ? (date.S = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_parseMilliseconds(date, string, i) {\n    d3_time_numberRe.lastIndex = 0;\n    var n = d3_time_numberRe.exec(string.slice(i, i + 3));\n    return n ? (date.L = +n[0], i + n[0].length) : -1;\n  }\n  function d3_time_zone(d) {\n    var z = d.getTimezoneOffset(), zs = z > 0 ? \"-\" : \"+\", zh = abs(z) / 60 | 0, zm = abs(z) % 60;\n    return zs + d3_time_formatPad(zh, \"0\", 2) + d3_time_formatPad(zm, \"0\", 2);\n  }\n  function d3_time_parseLiteralPercent(date, string, i) {\n    d3_time_percentRe.lastIndex = 0;\n    var n = d3_time_percentRe.exec(string.slice(i, i + 1));\n    return n ? i + n[0].length : -1;\n  }\n  function d3_time_formatMulti(formats) {\n    var n = formats.length, i = -1;\n    while (++i < n) formats[i][0] = this(formats[i][0]);\n    return function(date) {\n      var i = 0, f = formats[i];\n      while (!f[1](date)) f = formats[++i];\n      return f[0](date);\n    };\n  }\n  d3.locale = function(locale) {\n    return {\n      numberFormat: d3_locale_numberFormat(locale),\n      timeFormat: d3_locale_timeFormat(locale)\n    };\n  };\n  var d3_locale_enUS = d3.locale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [ 3 ],\n    currency: [ \"$\", \"\" ],\n    dateTime: \"%a %b %e %X %Y\",\n    date: \"%m/%d/%Y\",\n    time: \"%H:%M:%S\",\n    periods: [ \"AM\", \"PM\" ],\n    days: [ \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\" ],\n    shortDays: [ \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\" ],\n    months: [ \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\" ],\n    shortMonths: [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ]\n  });\n  d3.format = d3_locale_enUS.numberFormat;\n  d3.geo = {};\n  function d3_adder() {}\n  d3_adder.prototype = {\n    s: 0,\n    t: 0,\n    add: function(y) {\n      d3_adderSum(y, this.t, d3_adderTemp);\n      d3_adderSum(d3_adderTemp.s, this.s, this);\n      if (this.s) this.t += d3_adderTemp.t; else this.s = d3_adderTemp.t;\n    },\n    reset: function() {\n      this.s = this.t = 0;\n    },\n    valueOf: function() {\n      return this.s;\n    }\n  };\n  var d3_adderTemp = new d3_adder();\n  function d3_adderSum(a, b, o) {\n    var x = o.s = a + b, bv = x - a, av = x - bv;\n    o.t = a - av + (b - bv);\n  }\n  d3.geo.stream = function(object, listener) {\n    if (object && d3_geo_streamObjectType.hasOwnProperty(object.type)) {\n      d3_geo_streamObjectType[object.type](object, listener);\n    } else {\n      d3_geo_streamGeometry(object, listener);\n    }\n  };\n  function d3_geo_streamGeometry(geometry, listener) {\n    if (geometry && d3_geo_streamGeometryType.hasOwnProperty(geometry.type)) {\n      d3_geo_streamGeometryType[geometry.type](geometry, listener);\n    }\n  }\n  var d3_geo_streamObjectType = {\n    Feature: function(feature, listener) {\n      d3_geo_streamGeometry(feature.geometry, listener);\n    },\n    FeatureCollection: function(object, listener) {\n      var features = object.features, i = -1, n = features.length;\n      while (++i < n) d3_geo_streamGeometry(features[i].geometry, listener);\n    }\n  };\n  var d3_geo_streamGeometryType = {\n    Sphere: function(object, listener) {\n      listener.sphere();\n    },\n    Point: function(object, listener) {\n      object = object.coordinates;\n      listener.point(object[0], object[1], object[2]);\n    },\n    MultiPoint: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) object = coordinates[i], listener.point(object[0], object[1], object[2]);\n    },\n    LineString: function(object, listener) {\n      d3_geo_streamLine(object.coordinates, listener, 0);\n    },\n    MultiLineString: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) d3_geo_streamLine(coordinates[i], listener, 0);\n    },\n    Polygon: function(object, listener) {\n      d3_geo_streamPolygon(object.coordinates, listener);\n    },\n    MultiPolygon: function(object, listener) {\n      var coordinates = object.coordinates, i = -1, n = coordinates.length;\n      while (++i < n) d3_geo_streamPolygon(coordinates[i], listener);\n    },\n    GeometryCollection: function(object, listener) {\n      var geometries = object.geometries, i = -1, n = geometries.length;\n      while (++i < n) d3_geo_streamGeometry(geometries[i], listener);\n    }\n  };\n  function d3_geo_streamLine(coordinates, listener, closed) {\n    var i = -1, n = coordinates.length - closed, coordinate;\n    listener.lineStart();\n    while (++i < n) coordinate = coordinates[i], listener.point(coordinate[0], coordinate[1], coordinate[2]);\n    listener.lineEnd();\n  }\n  function d3_geo_streamPolygon(coordinates, listener) {\n    var i = -1, n = coordinates.length;\n    listener.polygonStart();\n    while (++i < n) d3_geo_streamLine(coordinates[i], listener, 1);\n    listener.polygonEnd();\n  }\n  d3.geo.area = function(object) {\n    d3_geo_areaSum = 0;\n    d3.geo.stream(object, d3_geo_area);\n    return d3_geo_areaSum;\n  };\n  var d3_geo_areaSum, d3_geo_areaRingSum = new d3_adder();\n  var d3_geo_area = {\n    sphere: function() {\n      d3_geo_areaSum += 4 * ;\n    },\n    point: d3_noop,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: function() {\n      d3_geo_areaRingSum.reset();\n      d3_geo_area.lineStart = d3_geo_areaRingStart;\n    },\n    polygonEnd: function() {\n      var area = 2 * d3_geo_areaRingSum;\n      d3_geo_areaSum += area < 0 ? 4 *  + area : area;\n      d3_geo_area.lineStart = d3_geo_area.lineEnd = d3_geo_area.point = d3_noop;\n    }\n  };\n  function d3_geo_areaRingStart() {\n    var 00, 00, 0, cos0, sin0;\n    d3_geo_area.point = function(, ) {\n      d3_geo_area.point = nextPoint;\n      0 = (00 = ) * d3_radians, cos0 = Math.cos( = (00 = ) * d3_radians / 2 +  / 4), \n      sin0 = Math.sin();\n    };\n    function nextPoint(, ) {\n       *= d3_radians;\n       =  * d3_radians / 2 +  / 4;\n      var d =  - 0, sd = d >= 0 ? 1 : -1, ad = sd * d, cos = Math.cos(), sin = Math.sin(), k = sin0 * sin, u = cos0 * cos + k * Math.cos(ad), v = k * sd * Math.sin(ad);\n      d3_geo_areaRingSum.add(Math.atan2(v, u));\n      0 = , cos0 = cos, sin0 = sin;\n    }\n    d3_geo_area.lineEnd = function() {\n      nextPoint(00, 00);\n    };\n  }\n  function d3_geo_cartesian(spherical) {\n    var  = spherical[0],  = spherical[1], cos = Math.cos();\n    return [ cos * Math.cos(), cos * Math.sin(), Math.sin() ];\n  }\n  function d3_geo_cartesianDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n  }\n  function d3_geo_cartesianCross(a, b) {\n    return [ a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0] ];\n  }\n  function d3_geo_cartesianAdd(a, b) {\n    a[0] += b[0];\n    a[1] += b[1];\n    a[2] += b[2];\n  }\n  function d3_geo_cartesianScale(vector, k) {\n    return [ vector[0] * k, vector[1] * k, vector[2] * k ];\n  }\n  function d3_geo_cartesianNormalize(d) {\n    var l = Math.sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n    d[0] /= l;\n    d[1] /= l;\n    d[2] /= l;\n  }\n  function d3_geo_spherical(cartesian) {\n    return [ Math.atan2(cartesian[1], cartesian[0]), d3_asin(cartesian[2]) ];\n  }\n  function d3_geo_sphericalEqual(a, b) {\n    return abs(a[0] - b[0]) <  && abs(a[1] - b[1]) < ;\n  }\n  d3.geo.bounds = function() {\n    var 0, 0, 1, 1, _, __, __, p0, dSum, ranges, range;\n    var bound = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        bound.point = ringPoint;\n        bound.lineStart = ringStart;\n        bound.lineEnd = ringEnd;\n        dSum = 0;\n        d3_geo_area.polygonStart();\n      },\n      polygonEnd: function() {\n        d3_geo_area.polygonEnd();\n        bound.point = point;\n        bound.lineStart = lineStart;\n        bound.lineEnd = lineEnd;\n        if (d3_geo_areaRingSum < 0) 0 = -(1 = 180), 0 = -(1 = 90); else if (dSum > ) 1 = 90; else if (dSum < -) 0 = -90;\n        range[0] = 0, range[1] = 1;\n      }\n    };\n    function point(, ) {\n      ranges.push(range = [ 0 = , 1 =  ]);\n      if ( < 0) 0 = ;\n      if ( > 1) 1 = ;\n    }\n    function linePoint(, ) {\n      var p = d3_geo_cartesian([  * d3_radians,  * d3_radians ]);\n      if (p0) {\n        var normal = d3_geo_cartesianCross(p0, p), equatorial = [ normal[1], -normal[0], 0 ], inflection = d3_geo_cartesianCross(equatorial, normal);\n        d3_geo_cartesianNormalize(inflection);\n        inflection = d3_geo_spherical(inflection);\n        var d =  - _, s = d > 0 ? 1 : -1, i = inflection[0] * d3_degrees * s, antimeridian = abs(d) > 180;\n        if (antimeridian ^ (s * _ < i && i < s * )) {\n          var i = inflection[1] * d3_degrees;\n          if (i > 1) 1 = i;\n        } else if (i = (i + 360) % 360 - 180, antimeridian ^ (s * _ < i && i < s * )) {\n          var i = -inflection[1] * d3_degrees;\n          if (i < 0) 0 = i;\n        } else {\n          if ( < 0) 0 = ;\n          if ( > 1) 1 = ;\n        }\n        if (antimeridian) {\n          if ( < _) {\n            if (angle(0, ) > angle(0, 1)) 1 = ;\n          } else {\n            if (angle(, 1) > angle(0, 1)) 0 = ;\n          }\n        } else {\n          if (1 >= 0) {\n            if ( < 0) 0 = ;\n            if ( > 1) 1 = ;\n          } else {\n            if ( > _) {\n              if (angle(0, ) > angle(0, 1)) 1 = ;\n            } else {\n              if (angle(, 1) > angle(0, 1)) 0 = ;\n            }\n          }\n        }\n      } else {\n        point(, );\n      }\n      p0 = p, _ = ;\n    }\n    function lineStart() {\n      bound.point = linePoint;\n    }\n    function lineEnd() {\n      range[0] = 0, range[1] = 1;\n      bound.point = point;\n      p0 = null;\n    }\n    function ringPoint(, ) {\n      if (p0) {\n        var d =  - _;\n        dSum += abs(d) > 180 ? d + (d > 0 ? 360 : -360) : d;\n      } else __ = , __ = ;\n      d3_geo_area.point(, );\n      linePoint(, );\n    }\n    function ringStart() {\n      d3_geo_area.lineStart();\n    }\n    function ringEnd() {\n      ringPoint(__, __);\n      d3_geo_area.lineEnd();\n      if (abs(dSum) > ) 0 = -(1 = 180);\n      range[0] = 0, range[1] = 1;\n      p0 = null;\n    }\n    function angle(0, 1) {\n      return (1 -= 0) < 0 ? 1 + 360 : 1;\n    }\n    function compareRanges(a, b) {\n      return a[0] - b[0];\n    }\n    function withinRange(x, range) {\n      return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n    }\n    return function(feature) {\n      1 = 1 = -(0 = 0 = Infinity);\n      ranges = [];\n      d3.geo.stream(feature, bound);\n      var n = ranges.length;\n      if (n) {\n        ranges.sort(compareRanges);\n        for (var i = 1, a = ranges[0], b, merged = [ a ]; i < n; ++i) {\n          b = ranges[i];\n          if (withinRange(b[0], a) || withinRange(b[1], a)) {\n            if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n            if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n          } else {\n            merged.push(a = b);\n          }\n        }\n        var best = -Infinity, d;\n        for (var n = merged.length - 1, i = 0, a = merged[n], b; i <= n; a = b, ++i) {\n          b = merged[i];\n          if ((d = angle(a[1], b[0])) > best) best = d, 0 = b[0], 1 = a[1];\n        }\n      }\n      ranges = range = null;\n      return 0 === Infinity || 0 === Infinity ? [ [ NaN, NaN ], [ NaN, NaN ] ] : [ [ 0, 0 ], [ 1, 1 ] ];\n    };\n  }();\n  d3.geo.centroid = function(object) {\n    d3_geo_centroidW0 = d3_geo_centroidW1 = d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n    d3.geo.stream(object, d3_geo_centroid);\n    var x = d3_geo_centroidX2, y = d3_geo_centroidY2, z = d3_geo_centroidZ2, m = x * x + y * y + z * z;\n    if (m < 2) {\n      x = d3_geo_centroidX1, y = d3_geo_centroidY1, z = d3_geo_centroidZ1;\n      if (d3_geo_centroidW1 < ) x = d3_geo_centroidX0, y = d3_geo_centroidY0, z = d3_geo_centroidZ0;\n      m = x * x + y * y + z * z;\n      if (m < 2) return [ NaN, NaN ];\n    }\n    return [ Math.atan2(y, x) * d3_degrees, d3_asin(z / Math.sqrt(m)) * d3_degrees ];\n  };\n  var d3_geo_centroidW0, d3_geo_centroidW1, d3_geo_centroidX0, d3_geo_centroidY0, d3_geo_centroidZ0, d3_geo_centroidX1, d3_geo_centroidY1, d3_geo_centroidZ1, d3_geo_centroidX2, d3_geo_centroidY2, d3_geo_centroidZ2;\n  var d3_geo_centroid = {\n    sphere: d3_noop,\n    point: d3_geo_centroidPoint,\n    lineStart: d3_geo_centroidLineStart,\n    lineEnd: d3_geo_centroidLineEnd,\n    polygonStart: function() {\n      d3_geo_centroid.lineStart = d3_geo_centroidRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_centroid.lineStart = d3_geo_centroidLineStart;\n    }\n  };\n  function d3_geo_centroidPoint(, ) {\n     *= d3_radians;\n    var cos = Math.cos( *= d3_radians);\n    d3_geo_centroidPointXYZ(cos * Math.cos(), cos * Math.sin(), Math.sin());\n  }\n  function d3_geo_centroidPointXYZ(x, y, z) {\n    ++d3_geo_centroidW0;\n    d3_geo_centroidX0 += (x - d3_geo_centroidX0) / d3_geo_centroidW0;\n    d3_geo_centroidY0 += (y - d3_geo_centroidY0) / d3_geo_centroidW0;\n    d3_geo_centroidZ0 += (z - d3_geo_centroidZ0) / d3_geo_centroidW0;\n  }\n  function d3_geo_centroidLineStart() {\n    var x0, y0, z0;\n    d3_geo_centroid.point = function(, ) {\n       *= d3_radians;\n      var cos = Math.cos( *= d3_radians);\n      x0 = cos * Math.cos();\n      y0 = cos * Math.sin();\n      z0 = Math.sin();\n      d3_geo_centroid.point = nextPoint;\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    };\n    function nextPoint(, ) {\n       *= d3_radians;\n      var cos = Math.cos( *= d3_radians), x = cos * Math.cos(), y = cos * Math.sin(), z = Math.sin(), w = Math.atan2(Math.sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n      d3_geo_centroidW1 += w;\n      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    }\n  }\n  function d3_geo_centroidLineEnd() {\n    d3_geo_centroid.point = d3_geo_centroidPoint;\n  }\n  function d3_geo_centroidRingStart() {\n    var 00, 00, x0, y0, z0;\n    d3_geo_centroid.point = function(, ) {\n      00 = , 00 = ;\n      d3_geo_centroid.point = nextPoint;\n       *= d3_radians;\n      var cos = Math.cos( *= d3_radians);\n      x0 = cos * Math.cos();\n      y0 = cos * Math.sin();\n      z0 = Math.sin();\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    };\n    d3_geo_centroid.lineEnd = function() {\n      nextPoint(00, 00);\n      d3_geo_centroid.lineEnd = d3_geo_centroidLineEnd;\n      d3_geo_centroid.point = d3_geo_centroidPoint;\n    };\n    function nextPoint(, ) {\n       *= d3_radians;\n      var cos = Math.cos( *= d3_radians), x = cos * Math.cos(), y = cos * Math.sin(), z = Math.sin(), cx = y0 * z - z0 * y, cy = z0 * x - x0 * z, cz = x0 * y - y0 * x, m = Math.sqrt(cx * cx + cy * cy + cz * cz), u = x0 * x + y0 * y + z0 * z, v = m && -d3_acos(u) / m, w = Math.atan2(m, u);\n      d3_geo_centroidX2 += v * cx;\n      d3_geo_centroidY2 += v * cy;\n      d3_geo_centroidZ2 += v * cz;\n      d3_geo_centroidW1 += w;\n      d3_geo_centroidX1 += w * (x0 + (x0 = x));\n      d3_geo_centroidY1 += w * (y0 + (y0 = y));\n      d3_geo_centroidZ1 += w * (z0 + (z0 = z));\n      d3_geo_centroidPointXYZ(x0, y0, z0);\n    }\n  }\n  function d3_geo_compose(a, b) {\n    function compose(x, y) {\n      return x = a(x, y), b(x[0], x[1]);\n    }\n    if (a.invert && b.invert) compose.invert = function(x, y) {\n      return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n    };\n    return compose;\n  }\n  function d3_true() {\n    return true;\n  }\n  function d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener) {\n    var subject = [], clip = [];\n    segments.forEach(function(segment) {\n      if ((n = segment.length - 1) <= 0) return;\n      var n, p0 = segment[0], p1 = segment[n];\n      if (d3_geo_sphericalEqual(p0, p1)) {\n        listener.lineStart();\n        for (var i = 0; i < n; ++i) listener.point((p0 = segment[i])[0], p0[1]);\n        listener.lineEnd();\n        return;\n      }\n      var a = new d3_geo_clipPolygonIntersection(p0, segment, null, true), b = new d3_geo_clipPolygonIntersection(p0, null, a, false);\n      a.o = b;\n      subject.push(a);\n      clip.push(b);\n      a = new d3_geo_clipPolygonIntersection(p1, segment, null, false);\n      b = new d3_geo_clipPolygonIntersection(p1, null, a, true);\n      a.o = b;\n      subject.push(a);\n      clip.push(b);\n    });\n    clip.sort(compare);\n    d3_geo_clipPolygonLinkCircular(subject);\n    d3_geo_clipPolygonLinkCircular(clip);\n    if (!subject.length) return;\n    for (var i = 0, entry = clipStartInside, n = clip.length; i < n; ++i) {\n      clip[i].e = entry = !entry;\n    }\n    var start = subject[0], points, point;\n    while (1) {\n      var current = start, isSubject = true;\n      while (current.v) if ((current = current.n) === start) return;\n      points = current.z;\n      listener.lineStart();\n      do {\n        current.v = current.o.v = true;\n        if (current.e) {\n          if (isSubject) {\n            for (var i = 0, n = points.length; i < n; ++i) listener.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.n.x, 1, listener);\n          }\n          current = current.n;\n        } else {\n          if (isSubject) {\n            points = current.p.z;\n            for (var i = points.length - 1; i >= 0; --i) listener.point((point = points[i])[0], point[1]);\n          } else {\n            interpolate(current.x, current.p.x, -1, listener);\n          }\n          current = current.p;\n        }\n        current = current.o;\n        points = current.z;\n        isSubject = !isSubject;\n      } while (!current.v);\n      listener.lineEnd();\n    }\n  }\n  function d3_geo_clipPolygonLinkCircular(array) {\n    if (!(n = array.length)) return;\n    var n, i = 0, a = array[0], b;\n    while (++i < n) {\n      a.n = b = array[i];\n      b.p = a;\n      a = b;\n    }\n    a.n = b = array[0];\n    b.p = a;\n  }\n  function d3_geo_clipPolygonIntersection(point, points, other, entry) {\n    this.x = point;\n    this.z = points;\n    this.o = other;\n    this.e = entry;\n    this.v = false;\n    this.n = this.p = null;\n  }\n  function d3_geo_clip(pointVisible, clipLine, interpolate, clipStart) {\n    return function(rotate, listener) {\n      var line = clipLine(listener), rotatedClipStart = rotate.invert(clipStart[0], clipStart[1]);\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          clip.point = pointRing;\n          clip.lineStart = ringStart;\n          clip.lineEnd = ringEnd;\n          segments = [];\n          polygon = [];\n        },\n        polygonEnd: function() {\n          clip.point = point;\n          clip.lineStart = lineStart;\n          clip.lineEnd = lineEnd;\n          segments = d3.merge(segments);\n          var clipStartInside = d3_geo_pointInPolygon(rotatedClipStart, polygon);\n          if (segments.length) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            d3_geo_clipPolygon(segments, d3_geo_clipSort, clipStartInside, interpolate, listener);\n          } else if (clipStartInside) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            listener.lineStart();\n            interpolate(null, null, 1, listener);\n            listener.lineEnd();\n          }\n          if (polygonStarted) listener.polygonEnd(), polygonStarted = false;\n          segments = polygon = null;\n        },\n        sphere: function() {\n          listener.polygonStart();\n          listener.lineStart();\n          interpolate(null, null, 1, listener);\n          listener.lineEnd();\n          listener.polygonEnd();\n        }\n      };\n      function point(, ) {\n        var point = rotate(, );\n        if (pointVisible( = point[0],  = point[1])) listener.point(, );\n      }\n      function pointLine(, ) {\n        var point = rotate(, );\n        line.point(point[0], point[1]);\n      }\n      function lineStart() {\n        clip.point = pointLine;\n        line.lineStart();\n      }\n      function lineEnd() {\n        clip.point = point;\n        line.lineEnd();\n      }\n      var segments;\n      var buffer = d3_geo_clipBufferListener(), ringListener = clipLine(buffer), polygonStarted = false, polygon, ring;\n      function pointRing(, ) {\n        ring.push([ ,  ]);\n        var point = rotate(, );\n        ringListener.point(point[0], point[1]);\n      }\n      function ringStart() {\n        ringListener.lineStart();\n        ring = [];\n      }\n      function ringEnd() {\n        pointRing(ring[0][0], ring[0][1]);\n        ringListener.lineEnd();\n        var clean = ringListener.clean(), ringSegments = buffer.buffer(), segment, n = ringSegments.length;\n        ring.pop();\n        polygon.push(ring);\n        ring = null;\n        if (!n) return;\n        if (clean & 1) {\n          segment = ringSegments[0];\n          var n = segment.length - 1, i = -1, point;\n          if (n > 0) {\n            if (!polygonStarted) listener.polygonStart(), polygonStarted = true;\n            listener.lineStart();\n            while (++i < n) listener.point((point = segment[i])[0], point[1]);\n            listener.lineEnd();\n          }\n          return;\n        }\n        if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n        segments.push(ringSegments.filter(d3_geo_clipSegmentLength1));\n      }\n      return clip;\n    };\n  }\n  function d3_geo_clipSegmentLength1(segment) {\n    return segment.length > 1;\n  }\n  function d3_geo_clipBufferListener() {\n    var lines = [], line;\n    return {\n      lineStart: function() {\n        lines.push(line = []);\n      },\n      point: function(, ) {\n        line.push([ ,  ]);\n      },\n      lineEnd: d3_noop,\n      buffer: function() {\n        var buffer = lines;\n        lines = [];\n        line = null;\n        return buffer;\n      },\n      rejoin: function() {\n        if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n      }\n    };\n  }\n  function d3_geo_clipSort(a, b) {\n    return ((a = a.x)[0] < 0 ? a[1] - half -  : half - a[1]) - ((b = b.x)[0] < 0 ? b[1] - half -  : half - b[1]);\n  }\n  var d3_geo_clipAntimeridian = d3_geo_clip(d3_true, d3_geo_clipAntimeridianLine, d3_geo_clipAntimeridianInterpolate, [ -, - / 2 ]);\n  function d3_geo_clipAntimeridianLine(listener) {\n    var 0 = NaN, 0 = NaN, s0 = NaN, clean;\n    return {\n      lineStart: function() {\n        listener.lineStart();\n        clean = 1;\n      },\n      point: function(1, 1) {\n        var s1 = 1 > 0 ?  : -, d = abs(1 - 0);\n        if (abs(d - ) < ) {\n          listener.point(0, 0 = (0 + 1) / 2 > 0 ? half : -half);\n          listener.point(s0, 0);\n          listener.lineEnd();\n          listener.lineStart();\n          listener.point(s1, 0);\n          listener.point(1, 0);\n          clean = 0;\n        } else if (s0 !== s1 && d >= ) {\n          if (abs(0 - s0) < ) 0 -= s0 * ;\n          if (abs(1 - s1) < ) 1 -= s1 * ;\n          0 = d3_geo_clipAntimeridianIntersect(0, 0, 1, 1);\n          listener.point(s0, 0);\n          listener.lineEnd();\n          listener.lineStart();\n          listener.point(s1, 0);\n          clean = 0;\n        }\n        listener.point(0 = 1, 0 = 1);\n        s0 = s1;\n      },\n      lineEnd: function() {\n        listener.lineEnd();\n        0 = 0 = NaN;\n      },\n      clean: function() {\n        return 2 - clean;\n      }\n    };\n  }\n  function d3_geo_clipAntimeridianIntersect(0, 0, 1, 1) {\n    var cos0, cos1, sin0_1 = Math.sin(0 - 1);\n    return abs(sin0_1) >  ? Math.atan((Math.sin(0) * (cos1 = Math.cos(1)) * Math.sin(1) - Math.sin(1) * (cos0 = Math.cos(0)) * Math.sin(0)) / (cos0 * cos1 * sin0_1)) : (0 + 1) / 2;\n  }\n  function d3_geo_clipAntimeridianInterpolate(from, to, direction, listener) {\n    var ;\n    if (from == null) {\n       = direction * half;\n      listener.point(-, );\n      listener.point(0, );\n      listener.point(, );\n      listener.point(, 0);\n      listener.point(, -);\n      listener.point(0, -);\n      listener.point(-, -);\n      listener.point(-, 0);\n      listener.point(-, );\n    } else if (abs(from[0] - to[0]) > ) {\n      var s = from[0] < to[0] ?  : -;\n       = direction * s / 2;\n      listener.point(-s, );\n      listener.point(0, );\n      listener.point(s, );\n    } else {\n      listener.point(to[0], to[1]);\n    }\n  }\n  function d3_geo_pointInPolygon(point, polygon) {\n    var meridian = point[0], parallel = point[1], meridianNormal = [ Math.sin(meridian), -Math.cos(meridian), 0 ], polarAngle = 0, winding = 0;\n    d3_geo_areaRingSum.reset();\n    for (var i = 0, n = polygon.length; i < n; ++i) {\n      var ring = polygon[i], m = ring.length;\n      if (!m) continue;\n      var point0 = ring[0], 0 = point0[0], 0 = point0[1] / 2 +  / 4, sin0 = Math.sin(0), cos0 = Math.cos(0), j = 1;\n      while (true) {\n        if (j === m) j = 0;\n        point = ring[j];\n        var  = point[0],  = point[1] / 2 +  / 4, sin = Math.sin(), cos = Math.cos(), d =  - 0, sd = d >= 0 ? 1 : -1, ad = sd * d, antimeridian = ad > , k = sin0 * sin;\n        d3_geo_areaRingSum.add(Math.atan2(k * sd * Math.sin(ad), cos0 * cos + k * Math.cos(ad)));\n        polarAngle += antimeridian ? d + sd *  : d;\n        if (antimeridian ^ 0 >= meridian ^  >= meridian) {\n          var arc = d3_geo_cartesianCross(d3_geo_cartesian(point0), d3_geo_cartesian(point));\n          d3_geo_cartesianNormalize(arc);\n          var intersection = d3_geo_cartesianCross(meridianNormal, arc);\n          d3_geo_cartesianNormalize(intersection);\n          var arc = (antimeridian ^ d >= 0 ? -1 : 1) * d3_asin(intersection[2]);\n          if (parallel > arc || parallel === arc && (arc[0] || arc[1])) {\n            winding += antimeridian ^ d >= 0 ? 1 : -1;\n          }\n        }\n        if (!j++) break;\n        0 = , sin0 = sin, cos0 = cos, point0 = point;\n      }\n    }\n    return (polarAngle < - || polarAngle <  && d3_geo_areaRingSum < -) ^ winding & 1;\n  }\n  function d3_geo_clipCircle(radius) {\n    var cr = Math.cos(radius), smallRadius = cr > 0, notHemisphere = abs(cr) > , interpolate = d3_geo_circleInterpolate(radius, 6 * d3_radians);\n    return d3_geo_clip(visible, clipLine, interpolate, smallRadius ? [ 0, -radius ] : [ -, radius -  ]);\n    function visible(, ) {\n      return Math.cos() * Math.cos() > cr;\n    }\n    function clipLine(listener) {\n      var point0, c0, v0, v00, clean;\n      return {\n        lineStart: function() {\n          v00 = v0 = false;\n          clean = 1;\n        },\n        point: function(, ) {\n          var point1 = [ ,  ], point2, v = visible(, ), c = smallRadius ? v ? 0 : code(, ) : v ? code( + ( < 0 ?  : -), ) : 0;\n          if (!point0 && (v00 = v0 = v)) listener.lineStart();\n          if (v !== v0) {\n            point2 = intersect(point0, point1);\n            if (d3_geo_sphericalEqual(point0, point2) || d3_geo_sphericalEqual(point1, point2)) {\n              point1[0] += ;\n              point1[1] += ;\n              v = visible(point1[0], point1[1]);\n            }\n          }\n          if (v !== v0) {\n            clean = 0;\n            if (v) {\n              listener.lineStart();\n              point2 = intersect(point1, point0);\n              listener.point(point2[0], point2[1]);\n            } else {\n              point2 = intersect(point0, point1);\n              listener.point(point2[0], point2[1]);\n              listener.lineEnd();\n            }\n            point0 = point2;\n          } else if (notHemisphere && point0 && smallRadius ^ v) {\n            var t;\n            if (!(c & c0) && (t = intersect(point1, point0, true))) {\n              clean = 0;\n              if (smallRadius) {\n                listener.lineStart();\n                listener.point(t[0][0], t[0][1]);\n                listener.point(t[1][0], t[1][1]);\n                listener.lineEnd();\n              } else {\n                listener.point(t[1][0], t[1][1]);\n                listener.lineEnd();\n                listener.lineStart();\n                listener.point(t[0][0], t[0][1]);\n              }\n            }\n          }\n          if (v && (!point0 || !d3_geo_sphericalEqual(point0, point1))) {\n            listener.point(point1[0], point1[1]);\n          }\n          point0 = point1, v0 = v, c0 = c;\n        },\n        lineEnd: function() {\n          if (v0) listener.lineEnd();\n          point0 = null;\n        },\n        clean: function() {\n          return clean | (v00 && v0) << 1;\n        }\n      };\n    }\n    function intersect(a, b, two) {\n      var pa = d3_geo_cartesian(a), pb = d3_geo_cartesian(b);\n      var n1 = [ 1, 0, 0 ], n2 = d3_geo_cartesianCross(pa, pb), n2n2 = d3_geo_cartesianDot(n2, n2), n1n2 = n2[0], determinant = n2n2 - n1n2 * n1n2;\n      if (!determinant) return !two && a;\n      var c1 = cr * n2n2 / determinant, c2 = -cr * n1n2 / determinant, n1xn2 = d3_geo_cartesianCross(n1, n2), A = d3_geo_cartesianScale(n1, c1), B = d3_geo_cartesianScale(n2, c2);\n      d3_geo_cartesianAdd(A, B);\n      var u = n1xn2, w = d3_geo_cartesianDot(A, u), uu = d3_geo_cartesianDot(u, u), t2 = w * w - uu * (d3_geo_cartesianDot(A, A) - 1);\n      if (t2 < 0) return;\n      var t = Math.sqrt(t2), q = d3_geo_cartesianScale(u, (-w - t) / uu);\n      d3_geo_cartesianAdd(q, A);\n      q = d3_geo_spherical(q);\n      if (!two) return q;\n      var 0 = a[0], 1 = b[0], 0 = a[1], 1 = b[1], z;\n      if (1 < 0) z = 0, 0 = 1, 1 = z;\n      var  = 1 - 0, polar = abs( - ) < , meridian = polar ||  < ;\n      if (!polar && 1 < 0) z = 0, 0 = 1, 1 = z;\n      if (meridian ? polar ? 0 + 1 > 0 ^ q[1] < (abs(q[0] - 0) <  ? 0 : 1) : 0 <= q[1] && q[1] <= 1 :  >  ^ (0 <= q[0] && q[0] <= 1)) {\n        var q1 = d3_geo_cartesianScale(u, (-w + t) / uu);\n        d3_geo_cartesianAdd(q1, A);\n        return [ q, d3_geo_spherical(q1) ];\n      }\n    }\n    function code(, ) {\n      var r = smallRadius ? radius :  - radius, code = 0;\n      if ( < -r) code |= 1; else if ( > r) code |= 2;\n      if ( < -r) code |= 4; else if ( > r) code |= 8;\n      return code;\n    }\n  }\n  function d3_geom_clipLine(x0, y0, x1, y1) {\n    return function(line) {\n      var a = line.a, b = line.b, ax = a.x, ay = a.y, bx = b.x, by = b.y, t0 = 0, t1 = 1, dx = bx - ax, dy = by - ay, r;\n      r = x0 - ax;\n      if (!dx && r > 0) return;\n      r /= dx;\n      if (dx < 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      } else if (dx > 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      }\n      r = x1 - ax;\n      if (!dx && r < 0) return;\n      r /= dx;\n      if (dx < 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      } else if (dx > 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      }\n      r = y0 - ay;\n      if (!dy && r > 0) return;\n      r /= dy;\n      if (dy < 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      } else if (dy > 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      }\n      r = y1 - ay;\n      if (!dy && r < 0) return;\n      r /= dy;\n      if (dy < 0) {\n        if (r > t1) return;\n        if (r > t0) t0 = r;\n      } else if (dy > 0) {\n        if (r < t0) return;\n        if (r < t1) t1 = r;\n      }\n      if (t0 > 0) line.a = {\n        x: ax + t0 * dx,\n        y: ay + t0 * dy\n      };\n      if (t1 < 1) line.b = {\n        x: ax + t1 * dx,\n        y: ay + t1 * dy\n      };\n      return line;\n    };\n  }\n  var d3_geo_clipExtentMAX = 1e9;\n  d3.geo.clipExtent = function() {\n    var x0, y0, x1, y1, stream, clip, clipExtent = {\n      stream: function(output) {\n        if (stream) stream.valid = false;\n        stream = clip(output);\n        stream.valid = true;\n        return stream;\n      },\n      extent: function(_) {\n        if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n        clip = d3_geo_clipExtent(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]);\n        if (stream) stream.valid = false, stream = null;\n        return clipExtent;\n      }\n    };\n    return clipExtent.extent([ [ 0, 0 ], [ 960, 500 ] ]);\n  };\n  function d3_geo_clipExtent(x0, y0, x1, y1) {\n    return function(listener) {\n      var listener_ = listener, bufferListener = d3_geo_clipBufferListener(), clipLine = d3_geom_clipLine(x0, y0, x1, y1), segments, polygon, ring;\n      var clip = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          listener = bufferListener;\n          segments = [];\n          polygon = [];\n          clean = true;\n        },\n        polygonEnd: function() {\n          listener = listener_;\n          segments = d3.merge(segments);\n          var clipStartInside = insidePolygon([ x0, y1 ]), inside = clean && clipStartInside, visible = segments.length;\n          if (inside || visible) {\n            listener.polygonStart();\n            if (inside) {\n              listener.lineStart();\n              interpolate(null, null, 1, listener);\n              listener.lineEnd();\n            }\n            if (visible) {\n              d3_geo_clipPolygon(segments, compare, clipStartInside, interpolate, listener);\n            }\n            listener.polygonEnd();\n          }\n          segments = polygon = ring = null;\n        }\n      };\n      function insidePolygon(p) {\n        var wn = 0, n = polygon.length, y = p[1];\n        for (var i = 0; i < n; ++i) {\n          for (var j = 1, v = polygon[i], m = v.length, a = v[0], b; j < m; ++j) {\n            b = v[j];\n            if (a[1] <= y) {\n              if (b[1] > y && d3_cross2d(a, b, p) > 0) ++wn;\n            } else {\n              if (b[1] <= y && d3_cross2d(a, b, p) < 0) --wn;\n            }\n            a = b;\n          }\n        }\n        return wn !== 0;\n      }\n      function interpolate(from, to, direction, listener) {\n        var a = 0, a1 = 0;\n        if (from == null || (a = corner(from, direction)) !== (a1 = corner(to, direction)) || comparePoints(from, to) < 0 ^ direction > 0) {\n          do {\n            listener.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n          } while ((a = (a + direction + 4) % 4) !== a1);\n        } else {\n          listener.point(to[0], to[1]);\n        }\n      }\n      function pointVisible(x, y) {\n        return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n      }\n      function point(x, y) {\n        if (pointVisible(x, y)) listener.point(x, y);\n      }\n      var x__, y__, v__, x_, y_, v_, first, clean;\n      function lineStart() {\n        clip.point = linePoint;\n        if (polygon) polygon.push(ring = []);\n        first = true;\n        v_ = false;\n        x_ = y_ = NaN;\n      }\n      function lineEnd() {\n        if (segments) {\n          linePoint(x__, y__);\n          if (v__ && v_) bufferListener.rejoin();\n          segments.push(bufferListener.buffer());\n        }\n        clip.point = point;\n        if (v_) listener.lineEnd();\n      }\n      function linePoint(x, y) {\n        x = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, x));\n        y = Math.max(-d3_geo_clipExtentMAX, Math.min(d3_geo_clipExtentMAX, y));\n        var v = pointVisible(x, y);\n        if (polygon) ring.push([ x, y ]);\n        if (first) {\n          x__ = x, y__ = y, v__ = v;\n          first = false;\n          if (v) {\n            listener.lineStart();\n            listener.point(x, y);\n          }\n        } else {\n          if (v && v_) listener.point(x, y); else {\n            var l = {\n              a: {\n                x: x_,\n                y: y_\n              },\n              b: {\n                x: x,\n                y: y\n              }\n            };\n            if (clipLine(l)) {\n              if (!v_) {\n                listener.lineStart();\n                listener.point(l.a.x, l.a.y);\n              }\n              listener.point(l.b.x, l.b.y);\n              if (!v) listener.lineEnd();\n              clean = false;\n            } else if (v) {\n              listener.lineStart();\n              listener.point(x, y);\n              clean = false;\n            }\n          }\n        }\n        x_ = x, y_ = y, v_ = v;\n      }\n      return clip;\n    };\n    function corner(p, direction) {\n      return abs(p[0] - x0) <  ? direction > 0 ? 0 : 3 : abs(p[0] - x1) <  ? direction > 0 ? 2 : 1 : abs(p[1] - y0) <  ? direction > 0 ? 1 : 0 : direction > 0 ? 3 : 2;\n    }\n    function compare(a, b) {\n      return comparePoints(a.x, b.x);\n    }\n    function comparePoints(a, b) {\n      var ca = corner(a, 1), cb = corner(b, 1);\n      return ca !== cb ? ca - cb : ca === 0 ? b[1] - a[1] : ca === 1 ? a[0] - b[0] : ca === 2 ? a[1] - b[1] : b[0] - a[0];\n    }\n  }\n  function d3_geo_conic(projectAt) {\n    var 0 = 0, 1 =  / 3, m = d3_geo_projectionMutator(projectAt), p = m(0, 1);\n    p.parallels = function(_) {\n      if (!arguments.length) return [ 0 /  * 180, 1 /  * 180 ];\n      return m(0 = _[0] *  / 180, 1 = _[1] *  / 180);\n    };\n    return p;\n  }\n  function d3_geo_conicEqualArea(0, 1) {\n    var sin0 = Math.sin(0), n = (sin0 + Math.sin(1)) / 2, C = 1 + sin0 * (2 * n - sin0), 0 = Math.sqrt(C) / n;\n    function forward(, ) {\n      var  = Math.sqrt(C - 2 * n * Math.sin()) / n;\n      return [  * Math.sin( *= n), 0 -  * Math.cos() ];\n    }\n    forward.invert = function(x, y) {\n      var 0_y = 0 - y;\n      return [ Math.atan2(x, 0_y) / n, d3_asin((C - (x * x + 0_y * 0_y) * n * n) / (2 * n)) ];\n    };\n    return forward;\n  }\n  (d3.geo.conicEqualArea = function() {\n    return d3_geo_conic(d3_geo_conicEqualArea);\n  }).raw = d3_geo_conicEqualArea;\n  d3.geo.albers = function() {\n    return d3.geo.conicEqualArea().rotate([ 96, 0 ]).center([ -.6, 38.7 ]).parallels([ 29.5, 45.5 ]).scale(1070);\n  };\n  d3.geo.albersUsa = function() {\n    var lower48 = d3.geo.albers();\n    var alaska = d3.geo.conicEqualArea().rotate([ 154, 0 ]).center([ -2, 58.5 ]).parallels([ 55, 65 ]);\n    var hawaii = d3.geo.conicEqualArea().rotate([ 157, 0 ]).center([ -3, 19.9 ]).parallels([ 8, 18 ]);\n    var point, pointStream = {\n      point: function(x, y) {\n        point = [ x, y ];\n      }\n    }, lower48Point, alaskaPoint, hawaiiPoint;\n    function albersUsa(coordinates) {\n      var x = coordinates[0], y = coordinates[1];\n      point = null;\n      (lower48Point(x, y), point) || (alaskaPoint(x, y), point) || hawaiiPoint(x, y);\n      return point;\n    }\n    albersUsa.invert = function(coordinates) {\n      var k = lower48.scale(), t = lower48.translate(), x = (coordinates[0] - t[0]) / k, y = (coordinates[1] - t[1]) / k;\n      return (y >= .12 && y < .234 && x >= -.425 && x < -.214 ? alaska : y >= .166 && y < .234 && x >= -.214 && x < -.115 ? hawaii : lower48).invert(coordinates);\n    };\n    albersUsa.stream = function(stream) {\n      var lower48Stream = lower48.stream(stream), alaskaStream = alaska.stream(stream), hawaiiStream = hawaii.stream(stream);\n      return {\n        point: function(x, y) {\n          lower48Stream.point(x, y);\n          alaskaStream.point(x, y);\n          hawaiiStream.point(x, y);\n        },\n        sphere: function() {\n          lower48Stream.sphere();\n          alaskaStream.sphere();\n          hawaiiStream.sphere();\n        },\n        lineStart: function() {\n          lower48Stream.lineStart();\n          alaskaStream.lineStart();\n          hawaiiStream.lineStart();\n        },\n        lineEnd: function() {\n          lower48Stream.lineEnd();\n          alaskaStream.lineEnd();\n          hawaiiStream.lineEnd();\n        },\n        polygonStart: function() {\n          lower48Stream.polygonStart();\n          alaskaStream.polygonStart();\n          hawaiiStream.polygonStart();\n        },\n        polygonEnd: function() {\n          lower48Stream.polygonEnd();\n          alaskaStream.polygonEnd();\n          hawaiiStream.polygonEnd();\n        }\n      };\n    };\n    albersUsa.precision = function(_) {\n      if (!arguments.length) return lower48.precision();\n      lower48.precision(_);\n      alaska.precision(_);\n      hawaii.precision(_);\n      return albersUsa;\n    };\n    albersUsa.scale = function(_) {\n      if (!arguments.length) return lower48.scale();\n      lower48.scale(_);\n      alaska.scale(_ * .35);\n      hawaii.scale(_);\n      return albersUsa.translate(lower48.translate());\n    };\n    albersUsa.translate = function(_) {\n      if (!arguments.length) return lower48.translate();\n      var k = lower48.scale(), x = +_[0], y = +_[1];\n      lower48Point = lower48.translate(_).clipExtent([ [ x - .455 * k, y - .238 * k ], [ x + .455 * k, y + .238 * k ] ]).stream(pointStream).point;\n      alaskaPoint = alaska.translate([ x - .307 * k, y + .201 * k ]).clipExtent([ [ x - .425 * k + , y + .12 * k +  ], [ x - .214 * k - , y + .234 * k -  ] ]).stream(pointStream).point;\n      hawaiiPoint = hawaii.translate([ x - .205 * k, y + .212 * k ]).clipExtent([ [ x - .214 * k + , y + .166 * k +  ], [ x - .115 * k - , y + .234 * k -  ] ]).stream(pointStream).point;\n      return albersUsa;\n    };\n    return albersUsa.scale(1070);\n  };\n  var d3_geo_pathAreaSum, d3_geo_pathAreaPolygon, d3_geo_pathArea = {\n    point: d3_noop,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: function() {\n      d3_geo_pathAreaPolygon = 0;\n      d3_geo_pathArea.lineStart = d3_geo_pathAreaRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_pathArea.lineStart = d3_geo_pathArea.lineEnd = d3_geo_pathArea.point = d3_noop;\n      d3_geo_pathAreaSum += abs(d3_geo_pathAreaPolygon / 2);\n    }\n  };\n  function d3_geo_pathAreaRingStart() {\n    var x00, y00, x0, y0;\n    d3_geo_pathArea.point = function(x, y) {\n      d3_geo_pathArea.point = nextPoint;\n      x00 = x0 = x, y00 = y0 = y;\n    };\n    function nextPoint(x, y) {\n      d3_geo_pathAreaPolygon += y0 * x - x0 * y;\n      x0 = x, y0 = y;\n    }\n    d3_geo_pathArea.lineEnd = function() {\n      nextPoint(x00, y00);\n    };\n  }\n  var d3_geo_pathBoundsX0, d3_geo_pathBoundsY0, d3_geo_pathBoundsX1, d3_geo_pathBoundsY1;\n  var d3_geo_pathBounds = {\n    point: d3_geo_pathBoundsPoint,\n    lineStart: d3_noop,\n    lineEnd: d3_noop,\n    polygonStart: d3_noop,\n    polygonEnd: d3_noop\n  };\n  function d3_geo_pathBoundsPoint(x, y) {\n    if (x < d3_geo_pathBoundsX0) d3_geo_pathBoundsX0 = x;\n    if (x > d3_geo_pathBoundsX1) d3_geo_pathBoundsX1 = x;\n    if (y < d3_geo_pathBoundsY0) d3_geo_pathBoundsY0 = y;\n    if (y > d3_geo_pathBoundsY1) d3_geo_pathBoundsY1 = y;\n  }\n  function d3_geo_pathBuffer() {\n    var pointCircle = d3_geo_pathBufferCircle(4.5), buffer = [];\n    var stream = {\n      point: point,\n      lineStart: function() {\n        stream.point = pointLineStart;\n      },\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        stream.lineEnd = lineEndPolygon;\n      },\n      polygonEnd: function() {\n        stream.lineEnd = lineEnd;\n        stream.point = point;\n      },\n      pointRadius: function(_) {\n        pointCircle = d3_geo_pathBufferCircle(_);\n        return stream;\n      },\n      result: function() {\n        if (buffer.length) {\n          var result = buffer.join(\"\");\n          buffer = [];\n          return result;\n        }\n      }\n    };\n    function point(x, y) {\n      buffer.push(\"M\", x, \",\", y, pointCircle);\n    }\n    function pointLineStart(x, y) {\n      buffer.push(\"M\", x, \",\", y);\n      stream.point = pointLine;\n    }\n    function pointLine(x, y) {\n      buffer.push(\"L\", x, \",\", y);\n    }\n    function lineEnd() {\n      stream.point = point;\n    }\n    function lineEndPolygon() {\n      buffer.push(\"Z\");\n    }\n    return stream;\n  }\n  function d3_geo_pathBufferCircle(radius) {\n    return \"m0,\" + radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius + \"z\";\n  }\n  var d3_geo_pathCentroid = {\n    point: d3_geo_pathCentroidPoint,\n    lineStart: d3_geo_pathCentroidLineStart,\n    lineEnd: d3_geo_pathCentroidLineEnd,\n    polygonStart: function() {\n      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidRingStart;\n    },\n    polygonEnd: function() {\n      d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n      d3_geo_pathCentroid.lineStart = d3_geo_pathCentroidLineStart;\n      d3_geo_pathCentroid.lineEnd = d3_geo_pathCentroidLineEnd;\n    }\n  };\n  function d3_geo_pathCentroidPoint(x, y) {\n    d3_geo_centroidX0 += x;\n    d3_geo_centroidY0 += y;\n    ++d3_geo_centroidZ0;\n  }\n  function d3_geo_pathCentroidLineStart() {\n    var x0, y0;\n    d3_geo_pathCentroid.point = function(x, y) {\n      d3_geo_pathCentroid.point = nextPoint;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    };\n    function nextPoint(x, y) {\n      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n      d3_geo_centroidX1 += z * (x0 + x) / 2;\n      d3_geo_centroidY1 += z * (y0 + y) / 2;\n      d3_geo_centroidZ1 += z;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    }\n  }\n  function d3_geo_pathCentroidLineEnd() {\n    d3_geo_pathCentroid.point = d3_geo_pathCentroidPoint;\n  }\n  function d3_geo_pathCentroidRingStart() {\n    var x00, y00, x0, y0;\n    d3_geo_pathCentroid.point = function(x, y) {\n      d3_geo_pathCentroid.point = nextPoint;\n      d3_geo_pathCentroidPoint(x00 = x0 = x, y00 = y0 = y);\n    };\n    function nextPoint(x, y) {\n      var dx = x - x0, dy = y - y0, z = Math.sqrt(dx * dx + dy * dy);\n      d3_geo_centroidX1 += z * (x0 + x) / 2;\n      d3_geo_centroidY1 += z * (y0 + y) / 2;\n      d3_geo_centroidZ1 += z;\n      z = y0 * x - x0 * y;\n      d3_geo_centroidX2 += z * (x0 + x);\n      d3_geo_centroidY2 += z * (y0 + y);\n      d3_geo_centroidZ2 += z * 3;\n      d3_geo_pathCentroidPoint(x0 = x, y0 = y);\n    }\n    d3_geo_pathCentroid.lineEnd = function() {\n      nextPoint(x00, y00);\n    };\n  }\n  function d3_geo_pathContext(context) {\n    var pointRadius = 4.5;\n    var stream = {\n      point: point,\n      lineStart: function() {\n        stream.point = pointLineStart;\n      },\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        stream.lineEnd = lineEndPolygon;\n      },\n      polygonEnd: function() {\n        stream.lineEnd = lineEnd;\n        stream.point = point;\n      },\n      pointRadius: function(_) {\n        pointRadius = _;\n        return stream;\n      },\n      result: d3_noop\n    };\n    function point(x, y) {\n      context.moveTo(x + pointRadius, y);\n      context.arc(x, y, pointRadius, 0, );\n    }\n    function pointLineStart(x, y) {\n      context.moveTo(x, y);\n      stream.point = pointLine;\n    }\n    function pointLine(x, y) {\n      context.lineTo(x, y);\n    }\n    function lineEnd() {\n      stream.point = point;\n    }\n    function lineEndPolygon() {\n      context.closePath();\n    }\n    return stream;\n  }\n  function d3_geo_resample(project) {\n    var 2 = .5, cosMinDistance = Math.cos(30 * d3_radians), maxDepth = 16;\n    function resample(stream) {\n      return (maxDepth ? resampleRecursive : resampleNone)(stream);\n    }\n    function resampleNone(stream) {\n      return d3_geo_transformPoint(stream, function(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      });\n    }\n    function resampleRecursive(stream) {\n      var 00, 00, x00, y00, a00, b00, c00, 0, x0, y0, a0, b0, c0;\n      var resample = {\n        point: point,\n        lineStart: lineStart,\n        lineEnd: lineEnd,\n        polygonStart: function() {\n          stream.polygonStart();\n          resample.lineStart = ringStart;\n        },\n        polygonEnd: function() {\n          stream.polygonEnd();\n          resample.lineStart = lineStart;\n        }\n      };\n      function point(x, y) {\n        x = project(x, y);\n        stream.point(x[0], x[1]);\n      }\n      function lineStart() {\n        x0 = NaN;\n        resample.point = linePoint;\n        stream.lineStart();\n      }\n      function linePoint(, ) {\n        var c = d3_geo_cartesian([ ,  ]), p = project(, );\n        resampleLineTo(x0, y0, 0, a0, b0, c0, x0 = p[0], y0 = p[1], 0 = , a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n        stream.point(x0, y0);\n      }\n      function lineEnd() {\n        resample.point = point;\n        stream.lineEnd();\n      }\n      function ringStart() {\n        lineStart();\n        resample.point = ringPoint;\n        resample.lineEnd = ringEnd;\n      }\n      function ringPoint(, ) {\n        linePoint(00 = , 00 = ), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n        resample.point = linePoint;\n      }\n      function ringEnd() {\n        resampleLineTo(x0, y0, 0, a0, b0, c0, x00, y00, 00, a00, b00, c00, maxDepth, stream);\n        resample.lineEnd = lineEnd;\n        lineEnd();\n      }\n      return resample;\n    }\n    function resampleLineTo(x0, y0, 0, a0, b0, c0, x1, y1, 1, a1, b1, c1, depth, stream) {\n      var dx = x1 - x0, dy = y1 - y0, d2 = dx * dx + dy * dy;\n      if (d2 > 4 * 2 && depth--) {\n        var a = a0 + a1, b = b0 + b1, c = c0 + c1, m = Math.sqrt(a * a + b * b + c * c), 2 = Math.asin(c /= m), 2 = abs(abs(c) - 1) <  || abs(0 - 1) <  ? (0 + 1) / 2 : Math.atan2(b, a), p = project(2, 2), x2 = p[0], y2 = p[1], dx2 = x2 - x0, dy2 = y2 - y0, dz = dy * dx2 - dx * dy2;\n        if (dz * dz / d2 > 2 || abs((dx * dx2 + dy * dy2) / d2 - .5) > .3 || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) {\n          resampleLineTo(x0, y0, 0, a0, b0, c0, x2, y2, 2, a /= m, b /= m, c, depth, stream);\n          stream.point(x2, y2);\n          resampleLineTo(x2, y2, 2, a, b, c, x1, y1, 1, a1, b1, c1, depth, stream);\n        }\n      }\n    }\n    resample.precision = function(_) {\n      if (!arguments.length) return Math.sqrt(2);\n      maxDepth = (2 = _ * _) > 0 && 16;\n      return resample;\n    };\n    return resample;\n  }\n  d3.geo.path = function() {\n    var pointRadius = 4.5, projection, context, projectStream, contextStream, cacheStream;\n    function path(object) {\n      if (object) {\n        if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n        if (!cacheStream || !cacheStream.valid) cacheStream = projectStream(contextStream);\n        d3.geo.stream(object, cacheStream);\n      }\n      return contextStream.result();\n    }\n    path.area = function(object) {\n      d3_geo_pathAreaSum = 0;\n      d3.geo.stream(object, projectStream(d3_geo_pathArea));\n      return d3_geo_pathAreaSum;\n    };\n    path.centroid = function(object) {\n      d3_geo_centroidX0 = d3_geo_centroidY0 = d3_geo_centroidZ0 = d3_geo_centroidX1 = d3_geo_centroidY1 = d3_geo_centroidZ1 = d3_geo_centroidX2 = d3_geo_centroidY2 = d3_geo_centroidZ2 = 0;\n      d3.geo.stream(object, projectStream(d3_geo_pathCentroid));\n      return d3_geo_centroidZ2 ? [ d3_geo_centroidX2 / d3_geo_centroidZ2, d3_geo_centroidY2 / d3_geo_centroidZ2 ] : d3_geo_centroidZ1 ? [ d3_geo_centroidX1 / d3_geo_centroidZ1, d3_geo_centroidY1 / d3_geo_centroidZ1 ] : d3_geo_centroidZ0 ? [ d3_geo_centroidX0 / d3_geo_centroidZ0, d3_geo_centroidY0 / d3_geo_centroidZ0 ] : [ NaN, NaN ];\n    };\n    path.bounds = function(object) {\n      d3_geo_pathBoundsX1 = d3_geo_pathBoundsY1 = -(d3_geo_pathBoundsX0 = d3_geo_pathBoundsY0 = Infinity);\n      d3.geo.stream(object, projectStream(d3_geo_pathBounds));\n      return [ [ d3_geo_pathBoundsX0, d3_geo_pathBoundsY0 ], [ d3_geo_pathBoundsX1, d3_geo_pathBoundsY1 ] ];\n    };\n    path.projection = function(_) {\n      if (!arguments.length) return projection;\n      projectStream = (projection = _) ? _.stream || d3_geo_pathProjectStream(_) : d3_identity;\n      return reset();\n    };\n    path.context = function(_) {\n      if (!arguments.length) return context;\n      contextStream = (context = _) == null ? new d3_geo_pathBuffer() : new d3_geo_pathContext(_);\n      if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n      return reset();\n    };\n    path.pointRadius = function(_) {\n      if (!arguments.length) return pointRadius;\n      pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n      return path;\n    };\n    function reset() {\n      cacheStream = null;\n      return path;\n    }\n    return path.projection(d3.geo.albersUsa()).context(null);\n  };\n  function d3_geo_pathProjectStream(project) {\n    var resample = d3_geo_resample(function(x, y) {\n      return project([ x * d3_degrees, y * d3_degrees ]);\n    });\n    return function(stream) {\n      return d3_geo_projectionRadians(resample(stream));\n    };\n  }\n  d3.geo.transform = function(methods) {\n    return {\n      stream: function(stream) {\n        var transform = new d3_geo_transform(stream);\n        for (var k in methods) transform[k] = methods[k];\n        return transform;\n      }\n    };\n  };\n  function d3_geo_transform(stream) {\n    this.stream = stream;\n  }\n  d3_geo_transform.prototype = {\n    point: function(x, y) {\n      this.stream.point(x, y);\n    },\n    sphere: function() {\n      this.stream.sphere();\n    },\n    lineStart: function() {\n      this.stream.lineStart();\n    },\n    lineEnd: function() {\n      this.stream.lineEnd();\n    },\n    polygonStart: function() {\n      this.stream.polygonStart();\n    },\n    polygonEnd: function() {\n      this.stream.polygonEnd();\n    }\n  };\n  function d3_geo_transformPoint(stream, point) {\n    return {\n      point: point,\n      sphere: function() {\n        stream.sphere();\n      },\n      lineStart: function() {\n        stream.lineStart();\n      },\n      lineEnd: function() {\n        stream.lineEnd();\n      },\n      polygonStart: function() {\n        stream.polygonStart();\n      },\n      polygonEnd: function() {\n        stream.polygonEnd();\n      }\n    };\n  }\n  d3.geo.projection = d3_geo_projection;\n  d3.geo.projectionMutator = d3_geo_projectionMutator;\n  function d3_geo_projection(project) {\n    return d3_geo_projectionMutator(function() {\n      return project;\n    })();\n  }\n  function d3_geo_projectionMutator(projectAt) {\n    var project, rotate, projectRotate, projectResample = d3_geo_resample(function(x, y) {\n      x = project(x, y);\n      return [ x[0] * k + x, y - x[1] * k ];\n    }), k = 150, x = 480, y = 250,  = 0,  = 0,  = 0,  = 0,  = 0, x, y, preclip = d3_geo_clipAntimeridian, postclip = d3_identity, clipAngle = null, clipExtent = null, stream;\n    function projection(point) {\n      point = projectRotate(point[0] * d3_radians, point[1] * d3_radians);\n      return [ point[0] * k + x, y - point[1] * k ];\n    }\n    function invert(point) {\n      point = projectRotate.invert((point[0] - x) / k, (y - point[1]) / k);\n      return point && [ point[0] * d3_degrees, point[1] * d3_degrees ];\n    }\n    projection.stream = function(output) {\n      if (stream) stream.valid = false;\n      stream = d3_geo_projectionRadians(preclip(rotate, projectResample(postclip(output))));\n      stream.valid = true;\n      return stream;\n    };\n    projection.clipAngle = function(_) {\n      if (!arguments.length) return clipAngle;\n      preclip = _ == null ? (clipAngle = _, d3_geo_clipAntimeridian) : d3_geo_clipCircle((clipAngle = +_) * d3_radians);\n      return invalidate();\n    };\n    projection.clipExtent = function(_) {\n      if (!arguments.length) return clipExtent;\n      clipExtent = _;\n      postclip = _ ? d3_geo_clipExtent(_[0][0], _[0][1], _[1][0], _[1][1]) : d3_identity;\n      return invalidate();\n    };\n    projection.scale = function(_) {\n      if (!arguments.length) return k;\n      k = +_;\n      return reset();\n    };\n    projection.translate = function(_) {\n      if (!arguments.length) return [ x, y ];\n      x = +_[0];\n      y = +_[1];\n      return reset();\n    };\n    projection.center = function(_) {\n      if (!arguments.length) return [  * d3_degrees,  * d3_degrees ];\n       = _[0] % 360 * d3_radians;\n       = _[1] % 360 * d3_radians;\n      return reset();\n    };\n    projection.rotate = function(_) {\n      if (!arguments.length) return [  * d3_degrees,  * d3_degrees,  * d3_degrees ];\n       = _[0] % 360 * d3_radians;\n       = _[1] % 360 * d3_radians;\n       = _.length > 2 ? _[2] % 360 * d3_radians : 0;\n      return reset();\n    };\n    d3.rebind(projection, projectResample, \"precision\");\n    function reset() {\n      projectRotate = d3_geo_compose(rotate = d3_geo_rotation(, , ), project);\n      var center = project(, );\n      x = x - center[0] * k;\n      y = y + center[1] * k;\n      return invalidate();\n    }\n    function invalidate() {\n      if (stream) stream.valid = false, stream = null;\n      return projection;\n    }\n    return function() {\n      project = projectAt.apply(this, arguments);\n      projection.invert = project.invert && invert;\n      return reset();\n    };\n  }\n  function d3_geo_projectionRadians(stream) {\n    return d3_geo_transformPoint(stream, function(x, y) {\n      stream.point(x * d3_radians, y * d3_radians);\n    });\n  }\n  function d3_geo_equirectangular(, ) {\n    return [ ,  ];\n  }\n  (d3.geo.equirectangular = function() {\n    return d3_geo_projection(d3_geo_equirectangular);\n  }).raw = d3_geo_equirectangular.invert = d3_geo_equirectangular;\n  d3.geo.rotation = function(rotate) {\n    rotate = d3_geo_rotation(rotate[0] % 360 * d3_radians, rotate[1] * d3_radians, rotate.length > 2 ? rotate[2] * d3_radians : 0);\n    function forward(coordinates) {\n      coordinates = rotate(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n    }\n    forward.invert = function(coordinates) {\n      coordinates = rotate.invert(coordinates[0] * d3_radians, coordinates[1] * d3_radians);\n      return coordinates[0] *= d3_degrees, coordinates[1] *= d3_degrees, coordinates;\n    };\n    return forward;\n  };\n  function d3_geo_identityRotation(, ) {\n    return [  >  ?  -  :  < - ?  +  : ,  ];\n  }\n  d3_geo_identityRotation.invert = d3_geo_equirectangular;\n  function d3_geo_rotation(, , ) {\n    return  ?  ||  ? d3_geo_compose(d3_geo_rotation(), d3_geo_rotation(, )) : d3_geo_rotation() :  ||  ? d3_geo_rotation(, ) : d3_geo_identityRotation;\n  }\n  function d3_geo_forwardRotation() {\n    return function(, ) {\n      return  += , [  >  ?  -  :  < - ?  +  : ,  ];\n    };\n  }\n  function d3_geo_rotation() {\n    var rotation = d3_geo_forwardRotation();\n    rotation.invert = d3_geo_forwardRotation(-);\n    return rotation;\n  }\n  function d3_geo_rotation(, ) {\n    var cos = Math.cos(), sin = Math.sin(), cos = Math.cos(), sin = Math.sin();\n    function rotation(, ) {\n      var cos = Math.cos(), x = Math.cos() * cos, y = Math.sin() * cos, z = Math.sin(), k = z * cos + x * sin;\n      return [ Math.atan2(y * cos - k * sin, x * cos - z * sin), d3_asin(k * cos + y * sin) ];\n    }\n    rotation.invert = function(, ) {\n      var cos = Math.cos(), x = Math.cos() * cos, y = Math.sin() * cos, z = Math.sin(), k = z * cos - y * sin;\n      return [ Math.atan2(y * cos + z * sin, x * cos + k * sin), d3_asin(k * cos - x * sin) ];\n    };\n    return rotation;\n  }\n  d3.geo.circle = function() {\n    var origin = [ 0, 0 ], angle, precision = 6, interpolate;\n    function circle() {\n      var center = typeof origin === \"function\" ? origin.apply(this, arguments) : origin, rotate = d3_geo_rotation(-center[0] * d3_radians, -center[1] * d3_radians, 0).invert, ring = [];\n      interpolate(null, null, 1, {\n        point: function(x, y) {\n          ring.push(x = rotate(x, y));\n          x[0] *= d3_degrees, x[1] *= d3_degrees;\n        }\n      });\n      return {\n        type: \"Polygon\",\n        coordinates: [ ring ]\n      };\n    }\n    circle.origin = function(x) {\n      if (!arguments.length) return origin;\n      origin = x;\n      return circle;\n    };\n    circle.angle = function(x) {\n      if (!arguments.length) return angle;\n      interpolate = d3_geo_circleInterpolate((angle = +x) * d3_radians, precision * d3_radians);\n      return circle;\n    };\n    circle.precision = function(_) {\n      if (!arguments.length) return precision;\n      interpolate = d3_geo_circleInterpolate(angle * d3_radians, (precision = +_) * d3_radians);\n      return circle;\n    };\n    return circle.angle(90);\n  };\n  function d3_geo_circleInterpolate(radius, precision) {\n    var cr = Math.cos(radius), sr = Math.sin(radius);\n    return function(from, to, direction, listener) {\n      var step = direction * precision;\n      if (from != null) {\n        from = d3_geo_circleAngle(cr, from);\n        to = d3_geo_circleAngle(cr, to);\n        if (direction > 0 ? from < to : from > to) from += direction * ;\n      } else {\n        from = radius + direction * ;\n        to = radius - .5 * step;\n      }\n      for (var point, t = from; direction > 0 ? t > to : t < to; t -= step) {\n        listener.point((point = d3_geo_spherical([ cr, -sr * Math.cos(t), -sr * Math.sin(t) ]))[0], point[1]);\n      }\n    };\n  }\n  function d3_geo_circleAngle(cr, point) {\n    var a = d3_geo_cartesian(point);\n    a[0] -= cr;\n    d3_geo_cartesianNormalize(a);\n    var angle = d3_acos(-a[1]);\n    return ((-a[2] < 0 ? -angle : angle) + 2 * Math.PI - ) % (2 * Math.PI);\n  }\n  d3.geo.distance = function(a, b) {\n    var  = (b[0] - a[0]) * d3_radians, 0 = a[1] * d3_radians, 1 = b[1] * d3_radians, sin = Math.sin(), cos = Math.cos(), sin0 = Math.sin(0), cos0 = Math.cos(0), sin1 = Math.sin(1), cos1 = Math.cos(1), t;\n    return Math.atan2(Math.sqrt((t = cos1 * sin) * t + (t = cos0 * sin1 - sin0 * cos1 * cos) * t), sin0 * sin1 + cos0 * cos1 * cos);\n  };\n  d3.geo.graticule = function() {\n    var x1, x0, X1, X0, y1, y0, Y1, Y0, dx = 10, dy = dx, DX = 90, DY = 360, x, y, X, Y, precision = 2.5;\n    function graticule() {\n      return {\n        type: \"MultiLineString\",\n        coordinates: lines()\n      };\n    }\n    function lines() {\n      return d3.range(Math.ceil(X0 / DX) * DX, X1, DX).map(X).concat(d3.range(Math.ceil(Y0 / DY) * DY, Y1, DY).map(Y)).concat(d3.range(Math.ceil(x0 / dx) * dx, x1, dx).filter(function(x) {\n        return abs(x % DX) > ;\n      }).map(x)).concat(d3.range(Math.ceil(y0 / dy) * dy, y1, dy).filter(function(y) {\n        return abs(y % DY) > ;\n      }).map(y));\n    }\n    graticule.lines = function() {\n      return lines().map(function(coordinates) {\n        return {\n          type: \"LineString\",\n          coordinates: coordinates\n        };\n      });\n    };\n    graticule.outline = function() {\n      return {\n        type: \"Polygon\",\n        coordinates: [ X(X0).concat(Y(Y1).slice(1), X(X1).reverse().slice(1), Y(Y0).reverse().slice(1)) ]\n      };\n    };\n    graticule.extent = function(_) {\n      if (!arguments.length) return graticule.minorExtent();\n      return graticule.majorExtent(_).minorExtent(_);\n    };\n    graticule.majorExtent = function(_) {\n      if (!arguments.length) return [ [ X0, Y0 ], [ X1, Y1 ] ];\n      X0 = +_[0][0], X1 = +_[1][0];\n      Y0 = +_[0][1], Y1 = +_[1][1];\n      if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n      if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n      return graticule.precision(precision);\n    };\n    graticule.minorExtent = function(_) {\n      if (!arguments.length) return [ [ x0, y0 ], [ x1, y1 ] ];\n      x0 = +_[0][0], x1 = +_[1][0];\n      y0 = +_[0][1], y1 = +_[1][1];\n      if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n      if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n      return graticule.precision(precision);\n    };\n    graticule.step = function(_) {\n      if (!arguments.length) return graticule.minorStep();\n      return graticule.majorStep(_).minorStep(_);\n    };\n    graticule.majorStep = function(_) {\n      if (!arguments.length) return [ DX, DY ];\n      DX = +_[0], DY = +_[1];\n      return graticule;\n    };\n    graticule.minorStep = function(_) {\n      if (!arguments.length) return [ dx, dy ];\n      dx = +_[0], dy = +_[1];\n      return graticule;\n    };\n    graticule.precision = function(_) {\n      if (!arguments.length) return precision;\n      precision = +_;\n      x = d3_geo_graticuleX(y0, y1, 90);\n      y = d3_geo_graticuleY(x0, x1, precision);\n      X = d3_geo_graticuleX(Y0, Y1, 90);\n      Y = d3_geo_graticuleY(X0, X1, precision);\n      return graticule;\n    };\n    return graticule.majorExtent([ [ -180, -90 +  ], [ 180, 90 -  ] ]).minorExtent([ [ -180, -80 -  ], [ 180, 80 +  ] ]);\n  };\n  function d3_geo_graticuleX(y0, y1, dy) {\n    var y = d3.range(y0, y1 - , dy).concat(y1);\n    return function(x) {\n      return y.map(function(y) {\n        return [ x, y ];\n      });\n    };\n  }\n  function d3_geo_graticuleY(x0, x1, dx) {\n    var x = d3.range(x0, x1 - , dx).concat(x1);\n    return function(y) {\n      return x.map(function(x) {\n        return [ x, y ];\n      });\n    };\n  }\n  function d3_source(d) {\n    return d.source;\n  }\n  function d3_target(d) {\n    return d.target;\n  }\n  d3.geo.greatArc = function() {\n    var source = d3_source, source_, target = d3_target, target_;\n    function greatArc() {\n      return {\n        type: \"LineString\",\n        coordinates: [ source_ || source.apply(this, arguments), target_ || target.apply(this, arguments) ]\n      };\n    }\n    greatArc.distance = function() {\n      return d3.geo.distance(source_ || source.apply(this, arguments), target_ || target.apply(this, arguments));\n    };\n    greatArc.source = function(_) {\n      if (!arguments.length) return source;\n      source = _, source_ = typeof _ === \"function\" ? null : _;\n      return greatArc;\n    };\n    greatArc.target = function(_) {\n      if (!arguments.length) return target;\n      target = _, target_ = typeof _ === \"function\" ? null : _;\n      return greatArc;\n    };\n    greatArc.precision = function() {\n      return arguments.length ? greatArc : 0;\n    };\n    return greatArc;\n  };\n  d3.geo.interpolate = function(source, target) {\n    return d3_geo_interpolate(source[0] * d3_radians, source[1] * d3_radians, target[0] * d3_radians, target[1] * d3_radians);\n  };\n  function d3_geo_interpolate(x0, y0, x1, y1) {\n    var cy0 = Math.cos(y0), sy0 = Math.sin(y0), cy1 = Math.cos(y1), sy1 = Math.sin(y1), kx0 = cy0 * Math.cos(x0), ky0 = cy0 * Math.sin(x0), kx1 = cy1 * Math.cos(x1), ky1 = cy1 * Math.sin(x1), d = 2 * Math.asin(Math.sqrt(d3_haversin(y1 - y0) + cy0 * cy1 * d3_haversin(x1 - x0))), k = 1 / Math.sin(d);\n    var interpolate = d ? function(t) {\n      var B = Math.sin(t *= d) * k, A = Math.sin(d - t) * k, x = A * kx0 + B * kx1, y = A * ky0 + B * ky1, z = A * sy0 + B * sy1;\n      return [ Math.atan2(y, x) * d3_degrees, Math.atan2(z, Math.sqrt(x * x + y * y)) * d3_degrees ];\n    } : function() {\n      return [ x0 * d3_degrees, y0 * d3_degrees ];\n    };\n    interpolate.distance = d;\n    return interpolate;\n  }\n  d3.geo.length = function(object) {\n    d3_geo_lengthSum = 0;\n    d3.geo.stream(object, d3_geo_length);\n    return d3_geo_lengthSum;\n  };\n  var d3_geo_lengthSum;\n  var d3_geo_length = {\n    sphere: d3_noop,\n    point: d3_noop,\n    lineStart: d3_geo_lengthLineStart,\n    lineEnd: d3_noop,\n    polygonStart: d3_noop,\n    polygonEnd: d3_noop\n  };\n  function d3_geo_lengthLineStart() {\n    var 0, sin0, cos0;\n    d3_geo_length.point = function(, ) {\n      0 =  * d3_radians, sin0 = Math.sin( *= d3_radians), cos0 = Math.cos();\n      d3_geo_length.point = nextPoint;\n    };\n    d3_geo_length.lineEnd = function() {\n      d3_geo_length.point = d3_geo_length.lineEnd = d3_noop;\n    };\n    function nextPoint(, ) {\n      var sin = Math.sin( *= d3_radians), cos = Math.cos(), t = abs(( *= d3_radians) - 0), cos = Math.cos(t);\n      d3_geo_lengthSum += Math.atan2(Math.sqrt((t = cos * Math.sin(t)) * t + (t = cos0 * sin - sin0 * cos * cos) * t), sin0 * sin + cos0 * cos * cos);\n      0 = , sin0 = sin, cos0 = cos;\n    }\n  }\n  function d3_geo_azimuthal(scale, angle) {\n    function azimuthal(, ) {\n      var cos = Math.cos(), cos = Math.cos(), k = scale(cos * cos);\n      return [ k * cos * Math.sin(), k * Math.sin() ];\n    }\n    azimuthal.invert = function(x, y) {\n      var  = Math.sqrt(x * x + y * y), c = angle(), sinc = Math.sin(c), cosc = Math.cos(c);\n      return [ Math.atan2(x * sinc,  * cosc), Math.asin( && y * sinc / ) ];\n    };\n    return azimuthal;\n  }\n  var d3_geo_azimuthalEqualArea = d3_geo_azimuthal(function(coscos) {\n    return Math.sqrt(2 / (1 + coscos));\n  }, function() {\n    return 2 * Math.asin( / 2);\n  });\n  (d3.geo.azimuthalEqualArea = function() {\n    return d3_geo_projection(d3_geo_azimuthalEqualArea);\n  }).raw = d3_geo_azimuthalEqualArea;\n  var d3_geo_azimuthalEquidistant = d3_geo_azimuthal(function(coscos) {\n    var c = Math.acos(coscos);\n    return c && c / Math.sin(c);\n  }, d3_identity);\n  (d3.geo.azimuthalEquidistant = function() {\n    return d3_geo_projection(d3_geo_azimuthalEquidistant);\n  }).raw = d3_geo_azimuthalEquidistant;\n  function d3_geo_conicConformal(0, 1) {\n    var cos0 = Math.cos(0), t = function() {\n      return Math.tan( / 4 +  / 2);\n    }, n = 0 === 1 ? Math.sin(0) : Math.log(cos0 / Math.cos(1)) / Math.log(t(1) / t(0)), F = cos0 * Math.pow(t(0), n) / n;\n    if (!n) return d3_geo_mercator;\n    function forward(, ) {\n      if (F > 0) {\n        if ( < -half + )  = -half + ;\n      } else {\n        if ( > half - )  = half - ;\n      }\n      var  = F / Math.pow(t(), n);\n      return [  * Math.sin(n * ), F -  * Math.cos(n * ) ];\n    }\n    forward.invert = function(x, y) {\n      var 0_y = F - y,  = d3_sgn(n) * Math.sqrt(x * x + 0_y * 0_y);\n      return [ Math.atan2(x, 0_y) / n, 2 * Math.atan(Math.pow(F / , 1 / n)) - half ];\n    };\n    return forward;\n  }\n  (d3.geo.conicConformal = function() {\n    return d3_geo_conic(d3_geo_conicConformal);\n  }).raw = d3_geo_conicConformal;\n  function d3_geo_conicEquidistant(0, 1) {\n    var cos0 = Math.cos(0), n = 0 === 1 ? Math.sin(0) : (cos0 - Math.cos(1)) / (1 - 0), G = cos0 / n + 0;\n    if (abs(n) < ) return d3_geo_equirectangular;\n    function forward(, ) {\n      var  = G - ;\n      return [  * Math.sin(n * ), G -  * Math.cos(n * ) ];\n    }\n    forward.invert = function(x, y) {\n      var 0_y = G - y;\n      return [ Math.atan2(x, 0_y) / n, G - d3_sgn(n) * Math.sqrt(x * x + 0_y * 0_y) ];\n    };\n    return forward;\n  }\n  (d3.geo.conicEquidistant = function() {\n    return d3_geo_conic(d3_geo_conicEquidistant);\n  }).raw = d3_geo_conicEquidistant;\n  var d3_geo_gnomonic = d3_geo_azimuthal(function(coscos) {\n    return 1 / coscos;\n  }, Math.atan);\n  (d3.geo.gnomonic = function() {\n    return d3_geo_projection(d3_geo_gnomonic);\n  }).raw = d3_geo_gnomonic;\n  function d3_geo_mercator(, ) {\n    return [ , Math.log(Math.tan( / 4 +  / 2)) ];\n  }\n  d3_geo_mercator.invert = function(x, y) {\n    return [ x, 2 * Math.atan(Math.exp(y)) - half ];\n  };\n  function d3_geo_mercatorProjection(project) {\n    var m = d3_geo_projection(project), scale = m.scale, translate = m.translate, clipExtent = m.clipExtent, clipAuto;\n    m.scale = function() {\n      var v = scale.apply(m, arguments);\n      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n    };\n    m.translate = function() {\n      var v = translate.apply(m, arguments);\n      return v === m ? clipAuto ? m.clipExtent(null) : m : v;\n    };\n    m.clipExtent = function(_) {\n      var v = clipExtent.apply(m, arguments);\n      if (v === m) {\n        if (clipAuto = _ == null) {\n          var k =  * scale(), t = translate();\n          clipExtent([ [ t[0] - k, t[1] - k ], [ t[0] + k, t[1] + k ] ]);\n        }\n      } else if (clipAuto) {\n        v = null;\n      }\n      return v;\n    };\n    return m.clipExtent(null);\n  }\n  (d3.geo.mercator = function() {\n    return d3_geo_mercatorProjection(d3_geo_mercator);\n  }).raw = d3_geo_mercator;\n  var d3_geo_orthographic = d3_geo_azimuthal(function() {\n    return 1;\n  }, Math.asin);\n  (d3.geo.orthographic = function() {\n    return d3_geo_projection(d3_geo_orthographic);\n  }).raw = d3_geo_orthographic;\n  var d3_geo_stereographic = d3_geo_azimuthal(function(coscos) {\n    return 1 / (1 + coscos);\n  }, function() {\n    return 2 * Math.atan();\n  });\n  (d3.geo.stereographic = function() {\n    return d3_geo_projection(d3_geo_stereographic);\n  }).raw = d3_geo_stereographic;\n  function d3_geo_transverseMercator(, ) {\n    return [ Math.log(Math.tan( / 4 +  / 2)), - ];\n  }\n  d3_geo_transverseMercator.invert = function(x, y) {\n    return [ -y, 2 * Math.atan(Math.exp(x)) - half ];\n  };\n  (d3.geo.transverseMercator = function() {\n    var projection = d3_geo_mercatorProjection(d3_geo_transverseMercator), center = projection.center, rotate = projection.rotate;\n    projection.center = function(_) {\n      return _ ? center([ -_[1], _[0] ]) : (_ = center(), [ _[1], -_[0] ]);\n    };\n    projection.rotate = function(_) {\n      return _ ? rotate([ _[0], _[1], _.length > 2 ? _[2] + 90 : 90 ]) : (_ = rotate(), \n      [ _[0], _[1], _[2] - 90 ]);\n    };\n    return rotate([ 0, 0, 90 ]);\n  }).raw = d3_geo_transverseMercator;\n  d3.geom = {};\n  function d3_geom_pointX(d) {\n    return d[0];\n  }\n  function d3_geom_pointY(d) {\n    return d[1];\n  }\n  d3.geom.hull = function(vertices) {\n    var x = d3_geom_pointX, y = d3_geom_pointY;\n    if (arguments.length) return hull(vertices);\n    function hull(data) {\n      if (data.length < 3) return [];\n      var fx = d3_functor(x), fy = d3_functor(y), i, n = data.length, points = [], flippedPoints = [];\n      for (i = 0; i < n; i++) {\n        points.push([ +fx.call(this, data[i], i), +fy.call(this, data[i], i), i ]);\n      }\n      points.sort(d3_geom_hullOrder);\n      for (i = 0; i < n; i++) flippedPoints.push([ points[i][0], -points[i][1] ]);\n      var upper = d3_geom_hullUpper(points), lower = d3_geom_hullUpper(flippedPoints);\n      var skipLeft = lower[0] === upper[0], skipRight = lower[lower.length - 1] === upper[upper.length - 1], polygon = [];\n      for (i = upper.length - 1; i >= 0; --i) polygon.push(data[points[upper[i]][2]]);\n      for (i = +skipLeft; i < lower.length - skipRight; ++i) polygon.push(data[points[lower[i]][2]]);\n      return polygon;\n    }\n    hull.x = function(_) {\n      return arguments.length ? (x = _, hull) : x;\n    };\n    hull.y = function(_) {\n      return arguments.length ? (y = _, hull) : y;\n    };\n    return hull;\n  };\n  function d3_geom_hullUpper(points) {\n    var n = points.length, hull = [ 0, 1 ], hs = 2;\n    for (var i = 2; i < n; i++) {\n      while (hs > 1 && d3_cross2d(points[hull[hs - 2]], points[hull[hs - 1]], points[i]) <= 0) --hs;\n      hull[hs++] = i;\n    }\n    return hull.slice(0, hs);\n  }\n  function d3_geom_hullOrder(a, b) {\n    return a[0] - b[0] || a[1] - b[1];\n  }\n  d3.geom.polygon = function(coordinates) {\n    d3_subclass(coordinates, d3_geom_polygonPrototype);\n    return coordinates;\n  };\n  var d3_geom_polygonPrototype = d3.geom.polygon.prototype = [];\n  d3_geom_polygonPrototype.area = function() {\n    var i = -1, n = this.length, a, b = this[n - 1], area = 0;\n    while (++i < n) {\n      a = b;\n      b = this[i];\n      area += a[1] * b[0] - a[0] * b[1];\n    }\n    return area * .5;\n  };\n  d3_geom_polygonPrototype.centroid = function(k) {\n    var i = -1, n = this.length, x = 0, y = 0, a, b = this[n - 1], c;\n    if (!arguments.length) k = -1 / (6 * this.area());\n    while (++i < n) {\n      a = b;\n      b = this[i];\n      c = a[0] * b[1] - b[0] * a[1];\n      x += (a[0] + b[0]) * c;\n      y += (a[1] + b[1]) * c;\n    }\n    return [ x * k, y * k ];\n  };\n  d3_geom_polygonPrototype.clip = function(subject) {\n    var input, closed = d3_geom_polygonClosed(subject), i = -1, n = this.length - d3_geom_polygonClosed(this), j, m, a = this[n - 1], b, c, d;\n    while (++i < n) {\n      input = subject.slice();\n      subject.length = 0;\n      b = this[i];\n      c = input[(m = input.length - closed) - 1];\n      j = -1;\n      while (++j < m) {\n        d = input[j];\n        if (d3_geom_polygonInside(d, a, b)) {\n          if (!d3_geom_polygonInside(c, a, b)) {\n            subject.push(d3_geom_polygonIntersect(c, d, a, b));\n          }\n          subject.push(d);\n        } else if (d3_geom_polygonInside(c, a, b)) {\n          subject.push(d3_geom_polygonIntersect(c, d, a, b));\n        }\n        c = d;\n      }\n      if (closed) subject.push(subject[0]);\n      a = b;\n    }\n    return subject;\n  };\n  function d3_geom_polygonInside(p, a, b) {\n    return (b[0] - a[0]) * (p[1] - a[1]) < (b[1] - a[1]) * (p[0] - a[0]);\n  }\n  function d3_geom_polygonIntersect(c, d, a, b) {\n    var x1 = c[0], x3 = a[0], x21 = d[0] - x1, x43 = b[0] - x3, y1 = c[1], y3 = a[1], y21 = d[1] - y1, y43 = b[1] - y3, ua = (x43 * (y1 - y3) - y43 * (x1 - x3)) / (y43 * x21 - x43 * y21);\n    return [ x1 + ua * x21, y1 + ua * y21 ];\n  }\n  function d3_geom_polygonClosed(coordinates) {\n    var a = coordinates[0], b = coordinates[coordinates.length - 1];\n    return !(a[0] - b[0] || a[1] - b[1]);\n  }\n  var d3_geom_voronoiEdges, d3_geom_voronoiCells, d3_geom_voronoiBeaches, d3_geom_voronoiBeachPool = [], d3_geom_voronoiFirstCircle, d3_geom_voronoiCircles, d3_geom_voronoiCirclePool = [];\n  function d3_geom_voronoiBeach() {\n    d3_geom_voronoiRedBlackNode(this);\n    this.edge = this.site = this.circle = null;\n  }\n  function d3_geom_voronoiCreateBeach(site) {\n    var beach = d3_geom_voronoiBeachPool.pop() || new d3_geom_voronoiBeach();\n    beach.site = site;\n    return beach;\n  }\n  function d3_geom_voronoiDetachBeach(beach) {\n    d3_geom_voronoiDetachCircle(beach);\n    d3_geom_voronoiBeaches.remove(beach);\n    d3_geom_voronoiBeachPool.push(beach);\n    d3_geom_voronoiRedBlackNode(beach);\n  }\n  function d3_geom_voronoiRemoveBeach(beach) {\n    var circle = beach.circle, x = circle.x, y = circle.cy, vertex = {\n      x: x,\n      y: y\n    }, previous = beach.P, next = beach.N, disappearing = [ beach ];\n    d3_geom_voronoiDetachBeach(beach);\n    var lArc = previous;\n    while (lArc.circle && abs(x - lArc.circle.x) <  && abs(y - lArc.circle.cy) < ) {\n      previous = lArc.P;\n      disappearing.unshift(lArc);\n      d3_geom_voronoiDetachBeach(lArc);\n      lArc = previous;\n    }\n    disappearing.unshift(lArc);\n    d3_geom_voronoiDetachCircle(lArc);\n    var rArc = next;\n    while (rArc.circle && abs(x - rArc.circle.x) <  && abs(y - rArc.circle.cy) < ) {\n      next = rArc.N;\n      disappearing.push(rArc);\n      d3_geom_voronoiDetachBeach(rArc);\n      rArc = next;\n    }\n    disappearing.push(rArc);\n    d3_geom_voronoiDetachCircle(rArc);\n    var nArcs = disappearing.length, iArc;\n    for (iArc = 1; iArc < nArcs; ++iArc) {\n      rArc = disappearing[iArc];\n      lArc = disappearing[iArc - 1];\n      d3_geom_voronoiSetEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n    }\n    lArc = disappearing[0];\n    rArc = disappearing[nArcs - 1];\n    rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, rArc.site, null, vertex);\n    d3_geom_voronoiAttachCircle(lArc);\n    d3_geom_voronoiAttachCircle(rArc);\n  }\n  function d3_geom_voronoiAddBeach(site) {\n    var x = site.x, directrix = site.y, lArc, rArc, dxl, dxr, node = d3_geom_voronoiBeaches._;\n    while (node) {\n      dxl = d3_geom_voronoiLeftBreakPoint(node, directrix) - x;\n      if (dxl > ) node = node.L; else {\n        dxr = x - d3_geom_voronoiRightBreakPoint(node, directrix);\n        if (dxr > ) {\n          if (!node.R) {\n            lArc = node;\n            break;\n          }\n          node = node.R;\n        } else {\n          if (dxl > -) {\n            lArc = node.P;\n            rArc = node;\n          } else if (dxr > -) {\n            lArc = node;\n            rArc = node.N;\n          } else {\n            lArc = rArc = node;\n          }\n          break;\n        }\n      }\n    }\n    var newArc = d3_geom_voronoiCreateBeach(site);\n    d3_geom_voronoiBeaches.insert(lArc, newArc);\n    if (!lArc && !rArc) return;\n    if (lArc === rArc) {\n      d3_geom_voronoiDetachCircle(lArc);\n      rArc = d3_geom_voronoiCreateBeach(lArc.site);\n      d3_geom_voronoiBeaches.insert(newArc, rArc);\n      newArc.edge = rArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n      d3_geom_voronoiAttachCircle(lArc);\n      d3_geom_voronoiAttachCircle(rArc);\n      return;\n    }\n    if (!rArc) {\n      newArc.edge = d3_geom_voronoiCreateEdge(lArc.site, newArc.site);\n      return;\n    }\n    d3_geom_voronoiDetachCircle(lArc);\n    d3_geom_voronoiDetachCircle(rArc);\n    var lSite = lArc.site, ax = lSite.x, ay = lSite.y, bx = site.x - ax, by = site.y - ay, rSite = rArc.site, cx = rSite.x - ax, cy = rSite.y - ay, d = 2 * (bx * cy - by * cx), hb = bx * bx + by * by, hc = cx * cx + cy * cy, vertex = {\n      x: (cy * hb - by * hc) / d + ax,\n      y: (bx * hc - cx * hb) / d + ay\n    };\n    d3_geom_voronoiSetEdgeEnd(rArc.edge, lSite, rSite, vertex);\n    newArc.edge = d3_geom_voronoiCreateEdge(lSite, site, null, vertex);\n    rArc.edge = d3_geom_voronoiCreateEdge(site, rSite, null, vertex);\n    d3_geom_voronoiAttachCircle(lArc);\n    d3_geom_voronoiAttachCircle(rArc);\n  }\n  function d3_geom_voronoiLeftBreakPoint(arc, directrix) {\n    var site = arc.site, rfocx = site.x, rfocy = site.y, pby2 = rfocy - directrix;\n    if (!pby2) return rfocx;\n    var lArc = arc.P;\n    if (!lArc) return -Infinity;\n    site = lArc.site;\n    var lfocx = site.x, lfocy = site.y, plby2 = lfocy - directrix;\n    if (!plby2) return lfocx;\n    var hl = lfocx - rfocx, aby2 = 1 / pby2 - 1 / plby2, b = hl / plby2;\n    if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n    return (rfocx + lfocx) / 2;\n  }\n  function d3_geom_voronoiRightBreakPoint(arc, directrix) {\n    var rArc = arc.N;\n    if (rArc) return d3_geom_voronoiLeftBreakPoint(rArc, directrix);\n    var site = arc.site;\n    return site.y === directrix ? site.x : Infinity;\n  }\n  function d3_geom_voronoiCell(site) {\n    this.site = site;\n    this.edges = [];\n  }\n  d3_geom_voronoiCell.prototype.prepare = function() {\n    var halfEdges = this.edges, iHalfEdge = halfEdges.length, edge;\n    while (iHalfEdge--) {\n      edge = halfEdges[iHalfEdge].edge;\n      if (!edge.b || !edge.a) halfEdges.splice(iHalfEdge, 1);\n    }\n    halfEdges.sort(d3_geom_voronoiHalfEdgeOrder);\n    return halfEdges.length;\n  };\n  function d3_geom_voronoiCloseCells(extent) {\n    var x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], x2, y2, x3, y3, cells = d3_geom_voronoiCells, iCell = cells.length, cell, iHalfEdge, halfEdges, nHalfEdges, start, end;\n    while (iCell--) {\n      cell = cells[iCell];\n      if (!cell || !cell.prepare()) continue;\n      halfEdges = cell.edges;\n      nHalfEdges = halfEdges.length;\n      iHalfEdge = 0;\n      while (iHalfEdge < nHalfEdges) {\n        end = halfEdges[iHalfEdge].end(), x3 = end.x, y3 = end.y;\n        start = halfEdges[++iHalfEdge % nHalfEdges].start(), x2 = start.x, y2 = start.y;\n        if (abs(x3 - x2) >  || abs(y3 - y2) > ) {\n          halfEdges.splice(iHalfEdge, 0, new d3_geom_voronoiHalfEdge(d3_geom_voronoiCreateBorderEdge(cell.site, end, abs(x3 - x0) <  && y1 - y3 >  ? {\n            x: x0,\n            y: abs(x2 - x0) <  ? y2 : y1\n          } : abs(y3 - y1) <  && x1 - x3 >  ? {\n            x: abs(y2 - y1) <  ? x2 : x1,\n            y: y1\n          } : abs(x3 - x1) <  && y3 - y0 >  ? {\n            x: x1,\n            y: abs(x2 - x1) <  ? y2 : y0\n          } : abs(y3 - y0) <  && x3 - x0 >  ? {\n            x: abs(y2 - y0) <  ? x2 : x0,\n            y: y0\n          } : null), cell.site, null));\n          ++nHalfEdges;\n        }\n      }\n    }\n  }\n  function d3_geom_voronoiHalfEdgeOrder(a, b) {\n    return b.angle - a.angle;\n  }\n  function d3_geom_voronoiCircle() {\n    d3_geom_voronoiRedBlackNode(this);\n    this.x = this.y = this.arc = this.site = this.cy = null;\n  }\n  function d3_geom_voronoiAttachCircle(arc) {\n    var lArc = arc.P, rArc = arc.N;\n    if (!lArc || !rArc) return;\n    var lSite = lArc.site, cSite = arc.site, rSite = rArc.site;\n    if (lSite === rSite) return;\n    var bx = cSite.x, by = cSite.y, ax = lSite.x - bx, ay = lSite.y - by, cx = rSite.x - bx, cy = rSite.y - by;\n    var d = 2 * (ax * cy - ay * cx);\n    if (d >= -2) return;\n    var ha = ax * ax + ay * ay, hc = cx * cx + cy * cy, x = (cy * ha - ay * hc) / d, y = (ax * hc - cx * ha) / d, cy = y + by;\n    var circle = d3_geom_voronoiCirclePool.pop() || new d3_geom_voronoiCircle();\n    circle.arc = arc;\n    circle.site = cSite;\n    circle.x = x + bx;\n    circle.y = cy + Math.sqrt(x * x + y * y);\n    circle.cy = cy;\n    arc.circle = circle;\n    var before = null, node = d3_geom_voronoiCircles._;\n    while (node) {\n      if (circle.y < node.y || circle.y === node.y && circle.x <= node.x) {\n        if (node.L) node = node.L; else {\n          before = node.P;\n          break;\n        }\n      } else {\n        if (node.R) node = node.R; else {\n          before = node;\n          break;\n        }\n      }\n    }\n    d3_geom_voronoiCircles.insert(before, circle);\n    if (!before) d3_geom_voronoiFirstCircle = circle;\n  }\n  function d3_geom_voronoiDetachCircle(arc) {\n    var circle = arc.circle;\n    if (circle) {\n      if (!circle.P) d3_geom_voronoiFirstCircle = circle.N;\n      d3_geom_voronoiCircles.remove(circle);\n      d3_geom_voronoiCirclePool.push(circle);\n      d3_geom_voronoiRedBlackNode(circle);\n      arc.circle = null;\n    }\n  }\n  function d3_geom_voronoiClipEdges(extent) {\n    var edges = d3_geom_voronoiEdges, clip = d3_geom_clipLine(extent[0][0], extent[0][1], extent[1][0], extent[1][1]), i = edges.length, e;\n    while (i--) {\n      e = edges[i];\n      if (!d3_geom_voronoiConnectEdge(e, extent) || !clip(e) || abs(e.a.x - e.b.x) <  && abs(e.a.y - e.b.y) < ) {\n        e.a = e.b = null;\n        edges.splice(i, 1);\n      }\n    }\n  }\n  function d3_geom_voronoiConnectEdge(edge, extent) {\n    var vb = edge.b;\n    if (vb) return true;\n    var va = edge.a, x0 = extent[0][0], x1 = extent[1][0], y0 = extent[0][1], y1 = extent[1][1], lSite = edge.l, rSite = edge.r, lx = lSite.x, ly = lSite.y, rx = rSite.x, ry = rSite.y, fx = (lx + rx) / 2, fy = (ly + ry) / 2, fm, fb;\n    if (ry === ly) {\n      if (fx < x0 || fx >= x1) return;\n      if (lx > rx) {\n        if (!va) va = {\n          x: fx,\n          y: y0\n        }; else if (va.y >= y1) return;\n        vb = {\n          x: fx,\n          y: y1\n        };\n      } else {\n        if (!va) va = {\n          x: fx,\n          y: y1\n        }; else if (va.y < y0) return;\n        vb = {\n          x: fx,\n          y: y0\n        };\n      }\n    } else {\n      fm = (lx - rx) / (ry - ly);\n      fb = fy - fm * fx;\n      if (fm < -1 || fm > 1) {\n        if (lx > rx) {\n          if (!va) va = {\n            x: (y0 - fb) / fm,\n            y: y0\n          }; else if (va.y >= y1) return;\n          vb = {\n            x: (y1 - fb) / fm,\n            y: y1\n          };\n        } else {\n          if (!va) va = {\n            x: (y1 - fb) / fm,\n            y: y1\n          }; else if (va.y < y0) return;\n          vb = {\n            x: (y0 - fb) / fm,\n            y: y0\n          };\n        }\n      } else {\n        if (ly < ry) {\n          if (!va) va = {\n            x: x0,\n            y: fm * x0 + fb\n          }; else if (va.x >= x1) return;\n          vb = {\n            x: x1,\n            y: fm * x1 + fb\n          };\n        } else {\n          if (!va) va = {\n            x: x1,\n            y: fm * x1 + fb\n          }; else if (va.x < x0) return;\n          vb = {\n            x: x0,\n            y: fm * x0 + fb\n          };\n        }\n      }\n    }\n    edge.a = va;\n    edge.b = vb;\n    return true;\n  }\n  function d3_geom_voronoiEdge(lSite, rSite) {\n    this.l = lSite;\n    this.r = rSite;\n    this.a = this.b = null;\n  }\n  function d3_geom_voronoiCreateEdge(lSite, rSite, va, vb) {\n    var edge = new d3_geom_voronoiEdge(lSite, rSite);\n    d3_geom_voronoiEdges.push(edge);\n    if (va) d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, va);\n    if (vb) d3_geom_voronoiSetEdgeEnd(edge, rSite, lSite, vb);\n    d3_geom_voronoiCells[lSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, lSite, rSite));\n    d3_geom_voronoiCells[rSite.i].edges.push(new d3_geom_voronoiHalfEdge(edge, rSite, lSite));\n    return edge;\n  }\n  function d3_geom_voronoiCreateBorderEdge(lSite, va, vb) {\n    var edge = new d3_geom_voronoiEdge(lSite, null);\n    edge.a = va;\n    edge.b = vb;\n    d3_geom_voronoiEdges.push(edge);\n    return edge;\n  }\n  function d3_geom_voronoiSetEdgeEnd(edge, lSite, rSite, vertex) {\n    if (!edge.a && !edge.b) {\n      edge.a = vertex;\n      edge.l = lSite;\n      edge.r = rSite;\n    } else if (edge.l === rSite) {\n      edge.b = vertex;\n    } else {\n      edge.a = vertex;\n    }\n  }\n  function d3_geom_voronoiHalfEdge(edge, lSite, rSite) {\n    var va = edge.a, vb = edge.b;\n    this.edge = edge;\n    this.site = lSite;\n    this.angle = rSite ? Math.atan2(rSite.y - lSite.y, rSite.x - lSite.x) : edge.l === lSite ? Math.atan2(vb.x - va.x, va.y - vb.y) : Math.atan2(va.x - vb.x, vb.y - va.y);\n  }\n  d3_geom_voronoiHalfEdge.prototype = {\n    start: function() {\n      return this.edge.l === this.site ? this.edge.a : this.edge.b;\n    },\n    end: function() {\n      return this.edge.l === this.site ? this.edge.b : this.edge.a;\n    }\n  };\n  function d3_geom_voronoiRedBlackTree() {\n    this._ = null;\n  }\n  function d3_geom_voronoiRedBlackNode(node) {\n    node.U = node.C = node.L = node.R = node.P = node.N = null;\n  }\n  d3_geom_voronoiRedBlackTree.prototype = {\n    insert: function(after, node) {\n      var parent, grandpa, uncle;\n      if (after) {\n        node.P = after;\n        node.N = after.N;\n        if (after.N) after.N.P = node;\n        after.N = node;\n        if (after.R) {\n          after = after.R;\n          while (after.L) after = after.L;\n          after.L = node;\n        } else {\n          after.R = node;\n        }\n        parent = after;\n      } else if (this._) {\n        after = d3_geom_voronoiRedBlackFirst(this._);\n        node.P = null;\n        node.N = after;\n        after.P = after.L = node;\n        parent = after;\n      } else {\n        node.P = node.N = null;\n        this._ = node;\n        parent = null;\n      }\n      node.L = node.R = null;\n      node.U = parent;\n      node.C = true;\n      after = node;\n      while (parent && parent.C) {\n        grandpa = parent.U;\n        if (parent === grandpa.L) {\n          uncle = grandpa.R;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.R) {\n              d3_geom_voronoiRedBlackRotateLeft(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            d3_geom_voronoiRedBlackRotateRight(this, grandpa);\n          }\n        } else {\n          uncle = grandpa.L;\n          if (uncle && uncle.C) {\n            parent.C = uncle.C = false;\n            grandpa.C = true;\n            after = grandpa;\n          } else {\n            if (after === parent.L) {\n              d3_geom_voronoiRedBlackRotateRight(this, parent);\n              after = parent;\n              parent = after.U;\n            }\n            parent.C = false;\n            grandpa.C = true;\n            d3_geom_voronoiRedBlackRotateLeft(this, grandpa);\n          }\n        }\n        parent = after.U;\n      }\n      this._.C = false;\n    },\n    remove: function(node) {\n      if (node.N) node.N.P = node.P;\n      if (node.P) node.P.N = node.N;\n      node.N = node.P = null;\n      var parent = node.U, sibling, left = node.L, right = node.R, next, red;\n      if (!left) next = right; else if (!right) next = left; else next = d3_geom_voronoiRedBlackFirst(right);\n      if (parent) {\n        if (parent.L === node) parent.L = next; else parent.R = next;\n      } else {\n        this._ = next;\n      }\n      if (left && right) {\n        red = next.C;\n        next.C = node.C;\n        next.L = left;\n        left.U = next;\n        if (next !== right) {\n          parent = next.U;\n          next.U = node.U;\n          node = next.R;\n          parent.L = node;\n          next.R = right;\n          right.U = next;\n        } else {\n          next.U = parent;\n          parent = next;\n          node = next.R;\n        }\n      } else {\n        red = node.C;\n        node = next;\n      }\n      if (node) node.U = parent;\n      if (red) return;\n      if (node && node.C) {\n        node.C = false;\n        return;\n      }\n      do {\n        if (node === this._) break;\n        if (node === parent.L) {\n          sibling = parent.R;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n            sibling = parent.R;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.R || !sibling.R.C) {\n              sibling.L.C = false;\n              sibling.C = true;\n              d3_geom_voronoiRedBlackRotateRight(this, sibling);\n              sibling = parent.R;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.R.C = false;\n            d3_geom_voronoiRedBlackRotateLeft(this, parent);\n            node = this._;\n            break;\n          }\n        } else {\n          sibling = parent.L;\n          if (sibling.C) {\n            sibling.C = false;\n            parent.C = true;\n            d3_geom_voronoiRedBlackRotateRight(this, parent);\n            sibling = parent.L;\n          }\n          if (sibling.L && sibling.L.C || sibling.R && sibling.R.C) {\n            if (!sibling.L || !sibling.L.C) {\n              sibling.R.C = false;\n              sibling.C = true;\n              d3_geom_voronoiRedBlackRotateLeft(this, sibling);\n              sibling = parent.L;\n            }\n            sibling.C = parent.C;\n            parent.C = sibling.L.C = false;\n            d3_geom_voronoiRedBlackRotateRight(this, parent);\n            node = this._;\n            break;\n          }\n        }\n        sibling.C = true;\n        node = parent;\n        parent = parent.U;\n      } while (!node.C);\n      if (node) node.C = false;\n    }\n  };\n  function d3_geom_voronoiRedBlackRotateLeft(tree, node) {\n    var p = node, q = node.R, parent = p.U;\n    if (parent) {\n      if (parent.L === p) parent.L = q; else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n    q.U = parent;\n    p.U = q;\n    p.R = q.L;\n    if (p.R) p.R.U = p;\n    q.L = p;\n  }\n  function d3_geom_voronoiRedBlackRotateRight(tree, node) {\n    var p = node, q = node.L, parent = p.U;\n    if (parent) {\n      if (parent.L === p) parent.L = q; else parent.R = q;\n    } else {\n      tree._ = q;\n    }\n    q.U = parent;\n    p.U = q;\n    p.L = q.R;\n    if (p.L) p.L.U = p;\n    q.R = p;\n  }\n  function d3_geom_voronoiRedBlackFirst(node) {\n    while (node.L) node = node.L;\n    return node;\n  }\n  function d3_geom_voronoi(sites, bbox) {\n    var site = sites.sort(d3_geom_voronoiVertexOrder).pop(), x0, y0, circle;\n    d3_geom_voronoiEdges = [];\n    d3_geom_voronoiCells = new Array(sites.length);\n    d3_geom_voronoiBeaches = new d3_geom_voronoiRedBlackTree();\n    d3_geom_voronoiCircles = new d3_geom_voronoiRedBlackTree();\n    while (true) {\n      circle = d3_geom_voronoiFirstCircle;\n      if (site && (!circle || site.y < circle.y || site.y === circle.y && site.x < circle.x)) {\n        if (site.x !== x0 || site.y !== y0) {\n          d3_geom_voronoiCells[site.i] = new d3_geom_voronoiCell(site);\n          d3_geom_voronoiAddBeach(site);\n          x0 = site.x, y0 = site.y;\n        }\n        site = sites.pop();\n      } else if (circle) {\n        d3_geom_voronoiRemoveBeach(circle.arc);\n      } else {\n        break;\n      }\n    }\n    if (bbox) d3_geom_voronoiClipEdges(bbox), d3_geom_voronoiCloseCells(bbox);\n    var diagram = {\n      cells: d3_geom_voronoiCells,\n      edges: d3_geom_voronoiEdges\n    };\n    d3_geom_voronoiBeaches = d3_geom_voronoiCircles = d3_geom_voronoiEdges = d3_geom_voronoiCells = null;\n    return diagram;\n  }\n  function d3_geom_voronoiVertexOrder(a, b) {\n    return b.y - a.y || b.x - a.x;\n  }\n  d3.geom.voronoi = function(points) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, fx = x, fy = y, clipExtent = d3_geom_voronoiClipExtent;\n    if (points) return voronoi(points);\n    function voronoi(data) {\n      var polygons = new Array(data.length), x0 = clipExtent[0][0], y0 = clipExtent[0][1], x1 = clipExtent[1][0], y1 = clipExtent[1][1];\n      d3_geom_voronoi(sites(data), clipExtent).cells.forEach(function(cell, i) {\n        var edges = cell.edges, site = cell.site, polygon = polygons[i] = edges.length ? edges.map(function(e) {\n          var s = e.start();\n          return [ s.x, s.y ];\n        }) : site.x >= x0 && site.x <= x1 && site.y >= y0 && site.y <= y1 ? [ [ x0, y1 ], [ x1, y1 ], [ x1, y0 ], [ x0, y0 ] ] : [];\n        polygon.point = data[i];\n      });\n      return polygons;\n    }\n    function sites(data) {\n      return data.map(function(d, i) {\n        return {\n          x: Math.round(fx(d, i) / ) * ,\n          y: Math.round(fy(d, i) / ) * ,\n          i: i\n        };\n      });\n    }\n    voronoi.links = function(data) {\n      return d3_geom_voronoi(sites(data)).edges.filter(function(edge) {\n        return edge.l && edge.r;\n      }).map(function(edge) {\n        return {\n          source: data[edge.l.i],\n          target: data[edge.r.i]\n        };\n      });\n    };\n    voronoi.triangles = function(data) {\n      var triangles = [];\n      d3_geom_voronoi(sites(data)).cells.forEach(function(cell, i) {\n        var site = cell.site, edges = cell.edges.sort(d3_geom_voronoiHalfEdgeOrder), j = -1, m = edges.length, e0, s0, e1 = edges[m - 1].edge, s1 = e1.l === site ? e1.r : e1.l;\n        while (++j < m) {\n          e0 = e1;\n          s0 = s1;\n          e1 = edges[j].edge;\n          s1 = e1.l === site ? e1.r : e1.l;\n          if (i < s0.i && i < s1.i && d3_geom_voronoiTriangleArea(site, s0, s1) < 0) {\n            triangles.push([ data[i], data[s0.i], data[s1.i] ]);\n          }\n        }\n      });\n      return triangles;\n    };\n    voronoi.x = function(_) {\n      return arguments.length ? (fx = d3_functor(x = _), voronoi) : x;\n    };\n    voronoi.y = function(_) {\n      return arguments.length ? (fy = d3_functor(y = _), voronoi) : y;\n    };\n    voronoi.clipExtent = function(_) {\n      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent;\n      clipExtent = _ == null ? d3_geom_voronoiClipExtent : _;\n      return voronoi;\n    };\n    voronoi.size = function(_) {\n      if (!arguments.length) return clipExtent === d3_geom_voronoiClipExtent ? null : clipExtent && clipExtent[1];\n      return voronoi.clipExtent(_ && [ [ 0, 0 ], _ ]);\n    };\n    return voronoi;\n  };\n  var d3_geom_voronoiClipExtent = [ [ -1e6, -1e6 ], [ 1e6, 1e6 ] ];\n  function d3_geom_voronoiTriangleArea(a, b, c) {\n    return (a.x - c.x) * (b.y - a.y) - (a.x - b.x) * (c.y - a.y);\n  }\n  d3.geom.delaunay = function(vertices) {\n    return d3.geom.voronoi().triangles(vertices);\n  };\n  d3.geom.quadtree = function(points, x1, y1, x2, y2) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, compat;\n    if (compat = arguments.length) {\n      x = d3_geom_quadtreeCompatX;\n      y = d3_geom_quadtreeCompatY;\n      if (compat === 3) {\n        y2 = y1;\n        x2 = x1;\n        y1 = x1 = 0;\n      }\n      return quadtree(points);\n    }\n    function quadtree(data) {\n      var d, fx = d3_functor(x), fy = d3_functor(y), xs, ys, i, n, x1_, y1_, x2_, y2_;\n      if (x1 != null) {\n        x1_ = x1, y1_ = y1, x2_ = x2, y2_ = y2;\n      } else {\n        x2_ = y2_ = -(x1_ = y1_ = Infinity);\n        xs = [], ys = [];\n        n = data.length;\n        if (compat) for (i = 0; i < n; ++i) {\n          d = data[i];\n          if (d.x < x1_) x1_ = d.x;\n          if (d.y < y1_) y1_ = d.y;\n          if (d.x > x2_) x2_ = d.x;\n          if (d.y > y2_) y2_ = d.y;\n          xs.push(d.x);\n          ys.push(d.y);\n        } else for (i = 0; i < n; ++i) {\n          var x_ = +fx(d = data[i], i), y_ = +fy(d, i);\n          if (x_ < x1_) x1_ = x_;\n          if (y_ < y1_) y1_ = y_;\n          if (x_ > x2_) x2_ = x_;\n          if (y_ > y2_) y2_ = y_;\n          xs.push(x_);\n          ys.push(y_);\n        }\n      }\n      var dx = x2_ - x1_, dy = y2_ - y1_;\n      if (dx > dy) y2_ = y1_ + dx; else x2_ = x1_ + dy;\n      function insert(n, d, x, y, x1, y1, x2, y2) {\n        if (isNaN(x) || isNaN(y)) return;\n        if (n.leaf) {\n          var nx = n.x, ny = n.y;\n          if (nx != null) {\n            if (abs(nx - x) + abs(ny - y) < .01) {\n              insertChild(n, d, x, y, x1, y1, x2, y2);\n            } else {\n              var nPoint = n.point;\n              n.x = n.y = n.point = null;\n              insertChild(n, nPoint, nx, ny, x1, y1, x2, y2);\n              insertChild(n, d, x, y, x1, y1, x2, y2);\n            }\n          } else {\n            n.x = x, n.y = y, n.point = d;\n          }\n        } else {\n          insertChild(n, d, x, y, x1, y1, x2, y2);\n        }\n      }\n      function insertChild(n, d, x, y, x1, y1, x2, y2) {\n        var xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym, i = below << 1 | right;\n        n.leaf = false;\n        n = n.nodes[i] || (n.nodes[i] = d3_geom_quadtreeNode());\n        if (right) x1 = xm; else x2 = xm;\n        if (below) y1 = ym; else y2 = ym;\n        insert(n, d, x, y, x1, y1, x2, y2);\n      }\n      var root = d3_geom_quadtreeNode();\n      root.add = function(d) {\n        insert(root, d, +fx(d, ++i), +fy(d, i), x1_, y1_, x2_, y2_);\n      };\n      root.visit = function(f) {\n        d3_geom_quadtreeVisit(f, root, x1_, y1_, x2_, y2_);\n      };\n      root.find = function(point) {\n        return d3_geom_quadtreeFind(root, point[0], point[1], x1_, y1_, x2_, y2_);\n      };\n      i = -1;\n      if (x1 == null) {\n        while (++i < n) {\n          insert(root, data[i], xs[i], ys[i], x1_, y1_, x2_, y2_);\n        }\n        --i;\n      } else data.forEach(root.add);\n      xs = ys = data = d = null;\n      return root;\n    }\n    quadtree.x = function(_) {\n      return arguments.length ? (x = _, quadtree) : x;\n    };\n    quadtree.y = function(_) {\n      return arguments.length ? (y = _, quadtree) : y;\n    };\n    quadtree.extent = function(_) {\n      if (!arguments.length) return x1 == null ? null : [ [ x1, y1 ], [ x2, y2 ] ];\n      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = +_[0][0], y1 = +_[0][1], x2 = +_[1][0], \n      y2 = +_[1][1];\n      return quadtree;\n    };\n    quadtree.size = function(_) {\n      if (!arguments.length) return x1 == null ? null : [ x2 - x1, y2 - y1 ];\n      if (_ == null) x1 = y1 = x2 = y2 = null; else x1 = y1 = 0, x2 = +_[0], y2 = +_[1];\n      return quadtree;\n    };\n    return quadtree;\n  };\n  function d3_geom_quadtreeCompatX(d) {\n    return d.x;\n  }\n  function d3_geom_quadtreeCompatY(d) {\n    return d.y;\n  }\n  function d3_geom_quadtreeNode() {\n    return {\n      leaf: true,\n      nodes: [],\n      point: null,\n      x: null,\n      y: null\n    };\n  }\n  function d3_geom_quadtreeVisit(f, node, x1, y1, x2, y2) {\n    if (!f(node, x1, y1, x2, y2)) {\n      var sx = (x1 + x2) * .5, sy = (y1 + y2) * .5, children = node.nodes;\n      if (children[0]) d3_geom_quadtreeVisit(f, children[0], x1, y1, sx, sy);\n      if (children[1]) d3_geom_quadtreeVisit(f, children[1], sx, y1, x2, sy);\n      if (children[2]) d3_geom_quadtreeVisit(f, children[2], x1, sy, sx, y2);\n      if (children[3]) d3_geom_quadtreeVisit(f, children[3], sx, sy, x2, y2);\n    }\n  }\n  function d3_geom_quadtreeFind(root, x, y, x0, y0, x3, y3) {\n    var minDistance2 = Infinity, closestPoint;\n    (function find(node, x1, y1, x2, y2) {\n      if (x1 > x3 || y1 > y3 || x2 < x0 || y2 < y0) return;\n      if (point = node.point) {\n        var point, dx = x - node.x, dy = y - node.y, distance2 = dx * dx + dy * dy;\n        if (distance2 < minDistance2) {\n          var distance = Math.sqrt(minDistance2 = distance2);\n          x0 = x - distance, y0 = y - distance;\n          x3 = x + distance, y3 = y + distance;\n          closestPoint = point;\n        }\n      }\n      var children = node.nodes, xm = (x1 + x2) * .5, ym = (y1 + y2) * .5, right = x >= xm, below = y >= ym;\n      for (var i = below << 1 | right, j = i + 4; i < j; ++i) {\n        if (node = children[i & 3]) switch (i & 3) {\n         case 0:\n          find(node, x1, y1, xm, ym);\n          break;\n\n         case 1:\n          find(node, xm, y1, x2, ym);\n          break;\n\n         case 2:\n          find(node, x1, ym, xm, y2);\n          break;\n\n         case 3:\n          find(node, xm, ym, x2, y2);\n          break;\n        }\n      }\n    })(root, x0, y0, x3, y3);\n    return closestPoint;\n  }\n  d3.interpolateRgb = d3_interpolateRgb;\n  function d3_interpolateRgb(a, b) {\n    a = d3.rgb(a);\n    b = d3.rgb(b);\n    var ar = a.r, ag = a.g, ab = a.b, br = b.r - ar, bg = b.g - ag, bb = b.b - ab;\n    return function(t) {\n      return \"#\" + d3_rgb_hex(Math.round(ar + br * t)) + d3_rgb_hex(Math.round(ag + bg * t)) + d3_rgb_hex(Math.round(ab + bb * t));\n    };\n  }\n  d3.interpolateObject = d3_interpolateObject;\n  function d3_interpolateObject(a, b) {\n    var i = {}, c = {}, k;\n    for (k in a) {\n      if (k in b) {\n        i[k] = d3_interpolate(a[k], b[k]);\n      } else {\n        c[k] = a[k];\n      }\n    }\n    for (k in b) {\n      if (!(k in a)) {\n        c[k] = b[k];\n      }\n    }\n    return function(t) {\n      for (k in i) c[k] = i[k](t);\n      return c;\n    };\n  }\n  d3.interpolateNumber = d3_interpolateNumber;\n  function d3_interpolateNumber(a, b) {\n    a = +a, b = +b;\n    return function(t) {\n      return a * (1 - t) + b * t;\n    };\n  }\n  d3.interpolateString = d3_interpolateString;\n  function d3_interpolateString(a, b) {\n    var bi = d3_interpolate_numberA.lastIndex = d3_interpolate_numberB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n    a = a + \"\", b = b + \"\";\n    while ((am = d3_interpolate_numberA.exec(a)) && (bm = d3_interpolate_numberB.exec(b))) {\n      if ((bs = bm.index) > bi) {\n        bs = b.slice(bi, bs);\n        if (s[i]) s[i] += bs; else s[++i] = bs;\n      }\n      if ((am = am[0]) === (bm = bm[0])) {\n        if (s[i]) s[i] += bm; else s[++i] = bm;\n      } else {\n        s[++i] = null;\n        q.push({\n          i: i,\n          x: d3_interpolateNumber(am, bm)\n        });\n      }\n      bi = d3_interpolate_numberB.lastIndex;\n    }\n    if (bi < b.length) {\n      bs = b.slice(bi);\n      if (s[i]) s[i] += bs; else s[++i] = bs;\n    }\n    return s.length < 2 ? q[0] ? (b = q[0].x, function(t) {\n      return b(t) + \"\";\n    }) : function() {\n      return b;\n    } : (b = q.length, function(t) {\n      for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    });\n  }\n  var d3_interpolate_numberA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, d3_interpolate_numberB = new RegExp(d3_interpolate_numberA.source, \"g\");\n  d3.interpolate = d3_interpolate;\n  function d3_interpolate(a, b) {\n    var i = d3.interpolators.length, f;\n    while (--i >= 0 && !(f = d3.interpolators[i](a, b))) ;\n    return f;\n  }\n  d3.interpolators = [ function(a, b) {\n    var t = typeof b;\n    return (t === \"string\" ? d3_rgb_names.has(b.toLowerCase()) || /^(#|rgb\\(|hsl\\()/i.test(b) ? d3_interpolateRgb : d3_interpolateString : b instanceof d3_color ? d3_interpolateRgb : Array.isArray(b) ? d3_interpolateArray : t === \"object\" && isNaN(b) ? d3_interpolateObject : d3_interpolateNumber)(a, b);\n  } ];\n  d3.interpolateArray = d3_interpolateArray;\n  function d3_interpolateArray(a, b) {\n    var x = [], c = [], na = a.length, nb = b.length, n0 = Math.min(a.length, b.length), i;\n    for (i = 0; i < n0; ++i) x.push(d3_interpolate(a[i], b[i]));\n    for (;i < na; ++i) c[i] = a[i];\n    for (;i < nb; ++i) c[i] = b[i];\n    return function(t) {\n      for (i = 0; i < n0; ++i) c[i] = x[i](t);\n      return c;\n    };\n  }\n  var d3_ease_default = function() {\n    return d3_identity;\n  };\n  var d3_ease = d3.map({\n    linear: d3_ease_default,\n    poly: d3_ease_poly,\n    quad: function() {\n      return d3_ease_quad;\n    },\n    cubic: function() {\n      return d3_ease_cubic;\n    },\n    sin: function() {\n      return d3_ease_sin;\n    },\n    exp: function() {\n      return d3_ease_exp;\n    },\n    circle: function() {\n      return d3_ease_circle;\n    },\n    elastic: d3_ease_elastic,\n    back: d3_ease_back,\n    bounce: function() {\n      return d3_ease_bounce;\n    }\n  });\n  var d3_ease_mode = d3.map({\n    \"in\": d3_identity,\n    out: d3_ease_reverse,\n    \"in-out\": d3_ease_reflect,\n    \"out-in\": function(f) {\n      return d3_ease_reflect(d3_ease_reverse(f));\n    }\n  });\n  d3.ease = function(name) {\n    var i = name.indexOf(\"-\"), t = i >= 0 ? name.slice(0, i) : name, m = i >= 0 ? name.slice(i + 1) : \"in\";\n    t = d3_ease.get(t) || d3_ease_default;\n    m = d3_ease_mode.get(m) || d3_identity;\n    return d3_ease_clamp(m(t.apply(null, d3_arraySlice.call(arguments, 1))));\n  };\n  function d3_ease_clamp(f) {\n    return function(t) {\n      return t <= 0 ? 0 : t >= 1 ? 1 : f(t);\n    };\n  }\n  function d3_ease_reverse(f) {\n    return function(t) {\n      return 1 - f(1 - t);\n    };\n  }\n  function d3_ease_reflect(f) {\n    return function(t) {\n      return .5 * (t < .5 ? f(2 * t) : 2 - f(2 - 2 * t));\n    };\n  }\n  function d3_ease_quad(t) {\n    return t * t;\n  }\n  function d3_ease_cubic(t) {\n    return t * t * t;\n  }\n  function d3_ease_cubicInOut(t) {\n    if (t <= 0) return 0;\n    if (t >= 1) return 1;\n    var t2 = t * t, t3 = t2 * t;\n    return 4 * (t < .5 ? t3 : 3 * (t - t2) + t3 - .75);\n  }\n  function d3_ease_poly(e) {\n    return function(t) {\n      return Math.pow(t, e);\n    };\n  }\n  function d3_ease_sin(t) {\n    return 1 - Math.cos(t * half);\n  }\n  function d3_ease_exp(t) {\n    return Math.pow(2, 10 * (t - 1));\n  }\n  function d3_ease_circle(t) {\n    return 1 - Math.sqrt(1 - t * t);\n  }\n  function d3_ease_elastic(a, p) {\n    var s;\n    if (arguments.length < 2) p = .45;\n    if (arguments.length) s = p /  * Math.asin(1 / a); else a = 1, s = p / 4;\n    return function(t) {\n      return 1 + a * Math.pow(2, -10 * t) * Math.sin((t - s) *  / p);\n    };\n  }\n  function d3_ease_back(s) {\n    if (!s) s = 1.70158;\n    return function(t) {\n      return t * t * ((s + 1) * t - s);\n    };\n  }\n  function d3_ease_bounce(t) {\n    return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375;\n  }\n  d3.interpolateHcl = d3_interpolateHcl;\n  function d3_interpolateHcl(a, b) {\n    a = d3.hcl(a);\n    b = d3.hcl(b);\n    var ah = a.h, ac = a.c, al = a.l, bh = b.h - ah, bc = b.c - ac, bl = b.l - al;\n    if (isNaN(bc)) bc = 0, ac = isNaN(ac) ? b.c : ac;\n    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n    return function(t) {\n      return d3_hcl_lab(ah + bh * t, ac + bc * t, al + bl * t) + \"\";\n    };\n  }\n  d3.interpolateHsl = d3_interpolateHsl;\n  function d3_interpolateHsl(a, b) {\n    a = d3.hsl(a);\n    b = d3.hsl(b);\n    var ah = a.h, as = a.s, al = a.l, bh = b.h - ah, bs = b.s - as, bl = b.l - al;\n    if (isNaN(bs)) bs = 0, as = isNaN(as) ? b.s : as;\n    if (isNaN(bh)) bh = 0, ah = isNaN(ah) ? b.h : ah; else if (bh > 180) bh -= 360; else if (bh < -180) bh += 360;\n    return function(t) {\n      return d3_hsl_rgb(ah + bh * t, as + bs * t, al + bl * t) + \"\";\n    };\n  }\n  d3.interpolateLab = d3_interpolateLab;\n  function d3_interpolateLab(a, b) {\n    a = d3.lab(a);\n    b = d3.lab(b);\n    var al = a.l, aa = a.a, ab = a.b, bl = b.l - al, ba = b.a - aa, bb = b.b - ab;\n    return function(t) {\n      return d3_lab_rgb(al + bl * t, aa + ba * t, ab + bb * t) + \"\";\n    };\n  }\n  d3.interpolateRound = d3_interpolateRound;\n  function d3_interpolateRound(a, b) {\n    b -= a;\n    return function(t) {\n      return Math.round(a + b * t);\n    };\n  }\n  d3.transform = function(string) {\n    var g = d3_document.createElementNS(d3.ns.prefix.svg, \"g\");\n    return (d3.transform = function(string) {\n      if (string != null) {\n        g.setAttribute(\"transform\", string);\n        var t = g.transform.baseVal.consolidate();\n      }\n      return new d3_transform(t ? t.matrix : d3_transformIdentity);\n    })(string);\n  };\n  function d3_transform(m) {\n    var r0 = [ m.a, m.b ], r1 = [ m.c, m.d ], kx = d3_transformNormalize(r0), kz = d3_transformDot(r0, r1), ky = d3_transformNormalize(d3_transformCombine(r1, r0, -kz)) || 0;\n    if (r0[0] * r1[1] < r1[0] * r0[1]) {\n      r0[0] *= -1;\n      r0[1] *= -1;\n      kx *= -1;\n      kz *= -1;\n    }\n    this.rotate = (kx ? Math.atan2(r0[1], r0[0]) : Math.atan2(-r1[0], r1[1])) * d3_degrees;\n    this.translate = [ m.e, m.f ];\n    this.scale = [ kx, ky ];\n    this.skew = ky ? Math.atan2(kz, ky) * d3_degrees : 0;\n  }\n  d3_transform.prototype.toString = function() {\n    return \"translate(\" + this.translate + \")rotate(\" + this.rotate + \")skewX(\" + this.skew + \")scale(\" + this.scale + \")\";\n  };\n  function d3_transformDot(a, b) {\n    return a[0] * b[0] + a[1] * b[1];\n  }\n  function d3_transformNormalize(a) {\n    var k = Math.sqrt(d3_transformDot(a, a));\n    if (k) {\n      a[0] /= k;\n      a[1] /= k;\n    }\n    return k;\n  }\n  function d3_transformCombine(a, b, k) {\n    a[0] += k * b[0];\n    a[1] += k * b[1];\n    return a;\n  }\n  var d3_transformIdentity = {\n    a: 1,\n    b: 0,\n    c: 0,\n    d: 1,\n    e: 0,\n    f: 0\n  };\n  d3.interpolateTransform = d3_interpolateTransform;\n  function d3_interpolateTransformPop(s) {\n    return s.length ? s.pop() + \",\" : \"\";\n  }\n  function d3_interpolateTranslate(ta, tb, s, q) {\n    if (ta[0] !== tb[0] || ta[1] !== tb[1]) {\n      var i = s.push(\"translate(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: d3_interpolateNumber(ta[0], tb[0])\n      }, {\n        i: i - 2,\n        x: d3_interpolateNumber(ta[1], tb[1])\n      });\n    } else if (tb[0] || tb[1]) {\n      s.push(\"translate(\" + tb + \")\");\n    }\n  }\n  function d3_interpolateRotate(ra, rb, s, q) {\n    if (ra !== rb) {\n      if (ra - rb > 180) rb += 360; else if (rb - ra > 180) ra += 360;\n      q.push({\n        i: s.push(d3_interpolateTransformPop(s) + \"rotate(\", null, \")\") - 2,\n        x: d3_interpolateNumber(ra, rb)\n      });\n    } else if (rb) {\n      s.push(d3_interpolateTransformPop(s) + \"rotate(\" + rb + \")\");\n    }\n  }\n  function d3_interpolateSkew(wa, wb, s, q) {\n    if (wa !== wb) {\n      q.push({\n        i: s.push(d3_interpolateTransformPop(s) + \"skewX(\", null, \")\") - 2,\n        x: d3_interpolateNumber(wa, wb)\n      });\n    } else if (wb) {\n      s.push(d3_interpolateTransformPop(s) + \"skewX(\" + wb + \")\");\n    }\n  }\n  function d3_interpolateScale(ka, kb, s, q) {\n    if (ka[0] !== kb[0] || ka[1] !== kb[1]) {\n      var i = s.push(d3_interpolateTransformPop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({\n        i: i - 4,\n        x: d3_interpolateNumber(ka[0], kb[0])\n      }, {\n        i: i - 2,\n        x: d3_interpolateNumber(ka[1], kb[1])\n      });\n    } else if (kb[0] !== 1 || kb[1] !== 1) {\n      s.push(d3_interpolateTransformPop(s) + \"scale(\" + kb + \")\");\n    }\n  }\n  function d3_interpolateTransform(a, b) {\n    var s = [], q = [];\n    a = d3.transform(a), b = d3.transform(b);\n    d3_interpolateTranslate(a.translate, b.translate, s, q);\n    d3_interpolateRotate(a.rotate, b.rotate, s, q);\n    d3_interpolateSkew(a.skew, b.skew, s, q);\n    d3_interpolateScale(a.scale, b.scale, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  }\n  function d3_uninterpolateNumber(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return (x - a) / b;\n    };\n  }\n  function d3_uninterpolateClamp(a, b) {\n    b = (b -= a = +a) || 1 / b;\n    return function(x) {\n      return Math.max(0, Math.min(1, (x - a) / b));\n    };\n  }\n  d3.layout = {};\n  d3.layout.bundle = function() {\n    return function(links) {\n      var paths = [], i = -1, n = links.length;\n      while (++i < n) paths.push(d3_layout_bundlePath(links[i]));\n      return paths;\n    };\n  };\n  function d3_layout_bundlePath(link) {\n    var start = link.source, end = link.target, lca = d3_layout_bundleLeastCommonAncestor(start, end), points = [ start ];\n    while (start !== lca) {\n      start = start.parent;\n      points.push(start);\n    }\n    var k = points.length;\n    while (end !== lca) {\n      points.splice(k, 0, end);\n      end = end.parent;\n    }\n    return points;\n  }\n  function d3_layout_bundleAncestors(node) {\n    var ancestors = [], parent = node.parent;\n    while (parent != null) {\n      ancestors.push(node);\n      node = parent;\n      parent = parent.parent;\n    }\n    ancestors.push(node);\n    return ancestors;\n  }\n  function d3_layout_bundleLeastCommonAncestor(a, b) {\n    if (a === b) return a;\n    var aNodes = d3_layout_bundleAncestors(a), bNodes = d3_layout_bundleAncestors(b), aNode = aNodes.pop(), bNode = bNodes.pop(), sharedNode = null;\n    while (aNode === bNode) {\n      sharedNode = aNode;\n      aNode = aNodes.pop();\n      bNode = bNodes.pop();\n    }\n    return sharedNode;\n  }\n  d3.layout.chord = function() {\n    var chord = {}, chords, groups, matrix, n, padding = 0, sortGroups, sortSubgroups, sortChords;\n    function relayout() {\n      var subgroups = {}, groupSums = [], groupIndex = d3.range(n), subgroupIndex = [], k, x, x0, i, j;\n      chords = [];\n      groups = [];\n      k = 0, i = -1;\n      while (++i < n) {\n        x = 0, j = -1;\n        while (++j < n) {\n          x += matrix[i][j];\n        }\n        groupSums.push(x);\n        subgroupIndex.push(d3.range(n));\n        k += x;\n      }\n      if (sortGroups) {\n        groupIndex.sort(function(a, b) {\n          return sortGroups(groupSums[a], groupSums[b]);\n        });\n      }\n      if (sortSubgroups) {\n        subgroupIndex.forEach(function(d, i) {\n          d.sort(function(a, b) {\n            return sortSubgroups(matrix[i][a], matrix[i][b]);\n          });\n        });\n      }\n      k = ( - padding * n) / k;\n      x = 0, i = -1;\n      while (++i < n) {\n        x0 = x, j = -1;\n        while (++j < n) {\n          var di = groupIndex[i], dj = subgroupIndex[di][j], v = matrix[di][dj], a0 = x, a1 = x += v * k;\n          subgroups[di + \"-\" + dj] = {\n            index: di,\n            subindex: dj,\n            startAngle: a0,\n            endAngle: a1,\n            value: v\n          };\n        }\n        groups[di] = {\n          index: di,\n          startAngle: x0,\n          endAngle: x,\n          value: groupSums[di]\n        };\n        x += padding;\n      }\n      i = -1;\n      while (++i < n) {\n        j = i - 1;\n        while (++j < n) {\n          var source = subgroups[i + \"-\" + j], target = subgroups[j + \"-\" + i];\n          if (source.value || target.value) {\n            chords.push(source.value < target.value ? {\n              source: target,\n              target: source\n            } : {\n              source: source,\n              target: target\n            });\n          }\n        }\n      }\n      if (sortChords) resort();\n    }\n    function resort() {\n      chords.sort(function(a, b) {\n        return sortChords((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2);\n      });\n    }\n    chord.matrix = function(x) {\n      if (!arguments.length) return matrix;\n      n = (matrix = x) && matrix.length;\n      chords = groups = null;\n      return chord;\n    };\n    chord.padding = function(x) {\n      if (!arguments.length) return padding;\n      padding = x;\n      chords = groups = null;\n      return chord;\n    };\n    chord.sortGroups = function(x) {\n      if (!arguments.length) return sortGroups;\n      sortGroups = x;\n      chords = groups = null;\n      return chord;\n    };\n    chord.sortSubgroups = function(x) {\n      if (!arguments.length) return sortSubgroups;\n      sortSubgroups = x;\n      chords = null;\n      return chord;\n    };\n    chord.sortChords = function(x) {\n      if (!arguments.length) return sortChords;\n      sortChords = x;\n      if (chords) resort();\n      return chord;\n    };\n    chord.chords = function() {\n      if (!chords) relayout();\n      return chords;\n    };\n    chord.groups = function() {\n      if (!groups) relayout();\n      return groups;\n    };\n    return chord;\n  };\n  d3.layout.force = function() {\n    var force = {}, event = d3.dispatch(\"start\", \"tick\", \"end\"), timer, size = [ 1, 1 ], drag, alpha, friction = .9, linkDistance = d3_layout_forceLinkDistance, linkStrength = d3_layout_forceLinkStrength, charge = -30, chargeDistance2 = d3_layout_forceChargeDistance2, gravity = .1, theta2 = .64, nodes = [], links = [], distances, strengths, charges;\n    function repulse(node) {\n      return function(quad, x1, _, x2) {\n        if (quad.point !== node) {\n          var dx = quad.cx - node.x, dy = quad.cy - node.y, dw = x2 - x1, dn = dx * dx + dy * dy;\n          if (dw * dw / theta2 < dn) {\n            if (dn < chargeDistance2) {\n              var k = quad.charge / dn;\n              node.px -= dx * k;\n              node.py -= dy * k;\n            }\n            return true;\n          }\n          if (quad.point && dn && dn < chargeDistance2) {\n            var k = quad.pointCharge / dn;\n            node.px -= dx * k;\n            node.py -= dy * k;\n          }\n        }\n        return !quad.charge;\n      };\n    }\n    force.tick = function() {\n      if ((alpha *= .99) < .005) {\n        timer = null;\n        event.end({\n          type: \"end\",\n          alpha: alpha = 0\n        });\n        return true;\n      }\n      var n = nodes.length, m = links.length, q, i, o, s, t, l, k, x, y;\n      for (i = 0; i < m; ++i) {\n        o = links[i];\n        s = o.source;\n        t = o.target;\n        x = t.x - s.x;\n        y = t.y - s.y;\n        if (l = x * x + y * y) {\n          l = alpha * strengths[i] * ((l = Math.sqrt(l)) - distances[i]) / l;\n          x *= l;\n          y *= l;\n          t.x -= x * (k = s.weight + t.weight ? s.weight / (s.weight + t.weight) : .5);\n          t.y -= y * k;\n          s.x += x * (k = 1 - k);\n          s.y += y * k;\n        }\n      }\n      if (k = alpha * gravity) {\n        x = size[0] / 2;\n        y = size[1] / 2;\n        i = -1;\n        if (k) while (++i < n) {\n          o = nodes[i];\n          o.x += (x - o.x) * k;\n          o.y += (y - o.y) * k;\n        }\n      }\n      if (charge) {\n        d3_layout_forceAccumulate(q = d3.geom.quadtree(nodes), alpha, charges);\n        i = -1;\n        while (++i < n) {\n          if (!(o = nodes[i]).fixed) {\n            q.visit(repulse(o));\n          }\n        }\n      }\n      i = -1;\n      while (++i < n) {\n        o = nodes[i];\n        if (o.fixed) {\n          o.x = o.px;\n          o.y = o.py;\n        } else {\n          o.x -= (o.px - (o.px = o.x)) * friction;\n          o.y -= (o.py - (o.py = o.y)) * friction;\n        }\n      }\n      event.tick({\n        type: \"tick\",\n        alpha: alpha\n      });\n    };\n    force.nodes = function(x) {\n      if (!arguments.length) return nodes;\n      nodes = x;\n      return force;\n    };\n    force.links = function(x) {\n      if (!arguments.length) return links;\n      links = x;\n      return force;\n    };\n    force.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return force;\n    };\n    force.linkDistance = function(x) {\n      if (!arguments.length) return linkDistance;\n      linkDistance = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.distance = force.linkDistance;\n    force.linkStrength = function(x) {\n      if (!arguments.length) return linkStrength;\n      linkStrength = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.friction = function(x) {\n      if (!arguments.length) return friction;\n      friction = +x;\n      return force;\n    };\n    force.charge = function(x) {\n      if (!arguments.length) return charge;\n      charge = typeof x === \"function\" ? x : +x;\n      return force;\n    };\n    force.chargeDistance = function(x) {\n      if (!arguments.length) return Math.sqrt(chargeDistance2);\n      chargeDistance2 = x * x;\n      return force;\n    };\n    force.gravity = function(x) {\n      if (!arguments.length) return gravity;\n      gravity = +x;\n      return force;\n    };\n    force.theta = function(x) {\n      if (!arguments.length) return Math.sqrt(theta2);\n      theta2 = x * x;\n      return force;\n    };\n    force.alpha = function(x) {\n      if (!arguments.length) return alpha;\n      x = +x;\n      if (alpha) {\n        if (x > 0) {\n          alpha = x;\n        } else {\n          timer.c = null, timer.t = NaN, timer = null;\n          event.end({\n            type: \"end\",\n            alpha: alpha = 0\n          });\n        }\n      } else if (x > 0) {\n        event.start({\n          type: \"start\",\n          alpha: alpha = x\n        });\n        timer = d3_timer(force.tick);\n      }\n      return force;\n    };\n    force.start = function() {\n      var i, n = nodes.length, m = links.length, w = size[0], h = size[1], neighbors, o;\n      for (i = 0; i < n; ++i) {\n        (o = nodes[i]).index = i;\n        o.weight = 0;\n      }\n      for (i = 0; i < m; ++i) {\n        o = links[i];\n        if (typeof o.source == \"number\") o.source = nodes[o.source];\n        if (typeof o.target == \"number\") o.target = nodes[o.target];\n        ++o.source.weight;\n        ++o.target.weight;\n      }\n      for (i = 0; i < n; ++i) {\n        o = nodes[i];\n        if (isNaN(o.x)) o.x = position(\"x\", w);\n        if (isNaN(o.y)) o.y = position(\"y\", h);\n        if (isNaN(o.px)) o.px = o.x;\n        if (isNaN(o.py)) o.py = o.y;\n      }\n      distances = [];\n      if (typeof linkDistance === \"function\") for (i = 0; i < m; ++i) distances[i] = +linkDistance.call(this, links[i], i); else for (i = 0; i < m; ++i) distances[i] = linkDistance;\n      strengths = [];\n      if (typeof linkStrength === \"function\") for (i = 0; i < m; ++i) strengths[i] = +linkStrength.call(this, links[i], i); else for (i = 0; i < m; ++i) strengths[i] = linkStrength;\n      charges = [];\n      if (typeof charge === \"function\") for (i = 0; i < n; ++i) charges[i] = +charge.call(this, nodes[i], i); else for (i = 0; i < n; ++i) charges[i] = charge;\n      function position(dimension, size) {\n        if (!neighbors) {\n          neighbors = new Array(n);\n          for (j = 0; j < n; ++j) {\n            neighbors[j] = [];\n          }\n          for (j = 0; j < m; ++j) {\n            var o = links[j];\n            neighbors[o.source.index].push(o.target);\n            neighbors[o.target.index].push(o.source);\n          }\n        }\n        var candidates = neighbors[i], j = -1, l = candidates.length, x;\n        while (++j < l) if (!isNaN(x = candidates[j][dimension])) return x;\n        return Math.random() * size;\n      }\n      return force.resume();\n    };\n    force.resume = function() {\n      return force.alpha(.1);\n    };\n    force.stop = function() {\n      return force.alpha(0);\n    };\n    force.drag = function() {\n      if (!drag) drag = d3.behavior.drag().origin(d3_identity).on(\"dragstart.force\", d3_layout_forceDragstart).on(\"drag.force\", dragmove).on(\"dragend.force\", d3_layout_forceDragend);\n      if (!arguments.length) return drag;\n      this.on(\"mouseover.force\", d3_layout_forceMouseover).on(\"mouseout.force\", d3_layout_forceMouseout).call(drag);\n    };\n    function dragmove(d) {\n      d.px = d3.event.x, d.py = d3.event.y;\n      force.resume();\n    }\n    return d3.rebind(force, event, \"on\");\n  };\n  function d3_layout_forceDragstart(d) {\n    d.fixed |= 2;\n  }\n  function d3_layout_forceDragend(d) {\n    d.fixed &= ~6;\n  }\n  function d3_layout_forceMouseover(d) {\n    d.fixed |= 4;\n    d.px = d.x, d.py = d.y;\n  }\n  function d3_layout_forceMouseout(d) {\n    d.fixed &= ~4;\n  }\n  function d3_layout_forceAccumulate(quad, alpha, charges) {\n    var cx = 0, cy = 0;\n    quad.charge = 0;\n    if (!quad.leaf) {\n      var nodes = quad.nodes, n = nodes.length, i = -1, c;\n      while (++i < n) {\n        c = nodes[i];\n        if (c == null) continue;\n        d3_layout_forceAccumulate(c, alpha, charges);\n        quad.charge += c.charge;\n        cx += c.charge * c.cx;\n        cy += c.charge * c.cy;\n      }\n    }\n    if (quad.point) {\n      if (!quad.leaf) {\n        quad.point.x += Math.random() - .5;\n        quad.point.y += Math.random() - .5;\n      }\n      var k = alpha * charges[quad.point.index];\n      quad.charge += quad.pointCharge = k;\n      cx += k * quad.point.x;\n      cy += k * quad.point.y;\n    }\n    quad.cx = cx / quad.charge;\n    quad.cy = cy / quad.charge;\n  }\n  var d3_layout_forceLinkDistance = 20, d3_layout_forceLinkStrength = 1, d3_layout_forceChargeDistance2 = Infinity;\n  d3.layout.hierarchy = function() {\n    var sort = d3_layout_hierarchySort, children = d3_layout_hierarchyChildren, value = d3_layout_hierarchyValue;\n    function hierarchy(root) {\n      var stack = [ root ], nodes = [], node;\n      root.depth = 0;\n      while ((node = stack.pop()) != null) {\n        nodes.push(node);\n        if ((childs = children.call(hierarchy, node, node.depth)) && (n = childs.length)) {\n          var n, childs, child;\n          while (--n >= 0) {\n            stack.push(child = childs[n]);\n            child.parent = node;\n            child.depth = node.depth + 1;\n          }\n          if (value) node.value = 0;\n          node.children = childs;\n        } else {\n          if (value) node.value = +value.call(hierarchy, node, node.depth) || 0;\n          delete node.children;\n        }\n      }\n      d3_layout_hierarchyVisitAfter(root, function(node) {\n        var childs, parent;\n        if (sort && (childs = node.children)) childs.sort(sort);\n        if (value && (parent = node.parent)) parent.value += node.value;\n      });\n      return nodes;\n    }\n    hierarchy.sort = function(x) {\n      if (!arguments.length) return sort;\n      sort = x;\n      return hierarchy;\n    };\n    hierarchy.children = function(x) {\n      if (!arguments.length) return children;\n      children = x;\n      return hierarchy;\n    };\n    hierarchy.value = function(x) {\n      if (!arguments.length) return value;\n      value = x;\n      return hierarchy;\n    };\n    hierarchy.revalue = function(root) {\n      if (value) {\n        d3_layout_hierarchyVisitBefore(root, function(node) {\n          if (node.children) node.value = 0;\n        });\n        d3_layout_hierarchyVisitAfter(root, function(node) {\n          var parent;\n          if (!node.children) node.value = +value.call(hierarchy, node, node.depth) || 0;\n          if (parent = node.parent) parent.value += node.value;\n        });\n      }\n      return root;\n    };\n    return hierarchy;\n  };\n  function d3_layout_hierarchyRebind(object, hierarchy) {\n    d3.rebind(object, hierarchy, \"sort\", \"children\", \"value\");\n    object.nodes = object;\n    object.links = d3_layout_hierarchyLinks;\n    return object;\n  }\n  function d3_layout_hierarchyVisitBefore(node, callback) {\n    var nodes = [ node ];\n    while ((node = nodes.pop()) != null) {\n      callback(node);\n      if ((children = node.children) && (n = children.length)) {\n        var n, children;\n        while (--n >= 0) nodes.push(children[n]);\n      }\n    }\n  }\n  function d3_layout_hierarchyVisitAfter(node, callback) {\n    var nodes = [ node ], nodes2 = [];\n    while ((node = nodes.pop()) != null) {\n      nodes2.push(node);\n      if ((children = node.children) && (n = children.length)) {\n        var i = -1, n, children;\n        while (++i < n) nodes.push(children[i]);\n      }\n    }\n    while ((node = nodes2.pop()) != null) {\n      callback(node);\n    }\n  }\n  function d3_layout_hierarchyChildren(d) {\n    return d.children;\n  }\n  function d3_layout_hierarchyValue(d) {\n    return d.value;\n  }\n  function d3_layout_hierarchySort(a, b) {\n    return b.value - a.value;\n  }\n  function d3_layout_hierarchyLinks(nodes) {\n    return d3.merge(nodes.map(function(parent) {\n      return (parent.children || []).map(function(child) {\n        return {\n          source: parent,\n          target: child\n        };\n      });\n    }));\n  }\n  d3.layout.partition = function() {\n    var hierarchy = d3.layout.hierarchy(), size = [ 1, 1 ];\n    function position(node, x, dx, dy) {\n      var children = node.children;\n      node.x = x;\n      node.y = node.depth * dy;\n      node.dx = dx;\n      node.dy = dy;\n      if (children && (n = children.length)) {\n        var i = -1, n, c, d;\n        dx = node.value ? dx / node.value : 0;\n        while (++i < n) {\n          position(c = children[i], x, d = c.value * dx, dy);\n          x += d;\n        }\n      }\n    }\n    function depth(node) {\n      var children = node.children, d = 0;\n      if (children && (n = children.length)) {\n        var i = -1, n;\n        while (++i < n) d = Math.max(d, depth(children[i]));\n      }\n      return 1 + d;\n    }\n    function partition(d, i) {\n      var nodes = hierarchy.call(this, d, i);\n      position(nodes[0], 0, size[0], size[1] / depth(nodes[0]));\n      return nodes;\n    }\n    partition.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return partition;\n    };\n    return d3_layout_hierarchyRebind(partition, hierarchy);\n  };\n  d3.layout.pie = function() {\n    var value = Number, sort = d3_layout_pieSortByValue, startAngle = 0, endAngle = , padAngle = 0;\n    function pie(data) {\n      var n = data.length, values = data.map(function(d, i) {\n        return +value.call(pie, d, i);\n      }), a = +(typeof startAngle === \"function\" ? startAngle.apply(this, arguments) : startAngle), da = (typeof endAngle === \"function\" ? endAngle.apply(this, arguments) : endAngle) - a, p = Math.min(Math.abs(da) / n, +(typeof padAngle === \"function\" ? padAngle.apply(this, arguments) : padAngle)), pa = p * (da < 0 ? -1 : 1), sum = d3.sum(values), k = sum ? (da - n * pa) / sum : 0, index = d3.range(n), arcs = [], v;\n      if (sort != null) index.sort(sort === d3_layout_pieSortByValue ? function(i, j) {\n        return values[j] - values[i];\n      } : function(i, j) {\n        return sort(data[i], data[j]);\n      });\n      index.forEach(function(i) {\n        arcs[i] = {\n          data: data[i],\n          value: v = values[i],\n          startAngle: a,\n          endAngle: a += v * k + pa,\n          padAngle: p\n        };\n      });\n      return arcs;\n    }\n    pie.value = function(_) {\n      if (!arguments.length) return value;\n      value = _;\n      return pie;\n    };\n    pie.sort = function(_) {\n      if (!arguments.length) return sort;\n      sort = _;\n      return pie;\n    };\n    pie.startAngle = function(_) {\n      if (!arguments.length) return startAngle;\n      startAngle = _;\n      return pie;\n    };\n    pie.endAngle = function(_) {\n      if (!arguments.length) return endAngle;\n      endAngle = _;\n      return pie;\n    };\n    pie.padAngle = function(_) {\n      if (!arguments.length) return padAngle;\n      padAngle = _;\n      return pie;\n    };\n    return pie;\n  };\n  var d3_layout_pieSortByValue = {};\n  d3.layout.stack = function() {\n    var values = d3_identity, order = d3_layout_stackOrderDefault, offset = d3_layout_stackOffsetZero, out = d3_layout_stackOut, x = d3_layout_stackX, y = d3_layout_stackY;\n    function stack(data, index) {\n      if (!(n = data.length)) return data;\n      var series = data.map(function(d, i) {\n        return values.call(stack, d, i);\n      });\n      var points = series.map(function(d) {\n        return d.map(function(v, i) {\n          return [ x.call(stack, v, i), y.call(stack, v, i) ];\n        });\n      });\n      var orders = order.call(stack, points, index);\n      series = d3.permute(series, orders);\n      points = d3.permute(points, orders);\n      var offsets = offset.call(stack, points, index);\n      var m = series[0].length, n, i, j, o;\n      for (j = 0; j < m; ++j) {\n        out.call(stack, series[0][j], o = offsets[j], points[0][j][1]);\n        for (i = 1; i < n; ++i) {\n          out.call(stack, series[i][j], o += points[i - 1][j][1], points[i][j][1]);\n        }\n      }\n      return data;\n    }\n    stack.values = function(x) {\n      if (!arguments.length) return values;\n      values = x;\n      return stack;\n    };\n    stack.order = function(x) {\n      if (!arguments.length) return order;\n      order = typeof x === \"function\" ? x : d3_layout_stackOrders.get(x) || d3_layout_stackOrderDefault;\n      return stack;\n    };\n    stack.offset = function(x) {\n      if (!arguments.length) return offset;\n      offset = typeof x === \"function\" ? x : d3_layout_stackOffsets.get(x) || d3_layout_stackOffsetZero;\n      return stack;\n    };\n    stack.x = function(z) {\n      if (!arguments.length) return x;\n      x = z;\n      return stack;\n    };\n    stack.y = function(z) {\n      if (!arguments.length) return y;\n      y = z;\n      return stack;\n    };\n    stack.out = function(z) {\n      if (!arguments.length) return out;\n      out = z;\n      return stack;\n    };\n    return stack;\n  };\n  function d3_layout_stackX(d) {\n    return d.x;\n  }\n  function d3_layout_stackY(d) {\n    return d.y;\n  }\n  function d3_layout_stackOut(d, y0, y) {\n    d.y0 = y0;\n    d.y = y;\n  }\n  var d3_layout_stackOrders = d3.map({\n    \"inside-out\": function(data) {\n      var n = data.length, i, j, max = data.map(d3_layout_stackMaxIndex), sums = data.map(d3_layout_stackReduceSum), index = d3.range(n).sort(function(a, b) {\n        return max[a] - max[b];\n      }), top = 0, bottom = 0, tops = [], bottoms = [];\n      for (i = 0; i < n; ++i) {\n        j = index[i];\n        if (top < bottom) {\n          top += sums[j];\n          tops.push(j);\n        } else {\n          bottom += sums[j];\n          bottoms.push(j);\n        }\n      }\n      return bottoms.reverse().concat(tops);\n    },\n    reverse: function(data) {\n      return d3.range(data.length).reverse();\n    },\n    \"default\": d3_layout_stackOrderDefault\n  });\n  var d3_layout_stackOffsets = d3.map({\n    silhouette: function(data) {\n      var n = data.length, m = data[0].length, sums = [], max = 0, i, j, o, y0 = [];\n      for (j = 0; j < m; ++j) {\n        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n        if (o > max) max = o;\n        sums.push(o);\n      }\n      for (j = 0; j < m; ++j) {\n        y0[j] = (max - sums[j]) / 2;\n      }\n      return y0;\n    },\n    wiggle: function(data) {\n      var n = data.length, x = data[0], m = x.length, i, j, k, s1, s2, s3, dx, o, o0, y0 = [];\n      y0[0] = o = o0 = 0;\n      for (j = 1; j < m; ++j) {\n        for (i = 0, s1 = 0; i < n; ++i) s1 += data[i][j][1];\n        for (i = 0, s2 = 0, dx = x[j][0] - x[j - 1][0]; i < n; ++i) {\n          for (k = 0, s3 = (data[i][j][1] - data[i][j - 1][1]) / (2 * dx); k < i; ++k) {\n            s3 += (data[k][j][1] - data[k][j - 1][1]) / dx;\n          }\n          s2 += s3 * data[i][j][1];\n        }\n        y0[j] = o -= s1 ? s2 / s1 * dx : 0;\n        if (o < o0) o0 = o;\n      }\n      for (j = 0; j < m; ++j) y0[j] -= o0;\n      return y0;\n    },\n    expand: function(data) {\n      var n = data.length, m = data[0].length, k = 1 / n, i, j, o, y0 = [];\n      for (j = 0; j < m; ++j) {\n        for (i = 0, o = 0; i < n; i++) o += data[i][j][1];\n        if (o) for (i = 0; i < n; i++) data[i][j][1] /= o; else for (i = 0; i < n; i++) data[i][j][1] = k;\n      }\n      for (j = 0; j < m; ++j) y0[j] = 0;\n      return y0;\n    },\n    zero: d3_layout_stackOffsetZero\n  });\n  function d3_layout_stackOrderDefault(data) {\n    return d3.range(data.length);\n  }\n  function d3_layout_stackOffsetZero(data) {\n    var j = -1, m = data[0].length, y0 = [];\n    while (++j < m) y0[j] = 0;\n    return y0;\n  }\n  function d3_layout_stackMaxIndex(array) {\n    var i = 1, j = 0, v = array[0][1], k, n = array.length;\n    for (;i < n; ++i) {\n      if ((k = array[i][1]) > v) {\n        j = i;\n        v = k;\n      }\n    }\n    return j;\n  }\n  function d3_layout_stackReduceSum(d) {\n    return d.reduce(d3_layout_stackSum, 0);\n  }\n  function d3_layout_stackSum(p, d) {\n    return p + d[1];\n  }\n  d3.layout.histogram = function() {\n    var frequency = true, valuer = Number, ranger = d3_layout_histogramRange, binner = d3_layout_histogramBinSturges;\n    function histogram(data, i) {\n      var bins = [], values = data.map(valuer, this), range = ranger.call(this, values, i), thresholds = binner.call(this, range, values, i), bin, i = -1, n = values.length, m = thresholds.length - 1, k = frequency ? 1 : 1 / n, x;\n      while (++i < m) {\n        bin = bins[i] = [];\n        bin.dx = thresholds[i + 1] - (bin.x = thresholds[i]);\n        bin.y = 0;\n      }\n      if (m > 0) {\n        i = -1;\n        while (++i < n) {\n          x = values[i];\n          if (x >= range[0] && x <= range[1]) {\n            bin = bins[d3.bisect(thresholds, x, 1, m) - 1];\n            bin.y += k;\n            bin.push(data[i]);\n          }\n        }\n      }\n      return bins;\n    }\n    histogram.value = function(x) {\n      if (!arguments.length) return valuer;\n      valuer = x;\n      return histogram;\n    };\n    histogram.range = function(x) {\n      if (!arguments.length) return ranger;\n      ranger = d3_functor(x);\n      return histogram;\n    };\n    histogram.bins = function(x) {\n      if (!arguments.length) return binner;\n      binner = typeof x === \"number\" ? function(range) {\n        return d3_layout_histogramBinFixed(range, x);\n      } : d3_functor(x);\n      return histogram;\n    };\n    histogram.frequency = function(x) {\n      if (!arguments.length) return frequency;\n      frequency = !!x;\n      return histogram;\n    };\n    return histogram;\n  };\n  function d3_layout_histogramBinSturges(range, values) {\n    return d3_layout_histogramBinFixed(range, Math.ceil(Math.log(values.length) / Math.LN2 + 1));\n  }\n  function d3_layout_histogramBinFixed(range, n) {\n    var x = -1, b = +range[0], m = (range[1] - b) / n, f = [];\n    while (++x <= n) f[x] = m * x + b;\n    return f;\n  }\n  function d3_layout_histogramRange(values) {\n    return [ d3.min(values), d3.max(values) ];\n  }\n  d3.layout.pack = function() {\n    var hierarchy = d3.layout.hierarchy().sort(d3_layout_packSort), padding = 0, size = [ 1, 1 ], radius;\n    function pack(d, i) {\n      var nodes = hierarchy.call(this, d, i), root = nodes[0], w = size[0], h = size[1], r = radius == null ? Math.sqrt : typeof radius === \"function\" ? radius : function() {\n        return radius;\n      };\n      root.x = root.y = 0;\n      d3_layout_hierarchyVisitAfter(root, function(d) {\n        d.r = +r(d.value);\n      });\n      d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n      if (padding) {\n        var dr = padding * (radius ? 1 : Math.max(2 * root.r / w, 2 * root.r / h)) / 2;\n        d3_layout_hierarchyVisitAfter(root, function(d) {\n          d.r += dr;\n        });\n        d3_layout_hierarchyVisitAfter(root, d3_layout_packSiblings);\n        d3_layout_hierarchyVisitAfter(root, function(d) {\n          d.r -= dr;\n        });\n      }\n      d3_layout_packTransform(root, w / 2, h / 2, radius ? 1 : 1 / Math.max(2 * root.r / w, 2 * root.r / h));\n      return nodes;\n    }\n    pack.size = function(_) {\n      if (!arguments.length) return size;\n      size = _;\n      return pack;\n    };\n    pack.radius = function(_) {\n      if (!arguments.length) return radius;\n      radius = _ == null || typeof _ === \"function\" ? _ : +_;\n      return pack;\n    };\n    pack.padding = function(_) {\n      if (!arguments.length) return padding;\n      padding = +_;\n      return pack;\n    };\n    return d3_layout_hierarchyRebind(pack, hierarchy);\n  };\n  function d3_layout_packSort(a, b) {\n    return a.value - b.value;\n  }\n  function d3_layout_packInsert(a, b) {\n    var c = a._pack_next;\n    a._pack_next = b;\n    b._pack_prev = a;\n    b._pack_next = c;\n    c._pack_prev = b;\n  }\n  function d3_layout_packSplice(a, b) {\n    a._pack_next = b;\n    b._pack_prev = a;\n  }\n  function d3_layout_packIntersects(a, b) {\n    var dx = b.x - a.x, dy = b.y - a.y, dr = a.r + b.r;\n    return .999 * dr * dr > dx * dx + dy * dy;\n  }\n  function d3_layout_packSiblings(node) {\n    if (!(nodes = node.children) || !(n = nodes.length)) return;\n    var nodes, xMin = Infinity, xMax = -Infinity, yMin = Infinity, yMax = -Infinity, a, b, c, i, j, k, n;\n    function bound(node) {\n      xMin = Math.min(node.x - node.r, xMin);\n      xMax = Math.max(node.x + node.r, xMax);\n      yMin = Math.min(node.y - node.r, yMin);\n      yMax = Math.max(node.y + node.r, yMax);\n    }\n    nodes.forEach(d3_layout_packLink);\n    a = nodes[0];\n    a.x = -a.r;\n    a.y = 0;\n    bound(a);\n    if (n > 1) {\n      b = nodes[1];\n      b.x = b.r;\n      b.y = 0;\n      bound(b);\n      if (n > 2) {\n        c = nodes[2];\n        d3_layout_packPlace(a, b, c);\n        bound(c);\n        d3_layout_packInsert(a, c);\n        a._pack_prev = c;\n        d3_layout_packInsert(c, b);\n        b = a._pack_next;\n        for (i = 3; i < n; i++) {\n          d3_layout_packPlace(a, b, c = nodes[i]);\n          var isect = 0, s1 = 1, s2 = 1;\n          for (j = b._pack_next; j !== b; j = j._pack_next, s1++) {\n            if (d3_layout_packIntersects(j, c)) {\n              isect = 1;\n              break;\n            }\n          }\n          if (isect == 1) {\n            for (k = a._pack_prev; k !== j._pack_prev; k = k._pack_prev, s2++) {\n              if (d3_layout_packIntersects(k, c)) {\n                break;\n              }\n            }\n          }\n          if (isect) {\n            if (s1 < s2 || s1 == s2 && b.r < a.r) d3_layout_packSplice(a, b = j); else d3_layout_packSplice(a = k, b);\n            i--;\n          } else {\n            d3_layout_packInsert(a, c);\n            b = c;\n            bound(c);\n          }\n        }\n      }\n    }\n    var cx = (xMin + xMax) / 2, cy = (yMin + yMax) / 2, cr = 0;\n    for (i = 0; i < n; i++) {\n      c = nodes[i];\n      c.x -= cx;\n      c.y -= cy;\n      cr = Math.max(cr, c.r + Math.sqrt(c.x * c.x + c.y * c.y));\n    }\n    node.r = cr;\n    nodes.forEach(d3_layout_packUnlink);\n  }\n  function d3_layout_packLink(node) {\n    node._pack_next = node._pack_prev = node;\n  }\n  function d3_layout_packUnlink(node) {\n    delete node._pack_next;\n    delete node._pack_prev;\n  }\n  function d3_layout_packTransform(node, x, y, k) {\n    var children = node.children;\n    node.x = x += k * node.x;\n    node.y = y += k * node.y;\n    node.r *= k;\n    if (children) {\n      var i = -1, n = children.length;\n      while (++i < n) d3_layout_packTransform(children[i], x, y, k);\n    }\n  }\n  function d3_layout_packPlace(a, b, c) {\n    var db = a.r + c.r, dx = b.x - a.x, dy = b.y - a.y;\n    if (db && (dx || dy)) {\n      var da = b.r + c.r, dc = dx * dx + dy * dy;\n      da *= da;\n      db *= db;\n      var x = .5 + (db - da) / (2 * dc), y = Math.sqrt(Math.max(0, 2 * da * (db + dc) - (db -= dc) * db - da * da)) / (2 * dc);\n      c.x = a.x + x * dx + y * dy;\n      c.y = a.y + x * dy - y * dx;\n    } else {\n      c.x = a.x + db;\n      c.y = a.y;\n    }\n  }\n  d3.layout.tree = function() {\n    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = null;\n    function tree(d, i) {\n      var nodes = hierarchy.call(this, d, i), root0 = nodes[0], root1 = wrapTree(root0);\n      d3_layout_hierarchyVisitAfter(root1, firstWalk), root1.parent.m = -root1.z;\n      d3_layout_hierarchyVisitBefore(root1, secondWalk);\n      if (nodeSize) d3_layout_hierarchyVisitBefore(root0, sizeNode); else {\n        var left = root0, right = root0, bottom = root0;\n        d3_layout_hierarchyVisitBefore(root0, function(node) {\n          if (node.x < left.x) left = node;\n          if (node.x > right.x) right = node;\n          if (node.depth > bottom.depth) bottom = node;\n        });\n        var tx = separation(left, right) / 2 - left.x, kx = size[0] / (right.x + separation(right, left) / 2 + tx), ky = size[1] / (bottom.depth || 1);\n        d3_layout_hierarchyVisitBefore(root0, function(node) {\n          node.x = (node.x + tx) * kx;\n          node.y = node.depth * ky;\n        });\n      }\n      return nodes;\n    }\n    function wrapTree(root0) {\n      var root1 = {\n        A: null,\n        children: [ root0 ]\n      }, queue = [ root1 ], node1;\n      while ((node1 = queue.pop()) != null) {\n        for (var children = node1.children, child, i = 0, n = children.length; i < n; ++i) {\n          queue.push((children[i] = child = {\n            _: children[i],\n            parent: node1,\n            children: (child = children[i].children) && child.slice() || [],\n            A: null,\n            a: null,\n            z: 0,\n            m: 0,\n            c: 0,\n            s: 0,\n            t: null,\n            i: i\n          }).a = child);\n        }\n      }\n      return root1.children[0];\n    }\n    function firstWalk(v) {\n      var children = v.children, siblings = v.parent.children, w = v.i ? siblings[v.i - 1] : null;\n      if (children.length) {\n        d3_layout_treeShift(v);\n        var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n        if (w) {\n          v.z = w.z + separation(v._, w._);\n          v.m = v.z - midpoint;\n        } else {\n          v.z = midpoint;\n        }\n      } else if (w) {\n        v.z = w.z + separation(v._, w._);\n      }\n      v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n    }\n    function secondWalk(v) {\n      v._.x = v.z + v.parent.m;\n      v.m += v.parent.m;\n    }\n    function apportion(v, w, ancestor) {\n      if (w) {\n        var vip = v, vop = v, vim = w, vom = vip.parent.children[0], sip = vip.m, sop = vop.m, sim = vim.m, som = vom.m, shift;\n        while (vim = d3_layout_treeRight(vim), vip = d3_layout_treeLeft(vip), vim && vip) {\n          vom = d3_layout_treeLeft(vom);\n          vop = d3_layout_treeRight(vop);\n          vop.a = v;\n          shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n          if (shift > 0) {\n            d3_layout_treeMove(d3_layout_treeAncestor(vim, v, ancestor), v, shift);\n            sip += shift;\n            sop += shift;\n          }\n          sim += vim.m;\n          sip += vip.m;\n          som += vom.m;\n          sop += vop.m;\n        }\n        if (vim && !d3_layout_treeRight(vop)) {\n          vop.t = vim;\n          vop.m += sim - sop;\n        }\n        if (vip && !d3_layout_treeLeft(vom)) {\n          vom.t = vip;\n          vom.m += sip - som;\n          ancestor = v;\n        }\n      }\n      return ancestor;\n    }\n    function sizeNode(node) {\n      node.x *= size[0];\n      node.y = node.depth * size[1];\n    }\n    tree.separation = function(x) {\n      if (!arguments.length) return separation;\n      separation = x;\n      return tree;\n    };\n    tree.size = function(x) {\n      if (!arguments.length) return nodeSize ? null : size;\n      nodeSize = (size = x) == null ? sizeNode : null;\n      return tree;\n    };\n    tree.nodeSize = function(x) {\n      if (!arguments.length) return nodeSize ? size : null;\n      nodeSize = (size = x) == null ? null : sizeNode;\n      return tree;\n    };\n    return d3_layout_hierarchyRebind(tree, hierarchy);\n  };\n  function d3_layout_treeSeparation(a, b) {\n    return a.parent == b.parent ? 1 : 2;\n  }\n  function d3_layout_treeLeft(v) {\n    var children = v.children;\n    return children.length ? children[0] : v.t;\n  }\n  function d3_layout_treeRight(v) {\n    var children = v.children, n;\n    return (n = children.length) ? children[n - 1] : v.t;\n  }\n  function d3_layout_treeMove(wm, wp, shift) {\n    var change = shift / (wp.i - wm.i);\n    wp.c -= change;\n    wp.s += shift;\n    wm.c += change;\n    wp.z += shift;\n    wp.m += shift;\n  }\n  function d3_layout_treeShift(v) {\n    var shift = 0, change = 0, children = v.children, i = children.length, w;\n    while (--i >= 0) {\n      w = children[i];\n      w.z += shift;\n      w.m += shift;\n      shift += w.s + (change += w.c);\n    }\n  }\n  function d3_layout_treeAncestor(vim, v, ancestor) {\n    return vim.a.parent === v.parent ? vim.a : ancestor;\n  }\n  d3.layout.cluster = function() {\n    var hierarchy = d3.layout.hierarchy().sort(null).value(null), separation = d3_layout_treeSeparation, size = [ 1, 1 ], nodeSize = false;\n    function cluster(d, i) {\n      var nodes = hierarchy.call(this, d, i), root = nodes[0], previousNode, x = 0;\n      d3_layout_hierarchyVisitAfter(root, function(node) {\n        var children = node.children;\n        if (children && children.length) {\n          node.x = d3_layout_clusterX(children);\n          node.y = d3_layout_clusterY(children);\n        } else {\n          node.x = previousNode ? x += separation(node, previousNode) : 0;\n          node.y = 0;\n          previousNode = node;\n        }\n      });\n      var left = d3_layout_clusterLeft(root), right = d3_layout_clusterRight(root), x0 = left.x - separation(left, right) / 2, x1 = right.x + separation(right, left) / 2;\n      d3_layout_hierarchyVisitAfter(root, nodeSize ? function(node) {\n        node.x = (node.x - root.x) * size[0];\n        node.y = (root.y - node.y) * size[1];\n      } : function(node) {\n        node.x = (node.x - x0) / (x1 - x0) * size[0];\n        node.y = (1 - (root.y ? node.y / root.y : 1)) * size[1];\n      });\n      return nodes;\n    }\n    cluster.separation = function(x) {\n      if (!arguments.length) return separation;\n      separation = x;\n      return cluster;\n    };\n    cluster.size = function(x) {\n      if (!arguments.length) return nodeSize ? null : size;\n      nodeSize = (size = x) == null;\n      return cluster;\n    };\n    cluster.nodeSize = function(x) {\n      if (!arguments.length) return nodeSize ? size : null;\n      nodeSize = (size = x) != null;\n      return cluster;\n    };\n    return d3_layout_hierarchyRebind(cluster, hierarchy);\n  };\n  function d3_layout_clusterY(children) {\n    return 1 + d3.max(children, function(child) {\n      return child.y;\n    });\n  }\n  function d3_layout_clusterX(children) {\n    return children.reduce(function(x, child) {\n      return x + child.x;\n    }, 0) / children.length;\n  }\n  function d3_layout_clusterLeft(node) {\n    var children = node.children;\n    return children && children.length ? d3_layout_clusterLeft(children[0]) : node;\n  }\n  function d3_layout_clusterRight(node) {\n    var children = node.children, n;\n    return children && (n = children.length) ? d3_layout_clusterRight(children[n - 1]) : node;\n  }\n  d3.layout.treemap = function() {\n    var hierarchy = d3.layout.hierarchy(), round = Math.round, size = [ 1, 1 ], padding = null, pad = d3_layout_treemapPadNull, sticky = false, stickies, mode = \"squarify\", ratio = .5 * (1 + Math.sqrt(5));\n    function scale(children, k) {\n      var i = -1, n = children.length, child, area;\n      while (++i < n) {\n        area = (child = children[i]).value * (k < 0 ? 0 : k);\n        child.area = isNaN(area) || area <= 0 ? 0 : area;\n      }\n    }\n    function squarify(node) {\n      var children = node.children;\n      if (children && children.length) {\n        var rect = pad(node), row = [], remaining = children.slice(), child, best = Infinity, score, u = mode === \"slice\" ? rect.dx : mode === \"dice\" ? rect.dy : mode === \"slice-dice\" ? node.depth & 1 ? rect.dy : rect.dx : Math.min(rect.dx, rect.dy), n;\n        scale(remaining, rect.dx * rect.dy / node.value);\n        row.area = 0;\n        while ((n = remaining.length) > 0) {\n          row.push(child = remaining[n - 1]);\n          row.area += child.area;\n          if (mode !== \"squarify\" || (score = worst(row, u)) <= best) {\n            remaining.pop();\n            best = score;\n          } else {\n            row.area -= row.pop().area;\n            position(row, u, rect, false);\n            u = Math.min(rect.dx, rect.dy);\n            row.length = row.area = 0;\n            best = Infinity;\n          }\n        }\n        if (row.length) {\n          position(row, u, rect, true);\n          row.length = row.area = 0;\n        }\n        children.forEach(squarify);\n      }\n    }\n    function stickify(node) {\n      var children = node.children;\n      if (children && children.length) {\n        var rect = pad(node), remaining = children.slice(), child, row = [];\n        scale(remaining, rect.dx * rect.dy / node.value);\n        row.area = 0;\n        while (child = remaining.pop()) {\n          row.push(child);\n          row.area += child.area;\n          if (child.z != null) {\n            position(row, child.z ? rect.dx : rect.dy, rect, !remaining.length);\n            row.length = row.area = 0;\n          }\n        }\n        children.forEach(stickify);\n      }\n    }\n    function worst(row, u) {\n      var s = row.area, r, rmax = 0, rmin = Infinity, i = -1, n = row.length;\n      while (++i < n) {\n        if (!(r = row[i].area)) continue;\n        if (r < rmin) rmin = r;\n        if (r > rmax) rmax = r;\n      }\n      s *= s;\n      u *= u;\n      return s ? Math.max(u * rmax * ratio / s, s / (u * rmin * ratio)) : Infinity;\n    }\n    function position(row, u, rect, flush) {\n      var i = -1, n = row.length, x = rect.x, y = rect.y, v = u ? round(row.area / u) : 0, o;\n      if (u == rect.dx) {\n        if (flush || v > rect.dy) v = rect.dy;\n        while (++i < n) {\n          o = row[i];\n          o.x = x;\n          o.y = y;\n          o.dy = v;\n          x += o.dx = Math.min(rect.x + rect.dx - x, v ? round(o.area / v) : 0);\n        }\n        o.z = true;\n        o.dx += rect.x + rect.dx - x;\n        rect.y += v;\n        rect.dy -= v;\n      } else {\n        if (flush || v > rect.dx) v = rect.dx;\n        while (++i < n) {\n          o = row[i];\n          o.x = x;\n          o.y = y;\n          o.dx = v;\n          y += o.dy = Math.min(rect.y + rect.dy - y, v ? round(o.area / v) : 0);\n        }\n        o.z = false;\n        o.dy += rect.y + rect.dy - y;\n        rect.x += v;\n        rect.dx -= v;\n      }\n    }\n    function treemap(d) {\n      var nodes = stickies || hierarchy(d), root = nodes[0];\n      root.x = root.y = 0;\n      if (root.value) root.dx = size[0], root.dy = size[1]; else root.dx = root.dy = 0;\n      if (stickies) hierarchy.revalue(root);\n      scale([ root ], root.dx * root.dy / root.value);\n      (stickies ? stickify : squarify)(root);\n      if (sticky) stickies = nodes;\n      return nodes;\n    }\n    treemap.size = function(x) {\n      if (!arguments.length) return size;\n      size = x;\n      return treemap;\n    };\n    treemap.padding = function(x) {\n      if (!arguments.length) return padding;\n      function padFunction(node) {\n        var p = x.call(treemap, node, node.depth);\n        return p == null ? d3_layout_treemapPadNull(node) : d3_layout_treemapPad(node, typeof p === \"number\" ? [ p, p, p, p ] : p);\n      }\n      function padConstant(node) {\n        return d3_layout_treemapPad(node, x);\n      }\n      var type;\n      pad = (padding = x) == null ? d3_layout_treemapPadNull : (type = typeof x) === \"function\" ? padFunction : type === \"number\" ? (x = [ x, x, x, x ], \n      padConstant) : padConstant;\n      return treemap;\n    };\n    treemap.round = function(x) {\n      if (!arguments.length) return round != Number;\n      round = x ? Math.round : Number;\n      return treemap;\n    };\n    treemap.sticky = function(x) {\n      if (!arguments.length) return sticky;\n      sticky = x;\n      stickies = null;\n      return treemap;\n    };\n    treemap.ratio = function(x) {\n      if (!arguments.length) return ratio;\n      ratio = x;\n      return treemap;\n    };\n    treemap.mode = function(x) {\n      if (!arguments.length) return mode;\n      mode = x + \"\";\n      return treemap;\n    };\n    return d3_layout_hierarchyRebind(treemap, hierarchy);\n  };\n  function d3_layout_treemapPadNull(node) {\n    return {\n      x: node.x,\n      y: node.y,\n      dx: node.dx,\n      dy: node.dy\n    };\n  }\n  function d3_layout_treemapPad(node, padding) {\n    var x = node.x + padding[3], y = node.y + padding[0], dx = node.dx - padding[1] - padding[3], dy = node.dy - padding[0] - padding[2];\n    if (dx < 0) {\n      x += dx / 2;\n      dx = 0;\n    }\n    if (dy < 0) {\n      y += dy / 2;\n      dy = 0;\n    }\n    return {\n      x: x,\n      y: y,\n      dx: dx,\n      dy: dy\n    };\n  }\n  d3.random = {\n    normal: function(, ) {\n      var n = arguments.length;\n      if (n < 2)  = 1;\n      if (n < 1)  = 0;\n      return function() {\n        var x, y, r;\n        do {\n          x = Math.random() * 2 - 1;\n          y = Math.random() * 2 - 1;\n          r = x * x + y * y;\n        } while (!r || r > 1);\n        return  +  * x * Math.sqrt(-2 * Math.log(r) / r);\n      };\n    },\n    logNormal: function() {\n      var random = d3.random.normal.apply(d3, arguments);\n      return function() {\n        return Math.exp(random());\n      };\n    },\n    bates: function(m) {\n      var random = d3.random.irwinHall(m);\n      return function() {\n        return random() / m;\n      };\n    },\n    irwinHall: function(m) {\n      return function() {\n        for (var s = 0, j = 0; j < m; j++) s += Math.random();\n        return s;\n      };\n    }\n  };\n  d3.scale = {};\n  function d3_scaleExtent(domain) {\n    var start = domain[0], stop = domain[domain.length - 1];\n    return start < stop ? [ start, stop ] : [ stop, start ];\n  }\n  function d3_scaleRange(scale) {\n    return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n  }\n  function d3_scale_bilinear(domain, range, uninterpolate, interpolate) {\n    var u = uninterpolate(domain[0], domain[1]), i = interpolate(range[0], range[1]);\n    return function(x) {\n      return i(u(x));\n    };\n  }\n  function d3_scale_nice(domain, nice) {\n    var i0 = 0, i1 = domain.length - 1, x0 = domain[i0], x1 = domain[i1], dx;\n    if (x1 < x0) {\n      dx = i0, i0 = i1, i1 = dx;\n      dx = x0, x0 = x1, x1 = dx;\n    }\n    domain[i0] = nice.floor(x0);\n    domain[i1] = nice.ceil(x1);\n    return domain;\n  }\n  function d3_scale_niceStep(step) {\n    return step ? {\n      floor: function(x) {\n        return Math.floor(x / step) * step;\n      },\n      ceil: function(x) {\n        return Math.ceil(x / step) * step;\n      }\n    } : d3_scale_niceIdentity;\n  }\n  var d3_scale_niceIdentity = {\n    floor: d3_identity,\n    ceil: d3_identity\n  };\n  function d3_scale_polylinear(domain, range, uninterpolate, interpolate) {\n    var u = [], i = [], j = 0, k = Math.min(domain.length, range.length) - 1;\n    if (domain[k] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n    while (++j <= k) {\n      u.push(uninterpolate(domain[j - 1], domain[j]));\n      i.push(interpolate(range[j - 1], range[j]));\n    }\n    return function(x) {\n      var j = d3.bisect(domain, x, 1, k) - 1;\n      return i[j](u[j](x));\n    };\n  }\n  d3.scale.linear = function() {\n    return d3_scale_linear([ 0, 1 ], [ 0, 1 ], d3_interpolate, false);\n  };\n  function d3_scale_linear(domain, range, interpolate, clamp) {\n    var output, input;\n    function rescale() {\n      var linear = Math.min(domain.length, range.length) > 2 ? d3_scale_polylinear : d3_scale_bilinear, uninterpolate = clamp ? d3_uninterpolateClamp : d3_uninterpolateNumber;\n      output = linear(domain, range, uninterpolate, interpolate);\n      input = linear(range, domain, uninterpolate, d3_interpolate);\n      return scale;\n    }\n    function scale(x) {\n      return output(x);\n    }\n    scale.invert = function(y) {\n      return input(y);\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(Number);\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.rangeRound = function(x) {\n      return scale.range(x).interpolate(d3_interpolateRound);\n    };\n    scale.clamp = function(x) {\n      if (!arguments.length) return clamp;\n      clamp = x;\n      return rescale();\n    };\n    scale.interpolate = function(x) {\n      if (!arguments.length) return interpolate;\n      interpolate = x;\n      return rescale();\n    };\n    scale.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    scale.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    scale.nice = function(m) {\n      d3_scale_linearNice(domain, m);\n      return rescale();\n    };\n    scale.copy = function() {\n      return d3_scale_linear(domain, range, interpolate, clamp);\n    };\n    return rescale();\n  }\n  function d3_scale_linearRebind(scale, linear) {\n    return d3.rebind(scale, linear, \"range\", \"rangeRound\", \"interpolate\", \"clamp\");\n  }\n  function d3_scale_linearNice(domain, m) {\n    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n    d3_scale_nice(domain, d3_scale_niceStep(d3_scale_linearTickRange(domain, m)[2]));\n    return domain;\n  }\n  function d3_scale_linearTickRange(domain, m) {\n    if (m == null) m = 10;\n    var extent = d3_scaleExtent(domain), span = extent[1] - extent[0], step = Math.pow(10, Math.floor(Math.log(span / m) / Math.LN10)), err = m / span * step;\n    if (err <= .15) step *= 10; else if (err <= .35) step *= 5; else if (err <= .75) step *= 2;\n    extent[0] = Math.ceil(extent[0] / step) * step;\n    extent[1] = Math.floor(extent[1] / step) * step + step * .5;\n    extent[2] = step;\n    return extent;\n  }\n  function d3_scale_linearTicks(domain, m) {\n    return d3.range.apply(d3, d3_scale_linearTickRange(domain, m));\n  }\n  function d3_scale_linearTickFormat(domain, m, format) {\n    var range = d3_scale_linearTickRange(domain, m);\n    if (format) {\n      var match = d3_format_re.exec(format);\n      match.shift();\n      if (match[8] === \"s\") {\n        var prefix = d3.formatPrefix(Math.max(abs(range[0]), abs(range[1])));\n        if (!match[7]) match[7] = \".\" + d3_scale_linearPrecision(prefix.scale(range[2]));\n        match[8] = \"f\";\n        format = d3.format(match.join(\"\"));\n        return function(d) {\n          return format(prefix.scale(d)) + prefix.symbol;\n        };\n      }\n      if (!match[7]) match[7] = \".\" + d3_scale_linearFormatPrecision(match[8], range);\n      format = match.join(\"\");\n    } else {\n      format = \",.\" + d3_scale_linearPrecision(range[2]) + \"f\";\n    }\n    return d3.format(format);\n  }\n  var d3_scale_linearFormatSignificant = {\n    s: 1,\n    g: 1,\n    p: 1,\n    r: 1,\n    e: 1\n  };\n  function d3_scale_linearPrecision(value) {\n    return -Math.floor(Math.log(value) / Math.LN10 + .01);\n  }\n  function d3_scale_linearFormatPrecision(type, range) {\n    var p = d3_scale_linearPrecision(range[2]);\n    return type in d3_scale_linearFormatSignificant ? Math.abs(p - d3_scale_linearPrecision(Math.max(abs(range[0]), abs(range[1])))) + +(type !== \"e\") : p - (type === \"%\") * 2;\n  }\n  d3.scale.log = function() {\n    return d3_scale_log(d3.scale.linear().domain([ 0, 1 ]), 10, true, [ 1, 10 ]);\n  };\n  function d3_scale_log(linear, base, positive, domain) {\n    function log(x) {\n      return (positive ? Math.log(x < 0 ? 0 : x) : -Math.log(x > 0 ? 0 : -x)) / Math.log(base);\n    }\n    function pow(x) {\n      return positive ? Math.pow(base, x) : -Math.pow(base, -x);\n    }\n    function scale(x) {\n      return linear(log(x));\n    }\n    scale.invert = function(x) {\n      return pow(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      positive = x[0] >= 0;\n      linear.domain((domain = x.map(Number)).map(log));\n      return scale;\n    };\n    scale.base = function(_) {\n      if (!arguments.length) return base;\n      base = +_;\n      linear.domain(domain.map(log));\n      return scale;\n    };\n    scale.nice = function() {\n      var niced = d3_scale_nice(domain.map(log), positive ? Math : d3_scale_logNiceNegative);\n      linear.domain(niced);\n      domain = niced.map(pow);\n      return scale;\n    };\n    scale.ticks = function() {\n      var extent = d3_scaleExtent(domain), ticks = [], u = extent[0], v = extent[1], i = Math.floor(log(u)), j = Math.ceil(log(v)), n = base % 1 ? 2 : base;\n      if (isFinite(j - i)) {\n        if (positive) {\n          for (;i < j; i++) for (var k = 1; k < n; k++) ticks.push(pow(i) * k);\n          ticks.push(pow(i));\n        } else {\n          ticks.push(pow(i));\n          for (;i++ < j; ) for (var k = n - 1; k > 0; k--) ticks.push(pow(i) * k);\n        }\n        for (i = 0; ticks[i] < u; i++) {}\n        for (j = ticks.length; ticks[j - 1] > v; j--) {}\n        ticks = ticks.slice(i, j);\n      }\n      return ticks;\n    };\n    scale.tickFormat = function(n, format) {\n      if (!arguments.length) return d3_scale_logFormat;\n      if (arguments.length < 2) format = d3_scale_logFormat; else if (typeof format !== \"function\") format = d3.format(format);\n      var k = Math.max(1, base * n / scale.ticks().length);\n      return function(d) {\n        var i = d / pow(Math.round(log(d)));\n        if (i * base < base - .5) i *= base;\n        return i <= k ? format(d) : \"\";\n      };\n    };\n    scale.copy = function() {\n      return d3_scale_log(linear.copy(), base, positive, domain);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  var d3_scale_logFormat = d3.format(\".0e\"), d3_scale_logNiceNegative = {\n    floor: function(x) {\n      return -Math.ceil(-x);\n    },\n    ceil: function(x) {\n      return -Math.floor(-x);\n    }\n  };\n  d3.scale.pow = function() {\n    return d3_scale_pow(d3.scale.linear(), 1, [ 0, 1 ]);\n  };\n  function d3_scale_pow(linear, exponent, domain) {\n    var powp = d3_scale_powPow(exponent), powb = d3_scale_powPow(1 / exponent);\n    function scale(x) {\n      return linear(powp(x));\n    }\n    scale.invert = function(x) {\n      return powb(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      linear.domain((domain = x.map(Number)).map(powp));\n      return scale;\n    };\n    scale.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    scale.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    scale.nice = function(m) {\n      return scale.domain(d3_scale_linearNice(domain, m));\n    };\n    scale.exponent = function(x) {\n      if (!arguments.length) return exponent;\n      powp = d3_scale_powPow(exponent = x);\n      powb = d3_scale_powPow(1 / exponent);\n      linear.domain(domain.map(powp));\n      return scale;\n    };\n    scale.copy = function() {\n      return d3_scale_pow(linear.copy(), exponent, domain);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  function d3_scale_powPow(e) {\n    return function(x) {\n      return x < 0 ? -Math.pow(-x, e) : Math.pow(x, e);\n    };\n  }\n  d3.scale.sqrt = function() {\n    return d3.scale.pow().exponent(.5);\n  };\n  d3.scale.ordinal = function() {\n    return d3_scale_ordinal([], {\n      t: \"range\",\n      a: [ [] ]\n    });\n  };\n  function d3_scale_ordinal(domain, ranger) {\n    var index, range, rangeBand;\n    function scale(x) {\n      return range[((index.get(x) || (ranger.t === \"range\" ? index.set(x, domain.push(x)) : NaN)) - 1) % range.length];\n    }\n    function steps(start, step) {\n      return d3.range(domain.length).map(function(i) {\n        return start + step * i;\n      });\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = [];\n      index = new d3_Map();\n      var i = -1, n = x.length, xi;\n      while (++i < n) if (!index.has(xi = x[i])) index.set(xi, domain.push(xi));\n      return scale[ranger.t].apply(scale, ranger.a);\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      rangeBand = 0;\n      ranger = {\n        t: \"range\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangePoints = function(x, padding) {\n      if (arguments.length < 2) padding = 0;\n      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = (start + stop) / 2, \n      0) : (stop - start) / (domain.length - 1 + padding);\n      range = steps(start + step * padding / 2, step);\n      rangeBand = 0;\n      ranger = {\n        t: \"rangePoints\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeRoundPoints = function(x, padding) {\n      if (arguments.length < 2) padding = 0;\n      var start = x[0], stop = x[1], step = domain.length < 2 ? (start = stop = Math.round((start + stop) / 2), \n      0) : (stop - start) / (domain.length - 1 + padding) | 0;\n      range = steps(start + Math.round(step * padding / 2 + (stop - start - (domain.length - 1 + padding) * step) / 2), step);\n      rangeBand = 0;\n      ranger = {\n        t: \"rangeRoundPoints\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeBands = function(x, padding, outerPadding) {\n      if (arguments.length < 2) padding = 0;\n      if (arguments.length < 3) outerPadding = padding;\n      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = (stop - start) / (domain.length - padding + 2 * outerPadding);\n      range = steps(start + step * outerPadding, step);\n      if (reverse) range.reverse();\n      rangeBand = step * (1 - padding);\n      ranger = {\n        t: \"rangeBands\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeRoundBands = function(x, padding, outerPadding) {\n      if (arguments.length < 2) padding = 0;\n      if (arguments.length < 3) outerPadding = padding;\n      var reverse = x[1] < x[0], start = x[reverse - 0], stop = x[1 - reverse], step = Math.floor((stop - start) / (domain.length - padding + 2 * outerPadding));\n      range = steps(start + Math.round((stop - start - (domain.length - padding) * step) / 2), step);\n      if (reverse) range.reverse();\n      rangeBand = Math.round(step * (1 - padding));\n      ranger = {\n        t: \"rangeRoundBands\",\n        a: arguments\n      };\n      return scale;\n    };\n    scale.rangeBand = function() {\n      return rangeBand;\n    };\n    scale.rangeExtent = function() {\n      return d3_scaleExtent(ranger.a[0]);\n    };\n    scale.copy = function() {\n      return d3_scale_ordinal(domain, ranger);\n    };\n    return scale.domain(domain);\n  }\n  d3.scale.category10 = function() {\n    return d3.scale.ordinal().range(d3_category10);\n  };\n  d3.scale.category20 = function() {\n    return d3.scale.ordinal().range(d3_category20);\n  };\n  d3.scale.category20b = function() {\n    return d3.scale.ordinal().range(d3_category20b);\n  };\n  d3.scale.category20c = function() {\n    return d3.scale.ordinal().range(d3_category20c);\n  };\n  var d3_category10 = [ 2062260, 16744206, 2924588, 14034728, 9725885, 9197131, 14907330, 8355711, 12369186, 1556175 ].map(d3_rgbString);\n  var d3_category20 = [ 2062260, 11454440, 16744206, 16759672, 2924588, 10018698, 14034728, 16750742, 9725885, 12955861, 9197131, 12885140, 14907330, 16234194, 8355711, 13092807, 12369186, 14408589, 1556175, 10410725 ].map(d3_rgbString);\n  var d3_category20b = [ 3750777, 5395619, 7040719, 10264286, 6519097, 9216594, 11915115, 13556636, 9202993, 12426809, 15186514, 15190932, 8666169, 11356490, 14049643, 15177372, 8077683, 10834324, 13528509, 14589654 ].map(d3_rgbString);\n  var d3_category20c = [ 3244733, 7057110, 10406625, 13032431, 15095053, 16616764, 16625259, 16634018, 3253076, 7652470, 10607003, 13101504, 7695281, 10394312, 12369372, 14342891, 6513507, 9868950, 12434877, 14277081 ].map(d3_rgbString);\n  d3.scale.quantile = function() {\n    return d3_scale_quantile([], []);\n  };\n  function d3_scale_quantile(domain, range) {\n    var thresholds;\n    function rescale() {\n      var k = 0, q = range.length;\n      thresholds = [];\n      while (++k < q) thresholds[k - 1] = d3.quantile(domain, k / q);\n      return scale;\n    }\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3.bisect(thresholds, x)];\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(d3_number).filter(d3_numeric).sort(d3_ascending);\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.quantiles = function() {\n      return thresholds;\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      return y < 0 ? [ NaN, NaN ] : [ y > 0 ? thresholds[y - 1] : domain[0], y < thresholds.length ? thresholds[y] : domain[domain.length - 1] ];\n    };\n    scale.copy = function() {\n      return d3_scale_quantile(domain, range);\n    };\n    return rescale();\n  }\n  d3.scale.quantize = function() {\n    return d3_scale_quantize(0, 1, [ 0, 1 ]);\n  };\n  function d3_scale_quantize(x0, x1, range) {\n    var kx, i;\n    function scale(x) {\n      return range[Math.max(0, Math.min(i, Math.floor(kx * (x - x0))))];\n    }\n    function rescale() {\n      kx = range.length / (x1 - x0);\n      i = range.length - 1;\n      return scale;\n    }\n    scale.domain = function(x) {\n      if (!arguments.length) return [ x0, x1 ];\n      x0 = +x[0];\n      x1 = +x[x.length - 1];\n      return rescale();\n    };\n    scale.range = function(x) {\n      if (!arguments.length) return range;\n      range = x;\n      return rescale();\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      y = y < 0 ? NaN : y / kx + x0;\n      return [ y, y + 1 / kx ];\n    };\n    scale.copy = function() {\n      return d3_scale_quantize(x0, x1, range);\n    };\n    return rescale();\n  }\n  d3.scale.threshold = function() {\n    return d3_scale_threshold([ .5 ], [ 0, 1 ]);\n  };\n  function d3_scale_threshold(domain, range) {\n    function scale(x) {\n      if (x <= x) return range[d3.bisect(domain, x)];\n    }\n    scale.domain = function(_) {\n      if (!arguments.length) return domain;\n      domain = _;\n      return scale;\n    };\n    scale.range = function(_) {\n      if (!arguments.length) return range;\n      range = _;\n      return scale;\n    };\n    scale.invertExtent = function(y) {\n      y = range.indexOf(y);\n      return [ domain[y - 1], domain[y] ];\n    };\n    scale.copy = function() {\n      return d3_scale_threshold(domain, range);\n    };\n    return scale;\n  }\n  d3.scale.identity = function() {\n    return d3_scale_identity([ 0, 1 ]);\n  };\n  function d3_scale_identity(domain) {\n    function identity(x) {\n      return +x;\n    }\n    identity.invert = identity;\n    identity.domain = identity.range = function(x) {\n      if (!arguments.length) return domain;\n      domain = x.map(identity);\n      return identity;\n    };\n    identity.ticks = function(m) {\n      return d3_scale_linearTicks(domain, m);\n    };\n    identity.tickFormat = function(m, format) {\n      return d3_scale_linearTickFormat(domain, m, format);\n    };\n    identity.copy = function() {\n      return d3_scale_identity(domain);\n    };\n    return identity;\n  }\n  d3.svg = {};\n  function d3_zero() {\n    return 0;\n  }\n  d3.svg.arc = function() {\n    var innerRadius = d3_svg_arcInnerRadius, outerRadius = d3_svg_arcOuterRadius, cornerRadius = d3_zero, padRadius = d3_svg_arcAuto, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle, padAngle = d3_svg_arcPadAngle;\n    function arc() {\n      var r0 = Math.max(0, +innerRadius.apply(this, arguments)), r1 = Math.max(0, +outerRadius.apply(this, arguments)), a0 = startAngle.apply(this, arguments) - half, a1 = endAngle.apply(this, arguments) - half, da = Math.abs(a1 - a0), cw = a0 > a1 ? 0 : 1;\n      if (r1 < r0) rc = r1, r1 = r0, r0 = rc;\n      if (da >= ) return circleSegment(r1, cw) + (r0 ? circleSegment(r0, 1 - cw) : \"\") + \"Z\";\n      var rc, cr, rp, ap, p0 = 0, p1 = 0, x0, y0, x1, y1, x2, y2, x3, y3, path = [];\n      if (ap = (+padAngle.apply(this, arguments) || 0) / 2) {\n        rp = padRadius === d3_svg_arcAuto ? Math.sqrt(r0 * r0 + r1 * r1) : +padRadius.apply(this, arguments);\n        if (!cw) p1 *= -1;\n        if (r1) p1 = d3_asin(rp / r1 * Math.sin(ap));\n        if (r0) p0 = d3_asin(rp / r0 * Math.sin(ap));\n      }\n      if (r1) {\n        x0 = r1 * Math.cos(a0 + p1);\n        y0 = r1 * Math.sin(a0 + p1);\n        x1 = r1 * Math.cos(a1 - p1);\n        y1 = r1 * Math.sin(a1 - p1);\n        var l1 = Math.abs(a1 - a0 - 2 * p1) <=  ? 0 : 1;\n        if (p1 && d3_svg_arcSweep(x0, y0, x1, y1) === cw ^ l1) {\n          var h1 = (a0 + a1) / 2;\n          x0 = r1 * Math.cos(h1);\n          y0 = r1 * Math.sin(h1);\n          x1 = y1 = null;\n        }\n      } else {\n        x0 = y0 = 0;\n      }\n      if (r0) {\n        x2 = r0 * Math.cos(a1 - p0);\n        y2 = r0 * Math.sin(a1 - p0);\n        x3 = r0 * Math.cos(a0 + p0);\n        y3 = r0 * Math.sin(a0 + p0);\n        var l0 = Math.abs(a0 - a1 + 2 * p0) <=  ? 0 : 1;\n        if (p0 && d3_svg_arcSweep(x2, y2, x3, y3) === 1 - cw ^ l0) {\n          var h0 = (a0 + a1) / 2;\n          x2 = r0 * Math.cos(h0);\n          y2 = r0 * Math.sin(h0);\n          x3 = y3 = null;\n        }\n      } else {\n        x2 = y2 = 0;\n      }\n      if (da >  && (rc = Math.min(Math.abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments))) > .001) {\n        cr = r0 < r1 ^ cw ? 0 : 1;\n        var rc1 = rc, rc0 = rc;\n        if (da < ) {\n          var oc = x3 == null ? [ x2, y2 ] : x1 == null ? [ x0, y0 ] : d3_geom_polygonIntersect([ x0, y0 ], [ x3, y3 ], [ x1, y1 ], [ x2, y2 ]), ax = x0 - oc[0], ay = y0 - oc[1], bx = x1 - oc[0], by = y1 - oc[1], kc = 1 / Math.sin(Math.acos((ax * bx + ay * by) / (Math.sqrt(ax * ax + ay * ay) * Math.sqrt(bx * bx + by * by))) / 2), lc = Math.sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = Math.min(rc, (r0 - lc) / (kc - 1));\n          rc1 = Math.min(rc, (r1 - lc) / (kc + 1));\n        }\n        if (x1 != null) {\n          var t30 = d3_svg_arcCornerTangents(x3 == null ? [ x2, y2 ] : [ x3, y3 ], [ x0, y0 ], r1, rc1, cw), t12 = d3_svg_arcCornerTangents([ x1, y1 ], [ x2, y2 ], r1, rc1, cw);\n          if (rc === rc1) {\n            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t30[1], \"A\", r1, \",\", r1, \" 0 \", 1 - cw ^ d3_svg_arcSweep(t30[1][0], t30[1][1], t12[1][0], t12[1][1]), \",\", cw, \" \", t12[1], \"A\", rc1, \",\", rc1, \" 0 0,\", cr, \" \", t12[0]);\n          } else {\n            path.push(\"M\", t30[0], \"A\", rc1, \",\", rc1, \" 0 1,\", cr, \" \", t12[0]);\n          }\n        } else {\n          path.push(\"M\", x0, \",\", y0);\n        }\n        if (x3 != null) {\n          var t03 = d3_svg_arcCornerTangents([ x0, y0 ], [ x3, y3 ], r0, -rc0, cw), t21 = d3_svg_arcCornerTangents([ x2, y2 ], x1 == null ? [ x0, y0 ] : [ x1, y1 ], r0, -rc0, cw);\n          if (rc === rc0) {\n            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t21[1], \"A\", r0, \",\", r0, \" 0 \", cw ^ d3_svg_arcSweep(t21[1][0], t21[1][1], t03[1][0], t03[1][1]), \",\", 1 - cw, \" \", t03[1], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n          } else {\n            path.push(\"L\", t21[0], \"A\", rc0, \",\", rc0, \" 0 0,\", cr, \" \", t03[0]);\n          }\n        } else {\n          path.push(\"L\", x2, \",\", y2);\n        }\n      } else {\n        path.push(\"M\", x0, \",\", y0);\n        if (x1 != null) path.push(\"A\", r1, \",\", r1, \" 0 \", l1, \",\", cw, \" \", x1, \",\", y1);\n        path.push(\"L\", x2, \",\", y2);\n        if (x3 != null) path.push(\"A\", r0, \",\", r0, \" 0 \", l0, \",\", 1 - cw, \" \", x3, \",\", y3);\n      }\n      path.push(\"Z\");\n      return path.join(\"\");\n    }\n    function circleSegment(r1, cw) {\n      return \"M0,\" + r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + -r1 + \"A\" + r1 + \",\" + r1 + \" 0 1,\" + cw + \" 0,\" + r1;\n    }\n    arc.innerRadius = function(v) {\n      if (!arguments.length) return innerRadius;\n      innerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.outerRadius = function(v) {\n      if (!arguments.length) return outerRadius;\n      outerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.cornerRadius = function(v) {\n      if (!arguments.length) return cornerRadius;\n      cornerRadius = d3_functor(v);\n      return arc;\n    };\n    arc.padRadius = function(v) {\n      if (!arguments.length) return padRadius;\n      padRadius = v == d3_svg_arcAuto ? d3_svg_arcAuto : d3_functor(v);\n      return arc;\n    };\n    arc.startAngle = function(v) {\n      if (!arguments.length) return startAngle;\n      startAngle = d3_functor(v);\n      return arc;\n    };\n    arc.endAngle = function(v) {\n      if (!arguments.length) return endAngle;\n      endAngle = d3_functor(v);\n      return arc;\n    };\n    arc.padAngle = function(v) {\n      if (!arguments.length) return padAngle;\n      padAngle = d3_functor(v);\n      return arc;\n    };\n    arc.centroid = function() {\n      var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2, a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - half;\n      return [ Math.cos(a) * r, Math.sin(a) * r ];\n    };\n    return arc;\n  };\n  var d3_svg_arcAuto = \"auto\";\n  function d3_svg_arcInnerRadius(d) {\n    return d.innerRadius;\n  }\n  function d3_svg_arcOuterRadius(d) {\n    return d.outerRadius;\n  }\n  function d3_svg_arcStartAngle(d) {\n    return d.startAngle;\n  }\n  function d3_svg_arcEndAngle(d) {\n    return d.endAngle;\n  }\n  function d3_svg_arcPadAngle(d) {\n    return d && d.padAngle;\n  }\n  function d3_svg_arcSweep(x0, y0, x1, y1) {\n    return (x0 - x1) * y0 - (y0 - y1) * x0 > 0 ? 0 : 1;\n  }\n  function d3_svg_arcCornerTangents(p0, p1, r1, rc, cw) {\n    var x01 = p0[0] - p1[0], y01 = p0[1] - p1[1], lo = (cw ? rc : -rc) / Math.sqrt(x01 * x01 + y01 * y01), ox = lo * y01, oy = -lo * x01, x1 = p0[0] + ox, y1 = p0[1] + oy, x2 = p1[0] + ox, y2 = p1[1] + oy, x3 = (x1 + x2) / 2, y3 = (y1 + y2) / 2, dx = x2 - x1, dy = y2 - y1, d2 = dx * dx + dy * dy, r = r1 - rc, D = x1 * y2 - x2 * y1, d = (dy < 0 ? -1 : 1) * Math.sqrt(Math.max(0, r * r * d2 - D * D)), cx0 = (D * dy - dx * d) / d2, cy0 = (-D * dx - dy * d) / d2, cx1 = (D * dy + dx * d) / d2, cy1 = (-D * dx + dy * d) / d2, dx0 = cx0 - x3, dy0 = cy0 - y3, dx1 = cx1 - x3, dy1 = cy1 - y3;\n    if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n    return [ [ cx0 - ox, cy0 - oy ], [ cx0 * r1 / r, cy0 * r1 / r ] ];\n  }\n  function d3_svg_line(projection) {\n    var x = d3_geom_pointX, y = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, tension = .7;\n    function line(data) {\n      var segments = [], points = [], i = -1, n = data.length, d, fx = d3_functor(x), fy = d3_functor(y);\n      function segment() {\n        segments.push(\"M\", interpolate(projection(points), tension));\n      }\n      while (++i < n) {\n        if (defined.call(this, d = data[i], i)) {\n          points.push([ +fx.call(this, d, i), +fy.call(this, d, i) ]);\n        } else if (points.length) {\n          segment();\n          points = [];\n        }\n      }\n      if (points.length) segment();\n      return segments.length ? segments.join(\"\") : null;\n    }\n    line.x = function(_) {\n      if (!arguments.length) return x;\n      x = _;\n      return line;\n    };\n    line.y = function(_) {\n      if (!arguments.length) return y;\n      y = _;\n      return line;\n    };\n    line.defined = function(_) {\n      if (!arguments.length) return defined;\n      defined = _;\n      return line;\n    };\n    line.interpolate = function(_) {\n      if (!arguments.length) return interpolateKey;\n      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n      return line;\n    };\n    line.tension = function(_) {\n      if (!arguments.length) return tension;\n      tension = _;\n      return line;\n    };\n    return line;\n  }\n  d3.svg.line = function() {\n    return d3_svg_line(d3_identity);\n  };\n  var d3_svg_lineInterpolators = d3.map({\n    linear: d3_svg_lineLinear,\n    \"linear-closed\": d3_svg_lineLinearClosed,\n    step: d3_svg_lineStep,\n    \"step-before\": d3_svg_lineStepBefore,\n    \"step-after\": d3_svg_lineStepAfter,\n    basis: d3_svg_lineBasis,\n    \"basis-open\": d3_svg_lineBasisOpen,\n    \"basis-closed\": d3_svg_lineBasisClosed,\n    bundle: d3_svg_lineBundle,\n    cardinal: d3_svg_lineCardinal,\n    \"cardinal-open\": d3_svg_lineCardinalOpen,\n    \"cardinal-closed\": d3_svg_lineCardinalClosed,\n    monotone: d3_svg_lineMonotone\n  });\n  d3_svg_lineInterpolators.forEach(function(key, value) {\n    value.key = key;\n    value.closed = /-closed$/.test(key);\n  });\n  function d3_svg_lineLinear(points) {\n    return points.length > 1 ? points.join(\"L\") : points + \"Z\";\n  }\n  function d3_svg_lineLinearClosed(points) {\n    return points.join(\"L\") + \"Z\";\n  }\n  function d3_svg_lineStep(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"H\", (p[0] + (p = points[i])[0]) / 2, \"V\", p[1]);\n    if (n > 1) path.push(\"H\", p[0]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineStepBefore(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"V\", (p = points[i])[1], \"H\", p[0]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineStepAfter(points) {\n    var i = 0, n = points.length, p = points[0], path = [ p[0], \",\", p[1] ];\n    while (++i < n) path.push(\"H\", (p = points[i])[0], \"V\", p[1]);\n    return path.join(\"\");\n  }\n  function d3_svg_lineCardinalOpen(points, tension) {\n    return points.length < 4 ? d3_svg_lineLinear(points) : points[1] + d3_svg_lineHermite(points.slice(1, -1), d3_svg_lineCardinalTangents(points, tension));\n  }\n  function d3_svg_lineCardinalClosed(points, tension) {\n    return points.length < 3 ? d3_svg_lineLinearClosed(points) : points[0] + d3_svg_lineHermite((points.push(points[0]), \n    points), d3_svg_lineCardinalTangents([ points[points.length - 2] ].concat(points, [ points[1] ]), tension));\n  }\n  function d3_svg_lineCardinal(points, tension) {\n    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineCardinalTangents(points, tension));\n  }\n  function d3_svg_lineHermite(points, tangents) {\n    if (tangents.length < 1 || points.length != tangents.length && points.length != tangents.length + 2) {\n      return d3_svg_lineLinear(points);\n    }\n    var quad = points.length != tangents.length, path = \"\", p0 = points[0], p = points[1], t0 = tangents[0], t = t0, pi = 1;\n    if (quad) {\n      path += \"Q\" + (p[0] - t0[0] * 2 / 3) + \",\" + (p[1] - t0[1] * 2 / 3) + \",\" + p[0] + \",\" + p[1];\n      p0 = points[1];\n      pi = 2;\n    }\n    if (tangents.length > 1) {\n      t = tangents[1];\n      p = points[pi];\n      pi++;\n      path += \"C\" + (p0[0] + t0[0]) + \",\" + (p0[1] + t0[1]) + \",\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n      for (var i = 2; i < tangents.length; i++, pi++) {\n        p = points[pi];\n        t = tangents[i];\n        path += \"S\" + (p[0] - t[0]) + \",\" + (p[1] - t[1]) + \",\" + p[0] + \",\" + p[1];\n      }\n    }\n    if (quad) {\n      var lp = points[pi];\n      path += \"Q\" + (p[0] + t[0] * 2 / 3) + \",\" + (p[1] + t[1] * 2 / 3) + \",\" + lp[0] + \",\" + lp[1];\n    }\n    return path;\n  }\n  function d3_svg_lineCardinalTangents(points, tension) {\n    var tangents = [], a = (1 - tension) / 2, p0, p1 = points[0], p2 = points[1], i = 1, n = points.length;\n    while (++i < n) {\n      p0 = p1;\n      p1 = p2;\n      p2 = points[i];\n      tangents.push([ a * (p2[0] - p0[0]), a * (p2[1] - p0[1]) ]);\n    }\n    return tangents;\n  }\n  function d3_svg_lineBasis(points) {\n    if (points.length < 3) return d3_svg_lineLinear(points);\n    var i = 1, n = points.length, pi = points[0], x0 = pi[0], y0 = pi[1], px = [ x0, x0, x0, (pi = points[1])[0] ], py = [ y0, y0, y0, pi[1] ], path = [ x0, \",\", y0, \"L\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n    points.push(points[n - 1]);\n    while (++i <= n) {\n      pi = points[i];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    points.pop();\n    path.push(\"L\", pi);\n    return path.join(\"\");\n  }\n  function d3_svg_lineBasisOpen(points) {\n    if (points.length < 4) return d3_svg_lineLinear(points);\n    var path = [], i = -1, n = points.length, pi, px = [ 0 ], py = [ 0 ];\n    while (++i < 3) {\n      pi = points[i];\n      px.push(pi[0]);\n      py.push(pi[1]);\n    }\n    path.push(d3_svg_lineDot4(d3_svg_lineBasisBezier3, px) + \",\" + d3_svg_lineDot4(d3_svg_lineBasisBezier3, py));\n    --i;\n    while (++i < n) {\n      pi = points[i];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    return path.join(\"\");\n  }\n  function d3_svg_lineBasisClosed(points) {\n    var path, i = -1, n = points.length, m = n + 4, pi, px = [], py = [];\n    while (++i < 4) {\n      pi = points[i % n];\n      px.push(pi[0]);\n      py.push(pi[1]);\n    }\n    path = [ d3_svg_lineDot4(d3_svg_lineBasisBezier3, px), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, py) ];\n    --i;\n    while (++i < m) {\n      pi = points[i % n];\n      px.shift();\n      px.push(pi[0]);\n      py.shift();\n      py.push(pi[1]);\n      d3_svg_lineBasisBezier(path, px, py);\n    }\n    return path.join(\"\");\n  }\n  function d3_svg_lineBundle(points, tension) {\n    var n = points.length - 1;\n    if (n) {\n      var x0 = points[0][0], y0 = points[0][1], dx = points[n][0] - x0, dy = points[n][1] - y0, i = -1, p, t;\n      while (++i <= n) {\n        p = points[i];\n        t = i / n;\n        p[0] = tension * p[0] + (1 - tension) * (x0 + t * dx);\n        p[1] = tension * p[1] + (1 - tension) * (y0 + t * dy);\n      }\n    }\n    return d3_svg_lineBasis(points);\n  }\n  function d3_svg_lineDot4(a, b) {\n    return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n  }\n  var d3_svg_lineBasisBezier1 = [ 0, 2 / 3, 1 / 3, 0 ], d3_svg_lineBasisBezier2 = [ 0, 1 / 3, 2 / 3, 0 ], d3_svg_lineBasisBezier3 = [ 0, 1 / 6, 2 / 3, 1 / 6 ];\n  function d3_svg_lineBasisBezier(path, x, y) {\n    path.push(\"C\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier1, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier2, y), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, x), \",\", d3_svg_lineDot4(d3_svg_lineBasisBezier3, y));\n  }\n  function d3_svg_lineSlope(p0, p1) {\n    return (p1[1] - p0[1]) / (p1[0] - p0[0]);\n  }\n  function d3_svg_lineFiniteDifferences(points) {\n    var i = 0, j = points.length - 1, m = [], p0 = points[0], p1 = points[1], d = m[0] = d3_svg_lineSlope(p0, p1);\n    while (++i < j) {\n      m[i] = (d + (d = d3_svg_lineSlope(p0 = p1, p1 = points[i + 1]))) / 2;\n    }\n    m[i] = d;\n    return m;\n  }\n  function d3_svg_lineMonotoneTangents(points) {\n    var tangents = [], d, a, b, s, m = d3_svg_lineFiniteDifferences(points), i = -1, j = points.length - 1;\n    while (++i < j) {\n      d = d3_svg_lineSlope(points[i], points[i + 1]);\n      if (abs(d) < ) {\n        m[i] = m[i + 1] = 0;\n      } else {\n        a = m[i] / d;\n        b = m[i + 1] / d;\n        s = a * a + b * b;\n        if (s > 9) {\n          s = d * 3 / Math.sqrt(s);\n          m[i] = s * a;\n          m[i + 1] = s * b;\n        }\n      }\n    }\n    i = -1;\n    while (++i <= j) {\n      s = (points[Math.min(j, i + 1)][0] - points[Math.max(0, i - 1)][0]) / (6 * (1 + m[i] * m[i]));\n      tangents.push([ s || 0, m[i] * s || 0 ]);\n    }\n    return tangents;\n  }\n  function d3_svg_lineMonotone(points) {\n    return points.length < 3 ? d3_svg_lineLinear(points) : points[0] + d3_svg_lineHermite(points, d3_svg_lineMonotoneTangents(points));\n  }\n  d3.svg.line.radial = function() {\n    var line = d3_svg_line(d3_svg_lineRadial);\n    line.radius = line.x, delete line.x;\n    line.angle = line.y, delete line.y;\n    return line;\n  };\n  function d3_svg_lineRadial(points) {\n    var point, i = -1, n = points.length, r, a;\n    while (++i < n) {\n      point = points[i];\n      r = point[0];\n      a = point[1] - half;\n      point[0] = r * Math.cos(a);\n      point[1] = r * Math.sin(a);\n    }\n    return points;\n  }\n  function d3_svg_area(projection) {\n    var x0 = d3_geom_pointX, x1 = d3_geom_pointX, y0 = 0, y1 = d3_geom_pointY, defined = d3_true, interpolate = d3_svg_lineLinear, interpolateKey = interpolate.key, interpolateReverse = interpolate, L = \"L\", tension = .7;\n    function area(data) {\n      var segments = [], points0 = [], points1 = [], i = -1, n = data.length, d, fx0 = d3_functor(x0), fy0 = d3_functor(y0), fx1 = x0 === x1 ? function() {\n        return x;\n      } : d3_functor(x1), fy1 = y0 === y1 ? function() {\n        return y;\n      } : d3_functor(y1), x, y;\n      function segment() {\n        segments.push(\"M\", interpolate(projection(points1), tension), L, interpolateReverse(projection(points0.reverse()), tension), \"Z\");\n      }\n      while (++i < n) {\n        if (defined.call(this, d = data[i], i)) {\n          points0.push([ x = +fx0.call(this, d, i), y = +fy0.call(this, d, i) ]);\n          points1.push([ +fx1.call(this, d, i), +fy1.call(this, d, i) ]);\n        } else if (points0.length) {\n          segment();\n          points0 = [];\n          points1 = [];\n        }\n      }\n      if (points0.length) segment();\n      return segments.length ? segments.join(\"\") : null;\n    }\n    area.x = function(_) {\n      if (!arguments.length) return x1;\n      x0 = x1 = _;\n      return area;\n    };\n    area.x0 = function(_) {\n      if (!arguments.length) return x0;\n      x0 = _;\n      return area;\n    };\n    area.x1 = function(_) {\n      if (!arguments.length) return x1;\n      x1 = _;\n      return area;\n    };\n    area.y = function(_) {\n      if (!arguments.length) return y1;\n      y0 = y1 = _;\n      return area;\n    };\n    area.y0 = function(_) {\n      if (!arguments.length) return y0;\n      y0 = _;\n      return area;\n    };\n    area.y1 = function(_) {\n      if (!arguments.length) return y1;\n      y1 = _;\n      return area;\n    };\n    area.defined = function(_) {\n      if (!arguments.length) return defined;\n      defined = _;\n      return area;\n    };\n    area.interpolate = function(_) {\n      if (!arguments.length) return interpolateKey;\n      if (typeof _ === \"function\") interpolateKey = interpolate = _; else interpolateKey = (interpolate = d3_svg_lineInterpolators.get(_) || d3_svg_lineLinear).key;\n      interpolateReverse = interpolate.reverse || interpolate;\n      L = interpolate.closed ? \"M\" : \"L\";\n      return area;\n    };\n    area.tension = function(_) {\n      if (!arguments.length) return tension;\n      tension = _;\n      return area;\n    };\n    return area;\n  }\n  d3_svg_lineStepBefore.reverse = d3_svg_lineStepAfter;\n  d3_svg_lineStepAfter.reverse = d3_svg_lineStepBefore;\n  d3.svg.area = function() {\n    return d3_svg_area(d3_identity);\n  };\n  d3.svg.area.radial = function() {\n    var area = d3_svg_area(d3_svg_lineRadial);\n    area.radius = area.x, delete area.x;\n    area.innerRadius = area.x0, delete area.x0;\n    area.outerRadius = area.x1, delete area.x1;\n    area.angle = area.y, delete area.y;\n    area.startAngle = area.y0, delete area.y0;\n    area.endAngle = area.y1, delete area.y1;\n    return area;\n  };\n  d3.svg.chord = function() {\n    var source = d3_source, target = d3_target, radius = d3_svg_chordRadius, startAngle = d3_svg_arcStartAngle, endAngle = d3_svg_arcEndAngle;\n    function chord(d, i) {\n      var s = subgroup(this, source, d, i), t = subgroup(this, target, d, i);\n      return \"M\" + s.p0 + arc(s.r, s.p1, s.a1 - s.a0) + (equals(s, t) ? curve(s.r, s.p1, s.r, s.p0) : curve(s.r, s.p1, t.r, t.p0) + arc(t.r, t.p1, t.a1 - t.a0) + curve(t.r, t.p1, s.r, s.p0)) + \"Z\";\n    }\n    function subgroup(self, f, d, i) {\n      var subgroup = f.call(self, d, i), r = radius.call(self, subgroup, i), a0 = startAngle.call(self, subgroup, i) - half, a1 = endAngle.call(self, subgroup, i) - half;\n      return {\n        r: r,\n        a0: a0,\n        a1: a1,\n        p0: [ r * Math.cos(a0), r * Math.sin(a0) ],\n        p1: [ r * Math.cos(a1), r * Math.sin(a1) ]\n      };\n    }\n    function equals(a, b) {\n      return a.a0 == b.a0 && a.a1 == b.a1;\n    }\n    function arc(r, p, a) {\n      return \"A\" + r + \",\" + r + \" 0 \" + +(a > ) + \",1 \" + p;\n    }\n    function curve(r0, p0, r1, p1) {\n      return \"Q 0,0 \" + p1;\n    }\n    chord.radius = function(v) {\n      if (!arguments.length) return radius;\n      radius = d3_functor(v);\n      return chord;\n    };\n    chord.source = function(v) {\n      if (!arguments.length) return source;\n      source = d3_functor(v);\n      return chord;\n    };\n    chord.target = function(v) {\n      if (!arguments.length) return target;\n      target = d3_functor(v);\n      return chord;\n    };\n    chord.startAngle = function(v) {\n      if (!arguments.length) return startAngle;\n      startAngle = d3_functor(v);\n      return chord;\n    };\n    chord.endAngle = function(v) {\n      if (!arguments.length) return endAngle;\n      endAngle = d3_functor(v);\n      return chord;\n    };\n    return chord;\n  };\n  function d3_svg_chordRadius(d) {\n    return d.radius;\n  }\n  d3.svg.diagonal = function() {\n    var source = d3_source, target = d3_target, projection = d3_svg_diagonalProjection;\n    function diagonal(d, i) {\n      var p0 = source.call(this, d, i), p3 = target.call(this, d, i), m = (p0.y + p3.y) / 2, p = [ p0, {\n        x: p0.x,\n        y: m\n      }, {\n        x: p3.x,\n        y: m\n      }, p3 ];\n      p = p.map(projection);\n      return \"M\" + p[0] + \"C\" + p[1] + \" \" + p[2] + \" \" + p[3];\n    }\n    diagonal.source = function(x) {\n      if (!arguments.length) return source;\n      source = d3_functor(x);\n      return diagonal;\n    };\n    diagonal.target = function(x) {\n      if (!arguments.length) return target;\n      target = d3_functor(x);\n      return diagonal;\n    };\n    diagonal.projection = function(x) {\n      if (!arguments.length) return projection;\n      projection = x;\n      return diagonal;\n    };\n    return diagonal;\n  };\n  function d3_svg_diagonalProjection(d) {\n    return [ d.x, d.y ];\n  }\n  d3.svg.diagonal.radial = function() {\n    var diagonal = d3.svg.diagonal(), projection = d3_svg_diagonalProjection, projection_ = diagonal.projection;\n    diagonal.projection = function(x) {\n      return arguments.length ? projection_(d3_svg_diagonalRadialProjection(projection = x)) : projection;\n    };\n    return diagonal;\n  };\n  function d3_svg_diagonalRadialProjection(projection) {\n    return function() {\n      var d = projection.apply(this, arguments), r = d[0], a = d[1] - half;\n      return [ r * Math.cos(a), r * Math.sin(a) ];\n    };\n  }\n  d3.svg.symbol = function() {\n    var type = d3_svg_symbolType, size = d3_svg_symbolSize;\n    function symbol(d, i) {\n      return (d3_svg_symbols.get(type.call(this, d, i)) || d3_svg_symbolCircle)(size.call(this, d, i));\n    }\n    symbol.type = function(x) {\n      if (!arguments.length) return type;\n      type = d3_functor(x);\n      return symbol;\n    };\n    symbol.size = function(x) {\n      if (!arguments.length) return size;\n      size = d3_functor(x);\n      return symbol;\n    };\n    return symbol;\n  };\n  function d3_svg_symbolSize() {\n    return 64;\n  }\n  function d3_svg_symbolType() {\n    return \"circle\";\n  }\n  function d3_svg_symbolCircle(size) {\n    var r = Math.sqrt(size / );\n    return \"M0,\" + r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + -r + \"A\" + r + \",\" + r + \" 0 1,1 0,\" + r + \"Z\";\n  }\n  var d3_svg_symbols = d3.map({\n    circle: d3_svg_symbolCircle,\n    cross: function(size) {\n      var r = Math.sqrt(size / 5) / 2;\n      return \"M\" + -3 * r + \",\" + -r + \"H\" + -r + \"V\" + -3 * r + \"H\" + r + \"V\" + -r + \"H\" + 3 * r + \"V\" + r + \"H\" + r + \"V\" + 3 * r + \"H\" + -r + \"V\" + r + \"H\" + -3 * r + \"Z\";\n    },\n    diamond: function(size) {\n      var ry = Math.sqrt(size / (2 * d3_svg_symbolTan30)), rx = ry * d3_svg_symbolTan30;\n      return \"M0,\" + -ry + \"L\" + rx + \",0\" + \" 0,\" + ry + \" \" + -rx + \",0\" + \"Z\";\n    },\n    square: function(size) {\n      var r = Math.sqrt(size) / 2;\n      return \"M\" + -r + \",\" + -r + \"L\" + r + \",\" + -r + \" \" + r + \",\" + r + \" \" + -r + \",\" + r + \"Z\";\n    },\n    \"triangle-down\": function(size) {\n      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n      return \"M0,\" + ry + \"L\" + rx + \",\" + -ry + \" \" + -rx + \",\" + -ry + \"Z\";\n    },\n    \"triangle-up\": function(size) {\n      var rx = Math.sqrt(size / d3_svg_symbolSqrt3), ry = rx * d3_svg_symbolSqrt3 / 2;\n      return \"M0,\" + -ry + \"L\" + rx + \",\" + ry + \" \" + -rx + \",\" + ry + \"Z\";\n    }\n  });\n  d3.svg.symbolTypes = d3_svg_symbols.keys();\n  var d3_svg_symbolSqrt3 = Math.sqrt(3), d3_svg_symbolTan30 = Math.tan(30 * d3_radians);\n  d3_selectionPrototype.transition = function(name) {\n    var id = d3_transitionInheritId || ++d3_transitionId, ns = d3_transitionNamespace(name), subgroups = [], subgroup, node, transition = d3_transitionInherit || {\n      time: Date.now(),\n      ease: d3_ease_cubicInOut,\n      delay: 0,\n      duration: 250\n    };\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) d3_transitionNode(node, i, ns, id, transition);\n        subgroup.push(node);\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_selectionPrototype.interrupt = function(name) {\n    return this.each(name == null ? d3_selection_interrupt : d3_selection_interruptNS(d3_transitionNamespace(name)));\n  };\n  var d3_selection_interrupt = d3_selection_interruptNS(d3_transitionNamespace());\n  function d3_selection_interruptNS(ns) {\n    return function() {\n      var lock, activeId, active;\n      if ((lock = this[ns]) && (active = lock[activeId = lock.active])) {\n        active.timer.c = null;\n        active.timer.t = NaN;\n        if (--lock.count) delete lock[activeId]; else delete this[ns];\n        lock.active += .5;\n        active.event && active.event.interrupt.call(this, this.__data__, active.index);\n      }\n    };\n  }\n  function d3_transition(groups, ns, id) {\n    d3_subclass(groups, d3_transitionPrototype);\n    groups.namespace = ns;\n    groups.id = id;\n    return groups;\n  }\n  var d3_transitionPrototype = [], d3_transitionId = 0, d3_transitionInheritId, d3_transitionInherit;\n  d3_transitionPrototype.call = d3_selectionPrototype.call;\n  d3_transitionPrototype.empty = d3_selectionPrototype.empty;\n  d3_transitionPrototype.node = d3_selectionPrototype.node;\n  d3_transitionPrototype.size = d3_selectionPrototype.size;\n  d3.transition = function(selection, name) {\n    return selection && selection.transition ? d3_transitionInheritId ? selection.transition(name) : selection : d3.selection().transition(selection);\n  };\n  d3.transition.prototype = d3_transitionPrototype;\n  d3_transitionPrototype.select = function(selector) {\n    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnode, node;\n    selector = d3_selection_selector(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if ((node = group[i]) && (subnode = selector.call(node, node.__data__, i, j))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          d3_transitionNode(subnode, i, ns, id, node[ns][id]);\n          subgroup.push(subnode);\n        } else {\n          subgroup.push(null);\n        }\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_transitionPrototype.selectAll = function(selector) {\n    var id = this.id, ns = this.namespace, subgroups = [], subgroup, subnodes, node, subnode, transition;\n    selector = d3_selection_selectorAll(selector);\n    for (var j = -1, m = this.length; ++j < m; ) {\n      for (var group = this[j], i = -1, n = group.length; ++i < n; ) {\n        if (node = group[i]) {\n          transition = node[ns][id];\n          subnodes = selector.call(node, node.__data__, i, j);\n          subgroups.push(subgroup = []);\n          for (var k = -1, o = subnodes.length; ++k < o; ) {\n            if (subnode = subnodes[k]) d3_transitionNode(subnode, k, ns, id, transition);\n            subgroup.push(subnode);\n          }\n        }\n      }\n    }\n    return d3_transition(subgroups, ns, id);\n  };\n  d3_transitionPrototype.filter = function(filter) {\n    var subgroups = [], subgroup, group, node;\n    if (typeof filter !== \"function\") filter = d3_selection_filter(filter);\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        if ((node = group[i]) && filter.call(node, node.__data__, i, j)) {\n          subgroup.push(node);\n        }\n      }\n    }\n    return d3_transition(subgroups, this.namespace, this.id);\n  };\n  d3_transitionPrototype.tween = function(name, tween) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 2) return this.node()[ns][id].tween.get(name);\n    return d3_selection_each(this, tween == null ? function(node) {\n      node[ns][id].tween.remove(name);\n    } : function(node) {\n      node[ns][id].tween.set(name, tween);\n    });\n  };\n  function d3_transition_tween(groups, name, value, tween) {\n    var id = groups.id, ns = groups.namespace;\n    return d3_selection_each(groups, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].tween.set(name, tween(value.call(node, node.__data__, i, j)));\n    } : (value = tween(value), function(node) {\n      node[ns][id].tween.set(name, value);\n    }));\n  }\n  d3_transitionPrototype.attr = function(nameNS, value) {\n    if (arguments.length < 2) {\n      for (value in nameNS) this.attr(value, nameNS[value]);\n      return this;\n    }\n    var interpolate = nameNS == \"transform\" ? d3_interpolateTransform : d3_interpolate, name = d3.ns.qualify(nameNS);\n    function attrNull() {\n      this.removeAttribute(name);\n    }\n    function attrNullNS() {\n      this.removeAttributeNS(name.space, name.local);\n    }\n    function attrTween(b) {\n      return b == null ? attrNull : (b += \"\", function() {\n        var a = this.getAttribute(name), i;\n        return a !== b && (i = interpolate(a, b), function(t) {\n          this.setAttribute(name, i(t));\n        });\n      });\n    }\n    function attrTweenNS(b) {\n      return b == null ? attrNullNS : (b += \"\", function() {\n        var a = this.getAttributeNS(name.space, name.local), i;\n        return a !== b && (i = interpolate(a, b), function(t) {\n          this.setAttributeNS(name.space, name.local, i(t));\n        });\n      });\n    }\n    return d3_transition_tween(this, \"attr.\" + nameNS, value, name.local ? attrTweenNS : attrTween);\n  };\n  d3_transitionPrototype.attrTween = function(nameNS, tween) {\n    var name = d3.ns.qualify(nameNS);\n    function attrTween(d, i) {\n      var f = tween.call(this, d, i, this.getAttribute(name));\n      return f && function(t) {\n        this.setAttribute(name, f(t));\n      };\n    }\n    function attrTweenNS(d, i) {\n      var f = tween.call(this, d, i, this.getAttributeNS(name.space, name.local));\n      return f && function(t) {\n        this.setAttributeNS(name.space, name.local, f(t));\n      };\n    }\n    return this.tween(\"attr.\" + nameNS, name.local ? attrTweenNS : attrTween);\n  };\n  d3_transitionPrototype.style = function(name, value, priority) {\n    var n = arguments.length;\n    if (n < 3) {\n      if (typeof name !== \"string\") {\n        if (n < 2) value = \"\";\n        for (priority in name) this.style(priority, name[priority], value);\n        return this;\n      }\n      priority = \"\";\n    }\n    function styleNull() {\n      this.style.removeProperty(name);\n    }\n    function styleString(b) {\n      return b == null ? styleNull : (b += \"\", function() {\n        var a = d3_window(this).getComputedStyle(this, null).getPropertyValue(name), i;\n        return a !== b && (i = d3_interpolate(a, b), function(t) {\n          this.style.setProperty(name, i(t), priority);\n        });\n      });\n    }\n    return d3_transition_tween(this, \"style.\" + name, value, styleString);\n  };\n  d3_transitionPrototype.styleTween = function(name, tween, priority) {\n    if (arguments.length < 3) priority = \"\";\n    function styleTween(d, i) {\n      var f = tween.call(this, d, i, d3_window(this).getComputedStyle(this, null).getPropertyValue(name));\n      return f && function(t) {\n        this.style.setProperty(name, f(t), priority);\n      };\n    }\n    return this.tween(\"style.\" + name, styleTween);\n  };\n  d3_transitionPrototype.text = function(value) {\n    return d3_transition_tween(this, \"text\", value, d3_transition_text);\n  };\n  function d3_transition_text(b) {\n    if (b == null) b = \"\";\n    return function() {\n      this.textContent = b;\n    };\n  }\n  d3_transitionPrototype.remove = function() {\n    var ns = this.namespace;\n    return this.each(\"end.transition\", function() {\n      var p;\n      if (this[ns].count < 2 && (p = this.parentNode)) p.removeChild(this);\n    });\n  };\n  d3_transitionPrototype.ease = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].ease;\n    if (typeof value !== \"function\") value = d3.ease.apply(d3, arguments);\n    return d3_selection_each(this, function(node) {\n      node[ns][id].ease = value;\n    });\n  };\n  d3_transitionPrototype.delay = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].delay;\n    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].delay = +value.call(node, node.__data__, i, j);\n    } : (value = +value, function(node) {\n      node[ns][id].delay = value;\n    }));\n  };\n  d3_transitionPrototype.duration = function(value) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 1) return this.node()[ns][id].duration;\n    return d3_selection_each(this, typeof value === \"function\" ? function(node, i, j) {\n      node[ns][id].duration = Math.max(1, value.call(node, node.__data__, i, j));\n    } : (value = Math.max(1, value), function(node) {\n      node[ns][id].duration = value;\n    }));\n  };\n  d3_transitionPrototype.each = function(type, listener) {\n    var id = this.id, ns = this.namespace;\n    if (arguments.length < 2) {\n      var inherit = d3_transitionInherit, inheritId = d3_transitionInheritId;\n      try {\n        d3_transitionInheritId = id;\n        d3_selection_each(this, function(node, i, j) {\n          d3_transitionInherit = node[ns][id];\n          type.call(node, node.__data__, i, j);\n        });\n      } finally {\n        d3_transitionInherit = inherit;\n        d3_transitionInheritId = inheritId;\n      }\n    } else {\n      d3_selection_each(this, function(node) {\n        var transition = node[ns][id];\n        (transition.event || (transition.event = d3.dispatch(\"start\", \"end\", \"interrupt\"))).on(type, listener);\n      });\n    }\n    return this;\n  };\n  d3_transitionPrototype.transition = function() {\n    var id0 = this.id, id1 = ++d3_transitionId, ns = this.namespace, subgroups = [], subgroup, group, node, transition;\n    for (var j = 0, m = this.length; j < m; j++) {\n      subgroups.push(subgroup = []);\n      for (var group = this[j], i = 0, n = group.length; i < n; i++) {\n        if (node = group[i]) {\n          transition = node[ns][id0];\n          d3_transitionNode(node, i, ns, id1, {\n            time: transition.time,\n            ease: transition.ease,\n            delay: transition.delay + transition.duration,\n            duration: transition.duration\n          });\n        }\n        subgroup.push(node);\n      }\n    }\n    return d3_transition(subgroups, ns, id1);\n  };\n  function d3_transitionNamespace(name) {\n    return name == null ? \"__transition__\" : \"__transition_\" + name + \"__\";\n  }\n  function d3_transitionNode(node, i, ns, id, inherit) {\n    var lock = node[ns] || (node[ns] = {\n      active: 0,\n      count: 0\n    }), transition = lock[id], time, timer, duration, ease, tweens;\n    function schedule(elapsed) {\n      var delay = transition.delay;\n      timer.t = delay + time;\n      if (delay <= elapsed) return start(elapsed - delay);\n      timer.c = start;\n    }\n    function start(elapsed) {\n      var activeId = lock.active, active = lock[activeId];\n      if (active) {\n        active.timer.c = null;\n        active.timer.t = NaN;\n        --lock.count;\n        delete lock[activeId];\n        active.event && active.event.interrupt.call(node, node.__data__, active.index);\n      }\n      for (var cancelId in lock) {\n        if (+cancelId < id) {\n          var cancel = lock[cancelId];\n          cancel.timer.c = null;\n          cancel.timer.t = NaN;\n          --lock.count;\n          delete lock[cancelId];\n        }\n      }\n      timer.c = tick;\n      d3_timer(function() {\n        if (timer.c && tick(elapsed || 1)) {\n          timer.c = null;\n          timer.t = NaN;\n        }\n        return 1;\n      }, 0, time);\n      lock.active = id;\n      transition.event && transition.event.start.call(node, node.__data__, i);\n      tweens = [];\n      transition.tween.forEach(function(key, value) {\n        if (value = value.call(node, node.__data__, i)) {\n          tweens.push(value);\n        }\n      });\n      ease = transition.ease;\n      duration = transition.duration;\n    }\n    function tick(elapsed) {\n      var t = elapsed / duration, e = ease(t), n = tweens.length;\n      while (n > 0) {\n        tweens[--n].call(node, e);\n      }\n      if (t >= 1) {\n        transition.event && transition.event.end.call(node, node.__data__, i);\n        if (--lock.count) delete lock[id]; else delete node[ns];\n        return 1;\n      }\n    }\n    if (!transition) {\n      time = inherit.time;\n      timer = d3_timer(schedule, 0, time);\n      transition = lock[id] = {\n        tween: new d3_Map(),\n        time: time,\n        timer: timer,\n        delay: inherit.delay,\n        duration: inherit.duration,\n        ease: inherit.ease,\n        index: i\n      };\n      inherit = null;\n      ++lock.count;\n    }\n  }\n  d3.svg.axis = function() {\n    var scale = d3.scale.linear(), orient = d3_svg_axisDefaultOrient, innerTickSize = 6, outerTickSize = 6, tickPadding = 3, tickArguments_ = [ 10 ], tickValues = null, tickFormat_;\n    function axis(g) {\n      g.each(function() {\n        var g = d3.select(this);\n        var scale0 = this.__chart__ || scale, scale1 = this.__chart__ = scale.copy();\n        var ticks = tickValues == null ? scale1.ticks ? scale1.ticks.apply(scale1, tickArguments_) : scale1.domain() : tickValues, tickFormat = tickFormat_ == null ? scale1.tickFormat ? scale1.tickFormat.apply(scale1, tickArguments_) : d3_identity : tickFormat_, tick = g.selectAll(\".tick\").data(ticks, scale1), tickEnter = tick.enter().insert(\"g\", \".domain\").attr(\"class\", \"tick\").style(\"opacity\", ), tickExit = d3.transition(tick.exit()).style(\"opacity\", ).remove(), tickUpdate = d3.transition(tick.order()).style(\"opacity\", 1), tickSpacing = Math.max(innerTickSize, 0) + tickPadding, tickTransform;\n        var range = d3_scaleRange(scale1), path = g.selectAll(\".domain\").data([ 0 ]), pathUpdate = (path.enter().append(\"path\").attr(\"class\", \"domain\"), \n        d3.transition(path));\n        tickEnter.append(\"line\");\n        tickEnter.append(\"text\");\n        var lineEnter = tickEnter.select(\"line\"), lineUpdate = tickUpdate.select(\"line\"), text = tick.select(\"text\").text(tickFormat), textEnter = tickEnter.select(\"text\"), textUpdate = tickUpdate.select(\"text\"), sign = orient === \"top\" || orient === \"left\" ? -1 : 1, x1, x2, y1, y2;\n        if (orient === \"bottom\" || orient === \"top\") {\n          tickTransform = d3_svg_axisX, x1 = \"x\", y1 = \"y\", x2 = \"x2\", y2 = \"y2\";\n          text.attr(\"dy\", sign < 0 ? \"0em\" : \".71em\").style(\"text-anchor\", \"middle\");\n          pathUpdate.attr(\"d\", \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize);\n        } else {\n          tickTransform = d3_svg_axisY, x1 = \"y\", y1 = \"x\", x2 = \"y2\", y2 = \"x2\";\n          text.attr(\"dy\", \".32em\").style(\"text-anchor\", sign < 0 ? \"end\" : \"start\");\n          pathUpdate.attr(\"d\", \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize);\n        }\n        lineEnter.attr(y2, sign * innerTickSize);\n        textEnter.attr(y1, sign * tickSpacing);\n        lineUpdate.attr(x2, 0).attr(y2, sign * innerTickSize);\n        textUpdate.attr(x1, 0).attr(y1, sign * tickSpacing);\n        if (scale1.rangeBand) {\n          var x = scale1, dx = x.rangeBand() / 2;\n          scale0 = scale1 = function(d) {\n            return x(d) + dx;\n          };\n        } else if (scale0.rangeBand) {\n          scale0 = scale1;\n        } else {\n          tickExit.call(tickTransform, scale1, scale0);\n        }\n        tickEnter.call(tickTransform, scale0, scale1);\n        tickUpdate.call(tickTransform, scale1, scale1);\n      });\n    }\n    axis.scale = function(x) {\n      if (!arguments.length) return scale;\n      scale = x;\n      return axis;\n    };\n    axis.orient = function(x) {\n      if (!arguments.length) return orient;\n      orient = x in d3_svg_axisOrients ? x + \"\" : d3_svg_axisDefaultOrient;\n      return axis;\n    };\n    axis.ticks = function() {\n      if (!arguments.length) return tickArguments_;\n      tickArguments_ = d3_array(arguments);\n      return axis;\n    };\n    axis.tickValues = function(x) {\n      if (!arguments.length) return tickValues;\n      tickValues = x;\n      return axis;\n    };\n    axis.tickFormat = function(x) {\n      if (!arguments.length) return tickFormat_;\n      tickFormat_ = x;\n      return axis;\n    };\n    axis.tickSize = function(x) {\n      var n = arguments.length;\n      if (!n) return innerTickSize;\n      innerTickSize = +x;\n      outerTickSize = +arguments[n - 1];\n      return axis;\n    };\n    axis.innerTickSize = function(x) {\n      if (!arguments.length) return innerTickSize;\n      innerTickSize = +x;\n      return axis;\n    };\n    axis.outerTickSize = function(x) {\n      if (!arguments.length) return outerTickSize;\n      outerTickSize = +x;\n      return axis;\n    };\n    axis.tickPadding = function(x) {\n      if (!arguments.length) return tickPadding;\n      tickPadding = +x;\n      return axis;\n    };\n    axis.tickSubdivide = function() {\n      return arguments.length && axis;\n    };\n    return axis;\n  };\n  var d3_svg_axisDefaultOrient = \"bottom\", d3_svg_axisOrients = {\n    top: 1,\n    right: 1,\n    bottom: 1,\n    left: 1\n  };\n  function d3_svg_axisX(selection, x0, x1) {\n    selection.attr(\"transform\", function(d) {\n      var v0 = x0(d);\n      return \"translate(\" + (isFinite(v0) ? v0 : x1(d)) + \",0)\";\n    });\n  }\n  function d3_svg_axisY(selection, y0, y1) {\n    selection.attr(\"transform\", function(d) {\n      var v0 = y0(d);\n      return \"translate(0,\" + (isFinite(v0) ? v0 : y1(d)) + \")\";\n    });\n  }\n  d3.svg.brush = function() {\n    var event = d3_eventDispatch(brush, \"brushstart\", \"brush\", \"brushend\"), x = null, y = null, xExtent = [ 0, 0 ], yExtent = [ 0, 0 ], xExtentDomain, yExtentDomain, xClamp = true, yClamp = true, resizes = d3_svg_brushResizes[0];\n    function brush(g) {\n      g.each(function() {\n        var g = d3.select(this).style(\"pointer-events\", \"all\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\").on(\"mousedown.brush\", brushstart).on(\"touchstart.brush\", brushstart);\n        var background = g.selectAll(\".background\").data([ 0 ]);\n        background.enter().append(\"rect\").attr(\"class\", \"background\").style(\"visibility\", \"hidden\").style(\"cursor\", \"crosshair\");\n        g.selectAll(\".extent\").data([ 0 ]).enter().append(\"rect\").attr(\"class\", \"extent\").style(\"cursor\", \"move\");\n        var resize = g.selectAll(\".resize\").data(resizes, d3_identity);\n        resize.exit().remove();\n        resize.enter().append(\"g\").attr(\"class\", function(d) {\n          return \"resize \" + d;\n        }).style(\"cursor\", function(d) {\n          return d3_svg_brushCursor[d];\n        }).append(\"rect\").attr(\"x\", function(d) {\n          return /[ew]$/.test(d) ? -3 : null;\n        }).attr(\"y\", function(d) {\n          return /^[ns]/.test(d) ? -3 : null;\n        }).attr(\"width\", 6).attr(\"height\", 6).style(\"visibility\", \"hidden\");\n        resize.style(\"display\", brush.empty() ? \"none\" : null);\n        var gUpdate = d3.transition(g), backgroundUpdate = d3.transition(background), range;\n        if (x) {\n          range = d3_scaleRange(x);\n          backgroundUpdate.attr(\"x\", range[0]).attr(\"width\", range[1] - range[0]);\n          redrawX(gUpdate);\n        }\n        if (y) {\n          range = d3_scaleRange(y);\n          backgroundUpdate.attr(\"y\", range[0]).attr(\"height\", range[1] - range[0]);\n          redrawY(gUpdate);\n        }\n        redraw(gUpdate);\n      });\n    }\n    brush.event = function(g) {\n      g.each(function() {\n        var event_ = event.of(this, arguments), extent1 = {\n          x: xExtent,\n          y: yExtent,\n          i: xExtentDomain,\n          j: yExtentDomain\n        }, extent0 = this.__chart__ || extent1;\n        this.__chart__ = extent1;\n        if (d3_transitionInheritId) {\n          d3.select(this).transition().each(\"start.brush\", function() {\n            xExtentDomain = extent0.i;\n            yExtentDomain = extent0.j;\n            xExtent = extent0.x;\n            yExtent = extent0.y;\n            event_({\n              type: \"brushstart\"\n            });\n          }).tween(\"brush:brush\", function() {\n            var xi = d3_interpolateArray(xExtent, extent1.x), yi = d3_interpolateArray(yExtent, extent1.y);\n            xExtentDomain = yExtentDomain = null;\n            return function(t) {\n              xExtent = extent1.x = xi(t);\n              yExtent = extent1.y = yi(t);\n              event_({\n                type: \"brush\",\n                mode: \"resize\"\n              });\n            };\n          }).each(\"end.brush\", function() {\n            xExtentDomain = extent1.i;\n            yExtentDomain = extent1.j;\n            event_({\n              type: \"brush\",\n              mode: \"resize\"\n            });\n            event_({\n              type: \"brushend\"\n            });\n          });\n        } else {\n          event_({\n            type: \"brushstart\"\n          });\n          event_({\n            type: \"brush\",\n            mode: \"resize\"\n          });\n          event_({\n            type: \"brushend\"\n          });\n        }\n      });\n    };\n    function redraw(g) {\n      g.selectAll(\".resize\").attr(\"transform\", function(d) {\n        return \"translate(\" + xExtent[+/e$/.test(d)] + \",\" + yExtent[+/^s/.test(d)] + \")\";\n      });\n    }\n    function redrawX(g) {\n      g.select(\".extent\").attr(\"x\", xExtent[0]);\n      g.selectAll(\".extent,.n>rect,.s>rect\").attr(\"width\", xExtent[1] - xExtent[0]);\n    }\n    function redrawY(g) {\n      g.select(\".extent\").attr(\"y\", yExtent[0]);\n      g.selectAll(\".extent,.e>rect,.w>rect\").attr(\"height\", yExtent[1] - yExtent[0]);\n    }\n    function brushstart() {\n      var target = this, eventTarget = d3.select(d3.event.target), event_ = event.of(target, arguments), g = d3.select(target), resizing = eventTarget.datum(), resizingX = !/^(n|s)$/.test(resizing) && x, resizingY = !/^(e|w)$/.test(resizing) && y, dragging = eventTarget.classed(\"extent\"), dragRestore = d3_event_dragSuppress(target), center, origin = d3.mouse(target), offset;\n      var w = d3.select(d3_window(target)).on(\"keydown.brush\", keydown).on(\"keyup.brush\", keyup);\n      if (d3.event.changedTouches) {\n        w.on(\"touchmove.brush\", brushmove).on(\"touchend.brush\", brushend);\n      } else {\n        w.on(\"mousemove.brush\", brushmove).on(\"mouseup.brush\", brushend);\n      }\n      g.interrupt().selectAll(\"*\").interrupt();\n      if (dragging) {\n        origin[0] = xExtent[0] - origin[0];\n        origin[1] = yExtent[0] - origin[1];\n      } else if (resizing) {\n        var ex = +/w$/.test(resizing), ey = +/^n/.test(resizing);\n        offset = [ xExtent[1 - ex] - origin[0], yExtent[1 - ey] - origin[1] ];\n        origin[0] = xExtent[ex];\n        origin[1] = yExtent[ey];\n      } else if (d3.event.altKey) center = origin.slice();\n      g.style(\"pointer-events\", \"none\").selectAll(\".resize\").style(\"display\", null);\n      d3.select(\"body\").style(\"cursor\", eventTarget.style(\"cursor\"));\n      event_({\n        type: \"brushstart\"\n      });\n      brushmove();\n      function keydown() {\n        if (d3.event.keyCode == 32) {\n          if (!dragging) {\n            center = null;\n            origin[0] -= xExtent[1];\n            origin[1] -= yExtent[1];\n            dragging = 2;\n          }\n          d3_eventPreventDefault();\n        }\n      }\n      function keyup() {\n        if (d3.event.keyCode == 32 && dragging == 2) {\n          origin[0] += xExtent[1];\n          origin[1] += yExtent[1];\n          dragging = 0;\n          d3_eventPreventDefault();\n        }\n      }\n      function brushmove() {\n        var point = d3.mouse(target), moved = false;\n        if (offset) {\n          point[0] += offset[0];\n          point[1] += offset[1];\n        }\n        if (!dragging) {\n          if (d3.event.altKey) {\n            if (!center) center = [ (xExtent[0] + xExtent[1]) / 2, (yExtent[0] + yExtent[1]) / 2 ];\n            origin[0] = xExtent[+(point[0] < center[0])];\n            origin[1] = yExtent[+(point[1] < center[1])];\n          } else center = null;\n        }\n        if (resizingX && move1(point, x, 0)) {\n          redrawX(g);\n          moved = true;\n        }\n        if (resizingY && move1(point, y, 1)) {\n          redrawY(g);\n          moved = true;\n        }\n        if (moved) {\n          redraw(g);\n          event_({\n            type: \"brush\",\n            mode: dragging ? \"move\" : \"resize\"\n          });\n        }\n      }\n      function move1(point, scale, i) {\n        var range = d3_scaleRange(scale), r0 = range[0], r1 = range[1], position = origin[i], extent = i ? yExtent : xExtent, size = extent[1] - extent[0], min, max;\n        if (dragging) {\n          r0 -= position;\n          r1 -= size + position;\n        }\n        min = (i ? yClamp : xClamp) ? Math.max(r0, Math.min(r1, point[i])) : point[i];\n        if (dragging) {\n          max = (min += position) + size;\n        } else {\n          if (center) position = Math.max(r0, Math.min(r1, 2 * center[i] - min));\n          if (position < min) {\n            max = min;\n            min = position;\n          } else {\n            max = position;\n          }\n        }\n        if (extent[0] != min || extent[1] != max) {\n          if (i) yExtentDomain = null; else xExtentDomain = null;\n          extent[0] = min;\n          extent[1] = max;\n          return true;\n        }\n      }\n      function brushend() {\n        brushmove();\n        g.style(\"pointer-events\", \"all\").selectAll(\".resize\").style(\"display\", brush.empty() ? \"none\" : null);\n        d3.select(\"body\").style(\"cursor\", null);\n        w.on(\"mousemove.brush\", null).on(\"mouseup.brush\", null).on(\"touchmove.brush\", null).on(\"touchend.brush\", null).on(\"keydown.brush\", null).on(\"keyup.brush\", null);\n        dragRestore();\n        event_({\n          type: \"brushend\"\n        });\n      }\n    }\n    brush.x = function(z) {\n      if (!arguments.length) return x;\n      x = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y];\n      return brush;\n    };\n    brush.y = function(z) {\n      if (!arguments.length) return y;\n      y = z;\n      resizes = d3_svg_brushResizes[!x << 1 | !y];\n      return brush;\n    };\n    brush.clamp = function(z) {\n      if (!arguments.length) return x && y ? [ xClamp, yClamp ] : x ? xClamp : y ? yClamp : null;\n      if (x && y) xClamp = !!z[0], yClamp = !!z[1]; else if (x) xClamp = !!z; else if (y) yClamp = !!z;\n      return brush;\n    };\n    brush.extent = function(z) {\n      var x0, x1, y0, y1, t;\n      if (!arguments.length) {\n        if (x) {\n          if (xExtentDomain) {\n            x0 = xExtentDomain[0], x1 = xExtentDomain[1];\n          } else {\n            x0 = xExtent[0], x1 = xExtent[1];\n            if (x.invert) x0 = x.invert(x0), x1 = x.invert(x1);\n            if (x1 < x0) t = x0, x0 = x1, x1 = t;\n          }\n        }\n        if (y) {\n          if (yExtentDomain) {\n            y0 = yExtentDomain[0], y1 = yExtentDomain[1];\n          } else {\n            y0 = yExtent[0], y1 = yExtent[1];\n            if (y.invert) y0 = y.invert(y0), y1 = y.invert(y1);\n            if (y1 < y0) t = y0, y0 = y1, y1 = t;\n          }\n        }\n        return x && y ? [ [ x0, y0 ], [ x1, y1 ] ] : x ? [ x0, x1 ] : y && [ y0, y1 ];\n      }\n      if (x) {\n        x0 = z[0], x1 = z[1];\n        if (y) x0 = x0[0], x1 = x1[0];\n        xExtentDomain = [ x0, x1 ];\n        if (x.invert) x0 = x(x0), x1 = x(x1);\n        if (x1 < x0) t = x0, x0 = x1, x1 = t;\n        if (x0 != xExtent[0] || x1 != xExtent[1]) xExtent = [ x0, x1 ];\n      }\n      if (y) {\n        y0 = z[0], y1 = z[1];\n        if (x) y0 = y0[1], y1 = y1[1];\n        yExtentDomain = [ y0, y1 ];\n        if (y.invert) y0 = y(y0), y1 = y(y1);\n        if (y1 < y0) t = y0, y0 = y1, y1 = t;\n        if (y0 != yExtent[0] || y1 != yExtent[1]) yExtent = [ y0, y1 ];\n      }\n      return brush;\n    };\n    brush.clear = function() {\n      if (!brush.empty()) {\n        xExtent = [ 0, 0 ], yExtent = [ 0, 0 ];\n        xExtentDomain = yExtentDomain = null;\n      }\n      return brush;\n    };\n    brush.empty = function() {\n      return !!x && xExtent[0] == xExtent[1] || !!y && yExtent[0] == yExtent[1];\n    };\n    return d3.rebind(brush, event, \"on\");\n  };\n  var d3_svg_brushCursor = {\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n  };\n  var d3_svg_brushResizes = [ [ \"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\" ], [ \"e\", \"w\" ], [ \"n\", \"s\" ], [] ];\n  var d3_time_format = d3_time.format = d3_locale_enUS.timeFormat;\n  var d3_time_formatUtc = d3_time_format.utc;\n  var d3_time_formatIso = d3_time_formatUtc(\"%Y-%m-%dT%H:%M:%S.%LZ\");\n  d3_time_format.iso = Date.prototype.toISOString && +new Date(\"2000-01-01T00:00:00.000Z\") ? d3_time_formatIsoNative : d3_time_formatIso;\n  function d3_time_formatIsoNative(date) {\n    return date.toISOString();\n  }\n  d3_time_formatIsoNative.parse = function(string) {\n    var date = new Date(string);\n    return isNaN(date) ? null : date;\n  };\n  d3_time_formatIsoNative.toString = d3_time_formatIso.toString;\n  d3_time.second = d3_time_interval(function(date) {\n    return new d3_date(Math.floor(date / 1e3) * 1e3);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 1e3);\n  }, function(date) {\n    return date.getSeconds();\n  });\n  d3_time.seconds = d3_time.second.range;\n  d3_time.seconds.utc = d3_time.second.utc.range;\n  d3_time.minute = d3_time_interval(function(date) {\n    return new d3_date(Math.floor(date / 6e4) * 6e4);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 6e4);\n  }, function(date) {\n    return date.getMinutes();\n  });\n  d3_time.minutes = d3_time.minute.range;\n  d3_time.minutes.utc = d3_time.minute.utc.range;\n  d3_time.hour = d3_time_interval(function(date) {\n    var timezone = date.getTimezoneOffset() / 60;\n    return new d3_date((Math.floor(date / 36e5 - timezone) + timezone) * 36e5);\n  }, function(date, offset) {\n    date.setTime(date.getTime() + Math.floor(offset) * 36e5);\n  }, function(date) {\n    return date.getHours();\n  });\n  d3_time.hours = d3_time.hour.range;\n  d3_time.hours.utc = d3_time.hour.utc.range;\n  d3_time.month = d3_time_interval(function(date) {\n    date = d3_time.day(date);\n    date.setDate(1);\n    return date;\n  }, function(date, offset) {\n    date.setMonth(date.getMonth() + offset);\n  }, function(date) {\n    return date.getMonth();\n  });\n  d3_time.months = d3_time.month.range;\n  d3_time.months.utc = d3_time.month.utc.range;\n  function d3_time_scale(linear, methods, format) {\n    function scale(x) {\n      return linear(x);\n    }\n    scale.invert = function(x) {\n      return d3_time_scaleDate(linear.invert(x));\n    };\n    scale.domain = function(x) {\n      if (!arguments.length) return linear.domain().map(d3_time_scaleDate);\n      linear.domain(x);\n      return scale;\n    };\n    function tickMethod(extent, count) {\n      var span = extent[1] - extent[0], target = span / count, i = d3.bisect(d3_time_scaleSteps, target);\n      return i == d3_time_scaleSteps.length ? [ methods.year, d3_scale_linearTickRange(extent.map(function(d) {\n        return d / 31536e6;\n      }), count)[2] ] : !i ? [ d3_time_scaleMilliseconds, d3_scale_linearTickRange(extent, count)[2] ] : methods[target / d3_time_scaleSteps[i - 1] < d3_time_scaleSteps[i] / target ? i - 1 : i];\n    }\n    scale.nice = function(interval, skip) {\n      var domain = scale.domain(), extent = d3_scaleExtent(domain), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" && tickMethod(extent, interval);\n      if (method) interval = method[0], skip = method[1];\n      function skipped(date) {\n        return !isNaN(date) && !interval.range(date, d3_time_scaleDate(+date + 1), skip).length;\n      }\n      return scale.domain(d3_scale_nice(domain, skip > 1 ? {\n        floor: function(date) {\n          while (skipped(date = interval.floor(date))) date = d3_time_scaleDate(date - 1);\n          return date;\n        },\n        ceil: function(date) {\n          while (skipped(date = interval.ceil(date))) date = d3_time_scaleDate(+date + 1);\n          return date;\n        }\n      } : interval));\n    };\n    scale.ticks = function(interval, skip) {\n      var extent = d3_scaleExtent(scale.domain()), method = interval == null ? tickMethod(extent, 10) : typeof interval === \"number\" ? tickMethod(extent, interval) : !interval.range && [ {\n        range: interval\n      }, skip ];\n      if (method) interval = method[0], skip = method[1];\n      return interval.range(extent[0], d3_time_scaleDate(+extent[1] + 1), skip < 1 ? 1 : skip);\n    };\n    scale.tickFormat = function() {\n      return format;\n    };\n    scale.copy = function() {\n      return d3_time_scale(linear.copy(), methods, format);\n    };\n    return d3_scale_linearRebind(scale, linear);\n  }\n  function d3_time_scaleDate(t) {\n    return new Date(t);\n  }\n  var d3_time_scaleSteps = [ 1e3, 5e3, 15e3, 3e4, 6e4, 3e5, 9e5, 18e5, 36e5, 108e5, 216e5, 432e5, 864e5, 1728e5, 6048e5, 2592e6, 7776e6, 31536e6 ];\n  var d3_time_scaleLocalMethods = [ [ d3_time.second, 1 ], [ d3_time.second, 5 ], [ d3_time.second, 15 ], [ d3_time.second, 30 ], [ d3_time.minute, 1 ], [ d3_time.minute, 5 ], [ d3_time.minute, 15 ], [ d3_time.minute, 30 ], [ d3_time.hour, 1 ], [ d3_time.hour, 3 ], [ d3_time.hour, 6 ], [ d3_time.hour, 12 ], [ d3_time.day, 1 ], [ d3_time.day, 2 ], [ d3_time.week, 1 ], [ d3_time.month, 1 ], [ d3_time.month, 3 ], [ d3_time.year, 1 ] ];\n  var d3_time_scaleLocalFormat = d3_time_format.multi([ [ \".%L\", function(d) {\n    return d.getMilliseconds();\n  } ], [ \":%S\", function(d) {\n    return d.getSeconds();\n  } ], [ \"%I:%M\", function(d) {\n    return d.getMinutes();\n  } ], [ \"%I %p\", function(d) {\n    return d.getHours();\n  } ], [ \"%a %d\", function(d) {\n    return d.getDay() && d.getDate() != 1;\n  } ], [ \"%b %d\", function(d) {\n    return d.getDate() != 1;\n  } ], [ \"%B\", function(d) {\n    return d.getMonth();\n  } ], [ \"%Y\", d3_true ] ]);\n  var d3_time_scaleMilliseconds = {\n    range: function(start, stop, step) {\n      return d3.range(Math.ceil(start / step) * step, +stop, step).map(d3_time_scaleDate);\n    },\n    floor: d3_identity,\n    ceil: d3_identity\n  };\n  d3_time_scaleLocalMethods.year = d3_time.year;\n  d3_time.scale = function() {\n    return d3_time_scale(d3.scale.linear(), d3_time_scaleLocalMethods, d3_time_scaleLocalFormat);\n  };\n  var d3_time_scaleUtcMethods = d3_time_scaleLocalMethods.map(function(m) {\n    return [ m[0].utc, m[1] ];\n  });\n  var d3_time_scaleUtcFormat = d3_time_formatUtc.multi([ [ \".%L\", function(d) {\n    return d.getUTCMilliseconds();\n  } ], [ \":%S\", function(d) {\n    return d.getUTCSeconds();\n  } ], [ \"%I:%M\", function(d) {\n    return d.getUTCMinutes();\n  } ], [ \"%I %p\", function(d) {\n    return d.getUTCHours();\n  } ], [ \"%a %d\", function(d) {\n    return d.getUTCDay() && d.getUTCDate() != 1;\n  } ], [ \"%b %d\", function(d) {\n    return d.getUTCDate() != 1;\n  } ], [ \"%B\", function(d) {\n    return d.getUTCMonth();\n  } ], [ \"%Y\", d3_true ] ]);\n  d3_time_scaleUtcMethods.year = d3_time.year.utc;\n  d3_time.scale.utc = function() {\n    return d3_time_scale(d3.scale.linear(), d3_time_scaleUtcMethods, d3_time_scaleUtcFormat);\n  };\n  d3.text = d3_xhrType(function(request) {\n    return request.responseText;\n  });\n  d3.json = function(url, callback) {\n    return d3_xhr(url, \"application/json\", d3_json, callback);\n  };\n  function d3_json(request) {\n    return JSON.parse(request.responseText);\n  }\n  d3.html = function(url, callback) {\n    return d3_xhr(url, \"text/html\", d3_html, callback);\n  };\n  function d3_html(request) {\n    var range = d3_document.createRange();\n    range.selectNode(d3_document.body);\n    return range.createContextualFragment(request.responseText);\n  }\n  d3.xml = d3_xhrType(function(request) {\n    return request.responseXML;\n  });\n  if (typeof define === \"function\" && define.amd) this.d3 = d3, define(d3); else if (typeof module === \"object\" && module.exports) module.exports = d3; else this.d3 = d3;\n}();\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/d3/d3.js\n// module id = 61\n// module chunks = 0","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar React = require('react');\n\nrequire('./listing.less');\n\n/* entry for an alert in the listing, can be expanded (with details) or standard\n * rowId optional: an identifier for the row which will be set as \"data-row-id\" attribute on the <tr>\n * columns list of columns to show in the header\n *     columns to show, can be a string, react component or object with { name: 'name', 'header': false }\n *     'header' (or if simple string) defaults to false\n *     in case 'header' is true, <th> is used for the entries, otherwise <td>\n * tabRenderers optional: list of tab renderers for inline expansion, array of objects with\n *     - name tab name (has to be unique in the entry, used as react key)\n *     - renderer react component\n *     - data render data passed to the tab renderer\n *     - presence 'always', 'onlyActive', 'loadOnDemand', default: 'loadOnDemand'\n *         - 'always' once a row is expanded, this tab is always rendered, but invisible if not active\n *         - 'onlyActive' the tab is only rendered when active\n *         - 'loadOnDemand' the tab is first rendered when it becomes active, then follows 'always' behavior\n *     if tabRenderers isn't set, item can't be expanded inline\n * navigateToItem optional: callback triggered when a row is clicked, pattern suggests navigation\n *     to view expanded item details, if not set, navigation isn't available\n * listingDetail optional: text rendered next to action buttons, similar style to the tab headers\n * listingActions optional: buttons that are presented as actions for the expanded item\n * selectChanged optional: callback will be used when the \"selected\" state changes\n * selected optional: true if the item is selected, can't be true if row has navigation or expansion\n * initiallyExpanded optional: the entry will be initially rendered as expanded, but then behaves normally\n * expandChanged optional: callback will be used if the row is either expanded or collapsed passing single `isExpanded` boolean argument\n */\nvar ListingRow = React.createClass({\n    propTypes: {\n        rowId: React.PropTypes.string,\n        columns: React.PropTypes.array.isRequired,\n        tabRenderers: React.PropTypes.array,\n        navigateToItem: React.PropTypes.func,\n        listingDetail: React.PropTypes.node,\n        listingActions: React.PropTypes.arrayOf(React.PropTypes.node),\n        selectChanged: React.PropTypes.func,\n        selected: React.PropTypes.bool,\n        initiallyExpanded: React.PropTypes.bool,\n        expandChanged: React.PropTypes.func,\n        initiallyActiveTab: React.PropTypes.bool,\n    },\n    getDefaultProps: function () {\n        return {\n            tabRenderers: [],\n            navigateToItem: null,\n        };\n    },\n    getInitialState: function() {\n        return {\n            expanded: this.props.initiallyExpanded, // show expanded view if true, otherwise one line compact\n            activeTab: this.props.initiallyActiveTab ? this.props.initiallyActiveTab : 0,    // currently active tab in expanded mode, defaults to first tab\n            loadedTabs: {},  // which tabs were already loaded - this is important for 'loadOnDemand' setting\n                             // contains tab indices\n            selected: this.props.selected, // whether the current row is selected\n        };\n    },\n    handleNavigateClick: function(e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n        this.props.navigateToItem();\n    },\n    handleExpandClick: function(e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n\n        var willBeExpanded = !this.state.expanded && this.props.tabRenderers.length > 0;\n        this.setState( { expanded: willBeExpanded });\n\n        var loadedTabs = {};\n        // unload all tabs if not expanded\n        if (willBeExpanded) {\n            // see if we should preload some tabs\n            var tabIdx;\n            var tabPresence;\n            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n                if ('presence' in this.props.tabRenderers[tabIdx])\n                    tabPresence = this.props.tabRenderers[tabIdx].presence;\n                else\n                    tabPresence = 'default';\n                // the active tab is covered by separate logic\n                if (tabPresence == 'always')\n                    loadedTabs[tabIdx] = true;\n            }\n            // ensure the active tab is loaded\n            loadedTabs[this.state.activeTab] = true;\n        }\n\n        this.setState( { loadedTabs: loadedTabs });\n\n        this.props.expandChanged && this.props.expandChanged(willBeExpanded);\n\n        e.stopPropagation();\n        e.preventDefault();\n    },\n    handleSelectClick: function(e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n\n        var selected = !this.state.selected;\n        this.setState( { selected: selected });\n\n        if (this.props.selectChanged)\n            this.props.selectChanged(selected);\n\n        e.stopPropagation();\n        e.preventDefault();\n    },\n    handleTabClick: function(tabIdx, e) {\n        // only consider primary mouse button\n        if (!e || e.button !== 0)\n            return;\n        var prevTab = this.state.activeTab;\n        var prevTabPresence = 'default';\n        var loadedTabs = this.state.loadedTabs;\n        if (prevTab !== tabIdx) {\n            // see if we need to unload the previous tab\n            if ('presence' in this.props.tabRenderers[prevTab])\n                prevTabPresence = this.props.tabRenderers[prevTab].presence;\n\n            if (prevTabPresence == 'onlyActive')\n                delete loadedTabs[prevTab];\n\n            // ensure the new tab is loaded and update state\n            loadedTabs[tabIdx] = true;\n            this.setState({ loadedTabs: loadedTabs, activeTab: tabIdx });\n        }\n        e.stopPropagation();\n        e.preventDefault();\n    },\n    render: function() {\n        var self = this;\n        // only enable navigation if a function is provided and the row isn't expanded (prevent accidental navigation)\n        var allowNavigate = !!this.props.navigateToItem && !this.state.expanded;\n\n        var headerEntries = this.props.columns.map(function(itm) {\n            if (typeof itm === 'string' || typeof itm === 'number' || itm === null || itm === undefined || itm instanceof String || React.isValidElement(itm))\n                return (<td>{itm}</td>);\n            else if ('header' in itm && itm.header)\n                return (<th>{itm.name}</th>);\n            else if ('tight' in itm && itm.tight)\n                return (<td className=\"listing-ct-actions\">{itm.name || itm.element}</td>);\n            else\n                return (<td>{itm.name}</td>);\n        });\n\n        var allowExpand = (this.props.tabRenderers.length > 0);\n        var expandToggle;\n        if (allowExpand) {\n            expandToggle = <td className=\"listing-ct-toggle\" onClick={ allowNavigate?this.handleExpandClick:undefined }>\n                               <i className=\"fa fa-fw\"></i>\n                           </td>;\n        } else {\n            expandToggle = <td className=\"listing-ct-toggle\"></td>;\n        }\n\n        var listingItemClasses = [\"listing-ct-item\"];\n        if (!allowNavigate)\n            listingItemClasses.push(\"listing-ct-nonavigate\");\n        if (!allowExpand)\n            listingItemClasses.push(\"listing-ct-noexpand\");\n\n        var allowSelect = !(allowNavigate || allowExpand) && (this.state.selected !== undefined);\n        var clickHandler;\n        if (allowSelect) {\n            clickHandler = this.handleSelectClick;\n            if (this.state.selected)\n                listingItemClasses.push(\"listing-ct-selected\");\n        } else {\n            if (allowNavigate)\n                clickHandler = this.handleNavigateClick;\n            else\n                clickHandler = this.handleExpandClick;\n        }\n\n        var listingItem = (\n            <tr data-row-id={ this.props.rowId }\n                className={ listingItemClasses.join(' ') }\n                onClick={clickHandler}>\n                {expandToggle}\n                {headerEntries}\n            </tr>\n        );\n\n        if (this.state.expanded) {\n            var links = this.props.tabRenderers.map(function(itm, idx) {\n                return (\n                    <li key={idx} className={ (idx === self.state.activeTab) ? \"active\" : \"\"} >\n                        <a href=\"#\" onClick={ self.handleTabClick.bind(self, idx) }>{itm.name}</a>\n                    </li>\n                );\n            });\n            var tabs = [];\n            var tabIdx;\n            var Renderer;\n            var rendererData;\n            var row;\n            for (tabIdx = 0; tabIdx < this.props.tabRenderers.length; tabIdx++) {\n                Renderer = this.props.tabRenderers[tabIdx].renderer;\n                rendererData = this.props.tabRenderers[tabIdx].data;\n                if (tabIdx !== this.state.activeTab && !(tabIdx in this.state.loadedTabs))\n                    continue;\n                row = <Renderer key={ this.props.tabRenderers[tabIdx].name } hidden={ (tabIdx !== this.state.activeTab) } {...rendererData} />;\n                if (tabIdx === this.state.activeTab)\n                    tabs.push(<div className=\"listing-ct-body\" key={tabIdx}>{row}</div>);\n                else\n                    tabs.push(<div className=\"listing-ct-body\" key={tabIdx} hidden>{row}</div>);\n            }\n\n            var listingDetail;\n            if ('listingDetail' in this.props) {\n                listingDetail = (\n                    <span className=\"listing-ct-caption\">\n                        {this.props.listingDetail}\n                    </span>\n                );\n            }\n\n            return (\n                <tbody className=\"open\">\n                    {listingItem}\n                    <tr className=\"listing-ct-panel\">\n                        <td colSpan={ headerEntries.length + (expandToggle?1:0) }>\n                            <div className=\"listing-ct-head\">\n                                <div className=\"listing-ct-actions\">\n                                    {listingDetail}\n                                    {this.props.listingActions}\n                                </div>\n                                <ul className=\"nav nav-tabs nav-tabs-pf\">\n                                    {links}\n                                </ul>\n                            </div>\n                            {tabs}\n                        </td>\n                    </tr>\n                </tbody>\n            );\n        } else {\n            return (\n                <tbody>\n                    {listingItem}\n                    <tr className=\"listing-ct-panel\"/>\n                </tbody>\n            );\n        }\n    }\n});\n\n/* Implements a PatternFly 'List View' pattern\n * https://www.patternfly.org/list-view/\n * Properties:\n * - title\n * - fullWidth optional: set width to 100% of parent, defaults to true\n * - emptyCaption header caption to show if list is empty, defaults to \"No entries\"\n * - columnTitles: array of column titles, as strings\n * - columnTitleClick: optional callback for clicking on column title (for sorting)\n *                     receives the column index as argument\n * - actions: additional listing-wide actions (displayed next to the list's title)\n */\nvar Listing = React.createClass({\n    propTypes: {\n        title: React.PropTypes.string.isRequired,\n        fullWidth: React.PropTypes.bool,\n        emptyCaption: React.PropTypes.string.isRequired,\n        columnTitles: React.PropTypes.arrayOf(React.PropTypes.string),\n        columnTitleClick: React.PropTypes.func,\n        actions: React.PropTypes.arrayOf(React.PropTypes.node)\n    },\n    getDefaultProps: function () {\n        return {\n            fullWidth: true,\n            columnTitles: [],\n            actions: []\n        };\n    },\n    render: function() {\n        var self = this;\n        var bodyClasses = [\"listing\", \"listing-ct\"];\n        if (this.props.fullWidth)\n            bodyClasses.push(\"listing-ct-wide\");\n        var headerClasses;\n        var headerRow;\n        var selectableRows;\n        if (!this.props.children || this.props.children.length === 0) {\n            headerClasses = \"listing-ct-empty\";\n            headerRow = <tr><td>{this.props.emptyCaption}</td></tr>;\n        } else if (this.props.columnTitles.length) {\n            // check if any of the children are selectable\n            selectableRows = false;\n            this.props.children.forEach(function(r) {\n                if (r.props.selected !== undefined)\n                    selectableRows = true;\n            });\n\n            if (selectableRows) {\n                // now make sure that if one is set, it's available on all items\n                this.props.children.forEach(function(r) {\n                    if (r.props.selected === undefined)\n                        r.props.selected = false;\n                });\n            }\n\n            headerRow = (\n                <tr>\n                    <th className=\"listing-ct-toggle\"></th>\n                    { this.props.columnTitles.map(function (title, index) {\n                        var clickHandler = null;\n                        if (self.props.columnTitleClick)\n                            clickHandler = function() { self.props.columnTitleClick(index) };\n                        return <th onClick={clickHandler}>{title}</th>;\n                    }) }\n                </tr>\n            );\n        } else {\n           headerRow = <tr/>\n        }\n        var caption;\n        if (this.props.title || (this.props.actions && this.props.actions.length > 0))\n            caption = <caption className=\"cockpit-caption\">{this.props.title}{this.props.actions}</caption>;\n\n        return (\n            <table className={ bodyClasses.join(\" \") }>\n                {caption}\n                <thead className={headerClasses}>\n                    {headerRow}\n                </thead>\n                {this.props.children}\n            </table>\n        );\n    },\n});\n\nmodule.exports = {\n    ListingRow: ListingRow,\n    Listing: Listing,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-listing.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { PropTypes } from 'react';\nimport cockpit from 'cockpit';\n\nimport { vmId } from '../helpers.es6';\nimport VmDisksTab from './vmDisksTab.jsx';\nimport DiskSourceCell from './vmDiskSourceCell.jsx';\n\nReact;\nconst _ = cockpit.gettext;\n\nclass VmDisksTabLibvirt extends React.Component {\n    componentWillMount() {\n        this.props.onUsageStartPolling();\n    }\n\n    componentWillUnmount() {\n        this.props.onUsageStopPolling();\n    }\n\n    /**\n     * Returns true, if disk statistics are retrieved.\n     */\n    getDiskStatsSupport(vm) {\n        /* Possible states for disk stats:\n            available ~ already read\n            supported, but not available yet ~ will be read soon\n            unsupported ~ failed attempt to read (old libvirt)\n         */\n        let areDiskStatsSupported = false;\n        if (vm.disksStats) {\n            // stats are read/supported if there is a non-NaN stat value\n            areDiskStatsSupported = !!Object.getOwnPropertyNames(vm.disksStats)\n                .some(target => {\n                    if (!vm.disksStats[target]) {\n                        return false; // not yet retrieved, can't decide about disk stats support\n                    }\n                    return !isNaN(vm.disksStats[target].capacity) || !isNaN(vm.disksStats[target].allocation);\n                });\n        }\n\n        return areDiskStatsSupported;\n    }\n\n    getNotification(vm, areDiskStatsSupported) {\n        if (areDiskStatsSupported) {\n            return null;\n        }\n\n        if (vm.status === 'running') {\n            return _(\"Upgrade to a more recent version of libvirt to view disk statistics\");\n        }\n\n        return _(\"Start the VM to see disk statistics.\")\n    }\n\n    prepareDiskData(disk, diskStats, idPrefix) {\n        diskStats = diskStats || {};\n        return {\n            used: diskStats.allocation,\n            capacity: diskStats.capacity,\n\n            device: disk.device,\n            target: disk.target,\n            bus: disk.bus,\n            readonly: disk.readonly,\n\n            // ugly hack due to complexity, refactor if abstraction is really needed\n            diskSourceCell: (<DiskSourceCell diskSource={disk.source} idPrefix={idPrefix}/>),\n        };\n    }\n\n    render() {\n        const { vm } = this.props;\n\n        const idPrefix = `${vmId(vm.name)}-disks`;\n        const areDiskStatsSupported = this.getDiskStatsSupport(vm);\n\n        const disks = Object.getOwnPropertyNames(vm.disks)\n            .sort() // by 'target'\n            .map(target => this.prepareDiskData(vm.disks[target],\n                vm.disksStats && vm.disksStats[target],\n                `${idPrefix}-${target}`));\n\n        return (\n            <VmDisksTab idPrefix={idPrefix}\n                        disks={disks}\n                        renderCapacity={areDiskStatsSupported}\n                        notificationText={this.getNotification(vm, areDiskStatsSupported)}/>\n        );\n    }\n}\n\nVmDisksTabLibvirt.propTypes = {\n    vm: PropTypes.object.isRequired,\n\n    onUsageStartPolling: PropTypes.func.isRequired,\n    onUsageStopPolling: PropTypes.func.isRequired,\n};\n\nexport default VmDisksTabLibvirt;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/vmDisksTabLibvirt.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { PropTypes } from 'react';\nimport cockpit from 'cockpit';\nimport { Listing, ListingRow } from 'cockpit-components-listing.jsx';\nimport { Info } from './inlineNotification.jsx';\nimport { convertToUnit, toReadableNumber, units } from \"../helpers.es6\";\n\nReact;\nconst _ = cockpit.gettext;\n\nconst DiskTotal = ({ disks, idPrefix }) => {\n    return (\n        <span className='machines-disks-total'>\n            {_(\"Count:\")}&nbsp;\n            <span id={`${idPrefix}-total-value`} className='machines-disks-total-value'>\n                {disks.length}\n            </span>\n        </span>\n    );\n};\n\nconst StorageUnit = ({ value, id }) => {\n    if (!value) {\n        return null;\n    }\n\n    if (isNaN(value)) {\n        return (\n            <div id={id}>\n                {value}\n            </div>\n        );\n    }\n\n    return (\n        <div id={id}>\n            {toReadableNumber(convertToUnit(value, units.B, units.GiB))}&nbsp;{_(\"GiB\")}\n        </div>\n    );\n};\n\nconst VmDiskCell = ({ value, id }) => {\n    return (\n        <div id={id}>\n            {value}\n        </div>\n    );\n};\n\nconst VmDisksTab = ({ idPrefix, disks, renderCapacity, notificationText }) => {\n    if (!disks || disks.length === 0) {\n        return (<div>{_(\"No disks defined for this VM\")}</div>);\n    }\n\n    const renderCapacityUsed = !!disks.find(disk => (!!disk.used));\n    const renderReadOnly = !!disks.find(disk => (typeof disk.readonly !== \"undefined\"));\n\n    const columnTitles = [_(\"Device\"), _(\"Target\")];\n    if (renderCapacity) {\n        if (renderCapacityUsed) {\n            columnTitles.push(_(\"Used\"));\n        }\n        columnTitles.push(_(\"Capacity\"));\n    }\n    columnTitles.push(_(\"Bus\"));\n    if (renderReadOnly) {\n        columnTitles.push(_(\"Readonly\"));\n    }\n    columnTitles.push(_(\"Source\"));\n\n    let notification = null;\n    if (notificationText) {\n        notification = (<Info text={notificationText}\n                              textId={`${idPrefix}-notification`}/>);\n    }\n\n    return (\n        <div>\n            {notification}\n            <DiskTotal disks={disks} idPrefix={idPrefix}/>\n            <Listing columnTitles={columnTitles}>\n                {disks.map(disk => {\n                    const idPrefixRow = `${idPrefix}-${disk.target}`;\n                    const columns = [\n                        { name: <VmDiskCell value={disk.device} id={`${idPrefixRow}-device`}/>, 'header': true },\n                        <VmDiskCell value={disk.target} id={`${idPrefixRow}-target`}/>\n                    ];\n\n                    if (renderCapacity) {\n                        if (renderCapacityUsed) {\n                            columns.push(<StorageUnit value={disk.used} id={`${idPrefixRow}-used`}/>);\n                        }\n                        columns.push(<StorageUnit value={disk.capacity} id={`${idPrefixRow}-capacity`}/>);\n                    }\n\n                    columns.push(<VmDiskCell value={disk.bus} id={`${idPrefixRow}-bus`}/>);\n\n                    if (renderReadOnly) {\n                        columns.push(disk.readonly ? _(\"yes\") : _(\"no\"));\n                    }\n\n                    columns.push(disk.diskSourceCell);\n                    return (<ListingRow columns={columns} navigateToItem={disk.onNavigate}/>);\n                })}\n            </Listing>\n        </div>\n    );\n};\n\nVmDisksTab.propTypes = {\n    idPrefix: PropTypes.string.isRequired,\n    disks: PropTypes.array.isRequired,\n    renderCapacity: PropTypes.bool,\n    notificationText: PropTypes.string,\n};\n\nexport default VmDisksTab;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/vmDisksTab.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React, { PropTypes } from \"react\";\nimport { mouseClick } from '../helpers.es6';\n\nconst _ = cockpit.gettext;\n\nimport './inlineNotification.css';\n\nclass InlineNotification extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            isDetail: false,\n        };\n\n        this.toggleDetail = this.toggleDetail.bind(this);\n    }\n\n    toggleDetail () {\n        this.setState({\n            isDetail: !this.state.isDetail,\n        });\n    }\n\n    render () {\n        const { notificationClass, iconClass, text, detail, textId, onDismiss } = this.props;\n\n        let detailButton = null;\n        if (detail) {\n            let detailButtonText = _(\"show more\");\n            if (this.state.isDetail) {\n                detailButtonText = _(\"show less\");\n            }\n\n            detailButton = (<a href='#' className='alert-link machines-more-button'\n                                     onClick={mouseClick(this.toggleDetail)}>{detailButtonText}</a>);\n        }\n\n        const dismissableClass = this.props.onDismiss ? ' alert-dismissable' : '';\n        let closeButton = null;\n        if (this.props.onDismiss) {\n            // do not use \"data-dismiss='alert'\" to close the notification\n            closeButton = (\n                <button type='button' className='close' aria-hidden='true' onClick={onDismiss}>\n                    <span className='pficon pficon-close'/>\n                </button>\n            );\n        }\n\n        return (\n            <div className={notificationClass + dismissableClass}>\n                {closeButton}\n                <span className={iconClass}/>\n                <strong id={textId}>\n                    {text}\n                </strong>\n                {detailButton}\n                {this.state.isDetail && detail}\n            </div>\n        );\n    }\n}\n\nInlineNotification.propTypes = {\n    notificationClass: PropTypes.string, // classname for the notification type; see defaultProps\n    iconClass: PropTypes.string, // classname for the icon; see defaultProps\n    onDismiss: PropTypes.func, // callback to be called when 'close-button' is clicked. If undefined, then the buttun (means \"cross\") is not rendered.\n\n    text: PropTypes.string.isRequired, // main information to render\n    detail: PropTypes.string, // optional, more detailed information. If empty, the more/less button is not rendered.\n    textId: PropTypes.string, // optional, element id for the text\n};\n\nInlineNotification.defaultProps = {\n    notificationClass: 'alert alert-warning',\n    iconClass: 'pficon pficon-warning-triangle-o',\n};\n\nexport const Alert = ({ onDismiss, text, textId, detail }) => {\n    return (\n        <InlineNotification onDismiss={onDismiss} text={text} textId={textId} detail={detail}\n                            notificationClass='alert alert-warning'\n                            iconClass='pficon pficon-warning-triangle-o' />\n    );\n};\n\nexport const Info = ({ onDismiss, text, textId, detail }) => {\n    return (\n        <InlineNotification onDismiss={onDismiss} text={text} textId={textId} detail={detail}\n                            notificationClass='alert alert-info'\n                            iconClass='pficon pficon-info' />\n    );\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/inlineNotification.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { PropTypes } from 'react';\nimport cockpit from 'cockpit';\n\nimport InfoRecord from './infoRecord.jsx';\n\nReact;\nconst _ = cockpit.gettext;\n\nconst DiskSourceCell = ({ diskSource, idPrefix }) => {\n    const addOptional = (chunks, value, descr) => {\n        if (value) {\n            chunks.push(<InfoRecord descrClass='machines-disks-source-descr' descr={descr}\n                                    valueClass='machines-disks-source-value' value={value}/>);\n        }\n    };\n\n    const chunks = [];\n    addOptional(chunks, diskSource.file, _(\"File\"));\n    addOptional(chunks, diskSource.dev, _(\"Device\"));\n    addOptional(chunks, diskSource.protocol, _(\"Protocol\"));\n    addOptional(chunks, diskSource.pool, _(\"Pool\"));\n    addOptional(chunks, diskSource.volume, _(\"Volume\"));\n    addOptional(chunks, diskSource.host.name, _(\"Host\"));\n    addOptional(chunks, diskSource.host.port, _(\"Port\"));\n\n    return (\n        <table className='machines-disks-source' id={`${idPrefix}-source`}>\n            {chunks}\n        </table>\n    );\n};\n\nDiskSourceCell.propTypes = {\n    diskSource: PropTypes.object.isRequired,\n    idPrefix: PropTypes.string.isRequired,\n};\n\nexport default DiskSourceCell;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/vmDiskSourceCell.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport cockpit from 'cockpit';\nimport { changeNetworkState } from \"./actions.es6\";\nimport { rephraseUI, vmId } from \"./helpers.es6\";\nimport { Listing, ListingRow } from 'cockpit-components-listing.jsx';\n\nconst _ = cockpit.gettext;\n\nconst VmNetworkTab = function ({ vm, dispatch, hostDevices }) {\n    const id = vmId(vm.name);\n\n    if (!vm.interfaces || vm.interfaces.length === 0) {\n        return (<div>{_(\"No network interfaces defined for this VM\")}</div>);\n    }\n\n    const checkDeviceAviability = (network) => {\n        for (let i in hostDevices) {\n            if (hostDevices[i].valid && hostDevices[i].Interface == network) {\n                return true;\n            } \n        }\n        return false;\n    }\n\n    const sourceJump = (source) => {\n        return () => {\n            if (source !== null && checkDeviceAviability(source)) {\n                cockpit.jump(`/network#/${source}`, cockpit.transport.host);\n            }\n        }\n    };\n\n    const onChangeState = (network) => {\n        return (e) => {\n            e.stopPropagation();\n            if (network.mac) {\n                dispatch(changeNetworkState(vm, network.mac, network.state === 'up' ? 'down' : 'up'));\n            }\n        }\n    }\n    const addressPortSource = (source, networkId) => (<table id={`${id}-network-${networkId}-source`}>\n        <tr><td className='machines-network-source-descr'>{_(\"Address\")}</td><td className='machines-network-source-value'>{source.address}</td></tr>\n        <tr><td className='machines-network-source-descr'>{_(\"Port\")}</td><td className='machines-network-source-value'>{source.port}</td></tr>\n    </table>);\n\n    // Network data mapping to rows\n    const detailMap = [\n        { name: _(\"Type\"), value: (network, networkId) => <div id={`${id}-network-${networkId}-type`}>{rephraseUI('networkType', network.type)}</div>, header: true },\n        { name: _(\"Model type\"), value: 'model' },\n        { name: _(\"MAC Address\"), value: 'mac' },\n        { name: _(\"Target\"), value: 'target' },\n        { name: _(\"Source\"), value: (network, networkId) => {\n            const setSourceClass = (source) => checkDeviceAviability(source) && \"machines-network-source-link\";\n            const mapSource = {\n                direct: (source) => <span className={setSourceClass(source.dev)} onClick={sourceJump(source.dev)}>{source.dev}</span>,\n                network: (source) => <span className={setSourceClass(source.network)} onClick={sourceJump(source.network)}>{source.network}</span>,\n                bridge: (source) => <span className={setSourceClass(source.bridge)} onClick={sourceJump(source.bridge)}>{source.bridge}</span>,\n                mcast: addressPortSource,\n                server: addressPortSource,\n                client: addressPortSource,\n                udp: addressPortSource,\n            }\n            if (mapSource[network.type] !== undefined) {\n                return <div id={`${id}-network-${networkId}-source`}>{mapSource[network.type](network.source, networkId)}</div>\n            } else {\n                return null;\n            }\n        }},\n        { name: _(\"Additional\"), value: (network, networkId) => {\n            const additionalMap = [\n                { name: _(\"MTU\"), value: 'mtu' },\n                { name: _(\"Virtualport\"), value: 'virtualportType' },\n                { name: _(\"Managed\"), value: rephraseUI('networkManaged', network.managed)  },\n                { name: _(\"Portgroup\"), value: (network) => {\n                    if (network.source.portgroup) {\n                        return network.source.portgroup;\n                    }\n                    return null;\n                } },\n            ];\n            const columns = additionalMap.map(d => {\n                let name = d.name;\n                let value = null;\n                if (typeof d.value === 'string') {\n                    value = network[d.value];\n                }\n                if (typeof d.value === 'function') {\n                    value = d.value(network);\n                }\n                if (value) {\n                    return (\n                        <div className='col-xs-12 col-md-6 machines-network-additional-column' id={`${id}-network-${networkId}-${name}`}>\n                            <div className='machines-network-source-descr col-xs-12 col-sm-6'>{name}</div>\n                            <div className='machines-network-source-value col-xs-12 col-sm-6'>{value}</div>\n                        </div>);\n                }\n                return null;\n            });\n            return (<div>{columns}</div>);\n        }},\n        { name: _(\"State\"), value: (network, networkId) => {\n                const isUp = network.state === 'up';\n                return (<div className='machines-network-state' id={`${id}-network-${networkId}-state`}>\n                    <span className='machines-network-state-text'>{rephraseUI('networkState', network.state)}</span>\n                    <button className='btn btn-default' onClick={onChangeState(network)} title={`${ isUp ? _(\"Unplug\") : _(\"Plug\")}`}>\n                        {isUp ? 'Unplug' : 'Plug'}\n                    </button>\n                </div>);\n            }\n        },\n    ];\n\n    let networkId = 1;\n\n    return (\n        <div className=\"machines-network-list\">\n            <Listing columnTitles={detailMap.map(target => target.name)} actions={null}>\n                {vm.interfaces.sort().map(target => {\n                    const columns = detailMap.map(d => {\n                        let column = null;\n                        if (typeof d.value === 'string') {\n                            if (target[d.value] !== undefined) {\n                                column = { name: (<div id={`${id}-network-${networkId}-${d.value}`}>{target[d.value]}</div>), header: d.header };\n                            }\n                        }\n                        if (typeof d.value === 'function') {\n                            column = d.value(target, networkId);\n                        }\n                        return column;\n                    })\n                    networkId++;\n\n                    return (<ListingRow columns={columns} />);\n                })}\n            </Listing>\n        </div>\n    );\n}\n\nVmNetworkTab.propTypes = {\n    vm: React.PropTypes.object.isRequired,\n};\n\nexport default VmNetworkTab;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/vmnetworktab.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\nimport Select from \"cockpit-components-select.jsx\";\n\nimport SerialConsole from './serialConsole.jsx';\nimport Vnc, { VncActions } from './vnc.jsx';\nimport DesktopConsole from './desktopConsole.jsx';\n\nimport { logDebug } from '../helpers.es6';\nimport { vmDesktopConsole } from '../actions.es6';\n\nconst _ = cockpit.gettext;\n\nconst VmNotRunning = () => {\n    return (\n        <div>\n            {_(\"Please start the virtual machine to access its console.\")}\n        </div>\n    );\n};\n\nconst ConsoleSelector = ({ onChange, selected, isSerialConsole, vm }) => {\n    const entries = [];\n\n    let isDesktop = false;\n    if (vm.displays) {\n        if (vm.displays.vnc) {\n            entries.push(\n                <Select.SelectEntry data={'vnc-browser'} key='vnc-browser'>\n                    {_(\"Graphics Console (VNC)\")}\n                </Select.SelectEntry>\n            );\n            isDesktop = true;\n        }\n\n        if (isDesktop || vm.displays.spice) {\n            entries.push(\n                <Select.SelectEntry data={'desktop'} key='desktop'>\n                    {_(\"Graphics Console in Desktop Viewer\")}\n                </Select.SelectEntry>\n            );\n        }\n    }\n\n    if (isSerialConsole) {\n        entries.push(\n            <Select.SelectEntry data={'serial-browser'} key='serial-browser'>\n                {_(\"Serial Console\")}\n            </Select.SelectEntry>\n        );\n    }\n\n    return (\n        <table className='form-table-ct'>\n            <tr>\n                <td className='top'>\n                    <label>{_(\"Console Type\")}</label>\n                </td>\n                <td>\n                    <Select.StatelessSelect id=\"console-type-select\"\n                                            selected={selected}\n                                            onChange={onChange}\n                                            extraClass='console-type-select'>\n                        {entries}\n                    </Select.StatelessSelect>\n                </td>\n            </tr>\n        </table>\n    );\n};\n\nconst NoConsoleDefined = () => {\n    return (\n        <div>\n            {_(\"No console defined for this virtual machine.\")}\n        </div>\n    );\n};\n\nclass Consoles extends React.Component {\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            consoleType: undefined,\n            consoleDetail: undefined,\n        };\n\n        this.onConsoleTypeSelected = this.onConsoleTypeSelected.bind(this);\n        this.getDefaultConsole = this.getDefaultConsole.bind(this);\n        this.onDesktopConsoleDownload = this.onDesktopConsoleDownload.bind(this);\n    }\n\n    getDefaultConsole () {\n        const { vm, config } = this.props;\n\n        if (vm.displays) {\n            if (vm.displays.vnc) {\n                return 'vnc-browser';\n            }\n            if (vm.displays.spice) {\n                return 'desktop';\n            }\n        }\n\n        const serialConsoleCommand = config.provider.serialConsoleCommand({ vm });\n        if (serialConsoleCommand) {\n            return 'serial-browser';\n        }\n\n        // no console defined\n        return null;\n    }\n\n    componentWillMount () {\n        this.onConsoleTypeSelected( this.getDefaultConsole() );\n    }\n\n    onConsoleTypeSelected (key) {\n        logDebug('onConsoleTypeSelected', key);\n\n        const { vm, config } = this.props;\n        const { provider, providerState } = config;\n\n        let consoleDetail = undefined;\n\n        if (key === 'vnc-browser') {\n            if (provider.onConsoleAboutToShow) {\n                // Hook: Give provider chance to update consoleDetail before noVNC is initialized.\n                // This update needs to be performed at the time of console retrieval, since provider-specific console\n                // details might vary over time, like the password (in oVirt: the password is valid for 2 minutes only).\n                provider.onConsoleAboutToShow({ type: 'vnc', vm, providerState }).then(consoleDetail => {\n                    logDebug('onConsoleTypeSelected(), provider updated console details');\n                    if (!consoleDetail) {\n                        // vnc console can't be rendered (see provider for the reason)\n                        console.info(`In-Browser VNC console is disabled by external provider`);\n                    }\n\n                    this.setState({\n                        consoleType: key,\n                        consoleDetail,\n                    })\n                });\n            } else {\n                consoleDetail = vm.displays.vnc;\n            }\n        }\n\n        this.setState({\n            consoleType: key,\n            consoleDetail,\n        })\n    }\n\n    onDesktopConsoleDownload (type) {\n        const { dispatch, vm } = this.props;\n        // fire download of the .vv file\n        dispatch(vmDesktopConsole(vm, vm.displays[type]));\n    }\n\n    render () {\n        const { vm, config } = this.props;\n        const { provider } = config;\n\n        if (!provider.canConsole || !provider.canConsole(vm.state)) {\n            return (<VmNotRunning />);\n        }\n\n        const serialConsoleCommand = config.provider.serialConsoleCommand({ vm });\n\n        const onDesktopConsole = () => { // prefer spice over vnc\n            this.onDesktopConsoleDownload(vm.displays.spice ? 'spice' : 'vnc')\n        };\n\n        logDebug('Consoles render, this.state.consoleType: ', this.state.consoleType);\n        let console = null;\n        let actions = null;\n        switch (this.state.consoleType) {\n            case 'serial-browser':\n                console = <SerialConsole vmName={vm.name} spawnArgs={serialConsoleCommand} />;\n                break;\n            case 'vnc-browser':\n                console = <Vnc vm={vm} consoleDetail={this.state.consoleDetail} />;\n                actions = <VncActions vm={vm} />;\n                break;\n            case 'desktop':\n                console = <DesktopConsole vm={vm} onDesktopConsole={onDesktopConsole} config={config} />\n                break;\n            default:\n                console = <NoConsoleDefined />;\n                break;\n        }\n\n        return (\n            <div>\n                <span className='console-menu'>\n                    <ConsoleSelector onChange={this.onConsoleTypeSelected}\n                                     isSerialConsole={!!serialConsoleCommand}\n                                     selected={this.state.consoleType}\n                                     vm={vm} />\n                    {actions}\n                </span>\n                {console}\n            </div>\n        );\n    }\n}\n\nexport default Consoles;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/consoles.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n(function() {\n    \"use strict\";\n\n    const cockpit = require(\"cockpit\");\n    const React = require(\"react\");\n\n    require(\"page.css\");\n\n    const _ = cockpit.gettext;\n\n    const textForUndefined = _(\"undefined\");\n\n    /* React pattern component for a dropdown/select control\n     * Entries should be child components of type SelectEntry (html <a>)\n     *\n     * User of this component should listen onChange and set selected prop of it\n     *\n     * Expected properties:\n     *  - selected (optional) explicit data to select, default: first entry\n     *  - onChange (optional) callback (parameter data) when the selection has changed\n     *  - id (optional) html id of the top level node\n     *  - enabled (optional) whether the component is enabled or not; defaults to true\n     *  - extraClass (optional) CSS class name(s) to be added to the main <div> of the component\n     */\n    class StatelessSelect extends React.Component {\n        constructor() {\n            super();\n            this.clickHandler = this.clickHandler.bind(this);\n\n            this.state = {\n                open: false,\n                documentClickHandler: undefined,\n            };\n        }\n\n        componentDidMount() {\n            const handler = this.handleDocumentClick.bind(this, React.findDOMNode(this));\n            this.setState({ documentClickHandler: handler });\n            document.addEventListener('click', handler, false);\n        }\n\n        componentWillUnmount() {\n            document.removeEventListener('click', this.state.documentClickHandler, false);\n        }\n\n        handleDocumentClick(node, ev) {\n            // clicking outside the select control should ensure it's closed\n            if (!node.contains(ev.target))\n                this.setState({ open: false });\n        }\n\n        clickHandler(ev) {\n            // only consider clicks with the primary button\n            if (ev && ev.button !== 0)\n                return;\n\n            if (ev.target.tagName === 'A') {\n                const liElement = ev.target.offsetParent;\n                let elementData;\n                if ('data-data' in liElement.attributes)\n                    elementData = liElement.attributes['data-data'].value;\n\n                this.setState({ open: false });\n                // if the item didn't change, don't do anything\n                if (elementData === this.props.selected)\n                    return;\n                if (this.props.onChange)\n                    this.props.onChange(elementData);\n            } else {\n                this.setState({ open: !this.state.open });\n            }\n        }\n\n        render() {\n            const getItemData = (item) => (item && item.props && ('data' in item.props) ? item.props.data : undefined);\n            const getItemValue = (item) => (item && item.props && (item.props.children !== undefined) ? item.props.children : textForUndefined);\n\n            const entries = React.Children.toArray(this.props.children).filter(item => item && item.props && ('data' in item.props));\n\n            let selectedEntries = entries.filter(item => this.props.selected === getItemData(item));\n\n            let selectedEntry;\n            if (selectedEntries.length > 0)\n                selectedEntry = selectedEntries[0];\n            else if (entries.length > 0)\n                selectedEntry = entries[0];  // default to first item if selected item not found\n\n            const currentValue = getItemValue(selectedEntry);\n\n            let classes = \"btn-group bootstrap-select dropdown\";\n            if (this.state.open)\n                classes += \" open\";\n            if (this.props.extraClass) {\n                classes += \" \" + this.props.extraClass;\n            }\n\n            let buttonClasses = \"btn btn-default dropdown-toggle\";\n            if (this.props.enabled === false)\n                buttonClasses += \" disabled\";\n\n            return (\n                <div className={classes} onClick={this.clickHandler} id={this.props.id}>\n                    <button className={buttonClasses} type=\"button\">\n                        <span className=\"pull-left\">{currentValue}</span>\n                        <span className=\"caret\"></span>\n                    </button>\n                    <ul className=\"dropdown-menu\">\n                        {this.props.children}\n                    </ul>\n                </div>\n            );\n        }\n    }\n\n    StatelessSelect.propTypes = {\n        selected: React.PropTypes.string,\n        onChange: React.PropTypes.func,\n        id: React.PropTypes.string,\n        enabled: React.PropTypes.bool,\n        extraClass: React.PropTypes.string,\n    };\n\n    class Select extends React.Component {\n        constructor(props) {\n            super();\n            this.onChange = this.onChange.bind(this);\n\n            this.state = {\n                currentData: props.initial,\n            };\n        }\n\n        onChange(data) {\n            this.setState({ currentData: data });\n            if (typeof this.props.onChange === 'function')\n                this.props.onChange(data);\n        }\n\n        render() {\n            return (\n                <StatelessSelect onChange={this.onChange}\n                                 selected={this.state.currentData}\n                                 id={this.props.id}\n                                 enabled={this.props.enabled}\n                                 extraClass={this.props.extraClass}>\n                    {this.props.children}\n                </StatelessSelect>\n            );\n        }\n    }\n\n    Select.propTypes = {\n        initial: React.PropTypes.string,\n        onChange: React.PropTypes.func,\n        id: React.PropTypes.string,\n        enabled: React.PropTypes.bool,\n        extraClass: React.PropTypes.string,\n    };\n\n    /* Entry class for the select component\n     * Dynamic lists should make sure to also provide 'key' props for react to use\n     * Expected properties:\n     *  - data (required), will be passed to the select's onChange callback\n     * Example: <SelectEntry data=\"foo\">Some entry</SelectEntry>\n     */\n    class SelectEntry extends React.Component {\n        render() {\n            const value = (this.props.children !== undefined) ? this.props.children : textForUndefined;\n            return (\n                <li data-value={value} data-data={this.props.data}>\n                    <a>{value}</a>\n                </li>\n            );\n        }\n    }\n\n    /* Divider\n     * Example: <SelectDivider/>\n     */\n    const SelectDivider = () => <li role=\"separator\" className=\"divider\"/>;\n\n    /* Header\n     * Example: <SelectHeader>Some header</SelectHeader>\n     */\n    const SelectHeader = ({ children }) => {\n        const value = (children !== undefined) ? children : textForUndefined;\n        return (\n            <li className=\"dropdown-header\">{value}</li>\n        );\n    };\n\n    SelectEntry.propTypes = {\n        data: React.PropTypes.string.isRequired,\n    };\n\n    module.exports = {\n        Select,\n        StatelessSelect,\n        SelectEntry,\n        SelectDivider,\n        SelectHeader,\n    };\n}());\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-select.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\nimport {Terminal} from 'cockpit-components-terminal.jsx';\n\nconst _ = cockpit.gettext;\n\n\nclass SerialConsole extends React.Component {\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            channel: undefined,\n        };\n\n        this.focusTerminal = this.focusTerminal.bind(this);\n        this.onResetClick = this.onResetClick.bind(this);\n        this.onDisconnectClick = this.onDisconnectClick.bind(this);\n    }\n\n    createChannel () {\n        const { spawnArgs } = this.props;\n\n        return cockpit.channel({\n            \"payload\": \"stream\",\n            \"spawn\": spawnArgs,\n            \"pty\": true,\n        });\n    }\n\n    componentWillMount () {\n        this.setState({channel: this.createChannel()});\n    }\n\n    componentWillUnmount () {\n        if (this.state.channel)\n            this.state.channel.close();\n    }\n\n    onResetClick (event) {\n        if (event.button !== 0)\n            return;\n\n        if (this.state.channel)\n            this.state.channel.close();\n\n        this.setState({channel: this.createChannel()});\n\n        this.focusTerminal();\n    }\n\n    onDisconnectClick (event) {\n        if (event.button !== 0)\n            return;\n\n        if (this.state.channel)\n            this.state.channel.close();\n\n        this.setState({channel: null});\n\n        this.focusTerminal();\n    }\n\n    focusTerminal () {\n        this.refs.resetButton.blur();\n        this.refs.disconnectButton.blur();\n\n        if (this.refs.terminal)\n            this.refs.terminal.focus();\n    }\n\n    render () {\n        const { vmName } = this.props;\n\n        let terminal;\n        if (this.state.channel) {\n            terminal = (<Terminal ref=\"terminal\" channel={this.state.channel}/>);\n        } else if (this.state.channel === null) {\n            terminal = <span>{_(\"Disconnected from serial console. Click the Reconnect button.\")}</span>\n        } else {\n            terminal = <span>{_(\"Loading ...\")}</span>;\n        }\n\n        const disconnectDisabled = (!this.state.channel) && 'disabled' || '';\n\n        return (\n            <div className=\"console-ct-container\">\n                <div className=\"console-actions\">\n                    <button ref=\"disconnectButton\" id={`${vmName}-serialconsole-disconnect`}\n                            className={`btn btn-default console-actions-buttons ${disconnectDisabled}`}\n                            onClick={this.onDisconnectClick}>\n                        {_(\"Disconnect\")}\n                    </button>\n\n                    <button ref=\"resetButton\" id={`${vmName}-serialconsole-reconnect`}\n                            className=\"btn btn-default console-actions-buttons\" onClick={this.onResetClick}>\n                        {_(\"Reconnect\")}\n                    </button>\n                </div>\n\n                <div className=\"panel-body machines-terminal\">\n                    {terminal}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SerialConsole;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/serialConsole.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n(function() {\n    \"use strict\";\n\n    var React = require(\"react\");\n    var Term = require(\"term\");\n\n    require(\"console.css\");\n\n    /*\n     * A terminal component that communicates over a cockpit channel.\n     *\n     * The only required property is 'channel', which must point to a cockpit\n     * stream channel.\n     *\n     * The size of the terminal can be set with the 'rows' and 'cols'\n     * properties. If those properties are not given, the terminal will fill\n     * its container.\n     *\n     * If the 'onTitleChanged' callback property is set, it will be called whenever\n     * the title of the terminal changes.\n     *\n     * Call focus() to set the input focus on the terminal.\n     */\n    var Terminal = React.createClass({\n        propTypes: {\n            cols: React.PropTypes.number,\n            rows: React.PropTypes.number,\n            channel: React.PropTypes.object.isRequired,\n            onTitleChanged: React.PropTypes.func\n        },\n\n        componentWillMount: function () {\n            var term = new Term({\n                cols: this.props.cols || 80,\n                rows: this.props.rows || 25,\n                screenKeys: true\n            });\n\n            term.on('data', function(data) {\n                if (this.props.channel.valid)\n                    this.props.channel.send(data);\n            }.bind(this));\n\n            if (this.props.onTitleChanged)\n                term.on('title', this.props.onTitleChanged);\n\n            this.setState({ terminal: term });\n        },\n\n        componentDidMount: function () {\n            this.state.terminal.open(this.refs.terminal);\n            this.connectChannel();\n\n            if (!this.props.rows) {\n                window.addEventListener('resize', this.onWindowResize);\n                this.onWindowResize();\n            }\n        },\n\n        componentWillUpdate: function (nextProps, nextState) {\n            if (nextState.cols !== this.state.cols || nextState.rows !== this.state.rows) {\n                this.state.terminal.resize(nextState.cols, nextState.rows);\n                this.props.channel.control({\n                    window: {\n                        rows: nextState.rows,\n                        cols: nextState.cols\n                    }\n                });\n            }\n\n            if (nextProps.channel !== this.props.channel) {\n                this.state.terminal.reset();\n                this.disconnectChannel();\n            }\n        },\n\n        componentDidUpdate: function (prevProps) {\n            if (prevProps.channel !== this.props.channel) {\n                this.connectChannel();\n                this.props.channel.control({\n                    window: {\n                        rows: this.state.rows,\n                        cols: this.state.cols\n                    }\n                });\n            }\n        },\n\n        render: function () {\n            // ensure react never reuses this div by keying it with the terminal widget\n            return <div ref=\"terminal\"\n                        key={this.state.terminal}\n                        className=\"console-ct\"\n                        onFocusIn={this.onFocusIn}\n                        onFocusOut={this.onFocusOut} />;\n        },\n\n        componentWillUnmount: function () {\n            this.disconnectChannel();\n            this.state.terminal.destroy();\n            window.removeEventListener('resize', this.onWindowResize);\n        },\n\n        onChannelMessage: function (event, data) {\n            this.state.terminal.write(data);\n        },\n\n        onChannelClose: function (event, options) {\n            var term = this.state.terminal;\n            term.write('\\x1b[31m' + (options.problem || 'disconnected') + '\\x1b[m\\r\\n');\n            term.cursorHidden = true;\n            term.refresh(term.y, term.y);\n        },\n\n        connectChannel: function () {\n            var channel = this.props.channel;\n            if (channel && channel.valid) {\n                channel.addEventListener('message', this.onChannelMessage.bind(this));\n                channel.addEventListener('close', this.onChannelClose.bind(this));\n            }\n        },\n\n        disconnectChannel: function () {\n            if (this.props.channel) {\n                this.props.channel.removeEventListener('message', this.onChannelMessage);\n                this.props.channel.removeEventListener('close', this.onChannelClose);\n            }\n        },\n\n        focus: function () {\n            if (this.state.terminal)\n                this.state.terminal.focus();\n        },\n\n        onWindowResize: function () {\n            var padding = 2 * 11;\n            var node = this.getDOMNode();\n            var terminal = this.refs.terminal.querySelector('.terminal');\n\n            var ch = document.createElement('span');\n            ch.textContent = 'M';\n            ch.style.position = 'absolute';\n            terminal.appendChild(ch);\n            var rect = ch.getBoundingClientRect();\n            terminal.removeChild(ch);\n\n            this.setState({\n                rows: Math.floor((node.parentElement.clientHeight - padding) / rect.height),\n                cols: Math.floor((node.parentElement.clientWidth - padding) / rect.width)\n            });\n        },\n\n        onBeforeUnload: function (event) {\n            // Firefox requires this when the page is in an iframe\n            event.preventDefault();\n\n            // see \"an almost cross-browser solution\" at\n            // https://developer.mozilla.org/en-US/docs/Web/Events/beforeunload\n            event.returnValue = '';\n            return '';\n        },\n\n        onFocusIn: function () {\n            window.addEventListener('beforeunload', this.onBeforeUnload);\n        },\n\n        onFocusOut: function () {\n            window.removeEventListener('beforeunload', this.onBeforeUnload);\n        }\n    });\n\n    module.exports = { Terminal: Terminal };\n}());\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-terminal.jsx","/**\n * term.js - an xterm emulator\n * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)\n * https://github.com/chjj/term.js\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *\n * Originally forked from (with the author's permission):\n *   Fabrice Bellard's javascript vt100 for jslinux:\n *   http://bellard.org/jslinux/\n *   Copyright (c) 2011 Fabrice Bellard\n *   The original design remains. The terminal itself\n *   has been extended to include xterm CSI codes, among\n *   other features.\n */\n\n;(function() {\n\n/**\n * Terminal Emulation References:\n *   http://vt100.net/\n *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.txt\n *   http://invisible-island.net/xterm/ctlseqs/ctlseqs.html\n *   http://invisible-island.net/vttest/\n *   http://www.inwap.com/pdp10/ansicode.txt\n *   http://linux.die.net/man/4/console_codes\n *   http://linux.die.net/man/7/urxvt\n */\n\n'use strict';\n\n/**\n * Shared\n */\n\nvar window = this\n  , document = this.document;\n\n/**\n * EventEmitter\n */\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n}\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  this._events[type] = this._events[type] || [];\n  this._events[type].push(listener);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.removeListener = function(type, listener) {\n  if (!this._events[type]) return;\n\n  var obj = this._events[type]\n    , i = obj.length;\n\n  while (i--) {\n    if (obj[i] === listener || obj[i].listener === listener) {\n      obj.splice(i, 1);\n      return;\n    }\n  }\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (this._events[type]) delete this._events[type];\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  function on() {\n    var args = Array.prototype.slice.call(arguments);\n    this.removeListener(type, on);\n    return listener.apply(this, args);\n  }\n  on.listener = listener;\n  return this.on(type, on);\n};\n\nEventEmitter.prototype.emit = function(type) {\n  if (!this._events[type]) return;\n\n  var args = Array.prototype.slice.call(arguments, 1)\n    , obj = this._events[type]\n    , l = obj.length\n    , i = 0;\n\n  for (; i < l; i++) {\n    obj[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  return this._events[type] = this._events[type] || [];\n};\n\n/**\n * Stream\n */\n\nfunction Stream() {\n  EventEmitter.call(this);\n}\n\ninherits(Stream, EventEmitter);\n\nStream.prototype.pipe = function(dest, options) {\n  var src = this\n    , ondata\n    , onerror\n    , onend;\n\n  function unbind() {\n    src.removeListener('data', ondata);\n    src.removeListener('error', onerror);\n    src.removeListener('end', onend);\n    dest.removeListener('error', onerror);\n    dest.removeListener('close', unbind);\n  }\n\n  src.on('data', ondata = function(data) {\n    dest.write(data);\n  });\n\n  src.on('error', onerror = function(err) {\n    unbind();\n    if (!this.listeners('error').length) {\n      throw err;\n    }\n  });\n\n  src.on('end', onend = function() {\n    dest.end();\n    unbind();\n  });\n\n  dest.on('error', onerror);\n  dest.on('close', unbind);\n\n  dest.emit('pipe', src);\n\n  return dest;\n};\n\n/**\n * States\n */\n\nvar normal = 0\n  , escaped = 1\n  , csi = 2\n  , osc = 3\n  , charset = 4\n  , dcs = 5\n  , ignore = 6\n  , UDK = { type: 'udk' };\n\n/**\n * Terminal\n */\n\nfunction Terminal(options) {\n  var self = this;\n\n  if (!(this instanceof Terminal)) {\n    return new Terminal(arguments[0], arguments[1], arguments[2]);\n  }\n\n  Stream.call(this);\n\n  if (typeof options === 'number') {\n    options = {\n      cols: arguments[0],\n      rows: arguments[1],\n      handler: arguments[2]\n    };\n  }\n\n  options = options || {};\n\n  each(keys(Terminal.defaults), function(key) {\n    if (options[key] == null) {\n      options[key] = Terminal.options[key];\n      // Legacy:\n      if (Terminal[key] !== Terminal.defaults[key]) {\n        options[key] = Terminal[key];\n      }\n    }\n    self[key] = options[key];\n  });\n\n  if (options.colors.length === 8) {\n    options.colors = options.colors.concat(Terminal._colors.slice(8));\n  } else if (options.colors.length === 16) {\n    options.colors = options.colors.concat(Terminal._colors.slice(16));\n  } else if (options.colors.length === 10) {\n    options.colors = options.colors.slice(0, -2).concat(\n      Terminal._colors.slice(8, -2), options.colors.slice(-2));\n  } else if (options.colors.length === 18) {\n    options.colors = options.colors.slice(0, -2).concat(\n      Terminal._colors.slice(16, -2), options.colors.slice(-2));\n  }\n  this.colors = options.colors;\n\n  this.options = options;\n\n  // this.context = options.context || window;\n  // this.document = options.document || document;\n  this.parent = options.body || options.parent\n    || (document ? document.getElementsByTagName('body')[0] : null);\n\n  this.cols = options.cols || options.geometry[0];\n  this.rows = options.rows || options.geometry[1];\n\n  // Act as though we are a node TTY stream:\n  this.setRawMode;\n  this.isTTY = true;\n  this.isRaw = true;\n  this.columns = this.cols;\n  this.rows = this.rows;\n\n  if (options.handler) {\n    this.on('data', options.handler);\n  }\n\n  this.ybase = 0;\n  this.ydisp = 0;\n  this.x = 0;\n  this.y = 0;\n  this.cursorHidden = false;\n  this.convertEol;\n  this.state = 0;\n  this.queue = '';\n  this.scrollTop = 0;\n  this.scrollBottom = this.rows - 1;\n\n  // modes\n  this.applicationKeypad = false;\n  this.applicationCursor = false;\n  this.originMode = false;\n  this.insertMode = false;\n  this.wraparoundMode = false;\n  this.normal = null;\n\n  // select modes\n  this.prefixMode = false;\n  this.selectMode = false;\n  this.visualMode = false;\n  this.searchMode = false;\n  this.searchDown;\n  this.entry = '';\n  this.entryPrefix = 'Search: ';\n  this._real;\n  this._selected;\n  this._textarea;\n\n  // charset\n  this.charset = null;\n  this.gcharset = null;\n  this.glevel = 0;\n  this.charsets = [null];\n\n  // mouse properties\n  this.decLocator;\n  this.x10Mouse;\n  this.vt200Mouse;\n  this.vt300Mouse;\n  this.normalMouse;\n  this.mouseEvents;\n  this.sendFocus;\n  this.utfMouse;\n  this.sgrMouse;\n  this.urxvtMouse;\n\n  // misc\n  this.element;\n  this.children;\n  this.refreshStart;\n  this.refreshEnd;\n  this.savedX;\n  this.savedY;\n  this.savedCols;\n\n  // stream\n  this.readable = true;\n  this.writable = true;\n\n  this.defAttr = (0 << 18) | (257 << 9) | (256 << 0);\n  this.curAttr = this.defAttr;\n\n  this.params = [];\n  this.currentParam = 0;\n  this.prefix = '';\n  this.postfix = '';\n\n  this.lines = [];\n  var i = this.rows;\n  while (i--) {\n    this.lines.push(this.blankLine());\n  }\n\n  this.tabs;\n  this.setupStops();\n}\n\ninherits(Terminal, Stream);\n\n/**\n * Colors\n */\n\n// Colors 0-15\nTerminal.tangoColors = [\n  // dark:\n  '#2e3436',\n  '#cc0000',\n  '#4e9a06',\n  '#c4a000',\n  '#3465a4',\n  '#75507b',\n  '#06989a',\n  '#d3d7cf',\n  // bright:\n  '#555753',\n  '#ef2929',\n  '#8ae234',\n  '#fce94f',\n  '#729fcf',\n  '#ad7fa8',\n  '#34e2e2',\n  '#eeeeec'\n];\n\nTerminal.xtermColors = [\n  // dark:\n  '#000000', // black\n  '#cd0000', // red3\n  '#00cd00', // green3\n  '#cdcd00', // yellow3\n  '#0000ee', // blue2\n  '#cd00cd', // magenta3\n  '#00cdcd', // cyan3\n  '#e5e5e5', // gray90\n  // bright:\n  '#7f7f7f', // gray50\n  '#ff0000', // red\n  '#00ff00', // green\n  '#ffff00', // yellow\n  '#5c5cff', // rgb:5c/5c/ff\n  '#ff00ff', // magenta\n  '#00ffff', // cyan\n  '#ffffff'  // white\n];\n\n// Colors 0-15 + 16-255\n// Much thanks to TooTallNate for writing this.\nTerminal.colors = (function() {\n  var colors = Terminal.tangoColors.slice()\n    , r = [0x00, 0x5f, 0x87, 0xaf, 0xd7, 0xff]\n    , i;\n\n  // 16-231\n  i = 0;\n  for (; i < 216; i++) {\n    out(r[(i / 36) % 6 | 0], r[(i / 6) % 6 | 0], r[i % 6]);\n  }\n\n  // 232-255 (grey)\n  i = 0;\n  for (; i < 24; i++) {\n    r = 8 + i * 10;\n    out(r, r, r);\n  }\n\n  function out(r, g, b) {\n    colors.push('#' + hex(r) + hex(g) + hex(b));\n  }\n\n  function hex(c) {\n    c = c.toString(16);\n    return c.length < 2 ? '0' + c : c;\n  }\n\n  return colors;\n})();\n\n// Default BG/FG\nTerminal.colors[256] = '#000000';\nTerminal.colors[257] = '#f0f0f0';\n\nTerminal._colors = Terminal.colors.slice();\n\nTerminal.vcolors = (function() {\n  var out = []\n    , colors = Terminal.colors\n    , i = 0\n    , color;\n\n  for (; i < 256; i++) {\n    color = parseInt(colors[i].substring(1), 16);\n    out.push([\n      (color >> 16) & 0xff,\n      (color >> 8) & 0xff,\n      color & 0xff\n    ]);\n  }\n\n  return out;\n})();\n\n/**\n * Options\n */\n\nTerminal.defaults = {\n  colors: Terminal.colors,\n  convertEol: false,\n  termName: 'xterm',\n  geometry: [80, 24],\n  visualBell: false,\n  popOnBell: false,\n  scrollback: 1000,\n  screenKeys: false,\n  debug: false,\n  // programFeatures: false,\n  // focusKeys: false,\n};\n\nTerminal.options = {};\n\neach(keys(Terminal.defaults), function(key) {\n  Terminal[key] = Terminal.defaults[key];\n  Terminal.options[key] = Terminal.defaults[key];\n});\n\n/**\n * Focused Terminal\n */\n\nTerminal.focus = null;\n\nTerminal.prototype.focus = function() {\n  if (Terminal.focus === this) return;\n\n  if (Terminal.focus) {\n    Terminal.focus.blur();\n  }\n\n  if (this.sendFocus) this.send('\\x1b[I');\n\n  // try {\n  //   this.element.focus();\n  // } catch (e) {\n  //   ;\n  // }\n\n  // this.emit('focus');\n\n  Terminal.focus = this;\n};\n\nTerminal.prototype.blur = function() {\n  if (Terminal.focus !== this) return;\n\n  if (this.sendFocus) this.send('\\x1b[O');\n\n  // try {\n  //   this.element.blur();\n  // } catch (e) {\n  //   ;\n  // }\n\n  // this.emit('blur');\n\n  Terminal.focus = null;\n};\n\n/**\n * Initialize global behavior\n */\n\nTerminal.prototype.initGlobal = function() {\n  var document = this.document;\n\n  Terminal._boundDocs = Terminal._boundDocs || [];\n  if (~indexOf(Terminal._boundDocs, document)) {\n    return;\n  }\n  Terminal._boundDocs.push(document);\n\n  Terminal.bindPaste(document);\n\n  Terminal.bindKeys(document);\n\n  Terminal.bindCopy(document);\n\n  if (this.isMobile) {\n    this.fixMobile(document);\n  }\n};\n\n/**\n * Bind to paste event\n */\n\nTerminal.bindPaste = function(document) {\n  // This seems to work well for ctrl-V and middle-click,\n  // even without the contentEditable workaround.\n  var window = document.defaultView;\n  on(window, 'paste', function(ev) {\n    var term = Terminal.focus;\n    if (!term) return;\n    if (ev.clipboardData) {\n      term.send(ev.clipboardData.getData('text/plain'));\n    } else if (term.context.clipboardData) {\n      term.send(term.context.clipboardData.getData('Text'));\n    }\n    // Not necessary. Do it anyway for good measure.\n    term.element.contentEditable = 'inherit';\n    return cancel(ev);\n  });\n};\n\n/**\n * Global Events for key handling\n */\n\nTerminal.bindKeys = function(document) {\n  // We should only need to check `target === body` below,\n  // but we can check everything for good measure.\n  on(document, 'keydown', function(ev) {\n    if (!Terminal.focus) return;\n    var target = ev.target || ev.srcElement;\n    if (!target) return;\n    if (target === Terminal.focus.element\n        || target === Terminal.focus.context\n        || target === Terminal.focus.document\n        || target === Terminal.focus.body\n        || target === Terminal._textarea\n        || target === Terminal.focus.parent) {\n      return Terminal.focus.keyDown(ev);\n    }\n  }, true);\n\n  on(document, 'keypress', function(ev) {\n    if (!Terminal.focus) return;\n    var target = ev.target || ev.srcElement;\n    if (!target) return;\n    if (target === Terminal.focus.element\n        || target === Terminal.focus.context\n        || target === Terminal.focus.document\n        || target === Terminal.focus.body\n        || target === Terminal._textarea\n        || target === Terminal.focus.parent) {\n      return Terminal.focus.keyPress(ev);\n    }\n  }, true);\n\n  // If we click somewhere other than a\n  // terminal, unfocus the terminal.\n  on(document, 'mousedown', function(ev) {\n    if (!Terminal.focus) return;\n\n    var el = ev.target || ev.srcElement;\n    if (!el) return;\n\n    do {\n      if (el === Terminal.focus.element) return;\n    } while (el = el.parentNode);\n\n    Terminal.focus.blur();\n  });\n};\n\n/**\n * Copy Selection w/ Ctrl-C (Select Mode)\n */\n\nTerminal.bindCopy = function(document) {\n  var window = document.defaultView;\n\n  // if (!('onbeforecopy' in document)) {\n  //   // Copies to *only* the clipboard.\n  //   on(window, 'copy', function fn(ev) {\n  //     var term = Terminal.focus;\n  //     if (!term) return;\n  //     if (!term._selected) return;\n  //     var text = term.grabText(\n  //       term._selected.x1, term._selected.x2,\n  //       term._selected.y1, term._selected.y2);\n  //     term.emit('copy', text);\n  //     ev.clipboardData.setData('text/plain', text);\n  //   });\n  //   return;\n  // }\n\n  // Copies to primary selection *and* clipboard.\n  // NOTE: This may work better on capture phase,\n  // or using the `beforecopy` event.\n  on(window, 'copy', function(ev) {\n    var term = Terminal.focus;\n    if (!term) return;\n    if (!term._selected) return;\n    var textarea = term.getCopyTextarea();\n    var text = term.grabText(\n      term._selected.x1, term._selected.x2,\n      term._selected.y1, term._selected.y2);\n    term.emit('copy', text);\n    textarea.focus();\n    textarea.textContent = text;\n    textarea.value = text;\n    textarea.setSelectionRange(0, text.length);\n    setTimeout(function() {\n      term.element.focus();\n      term.focus();\n    }, 1);\n  });\n};\n\n/**\n * Fix Mobile\n */\n\nTerminal.prototype.fixMobile = function(document) {\n  var self = this;\n\n  var textarea = document.createElement('textarea');\n  textarea.style.position = 'absolute';\n  textarea.style.left = '-32000px';\n  textarea.style.top = '-32000px';\n  textarea.style.width = '0px';\n  textarea.style.height = '0px';\n  textarea.style.opacity = '0';\n  textarea.style.backgroundColor = 'transparent';\n  textarea.style.borderStyle = 'none';\n  textarea.style.outlineStyle = 'none';\n  textarea.autocapitalize = 'none';\n  textarea.autocorrect = 'off';\n\n  document.getElementsByTagName('body')[0].appendChild(textarea);\n\n  Terminal._textarea = textarea;\n\n  setTimeout(function() {\n    textarea.focus();\n  }, 1000);\n\n  if (this.isAndroid) {\n    on(textarea, 'change', function() {\n      var value = textarea.textContent || textarea.value;\n      textarea.value = '';\n      textarea.textContent = '';\n      self.send(value + '\\r');\n    });\n  }\n};\n\n/**\n * Open Terminal\n */\n\nTerminal.prototype.open = function(parent) {\n  var self = this\n    , i = 0\n    , div;\n\n  this.parent = parent || this.parent;\n\n  if (!this.parent) {\n    throw new Error('Terminal requires a parent element.');\n  }\n\n  // Grab global elements.\n  this.context = this.parent.ownerDocument.defaultView;\n  this.document = this.parent.ownerDocument;\n  this.body = this.document.getElementsByTagName('body')[0];\n\n  // Parse user-agent strings.\n  if (this.context.navigator && this.context.navigator.userAgent) {\n    this.isMac = !!~this.context.navigator.userAgent.indexOf('Mac');\n    this.isIpad = !!~this.context.navigator.userAgent.indexOf('iPad');\n    this.isIphone = !!~this.context.navigator.userAgent.indexOf('iPhone');\n    this.isAndroid = !!~this.context.navigator.userAgent.indexOf('Android');\n    this.isMobile = this.isIpad || this.isIphone || this.isAndroid;\n    this.isMSIE = !!~this.context.navigator.userAgent.indexOf('MSIE');\n  }\n\n  // Create our main terminal element.\n  this.element = this.document.createElement('div');\n  this.element.className = 'terminal';\n  this.element.style.outline = 'none';\n  this.element.setAttribute('tabindex', 0);\n  this.element.setAttribute('spellcheck', 'false');\n  this.element.style.backgroundColor = this.colors[256];\n  this.element.style.color = this.colors[257];\n\n  // Create the lines for our terminal.\n  this.children = [];\n  for (; i < this.rows; i++) {\n    div = this.document.createElement('div');\n    this.element.appendChild(div);\n    this.children.push(div);\n  }\n  this.parent.appendChild(this.element);\n\n  // Draw the screen.\n  this.refresh(0, this.rows - 1);\n\n  if (!('useEvents' in this.options) || this.options.useEvents) {\n    // Initialize global actions that\n    // need to be taken on the document.\n    this.initGlobal();\n  }\n\n  if (!('useFocus' in this.options) || this.options.useFocus) {\n    // Ensure there is a Terminal.focus.\n    this.focus();\n\n    // Bind to DOM events related\n    // to focus and paste behavior.\n    on(this.element, 'focus', function() {\n      self.focus();\n      if (self.isMobile) {\n        Terminal._textarea.focus();\n      }\n    });\n\n    // This causes slightly funky behavior.\n    // on(this.element, 'blur', function() {\n    //   self.blur();\n    // });\n\n    on(this.element, 'mousedown', function() {\n      self.focus();\n    });\n\n    // Clickable paste workaround, using contentEditable.\n    // This probably shouldn't work,\n    // ... but it does. Firefox's paste\n    // event seems to only work for textareas?\n    on(this.element, 'mousedown', function(ev) {\n      var button = ev.button != null\n        ? +ev.button\n        : ev.which != null\n          ? ev.which - 1\n          : null;\n\n      // Does IE9 do this?\n      if (self.isMSIE) {\n        button = button === 1 ? 0 : button === 4 ? 1 : button;\n      }\n\n      if (button !== 2) return;\n\n      self.element.contentEditable = 'true';\n      setTimeout(function() {\n        self.element.contentEditable = 'inherit'; // 'false';\n      }, 1);\n    }, true);\n  }\n\n  if (!('useMouse' in this.options) || this.options.useMouse) {\n    // Listen for mouse events and translate\n    // them into terminal mouse protocols.\n    this.bindMouse();\n  }\n\n  // this.emit('open');\n\n  if (!('useFocus' in this.options) || this.options.useFocus) {\n      // This can be useful for pasting,\n      // as well as the iPad fix.\n      setTimeout(function() {\n        self.element.focus();\n      }, 100);\n  }\n\n  // Figure out whether boldness affects\n  // the character width of monospace fonts.\n  if (Terminal.brokenBold == null) {\n    Terminal.brokenBold = isBoldBroken(this.document);\n  }\n\n  this.emit('open');\n};\n\nTerminal.prototype.setRawMode = function(value) {\n  this.isRaw = !!value;\n};\n\n// XTerm mouse events\n// http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\n// To better understand these\n// the xterm code is very helpful:\n// Relevant files:\n//   button.c, charproc.c, misc.c\n// Relevant functions in xterm/button.c:\n//   BtnCode, EmitButtonCode, EditorButton, SendMousePosition\nTerminal.prototype.bindMouse = function() {\n  var el = this.element\n    , self = this\n    , pressed = 32;\n\n  var wheelEvent = 'onmousewheel' in this.context\n    ? 'mousewheel'\n    : 'DOMMouseScroll';\n\n  // mouseup, mousedown, mousewheel\n  // left click: ^[[M 3<^[[M#3<\n  // mousewheel up: ^[[M`3>\n  function sendButton(ev) {\n    var button\n      , pos;\n\n    // get the xterm-style button\n    button = getButton(ev);\n\n    // get mouse coordinates\n    pos = getCoords(ev);\n    if (!pos) return;\n\n    sendEvent(button, pos);\n\n    switch (ev.type) {\n      case 'mousedown':\n        pressed = button;\n        break;\n      case 'mouseup':\n        // keep it at the left\n        // button, just in case.\n        pressed = 32;\n        break;\n      case wheelEvent:\n        // nothing. don't\n        // interfere with\n        // `pressed`.\n        break;\n    }\n  }\n\n  // motion example of a left click:\n  // ^[[M 3<^[[M@4<^[[M@5<^[[M@6<^[[M@7<^[[M#7<\n  function sendMove(ev) {\n    var button = pressed\n      , pos;\n\n    pos = getCoords(ev);\n    if (!pos) return;\n\n    // buttons marked as motions\n    // are incremented by 32\n    button += 32;\n\n    sendEvent(button, pos);\n  }\n\n  // encode button and\n  // position to characters\n  function encode(data, ch) {\n    if (!self.utfMouse) {\n      if (ch === 255) return data.push(0);\n      if (ch > 127) ch = 127;\n      data.push(ch);\n    } else {\n      if (ch === 2047) return data.push(0);\n      if (ch < 127) {\n        data.push(ch);\n      } else {\n        if (ch > 2047) ch = 2047;\n        data.push(0xC0 | (ch >> 6));\n        data.push(0x80 | (ch & 0x3F));\n      }\n    }\n  }\n\n  // send a mouse event:\n  // regular/utf8: ^[[M Cb Cx Cy\n  // urxvt: ^[[ Cb ; Cx ; Cy M\n  // sgr: ^[[ Cb ; Cx ; Cy M/m\n  // vt300: ^[[ 24(1/3/5)~ [ Cx , Cy ] \\r\n  // locator: CSI P e ; P b ; P r ; P c ; P p & w\n  function sendEvent(button, pos) {\n    // self.emit('mouse', {\n    //   x: pos.x - 32,\n    //   y: pos.x - 32,\n    //   button: button\n    // });\n\n    if (self.vt300Mouse) {\n      // NOTE: Unstable.\n      // http://www.vt100.net/docs/vt3xx-gp/chapter15.html\n      button &= 3;\n      pos.x -= 32;\n      pos.y -= 32;\n      var data = '\\x1b[24';\n      if (button === 0) data += '1';\n      else if (button === 1) data += '3';\n      else if (button === 2) data += '5';\n      else if (button === 3) return;\n      else data += '0';\n      data += '~[' + pos.x + ',' + pos.y + ']\\r';\n      self.send(data);\n      return;\n    }\n\n    if (self.decLocator) {\n      // NOTE: Unstable.\n      button &= 3;\n      pos.x -= 32;\n      pos.y -= 32;\n      if (button === 0) button = 2;\n      else if (button === 1) button = 4;\n      else if (button === 2) button = 6;\n      else if (button === 3) button = 3;\n      self.send('\\x1b['\n        + button\n        + ';'\n        + (button === 3 ? 4 : 0)\n        + ';'\n        + pos.y\n        + ';'\n        + pos.x\n        + ';'\n        + (pos.page || 0)\n        + '&w');\n      return;\n    }\n\n    if (self.urxvtMouse) {\n      pos.x -= 32;\n      pos.y -= 32;\n      pos.x++;\n      pos.y++;\n      self.send('\\x1b[' + button + ';' + pos.x + ';' + pos.y + 'M');\n      return;\n    }\n\n    if (self.sgrMouse) {\n      pos.x -= 32;\n      pos.y -= 32;\n      self.send('\\x1b[<'\n        + ((button & 3) === 3 ? button & ~3 : button)\n        + ';'\n        + pos.x\n        + ';'\n        + pos.y\n        + ((button & 3) === 3 ? 'm' : 'M'));\n      return;\n    }\n\n    var data = [];\n\n    encode(data, button);\n    encode(data, pos.x);\n    encode(data, pos.y);\n\n    self.send('\\x1b[M' + String.fromCharCode.apply(String, data));\n  }\n\n  function getButton(ev) {\n    var button\n      , shift\n      , meta\n      , ctrl\n      , mod;\n\n    // two low bits:\n    // 0 = left\n    // 1 = middle\n    // 2 = right\n    // 3 = release\n    // wheel up/down:\n    // 1, and 2 - with 64 added\n    switch (ev.type) {\n      case 'mousedown':\n        button = ev.button != null\n          ? +ev.button\n          : ev.which != null\n            ? ev.which - 1\n            : null;\n\n        if (self.isMSIE) {\n          button = button === 1 ? 0 : button === 4 ? 1 : button;\n        }\n        break;\n      case 'mouseup':\n        button = 3;\n        break;\n      case 'DOMMouseScroll':\n        button = ev.detail < 0\n          ? 64\n          : 65;\n        break;\n      case 'mousewheel':\n        button = ev.wheelDeltaY > 0\n          ? 64\n          : 65;\n        break;\n    }\n\n    // next three bits are the modifiers:\n    // 4 = shift, 8 = meta, 16 = control\n    shift = ev.shiftKey ? 4 : 0;\n    meta = ev.metaKey ? 8 : 0;\n    ctrl = ev.ctrlKey ? 16 : 0;\n    mod = shift | meta | ctrl;\n\n    // no mods\n    if (self.vt200Mouse) {\n      // ctrl only\n      mod &= ctrl;\n    } else if (!self.normalMouse) {\n      mod = 0;\n    }\n\n    // increment to SP\n    button = (32 + (mod << 2)) + button;\n\n    return button;\n  }\n\n  // mouse coordinates measured in cols/rows\n  function getCoords(ev) {\n    var x, y, w, h, el;\n\n    // ignore browsers without pageX for now\n    if (ev.pageX == null) return;\n\n    x = ev.pageX;\n    y = ev.pageY;\n    el = self.element;\n\n    // should probably check offsetParent\n    // but this is more portable\n    while (el && el !== self.document.documentElement) {\n      x -= el.offsetLeft;\n      y -= el.offsetTop;\n      el = 'offsetParent' in el\n        ? el.offsetParent\n        : el.parentNode;\n    }\n\n    // convert to cols/rows\n    w = self.element.clientWidth;\n    h = self.element.clientHeight;\n    x = Math.round((x / w) * self.cols);\n    y = Math.round((y / h) * self.rows);\n\n    // be sure to avoid sending\n    // bad positions to the program\n    if (x < 0) x = 0;\n    if (x > self.cols) x = self.cols;\n    if (y < 0) y = 0;\n    if (y > self.rows) y = self.rows;\n\n    // xterm sends raw bytes and\n    // starts at 32 (SP) for each.\n    x += 32;\n    y += 32;\n\n    return {\n      x: x,\n      y: y,\n      type: ev.type === wheelEvent\n        ? 'mousewheel'\n        : ev.type\n    };\n  }\n\n  on(el, 'mousedown', function(ev) {\n    if (!self.mouseEvents) return;\n\n    // send the button\n    sendButton(ev);\n\n    // ensure focus\n    self.focus();\n\n    // fix for odd bug\n    //if (self.vt200Mouse && !self.normalMouse) {\n    // XXX This seems to break certain programs.\n    // if (self.vt200Mouse) {\n    //   sendButton({ __proto__: ev, type: 'mouseup' });\n    //   return cancel(ev);\n    // }\n\n    // bind events\n    if (self.normalMouse) on(self.document, 'mousemove', sendMove);\n\n    // x10 compatibility mode can't send button releases\n    if (!self.x10Mouse) {\n      on(self.document, 'mouseup', function up(ev) {\n        sendButton(ev);\n        if (self.normalMouse) off(self.document, 'mousemove', sendMove);\n        off(self.document, 'mouseup', up);\n        return cancel(ev);\n      });\n    }\n  });\n\n  //if (self.normalMouse) {\n  //  on(self.document, 'mousemove', sendMove);\n  //}\n\n  on(el, wheelEvent, function(ev) {\n    if (!self.mouseEvents) return;\n    if (self.x10Mouse\n        || self.vt300Mouse\n        || self.decLocator) return;\n    sendButton(ev);\n    return cancel(ev);\n  });\n\n  // allow mousewheel scrolling in\n  // the shell for example\n  on(el, wheelEvent, function(ev) {\n    if (self.mouseEvents) return;\n    if (self.applicationKeypad) return;\n    if (ev.type === 'DOMMouseScroll') {\n      self.scrollDisp(ev.detail < 0 ? -5 : 5);\n    } else {\n      self.scrollDisp(ev.wheelDeltaY > 0 ? -5 : 5);\n    }\n    return cancel(ev);\n  });\n};\n\n/**\n * Destroy Terminal\n */\n\nTerminal.prototype.close =\nTerminal.prototype.destroySoon =\nTerminal.prototype.destroy = function() {\n  if (this.destroyed) {\n    return;\n  }\n\n  if (this._blink) {\n    clearInterval(this._blink);\n    delete this._blink;\n  }\n\n  this.readable = false;\n  this.writable = false;\n  this.destroyed = true;\n  this._events = {};\n\n  this.handler = function() {};\n  this.write = function() {};\n  this.end = function() {};\n\n  if (this.element.parentNode) {\n    this.element.parentNode.removeChild(this.element);\n  }\n\n  this.emit('end');\n  this.emit('close');\n  this.emit('finish');\n  this.emit('destroy');\n};\n\n/**\n * Rendering Engine\n */\n\n// In the screen buffer, each character\n// is stored as a an array with a character\n// and a 32-bit integer.\n// First value: a utf-16 character.\n// Second value:\n// Next 9 bits: background color (0-511).\n// Next 9 bits: foreground color (0-511).\n// Next 14 bits: a mask for misc. flags:\n//   1=bold, 2=underline, 4=blink, 8=inverse, 16=invisible\n\nTerminal.prototype.refresh = function(start, end) {\n  var x\n    , y\n    , i\n    , line\n    , out\n    , ch\n    , width\n    , data\n    , attr\n    , bg\n    , fg\n    , flags\n    , row\n    , parent;\n\n  width = this.cols;\n  y = start;\n\n  if (end >= this.lines.length) {\n    this.log('`end` is too large. Most likely a bad CSR.');\n    end = this.lines.length - 1;\n  }\n\n  for (; y <= end; y++) {\n    row = y + this.ydisp;\n\n    line = this.lines[row];\n    out = '';\n\n    if (y === this.y\n        && (this.ydisp === this.ybase || this.selectMode)\n        && !this.cursorHidden) {\n      x = this.x;\n    } else {\n      x = -1;\n    }\n\n    attr = this.defAttr;\n    i = 0;\n\n    for (; i < width; i++) {\n      data = line[i][0];\n      ch = line[i][1];\n\n      if (i === x) data = -1;\n\n      if (data !== attr) {\n        if (attr !== this.defAttr) {\n          out += '</span>';\n        }\n        if (data !== this.defAttr) {\n          if (data === -1) {\n            out += '<span class=\"reverse-video terminal-cursor\">';\n          } else {\n            out += '<span class=\"';\n\n            bg = data & 0x1ff;\n            fg = (data >> 9) & 0x1ff;\n            flags = data >> 18;\n\n            // bold\n            if (flags & 1) {\n              if (!Terminal.brokenBold) {\n                out += 'term-bold '\n              }\n              // See: XTerm*boldColors\n              if (fg < 8) fg += 8;\n            }\n\n            // underline\n            if (flags & 2) {\n              out += 'term-underline ';\n            }\n\n            // blink\n            if (flags & 4) {\n              out += 'term-blink ';\n            }\n\n            // inverse\n            if (flags & 8) {\n              bg = (data >> 9) & 0x1ff;\n              fg = data & 0x1ff;\n              // Should inverse just be before the\n              // above boldColors effect instead?\n              if ((flags & 1) && fg < 8) fg += 8;\n            }\n\n            // invisible\n            if (flags & 16) {\n              out += 'term-hidden ';\n            }\n\n            if (bg !== 256) {\n              out += 'term-bg-color-' + bg + ' ';\n            }\n\n            if (fg !== 257) {\n              out += 'term-fg-color-' + fg + ' ';\n            }\n\n            out += '\">';\n          }\n        }\n      }\n\n      switch (ch) {\n        case '&':\n          out += '&amp;';\n          break;\n        case '<':\n          out += '&lt;';\n          break;\n        case '>':\n          out += '&gt;';\n          break;\n        default:\n          if (ch <= ' ') {\n            out += '&nbsp;';\n          } else {\n            if (isWide(ch)) i++;\n            out += ch;\n          }\n          break;\n      }\n\n      attr = data;\n    }\n\n    if (attr !== this.defAttr) {\n      out += '</span>';\n    }\n\n    this.children[y].innerHTML = out;\n  }\n};\n\nTerminal.prototype.showCursor = function() {\n  this.cursorHidden = false;\n  this.refresh(this.y, this.y);\n};\n\nTerminal.prototype.scroll = function() {\n  var row;\n\n  if (++this.ybase === this.scrollback) {\n    this.ybase = this.ybase / 2 | 0;\n    this.lines = this.lines.slice(-(this.ybase + this.rows) + 1);\n  }\n\n  this.ydisp = this.ybase;\n\n  // last line\n  row = this.ybase + this.rows - 1;\n\n  // subtract the bottom scroll region\n  row -= this.rows - 1 - this.scrollBottom;\n\n  if (row === this.lines.length) {\n    // potential optimization:\n    // pushing is faster than splicing\n    // when they amount to the same\n    // behavior.\n    this.lines.push(this.blankLine());\n  } else {\n    // add our new line\n    this.lines.splice(row, 0, this.blankLine());\n  }\n\n  if (this.scrollTop !== 0) {\n    if (this.ybase !== 0) {\n      this.ybase--;\n      this.ydisp = this.ybase;\n    }\n    this.lines.splice(this.ybase + this.scrollTop, 1);\n  }\n\n  // this.maxRange();\n  this.updateRange(this.scrollTop);\n  this.updateRange(this.scrollBottom);\n};\n\nTerminal.prototype.scrollDisp = function(disp) {\n  this.ydisp += disp;\n\n  if (this.ydisp > this.ybase) {\n    this.ydisp = this.ybase;\n  } else if (this.ydisp < 0) {\n    this.ydisp = 0;\n  }\n\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.write = function(data) {\n  var l = data.length\n    , i = 0\n    , j\n    , cs\n    , ch;\n\n  this.refreshStart = this.y;\n  this.refreshEnd = this.y;\n\n  if (this.ybase !== this.ydisp) {\n    this.ydisp = this.ybase;\n    this.maxRange();\n  }\n\n  // this.log(JSON.stringify(data.replace(/\\x1b/g, '^[')));\n\n  for (; i < l; i++, this.lch = ch) {\n    ch = data[i];\n    switch (this.state) {\n      case normal:\n        switch (ch) {\n          // '\\0'\n          // case '\\0':\n          // case '\\200':\n          //   break;\n\n          // '\\a'\n          case '\\x07':\n            this.bell();\n            break;\n\n          // '\\n', '\\v', '\\f'\n          case '\\n':\n          case '\\x0b':\n          case '\\x0c':\n            if (this.convertEol) {\n              this.x = 0;\n            }\n            // TODO: Implement eat_newline_glitch.\n            // if (this.realX >= this.cols) break;\n            // this.realX = 0;\n            this.y++;\n            if (this.y > this.scrollBottom) {\n              this.y--;\n              this.scroll();\n            }\n            break;\n\n          // '\\r'\n          case '\\r':\n            this.x = 0;\n            break;\n\n          // '\\b'\n          case '\\x08':\n            if (this.x > 0) {\n              this.x--;\n            }\n            break;\n\n          // '\\t'\n          case '\\t':\n            this.x = this.nextStop();\n            break;\n\n          // shift out\n          case '\\x0e':\n            this.setgLevel(1);\n            break;\n\n          // shift in\n          case '\\x0f':\n            this.setgLevel(0);\n            break;\n\n          // '\\e'\n          case '\\x1b':\n            this.state = escaped;\n            break;\n\n          default:\n            // ' '\n            if (ch >= ' ') {\n              if (this.charset && this.charset[ch]) {\n                ch = this.charset[ch];\n              }\n\n              if (this.x >= this.cols) {\n                this.x = 0;\n                this.y++;\n                if (this.y > this.scrollBottom) {\n                  this.y--;\n                  this.scroll();\n                }\n              }\n\n              this.lines[this.y + this.ybase][this.x] = [this.curAttr, ch];\n              this.x++;\n              this.updateRange(this.y);\n\n              if (isWide(ch)) {\n                j = this.y + this.ybase;\n                if (this.cols < 2 || this.x >= this.cols) {\n                  this.lines[j][this.x - 1] = [this.curAttr, ' '];\n                  break;\n                }\n                this.lines[j][this.x] = [this.curAttr, ' '];\n                this.x++;\n              }\n            }\n            break;\n        }\n        break;\n      case escaped:\n        switch (ch) {\n          // ESC [ Control Sequence Introducer ( CSI is 0x9b).\n          case '[':\n            this.params = [];\n            this.currentParam = 0;\n            this.state = csi;\n            break;\n\n          // ESC ] Operating System Command ( OSC is 0x9d).\n          case ']':\n            this.params = [];\n            this.currentParam = 0;\n            this.state = osc;\n            break;\n\n          // ESC P Device Control String ( DCS is 0x90).\n          case 'P':\n            this.params = [];\n            this.prefix = '';\n            this.currentParam = '';\n            this.state = dcs;\n            break;\n\n          // ESC _ Application Program Command ( APC is 0x9f).\n          case '_':\n            this.state = ignore;\n            break;\n\n          // ESC ^ Privacy Message ( PM is 0x9e).\n          case '^':\n            this.state = ignore;\n            break;\n\n          // ESC c Full Reset (RIS).\n          case 'c':\n            this.reset();\n            break;\n\n          // ESC E Next Line ( NEL is 0x85).\n          // ESC D Index ( IND is 0x84).\n          case 'E':\n            this.x = 0;\n            ;\n          case 'D':\n            this.index();\n            break;\n\n          // ESC M Reverse Index ( RI is 0x8d).\n          case 'M':\n            this.reverseIndex();\n            break;\n\n          // ESC % Select default/utf-8 character set.\n          // @ = default, G = utf-8\n          case '%':\n            //this.charset = null;\n            this.setgLevel(0);\n            this.setgCharset(0, Terminal.charsets.US);\n            this.state = normal;\n            i++;\n            break;\n\n          // ESC (,),*,+,-,. Designate G0-G2 Character Set.\n          case '(': // <-- this seems to get all the attention\n          case ')':\n          case '*':\n          case '+':\n          case '-':\n          case '.':\n            switch (ch) {\n              case '(':\n                this.gcharset = 0;\n                break;\n              case ')':\n                this.gcharset = 1;\n                break;\n              case '*':\n                this.gcharset = 2;\n                break;\n              case '+':\n                this.gcharset = 3;\n                break;\n              case '-':\n                this.gcharset = 1;\n                break;\n              case '.':\n                this.gcharset = 2;\n                break;\n            }\n            this.state = charset;\n            break;\n\n          // Designate G3 Character Set (VT300).\n          // A = ISO Latin-1 Supplemental.\n          // Not implemented.\n          case '/':\n            this.gcharset = 3;\n            this.state = charset;\n            i--;\n            break;\n\n          // ESC N\n          // Single Shift Select of G2 Character Set\n          // ( SS2 is 0x8e). This affects next character only.\n          case 'N':\n            break;\n          // ESC O\n          // Single Shift Select of G3 Character Set\n          // ( SS3 is 0x8f). This affects next character only.\n          case 'O':\n            break;\n          // ESC n\n          // Invoke the G2 Character Set as GL (LS2).\n          case 'n':\n            this.setgLevel(2);\n            break;\n          // ESC o\n          // Invoke the G3 Character Set as GL (LS3).\n          case 'o':\n            this.setgLevel(3);\n            break;\n          // ESC |\n          // Invoke the G3 Character Set as GR (LS3R).\n          case '|':\n            this.setgLevel(3);\n            break;\n          // ESC }\n          // Invoke the G2 Character Set as GR (LS2R).\n          case '}':\n            this.setgLevel(2);\n            break;\n          // ESC ~\n          // Invoke the G1 Character Set as GR (LS1R).\n          case '~':\n            this.setgLevel(1);\n            break;\n\n          // ESC 7 Save Cursor (DECSC).\n          case '7':\n            this.saveCursor();\n            this.state = normal;\n            break;\n\n          // ESC 8 Restore Cursor (DECRC).\n          case '8':\n            this.restoreCursor();\n            this.state = normal;\n            break;\n\n          // ESC # 3 DEC line height/width\n          case '#':\n            this.state = normal;\n            i++;\n            break;\n\n          // ESC H Tab Set (HTS is 0x88).\n          case 'H':\n            this.tabSet();\n            break;\n\n          // ESC = Application Keypad (DECPAM).\n          case '=':\n            this.log('Serial port requested application keypad.');\n            this.applicationKeypad = true;\n            this.state = normal;\n            break;\n\n          // ESC > Normal Keypad (DECPNM).\n          case '>':\n            this.log('Switching back to normal keypad.');\n            this.applicationKeypad = false;\n            this.state = normal;\n            break;\n\n          default:\n            this.state = normal;\n            this.error('Unknown ESC control: %s.', ch);\n            break;\n        }\n        break;\n\n      case charset:\n        switch (ch) {\n          case '0': // DEC Special Character and Line Drawing Set.\n            cs = Terminal.charsets.SCLD;\n            break;\n          case 'A': // UK\n            cs = Terminal.charsets.UK;\n            break;\n          case 'B': // United States (USASCII).\n            cs = Terminal.charsets.US;\n            break;\n          case '4': // Dutch\n            cs = Terminal.charsets.Dutch;\n            break;\n          case 'C': // Finnish\n          case '5':\n            cs = Terminal.charsets.Finnish;\n            break;\n          case 'R': // French\n            cs = Terminal.charsets.French;\n            break;\n          case 'Q': // FrenchCanadian\n            cs = Terminal.charsets.FrenchCanadian;\n            break;\n          case 'K': // German\n            cs = Terminal.charsets.German;\n            break;\n          case 'Y': // Italian\n            cs = Terminal.charsets.Italian;\n            break;\n          case 'E': // NorwegianDanish\n          case '6':\n            cs = Terminal.charsets.NorwegianDanish;\n            break;\n          case 'Z': // Spanish\n            cs = Terminal.charsets.Spanish;\n            break;\n          case 'H': // Swedish\n          case '7':\n            cs = Terminal.charsets.Swedish;\n            break;\n          case '=': // Swiss\n            cs = Terminal.charsets.Swiss;\n            break;\n          case '/': // ISOLatin (actually /A)\n            cs = Terminal.charsets.ISOLatin;\n            i++;\n            break;\n          default: // Default\n            cs = Terminal.charsets.US;\n            break;\n        }\n        this.setgCharset(this.gcharset, cs);\n        this.gcharset = null;\n        this.state = normal;\n        break;\n\n      case osc:\n        // OSC Ps ; Pt ST\n        // OSC Ps ; Pt BEL\n        //   Set Text Parameters.\n        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n          if (this.lch === '\\x1b') {\n            if (typeof this.currentParam === 'string') {\n              this.currentParam = this.currentParam.slice(0, -1);\n            } else if (typeof this.currentParam == 'number') {\n              this.currentParam = (this.currentParam - ('\\x1b'.charCodeAt(0) - 48)) / 10;\n            }\n          }\n\n          this.params.push(this.currentParam);\n\n          switch (this.params[0]) {\n            case 0:\n            case 1:\n            case 2:\n              if (this.params[1]) {\n                this.title = this.params[1];\n                this.handleTitle(this.title);\n              }\n              break;\n            case 3:\n              // set X property\n              break;\n            case 4:\n            case 5:\n              // change dynamic colors\n              break;\n            case 10:\n            case 11:\n            case 12:\n            case 13:\n            case 14:\n            case 15:\n            case 16:\n            case 17:\n            case 18:\n            case 19:\n              // change dynamic ui colors\n              break;\n            case 46:\n              // change log file\n              break;\n            case 50:\n              // dynamic font\n              break;\n            case 51:\n              // emacs shell\n              break;\n            case 52:\n              // manipulate selection data\n              break;\n            case 104:\n            case 105:\n            case 110:\n            case 111:\n            case 112:\n            case 113:\n            case 114:\n            case 115:\n            case 116:\n            case 117:\n            case 118:\n              // reset colors\n              break;\n          }\n\n          this.params = [];\n          this.currentParam = 0;\n          this.state = normal;\n        } else {\n          if (!this.params.length) {\n            if (ch >= '0' && ch <= '9') {\n              this.currentParam =\n                this.currentParam * 10 + ch.charCodeAt(0) - 48;\n            } else if (ch === ';') {\n              this.params.push(this.currentParam);\n              this.currentParam = '';\n            }\n          } else {\n            this.currentParam += ch;\n          }\n        }\n        break;\n\n      case csi:\n        // '?', '>', '!'\n        if (ch === '?' || ch === '>' || ch === '!') {\n          this.prefix = ch;\n          break;\n        }\n\n        // 0 - 9\n        if (ch >= '0' && ch <= '9') {\n          this.currentParam = this.currentParam * 10 + ch.charCodeAt(0) - 48;\n          break;\n        }\n\n        // '$', '\"', ' ', '\\''\n        if (ch === '$' || ch === '\"' || ch === ' ' || ch === '\\'') {\n          this.postfix = ch;\n          break;\n        }\n\n        this.params.push(this.currentParam);\n        this.currentParam = 0;\n\n        // ';'\n        if (ch === ';') break;\n\n        this.state = normal;\n\n        switch (ch) {\n          // CSI Ps A\n          // Cursor Up Ps Times (default = 1) (CUU).\n          case 'A':\n            this.cursorUp(this.params);\n            break;\n\n          // CSI Ps B\n          // Cursor Down Ps Times (default = 1) (CUD).\n          case 'B':\n            this.cursorDown(this.params);\n            break;\n\n          // CSI Ps C\n          // Cursor Forward Ps Times (default = 1) (CUF).\n          case 'C':\n            this.cursorForward(this.params);\n            break;\n\n          // CSI Ps D\n          // Cursor Backward Ps Times (default = 1) (CUB).\n          case 'D':\n            this.cursorBackward(this.params);\n            break;\n\n          // CSI Ps ; Ps H\n          // Cursor Position [row;column] (default = [1,1]) (CUP).\n          case 'H':\n            this.cursorPos(this.params);\n            break;\n\n          // CSI Ps J  Erase in Display (ED).\n          case 'J':\n            this.eraseInDisplay(this.params);\n            break;\n\n          // CSI Ps K  Erase in Line (EL).\n          case 'K':\n            this.eraseInLine(this.params);\n            break;\n\n          // CSI Pm m  Character Attributes (SGR).\n          case 'm':\n            if (!this.prefix) {\n              this.charAttributes(this.params);\n            }\n            break;\n\n          // CSI Ps n  Device Status Report (DSR).\n          case 'n':\n            if (!this.prefix) {\n              this.deviceStatus(this.params);\n            }\n            break;\n\n          /**\n           * Additions\n           */\n\n          // CSI Ps @\n          // Insert Ps (Blank) Character(s) (default = 1) (ICH).\n          case '@':\n            this.insertChars(this.params);\n            break;\n\n          // CSI Ps E\n          // Cursor Next Line Ps Times (default = 1) (CNL).\n          case 'E':\n            this.cursorNextLine(this.params);\n            break;\n\n          // CSI Ps F\n          // Cursor Preceding Line Ps Times (default = 1) (CNL).\n          case 'F':\n            this.cursorPrecedingLine(this.params);\n            break;\n\n          // CSI Ps G\n          // Cursor Character Absolute  [column] (default = [row,1]) (CHA).\n          case 'G':\n            this.cursorCharAbsolute(this.params);\n            break;\n\n          // CSI Ps L\n          // Insert Ps Line(s) (default = 1) (IL).\n          case 'L':\n            this.insertLines(this.params);\n            break;\n\n          // CSI Ps M\n          // Delete Ps Line(s) (default = 1) (DL).\n          case 'M':\n            this.deleteLines(this.params);\n            break;\n\n          // CSI Ps P\n          // Delete Ps Character(s) (default = 1) (DCH).\n          case 'P':\n            this.deleteChars(this.params);\n            break;\n\n          // CSI Ps X\n          // Erase Ps Character(s) (default = 1) (ECH).\n          case 'X':\n            this.eraseChars(this.params);\n            break;\n\n          // CSI Pm `  Character Position Absolute\n          //   [column] (default = [row,1]) (HPA).\n          case '`':\n            this.charPosAbsolute(this.params);\n            break;\n\n          // 141 61 a * HPR -\n          // Horizontal Position Relative\n          case 'a':\n            this.HPositionRelative(this.params);\n            break;\n\n          // CSI P s c\n          // Send Device Attributes (Primary DA).\n          // CSI > P s c\n          // Send Device Attributes (Secondary DA)\n          case 'c':\n            this.sendDeviceAttributes(this.params);\n            break;\n\n          // CSI Pm d\n          // Line Position Absolute  [row] (default = [1,column]) (VPA).\n          case 'd':\n            this.linePosAbsolute(this.params);\n            break;\n\n          // 145 65 e * VPR - Vertical Position Relative\n          case 'e':\n            this.VPositionRelative(this.params);\n            break;\n\n          // CSI Ps ; Ps f\n          //   Horizontal and Vertical Position [row;column] (default =\n          //   [1,1]) (HVP).\n          case 'f':\n            this.HVPosition(this.params);\n            break;\n\n          // CSI Pm h  Set Mode (SM).\n          // CSI ? Pm h - mouse escape codes, cursor escape codes\n          case 'h':\n            this.setMode(this.params);\n            break;\n\n          // CSI Pm l  Reset Mode (RM).\n          // CSI ? Pm l\n          case 'l':\n            this.resetMode(this.params);\n            break;\n\n          // CSI Ps ; Ps r\n          //   Set Scrolling Region [top;bottom] (default = full size of win-\n          //   dow) (DECSTBM).\n          // CSI ? Pm r\n          case 'r':\n            this.setScrollRegion(this.params);\n            break;\n\n          // CSI s\n          //   Save cursor (ANSI.SYS).\n          case 's':\n            this.saveCursor(this.params);\n            break;\n\n          // CSI u\n          //   Restore cursor (ANSI.SYS).\n          case 'u':\n            this.restoreCursor(this.params);\n            break;\n\n          /**\n           * Lesser Used\n           */\n\n          // CSI Ps I\n          // Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\n          case 'I':\n            this.cursorForwardTab(this.params);\n            break;\n\n          // CSI Ps S  Scroll up Ps lines (default = 1) (SU).\n          case 'S':\n            this.scrollUp(this.params);\n            break;\n\n          // CSI Ps T  Scroll down Ps lines (default = 1) (SD).\n          // CSI Ps ; Ps ; Ps ; Ps ; Ps T\n          // CSI > Ps; Ps T\n          case 'T':\n            // if (this.prefix === '>') {\n            //   this.resetTitleModes(this.params);\n            //   break;\n            // }\n            // if (this.params.length > 2) {\n            //   this.initMouseTracking(this.params);\n            //   break;\n            // }\n            if (this.params.length < 2 && !this.prefix) {\n              this.scrollDown(this.params);\n            }\n            break;\n\n          // CSI Ps Z\n          // Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\n          case 'Z':\n            this.cursorBackwardTab(this.params);\n            break;\n\n          // CSI Ps b  Repeat the preceding graphic character Ps times (REP).\n          case 'b':\n            this.repeatPrecedingCharacter(this.params);\n            break;\n\n          // CSI Ps g  Tab Clear (TBC).\n          case 'g':\n            this.tabClear(this.params);\n            break;\n\n          // CSI Pm i  Media Copy (MC).\n          // CSI ? Pm i\n          // case 'i':\n          //   this.mediaCopy(this.params);\n          //   break;\n\n          // CSI Pm m  Character Attributes (SGR).\n          // CSI > Ps; Ps m\n          // case 'm': // duplicate\n          //   if (this.prefix === '>') {\n          //     this.setResources(this.params);\n          //   } else {\n          //     this.charAttributes(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps n  Device Status Report (DSR).\n          // CSI > Ps n\n          // case 'n': // duplicate\n          //   if (this.prefix === '>') {\n          //     this.disableModifiers(this.params);\n          //   } else {\n          //     this.deviceStatus(this.params);\n          //   }\n          //   break;\n\n          // CSI > Ps p  Set pointer mode.\n          // CSI ! p   Soft terminal reset (DECSTR).\n          // CSI Ps$ p\n          //   Request ANSI mode (DECRQM).\n          // CSI ? Ps$ p\n          //   Request DEC private mode (DECRQM).\n          // CSI Ps ; Ps \" p\n          case 'p':\n            switch (this.prefix) {\n              // case '>':\n              //   this.setPointerMode(this.params);\n              //   break;\n              case '!':\n                this.softReset(this.params);\n                break;\n              // case '?':\n              //   if (this.postfix === '$') {\n              //     this.requestPrivateMode(this.params);\n              //   }\n              //   break;\n              // default:\n              //   if (this.postfix === '\"') {\n              //     this.setConformanceLevel(this.params);\n              //   } else if (this.postfix === '$') {\n              //     this.requestAnsiMode(this.params);\n              //   }\n              //   break;\n            }\n            break;\n\n          // CSI Ps q  Load LEDs (DECLL).\n          // CSI Ps SP q\n          // CSI Ps \" q\n          // case 'q':\n          //   if (this.postfix === ' ') {\n          //     this.setCursorStyle(this.params);\n          //     break;\n          //   }\n          //   if (this.postfix === '\"') {\n          //     this.setCharProtectionAttr(this.params);\n          //     break;\n          //   }\n          //   this.loadLEDs(this.params);\n          //   break;\n\n          // CSI Ps ; Ps r\n          //   Set Scrolling Region [top;bottom] (default = full size of win-\n          //   dow) (DECSTBM).\n          // CSI ? Pm r\n          // CSI Pt; Pl; Pb; Pr; Ps$ r\n          // case 'r': // duplicate\n          //   if (this.prefix === '?') {\n          //     this.restorePrivateValues(this.params);\n          //   } else if (this.postfix === '$') {\n          //     this.setAttrInRectangle(this.params);\n          //   } else {\n          //     this.setScrollRegion(this.params);\n          //   }\n          //   break;\n\n          // CSI s     Save cursor (ANSI.SYS).\n          // CSI ? Pm s\n          // case 's': // duplicate\n          //   if (this.prefix === '?') {\n          //     this.savePrivateValues(this.params);\n          //   } else {\n          //     this.saveCursor(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps ; Ps ; Ps t\n          // CSI Pt; Pl; Pb; Pr; Ps$ t\n          // CSI > Ps; Ps t\n          // CSI Ps SP t\n          // case 't':\n          //   if (this.postfix === '$') {\n          //     this.reverseAttrInRectangle(this.params);\n          //   } else if (this.postfix === ' ') {\n          //     this.setWarningBellVolume(this.params);\n          //   } else {\n          //     if (this.prefix === '>') {\n          //       this.setTitleModeFeature(this.params);\n          //     } else {\n          //       this.manipulateWindow(this.params);\n          //     }\n          //   }\n          //   break;\n\n          // CSI u     Restore cursor (ANSI.SYS).\n          // CSI Ps SP u\n          // case 'u': // duplicate\n          //   if (this.postfix === ' ') {\n          //     this.setMarginBellVolume(this.params);\n          //   } else {\n          //     this.restoreCursor(this.params);\n          //   }\n          //   break;\n\n          // CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n          // case 'v':\n          //   if (this.postfix === '$') {\n          //     this.copyRectagle(this.params);\n          //   }\n          //   break;\n\n          // CSI Pt ; Pl ; Pb ; Pr ' w\n          // case 'w':\n          //   if (this.postfix === '\\'') {\n          //     this.enableFilterRectangle(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n          // CSI Ps x  Select Attribute Change Extent (DECSACE).\n          // CSI Pc; Pt; Pl; Pb; Pr$ x\n          // case 'x':\n          //   if (this.postfix === '$') {\n          //     this.fillRectangle(this.params);\n          //   } else {\n          //     this.requestParameters(this.params);\n          //     //this.__(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps ; Pu ' z\n          // CSI Pt; Pl; Pb; Pr$ z\n          // case 'z':\n          //   if (this.postfix === '\\'') {\n          //     this.enableLocatorReporting(this.params);\n          //   } else if (this.postfix === '$') {\n          //     this.eraseRectangle(this.params);\n          //   }\n          //   break;\n\n          // CSI Pm ' {\n          // CSI Pt; Pl; Pb; Pr$ {\n          // case '{':\n          //   if (this.postfix === '\\'') {\n          //     this.setLocatorEvents(this.params);\n          //   } else if (this.postfix === '$') {\n          //     this.selectiveEraseRectangle(this.params);\n          //   }\n          //   break;\n\n          // CSI Ps ' |\n          // case '|':\n          //   if (this.postfix === '\\'') {\n          //     this.requestLocatorPosition(this.params);\n          //   }\n          //   break;\n\n          // CSI P m SP }\n          // Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n          // case '}':\n          //   if (this.postfix === ' ') {\n          //     this.insertColumns(this.params);\n          //   }\n          //   break;\n\n          // CSI P m SP ~\n          // Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n          // case '~':\n          //   if (this.postfix === ' ') {\n          //     this.deleteColumns(this.params);\n          //   }\n          //   break;\n\n          default:\n            this.error('Unknown CSI code: %s.', ch);\n            break;\n        }\n\n        this.prefix = '';\n        this.postfix = '';\n        break;\n\n      case dcs:\n        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n          // Workarounds:\n          if (this.prefix === 'tmux;\\x1b') {\n            // `DCS tmux; Pt ST` may contain a Pt with an ST\n            // XXX Does tmux work this way?\n            // if (this.lch === '\\x1b' & data[i + 1] === '\\x1b' && data[i + 2] === '\\\\') {\n            //   this.currentParam += ch;\n            //   continue;\n            // }\n            // Tmux only accepts ST, not BEL:\n            if (ch === '\\x07') {\n              this.currentParam += ch;\n              continue;\n            }\n          }\n\n          if (this.lch === '\\x1b') {\n            if (typeof this.currentParam === 'string') {\n              this.currentParam = this.currentParam.slice(0, -1);\n            } else if (typeof this.currentParam == 'number') {\n              this.currentParam = (this.currentParam - ('\\x1b'.charCodeAt(0) - 48)) / 10;\n            }\n          }\n\n          this.params.push(this.currentParam);\n\n          var pt = this.params[this.params.length - 1];\n\n          switch (this.prefix) {\n            // User-Defined Keys (DECUDK).\n            // DCS Ps; Ps| Pt ST\n            case UDK:\n              this.emit('udk', {\n                clearAll: this.params[0] === 0,\n                eraseBelow: this.params[0] === 1,\n                lockKeys: this.params[1] === 0,\n                dontLockKeys: this.params[1] === 1,\n                keyList: (this.params[2] + '').split(';').map(function(part) {\n                  part = part.split('/');\n                  return {\n                    keyCode: part[0],\n                    hexKeyValue: part[1]\n                  };\n                })\n              });\n              break;\n\n            // Request Status String (DECRQSS).\n            // DCS $ q Pt ST\n            // test: echo -e '\\eP$q\"p\\e\\\\'\n            case '$q':\n              var valid = 0;\n\n              switch (pt) {\n                // DECSCA\n                // CSI Ps \" q\n                case '\"q':\n                  pt = '0\"q';\n                  valid = 1;\n                  break;\n\n                // DECSCL\n                // CSI Ps ; Ps \" p\n                case '\"p':\n                  pt = '61;0\"p';\n                  valid = 1;\n                  break;\n\n                // DECSTBM\n                // CSI Ps ; Ps r\n                case 'r':\n                  pt = ''\n                    + (this.scrollTop + 1)\n                    + ';'\n                    + (this.scrollBottom + 1)\n                    + 'r';\n                  valid = 1;\n                  break;\n\n                // SGR\n                // CSI Pm m\n                case 'm':\n                  // TODO: Parse this.curAttr here.\n                  // pt = '0m';\n                  // valid = 1;\n                  valid = 0; // Not implemented.\n                  break;\n\n                default:\n                  this.error('Unknown DCS Pt: %s.', pt);\n                  valid = 0; // unimplemented\n                  break;\n              }\n\n              this.send('\\x1bP' + valid + '$r' + pt + '\\x1b\\\\');\n              break;\n\n            // Set Termcap/Terminfo Data (xterm, experimental).\n            // DCS + p Pt ST\n            case '+p':\n              this.emit('set terminfo', {\n                name: this.params[0]\n              });\n              break;\n\n            // Request Termcap/Terminfo String (xterm, experimental)\n            // Regular xterm does not even respond to this sequence.\n            // This can cause a small glitch in vim.\n            // DCS + q Pt ST\n            // test: echo -ne '\\eP+q6b64\\e\\\\'\n            case '+q':\n              var valid = false;\n              this.send('\\x1bP' + +valid + '+r' + pt + '\\x1b\\\\');\n              break;\n\n            // Implement tmux sequence forwarding is\n            // someone uses term.js for a multiplexer.\n            // DCS tmux; ESC Pt ST\n            case 'tmux;\\x1b':\n              this.emit('passthrough', pt);\n              break;\n\n            default:\n              this.error('Unknown DCS prefix: %s.', pt);\n              break;\n          }\n\n          this.currentParam = 0;\n          this.prefix = '';\n          this.state = normal;\n        } else {\n          this.currentParam += ch;\n          if (!this.prefix) {\n            if (/^\\d*;\\d*\\|/.test(this.currentParam)) {\n              this.prefix = UDK;\n              this.params = this.currentParam.split(/[;|]/).map(function(n) {\n                if (!n.length) return 0;\n                return +n;\n              }).slice(0, -1);\n              this.currentParam = '';\n            } else if (/^[$+][a-zA-Z]/.test(this.currentParam)\n                || /^\\w+;\\x1b/.test(this.currentParam)) {\n              this.prefix = this.currentParam;\n              this.currentParam = '';\n            }\n          }\n        }\n        break;\n\n      case ignore:\n        // For PM and APC.\n        if ((this.lch === '\\x1b' && ch === '\\\\') || ch === '\\x07') {\n          this.state = normal;\n        }\n        break;\n    }\n  }\n\n  this.updateRange(this.y);\n  this.refresh(this.refreshStart, this.refreshEnd);\n\n  return true;\n};\n\nTerminal.prototype.writeln = function(data) {\n  return this.write(data + '\\r\\n');\n};\n\nTerminal.prototype.end = function(data) {\n  var ret = true;\n  if (data) {\n    ret = this.write(data);\n  }\n  this.destroySoon();\n  return ret;\n};\n\nTerminal.prototype.resume = function() {\n  ;\n};\n\nTerminal.prototype.pause = function() {\n  ;\n};\n\n// Key Resources:\n// https://developer.mozilla.org/en-US/docs/DOM/KeyboardEvent\nTerminal.prototype.keyDown = function(ev) {\n  var self = this\n    , key;\n\n  switch (ev.keyCode) {\n    // backspace\n    case 8:\n      if (ev.altKey) {\n        key = '\\x17';\n        break;\n      }\n      if (ev.shiftKey) {\n        key = '\\x08'; // ^H\n        break;\n      }\n      key = '\\x7f'; // ^?\n      break;\n    // tab\n    case 9:\n      if (ev.shiftKey) {\n        key = '\\x1b[Z';\n        break;\n      }\n      key = '\\t';\n      break;\n    // return/enter\n    case 13:\n      key = '\\r';\n      break;\n    // escape\n    case 27:\n      key = '\\x1b';\n      break;\n    // space\n    case 32:\n      key = '\\x20';\n      break;\n    // left-arrow\n    case 37:\n      if (this.applicationCursor) {\n        key = '\\x1bOD'; // SS3 as ^[O for 7-bit\n        //key = '\\x8fD'; // SS3 as 0x8f for 8-bit\n        break;\n      }\n      if (ev.ctrlKey) {\n        key = '\\x1b[5D';\n        break;\n      }\n      key = '\\x1b[D';\n      break;\n    // right-arrow\n    case 39:\n      if (this.applicationCursor) {\n        key = '\\x1bOC';\n        break;\n      }\n      if (ev.ctrlKey) {\n        key = '\\x1b[5C';\n        break;\n      }\n      key = '\\x1b[C';\n      break;\n    // up-arrow\n    case 38:\n      if (this.applicationCursor) {\n        key = '\\x1bOA';\n        break;\n      }\n      if (ev.ctrlKey) {\n        this.scrollDisp(-1);\n        return cancel(ev);\n      } else {\n        key = '\\x1b[A';\n      }\n      break;\n    // down-arrow\n    case 40:\n      if (this.applicationCursor) {\n        key = '\\x1bOB';\n        break;\n      }\n      if (ev.ctrlKey) {\n        this.scrollDisp(1);\n        return cancel(ev);\n      } else {\n        key = '\\x1b[B';\n      }\n      break;\n    // delete\n    case 46:\n      key = '\\x1b[3~';\n      break;\n    // insert\n    case 45:\n      key = '\\x1b[2~';\n      break;\n    // home\n    case 36:\n      if (this.applicationKeypad) {\n        key = '\\x1bOH';\n        break;\n      }\n      key = '\\x1bOH';\n      break;\n    // end\n    case 35:\n      if (this.applicationKeypad) {\n        key = '\\x1bOF';\n        break;\n      }\n      key = '\\x1bOF';\n      break;\n    // page up\n    case 33:\n      if (ev.shiftKey) {\n        this.scrollDisp(-(this.rows - 1));\n        return cancel(ev);\n      } else {\n        key = '\\x1b[5~';\n      }\n      break;\n    // page down\n    case 34:\n      if (ev.shiftKey) {\n        this.scrollDisp(this.rows - 1);\n        return cancel(ev);\n      } else {\n        key = '\\x1b[6~';\n      }\n      break;\n    // F1\n    case 112:\n      key = '\\x1bOP';\n      break;\n    // F2\n    case 113:\n      key = '\\x1bOQ';\n      break;\n    // F3\n    case 114:\n      key = '\\x1bOR';\n      break;\n    // F4\n    case 115:\n      key = '\\x1bOS';\n      break;\n    // F5\n    case 116:\n      key = '\\x1b[15~';\n      break;\n    // F6\n    case 117:\n      key = '\\x1b[17~';\n      break;\n    // F7\n    case 118:\n      key = '\\x1b[18~';\n      break;\n    // F8\n    case 119:\n      key = '\\x1b[19~';\n      break;\n    // F9\n    case 120:\n      key = '\\x1b[20~';\n      break;\n    // F10\n    case 121:\n      key = '\\x1b[21~';\n      break;\n    // F11\n    case 122:\n      key = '\\x1b[23~';\n      break;\n    // F12\n    case 123:\n      key = '\\x1b[24~';\n      break;\n    default:\n      // a-z and space\n      if (ev.ctrlKey) {\n        if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n          // Ctrl-A\n          if (this.screenKeys) {\n            if (!this.prefixMode && !this.selectMode && ev.keyCode === 65) {\n              this.enterPrefix();\n              return cancel(ev);\n            }\n          }\n          // Ctrl-V\n          if (this.prefixMode && ev.keyCode === 86) {\n            this.leavePrefix();\n            return;\n          }\n          // Ctrl-C\n          if ((this.prefixMode || this.selectMode) && ev.keyCode === 67) {\n            if (this.visualMode) {\n              setTimeout(function() {\n                self.leaveVisual();\n              }, 1);\n            }\n            return;\n          }\n          key = String.fromCharCode(ev.keyCode - 64);\n        } else if (ev.keyCode === 32) {\n          // NUL\n          key = String.fromCharCode(0);\n        } else if (ev.keyCode >= 51 && ev.keyCode <= 55) {\n          // escape, file sep, group sep, record sep, unit sep\n          key = String.fromCharCode(ev.keyCode - 51 + 27);\n        } else if (ev.keyCode === 56) {\n          // delete\n          key = String.fromCharCode(127);\n        } else if (ev.keyCode === 219) {\n          // ^[ - escape\n          key = String.fromCharCode(27);\n        } else if (ev.keyCode === 221) {\n          // ^] - group sep\n          key = String.fromCharCode(29);\n        }\n      } else if (ev.altKey) {\n        if (ev.keyCode >= 65 && ev.keyCode <= 90) {\n          key = '\\x1b' + String.fromCharCode(ev.keyCode + 32);\n        } else if (ev.keyCode === 192) {\n          key = '\\x1b`';\n        } else if (ev.keyCode >= 48 && ev.keyCode <= 57) {\n          key = '\\x1b' + (ev.keyCode - 48);\n        }\n      }\n      break;\n  }\n\n  if (!key) return true;\n\n  if (this.prefixMode) {\n    this.leavePrefix();\n    return cancel(ev);\n  }\n\n  if (this.selectMode) {\n    this.keySelect(ev, key);\n    return cancel(ev);\n  }\n\n  this.emit('keydown', ev);\n  this.emit('key', key, ev);\n\n  this.handler(key);\n\n  return cancel(ev);\n};\n\nTerminal.prototype.setgLevel = function(g) {\n  this.glevel = g;\n  this.charset = this.charsets[g];\n};\n\nTerminal.prototype.setgCharset = function(g, charset) {\n  this.charsets[g] = charset;\n  if (this.glevel === g) {\n    this.charset = charset;\n  }\n};\n\nTerminal.prototype.keyPress = function(ev) {\n  var key;\n\n  cancel(ev);\n\n  if (ev.charCode) {\n    key = ev.charCode;\n  } else if (ev.which == null) {\n    key = ev.keyCode;\n  } else if (ev.which !== 0 && ev.charCode !== 0) {\n    key = ev.which;\n  } else {\n    return false;\n  }\n\n  if (!key || ev.ctrlKey || ev.altKey || ev.metaKey) return false;\n\n  key = String.fromCharCode(key);\n\n  if (this.prefixMode) {\n    this.leavePrefix();\n    this.keyPrefix(ev, key);\n    return false;\n  }\n\n  if (this.selectMode) {\n    this.keySelect(ev, key);\n    return false;\n  }\n\n  this.emit('keypress', key, ev);\n  this.emit('key', key, ev);\n\n  this.handler(key);\n\n  return false;\n};\n\nTerminal.prototype.send = function(data) {\n  var self = this;\n\n  if (!this.queue) {\n    setTimeout(function() {\n      self.handler(self.queue);\n      self.queue = '';\n    }, 1);\n  }\n\n  this.queue += data;\n};\n\nTerminal.prototype.bell = function() {\n  this.emit('bell');\n  if (!this.visualBell) return;\n  var self = this;\n  this.element.style.borderColor = 'white';\n  setTimeout(function() {\n    self.element.style.borderColor = '';\n  }, 10);\n  if (this.popOnBell) this.focus();\n};\n\nTerminal.prototype.log = function() {\n  if (!this.debug) return;\n  if (!this.context.console || !this.context.console.log) return;\n  var args = Array.prototype.slice.call(arguments);\n  this.context.console.log.apply(this.context.console, args);\n};\n\nTerminal.prototype.error = function() {\n  if (!this.debug) return;\n  if (!this.context.console || !this.context.console.error) return;\n  var args = Array.prototype.slice.call(arguments);\n  this.context.console.error.apply(this.context.console, args);\n};\n\nTerminal.prototype.resize = function(x, y) {\n  var line\n    , el\n    , i\n    , j\n    , ch;\n\n  if (x < 1) x = 1;\n  if (y < 1) y = 1;\n\n  // resize cols\n  j = this.cols;\n  if (j < x) {\n    ch = [this.defAttr, ' ']; // does xterm use the default attr?\n    i = this.lines.length;\n    while (i--) {\n      while (this.lines[i].length < x) {\n        this.lines[i].push(ch);\n      }\n    }\n  } else if (j > x) {\n    i = this.lines.length;\n    while (i--) {\n      while (this.lines[i].length > x) {\n        this.lines[i].pop();\n      }\n    }\n  }\n  this.setupStops(j);\n  this.cols = x;\n  this.columns = x;\n\n  // resize rows\n  j = this.rows;\n  if (j < y) {\n    el = this.element;\n    while (j++ < y) {\n      if (this.lines.length < y + this.ybase) {\n        this.lines.push(this.blankLine());\n      }\n      if (this.children.length < y) {\n        line = this.document.createElement('div');\n        el.appendChild(line);\n        this.children.push(line);\n      }\n    }\n  } else if (j > y) {\n    while (j-- > y) {\n      if (this.lines.length > y + this.ybase) {\n        this.lines.pop();\n      }\n      if (this.children.length > y) {\n        el = this.children.pop();\n        if (!el) continue;\n        el.parentNode.removeChild(el);\n      }\n    }\n  }\n  this.rows = y;\n\n  // make sure the cursor stays on screen\n  if (this.y >= y) this.y = y - 1;\n  if (this.x >= x) this.x = x - 1;\n\n  this.scrollTop = 0;\n  this.scrollBottom = y - 1;\n\n  this.refresh(0, this.rows - 1);\n\n  // it's a real nightmare trying\n  // to resize the original\n  // screen buffer. just set it\n  // to null for now.\n  this.normal = null;\n\n  // Act as though we are a node TTY stream:\n  this.emit('resize');\n};\n\nTerminal.prototype.updateRange = function(y) {\n  if (y < this.refreshStart) this.refreshStart = y;\n  if (y > this.refreshEnd) this.refreshEnd = y;\n  // if (y > this.refreshEnd) {\n  //   this.refreshEnd = y;\n  //   if (y > this.rows - 1) {\n  //     this.refreshEnd = this.rows - 1;\n  //   }\n  // }\n};\n\nTerminal.prototype.maxRange = function() {\n  this.refreshStart = 0;\n  this.refreshEnd = this.rows - 1;\n};\n\nTerminal.prototype.setupStops = function(i) {\n  if (i != null) {\n    if (!this.tabs[i]) {\n      i = this.prevStop(i);\n    }\n  } else {\n    this.tabs = {};\n    i = 0;\n  }\n\n  for (; i < this.cols; i += 8) {\n    this.tabs[i] = true;\n  }\n};\n\nTerminal.prototype.prevStop = function(x) {\n  if (x == null) x = this.x;\n  while (!this.tabs[--x] && x > 0);\n  return x >= this.cols\n    ? this.cols - 1\n    : x < 0 ? 0 : x;\n};\n\nTerminal.prototype.nextStop = function(x) {\n  if (x == null) x = this.x;\n  while (!this.tabs[++x] && x < this.cols);\n  return x >= this.cols\n    ? this.cols - 1\n    : x < 0 ? 0 : x;\n};\n\n// back_color_erase feature for xterm.\nTerminal.prototype.eraseAttr = function() {\n  // if (this.is('screen')) return this.defAttr;\n  return (this.defAttr & ~0x1ff) | (this.curAttr & 0x1ff);\n};\n\nTerminal.prototype.eraseRight = function(x, y) {\n  var line = this.lines[this.ybase + y]\n    , ch = [this.eraseAttr(), ' ']; // xterm\n\n\n  for (; x < this.cols; x++) {\n    line[x] = ch;\n  }\n\n  this.updateRange(y);\n};\n\nTerminal.prototype.eraseLeft = function(x, y) {\n  var line = this.lines[this.ybase + y]\n    , ch = [this.eraseAttr(), ' ']; // xterm\n\n  x++;\n  while (x--) line[x] = ch;\n\n  this.updateRange(y);\n};\n\nTerminal.prototype.eraseLine = function(y) {\n  this.eraseRight(0, y);\n};\n\nTerminal.prototype.blankLine = function(cur) {\n  var attr = cur\n    ? this.eraseAttr()\n    : this.defAttr;\n\n  var ch = [attr, ' ']\n    , line = []\n    , i = 0;\n\n  for (; i < this.cols; i++) {\n    line[i] = ch;\n  }\n\n  return line;\n};\n\nTerminal.prototype.ch = function(cur) {\n  return cur\n    ? [this.eraseAttr(), ' ']\n    : [this.defAttr, ' '];\n};\n\nTerminal.prototype.is = function(term) {\n  var name = this.termName;\n  return (name + '').indexOf(term) === 0;\n};\n\nTerminal.prototype.handler = function(data) {\n  this.emit('data', data);\n};\n\nTerminal.prototype.handleTitle = function(title) {\n  this.emit('title', title);\n};\n\n/**\n * ESC\n */\n\n// ESC D Index (IND is 0x84).\nTerminal.prototype.index = function() {\n  this.y++;\n  if (this.y > this.scrollBottom) {\n    this.y--;\n    this.scroll();\n  }\n  this.state = normal;\n};\n\n// ESC M Reverse Index (RI is 0x8d).\nTerminal.prototype.reverseIndex = function() {\n  var j;\n  this.y--;\n  if (this.y < this.scrollTop) {\n    this.y++;\n    // possibly move the code below to term.reverseScroll();\n    // test: echo -ne '\\e[1;1H\\e[44m\\eM\\e[0m'\n    // blankLine(true) is xterm/linux behavior\n    this.lines.splice(this.y + this.ybase, 0, this.blankLine(true));\n    j = this.rows - 1 - this.scrollBottom;\n    this.lines.splice(this.rows - 1 + this.ybase - j + 1, 1);\n    // this.maxRange();\n    this.updateRange(this.scrollTop);\n    this.updateRange(this.scrollBottom);\n  }\n  this.state = normal;\n};\n\n// ESC c Full Reset (RIS).\nTerminal.prototype.reset = function() {\n  this.options.rows = this.rows;\n  this.options.cols = this.cols;\n  Terminal.call(this, this.options);\n  this.refresh(0, this.rows - 1);\n};\n\n// ESC H Tab Set (HTS is 0x88).\nTerminal.prototype.tabSet = function() {\n  this.tabs[this.x] = true;\n  this.state = normal;\n};\n\n/**\n * CSI\n */\n\n// CSI Ps A\n// Cursor Up Ps Times (default = 1) (CUU).\nTerminal.prototype.cursorUp = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y -= param;\n  if (this.y < 0) this.y = 0;\n};\n\n// CSI Ps B\n// Cursor Down Ps Times (default = 1) (CUD).\nTerminal.prototype.cursorDown = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y += param;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n};\n\n// CSI Ps C\n// Cursor Forward Ps Times (default = 1) (CUF).\nTerminal.prototype.cursorForward = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x += param;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// CSI Ps D\n// Cursor Backward Ps Times (default = 1) (CUB).\nTerminal.prototype.cursorBackward = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x -= param;\n  if (this.x < 0) this.x = 0;\n};\n\n// CSI Ps ; Ps H\n// Cursor Position [row;column] (default = [1,1]) (CUP).\nTerminal.prototype.cursorPos = function(params) {\n  var row, col;\n\n  row = params[0] - 1;\n\n  if (params.length >= 2) {\n    col = params[1] - 1;\n  } else {\n    col = 0;\n  }\n\n  if (row < 0) {\n    row = 0;\n  } else if (row >= this.rows) {\n    row = this.rows - 1;\n  }\n\n  if (col < 0) {\n    col = 0;\n  } else if (col >= this.cols) {\n    col = this.cols - 1;\n  }\n\n  this.x = col;\n  this.y = row;\n};\n\n// CSI Ps J  Erase in Display (ED).\n//     Ps = 0  -> Erase Below (default).\n//     Ps = 1  -> Erase Above.\n//     Ps = 2  -> Erase All.\n//     Ps = 3  -> Erase Saved Lines (xterm).\n// CSI ? Ps J\n//   Erase in Display (DECSED).\n//     Ps = 0  -> Selective Erase Below (default).\n//     Ps = 1  -> Selective Erase Above.\n//     Ps = 2  -> Selective Erase All.\nTerminal.prototype.eraseInDisplay = function(params) {\n  var j;\n  switch (params[0]) {\n    case 0:\n      this.eraseRight(this.x, this.y);\n      j = this.y + 1;\n      for (; j < this.rows; j++) {\n        this.eraseLine(j);\n      }\n      break;\n    case 1:\n      this.eraseLeft(this.x, this.y);\n      j = this.y;\n      while (j--) {\n        this.eraseLine(j);\n      }\n      break;\n    case 2:\n      j = this.rows;\n      while (j--) this.eraseLine(j);\n      break;\n    case 3:\n      ; // no saved lines\n      break;\n  }\n};\n\n// CSI Ps K  Erase in Line (EL).\n//     Ps = 0  -> Erase to Right (default).\n//     Ps = 1  -> Erase to Left.\n//     Ps = 2  -> Erase All.\n// CSI ? Ps K\n//   Erase in Line (DECSEL).\n//     Ps = 0  -> Selective Erase to Right (default).\n//     Ps = 1  -> Selective Erase to Left.\n//     Ps = 2  -> Selective Erase All.\nTerminal.prototype.eraseInLine = function(params) {\n  switch (params[0]) {\n    case 0:\n      this.eraseRight(this.x, this.y);\n      break;\n    case 1:\n      this.eraseLeft(this.x, this.y);\n      break;\n    case 2:\n      this.eraseLine(this.y);\n      break;\n  }\n};\n\n// CSI Pm m  Character Attributes (SGR).\n//     Ps = 0  -> Normal (default).\n//     Ps = 1  -> Bold.\n//     Ps = 4  -> Underlined.\n//     Ps = 5  -> Blink (appears as Bold).\n//     Ps = 7  -> Inverse.\n//     Ps = 8  -> Invisible, i.e., hidden (VT300).\n//     Ps = 2 2  -> Normal (neither bold nor faint).\n//     Ps = 2 4  -> Not underlined.\n//     Ps = 2 5  -> Steady (not blinking).\n//     Ps = 2 7  -> Positive (not inverse).\n//     Ps = 2 8  -> Visible, i.e., not hidden (VT300).\n//     Ps = 3 0  -> Set foreground color to Black.\n//     Ps = 3 1  -> Set foreground color to Red.\n//     Ps = 3 2  -> Set foreground color to Green.\n//     Ps = 3 3  -> Set foreground color to Yellow.\n//     Ps = 3 4  -> Set foreground color to Blue.\n//     Ps = 3 5  -> Set foreground color to Magenta.\n//     Ps = 3 6  -> Set foreground color to Cyan.\n//     Ps = 3 7  -> Set foreground color to White.\n//     Ps = 3 9  -> Set foreground color to default (original).\n//     Ps = 4 0  -> Set background color to Black.\n//     Ps = 4 1  -> Set background color to Red.\n//     Ps = 4 2  -> Set background color to Green.\n//     Ps = 4 3  -> Set background color to Yellow.\n//     Ps = 4 4  -> Set background color to Blue.\n//     Ps = 4 5  -> Set background color to Magenta.\n//     Ps = 4 6  -> Set background color to Cyan.\n//     Ps = 4 7  -> Set background color to White.\n//     Ps = 4 9  -> Set background color to default (original).\n\n//   If 16-color support is compiled, the following apply.  Assume\n//   that xterm's resources are set so that the ISO color codes are\n//   the first 8 of a set of 16.  Then the aixterm colors are the\n//   bright versions of the ISO colors:\n//     Ps = 9 0  -> Set foreground color to Black.\n//     Ps = 9 1  -> Set foreground color to Red.\n//     Ps = 9 2  -> Set foreground color to Green.\n//     Ps = 9 3  -> Set foreground color to Yellow.\n//     Ps = 9 4  -> Set foreground color to Blue.\n//     Ps = 9 5  -> Set foreground color to Magenta.\n//     Ps = 9 6  -> Set foreground color to Cyan.\n//     Ps = 9 7  -> Set foreground color to White.\n//     Ps = 1 0 0  -> Set background color to Black.\n//     Ps = 1 0 1  -> Set background color to Red.\n//     Ps = 1 0 2  -> Set background color to Green.\n//     Ps = 1 0 3  -> Set background color to Yellow.\n//     Ps = 1 0 4  -> Set background color to Blue.\n//     Ps = 1 0 5  -> Set background color to Magenta.\n//     Ps = 1 0 6  -> Set background color to Cyan.\n//     Ps = 1 0 7  -> Set background color to White.\n\n//   If xterm is compiled with the 16-color support disabled, it\n//   supports the following, from rxvt:\n//     Ps = 1 0 0  -> Set foreground and background color to\n//     default.\n\n//   If 88- or 256-color support is compiled, the following apply.\n//     Ps = 3 8  ; 5  ; Ps -> Set foreground color to the second\n//     Ps.\n//     Ps = 4 8  ; 5  ; Ps -> Set background color to the second\n//     Ps.\nTerminal.prototype.charAttributes = function(params) {\n  // Optimize a single SGR0.\n  if (params.length === 1 && params[0] === 0) {\n    this.curAttr = this.defAttr;\n    return;\n  }\n\n  var l = params.length\n    , i = 0\n    , flags = this.curAttr >> 18\n    , fg = (this.curAttr >> 9) & 0x1ff\n    , bg = this.curAttr & 0x1ff\n    , p;\n\n  for (; i < l; i++) {\n    p = params[i];\n    if (p >= 30 && p <= 37) {\n      // fg color 8\n      fg = p - 30;\n    } else if (p >= 40 && p <= 47) {\n      // bg color 8\n      bg = p - 40;\n    } else if (p >= 90 && p <= 97) {\n      // fg color 16\n      p += 8;\n      fg = p - 90;\n    } else if (p >= 100 && p <= 107) {\n      // bg color 16\n      p += 8;\n      bg = p - 100;\n    } else if (p === 0) {\n      // default\n      flags = this.defAttr >> 18;\n      fg = (this.defAttr >> 9) & 0x1ff;\n      bg = this.defAttr & 0x1ff;\n      // flags = 0;\n      // fg = 0x1ff;\n      // bg = 0x1ff;\n    } else if (p === 1) {\n      // bold text\n      flags |= 1;\n    } else if (p === 4) {\n      // underlined text\n      flags |= 2;\n    } else if (p === 5) {\n      // blink\n      flags |= 4;\n    } else if (p === 7) {\n      // inverse and positive\n      // test with: echo -e '\\e[31m\\e[42mhello\\e[7mworld\\e[27mhi\\e[m'\n      flags |= 8;\n    } else if (p === 8) {\n      // invisible\n      flags |= 16;\n    } else if (p === 22) {\n      // not bold\n      flags &= ~1;\n    } else if (p === 24) {\n      // not underlined\n      flags &= ~2;\n    } else if (p === 25) {\n      // not blink\n      flags &= ~4;\n    } else if (p === 27) {\n      // not inverse\n      flags &= ~8;\n    } else if (p === 28) {\n      // not invisible\n      flags &= ~16;\n    } else if (p === 39) {\n      // reset fg\n      fg = (this.defAttr >> 9) & 0x1ff;\n    } else if (p === 49) {\n      // reset bg\n      bg = this.defAttr & 0x1ff;\n    } else if (p === 38) {\n      // fg color 256\n      if (params[i + 1] === 2) {\n        i += 2;\n        fg = matchColor(\n          params[i] & 0xff,\n          params[i + 1] & 0xff,\n          params[i + 2] & 0xff);\n        if (fg === -1) fg = 0x1ff;\n        i += 2;\n      } else if (params[i + 1] === 5) {\n        i += 2;\n        p = params[i] & 0xff;\n        fg = p;\n      }\n    } else if (p === 48) {\n      // bg color 256\n      if (params[i + 1] === 2) {\n        i += 2;\n        bg = matchColor(\n          params[i] & 0xff,\n          params[i + 1] & 0xff,\n          params[i + 2] & 0xff);\n        if (bg === -1) bg = 0x1ff;\n        i += 2;\n      } else if (params[i + 1] === 5) {\n        i += 2;\n        p = params[i] & 0xff;\n        bg = p;\n      }\n    } else if (p === 100) {\n      // reset fg/bg\n      fg = (this.defAttr >> 9) & 0x1ff;\n      bg = this.defAttr & 0x1ff;\n    } else {\n      this.error('Unknown SGR attribute: %d.', p);\n    }\n  }\n\n  this.curAttr = (flags << 18) | (fg << 9) | bg;\n};\n\n// CSI Ps n  Device Status Report (DSR).\n//     Ps = 5  -> Status Report.  Result (``OK'') is\n//   CSI 0 n\n//     Ps = 6  -> Report Cursor Position (CPR) [row;column].\n//   Result is\n//   CSI r ; c R\n// CSI ? Ps n\n//   Device Status Report (DSR, DEC-specific).\n//     Ps = 6  -> Report Cursor Position (CPR) [row;column] as CSI\n//     ? r ; c R (assumes page is zero).\n//     Ps = 1 5  -> Report Printer status as CSI ? 1 0  n  (ready).\n//     or CSI ? 1 1  n  (not ready).\n//     Ps = 2 5  -> Report UDK status as CSI ? 2 0  n  (unlocked)\n//     or CSI ? 2 1  n  (locked).\n//     Ps = 2 6  -> Report Keyboard status as\n//   CSI ? 2 7  ;  1  ;  0  ;  0  n  (North American).\n//   The last two parameters apply to VT400 & up, and denote key-\n//   board ready and LK01 respectively.\n//     Ps = 5 3  -> Report Locator status as\n//   CSI ? 5 3  n  Locator available, if compiled-in, or\n//   CSI ? 5 0  n  No Locator, if not.\nTerminal.prototype.deviceStatus = function(params) {\n  if (!this.prefix) {\n    switch (params[0]) {\n      case 5:\n        // status report\n        this.send('\\x1b[0n');\n        break;\n      case 6:\n        // cursor position\n        this.send('\\x1b['\n          + (this.y + 1)\n          + ';'\n          + (this.x + 1)\n          + 'R');\n        break;\n    }\n  } else if (this.prefix === '?') {\n    // modern xterm doesnt seem to\n    // respond to any of these except ?6, 6, and 5\n    switch (params[0]) {\n      case 6:\n        // cursor position\n        this.send('\\x1b[?'\n          + (this.y + 1)\n          + ';'\n          + (this.x + 1)\n          + 'R');\n        break;\n      case 15:\n        // no printer\n        // this.send('\\x1b[?11n');\n        break;\n      case 25:\n        // dont support user defined keys\n        // this.send('\\x1b[?21n');\n        break;\n      case 26:\n        // north american keyboard\n        // this.send('\\x1b[?27;1;0;0n');\n        break;\n      case 53:\n        // no dec locator/mouse\n        // this.send('\\x1b[?50n');\n        break;\n    }\n  }\n};\n\n/**\n * Additions\n */\n\n// CSI Ps @\n// Insert Ps (Blank) Character(s) (default = 1) (ICH).\nTerminal.prototype.insertChars = function(params) {\n  var param, row, j, ch;\n\n  param = params[0];\n  if (param < 1) param = 1;\n\n  row = this.y + this.ybase;\n  j = this.x;\n  ch = [this.eraseAttr(), ' ']; // xterm\n\n  while (param-- && j < this.cols) {\n    this.lines[row].splice(j++, 0, ch);\n    this.lines[row].pop();\n  }\n};\n\n// CSI Ps E\n// Cursor Next Line Ps Times (default = 1) (CNL).\n// same as CSI Ps B ?\nTerminal.prototype.cursorNextLine = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y += param;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n  this.x = 0;\n};\n\n// CSI Ps F\n// Cursor Preceding Line Ps Times (default = 1) (CNL).\n// reuse CSI Ps A ?\nTerminal.prototype.cursorPrecedingLine = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y -= param;\n  if (this.y < 0) this.y = 0;\n  this.x = 0;\n};\n\n// CSI Ps G\n// Cursor Character Absolute  [column] (default = [row,1]) (CHA).\nTerminal.prototype.cursorCharAbsolute = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x = param - 1;\n};\n\n// CSI Ps L\n// Insert Ps Line(s) (default = 1) (IL).\nTerminal.prototype.insertLines = function(params) {\n  var param, row, j;\n\n  param = params[0];\n  if (param < 1) param = 1;\n  row = this.y + this.ybase;\n\n  j = this.rows - 1 - this.scrollBottom;\n  j = this.rows - 1 + this.ybase - j + 1;\n\n  while (param--) {\n    // test: echo -e '\\e[44m\\e[1L\\e[0m'\n    // blankLine(true) - xterm/linux behavior\n    this.lines.splice(row, 0, this.blankLine(true));\n    this.lines.splice(j, 1);\n  }\n\n  // this.maxRange();\n  this.updateRange(this.y);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps M\n// Delete Ps Line(s) (default = 1) (DL).\nTerminal.prototype.deleteLines = function(params) {\n  var param, row, j;\n\n  param = params[0];\n  if (param < 1) param = 1;\n  row = this.y + this.ybase;\n\n  j = this.rows - 1 - this.scrollBottom;\n  j = this.rows - 1 + this.ybase - j;\n\n  while (param--) {\n    // test: echo -e '\\e[44m\\e[1M\\e[0m'\n    // blankLine(true) - xterm/linux behavior\n    this.lines.splice(j + 1, 0, this.blankLine(true));\n    this.lines.splice(row, 1);\n  }\n\n  // this.maxRange();\n  this.updateRange(this.y);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps P\n// Delete Ps Character(s) (default = 1) (DCH).\nTerminal.prototype.deleteChars = function(params) {\n  var param, row, ch;\n\n  param = params[0];\n  if (param < 1) param = 1;\n\n  row = this.y + this.ybase;\n  ch = [this.eraseAttr(), ' ']; // xterm\n\n  while (param--) {\n    this.lines[row].splice(this.x, 1);\n    this.lines[row].push(ch);\n  }\n};\n\n// CSI Ps X\n// Erase Ps Character(s) (default = 1) (ECH).\nTerminal.prototype.eraseChars = function(params) {\n  var param, row, j, ch;\n\n  param = params[0];\n  if (param < 1) param = 1;\n\n  row = this.y + this.ybase;\n  j = this.x;\n  ch = [this.eraseAttr(), ' ']; // xterm\n\n  while (param-- && j < this.cols) {\n    this.lines[row][j++] = ch;\n  }\n};\n\n// CSI Pm `  Character Position Absolute\n//   [column] (default = [row,1]) (HPA).\nTerminal.prototype.charPosAbsolute = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x = param - 1;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// 141 61 a * HPR -\n// Horizontal Position Relative\n// reuse CSI Ps C ?\nTerminal.prototype.HPositionRelative = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.x += param;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// CSI Ps c  Send Device Attributes (Primary DA).\n//     Ps = 0  or omitted -> request attributes from terminal.  The\n//     response depends on the decTerminalID resource setting.\n//     -> CSI ? 1 ; 2 c  (``VT100 with Advanced Video Option'')\n//     -> CSI ? 1 ; 0 c  (``VT101 with No Options'')\n//     -> CSI ? 6 c  (``VT102'')\n//     -> CSI ? 6 0 ; 1 ; 2 ; 6 ; 8 ; 9 ; 1 5 ; c  (``VT220'')\n//   The VT100-style response parameters do not mean anything by\n//   themselves.  VT220 parameters do, telling the host what fea-\n//   tures the terminal supports:\n//     Ps = 1  -> 132-columns.\n//     Ps = 2  -> Printer.\n//     Ps = 6  -> Selective erase.\n//     Ps = 8  -> User-defined keys.\n//     Ps = 9  -> National replacement character sets.\n//     Ps = 1 5  -> Technical characters.\n//     Ps = 2 2  -> ANSI color, e.g., VT525.\n//     Ps = 2 9  -> ANSI text locator (i.e., DEC Locator mode).\n// CSI > Ps c\n//   Send Device Attributes (Secondary DA).\n//     Ps = 0  or omitted -> request the terminal's identification\n//     code.  The response depends on the decTerminalID resource set-\n//     ting.  It should apply only to VT220 and up, but xterm extends\n//     this to VT100.\n//     -> CSI  > Pp ; Pv ; Pc c\n//   where Pp denotes the terminal type\n//     Pp = 0  -> ``VT100''.\n//     Pp = 1  -> ``VT220''.\n//   and Pv is the firmware version (for xterm, this was originally\n//   the XFree86 patch number, starting with 95).  In a DEC termi-\n//   nal, Pc indicates the ROM cartridge registration number and is\n//   always zero.\n// More information:\n//   xterm/charproc.c - line 2012, for more information.\n//   vim responds with ^[[?0c or ^[[?1c after the terminal's response (?)\nTerminal.prototype.sendDeviceAttributes = function(params) {\n  if (params[0] > 0) return;\n\n  if (!this.prefix) {\n    if (this.is('xterm')\n        || this.is('rxvt-unicode')\n        || this.is('screen')) {\n      this.send('\\x1b[?1;2c');\n    } else if (this.is('linux')) {\n      this.send('\\x1b[?6c');\n    }\n  } else if (this.prefix === '>') {\n    // xterm and urxvt\n    // seem to spit this\n    // out around ~370 times (?).\n    if (this.is('xterm')) {\n      this.send('\\x1b[>0;276;0c');\n    } else if (this.is('rxvt-unicode')) {\n      this.send('\\x1b[>85;95;0c');\n    } else if (this.is('linux')) {\n      // not supported by linux console.\n      // linux console echoes parameters.\n      this.send(params[0] + 'c');\n    } else if (this.is('screen')) {\n      this.send('\\x1b[>83;40003;0c');\n    }\n  }\n};\n\n// CSI Pm d\n// Line Position Absolute  [row] (default = [1,column]) (VPA).\nTerminal.prototype.linePosAbsolute = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y = param - 1;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n};\n\n// 145 65 e * VPR - Vertical Position Relative\n// reuse CSI Ps B ?\nTerminal.prototype.VPositionRelative = function(params) {\n  var param = params[0];\n  if (param < 1) param = 1;\n  this.y += param;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n};\n\n// CSI Ps ; Ps f\n//   Horizontal and Vertical Position [row;column] (default =\n//   [1,1]) (HVP).\nTerminal.prototype.HVPosition = function(params) {\n  if (params[0] < 1) params[0] = 1;\n  if (params[1] < 1) params[1] = 1;\n\n  this.y = params[0] - 1;\n  if (this.y >= this.rows) {\n    this.y = this.rows - 1;\n  }\n\n  this.x = params[1] - 1;\n  if (this.x >= this.cols) {\n    this.x = this.cols - 1;\n  }\n};\n\n// CSI Pm h  Set Mode (SM).\n//     Ps = 2  -> Keyboard Action Mode (AM).\n//     Ps = 4  -> Insert Mode (IRM).\n//     Ps = 1 2  -> Send/receive (SRM).\n//     Ps = 2 0  -> Automatic Newline (LNM).\n// CSI ? Pm h\n//   DEC Private Mode Set (DECSET).\n//     Ps = 1  -> Application Cursor Keys (DECCKM).\n//     Ps = 2  -> Designate USASCII for character sets G0-G3\n//     (DECANM), and set VT100 mode.\n//     Ps = 3  -> 132 Column Mode (DECCOLM).\n//     Ps = 4  -> Smooth (Slow) Scroll (DECSCLM).\n//     Ps = 5  -> Reverse Video (DECSCNM).\n//     Ps = 6  -> Origin Mode (DECOM).\n//     Ps = 7  -> Wraparound Mode (DECAWM).\n//     Ps = 8  -> Auto-repeat Keys (DECARM).\n//     Ps = 9  -> Send Mouse X & Y on button press.  See the sec-\n//     tion Mouse Tracking.\n//     Ps = 1 0  -> Show toolbar (rxvt).\n//     Ps = 1 2  -> Start Blinking Cursor (att610).\n//     Ps = 1 8  -> Print form feed (DECPFF).\n//     Ps = 1 9  -> Set print extent to full screen (DECPEX).\n//     Ps = 2 5  -> Show Cursor (DECTCEM).\n//     Ps = 3 0  -> Show scrollbar (rxvt).\n//     Ps = 3 5  -> Enable font-shifting functions (rxvt).\n//     Ps = 3 8  -> Enter Tektronix Mode (DECTEK).\n//     Ps = 4 0  -> Allow 80 -> 132 Mode.\n//     Ps = 4 1  -> more(1) fix (see curses resource).\n//     Ps = 4 2  -> Enable Nation Replacement Character sets (DECN-\n//     RCM).\n//     Ps = 4 4  -> Turn On Margin Bell.\n//     Ps = 4 5  -> Reverse-wraparound Mode.\n//     Ps = 4 6  -> Start Logging.  This is normally disabled by a\n//     compile-time option.\n//     Ps = 4 7  -> Use Alternate Screen Buffer.  (This may be dis-\n//     abled by the titeInhibit resource).\n//     Ps = 6 6  -> Application keypad (DECNKM).\n//     Ps = 6 7  -> Backarrow key sends backspace (DECBKM).\n//     Ps = 1 0 0 0  -> Send Mouse X & Y on button press and\n//     release.  See the section Mouse Tracking.\n//     Ps = 1 0 0 1  -> Use Hilite Mouse Tracking.\n//     Ps = 1 0 0 2  -> Use Cell Motion Mouse Tracking.\n//     Ps = 1 0 0 3  -> Use All Motion Mouse Tracking.\n//     Ps = 1 0 0 4  -> Send FocusIn/FocusOut events.\n//     Ps = 1 0 0 5  -> Enable Extended Mouse Mode.\n//     Ps = 1 0 1 0  -> Scroll to bottom on tty output (rxvt).\n//     Ps = 1 0 1 1  -> Scroll to bottom on key press (rxvt).\n//     Ps = 1 0 3 4  -> Interpret \"meta\" key, sets eighth bit.\n//     (enables the eightBitInput resource).\n//     Ps = 1 0 3 5  -> Enable special modifiers for Alt and Num-\n//     Lock keys.  (This enables the numLock resource).\n//     Ps = 1 0 3 6  -> Send ESC   when Meta modifies a key.  (This\n//     enables the metaSendsEscape resource).\n//     Ps = 1 0 3 7  -> Send DEL from the editing-keypad Delete\n//     key.\n//     Ps = 1 0 3 9  -> Send ESC  when Alt modifies a key.  (This\n//     enables the altSendsEscape resource).\n//     Ps = 1 0 4 0  -> Keep selection even if not highlighted.\n//     (This enables the keepSelection resource).\n//     Ps = 1 0 4 1  -> Use the CLIPBOARD selection.  (This enables\n//     the selectToClipboard resource).\n//     Ps = 1 0 4 2  -> Enable Urgency window manager hint when\n//     Control-G is received.  (This enables the bellIsUrgent\n//     resource).\n//     Ps = 1 0 4 3  -> Enable raising of the window when Control-G\n//     is received.  (enables the popOnBell resource).\n//     Ps = 1 0 4 7  -> Use Alternate Screen Buffer.  (This may be\n//     disabled by the titeInhibit resource).\n//     Ps = 1 0 4 8  -> Save cursor as in DECSC.  (This may be dis-\n//     abled by the titeInhibit resource).\n//     Ps = 1 0 4 9  -> Save cursor as in DECSC and use Alternate\n//     Screen Buffer, clearing it first.  (This may be disabled by\n//     the titeInhibit resource).  This combines the effects of the 1\n//     0 4 7  and 1 0 4 8  modes.  Use this with terminfo-based\n//     applications rather than the 4 7  mode.\n//     Ps = 1 0 5 0  -> Set terminfo/termcap function-key mode.\n//     Ps = 1 0 5 1  -> Set Sun function-key mode.\n//     Ps = 1 0 5 2  -> Set HP function-key mode.\n//     Ps = 1 0 5 3  -> Set SCO function-key mode.\n//     Ps = 1 0 6 0  -> Set legacy keyboard emulation (X11R6).\n//     Ps = 1 0 6 1  -> Set VT220 keyboard emulation.\n//     Ps = 2 0 0 4  -> Set bracketed paste mode.\n// Modes:\n//   http://vt100.net/docs/vt220-rm/chapter4.html\nTerminal.prototype.setMode = function(params) {\n  if (typeof params === 'object') {\n    var l = params.length\n      , i = 0;\n\n    for (; i < l; i++) {\n      this.setMode(params[i]);\n    }\n\n    return;\n  }\n\n  if (!this.prefix) {\n    switch (params) {\n      case 4:\n        this.insertMode = true;\n        break;\n      case 20:\n        //this.convertEol = true;\n        break;\n    }\n  } else if (this.prefix === '?') {\n    switch (params) {\n      case 1:\n        this.applicationCursor = true;\n        break;\n      case 2:\n        this.setgCharset(0, Terminal.charsets.US);\n        this.setgCharset(1, Terminal.charsets.US);\n        this.setgCharset(2, Terminal.charsets.US);\n        this.setgCharset(3, Terminal.charsets.US);\n        // set VT100 mode here\n        break;\n      case 3: // 132 col mode\n        this.savedCols = this.cols;\n        this.resize(132, this.rows);\n        break;\n      case 6:\n        this.originMode = true;\n        break;\n      case 7:\n        this.wraparoundMode = true;\n        break;\n      case 66:\n        this.log('Serial port requested application keypad.');\n        this.applicationKeypad = true;\n        break;\n      case 9: // X10 Mouse\n        // no release, no motion, no wheel, no modifiers.\n      case 1000: // vt200 mouse\n        // no motion.\n        // no modifiers, except control on the wheel.\n      case 1002: // button event mouse\n      case 1003: // any event mouse\n        // any event - sends motion events,\n        // even if there is no button held down.\n        this.x10Mouse = params === 9;\n        this.vt200Mouse = params === 1000;\n        this.normalMouse = params > 1000;\n        this.mouseEvents = true;\n        this.element.style.cursor = 'default';\n        this.log('Binding to mouse events.');\n        break;\n      case 1004: // send focusin/focusout events\n        // focusin: ^[[I\n        // focusout: ^[[O\n        this.sendFocus = true;\n        break;\n      case 1005: // utf8 ext mode mouse\n        this.utfMouse = true;\n        // for wide terminals\n        // simply encodes large values as utf8 characters\n        break;\n      case 1006: // sgr ext mode mouse\n        this.sgrMouse = true;\n        // for wide terminals\n        // does not add 32 to fields\n        // press: ^[[<b;x;yM\n        // release: ^[[<b;x;ym\n        break;\n      case 1015: // urxvt ext mode mouse\n        this.urxvtMouse = true;\n        // for wide terminals\n        // numbers for fields\n        // press: ^[[b;x;yM\n        // motion: ^[[b;x;yT\n        break;\n      case 25: // show cursor\n        this.cursorHidden = false;\n        break;\n      case 1049: // alt screen buffer cursor\n        //this.saveCursor();\n        ; // FALL-THROUGH\n      case 47: // alt screen buffer\n      case 1047: // alt screen buffer\n        if (!this.normal) {\n          var normal = {\n            lines: this.lines,\n            ybase: this.ybase,\n            ydisp: this.ydisp,\n            x: this.x,\n            y: this.y,\n            scrollTop: this.scrollTop,\n            scrollBottom: this.scrollBottom,\n            tabs: this.tabs\n            // XXX save charset(s) here?\n            // charset: this.charset,\n            // glevel: this.glevel,\n            // charsets: this.charsets\n          };\n          this.reset();\n          this.normal = normal;\n        }\n        break;\n    }\n  }\n};\n\n// CSI Pm l  Reset Mode (RM).\n//     Ps = 2  -> Keyboard Action Mode (AM).\n//     Ps = 4  -> Replace Mode (IRM).\n//     Ps = 1 2  -> Send/receive (SRM).\n//     Ps = 2 0  -> Normal Linefeed (LNM).\n// CSI ? Pm l\n//   DEC Private Mode Reset (DECRST).\n//     Ps = 1  -> Normal Cursor Keys (DECCKM).\n//     Ps = 2  -> Designate VT52 mode (DECANM).\n//     Ps = 3  -> 80 Column Mode (DECCOLM).\n//     Ps = 4  -> Jump (Fast) Scroll (DECSCLM).\n//     Ps = 5  -> Normal Video (DECSCNM).\n//     Ps = 6  -> Normal Cursor Mode (DECOM).\n//     Ps = 7  -> No Wraparound Mode (DECAWM).\n//     Ps = 8  -> No Auto-repeat Keys (DECARM).\n//     Ps = 9  -> Don't send Mouse X & Y on button press.\n//     Ps = 1 0  -> Hide toolbar (rxvt).\n//     Ps = 1 2  -> Stop Blinking Cursor (att610).\n//     Ps = 1 8  -> Don't print form feed (DECPFF).\n//     Ps = 1 9  -> Limit print to scrolling region (DECPEX).\n//     Ps = 2 5  -> Hide Cursor (DECTCEM).\n//     Ps = 3 0  -> Don't show scrollbar (rxvt).\n//     Ps = 3 5  -> Disable font-shifting functions (rxvt).\n//     Ps = 4 0  -> Disallow 80 -> 132 Mode.\n//     Ps = 4 1  -> No more(1) fix (see curses resource).\n//     Ps = 4 2  -> Disable Nation Replacement Character sets (DEC-\n//     NRCM).\n//     Ps = 4 4  -> Turn Off Margin Bell.\n//     Ps = 4 5  -> No Reverse-wraparound Mode.\n//     Ps = 4 6  -> Stop Logging.  (This is normally disabled by a\n//     compile-time option).\n//     Ps = 4 7  -> Use Normal Screen Buffer.\n//     Ps = 6 6  -> Numeric keypad (DECNKM).\n//     Ps = 6 7  -> Backarrow key sends delete (DECBKM).\n//     Ps = 1 0 0 0  -> Don't send Mouse X & Y on button press and\n//     release.  See the section Mouse Tracking.\n//     Ps = 1 0 0 1  -> Don't use Hilite Mouse Tracking.\n//     Ps = 1 0 0 2  -> Don't use Cell Motion Mouse Tracking.\n//     Ps = 1 0 0 3  -> Don't use All Motion Mouse Tracking.\n//     Ps = 1 0 0 4  -> Don't send FocusIn/FocusOut events.\n//     Ps = 1 0 0 5  -> Disable Extended Mouse Mode.\n//     Ps = 1 0 1 0  -> Don't scroll to bottom on tty output\n//     (rxvt).\n//     Ps = 1 0 1 1  -> Don't scroll to bottom on key press (rxvt).\n//     Ps = 1 0 3 4  -> Don't interpret \"meta\" key.  (This disables\n//     the eightBitInput resource).\n//     Ps = 1 0 3 5  -> Disable special modifiers for Alt and Num-\n//     Lock keys.  (This disables the numLock resource).\n//     Ps = 1 0 3 6  -> Don't send ESC  when Meta modifies a key.\n//     (This disables the metaSendsEscape resource).\n//     Ps = 1 0 3 7  -> Send VT220 Remove from the editing-keypad\n//     Delete key.\n//     Ps = 1 0 3 9  -> Don't send ESC  when Alt modifies a key.\n//     (This disables the altSendsEscape resource).\n//     Ps = 1 0 4 0  -> Do not keep selection when not highlighted.\n//     (This disables the keepSelection resource).\n//     Ps = 1 0 4 1  -> Use the PRIMARY selection.  (This disables\n//     the selectToClipboard resource).\n//     Ps = 1 0 4 2  -> Disable Urgency window manager hint when\n//     Control-G is received.  (This disables the bellIsUrgent\n//     resource).\n//     Ps = 1 0 4 3  -> Disable raising of the window when Control-\n//     G is received.  (This disables the popOnBell resource).\n//     Ps = 1 0 4 7  -> Use Normal Screen Buffer, clearing screen\n//     first if in the Alternate Screen.  (This may be disabled by\n//     the titeInhibit resource).\n//     Ps = 1 0 4 8  -> Restore cursor as in DECRC.  (This may be\n//     disabled by the titeInhibit resource).\n//     Ps = 1 0 4 9  -> Use Normal Screen Buffer and restore cursor\n//     as in DECRC.  (This may be disabled by the titeInhibit\n//     resource).  This combines the effects of the 1 0 4 7  and 1 0\n//     4 8  modes.  Use this with terminfo-based applications rather\n//     than the 4 7  mode.\n//     Ps = 1 0 5 0  -> Reset terminfo/termcap function-key mode.\n//     Ps = 1 0 5 1  -> Reset Sun function-key mode.\n//     Ps = 1 0 5 2  -> Reset HP function-key mode.\n//     Ps = 1 0 5 3  -> Reset SCO function-key mode.\n//     Ps = 1 0 6 0  -> Reset legacy keyboard emulation (X11R6).\n//     Ps = 1 0 6 1  -> Reset keyboard emulation to Sun/PC style.\n//     Ps = 2 0 0 4  -> Reset bracketed paste mode.\nTerminal.prototype.resetMode = function(params) {\n  if (typeof params === 'object') {\n    var l = params.length\n      , i = 0;\n\n    for (; i < l; i++) {\n      this.resetMode(params[i]);\n    }\n\n    return;\n  }\n\n  if (!this.prefix) {\n    switch (params) {\n      case 4:\n        this.insertMode = false;\n        break;\n      case 20:\n        //this.convertEol = false;\n        break;\n    }\n  } else if (this.prefix === '?') {\n    switch (params) {\n      case 1:\n        this.applicationCursor = false;\n        break;\n      case 3:\n        if (this.cols === 132 && this.savedCols) {\n          this.resize(this.savedCols, this.rows);\n        }\n        delete this.savedCols;\n        break;\n      case 6:\n        this.originMode = false;\n        break;\n      case 7:\n        this.wraparoundMode = false;\n        break;\n      case 66:\n        this.log('Switching back to normal keypad.');\n        this.applicationKeypad = false;\n        break;\n      case 9: // X10 Mouse\n      case 1000: // vt200 mouse\n      case 1002: // button event mouse\n      case 1003: // any event mouse\n        this.x10Mouse = false;\n        this.vt200Mouse = false;\n        this.normalMouse = false;\n        this.mouseEvents = false;\n        this.element.style.cursor = '';\n        break;\n      case 1004: // send focusin/focusout events\n        this.sendFocus = false;\n        break;\n      case 1005: // utf8 ext mode mouse\n        this.utfMouse = false;\n        break;\n      case 1006: // sgr ext mode mouse\n        this.sgrMouse = false;\n        break;\n      case 1015: // urxvt ext mode mouse\n        this.urxvtMouse = false;\n        break;\n      case 25: // hide cursor\n        this.cursorHidden = true;\n        break;\n      case 1049: // alt screen buffer cursor\n        ; // FALL-THROUGH\n      case 47: // normal screen buffer\n      case 1047: // normal screen buffer - clearing it first\n        if (this.normal) {\n          this.lines = this.normal.lines;\n          this.ybase = this.normal.ybase;\n          this.ydisp = this.normal.ydisp;\n          this.x = this.normal.x;\n          this.y = this.normal.y;\n          this.scrollTop = this.normal.scrollTop;\n          this.scrollBottom = this.normal.scrollBottom;\n          this.tabs = this.normal.tabs;\n          this.normal = null;\n          // if (params === 1049) {\n          //   this.x = this.savedX;\n          //   this.y = this.savedY;\n          // }\n          this.refresh(0, this.rows - 1);\n        }\n        break;\n    }\n  }\n};\n\n// CSI Ps ; Ps r\n//   Set Scrolling Region [top;bottom] (default = full size of win-\n//   dow) (DECSTBM).\n// CSI ? Pm r\nTerminal.prototype.setScrollRegion = function(params) {\n  if (this.prefix) return;\n  this.scrollTop = (params[0] || 1) - 1;\n  this.scrollBottom = (params[1] || this.rows) - 1;\n  this.x = 0;\n  this.y = 0;\n};\n\n// CSI s\n//   Save cursor (ANSI.SYS).\nTerminal.prototype.saveCursor = function(params) {\n  this.savedX = this.x;\n  this.savedY = this.y;\n};\n\n// CSI u\n//   Restore cursor (ANSI.SYS).\nTerminal.prototype.restoreCursor = function(params) {\n  this.x = this.savedX || 0;\n  this.y = this.savedY || 0;\n};\n\n/**\n * Lesser Used\n */\n\n// CSI Ps I\n//   Cursor Forward Tabulation Ps tab stops (default = 1) (CHT).\nTerminal.prototype.cursorForwardTab = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.x = this.nextStop();\n  }\n};\n\n// CSI Ps S  Scroll up Ps lines (default = 1) (SU).\nTerminal.prototype.scrollUp = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.lines.splice(this.ybase + this.scrollTop, 1);\n    this.lines.splice(this.ybase + this.scrollBottom, 0, this.blankLine());\n  }\n  // this.maxRange();\n  this.updateRange(this.scrollTop);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps T  Scroll down Ps lines (default = 1) (SD).\nTerminal.prototype.scrollDown = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.lines.splice(this.ybase + this.scrollBottom, 1);\n    this.lines.splice(this.ybase + this.scrollTop, 0, this.blankLine());\n  }\n  // this.maxRange();\n  this.updateRange(this.scrollTop);\n  this.updateRange(this.scrollBottom);\n};\n\n// CSI Ps ; Ps ; Ps ; Ps ; Ps T\n//   Initiate highlight mouse tracking.  Parameters are\n//   [func;startx;starty;firstrow;lastrow].  See the section Mouse\n//   Tracking.\nTerminal.prototype.initMouseTracking = function(params) {\n  // Relevant: DECSET 1001\n};\n\n// CSI > Ps; Ps T\n//   Reset one or more features of the title modes to the default\n//   value.  Normally, \"reset\" disables the feature.  It is possi-\n//   ble to disable the ability to reset features by compiling a\n//   different default for the title modes into xterm.\n//     Ps = 0  -> Do not set window/icon labels using hexadecimal.\n//     Ps = 1  -> Do not query window/icon labels using hexadeci-\n//     mal.\n//     Ps = 2  -> Do not set window/icon labels using UTF-8.\n//     Ps = 3  -> Do not query window/icon labels using UTF-8.\n//   (See discussion of \"Title Modes\").\nTerminal.prototype.resetTitleModes = function(params) {\n  ;\n};\n\n// CSI Ps Z  Cursor Backward Tabulation Ps tab stops (default = 1) (CBT).\nTerminal.prototype.cursorBackwardTab = function(params) {\n  var param = params[0] || 1;\n  while (param--) {\n    this.x = this.prevStop();\n  }\n};\n\n// CSI Ps b  Repeat the preceding graphic character Ps times (REP).\nTerminal.prototype.repeatPrecedingCharacter = function(params) {\n  var param = params[0] || 1\n    , line = this.lines[this.ybase + this.y]\n    , ch = line[this.x - 1] || [this.defAttr, ' '];\n\n  while (param--) line[this.x++] = ch;\n};\n\n// CSI Ps g  Tab Clear (TBC).\n//     Ps = 0  -> Clear Current Column (default).\n//     Ps = 3  -> Clear All.\n// Potentially:\n//   Ps = 2  -> Clear Stops on Line.\n//   http://vt100.net/annarbor/aaa-ug/section6.html\nTerminal.prototype.tabClear = function(params) {\n  var param = params[0];\n  if (param <= 0) {\n    delete this.tabs[this.x];\n  } else if (param === 3) {\n    this.tabs = {};\n  }\n};\n\n// CSI Pm i  Media Copy (MC).\n//     Ps = 0  -> Print screen (default).\n//     Ps = 4  -> Turn off printer controller mode.\n//     Ps = 5  -> Turn on printer controller mode.\n// CSI ? Pm i\n//   Media Copy (MC, DEC-specific).\n//     Ps = 1  -> Print line containing cursor.\n//     Ps = 4  -> Turn off autoprint mode.\n//     Ps = 5  -> Turn on autoprint mode.\n//     Ps = 1  0  -> Print composed display, ignores DECPEX.\n//     Ps = 1  1  -> Print all pages.\nTerminal.prototype.mediaCopy = function(params) {\n  ;\n};\n\n// CSI > Ps; Ps m\n//   Set or reset resource-values used by xterm to decide whether\n//   to construct escape sequences holding information about the\n//   modifiers pressed with a given key.  The first parameter iden-\n//   tifies the resource to set/reset.  The second parameter is the\n//   value to assign to the resource.  If the second parameter is\n//   omitted, the resource is reset to its initial value.\n//     Ps = 1  -> modifyCursorKeys.\n//     Ps = 2  -> modifyFunctionKeys.\n//     Ps = 4  -> modifyOtherKeys.\n//   If no parameters are given, all resources are reset to their\n//   initial values.\nTerminal.prototype.setResources = function(params) {\n  ;\n};\n\n// CSI > Ps n\n//   Disable modifiers which may be enabled via the CSI > Ps; Ps m\n//   sequence.  This corresponds to a resource value of \"-1\", which\n//   cannot be set with the other sequence.  The parameter identi-\n//   fies the resource to be disabled:\n//     Ps = 1  -> modifyCursorKeys.\n//     Ps = 2  -> modifyFunctionKeys.\n//     Ps = 4  -> modifyOtherKeys.\n//   If the parameter is omitted, modifyFunctionKeys is disabled.\n//   When modifyFunctionKeys is disabled, xterm uses the modifier\n//   keys to make an extended sequence of functions rather than\n//   adding a parameter to each function key to denote the modi-\n//   fiers.\nTerminal.prototype.disableModifiers = function(params) {\n  ;\n};\n\n// CSI > Ps p\n//   Set resource value pointerMode.  This is used by xterm to\n//   decide whether to hide the pointer cursor as the user types.\n//   Valid values for the parameter:\n//     Ps = 0  -> never hide the pointer.\n//     Ps = 1  -> hide if the mouse tracking mode is not enabled.\n//     Ps = 2  -> always hide the pointer.  If no parameter is\n//     given, xterm uses the default, which is 1 .\nTerminal.prototype.setPointerMode = function(params) {\n  ;\n};\n\n// CSI ! p   Soft terminal reset (DECSTR).\n// http://vt100.net/docs/vt220-rm/table4-10.html\nTerminal.prototype.softReset = function(params) {\n  this.cursorHidden = false;\n  this.insertMode = false;\n  this.originMode = false;\n  this.wraparoundMode = false; // autowrap\n  this.applicationKeypad = false; // ?\n  this.applicationCursor = false;\n  this.scrollTop = 0;\n  this.scrollBottom = this.rows - 1;\n  this.curAttr = this.defAttr;\n  this.x = this.y = 0; // ?\n  this.charset = null;\n  this.glevel = 0; // ??\n  this.charsets = [null]; // ??\n};\n\n// CSI Ps$ p\n//   Request ANSI mode (DECRQM).  For VT300 and up, reply is\n//     CSI Ps; Pm$ y\n//   where Ps is the mode number as in RM, and Pm is the mode\n//   value:\n//     0 - not recognized\n//     1 - set\n//     2 - reset\n//     3 - permanently set\n//     4 - permanently reset\nTerminal.prototype.requestAnsiMode = function(params) {\n  ;\n};\n\n// CSI ? Ps$ p\n//   Request DEC private mode (DECRQM).  For VT300 and up, reply is\n//     CSI ? Ps; Pm$ p\n//   where Ps is the mode number as in DECSET, Pm is the mode value\n//   as in the ANSI DECRQM.\nTerminal.prototype.requestPrivateMode = function(params) {\n  ;\n};\n\n// CSI Ps ; Ps \" p\n//   Set conformance level (DECSCL).  Valid values for the first\n//   parameter:\n//     Ps = 6 1  -> VT100.\n//     Ps = 6 2  -> VT200.\n//     Ps = 6 3  -> VT300.\n//   Valid values for the second parameter:\n//     Ps = 0  -> 8-bit controls.\n//     Ps = 1  -> 7-bit controls (always set for VT100).\n//     Ps = 2  -> 8-bit controls.\nTerminal.prototype.setConformanceLevel = function(params) {\n  ;\n};\n\n// CSI Ps q  Load LEDs (DECLL).\n//     Ps = 0  -> Clear all LEDS (default).\n//     Ps = 1  -> Light Num Lock.\n//     Ps = 2  -> Light Caps Lock.\n//     Ps = 3  -> Light Scroll Lock.\n//     Ps = 2  1  -> Extinguish Num Lock.\n//     Ps = 2  2  -> Extinguish Caps Lock.\n//     Ps = 2  3  -> Extinguish Scroll Lock.\nTerminal.prototype.loadLEDs = function(params) {\n  ;\n};\n\n// CSI Ps SP q\n//   Set cursor style (DECSCUSR, VT520).\n//     Ps = 0  -> blinking block.\n//     Ps = 1  -> blinking block (default).\n//     Ps = 2  -> steady block.\n//     Ps = 3  -> blinking underline.\n//     Ps = 4  -> steady underline.\nTerminal.prototype.setCursorStyle = function(params) {\n  ;\n};\n\n// CSI Ps \" q\n//   Select character protection attribute (DECSCA).  Valid values\n//   for the parameter:\n//     Ps = 0  -> DECSED and DECSEL can erase (default).\n//     Ps = 1  -> DECSED and DECSEL cannot erase.\n//     Ps = 2  -> DECSED and DECSEL can erase.\nTerminal.prototype.setCharProtectionAttr = function(params) {\n  ;\n};\n\n// CSI ? Pm r\n//   Restore DEC Private Mode Values.  The value of Ps previously\n//   saved is restored.  Ps values are the same as for DECSET.\nTerminal.prototype.restorePrivateValues = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr; Ps$ r\n//   Change Attributes in Rectangular Area (DECCARA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Ps denotes the SGR attributes to change: 0, 1, 4, 5, 7.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.setAttrInRectangle = function(params) {\n  var t = params[0]\n    , l = params[1]\n    , b = params[2]\n    , r = params[3]\n    , attr = params[4];\n\n  var line\n    , i;\n\n  for (; t < b + 1; t++) {\n    line = this.lines[this.ybase + t];\n    for (i = l; i < r; i++) {\n      line[i] = [attr, line[i][1]];\n    }\n  }\n\n  // this.maxRange();\n  this.updateRange(params[0]);\n  this.updateRange(params[2]);\n};\n\n// CSI ? Pm s\n//   Save DEC Private Mode Values.  Ps values are the same as for\n//   DECSET.\nTerminal.prototype.savePrivateValues = function(params) {\n  ;\n};\n\n// CSI Ps ; Ps ; Ps t\n//   Window manipulation (from dtterm, as well as extensions).\n//   These controls may be disabled using the allowWindowOps\n//   resource.  Valid values for the first (and any additional\n//   parameters) are:\n//     Ps = 1  -> De-iconify window.\n//     Ps = 2  -> Iconify window.\n//     Ps = 3  ;  x ;  y -> Move window to [x, y].\n//     Ps = 4  ;  height ;  width -> Resize the xterm window to\n//     height and width in pixels.\n//     Ps = 5  -> Raise the xterm window to the front of the stack-\n//     ing order.\n//     Ps = 6  -> Lower the xterm window to the bottom of the\n//     stacking order.\n//     Ps = 7  -> Refresh the xterm window.\n//     Ps = 8  ;  height ;  width -> Resize the text area to\n//     [height;width] in characters.\n//     Ps = 9  ;  0  -> Restore maximized window.\n//     Ps = 9  ;  1  -> Maximize window (i.e., resize to screen\n//     size).\n//     Ps = 1 0  ;  0  -> Undo full-screen mode.\n//     Ps = 1 0  ;  1  -> Change to full-screen.\n//     Ps = 1 1  -> Report xterm window state.  If the xterm window\n//     is open (non-iconified), it returns CSI 1 t .  If the xterm\n//     window is iconified, it returns CSI 2 t .\n//     Ps = 1 3  -> Report xterm window position.  Result is CSI 3\n//     ; x ; y t\n//     Ps = 1 4  -> Report xterm window in pixels.  Result is CSI\n//     4  ;  height ;  width t\n//     Ps = 1 8  -> Report the size of the text area in characters.\n//     Result is CSI  8  ;  height ;  width t\n//     Ps = 1 9  -> Report the size of the screen in characters.\n//     Result is CSI  9  ;  height ;  width t\n//     Ps = 2 0  -> Report xterm window's icon label.  Result is\n//     OSC  L  label ST\n//     Ps = 2 1  -> Report xterm window's title.  Result is OSC  l\n//     label ST\n//     Ps = 2 2  ;  0  -> Save xterm icon and window title on\n//     stack.\n//     Ps = 2 2  ;  1  -> Save xterm icon title on stack.\n//     Ps = 2 2  ;  2  -> Save xterm window title on stack.\n//     Ps = 2 3  ;  0  -> Restore xterm icon and window title from\n//     stack.\n//     Ps = 2 3  ;  1  -> Restore xterm icon title from stack.\n//     Ps = 2 3  ;  2  -> Restore xterm window title from stack.\n//     Ps >= 2 4  -> Resize to Ps lines (DECSLPP).\nTerminal.prototype.manipulateWindow = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr; Ps$ t\n//   Reverse Attributes in Rectangular Area (DECRARA), VT400 and\n//   up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Ps denotes the attributes to reverse, i.e.,  1, 4, 5, 7.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.reverseAttrInRectangle = function(params) {\n  ;\n};\n\n// CSI > Ps; Ps t\n//   Set one or more features of the title modes.  Each parameter\n//   enables a single feature.\n//     Ps = 0  -> Set window/icon labels using hexadecimal.\n//     Ps = 1  -> Query window/icon labels using hexadecimal.\n//     Ps = 2  -> Set window/icon labels using UTF-8.\n//     Ps = 3  -> Query window/icon labels using UTF-8.  (See dis-\n//     cussion of \"Title Modes\")\nTerminal.prototype.setTitleModeFeature = function(params) {\n  ;\n};\n\n// CSI Ps SP t\n//   Set warning-bell volume (DECSWBV, VT520).\n//     Ps = 0  or 1  -> off.\n//     Ps = 2 , 3  or 4  -> low.\n//     Ps = 5 , 6 , 7 , or 8  -> high.\nTerminal.prototype.setWarningBellVolume = function(params) {\n  ;\n};\n\n// CSI Ps SP u\n//   Set margin-bell volume (DECSMBV, VT520).\n//     Ps = 1  -> off.\n//     Ps = 2 , 3  or 4  -> low.\n//     Ps = 0 , 5 , 6 , 7 , or 8  -> high.\nTerminal.prototype.setMarginBellVolume = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr; Pp; Pt; Pl; Pp$ v\n//   Copy Rectangular Area (DECCRA, VT400 and up).\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n//     Pp denotes the source page.\n//     Pt; Pl denotes the target location.\n//     Pp denotes the target page.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.copyRectangle = function(params) {\n  ;\n};\n\n// CSI Pt ; Pl ; Pb ; Pr ' w\n//   Enable Filter Rectangle (DECEFR), VT420 and up.\n//   Parameters are [top;left;bottom;right].\n//   Defines the coordinates of a filter rectangle and activates\n//   it.  Anytime the locator is detected outside of the filter\n//   rectangle, an outside rectangle event is generated and the\n//   rectangle is disabled.  Filter rectangles are always treated\n//   as \"one-shot\" events.  Any parameters that are omitted default\n//   to the current locator position.  If all parameters are omit-\n//   ted, any locator motion will be reported.  DECELR always can-\n//   cels any prevous rectangle definition.\nTerminal.prototype.enableFilterRectangle = function(params) {\n  ;\n};\n\n// CSI Ps x  Request Terminal Parameters (DECREQTPARM).\n//   if Ps is a \"0\" (default) or \"1\", and xterm is emulating VT100,\n//   the control sequence elicits a response of the same form whose\n//   parameters describe the terminal:\n//     Ps -> the given Ps incremented by 2.\n//     Pn = 1  <- no parity.\n//     Pn = 1  <- eight bits.\n//     Pn = 1  <- 2  8  transmit 38.4k baud.\n//     Pn = 1  <- 2  8  receive 38.4k baud.\n//     Pn = 1  <- clock multiplier.\n//     Pn = 0  <- STP flags.\nTerminal.prototype.requestParameters = function(params) {\n  ;\n};\n\n// CSI Ps x  Select Attribute Change Extent (DECSACE).\n//     Ps = 0  -> from start to end position, wrapped.\n//     Ps = 1  -> from start to end position, wrapped.\n//     Ps = 2  -> rectangle (exact).\nTerminal.prototype.selectChangeExtent = function(params) {\n  ;\n};\n\n// CSI Pc; Pt; Pl; Pb; Pr$ x\n//   Fill Rectangular Area (DECFRA), VT420 and up.\n//     Pc is the character to use.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.fillRectangle = function(params) {\n  var ch = params[0]\n    , t = params[1]\n    , l = params[2]\n    , b = params[3]\n    , r = params[4];\n\n  var line\n    , i;\n\n  for (; t < b + 1; t++) {\n    line = this.lines[this.ybase + t];\n    for (i = l; i < r; i++) {\n      line[i] = [line[i][0], String.fromCharCode(ch)];\n    }\n  }\n\n  // this.maxRange();\n  this.updateRange(params[1]);\n  this.updateRange(params[3]);\n};\n\n// CSI Ps ; Pu ' z\n//   Enable Locator Reporting (DECELR).\n//   Valid values for the first parameter:\n//     Ps = 0  -> Locator disabled (default).\n//     Ps = 1  -> Locator enabled.\n//     Ps = 2  -> Locator enabled for one report, then disabled.\n//   The second parameter specifies the coordinate unit for locator\n//   reports.\n//   Valid values for the second parameter:\n//     Pu = 0  <- or omitted -> default to character cells.\n//     Pu = 1  <- device physical pixels.\n//     Pu = 2  <- character cells.\nTerminal.prototype.enableLocatorReporting = function(params) {\n  var val = params[0] > 0;\n  //this.mouseEvents = val;\n  //this.decLocator = val;\n};\n\n// CSI Pt; Pl; Pb; Pr$ z\n//   Erase Rectangular Area (DECERA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.eraseRectangle = function(params) {\n  var t = params[0]\n    , l = params[1]\n    , b = params[2]\n    , r = params[3];\n\n  var line\n    , i\n    , ch;\n\n  ch = [this.eraseAttr(), ' ']; // xterm?\n\n  for (; t < b + 1; t++) {\n    line = this.lines[this.ybase + t];\n    for (i = l; i < r; i++) {\n      line[i] = ch;\n    }\n  }\n\n  // this.maxRange();\n  this.updateRange(params[0]);\n  this.updateRange(params[2]);\n};\n\n// CSI Pm ' {\n//   Select Locator Events (DECSLE).\n//   Valid values for the first (and any additional parameters)\n//   are:\n//     Ps = 0  -> only respond to explicit host requests (DECRQLP).\n//                (This is default).  It also cancels any filter\n//   rectangle.\n//     Ps = 1  -> report button down transitions.\n//     Ps = 2  -> do not report button down transitions.\n//     Ps = 3  -> report button up transitions.\n//     Ps = 4  -> do not report button up transitions.\nTerminal.prototype.setLocatorEvents = function(params) {\n  ;\n};\n\n// CSI Pt; Pl; Pb; Pr$ {\n//   Selective Erase Rectangular Area (DECSERA), VT400 and up.\n//     Pt; Pl; Pb; Pr denotes the rectangle.\nTerminal.prototype.selectiveEraseRectangle = function(params) {\n  ;\n};\n\n// CSI Ps ' |\n//   Request Locator Position (DECRQLP).\n//   Valid values for the parameter are:\n//     Ps = 0 , 1 or omitted -> transmit a single DECLRP locator\n//     report.\n\n//   If Locator Reporting has been enabled by a DECELR, xterm will\n//   respond with a DECLRP Locator Report.  This report is also\n//   generated on button up and down events if they have been\n//   enabled with a DECSLE, or when the locator is detected outside\n//   of a filter rectangle, if filter rectangles have been enabled\n//   with a DECEFR.\n\n//     -> CSI Pe ; Pb ; Pr ; Pc ; Pp &  w\n\n//   Parameters are [event;button;row;column;page].\n//   Valid values for the event:\n//     Pe = 0  -> locator unavailable - no other parameters sent.\n//     Pe = 1  -> request - xterm received a DECRQLP.\n//     Pe = 2  -> left button down.\n//     Pe = 3  -> left button up.\n//     Pe = 4  -> middle button down.\n//     Pe = 5  -> middle button up.\n//     Pe = 6  -> right button down.\n//     Pe = 7  -> right button up.\n//     Pe = 8  -> M4 button down.\n//     Pe = 9  -> M4 button up.\n//     Pe = 1 0  -> locator outside filter rectangle.\n//   ``button'' parameter is a bitmask indicating which buttons are\n//     pressed:\n//     Pb = 0  <- no buttons down.\n//     Pb & 1  <- right button down.\n//     Pb & 2  <- middle button down.\n//     Pb & 4  <- left button down.\n//     Pb & 8  <- M4 button down.\n//   ``row'' and ``column'' parameters are the coordinates of the\n//     locator position in the xterm window, encoded as ASCII deci-\n//     mal.\n//   The ``page'' parameter is not used by xterm, and will be omit-\n//   ted.\nTerminal.prototype.requestLocatorPosition = function(params) {\n  ;\n};\n\n// CSI P m SP }\n// Insert P s Column(s) (default = 1) (DECIC), VT420 and up.\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.insertColumns = function() {\n  var param = params[0]\n    , l = this.ybase + this.rows\n    , ch = [this.eraseAttr(), ' '] // xterm?\n    , i;\n\n  while (param--) {\n    for (i = this.ybase; i < l; i++) {\n      this.lines[i].splice(this.x + 1, 0, ch);\n      this.lines[i].pop();\n    }\n  }\n\n  this.maxRange();\n};\n\n// CSI P m SP ~\n// Delete P s Column(s) (default = 1) (DECDC), VT420 and up\n// NOTE: xterm doesn't enable this code by default.\nTerminal.prototype.deleteColumns = function() {\n  var param = params[0]\n    , l = this.ybase + this.rows\n    , ch = [this.eraseAttr(), ' '] // xterm?\n    , i;\n\n  while (param--) {\n    for (i = this.ybase; i < l; i++) {\n      this.lines[i].splice(this.x, 1);\n      this.lines[i].push(ch);\n    }\n  }\n\n  this.maxRange();\n};\n\n/**\n * Prefix/Select/Visual/Search Modes\n */\n\nTerminal.prototype.enterPrefix = function() {\n  this.prefixMode = true;\n};\n\nTerminal.prototype.leavePrefix = function() {\n  this.prefixMode = false;\n};\n\nTerminal.prototype.enterSelect = function() {\n  this._real = {\n    x: this.x,\n    y: this.y,\n    ydisp: this.ydisp,\n    ybase: this.ybase,\n    cursorHidden: this.cursorHidden,\n    lines: this.copyBuffer(this.lines),\n    write: this.write\n  };\n  this.write = function() {};\n  this.selectMode = true;\n  this.visualMode = false;\n  this.cursorHidden = false;\n  this.refresh(this.y, this.y);\n};\n\nTerminal.prototype.leaveSelect = function() {\n  this.x = this._real.x;\n  this.y = this._real.y;\n  this.ydisp = this._real.ydisp;\n  this.ybase = this._real.ybase;\n  this.cursorHidden = this._real.cursorHidden;\n  this.lines = this._real.lines;\n  this.write = this._real.write;\n  delete this._real;\n  this.selectMode = false;\n  this.visualMode = false;\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.enterVisual = function() {\n  this._real.preVisual = this.copyBuffer(this.lines);\n  this.selectText(this.x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n  this.visualMode = true;\n};\n\nTerminal.prototype.leaveVisual = function() {\n  this.lines = this._real.preVisual;\n  delete this._real.preVisual;\n  delete this._selected;\n  this.visualMode = false;\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.enterSearch = function(down) {\n  this.entry = '';\n  this.searchMode = true;\n  this.searchDown = down;\n  this._real.preSearch = this.copyBuffer(this.lines);\n  this._real.preSearchX = this.x;\n  this._real.preSearchY = this.y;\n\n  var bottom = this.ydisp + this.rows - 1;\n  for (var i = 0; i < this.entryPrefix.length; i++) {\n    //this.lines[bottom][i][0] = (this.defAttr & ~0x1ff) | 4;\n    //this.lines[bottom][i][1] = this.entryPrefix[i];\n    this.lines[bottom][i] = [\n      (this.defAttr & ~0x1ff) | 4,\n      this.entryPrefix[i]\n    ];\n  }\n\n  this.y = this.rows - 1;\n  this.x = this.entryPrefix.length;\n\n  this.refresh(this.rows - 1, this.rows - 1);\n};\n\nTerminal.prototype.leaveSearch = function() {\n  this.searchMode = false;\n\n  if (this._real.preSearch) {\n    this.lines = this._real.preSearch;\n    this.x = this._real.preSearchX;\n    this.y = this._real.preSearchY;\n    delete this._real.preSearch;\n    delete this._real.preSearchX;\n    delete this._real.preSearchY;\n  }\n\n  this.refresh(this.rows - 1, this.rows - 1);\n};\n\nTerminal.prototype.copyBuffer = function(lines) {\n  var lines = lines || this.lines\n    , out = [];\n\n  for (var y = 0; y < lines.length; y++) {\n    out[y] = [];\n    for (var x = 0; x < lines[y].length; x++) {\n      out[y][x] = [lines[y][x][0], lines[y][x][1]];\n    }\n  }\n\n  return out;\n};\n\nTerminal.prototype.getCopyTextarea = function(text) {\n  var textarea = this._copyTextarea\n    , document = this.document;\n\n  if (!textarea) {\n    textarea = document.createElement('textarea');\n    textarea.style.position = 'absolute';\n    textarea.style.left = '-32000px';\n    textarea.style.top = '-32000px';\n    textarea.style.width = '0px';\n    textarea.style.height = '0px';\n    textarea.style.opacity = '0';\n    textarea.style.backgroundColor = 'transparent';\n    textarea.style.borderStyle = 'none';\n    textarea.style.outlineStyle = 'none';\n\n    document.getElementsByTagName('body')[0].appendChild(textarea);\n\n    this._copyTextarea = textarea;\n  }\n\n  return textarea;\n};\n\n// NOTE: Only works for primary selection on X11.\n// Non-X11 users should use Ctrl-C instead.\nTerminal.prototype.copyText = function(text) {\n  var self = this\n    , textarea = this.getCopyTextarea();\n\n  this.emit('copy', text);\n\n  textarea.focus();\n  textarea.textContent = text;\n  textarea.value = text;\n  textarea.setSelectionRange(0, text.length);\n\n  setTimeout(function() {\n    self.element.focus();\n    self.focus();\n  }, 1);\n};\n\nTerminal.prototype.selectText = function(x1, x2, y1, y2) {\n  var ox1\n    , ox2\n    , oy1\n    , oy2\n    , tmp\n    , x\n    , y\n    , xl\n    , attr;\n\n  if (this._selected) {\n    ox1 = this._selected.x1;\n    ox2 = this._selected.x2;\n    oy1 = this._selected.y1;\n    oy2 = this._selected.y2;\n\n    if (oy2 < oy1) {\n      tmp = ox2;\n      ox2 = ox1;\n      ox1 = tmp;\n      tmp = oy2;\n      oy2 = oy1;\n      oy1 = tmp;\n    }\n\n    if (ox2 < ox1 && oy1 === oy2) {\n      tmp = ox2;\n      ox2 = ox1;\n      ox1 = tmp;\n    }\n\n    for (y = oy1; y <= oy2; y++) {\n      x = 0;\n      xl = this.cols - 1;\n      if (y === oy1) {\n        x = ox1;\n      }\n      if (y === oy2) {\n        xl = ox2;\n      }\n      for (; x <= xl; x++) {\n        if (this.lines[y][x].old != null) {\n          //this.lines[y][x][0] = this.lines[y][x].old;\n          //delete this.lines[y][x].old;\n          attr = this.lines[y][x].old;\n          delete this.lines[y][x].old;\n          this.lines[y][x] = [attr, this.lines[y][x][1]];\n        }\n      }\n    }\n\n    y1 = this._selected.y1;\n    x1 = this._selected.x1;\n  }\n\n  y1 = Math.max(y1, 0);\n  y1 = Math.min(y1, this.ydisp + this.rows - 1);\n\n  y2 = Math.max(y2, 0);\n  y2 = Math.min(y2, this.ydisp + this.rows - 1);\n\n  this._selected = { x1: x1, x2: x2, y1: y1, y2: y2 };\n\n  if (y2 < y1) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n    tmp = y2;\n    y2 = y1;\n    y1 = tmp;\n  }\n\n  if (x2 < x1 && y1 === y2) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n  }\n\n  for (y = y1; y <= y2; y++) {\n    x = 0;\n    xl = this.cols - 1;\n    if (y === y1) {\n      x = x1;\n    }\n    if (y === y2) {\n      xl = x2;\n    }\n    for (; x <= xl; x++) {\n      //this.lines[y][x].old = this.lines[y][x][0];\n      //this.lines[y][x][0] &= ~0x1ff;\n      //this.lines[y][x][0] |= (0x1ff << 9) | 4;\n      attr = this.lines[y][x][0];\n      this.lines[y][x] = [\n        (attr & ~0x1ff) | ((0x1ff << 9) | 4),\n        this.lines[y][x][1]\n      ];\n      this.lines[y][x].old = attr;\n    }\n  }\n\n  y1 = y1 - this.ydisp;\n  y2 = y2 - this.ydisp;\n\n  y1 = Math.max(y1, 0);\n  y1 = Math.min(y1, this.rows - 1);\n\n  y2 = Math.max(y2, 0);\n  y2 = Math.min(y2, this.rows - 1);\n\n  //this.refresh(y1, y2);\n  this.refresh(0, this.rows - 1);\n};\n\nTerminal.prototype.grabText = function(x1, x2, y1, y2) {\n  var out = ''\n    , buf = ''\n    , ch\n    , x\n    , y\n    , xl\n    , tmp;\n\n  if (y2 < y1) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n    tmp = y2;\n    y2 = y1;\n    y1 = tmp;\n  }\n\n  if (x2 < x1 && y1 === y2) {\n    tmp = x2;\n    x2 = x1;\n    x1 = tmp;\n  }\n\n  for (y = y1; y <= y2; y++) {\n    x = 0;\n    xl = this.cols - 1;\n    if (y === y1) {\n      x = x1;\n    }\n    if (y === y2) {\n      xl = x2;\n    }\n    for (; x <= xl; x++) {\n      ch = this.lines[y][x][1];\n      if (ch === ' ') {\n        buf += ch;\n        continue;\n      }\n      if (buf) {\n        out += buf;\n        buf = '';\n      }\n      out += ch;\n      if (isWide(ch)) x++;\n    }\n    buf = '';\n    out += '\\n';\n  }\n\n  // If we're not at the end of the\n  // line, don't add a newline.\n  for (x = x2, y = y2; x < this.cols; x++) {\n    if (this.lines[y][x][1] !== ' ') {\n      out = out.slice(0, -1);\n      break;\n    }\n  }\n\n  return out;\n};\n\nTerminal.prototype.keyPrefix = function(ev, key) {\n  if (key === 'k' || key === '&') {\n    this.destroy();\n  } else if (key === 'p' || key === ']') {\n    this.emit('request paste');\n  } else if (key === 'c') {\n    this.emit('request create');\n  } else if (key >= '0' && key <= '9') {\n    key = +key - 1;\n    if (!~key) key = 9;\n    this.emit('request term', key);\n  } else if (key === 'n') {\n    this.emit('request term next');\n  } else if (key === 'P') {\n    this.emit('request term previous');\n  } else if (key === ':') {\n    this.emit('request command mode');\n  } else if (key === '[') {\n    this.enterSelect();\n  }\n};\n\nTerminal.prototype.keySelect = function(ev, key) {\n  if (this.searchMode || key === 'n' || key === 'N') {\n    return this.keySearch(ev, key);\n  }\n\n  if (key === '\\x04') { // ctrl-d\n    var y = this.ydisp + this.y;\n    if (this.ydisp === this.ybase) {\n      // Mimic vim behavior\n      this.y = Math.min(this.y + (this.rows - 1) / 2 | 0, this.rows - 1);\n      this.refresh(0, this.rows - 1);\n    } else {\n      this.scrollDisp((this.rows - 1) / 2 | 0);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '\\x15') { // ctrl-u\n    var y = this.ydisp + this.y;\n    if (this.ydisp === 0) {\n      // Mimic vim behavior\n      this.y = Math.max(this.y - (this.rows - 1) / 2 | 0, 0);\n      this.refresh(0, this.rows - 1);\n    } else {\n      this.scrollDisp(-(this.rows - 1) / 2 | 0);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '\\x06') { // ctrl-f\n    var y = this.ydisp + this.y;\n    this.scrollDisp(this.rows - 1);\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '\\x02') { // ctrl-b\n    var y = this.ydisp + this.y;\n    this.scrollDisp(-(this.rows - 1));\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'k' || key === '\\x1b[A') {\n    var y = this.ydisp + this.y;\n    this.y--;\n    if (this.y < 0) {\n      this.y = 0;\n      this.scrollDisp(-1);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y + 1);\n    }\n    return;\n  }\n\n  if (key === 'j' || key === '\\x1b[B') {\n    var y = this.ydisp + this.y;\n    this.y++;\n    if (this.y >= this.rows) {\n      this.y = this.rows - 1;\n      this.scrollDisp(1);\n    }\n    if (this.visualMode) {\n      this.selectText(this.x, this.x, y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y - 1, this.y);\n    }\n    return;\n  }\n\n  if (key === 'h' || key === '\\x1b[D') {\n    var x = this.x;\n    this.x--;\n    if (this.x < 0) {\n      this.x = 0;\n    }\n    if (this.visualMode) {\n      this.selectText(x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === 'l' || key === '\\x1b[C') {\n    var x = this.x;\n    this.x++;\n    if (this.x >= this.cols) {\n      this.x = this.cols - 1;\n    }\n    if (this.visualMode) {\n      this.selectText(x, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === 'v' || key === ' ') {\n    if (!this.visualMode) {\n      this.enterVisual();\n    } else {\n      this.leaveVisual();\n    }\n    return;\n  }\n\n  if (key === 'y') {\n    if (this.visualMode) {\n      var text = this.grabText(\n        this._selected.x1, this._selected.x2,\n        this._selected.y1, this._selected.y2);\n      this.copyText(text);\n      this.leaveVisual();\n      // this.leaveSelect();\n    }\n    return;\n  }\n\n  if (key === 'q' || key === '\\x1b') {\n    if (this.visualMode) {\n      this.leaveVisual();\n    } else {\n      this.leaveSelect();\n    }\n    return;\n  }\n\n  if (key === 'w' || key === 'W') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var x = this.x;\n    var y = this.y;\n    var yb = this.ydisp;\n    var saw_space = false;\n\n    for (;;) {\n      var line = this.lines[yb + y];\n      while (x < this.cols) {\n        if (line[x][1] <= ' ') {\n          saw_space = true;\n        } else if (saw_space) {\n          break;\n        }\n        x++;\n      }\n      if (x >= this.cols) x = this.cols - 1;\n      if (x === this.cols - 1 && line[x][1] <= ' ') {\n        x = 0;\n        if (++y >= this.rows) {\n          y--;\n          if (++yb > this.ybase) {\n            yb = this.ybase;\n            x = this.x;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    this.x = x, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'b' || key === 'B') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var x = this.x;\n    var y = this.y;\n    var yb = this.ydisp;\n\n    for (;;) {\n      var line = this.lines[yb + y];\n      var saw_space = x > 0 && line[x][1] > ' ' && line[x - 1][1] > ' ';\n      while (x >= 0) {\n        if (line[x][1] <= ' ') {\n          if (saw_space && (x + 1 < this.cols && line[x + 1][1] > ' ')) {\n            x++;\n            break;\n          } else {\n            saw_space = true;\n          }\n        }\n        x--;\n      }\n      if (x < 0) x = 0;\n      if (x === 0 && (line[x][1] <= ' ' || !saw_space)) {\n        x = this.cols - 1;\n        if (--y < 0) {\n          y++;\n          if (--yb < 0) {\n            yb++;\n            x = 0;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    this.x = x, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'e' || key === 'E') {\n    var x = this.x + 1;\n    var y = this.y;\n    var yb = this.ydisp;\n    if (x >= this.cols) x--;\n\n    for (;;) {\n      var line = this.lines[yb + y];\n      while (x < this.cols) {\n        if (line[x][1] <= ' ') {\n          x++;\n        } else {\n          break;\n        }\n      }\n      while (x < this.cols) {\n        if (line[x][1] <= ' ') {\n          if (x - 1 >= 0 && line[x - 1][1] > ' ') {\n            x--;\n            break;\n          }\n        }\n        x++;\n      }\n      if (x >= this.cols) x = this.cols - 1;\n      if (x === this.cols - 1 && line[x][1] <= ' ') {\n        x = 0;\n        if (++y >= this.rows) {\n          y--;\n          if (++yb > this.ybase) {\n            yb = this.ybase;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    this.x = x, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '^' || key === '0') {\n    var ox = this.x;\n\n    if (key === '0') {\n      this.x = 0;\n    } else if (key === '^') {\n      var line = this.lines[this.ydisp + this.y];\n      var x = 0;\n      while (x < this.cols) {\n        if (line[x][1] > ' ') {\n          break;\n        }\n        x++;\n      }\n      if (x >= this.cols) x = this.cols - 1;\n      this.x = x;\n    }\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === '$') {\n    var ox = this.x;\n    var line = this.lines[this.ydisp + this.y];\n    var x = this.cols - 1;\n    while (x >= 0) {\n      if (line[x][1] > ' ') {\n        if (this.visualMode && x < this.cols - 1) x++;\n        break;\n      }\n      x--;\n    }\n    if (x < 0) x = 0;\n    this.x = x;\n    if (this.visualMode) {\n      this.selectText(ox, this.x, this.ydisp + this.y, this.ydisp + this.y);\n    } else {\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === 'g' || key === 'G') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n    if (key === 'g') {\n      this.x = 0, this.y = 0;\n      this.scrollDisp(-this.ydisp);\n    } else if (key === 'G') {\n      this.x = 0, this.y = this.rows - 1;\n      this.scrollDisp(this.ybase);\n    }\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === 'H' || key === 'M' || key === 'L') {\n    var ox = this.x;\n    var oy = this.y;\n    if (key === 'H') {\n      this.x = 0, this.y = 0;\n    } else if (key === 'M') {\n      this.x = 0, this.y = this.rows / 2 | 0;\n    } else if (key === 'L') {\n      this.x = 0, this.y = this.rows - 1;\n    }\n    if (this.visualMode) {\n      this.selectText(ox, this.x, this.ydisp + oy, this.ydisp + this.y);\n    } else {\n      this.refresh(oy, oy);\n      this.refresh(this.y, this.y);\n    }\n    return;\n  }\n\n  if (key === '{' || key === '}') {\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var line;\n    var saw_full = false;\n    var found = false;\n    var first_is_space = -1;\n    var y = this.y + (key === '{' ? -1 : 1);\n    var yb = this.ydisp;\n    var i;\n\n    if (key === '{') {\n      if (y < 0) {\n        y++;\n        if (yb > 0) yb--;\n      }\n    } else if (key === '}') {\n      if (y >= this.rows) {\n        y--;\n        if (yb < this.ybase) yb++;\n      }\n    }\n\n    for (;;) {\n      line = this.lines[yb + y];\n\n      for (i = 0; i < this.cols; i++) {\n        if (line[i][1] > ' ') {\n          if (first_is_space === -1) {\n            first_is_space = 0;\n          }\n          saw_full = true;\n          break;\n        } else if (i === this.cols - 1) {\n          if (first_is_space === -1) {\n            first_is_space = 1;\n          } else if (first_is_space === 0) {\n            found = true;\n          } else if (first_is_space === 1) {\n            if (saw_full) found = true;\n          }\n          break;\n        }\n      }\n\n      if (found) break;\n\n      if (key === '{') {\n        y--;\n        if (y < 0) {\n          y++;\n          if (yb > 0) yb--;\n          else break;\n        }\n      } else if (key === '}') {\n        y++;\n        if (y >= this.rows) {\n          y--;\n          if (yb < this.ybase) yb++;\n          else break;\n        }\n      }\n    }\n\n    if (!found) {\n      if (key === '{') {\n        y = 0;\n        yb = 0;\n      } else if (key === '}') {\n        y = this.rows - 1;\n        yb = this.ybase;\n      }\n    }\n\n    this.x = 0, this.y = y;\n    this.scrollDisp(-this.ydisp + yb);\n\n    if (this.visualMode) {\n      this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n    }\n    return;\n  }\n\n  if (key === '/' || key === '?') {\n    if (!this.visualMode) {\n      this.enterSearch(key === '/');\n    }\n    return;\n  }\n\n  return false;\n};\n\nTerminal.prototype.keySearch = function(ev, key) {\n  if (key === '\\x1b') {\n    this.leaveSearch();\n    return;\n  }\n\n  if (key === '\\r' || (!this.searchMode && (key === 'n' || key === 'N'))) {\n    this.leaveSearch();\n\n    var entry = this.entry;\n\n    if (!entry) {\n      this.refresh(0, this.rows - 1);\n      return;\n    }\n\n    var ox = this.x;\n    var oy = this.y;\n    var oyd = this.ydisp;\n\n    var line;\n    var found = false;\n    var wrapped = false;\n    var x = this.x + 1;\n    var y = this.ydisp + this.y;\n    var yb, i;\n    var up = key === 'N'\n      ? this.searchDown\n      : !this.searchDown;\n\n    for (;;) {\n      line = this.lines[y];\n\n      while (x < this.cols) {\n        for (i = 0; i < entry.length; i++) {\n          if (x + i >= this.cols) break;\n          if (line[x + i][1] !== entry[i]) {\n            break;\n          } else if (line[x + i][1] === entry[i] && i === entry.length - 1) {\n            found = true;\n            break;\n          }\n        }\n        if (found) break;\n        x += i + 1;\n      }\n      if (found) break;\n\n      x = 0;\n\n      if (!up) {\n        y++;\n        if (y > this.ybase + this.rows - 1) {\n          if (wrapped) break;\n          // this.setMessage('Search wrapped. Continuing at TOP.');\n          wrapped = true;\n          y = 0;\n        }\n      } else {\n        y--;\n        if (y < 0) {\n          if (wrapped) break;\n          // this.setMessage('Search wrapped. Continuing at BOTTOM.');\n          wrapped = true;\n          y = this.ybase + this.rows - 1;\n        }\n      }\n    }\n\n    if (found) {\n      if (y - this.ybase < 0) {\n        yb = y;\n        y = 0;\n        if (yb > this.ybase) {\n          y = yb - this.ybase;\n          yb = this.ybase;\n        }\n      } else {\n        yb = this.ybase;\n        y -= this.ybase;\n      }\n\n      this.x = x, this.y = y;\n      this.scrollDisp(-this.ydisp + yb);\n\n      if (this.visualMode) {\n        this.selectText(ox, this.x, oy + oyd, this.ydisp + this.y);\n      }\n      return;\n    }\n\n    // this.setMessage(\"No matches found.\");\n    this.refresh(0, this.rows - 1);\n\n    return;\n  }\n\n  if (key === '\\b' || key === '\\x7f') {\n    if (this.entry.length === 0) return;\n    var bottom = this.ydisp + this.rows - 1;\n    this.entry = this.entry.slice(0, -1);\n    var i = this.entryPrefix.length + this.entry.length;\n    //this.lines[bottom][i][1] = ' ';\n    this.lines[bottom][i] = [\n      this.lines[bottom][i][0],\n      ' '\n    ];\n    this.x--;\n    this.refresh(this.rows - 1, this.rows - 1);\n    this.refresh(this.y, this.y);\n    return;\n  }\n\n  if (key.length === 1 && key >= ' ' && key <= '~') {\n    var bottom = this.ydisp + this.rows - 1;\n    this.entry += key;\n    var i = this.entryPrefix.length + this.entry.length - 1;\n    //this.lines[bottom][i][0] = (this.defAttr & ~0x1ff) | 4;\n    //this.lines[bottom][i][1] = key;\n    this.lines[bottom][i] = [\n      (this.defAttr & ~0x1ff) | 4,\n      key\n    ];\n    this.x++;\n    this.refresh(this.rows - 1, this.rows - 1);\n    this.refresh(this.y, this.y);\n    return;\n  }\n\n  return false;\n};\n\n/**\n * Character Sets\n */\n\nTerminal.charsets = {};\n\n// DEC Special Character and Line Drawing Set.\n// http://vt100.net/docs/vt102-ug/table5-13.html\n// A lot of curses apps use this if they see TERM=xterm.\n// testing: echo -e '\\e(0a\\e(B'\n// The xterm output sometimes seems to conflict with the\n// reference above. xterm seems in line with the reference\n// when running vttest however.\n// The table below now uses xterm's output from vttest.\nTerminal.charsets.SCLD = { // (0\n  '`': '\\u25c6', // ''\n  'a': '\\u2592', // ''\n  'b': '\\u0009', // '\\t'\n  'c': '\\u000c', // '\\f'\n  'd': '\\u000d', // '\\r'\n  'e': '\\u000a', // '\\n'\n  'f': '\\u00b0', // ''\n  'g': '\\u00b1', // ''\n  'h': '\\u2424', // '\\u2424' (NL)\n  'i': '\\u000b', // '\\v'\n  'j': '\\u2518', // ''\n  'k': '\\u2510', // ''\n  'l': '\\u250c', // ''\n  'm': '\\u2514', // ''\n  'n': '\\u253c', // ''\n  'o': '\\u23ba', // ''\n  'p': '\\u23bb', // ''\n  'q': '\\u2500', // ''\n  'r': '\\u23bc', // ''\n  's': '\\u23bd', // ''\n  't': '\\u251c', // ''\n  'u': '\\u2524', // ''\n  'v': '\\u2534', // ''\n  'w': '\\u252c', // ''\n  'x': '\\u2502', // ''\n  'y': '\\u2264', // ''\n  'z': '\\u2265', // ''\n  '{': '\\u03c0', // ''\n  '|': '\\u2260', // ''\n  '}': '\\u00a3', // ''\n  '~': '\\u00b7'  // ''\n};\n\nTerminal.charsets.UK = null; // (A\nTerminal.charsets.US = null; // (B (USASCII)\nTerminal.charsets.Dutch = null; // (4\nTerminal.charsets.Finnish = null; // (C or (5\nTerminal.charsets.French = null; // (R\nTerminal.charsets.FrenchCanadian = null; // (Q\nTerminal.charsets.German = null; // (K\nTerminal.charsets.Italian = null; // (Y\nTerminal.charsets.NorwegianDanish = null; // (E or (6\nTerminal.charsets.Spanish = null; // (Z\nTerminal.charsets.Swedish = null; // (H or (7\nTerminal.charsets.Swiss = null; // (=\nTerminal.charsets.ISOLatin = null; // /A\n\n/**\n * Helpers\n */\n\nfunction on(el, type, handler, capture) {\n  el.addEventListener(type, handler, capture || false);\n}\n\nfunction off(el, type, handler, capture) {\n  el.removeEventListener(type, handler, capture || false);\n}\n\nfunction cancel(ev) {\n  if (ev.preventDefault) ev.preventDefault();\n  ev.returnValue = false;\n  if (ev.stopPropagation) ev.stopPropagation();\n  ev.cancelBubble = true;\n  return false;\n}\n\nfunction inherits(child, parent) {\n  function f() {\n    this.constructor = child;\n  }\n  f.prototype = parent.prototype;\n  child.prototype = new f;\n}\n\n// if bold is broken, we can't\n// use it in the terminal.\nfunction isBoldBroken(document) {\n  var body = document.getElementsByTagName('body')[0];\n  var terminal = document.createElement('div');\n  terminal.className = 'terminal';\n  var line = document.createElement('div');\n  var el = document.createElement('span');\n  el.innerHTML = 'hello world';\n  line.appendChild(el);\n  terminal.appendChild(line);\n  body.appendChild(terminal);\n  var w1 = el.scrollWidth;\n  el.style.fontWeight = 'bold';\n  var w2 = el.scrollWidth;\n  body.removeChild(terminal);\n  return w1 !== w2;\n}\n\nvar String = this.String;\nvar setTimeout = this.setTimeout;\nvar setInterval = this.setInterval;\n\nfunction indexOf(obj, el) {\n  var i = obj.length;\n  while (i--) {\n    if (obj[i] === el) return i;\n  }\n  return -1;\n}\n\nfunction isWide(ch) {\n  if (ch <= '\\uff00') return false;\n  return (ch >= '\\uff01' && ch <= '\\uffbe')\n      || (ch >= '\\uffc2' && ch <= '\\uffc7')\n      || (ch >= '\\uffca' && ch <= '\\uffcf')\n      || (ch >= '\\uffd2' && ch <= '\\uffd7')\n      || (ch >= '\\uffda' && ch <= '\\uffdc')\n      || (ch >= '\\uffe0' && ch <= '\\uffe6')\n      || (ch >= '\\uffe8' && ch <= '\\uffee');\n}\n\nfunction matchColor(r1, g1, b1) {\n  var hash = (r1 << 16) | (g1 << 8) | b1;\n\n  if (matchColor._cache[hash] != null) {\n    return matchColor._cache[hash];\n  }\n\n  var ldiff = Infinity\n    , li = -1\n    , i = 0\n    , c\n    , r2\n    , g2\n    , b2\n    , diff;\n\n  for (; i < Terminal.vcolors.length; i++) {\n    c = Terminal.vcolors[i];\n    r2 = c[0];\n    g2 = c[1];\n    b2 = c[2];\n\n    diff = matchColor.distance(r1, g1, b1, r2, g2, b2);\n\n    if (diff === 0) {\n      li = i;\n      break;\n    }\n\n    if (diff < ldiff) {\n      ldiff = diff;\n      li = i;\n    }\n  }\n\n  return matchColor._cache[hash] = li;\n}\n\nmatchColor._cache = {};\n\n// http://stackoverflow.com/questions/1633828\nmatchColor.distance = function(r1, g1, b1, r2, g2, b2) {\n  return Math.pow(30 * (r1 - r2), 2)\n    + Math.pow(59 * (g1 - g2), 2)\n    + Math.pow(11 * (b1 - b2), 2);\n};\n\nfunction each(obj, iter, con) {\n  if (obj.forEach) return obj.forEach(iter, con);\n  for (var i = 0; i < obj.length; i++) {\n    iter.call(con, obj[i], i, obj);\n  }\n}\n\nfunction keys(obj) {\n  if (Object.keys) return Object.keys(obj);\n  var key, keys = [];\n  for (key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      keys.push(key);\n    }\n  }\n  return keys;\n}\n\n/**\n * Expose\n */\n\nTerminal.EventEmitter = EventEmitter;\nTerminal.Stream = Stream;\nTerminal.inherits = inherits;\nTerminal.on = on;\nTerminal.off = off;\nTerminal.cancel = cancel;\n\nif (typeof define === 'function' && define.amd) {\n  define([], function() { return Terminal; });\n} else if (typeof module !== 'undefined') {\n  module.exports = Terminal;\n} else {\n  this.Terminal = Terminal;\n}\n\n}).call(function() {\n  return this || (typeof window !== 'undefined' ? window : global);\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/term.js-cockpit/src/term.js\n// module id = 74\n// module chunks = 0","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\n\nimport { vmId, logDebug } from '../helpers.es6';\n\nconst _ = cockpit.gettext;\n\nconst Frame = ({ url, novncContainerId }) => {\n    return (\n        <iframe src={url} className='machines-console-frame-vnc' frameBorder='0' name={novncContainerId} data-container-id={novncContainerId}>\n            {_(\"Your browser does not support iframes.\")}\n        </iframe>\n    );\n};\nFrame.propTypes = {\n    url: React.PropTypes.string.isRequired,\n    novncContainerId: React.PropTypes.string.isRequired,\n};\n\nexport const VncActions = ({ vm }) => {\n    const vmIdPrefix = vmId(vm.name);\n    return (\n        <span className='console-actions'>\n            {_(\"Send shortcut\")}\n            <button className='btn btn-default console-actions-buttons' id={`${vmIdPrefix}-vnc-ctrl-alt-del`}>\n                Ctrl+Alt+Del\n            </button>\n        </span>\n    );\n};\n\nconst Vnc = ({ vm, consoleDetail }) => {\n    if (!consoleDetail) {\n        logDebug('Vnc component: console detail not yet provided');\n        return null;\n    }\n\n    const vmIdPrefix = vmId(vm.name);\n    const novncContainerId = `${vmIdPrefix}-novnc-frame-container`;\n\n    const encrypt = window.location.protocol === \"https:\";\n    const port = consoleDetail.tlsPort || consoleDetail.port;\n\n    let params = `?host=${consoleDetail.address}&port=${port}&encrypt=${encrypt}&true_color=1&resize=true&containerId=${encodeURIComponent(vmIdPrefix)}`;\n    params = consoleDetail.password ? params += `&password=${consoleDetail.password}` : params;\n\n    return (\n        <div id={novncContainerId} className='machines-console-frame' style={{ height: '100px;' }}>\n            <br />\n            <Frame url={`vnc.html${params}`} novncContainerId={novncContainerId}/>\n        </div>\n    );\n};\n\nexport default Vnc;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/vnc.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\nimport { vmId } from '../helpers.es6';\n\nconst _ = cockpit.gettext;\n\nconst MoreInformationInstallVariant = ({ os, command, innerHtml }) => {\n    return (\n        <li className='machines-desktop-install-instructs-item'>\n            <div className='machines-desktop-install-instructs-row'>\n                <b>{os}:</b>&nbsp;\n                {innerHtml && <div dangerouslySetInnerHTML={{__html: innerHtml}}/>}\n                {!innerHtml && <div className='machines-desktop-shell-command'>{command}</div>}\n            </div>\n        </li>\n\n    );\n}\n\nconst MoreInformationContent = () => {\n    const msg1 = cockpit.format(_(\"Clicking \\\"Launch Remote Viewer\\\" will download a .vv file and launch $0.\"),\n        '<i>Remote Viewer</i>');\n\n    const msg2 = cockpit.format(_(\"$0 is available for most operating systems. To install it, search for it in GNOME Software or run the following:\"),\n        '<i>Remote Viewer</i>');\n\n    const downloadMsg = cockpit.format(_(\"Download the MSI from $0\"),\n        '<a href=\"https://virt-manager.org/download/\" target=\"_blank\">virt-manager.org</a>');\n\n    return (\n        <div>\n            <br />\n            <p className='machines-desktop-more-info-text' dangerouslySetInnerHTML={{__html: msg1}} />\n            <p className='machines-desktop-more-info-text' dangerouslySetInnerHTML={{__html: msg2}} />\n\n            <ul className='machines-desktop-install-instructs'>\n                <MoreInformationInstallVariant os='RHEL, CentOS' command='sudo yum install virt-viewer'/>\n                <MoreInformationInstallVariant os='Fedora' command='sudo dnf install virt-viewer'/>\n                <MoreInformationInstallVariant os='Ubuntu, Debian' command='sudo apt-get install virt-viewer'/>\n                <MoreInformationInstallVariant os='Windows' innerHtml={downloadMsg}/>\n            </ul>\n        </div>\n    );\n}\n\nclass MoreInformation extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            expanded: false,\n        };\n\n        this.onClick = this.onClick.bind(this);\n        this.getContent = this.getContent.bind(this);\n    }\n\n    onClick() {\n        this.setState({\n            expanded: !this.state.expanded,\n        });\n    }\n\n    getContent() {\n        const { vm } = this.props;\n        const { provider, providerState } = this.props.config;\n\n        let content = <MoreInformationContent />;\n        if (provider.ConsoleClientResources) {\n            // external provider can have specific instructions for console setup\n            const ProviderConsoleClientResources = provider.ConsoleClientResources; // (vm, providerState);\n            content = <ProviderConsoleClientResources displays={vm.displays} vm={vm} providerState={providerState} />\n        }\n\n        return content;\n    }\n\n    render() {\n        if (!this.state.expanded) {\n            return (\n                <a href='#' onClick={this.onClick}>\n                    <span className='fa fa-angle-right'/>&nbsp;\n                    {_(\"More Information\")}\n                </a>);\n        }\n\n        return (\n            <div className='machines-desktop-more-info-container'>\n                <a href='#' onClick={this.onClick}>\n                    <span className='fa fa-angle-down'/>&nbsp;\n                    {_(\"More Information\")}\n                </a>\n                {this.getContent()}\n            </div>);\n    }\n}\n\nconst ConnectWithRemoteViewer = ({ vm, config, onDesktopConsole }) => {\n    let display = vm.displays.spice;\n    if (!display) {\n        display = vm.displays.vnc;\n    }\n    const onLaunch = () => onDesktopConsole(display);\n\n    return (\n        <td className='machines-desktop-main-col'>\n            <p className='machines-desktop-viewer-block'>\n                <button onClick={onLaunch} id={`${vmId(vm.name)}-consoles-launch`}>\n                    {_(\"Launch Remote Viewer\")}\n                </button>\n            </p>\n            <p className='machines-desktop-viewer-block'>\n                <MoreInformation vm={vm} config={config} />\n            </p>\n        </td>\n    );\n}\n\nconst ManualConnectionDetails = ({ displays, idPrefix }) => {\n    const spiceAddress = displays.spice && displays.spice.address;\n    const spicePort = displays.spice && displays.spice.port;\n    const spiceTlsPort = displays.spice && displays.spice.tlsPort;\n    const vncPort = displays.vnc && displays.vnc.port;\n    const vncTlsPort = displays.vnc && displays.vnc.tlsPort;\n    const vncAddress = displays.vnc && displays.vnc.address;\n\n    // deduplicate the address if possible\n    const singleAddress = vncAddress && spiceAddress ?\n        (vncAddress === spiceAddress && vncAddress)\n        : (spiceAddress || vncAddress);\n\n    return (\n        <dl className='machines-desktop-manual-con-details'>\n            {singleAddress && (<dt>{_(\"Address:\")}</dt>)}\n            {singleAddress && (<dd id={`${idPrefix}-address`}>{singleAddress}</dd>)}\n\n            {(!singleAddress && spiceAddress) && (<dt>{_(\"SPICE Address:\")}</dt>)}\n            {(!singleAddress && spiceAddress) && (<dd id={`${idPrefix}-address-spice`}>{spiceAddress}</dd>)}\n\n            {(!singleAddress && vncAddress) && (<dt>{_(\"VNC Address:\")}</dt>)}\n            {(!singleAddress && vncAddress) && (<dd id={`${idPrefix}-address-vnc`}>{vncAddress}</dd>)}\n\n            {spicePort && (<dt>{_(\"SPICE Port:\")}</dt>)}\n            {spicePort && (<dd id={`${idPrefix}-port-spice`}>{spicePort}</dd>)}\n\n            {spiceTlsPort && (<dt>{_(\"SPICE TLS Port:\")}</dt>)}\n            {spiceTlsPort && (<dd id={`${idPrefix}-port-spice-tls`}>{spiceTlsPort}</dd>)}\n\n            {vncPort && (<dt>{_(\"VNC Port:\")}</dt>)}\n            {vncPort && (<dd id={`${idPrefix}-port-vnc`}>{vncPort}</dd>)}\n\n            {vncTlsPort && (<dt>{_(\"VNC TLS Port:\")}</dt>)}\n            {vncTlsPort && (<dd id={`${idPrefix}-port-vnc-tls`}>{vncTlsPort}</dd>)}\n        </dl>\n    );\n}\n\nconst ManualConnection = ({ displays, idPrefix }) => {\n    const isVNC = !!displays.vnc\n    const isSPICE = !!displays.spice\n\n    if (!isVNC && !isSPICE) {\n        return null;\n    }\n\n    let msg = _(\"Connect with any SPICE or VNC viewer application.\");\n    if (!isVNC || !isSPICE) {\n        const protocol = isVNC ? _(\"VNC\") : _(\"SPICE\");\n        msg = cockpit.format(_(\"Connect with any $0 viewer application.\"), protocol);\n    }\n\n    return (\n        <td className='machines-desktop-main-col'>\n            <h2>{_(\"Manual Connection\")}</h2>\n            <p className='machines-desktop-manual-block'>{msg}</p>\n            <p className='machines-desktop-manual-block'>\n                <ManualConnectionDetails displays={displays} idPrefix={idPrefix}/>\n            </p>\n        </td>\n    )\n}\n\nconst DesktopConsoleDownload = ({ vm, onDesktopConsole, config }) => {\n    return (\n        <div>\n            <table className='machines-desktop-main'>\n                <tr>\n                    <ConnectWithRemoteViewer config={config} vm={vm} onDesktopConsole={onDesktopConsole} />\n                    <ManualConnection displays={vm.displays} idPrefix={`${vmId(vm.name)}-consoles-manual`}/>\n                </tr>\n            </table>\n        </div>\n    );\n};\n\nexport default DesktopConsoleDownload;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/desktopConsole.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from 'cockpit';\nimport React from 'react';\nimport { show_modal_dialog } from 'cockpit-components-dialog.jsx';\nimport { deleteVm } from '../actions.es6';\n\nimport './deleteDialog.css';\n\nconst _ = cockpit.gettext;\n\n// Explicitly use React so that jshint doesn't complain.  The conversion to js inserts\n// references to React that jshint doesn't seem to see.\nReact;\n\nconst DeleteDialogBody = ({ values, onChange }) => {\n    function disk_row(disk) {\n        return (\n            <tr>\n                <td>\n                    <input type=\"checkbox\" checked={disk.checked}\n                           onChange={(event) => {\n                                   disk.checked = event.target.checked;\n                                   onChange();\n                               }}/>\n                </td>\n                <td>{disk.file}</td>\n                <td>{disk.target}</td>\n            </tr>\n        );\n    }\n\n    let alert = null;\n    if (values.destroy)\n        alert = <p>{_(\"The VM is running and will be forced off before deletion.\")}</p>;\n\n    let disks = null;\n    if (values.disks.length > 0)\n        disks = (\n            <div>\n                <p>{_(\"Delete associated storage files:\")}</p>\n                <table className=\"table delete-dialog-disks\">\n                    <tbody>\n                        { values.disks.map(disk_row) }\n                    </tbody>\n                </table>\n            </div>\n        );\n\n    return (\n        <div className=\"modal-body\">\n            {alert}\n            {disks}\n        </div>\n    );\n}\n\nexport function deleteDialog(vm, dispatch) {\n    let values = {\n        destroy: false,\n        disks: [ ]\n    };\n\n    Object.keys(vm.disks).sort().forEach(t => {\n        let d = vm.disks[t];\n        if (d.type == 'file' && d.source.file)\n            values.disks.push({ target: d.target, file: d.source.file, checked: !d.readonly });\n    });\n\n    if (vm.state == 'running')\n        values.destroy = true;\n\n    let dlg = show_modal_dialog(\n        { title: cockpit.format(_(\"Confirm deletion of $0\"), vm.name),\n          body: <DeleteDialogBody values={values} onChange={() => dlg.render()}/>\n        },\n        { actions: [\n            { caption: _(\"Delete\"),\n              style: 'danger',\n              clicked: () => {\n                  let storage = [ ];\n                  values.disks.forEach(d => { if (d.checked) storage.push(d.target); });\n                  return dispatch(deleteVm(vm, { destroy: values.destroy, storage: storage }));\n              }\n            }\n        ]\n        });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/deleteDialog.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2018 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { PropTypes } from \"react\";\nimport { mouseClick } from '../helpers.es6';\nimport './dropdownButtons.css';\n\nReact;\n\n/**\n * Render group of buttons as a dropdown\n *\n * @param buttons array of objects [ {title, action, id}, ... ].\n *        At least one button is required. Button id is optional.\n * @returns {*}\n * @constructor\n */\nconst DropdownButtons = ({ buttons }) => {\n    if (buttons.length > 1) { // do not display caret for single option\n        const buttonsHtml = buttons\n            .filter(button => buttons[0].id === undefined || buttons[0].id !== button.id)\n            .map(button => {\n                return (<li className='presentation'>\n                    <a role='menuitem' onClick={mouseClick(button.action)} id={button.id}>\n                        {button.title}\n                    </a>\n                </li>)\n            });\n\n        const caretId = buttons[0]['id'] ? `${buttons[0]['id']}-caret` : undefined;\n        return (<div className='btn-group dropdown-buttons-container'>\n            <button className='btn btn-default btn-danger' id={buttons[0].id} onClick={mouseClick(buttons[0].action)}>\n                {buttons[0].title}\n            </button>\n            <button data-toggle='dropdown' className='btn btn-default dropdown-toggle'>\n                <span className='caret' id={caretId}/>\n            </button>\n            <ul role='menu' className='dropdown-menu'>\n                {buttonsHtml}\n            </ul>\n        </div>);\n    }\n\n    return (<div className='btn-group'>\n        <button className='btn btn-default btn-danger' onClick={mouseClick(buttons[0].action)} id={buttons[0]['id']}>\n            {buttons[0].title}\n        </button>\n    </div>);\n}\nDropdownButtons.propTypes = {\n    buttons: PropTypes.array.isRequired\n}\n\nexport default DropdownButtons;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/dropdownButtons.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from 'cockpit';\nimport React, { PropTypes } from \"react\";\nimport DialogPattern from 'cockpit-components-dialog.jsx';\nimport Select from \"cockpit-components-select.jsx\";\nimport FileAutoComplete from \"../../lib/cockpit-components-file-autocomplete.jsx\";\nimport { createVm } from '../actions.es6';\nimport {\n    digitFilter,\n    toFixedPrecision,\n    isEmpty,\n    convertToUnit,\n    timeoutedPromise,\n    units,\n} from \"../helpers.es6\";\n\nimport {\n    NOT_SPECIFIED,\n    OTHER_OS_SHORT_ID,\n    DIVIDER_FAMILY,\n    prepareVendors,\n    getOSStringRepresentation,\n} from \"./createVmDialogUtils.es6\";\n\nimport './createVmDialog.less';\n\nconst _ = cockpit.gettext;\n\nconst URL_SOURCE = 'url';\nconst COCKPIT_FILESYSTEM_SOURCE = 'file';\n\nconst WAIT_IF_SCRIPT_FAILS_WITH_ERROR = 3000; // 3s\n\nconst MemorySelectRow = ({ label, id, value, initialUnit, onValueChange, onUnitChange }) => {\n    return (\n        <tr>\n            <td className=\"top\">\n                <label className=\"control-label\" htmlFor={id}>\n                    {label}\n                </label>\n            </td>\n            <td>\n                <div className=\"thirty-five-spaced-table\">\n                    <span className=\"evenly-spaced-cell\">\n                        <div className=\"evenly-spaced-table\">\n                            <span className=\"evenly-spaced-cell\">\n                                <input id={id} className=\"form-control\"\n                                       type=\"number\"\n                                       value={toFixedPrecision(value)}\n                                       onKeyPress={digitFilter}\n                                       step={1}\n                                       min={0}\n                                       onChange={onValueChange}/>\n                            </span>\n                            <span className=\"thirty-five-spaced-cell padding-left\">\n                                <Select.Select id={id + \"-unit-select\"}\n                                               initial={initialUnit}\n                                               onChange={onUnitChange}>\n                                    <Select.SelectEntry data={units.MiB.name} key={units.MiB.name}>\n                                        {_(\"MiB\")}\n                                    </Select.SelectEntry>\n                                    <Select.SelectEntry data={units.GiB.name} key={units.GiB.name}>\n                                        {_(\"GiB\")}\n                                    </Select.SelectEntry>\n                                </Select.Select>\n                            </span>\n                        </div>\n                     </span>\n                </div>\n            </td>\n        </tr>\n    );\n};\n\n\n/* Create a virtual machine\n * props:\n *  - valuesChanged callback for changed values with the signature (key, value)\n */\nclass CreateVM extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            vendor: props.vmParams.vendor,\n            os: props.vmParams.os,\n            memorySize: convertToUnit(props.vmParams.memorySize, units.MiB, units.GiB), // tied to Unit\n            memorySizeUnit: units.GiB.name,\n            storageSize: props.vmParams.storageSize, // tied to Unit\n            storageSizeUnit: units.GiB.name,\n            sourceType: props.vmParams.sourceType,\n        };\n    }\n\n    onChangedEventValue(key, e) {\n        if (e && e.target && typeof(e.target.value) !== 'undefined') {\n            this.onChangedValue(key, e.target.value);\n        }\n    }\n\n    onChangedEventChecked(key, e) {\n        if (e && e.target && typeof(e.target.checked) === \"boolean\") {\n            this.onChangedValue(key, e.target.checked);\n        }\n    }\n\n    onChangedValue(key, value, valueParams) {\n        const notifyValuesChanged = (key, value) => {\n            if (this.props.valuesChanged) {\n                this.props.valuesChanged(key, value);\n            }\n        };\n\n        switch (key) {\n            case 'vendor': {\n                const os = this.props.vendorMap[value][0].shortId;\n                this.setState({\n                    [key]: value,\n                    os,\n                });\n                notifyValuesChanged('os', os);\n                break;\n            }\n            case 'os':\n                this.setState({ [key]: value });\n                break;\n            case 'source':\n                if (valueParams) {\n                    notifyValuesChanged('error', valueParams.error);\n                }\n                break;\n            case 'sourceType':\n                this.setState({ [key]: value });\n                notifyValuesChanged('source', null);\n                notifyValuesChanged('error', null);\n                break;\n            case 'memorySize':\n                this.setState({ [key]: value });\n                value = convertToUnit(value, this.state.memorySizeUnit, units.MiB);\n                break;\n            case 'storageSize':\n                this.setState({ [key]: value });\n                value = convertToUnit(value, this.state.storageSizeUnit, units.GiB);\n                break;\n            case 'memorySizeUnit':\n                this.setState({ [key]: value });\n                value = convertToUnit(this.state.memorySize, value, units.MiB);\n                key = 'memorySize';\n                break;\n            case 'storageSizeUnit':\n                this.setState({ [key]: value });\n                value = convertToUnit(this.state.storageSize, value, units.GiB);\n                key = 'storageSize';\n                break;\n            default:\n                break;\n        }\n\n        notifyValuesChanged(key, value);\n    }\n\n    render() {\n        const vendorSelectEntries = [];\n\n        if (this.props.familyMap[DIVIDER_FAMILY]) {\n            vendorSelectEntries.push((\n                <Select.SelectEntry data={NOT_SPECIFIED} key={NOT_SPECIFIED}>{_(NOT_SPECIFIED)}</Select.SelectEntry>));\n            vendorSelectEntries.push((<Select.SelectDivider/>));\n        }\n\n        this.props.familyList.forEach(({ family, vendors }) => {\n            if (family === DIVIDER_FAMILY) {\n                return;\n            }\n            vendorSelectEntries.push((<Select.SelectHeader>{family}</Select.SelectHeader>));\n\n            vendors.forEach((vendor) => {\n                vendorSelectEntries.push((\n                    <Select.SelectEntry data={vendor} key={vendor}>{vendor}</Select.SelectEntry>));\n            });\n        });\n\n        const osEntries = (\n            this.props.vendorMap[this.state.vendor]\n                .map(os => (<Select.SelectEntry data={os.shortId}\n                                                key={os.shortId}>{getOSStringRepresentation(os)}</Select.SelectEntry>))\n        );\n\n        let installationSource;\n        let installationSourceId;\n        switch (this.state.sourceType) {\n            case COCKPIT_FILESYSTEM_SOURCE:\n                installationSourceId=\"source-file\";\n                installationSource = (\n                    <FileAutoComplete.FileAutoComplete id={installationSourceId}\n                                                       placeholder={_(\"Path to ISO file on host's file system\")}\n                                                       onChange={this.onChangedValue.bind(this, 'source')}/>\n                );\n                break;\n            case URL_SOURCE:\n            default:\n                installationSourceId=\"source-url\";\n                installationSource = (\n                    <input id={installationSourceId} className=\"form-control\"\n                           type=\"text\"\n                           minLength={1}\n                           placeholder={_(\"Remote URL\")}\n                           value={this.props.vmParams.source}\n                           onChange={this.onChangedEventValue.bind(this, 'source')}/>\n                );\n                break;\n        }\n\n\n        return (\n            <div className=\"modal-body modal-dialog-body-table\">\n                <table className=\"form-table-ct\">\n                    <tr>\n                        <td className=\"top\">\n                            <label className=\"control-label\" htmlFor=\"vm-name\">\n                                {_(\"Name\")}\n                            </label>\n                        </td>\n                        <td>\n                            <input id=\"vm-name\" className=\"form-control\" type=\"text\" minLength={1}\n                                   value={this.props.vmParams.vmName}\n                                   onChange={this.onChangedEventValue.bind(this, 'vmName')}/>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"top\">\n                            <label className=\"control-label\" htmlFor=\"source-type\">\n                                {_(\"Installation Source Type\")}\n                            </label>\n                        </td>\n                        <td>\n                            <Select.Select id=\"source-type\"\n                                           initial={this.state.sourceType}\n                                           onChange={this.onChangedValue.bind(this, 'sourceType')}>\n                                <Select.SelectEntry data={COCKPIT_FILESYSTEM_SOURCE}\n                                                    key={COCKPIT_FILESYSTEM_SOURCE}>{_(\"Filesystem\")}</Select.SelectEntry>\n                                <Select.SelectEntry data={URL_SOURCE} key={URL_SOURCE}>{_(\"URL\")}</Select.SelectEntry>\n                            </Select.Select>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"top\">\n                            <label className=\"control-label\" htmlFor={installationSourceId}>\n                                {_(\"Installation Source\")}\n                            </label>\n                        </td>\n                        <td>\n                            {installationSource}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"top\">\n                            <label className=\"control-label\" htmlFor=\"vendor-select\">\n                                {_(\"OS Vendor\")}\n                            </label>\n                        </td>\n                        <td>\n                            <Select.Select id=\"vendor-select\"\n                                           initial={this.state.vendor}\n                                           onChange={this.onChangedValue.bind(this, 'vendor')}>\n                                {vendorSelectEntries}\n                            </Select.Select>\n                        </td>\n                    </tr>\n                    <tr>\n                        <td className=\"top\">\n                            <label className=\"control-label\" htmlFor=\"vendor-select\">\n                                {_(\"Operating System\")}\n                            </label>\n                        </td>\n                        <td>\n                            <Select.StatelessSelect id=\"system-select\"\n                                                    selected={this.state.os}\n                                                    onChange={this.onChangedValue.bind(this, 'os')}>\n                                {osEntries}\n                            </Select.StatelessSelect>\n                        </td>\n                    </tr>\n                    <MemorySelectRow label={_(\"Memory\")}\n                                     id={\"memory-size\"}\n                                     value={this.state.memorySize}\n                                     initialUnit={this.state.memorySizeUnit}\n                                     onValueChange={this.onChangedEventValue.bind(this, 'memorySize')}\n                                     onUnitChange={this.onChangedValue.bind(this, 'memorySizeUnit')}/>\n                    <MemorySelectRow label={_(\"Storage Size\")}\n                                     id={\"storage-size\"}\n                                     value={this.state.storageSize}\n                                     initialUnit={this.state.storageSizeUnit}\n                                     onValueChange={this.onChangedEventValue.bind(this, 'storageSize')}\n                                     onUnitChange={this.onChangedValue.bind(this, 'storageSizeUnit')}/>\n                    <tr>\n                        <td className=\"top\">\n                            <label className=\"control-label\" htmlFor=\"start-vm\">\n                                {_(\"Immediately Start VM\")}\n                            </label>\n                        </td>\n                        <td>\n                            <input id=\"start-vm\" className=\"form-control dialog-checkbox\" type=\"checkbox\"\n                                   checked={this.props.vmParams.startVm}\n                                   onChange={this.onChangedEventChecked.bind(this, 'startVm')}/>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        );\n    }\n}\n\nCreateVM.propTypes = {\n    valuesChanged: PropTypes.func.isRequired,\n    vmParams: PropTypes.object.isRequired,\n    vendorMap: PropTypes.object.isRequired,\n    familyMap: PropTypes.object.isRequired,\n    familyList: PropTypes.array.isRequired,\n};\n\nfunction validateParams(vmParams) {\n    if (isEmpty(vmParams.vmName)) {\n        return _(\"Name should not be empty\");\n    }\n\n    vmParams.vmName = vmParams.vmName.trim();\n    if (isEmpty(vmParams.vmName)) {\n        return _(\"Name should not consist of empty characters only\");\n    }\n\n    if (vmParams.error) {\n        return vmParams.error;\n    }\n\n    vmParams.source = vmParams.source ? vmParams.source.trim() : null;\n    if (!isEmpty(vmParams.source)) {\n        switch (vmParams.sourceType) {\n            case COCKPIT_FILESYSTEM_SOURCE:\n                if (!vmParams.source.startsWith(\"/\")) {\n                    return _(\"Invalid filename\");\n                }\n                break;\n            case URL_SOURCE:\n            default:\n                if (!vmParams.source.startsWith(\"http\") &&\n                    !vmParams.source.startsWith(\"ftp\") &&\n                    !vmParams.source.startsWith(\"nfs\")) {\n                    return _(\"Source should start with http, ftp or nfs protocol\");\n                }\n                break;\n        }\n        if (vmParams.source === \"/\") {\n            vmParams.source = null;\n        }\n    }\n\n    if (isEmpty(vmParams.source)){\n      return _(\"Installation Source should not be empty\");\n    }\n\n    if (vmParams.memorySize <= 0) {\n        return _(\"Memory should be positive number\");\n    }\n\n    if (vmParams.storageSize < 0) {\n        return _(\"Storage Size should not be negative number\");\n    }\n}\n\nexport const createVmDialog = (dispatch, osInfoList) => {\n    const vmParams = {\n        'vmName': null,\n        \"sourceType\": COCKPIT_FILESYSTEM_SOURCE,\n        'source': null,\n        'vendor': NOT_SPECIFIED,\n        \"os\": OTHER_OS_SHORT_ID,\n        'memorySize': 1024, // MiB\n        'storageSize': 10, // GiB\n        'startVm': false,\n        'error': null,\n    };\n\n    const changeParams = (key, value) => {\n        vmParams[key] = value;\n    };\n\n    const vendors = prepareVendors(osInfoList);\n\n    const dialogBody = (\n        <CreateVM vmParams={vmParams}\n                  familyList={vendors.familyList}\n                  familyMap={vendors.familyMap}\n                  vendorMap={vendors.vendorMap}\n                  valuesChanged={changeParams}/>\n    );\n\n    const dialogProps = {\n        'title': _(\"Create New Virtual Machine\"),\n        'body': dialogBody,\n    };\n\n    // also test modifying properties in subsequent render calls\n    const footerProps = {\n        'actions': [\n            {\n                'clicked': () => {\n                    const error = validateParams(vmParams);\n                    if (error) {\n                        return cockpit.defer().reject(error).promise;\n                    } else {\n                        return timeoutedPromise(dispatch(createVm(vmParams)), WAIT_IF_SCRIPT_FAILS_WITH_ERROR);\n                    }\n                },\n                'caption': _(\"Create\"),\n                'style': 'primary',\n            },\n        ],\n    };\n\n    DialogPattern.show_modal_dialog(dialogProps, footerProps);\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/createVmDialog.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\n\"use strict\";\n\nvar cockpit = require(\"cockpit\");\nvar React = require(\"react\");\nvar _ = cockpit.gettext;\nrequire(\"./cockpit-components-file-autocomplete.css\");\n\nvar FileAutoComplete = React.createClass({\n    propTypes: {\n        id: React.PropTypes.string,\n        placeholder: React.PropTypes.string,\n        value: React.PropTypes.string,\n        superuser: React.PropTypes.string,\n        onChange: React.PropTypes.func,\n    },\n    getInitialState () {\n        var value = this.props.value || \"\";\n        this.updateFiles(value);\n        return {\n            value: value,\n            directory: '/',\n            directoryFiles: null,\n            displayFiles: [],\n            open: false,\n            error: null,\n        };\n    },\n\n    getDirectoryForValue: function(value) {\n        var dir = \"\";\n        var last;\n        if (value) {\n            value = value.trim();\n            last = value.lastIndexOf(\"/\");\n            if (last > -1)\n                dir = value.slice(0, last);\n            dir += \"/\";\n        }\n\n        if (dir.indexOf(\"/\") !== 0)\n            dir = \"/\" + dir;\n\n        return dir;\n    },\n\n    onChange: function(value) {\n        if (value && value.indexOf(\"/\") !== 0)\n            value = \"/\" + value;\n\n        var stateUpdate;\n        if (!this.updateIfDirectoryChanged(value))\n            stateUpdate = this.filterFiles(value);\n        else\n            stateUpdate = {};\n\n        stateUpdate.value = value;\n        this.setState(stateUpdate);\n\n        this.onChangeCallback(value, {\n            error: stateUpdate.error,\n        });\n    },\n    onChangeCallback: function(value, options) {\n        if (this.props.onChange)\n            this.props.onChange(value, options);\n    },\n\n    onMouseDown: function (ev) {\n        // only consider clicks with the primary button\n        if (ev && ev.button !== 0)\n            return;\n\n        if (ev.target.tagName == 'A') {\n            this.setState({\n                selecting: true,\n            });\n        }\n    },\n\n    onBlur: function() {\n        if (this.state.selecting)\n            return;\n\n        if (this.timer)\n            window.clearTimeout(this.timer);\n\n        this.setState({\n            open: false,\n        });\n    },\n\n    delayedOnChange: function(ev) {\n        var self = this;\n        var value = ev.currentTarget.value;\n        if (this.timer)\n            window.clearTimeout(this.timer);\n\n        if (this.state.value !== value)\n            this.timer = window.setTimeout(function() {\n                self.onChange(value);\n                self.timer = null;\n            }, 250);\n    },\n\n    updateFiles: function(path) {\n        var self = this;\n        var channel = cockpit.channel({ payload: \"fslist1\",\n                                        path: path || \"/\",\n                                        superuser: this.props.superuser });\n\n        var results = [];\n        var error = null;\n\n        channel.addEventListener(\"ready\", function () {\n            self.finishUpdate(results, null);\n        });\n\n        channel.addEventListener(\"close\", function (ev, data) {\n            self.finishUpdate(results, error || cockpit.format(cockpit.message(data)));\n        });\n\n        channel.addEventListener(\"message\", function (ev, data) {\n            var item = JSON.parse(data);\n            if (item && item.path) {\n                if (item.type == \"directory\")\n                    item.path = item.path + \"/\";\n                results.push(item);\n            }\n\n\n            if (results.length > 5000) {\n                error = _(\"Too many files found\");\n                channel.close();\n            }\n        });\n    },\n\n    updateIfDirectoryChanged: function(value) {\n        var directory = this.getDirectoryForValue(value);\n        var changed = directory !== this.state.directory;\n        if (changed && this.state.directoryFiles !== null) {\n            this.setState({\n                displayFiles: [],\n                directoryFiles: null,\n                directory: directory,\n                open: false,\n            });\n            this.updateFiles(directory);\n        }\n        return changed;\n    },\n\n    finishUpdate: function(results, error) {\n        results = results.sort(function(a, b) {\n            return a.path.localeCompare(b.path, { sensitivity: 'base' });\n        });\n\n        this.onChangeCallback(this.state.value, {\n            error,\n        });\n\n        this.setState({\n            displayFiles: results,\n            directoryFiles: results,\n            error: error,\n        });\n    },\n\n    filterFiles: function(value) {\n        var inputValue = value.trim().toLowerCase();\n        var dirLength = this.state.directory.length;\n        var matches = [];\n        var inputLength;\n\n        inputValue = inputValue.slice(dirLength);\n        inputLength = inputValue.length;\n\n        var error;\n\n        if (this.state.directoryFiles !== null) {\n            matches = this.state.directoryFiles.filter(function (v) {\n                return v.path.toLowerCase().slice(0, inputLength) === inputValue;\n            });\n\n            if (matches.length < 1)\n                error = _(\"No matching files found\");\n        } else {\n            error = this.state.error;\n        }\n\n        return {\n            displayFiles: matches,\n            open: true,\n            error,\n        };\n    },\n\n    showAllOptions: function (ev) {\n        // only consider clicks with the primary button\n        if (ev && ev.button !== 0)\n            return;\n\n        this.setState({\n            open: !this.state.open,\n            displayFiles: this.state.directoryFiles || [],\n        });\n    },\n\n    selectItem: function (ev) {\n        // only consider clicks with the primary button\n        if (ev && ev.button !== 0)\n            return;\n\n        if (ev.target.tagName == 'A') {\n            var value = ev.target.innerText;\n            var directory = this.state.directory || \"/\";\n\n            if (directory.charAt(directory.length - 1) !== '/')\n                directory = directory + \"/\";\n\n            value = directory + value;\n            this.setState({\n                open: false,\n                value: value,\n                selecting: false,\n            });\n\n            this.onChangeCallback(value, {\n                error: this.state.error,\n            });\n\n            this.refs.input.focus();\n            this.updateIfDirectoryChanged(value);\n        }\n    },\n\n    renderError: function(error) {\n        return (\n            <li className=\"alert alert-warning\">\n                {error}\n            </li>\n        );\n    },\n\n    render: function() {\n        var placeholder = this.props.placeholder || _(\"Path to file\");\n        var controlClasses = \"form-control-feedback \";\n        var classes = \"input-group\";\n        if (this.state.open)\n            classes += \" open\";\n\n        if (this.state.directoryFiles === null)\n            controlClasses += \"spinner spinner-xs spinner-inline\";\n        else\n            controlClasses += \"caret\";\n\n        var listItems;\n\n        if (this.state.error) {\n            listItems = [this.renderError(this.state.error)];\n            classes += \" error\";\n        } else {\n            listItems = React.Children.map(this.state.displayFiles, function(file) {\n                return <li className={file.type}><a data-type={file.type}>{file.path}</a></li>;\n            });\n        }\n\n        return (\n            <div className=\"combobox-container\" id={this.props.id}>\n                <div className={classes}>\n                    <input ref=\"input\" autocomplete=\"false\" placeholder={placeholder} className=\"combobox form-control\" type=\"text\" onChange={this.delayedOnChange} value={this.state.value} onBlur={this.onBlur} />\n                    <span onClick={this.showAllOptions} className={controlClasses}></span>\n                    <ul onMouseDown={this.onMouseDown} onClick={this.selectItem} className=\"typeahead typeahead-long dropdown-menu\">\n                        {listItems}\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n});\n\nmodule.exports = {\n    FileAutoComplete: FileAutoComplete,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-file-autocomplete.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {\n    getTodayYearShifted,\n} from \"../helpers.es6\";\n\nexport const OTHER_OS = \"Other OS\";\nexport const OTHER_OS_SHORT_ID = \"other-os\";\nexport const NOT_SPECIFIED = \"Unspecified\";\nexport const DIVIDER_FAMILY = \"Divider\";\n\nconst LINUX = 'linux';\nconst WINDOWS = 'windows';\nconst BSD = 'bsd';\n\nconst IGNORE_VENDORS = ['ALTLinux', 'Mandriva', 'GNOME Project'];\n\nconst ACCEPT_RELEASE_DATES_AFTER = getTodayYearShifted(-3);\nconst ACCEPT_EOL_DATES_AFTER = getTodayYearShifted(-1);\n\n\nexport function getOSStringRepresentation(os) {\n    let appendix = '';\n\n    if (os.version && !os.name.includes(os.version)) {\n        appendix += os.version;\n    }\n    if (os.codename) {\n        appendix += (appendix ? ' ' : '') + os.codename;\n    }\n    if (appendix) {\n        appendix = ` (${appendix})`;\n    }\n\n    return `${os.name}${appendix}`;\n}\n\nexport function prepareVendors(osInfoList) {\n    const familyMap = {};\n    const vendorMap = {};\n\n    osInfoList = [...osInfoList];\n    osInfoList.push({\n        'shortId': OTHER_OS_SHORT_ID,\n        'name': OTHER_OS,\n        'version': null,\n        'family': DIVIDER_FAMILY,\n        'vendor': NOT_SPECIFIED,\n    });\n\n    osInfoList.forEach(os => {\n        os.sort_family = os.family;\n        os.sort_vendor = os.vendor;\n\n        if (os.version) {\n            os.version = os.version.trim();\n        }\n\n        correctSpecialCases(os);\n\n        // filter old linux distros\n        if (os.sort_family === LINUX &&\n            (IGNORE_VENDORS.includes(os.sort_vendor) || filterReleaseEolDates(os))) {\n            return;\n        }\n\n        if (!familyMap[os.sort_family]) {\n            familyMap[os.sort_family] = {};\n        }\n\n        if (!(vendorMap[os.sort_vendor] instanceof Array)) {\n            vendorMap[os.sort_vendor] = [];\n            familyMap[os.sort_family][os.sort_vendor] = null;\n        }\n        vendorMap[os.sort_vendor].push(os);\n\n    });\n\n    Object.keys(vendorMap)\n        .forEach(vendor => {\n            // distro sort\n            vendorMap[vendor] = vendorMap[vendor].sort((a, b) => {\n                if (!a.sortByVersionOnly) {\n                    const result = compareDates(a.releaseDate, b.releaseDate, true); // sort by release date\n                    if (result) {\n                        return result;\n                    }\n                }\n\n                return (b.version + \"\").localeCompare(a.version, undefined, { // then sort by version\n                    numeric: true,\n                    sensitivity: 'base',\n                });\n            });\n        });\n\n\n    const familyList = Object.keys(familyMap)\n        .sort((a, b) => {\n            // families sort\n            return customVendorSort(a, b) || a.localeCompare(b);\n        }).map(family => {\n            // vendor sort\n            const vendorMap = familyMap[family];\n            const vendors = Object.keys(vendorMap).sort(window.localeCompare);\n            return {family, vendors};\n        });\n\n    return {familyList, familyMap, vendorMap};\n}\n\nfunction filterReleaseEolDates(os) {\n    return !(!os.releaseDate && !os.eolDate) && // presume rolling release\n        compareDates(ACCEPT_RELEASE_DATES_AFTER, os.releaseDate) < 0 && // if release/eol dates less than accepted dates\n        compareDates(ACCEPT_EOL_DATES_AFTER, os.eolDate) < 0; // empty date is also less than accepted date\n}\n\nfunction compareDates(a, b, emptyFirst = false) {\n    if (!a) {\n        if (!b) {\n            return 0;\n        }\n        return emptyFirst ? -1 : 1;\n    }\n    if (!b) {\n        return emptyFirst ? 1 : -1;\n    }\n\n    return new Date(b).getTime() - new Date(a).getTime();\n}\n\nfunction customVendorSort(a, b) {\n    if (a === LINUX) {\n        return -1;\n    }\n    if (b === LINUX) {\n        return 1;\n    }\n    if (a === WINDOWS) {\n        return -1;\n    }\n    if (b === WINDOWS) {\n        return 1;\n    }\n    return 0;\n}\n\nfunction correctSpecialCases(os) {\n    // windows\n    if (os.sort_family.toLowerCase().startsWith('win') || os.sort_family.toLowerCase() === 'msdos') {\n        os.sort_family = WINDOWS;\n    }\n\n    if (os.sort_vendor.toLowerCase().startsWith('microsoft')) {\n        os.sort_vendor = 'Microsoft Corporation';\n    }\n\n    if (os.shortId === 'win8') {\n        os.releaseDate = '2012-08-01';\n    }\n\n    if (os.shortId === 'win8.1') {\n        os.releaseDate = '2014-04-08';\n    }\n\n    if (os.shortId === 'msdos6.22') {\n        os.releaseDate = '1994-06-01';\n    }\n\n    // linux\n    if (os.shortId.toLowerCase().includes('centos7')) {\n        os.eolDate = '2024-06-30';\n    }\n\n    if (os.sort_vendor.toLowerCase() === 'centos' || os.sort_vendor.toLowerCase() === 'suse') {\n        os.sortByVersionOnly = true;\n    }\n\n    // bsd\n    if (os.sort_family.toLowerCase().includes(BSD)) {\n        os.sort_family = BSD;\n    }\n\n    if (os.shortId === 'freebsd2.2.9') {\n        os.releaseDate = '2006-04-01'; // april fools prank\n    }\n\n    if (os.shortId === 'openbsd4.2') {\n        os.releaseDate = '2007-11-01';\n    }\n\n    if (os.shortId === 'openbsd4.3') {\n        os.releaseDate = '2008-05-01';\n    }\n\n    if (os.shortId === 'openbsd4.4') {\n        os.releaseDate = '2008-11-01';\n    }\n\n    if (os.shortId === 'openbsd4.5') {\n        os.releaseDate = '2009-05-01';\n    }\n\n    if (os.shortId === 'openbsd4.8') {\n        os.releaseDate = '2010-11-01';\n    }\n\n    if (os.shortId === 'openbsd4.9') {\n        os.releaseDate = '2011-05-01';\n    }\n\n    if (os.shortId === 'openbsd5.0') {\n        os.releaseDate = '2011-11-01';\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/createVmDialogUtils.es6","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React, { PropTypes } from \"react\";\n\nimport VmOverviewTab, { commonTitles } from './vmOverviewTab.jsx';\nimport VmLastMessage from './vmLastMessage.jsx';\n\nimport { rephraseUI, vmId } from \"../helpers.es6\";\n\nconst _ = cockpit.gettext;\n\nReact;\n\nfunction getBootOrder(vm) {\n    let bootOrder = _(\"No boot device found\");\n    if (vm.bootOrder && vm.bootOrder.devices && vm.bootOrder.devices.length > 0) {\n        bootOrder = vm.bootOrder.devices.map(bootDevice => bootDevice.type).join(); // Example: network,disk,disk\n    }\n\n    return bootOrder;\n}\n\nconst VmOverviewTabLibvirt = ({ vm, config, dispatch }) => {\n    const idPrefix = vmId(vm.name);\n    const message = (<VmLastMessage vm={vm} dispatch={dispatch}/>);\n\n    let items = [\n        { title: commonTitles.MEMORY, value: cockpit.format_bytes((vm.currentMemory ? vm.currentMemory : 0) * 1024), idPostfix: 'memory' },\n        { title: _(\"Emulated Machine:\"), value: vm.emulatedMachine, idPostfix: 'emulatedmachine' },\n        { title: commonTitles.CPUS, value: vm.vcpus, idPostfix: 'vcpus' },\n        { title: _(\"Boot Order:\"), value: getBootOrder(vm), idPostfix: 'bootorder' },\n        { title: _(\"CPU Type:\"), value: vm.cpuModel, idPostfix: 'cputype' },\n        { title: _(\"Autostart:\"), value: rephraseUI('autostart', vm.autostart), idPostfix: 'autostart' },\n    ];\n\n    return (<VmOverviewTab message={message}\n                           idPrefix={idPrefix}\n                           items={items}\n                           extraItems={config.provider.vmOverviewExtra && config.provider.vmOverviewExtra(vm, config.providerState)}/>);\n};\n\nVmOverviewTabLibvirt.propTypes = {\n    vm: PropTypes.object.isRequired,\n    config: PropTypes.object.isRequired,\n    dispatch: PropTypes.func.isRequired,\n};\n\nexport default VmOverviewTabLibvirt;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/vmOverviewTabLibvirt.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport cockpit from 'cockpit';\nimport React, { PropTypes } from \"react\";\n\nconst _ = cockpit.gettext;\n\nReact;\n\nconst Items = ({ items, idPrefix, divider, colClass }) => {\n    if (!items) {\n        return null;\n    }\n\n    colClass = colClass || 'col-lg-6 col-md-6 col-sm-6 col-xs-12';\n    return (\n        <div className={`col-lg-${divider} col-md-${divider} col-sm-${divider} col-xs-${divider}`}>\n            <div className='row'>\n                {items.map(item => {\n                    let content = item.value;\n                    if (item.title) {\n                        content = (\n                            <dl>\n                                <dt>{item.title}</dt>\n                                <dd id={`${idPrefix}-${item.idPostfix}`}>{item.value}</dd>\n                            </dl>\n                        );\n                    }\n\n                    return (\n                        <div className={`${colClass} ${item.className || ''}`}>\n                            {content}\n                        </div>\n                    );\n                })}\n            </div>\n        </div>\n    );\n};\n\n/**\n * Reusable \"Overview\" subtab for a VM.\n */\nconst VmOverviewTab = ({ message, idPrefix, items, extraItems }) => {\n    return (\n        <div>\n            {message}\n            <Items items={items} idPrefix={idPrefix} divider={extraItems ? 6 : 12}/>\n            {extraItems && extraItems.map(col =>\n                (<Items items={col} idPrefix={idPrefix} divider='3'\n                        colClass='col-lg-12 col-md-12 col-sm-12 col-xs-12'/>))}\n        </div>);\n};\n\nVmOverviewTab.propTypes = {\n    message: PropTypes.any, // optional, info/error message related to a VM; see VmMessage component\n    idPrefix: PropTypes.string.isRequired, // prefix for HTML IDs\n    items: PropTypes.array, // array of items to be rendered. Each item is an object of { title, value, idPostfix }\n};\n\n/**\n * Unique wording for the same props across various use cases.\n */\nexport const commonTitles = {\n    MEMORY: _(\"Memory:\"),\n    CPUS: _(\"vCPUs:\"),\n};\n\nexport default VmOverviewTab;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/vmOverviewTab.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport { vmId } from '../helpers.es6';\nimport { deleteVmMessage } from '../actions.es6';\nimport { Alert } from './inlineNotification.jsx';\n\nReact;\n\nconst VmLastMessage = ({ vm, dispatch }) => {\n    if (!vm.lastMessage) {\n        return null;\n    }\n\n    const textId = `${vmId(vm.name)}-last-message`;\n    let detail = (vm.lastMessageDetail && vm.lastMessageDetail.exception) ? vm.lastMessageDetail.exception : null;\n    detail = detail && (<p>{detail}</p>);\n\n    const onDismiss = () => {\n        dispatch(deleteVmMessage({ name: vm.name, connectionName: vm.connectionName }));\n    };\n\n    return (<Alert text={vm.lastMessage} textId={textId} detail={detail} onDismiss={onDismiss} />);\n};\n\nexport default VmLastMessage;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/machines/components/vmLastMessage.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\n\nimport CONFIG from '../config.es6';\n\nimport { Listing, ListingRow } from \"cockpit-components-listing.jsx\";\nimport { StateIcon } from \"../../machines/hostvmslist.jsx\";\nimport DropdownButtons from \"../../machines/components/dropdownButtons.jsx\";\n\nimport { toGigaBytes, valueOrDefault, isSameHostAddress } from '../helpers.es6';\nimport { startVm, goToSubpage } from '../actions.es6';\nimport rephraseUI from '../rephraseUI.es6';\nimport { getCurrentCluster, getHost } from '../selectors.es6';\n\nReact;\nconst _ = cockpit.gettext;\n\nconst NoVm = () => (<div>{_(\"No VM found in oVirt.\")}</div>);\nconst NoVmUnitialized = () => (<div>{_(\"Please wait till VMs list is loaded from the server.\")}</div>);\nconst VmHA = ({ highAvailability }) => (<div>{highAvailability && highAvailability.enabled && highAvailability.enabled === 'true' ? (_(\"yes\")) : (_(\"no\"))}</div>);\nconst VmMemory = ({ mem }) => (<div>{toGigaBytes(mem, 'B')} GiB</div>);\nconst VmOS = ({ os }) => (<div>{os.type}</div>);\nconst VmStateless = ({ stateless }) => (<div>{rephraseUI('stateless', stateless)}</div>);\nconst VmDescription = ({ descr }) => (<span>{descr}</span>); // cropping is not needed, the text wraps\n\nconst VmCpu = ({ cpu }) => { // TODO: render CPU architecture and topology?\n    const vCpus = valueOrDefault(cpu.topology.sockets, 1) * valueOrDefault(cpu.topology.cores, 1) * valueOrDefault(cpu.topology.threads, 1);\n    const tooltip = `${_(\"sockets\")}: ${cpu.topology.sockets}\\n${_(\"cores\")}: ${cpu.topology.cores}\\n${_(\"threads\")}: ${cpu.topology.threads}`;\n    return (<span title={tooltip} data-toggle='tooltip' data-placement='left'>{vCpus}</span>);\n};\n\nconst VmHost = ({ id, hosts, dispatch }) => {\n    if (!id || !hosts || !hosts[id]) {\n        return null; // not running or data load not yet finished\n    }\n    const host = hosts[id];\n    if (isSameHostAddress(host.address)) {\n        return (<a href='#' onClick={() => dispatch(goToSubpage('hostvms'))}>\n            {_(\"Host\")}\n            </a>);\n    }\n\n    const cockpitUrl = `https://${host.address}:${CONFIG.cockpitPort}/machines`;\n    // just the <a href> without the onClick handler is not working\n    return (<a href={cockpitUrl} onClick={() => {window.top.location=cockpitUrl;}}>\n        {host.name}\n    </a>);\n};\n\nconst VmTemplate = ({ id, templates }) => {\n    if (!id || !templates || !templates[id]) {\n        return null; // not running or data load not yet finished\n    }\n\n    const template = templates[id];\n    const baseTemplateName = template.version.baseTemplateId && templates[template.version.baseTemplateId] ? templates[template.version.baseTemplateId].name : '';\n    const tooltip = `${_(\"Description\")}: ${template.description}\\n${_(\"Version\")}: ${valueOrDefault(template.version.name, '')}\\n${_(\"Version num\")}: ${valueOrDefault(template.version.number, '')}\\n${_(\"Base template\")}: ${baseTemplateName}\\n`;\n    return <span title={tooltip} data-toggle='tooltip' data-placement='left'>{template.name}</span>\n};\n\nconst VmActions = ({ vm, hostName, dispatch }) => {\n    // TODO: disable the button after execution, reenable at next refresh\n    let buttons = null;\n\n    const runButton = {\n        title: _(\"Run\"),\n        action: () => dispatch(startVm(vm)),\n        id: `cluster-${vm.name}-run`\n    };\n    const runHereButton = {\n        title: _(\"Run Here\"),\n        action: () => dispatch(startVm(vm, hostName)),\n        id: `cluster-${vm.name}-run-here`\n    };\n\n    if (['suspended'].indexOf(vm.state) >= 0) {\n        buttons = [runButton];\n    }\n\n    if (['shut off', 'down'].indexOf(vm.state) >= 0) {\n        buttons = [runButton, runHereButton];\n    }\n\n    if (buttons) {\n        return (\n            <span>\n                <DropdownButtons buttons={buttons}/>\n                <VmLastMessage vm={vm}/>\n            </span>\n        );\n    }\n\n    return null;\n};\n\nconst VmLastMessage = ({ vm }) => {\n    if (!vm.lastMessage) {\n        return null;\n    }\n\n    let detail = vm.lastMessage;\n    if (vm.lastMessageDetail && vm.lastMessageDetail.data) {\n        detail = vm.lastMessageDetail.data;\n    }\n\n    return (\n        <p title={detail} data-toggle='tooltip' id={`clustervm-${vm.name}-actionerror`}>\n            <span className='pficon-warning-triangle-o' />&nbsp;{vm.lastMessage}\n        </p>\n    );\n};\n\nconst Vm = ({ vm, hosts, templates, config, dispatch }) => {\n    const stateIcon = (<StateIcon state={vm.state} config={config}/>);\n    const ovirtConfig = config.providerState && config.providerState.ovirtConfig;\n    const currentHost = getHost(hosts, ovirtConfig);\n    const hostName = currentHost && currentHost.name;\n\n    return (<ListingRow // TODO: icons?\n        columns={[\n            {name: vm.name, 'header': true},\n            <VmDescription descr={vm.description} />,\n            <VmTemplate id={vm.templateId} templates={templates} />,\n            <VmMemory mem={vm.memory} />,\n            <VmCpu cpu={vm.cpu} />,\n            <VmOS os={vm.os} />,\n            <VmHA highAvailability={vm.highAvailability} />,\n            <VmStateless stateless={vm.stateless} />,\n            <VmHost id={vm.hostId} hosts={hosts} dispatch={dispatch} />,\n            <VmActions vm={vm} dispatch={dispatch} hostName={hostName} />,\n            stateIcon\n            ]}\n    />);\n};\n\nconst ClusterVms = ({ dispatch, config }) => {\n    const { vms, hosts, templates, clusters, ovirtConfig } = config.providerState;\n\n    if (!vms) { // before cluster vms are loaded\n        return (<NoVmUnitialized />);\n    }\n\n    if (vms.length === 0) { // there are no vms\n        return (<NoVm />);\n    }\n\n    const currentCluster = getCurrentCluster(hosts, clusters, ovirtConfig);\n    let title = cockpit.format(_(\"Cluster Virtual Machines\"));\n    if (currentCluster) {\n        title = cockpit.format(_(\"Virtual Machines of $0 cluster\"), currentCluster.name);\n    }\n\n    return (<div className='container-fluid'>\n        <Listing title={title} columnTitles={[\n        _(\"Name\"), _(\"Description\"), _(\"Template\"), _(\"Memory\"), _(\"vCPUs\"), _(\"OS\"),\n        _(\"HA\"), _(\"Stateless\"), _(\"Host\"),\n        (<div className='ovirt-provider-cluster-vms-actions'>{_(\"Action\")}</div>),\n        (<div className='ovirt-provider-cluster-vms-state'>{_(\"State\")}</div>)]}>\n            {Object.getOwnPropertyNames(vms).map(vmId => {\n                return (\n                    <Vm vm={vms[vmId]}\n                        hosts={hosts}\n                        templates={templates}\n                        config={config}\n                        dispatch={dispatch}\n                    />);\n            })}\n        </Listing>\n    </div>);\n};\n\n// ------------\n\nexport { VmLastMessage, VmDescription, VmMemory, VmCpu, VmOS, VmHA, VmStateless };\nexport default ClusterVms;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/ClusterVms.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\n\nimport { Listing, ListingRow } from \"cockpit-components-listing.jsx\";\n\nimport { VmLastMessage, VmDescription, VmMemory, VmCpu, VmOS, VmHA, VmStateless  } from './ClusterVms.jsx';\nimport { createVmFromTemplate } from '../actions.es6';\nimport { getCurrentCluster } from '../selectors.es6';\nimport { logDebug } from '../../machines/helpers.es6';\n\nconst NoTemplate = () => (<div>{_(\"No VM found in oVirt.\")}</div>);\nconst NoTemplateUnitialized = () => (<div>{_(\"Please wait till list of templates is loaded from the server.\")}</div>);\n\nReact;\nconst _ = cockpit.gettext;\n\nclass CreateVmFromTemplate extends React.Component {\n    constructor (props) {\n        super(props);\n        this.state = {\n            enterDetails: false,\n            vmName: '',\n        };\n\n        this.onDoCreateVm = this.onDoCreateVm.bind(this);\n        this.onCreateVm = this.onCreateVm.bind(this);\n        this.onCancel = this.onCancel.bind(this);\n\n        this.onVmNameChanged = this.onVmNameChanged.bind(this);\n    }\n\n    onCreateVm () {\n        this.setState({ enterDetails: true, vmName: '' });\n    }\n\n    onCancel () {\n        this.setState({ enterDetails: false, vmName: '' });\n    }\n\n    onVmNameChanged (e) {\n        this.setState({ vmName: e.target.value })\n    }\n\n    onDoCreateVm () {\n        this.props.dispatch(createVmFromTemplate({\n            templateName: this.props.template.name,\n            clusterName: this.props.cluster.name,\n            vm: { name: this.state.vmName }\n        }));\n        this.setState({ enterDetails: false, vmName: '' });\n    }\n\n    render () {\n        if (this.state.enterDetails) {\n            return (\n                <div>\n                    <input className='form-control' type='text' placeholder={_(\"Enter New VM name\")} value={this.state.vmName} onChange={this.onVmNameChanged} />\n                    <button onClick={this.onCancel} className='btn btn-default btn-danger'>{_(\"Cancel\")}</button>\n                    <button onClick={this.onDoCreateVm} className='btn btn-default btn-danger'>{_(\"Create\")}</button>\n                </div>\n            );\n        }\n\n        return (<button onClick={this.onCreateVm}>{_(\"Create VM\")}</button>);\n    }\n}\n\nconst TemplateActions = ({ template, cluster, dispatch}) => {\n    if (!cluster) {\n        logDebug('TemplateActions: unknown cluster');\n        return null;\n    }\n\n    return (\n        <span>\n            <CreateVmFromTemplate template={template} cluster={cluster} dispatch={dispatch}/>\n            <VmLastMessage vm={template}/>\n        </span>\n    );\n};\n\nconst Template = ({ template, templates, cluster, dispatch }) => {\n    return (<ListingRow\n        columns={[\n            {name: template.name, 'header': true},\n            template.version.name,\n            template.version.baseTemplateId ? (templates[template.version.baseTemplateId].name) : null,\n            <VmDescription descr={template.description} />,\n            <VmMemory mem={template.memory} />,\n            <VmCpu cpu={template.cpu} />,\n            <VmOS os={template.os} />,\n            <VmHA highAvailability={template.highAvailability} />,\n            <VmStateless stateless={template.stateless} />,\n            <TemplateActions template={template} cluster={cluster} dispatch={dispatch} />\n            ]}\n    />);\n};\n\nconst ClusterTemplates = ({ config, dispatch }) => {\n    const { templates, hosts, clusters, ovirtConfig } = config.providerState;\n\n    if (!templates) { // before cluster templates are loaded ;\n        return (<NoTemplateUnitialized />);\n    }\n\n    if (templates.length === 0) { // there are no templates\n        return (<NoTemplate />);\n    }\n\n    const currentCluster = getCurrentCluster(hosts, clusters, ovirtConfig);\n    let title = cockpit.format(_(\"Cluster Templates\"));\n    if (currentCluster) {\n        title = cockpit.format(_(\"Templates of $0 cluster\"), currentCluster.name);\n    }\n\n    return (<div className='container-fluid'>\n        <Listing title={title} columnTitles={[\n        _(\"Name\"), _(\"Version\"), _(\"Base Template\"), _(\"Description\"), _(\"Memory\"), _(\"vCPUs\"), _(\"OS\"),\n        _(\"HA\"), _(\"Stateless\"), _(\"Action\")]}>\n            {Object.getOwnPropertyNames(templates).map(templateId => {\n                return (\n                    <Template template={templates[templateId]}\n                              templates={templates}\n                              cluster={currentCluster}\n                              dispatch={dispatch}\n                    />);\n            })}\n        </Listing>\n    </div>);\n};\n\nexport default ClusterTemplates;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/ClusterTemplates.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\n\nimport './VdsmView.css';\n\nimport { VDSM_CONF_FILE } from '../config.es6';\nimport { logDebug, logError } from '../../machines/helpers.es6';\n\nReact;\nconst _ = cockpit.gettext;\n\nclass VdsmConf extends React.Component { // TODO: needs design\n    constructor (props) {\n        super(props)\n\n        this.state = {\n            fileContent: _(\"Loading data ...\"),\n            changed: false,\n            loaded: false,\n            reloadConfirmation: false,\n            saveConfirmation: false,\n        };\n\n        this.onSave = this.onSave.bind(this);\n        this.onSaveConfirmed = this.onSaveConfirmed.bind(this);\n        this.onSaveCanceled = this.onSaveCanceled.bind(this);\n\n        this.onReload = this.onReload.bind(this);\n        this.onReloadConfirmed = this.onReloadConfirmed.bind(this);\n        this.onReloadCanceled = this.onReloadCanceled.bind(this);\n\n        this.onEditorChange = this.onEditorChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.doReload();\n    }\n\n    componentWillUnmount() {\n    }\n\n    doReload () {\n        cockpit.file(VDSM_CONF_FILE).read()\n            .done( (content) => {\n                this.setState({ fileContent: content, changed: false, loaded: true });\n            }).fail( (error) => { // TODO: more visible for the user\n            logError(`Error reading ${VDSM_CONF_FILE}: ${JSON.stringify(error)}`);\n        })\n    }\n\n    doSave () {\n        cockpit.file(VDSM_CONF_FILE, { superuser: 'try' }).replace(this.state.fileContent)\n            .done( () => {\n                logDebug('Content of vdsm.conf replaced.')\n                this.setState({ changed: false });\n            }).fail( (error) => {\n                logError(`Error writing ${VDSM_CONF_FILE}: ${JSON.stringify(error)}`);\n        })\n    }\n\n    onSave () {this.setState({saveConfirmation: true});} // render confirmation buttons\n    onSaveConfirmed () {this.doSave(); this.setState({saveConfirmation: false});}\n    onSaveCanceled () {this.setState({saveConfirmation: false});}\n\n    onReload () {this.setState({reloadConfirmation: true});} // render confirmation buttons\n    onReloadConfirmed () {this.doReload(); this.setState({reloadConfirmation: false});}\n    onReloadCanceled () {this.setState({reloadConfirmation: false});}\n\n    onEditorChange (event) {this.setState({fileContent: event.target.value, changed: true});}\n\n    render () {\n        let reloadButton = null;\n        if (!this.state.saveConfirmation) {\n            if (this.state.reloadConfirmation) {\n                reloadButton = (\n                    <span>&nbsp;{_(\"Confirm reload:\")}&nbsp;\n                        <button className='btn btn-danger btn-xs' onClick={this.onReloadConfirmed}>{_(\"OK\")}</button>&nbsp;\n                        <button className='btn btn-primary btn-xs' onClick={this.onReloadCanceled}>{_(\"Cancel\")}</button>\n                    </span>);\n            } else {\n                reloadButton = (<button className='btn btn-default' onClick={this.onReload}>{_(\"Reload\")}</button>);\n            }\n        }\n\n        let saveButton = null;\n        if (!this.state.reloadConfirmation) {\n            if (this.state.saveConfirmation) {\n                saveButton = (\n                    <span>&nbsp;{_(\"Confirm save:\")}&nbsp;\n                        <button className='btn btn-danger btn-xs' onClick={this.onSaveConfirmed}>{_(\"OK\")}</button>\n                        &nbsp;\n                        <button className='btn btn-primary btn-xs' onClick={this.onSaveCanceled}>{_(\"Cancel\")}</button>\n                    </span>)\n            } else {\n                saveButton = (<button className='btn btn-default' onClick={this.onSave} disabled={!this.state.changed}>{_(\"Save\")}</button>)\n            }\n        }\n\n        let loaded = null;\n        if (this.state.loaded) {\n            loaded = (<div id='vdsmview-data-loaded'/>);\n        }\n\n        return (\n            <div className='ovirt-provider-vdsm'>\n                <h1>{_(\"Edit the vdsm.conf\")}</h1>\n\n                <a href='/system/services#/vdsmd.service' target='_top'>\n                    {_(\"VDSM Service Management\")}\n                </a>\n\n                <div className='ovirt-provider-vdsm-menu'>\n                    <div className=\"ovirt-provider-vdsm-inline-block\"></div>\n                    <div className='btn-group ovirt-provider-vdsm-menu-buttons'>\n                        {saveButton}\n                        {reloadButton}\n                    </div>\n                </div>\n\n                <br/>\n                <textarea className='ovirt-provider-vdsm-editor' value={this.state.fileContent} onChange={this.onEditorChange}/>\n\n                {loaded}\n            </div>\n        );\n\n    }\n}\n\nconst VdsmView = () => {\n    return (<div>\n        <VdsmConf />\n    </div>);\n};\n\nexport default VdsmView;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/VdsmView.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\n\nimport './HostToMaintenance.css';\n\nimport DialogPattern from 'cockpit-components-dialog.jsx';\nimport { switchHostToMaintenance } from '../actions.es6';\n\nconst _ = cockpit.gettext;\n\nReact;\n\nconst hostToMaintenanceDialog = (dispatch, host) => {\n    const hostId = host && host.id;\n\n    const body = (\n        <div className=\"modal-body\">\n            {_(\"Please confirm, the host shall be switched to maintenance mode.\")}\n            <br />\n            {_(\"All running virtual machines will be turned off.\")}\n        </div>\n    );\n    const dialogProps = {\n        'title': _(\"Switch Host to Maintenance\"),\n        body,\n    };\n\n    let footerProps = {\n        'actions': [\n            { 'clicked': () => { return dispatch(switchHostToMaintenance({ hostId })); },\n                'caption': _(\"OK\"),\n                'style': 'primary',\n            },\n        ],\n    };\n\n    DialogPattern.show_modal_dialog(dialogProps, footerProps);\n};\n\nconst showHostToMaintenanceDialog = (dispatch, hosts) => {\n    return (event) => {\n        if (!event || event.button !== 0) {\n            return;\n        }\n        hostToMaintenanceDialog(dispatch, hosts);\n    }\n};\n\nconst hostToMaintenance = ({ dispatch, host }) => {\n    if (!host) {\n        return null;\n    }\n\n    // TODO: \"pficon-maintenance\" seems to be added to patternfly since 3.26 release - change once this gets to cockpit\n    return (\n        <a className='card-pf-link-with-icon pull-right' id='ovirt-host-to-maintenance'\n           onClick={showHostToMaintenanceDialog(dispatch, host)}>\n            <div className='ovirt-action-padding'>\n                <span className='pficon pficon-close'/>{_(\"Host to Maintenance\")}\n            </div>\n        </a>\n    )\n};\n\nexport default hostToMaintenance;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/HostToMaintenance.jsx","/*jshint esversion: 6 */\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from \"react\";\nimport cockpit from 'cockpit';\n\nimport rephraseUI from '../rephraseUI.es6';\n\nimport './HostStatus.css';\n\nReact;\nconst _ = cockpit.gettext;\n\nconst HostStatus = ({ host }) => {\n    if (!host) {\n        return null;\n    }\n\n    return (\n        <div className='container-fluid ovirt-host-status-wrapper'>\n            <div className='ovirt-host-status'>\n                <div className='ovirt-host-status-label'>\n                    {_(\"oVirt Host State:\")}\n                </div>\n                &nbsp;\n                {rephraseUI('hostStatus', host.status)}\n            </div>\n        </div>);\n};\n\nexport default HostStatus;\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/ovirt/components/HostStatus.jsx"],"sourceRoot":""}