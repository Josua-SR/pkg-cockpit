!function(o) {
    function e(t) {
        if (s[t]) return s[t].exports;
        var n = s[t] = {
            exports: {},
            id: t,
            loaded: !1
        };
        return o[t].call(n.exports, n, n.exports, e), n.loaded = !0, n.exports;
    }
    var s = {};
    return e.m = o, e.c = s, e.p = "", e(0);
}([ function(o, e, s) {
    s(1), o.exports = s(5);
}, function(o, e, s) {
    "use strict";
    !function() {
        function o() {
            t();
        }
        function e(o, e) {
            c("#sos-alert, #sos-progress, #sos-download").hide(), c("#sos-error .alert-message").text(o), 
            e ? (c("#sos-error-extra").text(e), c("#sos-error-extra").show()) : c("#sos-error-extra").hide(), 
            c("#sos-error").show(), c("#sos-cancel").text(u("Close"));
        }
        function t() {
            c("#sos-progress .progress-bar").css("width", "0%"), c("#sos-download, #sos-error").hide(), 
            c("#sos-cancel").text(u("Cancel")), d = null, p = [];
            var o = i.script(h, [ "--batch" ], {
                superuser: !0,
                err: "out",
                pty: !0
            });
            l = o;
            var s = "", t = /Running ([0-9]+)\/([0-9]+):/g, n = /Your sosreport has been generated and saved in:[ \r\n]+(\/[^\r\n]+)/;
            o.stream(function(e) {
                if (l == o) {
                    var n, r;
                    for (s += e, r = 0; n = t.exec(s); ) r = parseInt(n[1], 10) / parseInt(n[2], 10) * 100;
                    c("#sos-alert, #sos-progress").show(), c("#sos-progress .progress-bar").css("width", r.toString() + "%");
                }
            }), o.done(function() {
                if (l == o) {
                    var t = n.exec(s);
                    if (t) {
                        var r = t[1], a = r.replace(/.*\//, "");
                        0 === r.indexOf("/host") && (r = r.substr(5)), p = [ r, r + ".md5" ];
                        var h = window.btoa(JSON.stringify({
                            payload: "fsread1",
                            binary: "raw",
                            path: r,
                            superuser: !0,
                            external: {
                                "content-disposition": 'attachment; filename="' + a + '"',
                                "content-type": "application/x-xz, application/octet-stream"
                            }
                        }));
                        d = "/cockpit/channel/" + i.transport.csrf_token + "?" + h, c("#sos-progress, #sos-error").hide(), 
                        c("#sos-alert, #sos-download").show(), c("#sos-cancel").text(u("Close"));
                    } else e(u("No archive has been created."), s);
                    l = null;
                }
            }), o.fail(function(t) {
                l == o && (e(t.toString(), s), l = null);
            });
        }
        function n() {
            l && (l.close("cancelled"), l = null), p.length > 0 && i.spawn([ "rm" ].concat(p), {
                superuser: !0,
                err: "message"
            }).fail(function(o) {
                console.log("failed to remove", p, o);
            }), d = null, p = [], c("#sos").modal("hide");
        }
        function r() {
            var o = c("<iframe>").attr("src", d).hide();
            o.on("load", function(s) {
                var t = o.get(0).contentDocument.title;
                t && e(t);
            }), c("body").append(o);
        }
        function a() {
            c(function() {
                c("#sos").on("show.bs.modal", o), c("#sos-cancel").on("click", n), c("#sos-download button").on("click", r), 
                c("body").show(), i.transport.wait(function() {});
            });
        }
        var i = s(2), c = s(3);
        i.translate();
        var l, d, p, u = i.gettext, h = s(4);
        a();
    }();
}, function(o, e) {
    o.exports = cockpit;
}, function(o, e) {
    o.exports = jQuery;
}, function(o, e) {
    o.exports = '#! /bin/bash\n\npresent () {\n    which "$1" >/dev/null 2>/dev/null\n}\n\nif present sosreport; then\n    exec sosreport "$@"\nelif present atomic; then\n\n    # HACK - sosreport inside the container does not behave as\n    #        advertised, so we fix it via --sysroot and --tmp-dir.\n    #\n    # https://bugzilla.redhat.com/show_bug.cgi?id=1299794\n    # https://bugzilla.redhat.com/show_bug.cgi?id=1277223\n\n    exec atomic run rhel7/rhel-tools sosreport --sysroot /host --tmp-dir /host/var/tmp "$@"\nelse\n    echo >&2 "The sosreport utility is not installed.  This should not happen.  Please complain to your distribution vendor."\n    exit 1\nfi\n';
}, function(o, e) {} ]);
//# sourceMappingURL=sosreport.min.js.map