{"version":3,"sources":["webpack:///apps/apps.min.js","webpack:///webpack/bootstrap b914a7d5da9f3d147378","webpack:///../pkg/apps/index.jsx","webpack:///external \"cockpit\"","webpack:///../~/react-lite/dist/react-lite.js","webpack:///../pkg/apps/application-list.jsx","webpack:///../pkg/apps/packagekit.es6","webpack:///../pkg/lib/packagekit.es6","webpack:///../pkg/apps/utils.jsx","webpack:///../pkg/lib/cockpit-components-dialog.jsx","webpack:///../pkg/apps/application.jsx","webpack:///../pkg/apps/appstream.js","webpack:///../pkg/lib/python.jsx","webpack:///../pkg/lib/inotify.py","webpack:///../pkg/apps/watch-appstream.py"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","render_list","React","render","_react2","createElement","_applicationList2","ApplicationList","metainfo_db","document","getElementById","render_app","_application2","Application","cockpit","location","path","show","style","display","hide","navigate","length","console","warn","_cockpit","_cockpit2","_react","_applicationList","_application","_appstream","_appstream2","appstream","get_metainfo_db","addEventListener","translate","body","global","factory","this","createVnode","vtype","type","props","key","ref","vnode","refs","VSTATELESS","VCOMPONENT","uid","getUid","initVnode","parentContext","namespaceURI","node","VELEMENT","initVelem","initVcomponent","initVstateless","VCOMMENT","createComment","createTextNode","updateVnode","newVnode","updateVcomponent","updateVstateless","oldHtml","HTML_KEY","__html","updateVelem","initVchildren","updateVChildren","patches","removes","updates","creates","diffVchildren","flatEach","applyDestroy","applyUpdate","applyCreate","data","newNode","shouldIgnore","replaceData","currentNode","parentNode","childNodes","index","insertBefore","destroyVnode","removeChild","destroyVelem","destroyVcomponent","destroyVstateless","velem","SVGNamespaceURI","createElementNS","isCustomComponent","indexOf","is","setProps","addItem","pendingRefs","vchildren","getFlattenChildren","i","len","appendChild","children","isArr","collectChild","child","toJS","newVchildren","vchildrenLen","newVchildrenLen","Array","_vnode","j","_newVnode","shouldIgnoreUpdate","_vnode2","shouldRemove","_newVnode2","item","newVelem","patchProps","detachRef","attachRef","eventStore","vstateless","renderVstateless","cache","newVstateless","compareTwoVnodes","syncCache","componentContext","getContextByTypes","contextTypes","Error","name","vcomponent","Component","component","updater","$updater","$cache","isPending","context","componentWillMount","state","getState","renderComponent","getChildContext","isMounted","pendingComponents","newVcomponent","nextProps","componentWillReceiveProps","needToggleIsPending","emitUpdate","setState","forceUpdate","noop","componentWillUnmount","curContext","hasOwnProperty","constructor","extend","clearPendingComponents","components","componentDidMount","clearPendingRefs","list","refValue","clearPending","replaceChild","getDOMNode","refKey","nodeName","isFn","oldCache","value","vchild","Updater","instance","pendingStates","pendingCallbacks","nextContext","clearCallbacks","bind","shouldUpdate","nextState","callback","shouldComponentUpdate","getEventName","toLowerCase","addEvent","elem","eventType","listener","unbubbleEvents","dispatchUnbubbleEvent","eventTypes","substr","dispatchEvent","inMobile","ON_CLICK_KEY","emptyFunction","supportInputEvent","removeEvent","removeEventListener","event","target","syntheticEvent","undefined","updateQueue","_target","createSyntheticEvent","currentTarget","$cancelBubble","batchUpdate","nativeEvent","cancelBubble","persist","setStyle","elemStyle","styles","styleName","setStyleValue","removeStyle","patchStyle","newStyle","prefixKey","prefix","charAt","toUpperCase","substring","styleValue","isUnitlessNumber","RE_NUMBER","test","mergeConfigToProperties","config","attrNS","domAttrs","domProps","propName","propConfig","properties","attributeName","propertyName","attributeNamespace","mustUseProperty","checkMask","MUST_USE_PROPERTY","hasBooleanValue","HAS_BOOLEAN_VALUE","hasNumericValue","HAS_NUMERIC_VALUE","hasPositiveNumericValue","HAS_POSITIVE_NUMERIC_VALUE","hasOverloadedBooleanValue","HAS_OVERLOADED_BOOLEAN_VALUE","bitmask","setPropValue","propInfo","isNaN","removePropValue","namespace","setAttributeNS","setAttribute","isCustomAttribute","VALID_ATTRIBUTE_NAME_REGEX","removeAttribute","updateSelectOptions","select","multiple","propValue","selectedValue","options","isArray","selected","option","selectedIndex","identity","pipe","fn1","fn2","apply","arguments","iteratee","a","to","from","keys","Object","setProp","EVENT_KEYS","innerHTML","removeProp","oldValue","patchProp","isSelect","newProps","isValidContainer","nodeType","ELEMENT_NODE_TYPE","DOC_NODE_TYPE","DOCUMENT_FRAGMENT_NODE_TYPE","renderTreeIntoContainer","container","COMPONENT_ID","argsCache","pendingRendering","oldVnode","rootNode","vnodeStore","firstChild","childNode","lastChild","result","unstable_renderSubtreeIntoContainer","parentComponent","subVnode","unmountComponentAtNode","findDOMNode","prototype","isReactComponent","finalProps","propKey","defaultProps","argsLen","finalChildren","isValidElement","cloneElement","originElem","_len","_key","concat","createFactory","_len2","args","_key2","only","forEach","map","store","keyMap","isEqual","getKey","_ref","escapeUserProvidedKey","count","toArray","toString","text","replace","userProvidedKeyEscapeRegex","eachMixin","mixins","mixin","combineMixinToProto","proto","curValue","$getInitialStates","combineMixinToClass","propTypes","statics","getDefaultProps","bindContext","source","getInitialState","_this","Facade","createClass","spec","Klass","autobind","specMixins","displayName","shallowEqual","objA","objB","keysA","keysB","PureComponent","shallowCompare","updaters","add","pop","updateComponent","addState","replaceState","isReplace","addCallback","ReactComponentSymbol","componentWillUpdate","componentDidUpdate","onmousemove","ontouchmove","onmouseleave","onmouseenter","onload","onunload","onscroll","onfocus","onblur","onrowexit","onbeforeunload","onstop","ondragdrop","ondragenter","ondragexit","ondraggesture","ondragover","oncontextmenu","onerror","onabort","oncanplay","oncanplaythrough","ondurationchange","onemptied","onended","onloadeddata","onloadedmetadata","onloadstart","onencrypted","onpause","onplay","onplaying","onprogress","onratechange","onseeking","onseeked","onstalled","onsuspend","ontimeupdate","onvolumechange","onwaiting","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridColumn","fontWeight","lineClamp","lineHeight","opacity","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","prefixes","prop","ATTRIBUTE_NAME_START_CHAR","ATTRIBUTE_NAME_CHAR","RegExp","HTMLDOMPropertyConfig","accept","acceptCharset","accessKey","action","allowFullScreen","allowTransparency","alt","async","autoComplete","autoFocus","autoPlay","capture","cellPadding","cellSpacing","charSet","challenge","checked","cite","classID","className","cols","colSpan","content","contentEditable","contextMenu","controls","coords","crossOrigin","dateTime","defaultValue","defaultChecked","defer","dir","disabled","download","draggable","encType","form","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","headers","height","hidden","high","href","hrefLang","htmlFor","httpEquiv","icon","inputMode","integrity","keyParams","keyType","kind","label","lang","loop","low","manifest","marginHeight","marginWidth","max","maxLength","media","mediaGroup","method","min","minLength","muted","nonce","noValidate","open","optimum","pattern","placeholder","poster","preload","profile","radioGroup","readOnly","referrerPolicy","rel","required","reversed","role","rows","rowSpan","sandbox","scope","scoped","scrolling","seamless","shape","size","sizes","span","spellCheck","src","srcDoc","srcLang","srcSet","start","step","summary","tabIndex","title","useMap","width","wmode","wrap","about","datatype","inlist","property","playsInline","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","xlink","xml","ATTRS","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeType","autoReverse","azimuth","baseFrequency","baseProfile","baselineShift","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipRule","clipPathUnits","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillRule","filter","filterRes","filterUnits","floodColor","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","format","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","ideographic","imageRendering","in","in2","intercept","k","k1","k2","k3","k4","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerMid","markerStart","markerHeight","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","operator","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","rotate","rx","ry","scale","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","strikethroughPosition","strikethroughThickness","string","stroke","strokeLinecap","strokeLinejoin","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textRendering","textLength","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","vHanging","vIdeographic","vMathematical","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","viewBox","viewTarget","visibility","widths","wordSpacing","writingMode","x","xHeight","x1","x2","xChannelSelector","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlns","xmlnsXlink","xmlLang","xmlSpace","y","y1","y2","yChannelSelector","z","zoomAndPan","SVGDOMPropertyConfig","freeze","ReactDOM","tagNames","DOM","split","tagName","check","isRequired","PropTypes","array","bool","func","number","object","any","arrayOf","element","instanceOf","objectOf","oneOf","oneOfType","Children","create","isPureReactComponent","__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","_classCallCheck","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","descriptor","defineProperty","protoProps","staticProps","_packagekit","_packagekit2","_utils","_","gettext","ApplicationRow","_React$Component","getPrototypeOf","progress","arg","progress_title","finally","catch","show_error","install","PackageKit","comp","pkgname","remove","file","summary_or_progress","button","_this2","installed","onClick","left_click","launch","ProgressBar","CancelButton","error","go","icon_url","_React$Component2","_this3","refresh","manifests","origin_files","appstream_config_packages","appstream_data_packages","comps","push","sort","b","localeCompare","refresh_progress","refresh_button","empty_caption","tbody","table_classes","ready","_interopRequireWildcard","newObj","progress_reporter","base","range","percentage","resolve_many","names","progress_cb","ids","PK","cancellableTransaction","Package","info","package_id","then","resolve","Promise","reject","TransactionError","reload_bridge_packages","dbus","bus","Enum","FILTER_ARCH","FILTER_NOT_SOURCE","FILTER_NEWEST","pkgid","FILTER_INSTALLED","config_packages","data_packages","search_origin_file_packages","pkg","origin_pkgs","refresh_cache","maybe_update_origin_file_packages","update_ids","ensure_packages","pkgs","start_progress","FILTER_NOT_INSTALLED","ex","code","ERROR_ALREADY_INSTALLED","_toConsumableArray","arr","arr2","dbus_client","_dbus_client","superuser","track","log","objectPath","iface","opts","detect","watchTransaction","transactionPath","signalHandlers","notifyHandler","onClose","JSON","stringify","ErrorCode","Finished","EXIT_FAILED","notifyReturn","subscriptions","client","handler","subscribe","interface","transactionInterface","member","signal","watch","reply","detail","s","transaction","arglist","done","watchPromise","fail","changed","transaction_path","cancel","cancelled","status","Status","progress_data","waiting","allow_wait_status","STATUS_WAIT","STATUS_WAITING_FOR_LOCK","Percentage","AllowCancel","window","setTimeout","assign","exit","runtime","getSeverityIcon","secSeverity","INFO_SECURITY","INFO_NORMAL","watchRedHatSubscription","sm","validSubscriptionStates","problem","check_missing_packages","missing_ids","installed_names","parts","repos","missing_names","unavailable_names","simulate","install_ids","remove_ids","extra_names","remove_names","TRANSACTION_FLAG_SIMULATE","INFO_REMOVING","INFO_INSTALLING","INFO_UPDATING","get_details","download_size","Details","details","v","install_missing_packages","report_progess","last_progress","last_info","package","last_name","EXIT_SUCCESS","EXIT_CANCELLED","ROLE_REFRESH_CACHE","ROLE_UPDATE_PACKAGES","INFO_UNKNOWN","INFO_LOW","INFO_ENHANCEMENT","INFO_BUGFIX","INFO_IMPORTANT","INFO_DOWNLOADING","INFO_REINSTALLING","INFO_DOWNGRADING","STATUS_DOWNLOAD","STATUS_INSTALL","STATUS_UPDATE","STATUS_CLEANUP","STATUS_SIGCHECK","_Error","fun","stopPropagation","path_or_url","queryobj","payload","binary","endsWith","external","content-type","query","btoa","transport","csrf_token","_cockpitComponentsDialog","_ref2","show_modal_dialog","cancel_caption","actions","launchables","jump","DialogFooter","cancel_clicked","static_error","dialog_done","action_in_progress","action_in_progress_promise","action_progress_message","action_progress_cancel","action_canceled","error_message","keyUpHandler","e","keyCode","cancel_click","classList","update_progress","msg","action_click","cancel_style","wait_element","actions_disabled","cancel_disabled","idle_message","error_element","action_buttons","caption","button_style","button_style_mapping","primary","danger","action_disabled","clicked","Dialog","no_backdrop","footer","activeElement","blur","backdrop","footerProps","updateFooterAndRender","dialogObj","dialogName","curElement","rootElement","origCallback","closeCallback","setFooterProps","render_homepage_link","urls","url","link","data-linkedhost","aria-hidden","render_description","description","paragraph","tag","items","render_comp","progress_or_launch","screenshots","full","navigate_up","event_target","buf","python","spawn","inotify_py","watch_appstream_py","environ","language","stream","lines","metadata","parse","script_pieces","script","join","pyinvoke","input"],"mappings":"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","file":"apps/apps.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _cockpit = __webpack_require__(2);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _applicationList = __webpack_require__(4);\n\t\n\tvar _applicationList2 = _interopRequireDefault(_applicationList);\n\t\n\tvar _application = __webpack_require__(12);\n\t\n\tvar _application2 = _interopRequireDefault(_application);\n\t\n\tvar _appstream = __webpack_require__(15);\n\t\n\tvar _appstream2 = _interopRequireDefault(_appstream);\n\t\n\t__webpack_require__(9);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar metainfo_db = _appstream2.default.get_metainfo_db();\n\t\n\tfunction render_list() {\n\t    _react2.default.render(_react2.default.createElement(_applicationList2.default.ApplicationList, { metainfo_db: metainfo_db }), document.getElementById('list'));\n\t}\n\t\n\tfunction render_app() {\n\t    _react2.default.render(_react2.default.createElement(_application2.default.Application, { metainfo_db: metainfo_db, id: _cockpit2.default.location.path[0] }), document.getElementById('app'));\n\t}\n\t\n\tfunction show(id) {\n\t    document.getElementById(id).style.display = 'block';\n\t}\n\t\n\tfunction hide(id) {\n\t    document.getElementById(id).style.display = 'none';\n\t}\n\t\n\tfunction navigate() {\n\t    var path = _cockpit2.default.location.path;\n\t\n\t    if (path.length === 0) {\n\t        show('list-page');\n\t        hide('app-page');\n\t    } else if (path.length === 1) {\n\t        render_app();\n\t        hide('list-page');\n\t        show('app-page');\n\t    } else {\n\t        /* redirect */\n\t        console.warn(\"not a apps location: \" + path);\n\t        _cockpit2.default.location = '';\n\t    }\n\t}\n\t\n\tdocument.addEventListener(\"DOMContentLoaded\", function () {\n\t    _cockpit2.default.translate();\n\t\n\t    metainfo_db.addEventListener(\"changed\", function () {\n\t        render_list();\n\t        render_app();\n\t    });\n\t\n\t    render_list();\n\t    _cockpit2.default.addEventListener(\"locationchanged\", navigate);\n\t    navigate();\n\t\n\t    document.body.style.display = 'block';\n\t});\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = cockpit;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*!\n\t * react-lite.js v0.15.39\n\t * (c) 2017 Jade Gu\n\t * Released under the MIT License.\n\t */\n\t(function (global, factory) {\n\t   true ? module.exports = factory() :\n\t  typeof define === 'function' && define.amd ? define(factory) :\n\t  global.React = factory();\n\t}(this, function () { 'use strict';\n\t\n\t  var HTML_KEY = 'dangerouslySetInnerHTML';\n\t  var SVGNamespaceURI = 'http://www.w3.org/2000/svg';\n\t  var COMPONENT_ID = 'liteid';\n\t  var VELEMENT = 2;\n\t  var VSTATELESS = 3;\n\t  var VCOMPONENT = 4;\n\t  var VCOMMENT = 5;\n\t  var ELEMENT_NODE_TYPE = 1;\n\t  var DOC_NODE_TYPE = 9;\n\t  var DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\t\n\t  /**\r\n\t   * current stateful component's refs property\r\n\t   * will attach to every vnode created by calling component.render method\r\n\t   */\n\t  var refs = null;\n\t\n\t  function createVnode(vtype, type, props, key, ref) {\n\t      var vnode = {\n\t          vtype: vtype,\n\t          type: type,\n\t          props: props,\n\t          refs: refs,\n\t          key: key,\n\t          ref: ref\n\t      };\n\t      if (vtype === VSTATELESS || vtype === VCOMPONENT) {\n\t          vnode.uid = getUid();\n\t      }\n\t      return vnode;\n\t  }\n\t\n\t  function initVnode(vnode, parentContext, namespaceURI) {\n\t      var vtype = vnode.vtype;\n\t\n\t      var node = null;\n\t      if (!vtype) {\n\t          // init text\n\t          node = document.createTextNode(vnode);\n\t      } else if (vtype === VELEMENT) {\n\t          // init element\n\t          node = initVelem(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VCOMPONENT) {\n\t          // init stateful component\n\t          node = initVcomponent(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VSTATELESS) {\n\t          // init stateless component\n\t          node = initVstateless(vnode, parentContext, namespaceURI);\n\t      } else if (vtype === VCOMMENT) {\n\t          // init comment\n\t          node = document.createComment('react-text: ' + (vnode.uid || getUid()));\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function updateVnode(vnode, newVnode, node, parentContext) {\n\t      var vtype = vnode.vtype;\n\t\n\t      if (vtype === VCOMPONENT) {\n\t          return updateVcomponent(vnode, newVnode, node, parentContext);\n\t      }\n\t\n\t      if (vtype === VSTATELESS) {\n\t          return updateVstateless(vnode, newVnode, node, parentContext);\n\t      }\n\t\n\t      // ignore VCOMMENT and other vtypes\n\t      if (vtype !== VELEMENT) {\n\t          return node;\n\t      }\n\t\n\t      var oldHtml = vnode.props[HTML_KEY] && vnode.props[HTML_KEY].__html;\n\t      if (oldHtml != null) {\n\t          updateVelem(vnode, newVnode, node, parentContext);\n\t          initVchildren(newVnode, node, parentContext);\n\t      } else {\n\t          updateVChildren(vnode, newVnode, node, parentContext);\n\t          updateVelem(vnode, newVnode, node, parentContext);\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function updateVChildren(vnode, newVnode, node, parentContext) {\n\t      var patches = {\n\t          removes: [],\n\t          updates: [],\n\t          creates: []\n\t      };\n\t      diffVchildren(patches, vnode, newVnode, node, parentContext);\n\t      flatEach(patches.removes, applyDestroy);\n\t      flatEach(patches.updates, applyUpdate);\n\t      flatEach(patches.creates, applyCreate);\n\t  }\n\t\n\t  function applyUpdate(data) {\n\t      if (!data) {\n\t          return;\n\t      }\n\t      var vnode = data.vnode;\n\t      var newNode = data.node;\n\t\n\t      // update\n\t      if (!data.shouldIgnore) {\n\t          if (!vnode.vtype) {\n\t              newNode.replaceData(0, newNode.length, data.newVnode);\n\t          } else if (vnode.vtype === VELEMENT) {\n\t              updateVelem(vnode, data.newVnode, newNode, data.parentContext);\n\t          } else if (vnode.vtype === VSTATELESS) {\n\t              newNode = updateVstateless(vnode, data.newVnode, newNode, data.parentContext);\n\t          } else if (vnode.vtype === VCOMPONENT) {\n\t              newNode = updateVcomponent(vnode, data.newVnode, newNode, data.parentContext);\n\t          }\n\t      }\n\t\n\t      // re-order\n\t      var currentNode = newNode.parentNode.childNodes[data.index];\n\t      if (currentNode !== newNode) {\n\t          newNode.parentNode.insertBefore(newNode, currentNode);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function applyDestroy(data) {\n\t      destroyVnode(data.vnode, data.node);\n\t      data.node.parentNode.removeChild(data.node);\n\t  }\n\t\n\t  function applyCreate(data) {\n\t      var node = initVnode(data.vnode, data.parentContext, data.parentNode.namespaceURI);\n\t      data.parentNode.insertBefore(node, data.parentNode.childNodes[data.index]);\n\t  }\n\t\n\t  /**\r\n\t   * Only vnode which has props.children need to call destroy function\r\n\t   * to check whether subTree has component that need to call lify-cycle method and release cache.\r\n\t   */\n\t\n\t  function destroyVnode(vnode, node) {\n\t      var vtype = vnode.vtype;\n\t\n\t      if (vtype === VELEMENT) {\n\t          // destroy element\n\t          destroyVelem(vnode, node);\n\t      } else if (vtype === VCOMPONENT) {\n\t          // destroy state component\n\t          destroyVcomponent(vnode, node);\n\t      } else if (vtype === VSTATELESS) {\n\t          // destroy stateless component\n\t          destroyVstateless(vnode, node);\n\t      }\n\t  }\n\t\n\t  function initVelem(velem, parentContext, namespaceURI) {\n\t      var type = velem.type;\n\t      var props = velem.props;\n\t\n\t      var node = null;\n\t\n\t      if (type === 'svg' || namespaceURI === SVGNamespaceURI) {\n\t          node = document.createElementNS(SVGNamespaceURI, type);\n\t          namespaceURI = SVGNamespaceURI;\n\t      } else {\n\t          node = document.createElement(type);\n\t      }\n\t\n\t      initVchildren(velem, node, parentContext);\n\t\n\t      var isCustomComponent = type.indexOf('-') >= 0 || props.is != null;\n\t      setProps(node, props, isCustomComponent);\n\t\n\t      if (velem.ref != null) {\n\t          addItem(pendingRefs, velem);\n\t          addItem(pendingRefs, node);\n\t      }\n\t\n\t      return node;\n\t  }\n\t\n\t  function initVchildren(velem, node, parentContext) {\n\t      var vchildren = node.vchildren = getFlattenChildren(velem);\n\t      var namespaceURI = node.namespaceURI;\n\t      for (var i = 0, len = vchildren.length; i < len; i++) {\n\t          node.appendChild(initVnode(vchildren[i], parentContext, namespaceURI));\n\t      }\n\t  }\n\t\n\t  function getFlattenChildren(vnode) {\n\t      var children = vnode.props.children;\n\t\n\t      var vchildren = [];\n\t      if (isArr(children)) {\n\t          flatEach(children, collectChild, vchildren);\n\t      } else {\n\t          collectChild(children, vchildren);\n\t      }\n\t      return vchildren;\n\t  }\n\t\n\t  function collectChild(child, children) {\n\t      if (child != null && typeof child !== 'boolean') {\n\t          if (!child.vtype) {\n\t              // convert immutablejs data\n\t              if (child.toJS) {\n\t                  child = child.toJS();\n\t                  if (isArr(child)) {\n\t                      flatEach(child, collectChild, children);\n\t                  } else {\n\t                      collectChild(child, children);\n\t                  }\n\t                  return;\n\t              }\n\t              child = '' + child;\n\t          }\n\t          children[children.length] = child;\n\t      }\n\t  }\n\t\n\t  function diffVchildren(patches, vnode, newVnode, node, parentContext) {\n\t      if (!node.vchildren) return; // react-lite hasn't seen this DOM node before\n\t\n\t      var childNodes = node.childNodes;\n\t      var vchildren = node.vchildren;\n\t\n\t      var newVchildren = node.vchildren = getFlattenChildren(newVnode);\n\t      var vchildrenLen = vchildren.length;\n\t      var newVchildrenLen = newVchildren.length;\n\t\n\t      if (vchildrenLen === 0) {\n\t          if (newVchildrenLen > 0) {\n\t              for (var i = 0; i < newVchildrenLen; i++) {\n\t                  addItem(patches.creates, {\n\t                      vnode: newVchildren[i],\n\t                      parentNode: node,\n\t                      parentContext: parentContext,\n\t                      index: i\n\t                  });\n\t              }\n\t          }\n\t          return;\n\t      } else if (newVchildrenLen === 0) {\n\t          for (var i = 0; i < vchildrenLen; i++) {\n\t              addItem(patches.removes, {\n\t                  vnode: vchildren[i],\n\t                  node: childNodes[i]\n\t              });\n\t          }\n\t          return;\n\t      }\n\t\n\t      var updates = Array(newVchildrenLen);\n\t      var removes = null;\n\t      var creates = null;\n\t\n\t      // isEqual\n\t      for (var i = 0; i < vchildrenLen; i++) {\n\t          var _vnode = vchildren[i];\n\t          for (var j = 0; j < newVchildrenLen; j++) {\n\t              if (updates[j]) {\n\t                  continue;\n\t              }\n\t              var _newVnode = newVchildren[j];\n\t              if (_vnode === _newVnode) {\n\t                  updates[j] = {\n\t                      shouldIgnore: shouldIgnoreUpdate(node),\n\t                      vnode: _vnode,\n\t                      newVnode: _newVnode,\n\t                      node: childNodes[i],\n\t                      parentContext: parentContext,\n\t                      index: j\n\t                  };\n\t                  vchildren[i] = null;\n\t                  break;\n\t              }\n\t          }\n\t      }\n\t\n\t      // isSimilar\n\t      for (var i = 0; i < vchildrenLen; i++) {\n\t          var _vnode2 = vchildren[i];\n\t          if (_vnode2 === null) {\n\t              continue;\n\t          }\n\t          var shouldRemove = true;\n\t          for (var j = 0; j < newVchildrenLen; j++) {\n\t              if (updates[j]) {\n\t                  continue;\n\t              }\n\t              var _newVnode2 = newVchildren[j];\n\t              if (_newVnode2.type === _vnode2.type && _newVnode2.key === _vnode2.key && _newVnode2.refs === _vnode2.refs) {\n\t                  updates[j] = {\n\t                      vnode: _vnode2,\n\t                      newVnode: _newVnode2,\n\t                      node: childNodes[i],\n\t                      parentContext: parentContext,\n\t                      index: j\n\t                  };\n\t                  shouldRemove = false;\n\t                  break;\n\t              }\n\t          }\n\t          if (shouldRemove) {\n\t              if (!removes) {\n\t                  removes = [];\n\t              }\n\t              addItem(removes, {\n\t                  vnode: _vnode2,\n\t                  node: childNodes[i]\n\t              });\n\t          }\n\t      }\n\t\n\t      for (var i = 0; i < newVchildrenLen; i++) {\n\t          var item = updates[i];\n\t          if (!item) {\n\t              if (!creates) {\n\t                  creates = [];\n\t              }\n\t              addItem(creates, {\n\t                  vnode: newVchildren[i],\n\t                  parentNode: node,\n\t                  parentContext: parentContext,\n\t                  index: i\n\t              });\n\t          } else if (item.vnode.vtype === VELEMENT) {\n\t              diffVchildren(patches, item.vnode, item.newVnode, item.node, item.parentContext);\n\t          }\n\t      }\n\t\n\t      if (removes) {\n\t          addItem(patches.removes, removes);\n\t      }\n\t      if (creates) {\n\t          addItem(patches.creates, creates);\n\t      }\n\t      addItem(patches.updates, updates);\n\t  }\n\t\n\t  function updateVelem(velem, newVelem, node) {\n\t      var isCustomComponent = velem.type.indexOf('-') >= 0 || velem.props.is != null;\n\t      patchProps(node, velem.props, newVelem.props, isCustomComponent);\n\t      if (velem.ref !== newVelem.ref) {\n\t          detachRef(velem.refs, velem.ref, node);\n\t          attachRef(newVelem.refs, newVelem.ref, node);\n\t      }\n\t      return node;\n\t  }\n\t\n\t  function destroyVelem(velem, node) {\n\t      var props = velem.props;\n\t      var vchildren = node.vchildren;\n\t      var childNodes = node.childNodes;\n\t\n\t      if (vchildren) {\n\t          for (var i = 0, len = vchildren.length; i < len; i++) {\n\t              destroyVnode(vchildren[i], childNodes[i]);\n\t          }\n\t      }\n\t      detachRef(velem.refs, velem.ref, node);\n\t      node.eventStore = node.vchildren = null;\n\t  }\n\t\n\t  function initVstateless(vstateless, parentContext, namespaceURI) {\n\t      var vnode = renderVstateless(vstateless, parentContext);\n\t      var node = initVnode(vnode, parentContext, namespaceURI);\n\t      node.cache = node.cache || {};\n\t      node.cache[vstateless.uid] = vnode;\n\t      return node;\n\t  }\n\t\n\t  function updateVstateless(vstateless, newVstateless, node, parentContext) {\n\t      var uid = vstateless.uid;\n\t      var vnode = node.cache[uid];\n\t      delete node.cache[uid];\n\t      var newVnode = renderVstateless(newVstateless, parentContext);\n\t      var newNode = compareTwoVnodes(vnode, newVnode, node, parentContext);\n\t      newNode.cache = newNode.cache || {};\n\t      newNode.cache[newVstateless.uid] = newVnode;\n\t      if (newNode !== node) {\n\t          syncCache(newNode.cache, node.cache, newNode);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function destroyVstateless(vstateless, node) {\n\t      var uid = vstateless.uid;\n\t      var vnode = node.cache[uid];\n\t      delete node.cache[uid];\n\t      destroyVnode(vnode, node);\n\t  }\n\t\n\t  function renderVstateless(vstateless, parentContext) {\n\t      var factory = vstateless.type;\n\t      var props = vstateless.props;\n\t\n\t      var componentContext = getContextByTypes(parentContext, factory.contextTypes);\n\t      var vnode = factory(props, componentContext);\n\t      if (vnode && vnode.render) {\n\t          vnode = vnode.render();\n\t      }\n\t      if (vnode === null || vnode === false) {\n\t          vnode = createVnode(VCOMMENT);\n\t      } else if (!vnode || !vnode.vtype) {\n\t          throw new Error('@' + factory.name + '#render:You may have returned undefined, an array or some other invalid object');\n\t      }\n\t      return vnode;\n\t  }\n\t\n\t  function initVcomponent(vcomponent, parentContext, namespaceURI) {\n\t      var Component = vcomponent.type;\n\t      var props = vcomponent.props;\n\t      var uid = vcomponent.uid;\n\t\n\t      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n\t      var component = new Component(props, componentContext);\n\t      var updater = component.$updater;\n\t      var cache = component.$cache;\n\t\n\t      cache.parentContext = parentContext;\n\t      updater.isPending = true;\n\t      component.props = component.props || props;\n\t      component.context = component.context || componentContext;\n\t      if (component.componentWillMount) {\n\t          component.componentWillMount();\n\t          component.state = updater.getState();\n\t      }\n\t      var vnode = renderComponent(component);\n\t      var node = initVnode(vnode, getChildContext(component, parentContext), namespaceURI);\n\t      node.cache = node.cache || {};\n\t      node.cache[uid] = component;\n\t      cache.vnode = vnode;\n\t      cache.node = node;\n\t      cache.isMounted = true;\n\t      addItem(pendingComponents, component);\n\t\n\t      if (vcomponent.ref != null) {\n\t          addItem(pendingRefs, vcomponent);\n\t          addItem(pendingRefs, component);\n\t      }\n\t\n\t      return node;\n\t  }\n\t\n\t  function updateVcomponent(vcomponent, newVcomponent, node, parentContext) {\n\t      var uid = vcomponent.uid;\n\t      var component = node.cache[uid];\n\t      var updater = component.$updater;\n\t      var cache = component.$cache;\n\t      var Component = newVcomponent.type;\n\t      var nextProps = newVcomponent.props;\n\t\n\t      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n\t      delete node.cache[uid];\n\t      node.cache[newVcomponent.uid] = component;\n\t      cache.parentContext = parentContext;\n\t      if (component.componentWillReceiveProps) {\n\t          var needToggleIsPending = !updater.isPending;\n\t          if (needToggleIsPending) updater.isPending = true;\n\t          component.componentWillReceiveProps(nextProps, componentContext);\n\t          if (needToggleIsPending) updater.isPending = false;\n\t      }\n\t\n\t      if (vcomponent.ref !== newVcomponent.ref) {\n\t          detachRef(vcomponent.refs, vcomponent.ref, component);\n\t          attachRef(newVcomponent.refs, newVcomponent.ref, component);\n\t      }\n\t\n\t      updater.emitUpdate(nextProps, componentContext);\n\t\n\t      return cache.node;\n\t  }\n\t\n\t  function destroyVcomponent(vcomponent, node) {\n\t      var uid = vcomponent.uid;\n\t      var component = node.cache[uid];\n\t      var cache = component.$cache;\n\t      delete node.cache[uid];\n\t      detachRef(vcomponent.refs, vcomponent.ref, component);\n\t      component.setState = component.forceUpdate = noop;\n\t      if (component.componentWillUnmount) {\n\t          component.componentWillUnmount();\n\t      }\n\t      destroyVnode(cache.vnode, node);\n\t      delete component.setState;\n\t      cache.isMounted = false;\n\t      cache.node = cache.parentContext = cache.vnode = component.refs = component.context = null;\n\t  }\n\t\n\t  function getContextByTypes(curContext, contextTypes) {\n\t      var context = {};\n\t      if (!contextTypes || !curContext) {\n\t          return context;\n\t      }\n\t      for (var key in contextTypes) {\n\t          if (contextTypes.hasOwnProperty(key)) {\n\t              context[key] = curContext[key];\n\t          }\n\t      }\n\t      return context;\n\t  }\n\t\n\t  function renderComponent(component, parentContext) {\n\t      refs = component.refs;\n\t      var vnode = component.render();\n\t      if (vnode === null || vnode === false) {\n\t          vnode = createVnode(VCOMMENT);\n\t      } else if (!vnode || !vnode.vtype) {\n\t          throw new Error('@' + component.constructor.name + '#render:You may have returned undefined, an array or some other invalid object');\n\t      }\n\t      refs = null;\n\t      return vnode;\n\t  }\n\t\n\t  function getChildContext(component, parentContext) {\n\t      if (component.getChildContext) {\n\t          var curContext = component.getChildContext();\n\t          if (curContext) {\n\t              parentContext = extend(extend({}, parentContext), curContext);\n\t          }\n\t      }\n\t      return parentContext;\n\t  }\n\t\n\t  var pendingComponents = [];\n\t  function clearPendingComponents() {\n\t      var len = pendingComponents.length;\n\t      if (!len) {\n\t          return;\n\t      }\n\t      var components = pendingComponents;\n\t      pendingComponents = [];\n\t      var i = -1;\n\t      while (len--) {\n\t          var component = components[++i];\n\t          var updater = component.$updater;\n\t          if (component.componentDidMount) {\n\t              component.componentDidMount();\n\t          }\n\t          updater.isPending = false;\n\t          updater.emitUpdate();\n\t      }\n\t  }\n\t\n\t  var pendingRefs = [];\n\t  function clearPendingRefs() {\n\t      var len = pendingRefs.length;\n\t      if (!len) {\n\t          return;\n\t      }\n\t      var list = pendingRefs;\n\t      pendingRefs = [];\n\t      for (var i = 0; i < len; i += 2) {\n\t          var vnode = list[i];\n\t          var refValue = list[i + 1];\n\t          attachRef(vnode.refs, vnode.ref, refValue);\n\t      }\n\t  }\n\t\n\t  function clearPending() {\n\t      clearPendingRefs();\n\t      clearPendingComponents();\n\t  }\n\t\n\t  function compareTwoVnodes(vnode, newVnode, node, parentContext) {\n\t      var newNode = node;\n\t      if (newVnode == null) {\n\t          // remove\n\t          destroyVnode(vnode, node);\n\t          node.parentNode.removeChild(node);\n\t      } else if (vnode.type !== newVnode.type || vnode.key !== newVnode.key) {\n\t          // replace\n\t          destroyVnode(vnode, node);\n\t          newNode = initVnode(newVnode, parentContext, node.namespaceURI);\n\t          node.parentNode.replaceChild(newNode, node);\n\t      } else if (vnode !== newVnode || parentContext) {\n\t          // same type and same key -> update\n\t          newNode = updateVnode(vnode, newVnode, node, parentContext);\n\t      }\n\t      return newNode;\n\t  }\n\t\n\t  function getDOMNode() {\n\t      return this;\n\t  }\n\t\n\t  function attachRef(refs, refKey, refValue) {\n\t      if (refKey == null || !refValue) {\n\t          return;\n\t      }\n\t      if (refValue.nodeName && !refValue.getDOMNode) {\n\t          // support react v0.13 style: this.refs.myInput.getDOMNode()\n\t          refValue.getDOMNode = getDOMNode;\n\t      }\n\t      if (isFn(refKey)) {\n\t          refKey(refValue);\n\t      } else if (refs) {\n\t          refs[refKey] = refValue;\n\t      }\n\t  }\n\t\n\t  function detachRef(refs, refKey, refValue) {\n\t      if (refKey == null) {\n\t          return;\n\t      }\n\t      if (isFn(refKey)) {\n\t          refKey(null);\n\t      } else if (refs && refs[refKey] === refValue) {\n\t          delete refs[refKey];\n\t      }\n\t  }\n\t\n\t  function syncCache(cache, oldCache, node) {\n\t      for (var key in oldCache) {\n\t          if (!oldCache.hasOwnProperty(key)) {\n\t              continue;\n\t          }\n\t          var value = oldCache[key];\n\t          cache[key] = value;\n\t\n\t          // is component, update component.$cache.node\n\t          if (value.forceUpdate) {\n\t              value.$cache.node = node;\n\t          }\n\t      }\n\t  }\n\t\n\t  function shouldIgnoreUpdate(node) {\n\t      var vchildren = node.vchildren;\n\t      var children = node.children;\n\t\n\t      if (vchildren) {\n\t          for (var i = 0; i < vchildren.length; i++) {\n\t              var vchild = vchildren[i];\n\t              if (vchild.vtype === VCOMPONENT || vchild.vtype === VSTATELESS) {\n\t                  if (vchild.type.contextTypes) {\n\t                      return false;\n\t                  }\n\t              }\n\t          }\n\t      }\n\t\n\t      if (children) {\n\t          for (var i = 0; i < children.length; i++) {\n\t              if (!shouldIgnoreUpdate(children[i])) {\n\t                  return false;\n\t              }\n\t          }\n\t      }\n\t\n\t      return true;\n\t  }\n\t\n\t  var updateQueue = {\n\t  \tupdaters: [],\n\t  \tisPending: false,\n\t  \tadd: function add(updater) {\n\t  \t\taddItem(this.updaters, updater);\n\t  \t},\n\t  \tbatchUpdate: function batchUpdate() {\n\t  \t\tif (this.isPending) {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tthis.isPending = true;\n\t  \t\t/*\r\n\t     each updater.update may add new updater to updateQueue\r\n\t     clear them with a loop\r\n\t     event bubbles from bottom-level to top-level\r\n\t     reverse the updater order can merge some props and state and reduce the refresh times\r\n\t     see Updater.update method below to know why\r\n\t    */\n\t  \t\tvar updaters = this.updaters;\n\t\n\t  \t\tvar updater = undefined;\n\t  \t\twhile (updater = updaters.pop()) {\n\t  \t\t\tupdater.updateComponent();\n\t  \t\t}\n\t  \t\tthis.isPending = false;\n\t  \t}\n\t  };\n\t\n\t  function Updater(instance) {\n\t  \tthis.instance = instance;\n\t  \tthis.pendingStates = [];\n\t  \tthis.pendingCallbacks = [];\n\t  \tthis.isPending = false;\n\t  \tthis.nextProps = this.nextContext = null;\n\t  \tthis.clearCallbacks = this.clearCallbacks.bind(this);\n\t  }\n\t\n\t  Updater.prototype = {\n\t  \temitUpdate: function emitUpdate(nextProps, nextContext) {\n\t  \t\tthis.nextProps = nextProps;\n\t  \t\tthis.nextContext = nextContext;\n\t  \t\t// receive nextProps!! should update immediately\n\t  \t\tnextProps || !updateQueue.isPending ? this.updateComponent() : updateQueue.add(this);\n\t  \t},\n\t  \tupdateComponent: function updateComponent() {\n\t  \t\tvar instance = this.instance;\n\t  \t\tvar pendingStates = this.pendingStates;\n\t  \t\tvar nextProps = this.nextProps;\n\t  \t\tvar nextContext = this.nextContext;\n\t\n\t  \t\tif (nextProps || pendingStates.length > 0) {\n\t  \t\t\tnextProps = nextProps || instance.props;\n\t  \t\t\tnextContext = nextContext || instance.context;\n\t  \t\t\tthis.nextProps = this.nextContext = null;\n\t  \t\t\t// merge the nextProps and nextState and update by one time\n\t  \t\t\tshouldUpdate(instance, nextProps, this.getState(), nextContext, this.clearCallbacks);\n\t  \t\t}\n\t  \t},\n\t  \taddState: function addState(nextState) {\n\t  \t\tif (nextState) {\n\t  \t\t\taddItem(this.pendingStates, nextState);\n\t  \t\t\tif (!this.isPending) {\n\t  \t\t\t\tthis.emitUpdate();\n\t  \t\t\t}\n\t  \t\t}\n\t  \t},\n\t  \treplaceState: function replaceState(nextState) {\n\t  \t\tvar pendingStates = this.pendingStates;\n\t\n\t  \t\tpendingStates.pop();\n\t  \t\t// push special params to point out should replace state\n\t  \t\taddItem(pendingStates, [nextState]);\n\t  \t},\n\t  \tgetState: function getState() {\n\t  \t\tvar instance = this.instance;\n\t  \t\tvar pendingStates = this.pendingStates;\n\t  \t\tvar state = instance.state;\n\t  \t\tvar props = instance.props;\n\t\n\t  \t\tif (pendingStates.length) {\n\t  \t\t\tstate = extend({}, state);\n\t  \t\t\tpendingStates.forEach(function (nextState) {\n\t  \t\t\t\tvar isReplace = isArr(nextState);\n\t  \t\t\t\tif (isReplace) {\n\t  \t\t\t\t\tnextState = nextState[0];\n\t  \t\t\t\t}\n\t  \t\t\t\tif (isFn(nextState)) {\n\t  \t\t\t\t\tnextState = nextState.call(instance, state, props);\n\t  \t\t\t\t}\n\t  \t\t\t\t// replace state\n\t  \t\t\t\tif (isReplace) {\n\t  \t\t\t\t\tstate = extend({}, nextState);\n\t  \t\t\t\t} else {\n\t  \t\t\t\t\textend(state, nextState);\n\t  \t\t\t\t}\n\t  \t\t\t});\n\t  \t\t\tpendingStates.length = 0;\n\t  \t\t}\n\t  \t\treturn state;\n\t  \t},\n\t  \tclearCallbacks: function clearCallbacks() {\n\t  \t\tvar pendingCallbacks = this.pendingCallbacks;\n\t  \t\tvar instance = this.instance;\n\t\n\t  \t\tif (pendingCallbacks.length > 0) {\n\t  \t\t\tthis.pendingCallbacks = [];\n\t  \t\t\tpendingCallbacks.forEach(function (callback) {\n\t  \t\t\t\treturn callback.call(instance);\n\t  \t\t\t});\n\t  \t\t}\n\t  \t},\n\t  \taddCallback: function addCallback(callback) {\n\t  \t\tif (isFn(callback)) {\n\t  \t\t\taddItem(this.pendingCallbacks, callback);\n\t  \t\t}\n\t  \t}\n\t  };\n\t  function Component(props, context) {\n\t  \tthis.$updater = new Updater(this);\n\t  \tthis.$cache = { isMounted: false };\n\t  \tthis.props = props;\n\t  \tthis.state = {};\n\t  \tthis.refs = {};\n\t  \tthis.context = context;\n\t  }\n\t\n\t  var ReactComponentSymbol = {};\n\t\n\t  Component.prototype = {\n\t  \tconstructor: Component,\n\t  \tisReactComponent: ReactComponentSymbol,\n\t  \t// getChildContext: _.noop,\n\t  \t// componentWillUpdate: _.noop,\n\t  \t// componentDidUpdate: _.noop,\n\t  \t// componentWillReceiveProps: _.noop,\n\t  \t// componentWillMount: _.noop,\n\t  \t// componentDidMount: _.noop,\n\t  \t// componentWillUnmount: _.noop,\n\t  \t// shouldComponentUpdate(nextProps, nextState) {\n\t  \t// \treturn true\n\t  \t// },\n\t  \tforceUpdate: function forceUpdate(callback) {\n\t  \t\tvar $updater = this.$updater;\n\t  \t\tvar $cache = this.$cache;\n\t  \t\tvar props = this.props;\n\t  \t\tvar state = this.state;\n\t  \t\tvar context = this.context;\n\t\n\t  \t\tif (!$cache.isMounted) {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\t// if updater is pending, add state to trigger nexttick update\n\t  \t\tif ($updater.isPending) {\n\t  \t\t\t$updater.addState(state);\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tvar nextProps = $cache.props || props;\n\t  \t\tvar nextState = $cache.state || state;\n\t  \t\tvar nextContext = $cache.context || context;\n\t  \t\tvar parentContext = $cache.parentContext;\n\t  \t\tvar node = $cache.node;\n\t  \t\tvar vnode = $cache.vnode;\n\t  \t\t$cache.props = $cache.state = $cache.context = null;\n\t  \t\t$updater.isPending = true;\n\t  \t\tif (this.componentWillUpdate) {\n\t  \t\t\tthis.componentWillUpdate(nextProps, nextState, nextContext);\n\t  \t\t}\n\t  \t\tthis.state = nextState;\n\t  \t\tthis.props = nextProps;\n\t  \t\tthis.context = nextContext;\n\t  \t\tvar newVnode = renderComponent(this);\n\t  \t\tvar newNode = compareTwoVnodes(vnode, newVnode, node, getChildContext(this, parentContext));\n\t  \t\tif (newNode !== node) {\n\t  \t\t\tnewNode.cache = newNode.cache || {};\n\t  \t\t\tsyncCache(newNode.cache, node.cache, newNode);\n\t  \t\t}\n\t  \t\t$cache.vnode = newVnode;\n\t  \t\t$cache.node = newNode;\n\t  \t\tclearPending();\n\t  \t\tif (this.componentDidUpdate) {\n\t  \t\t\tthis.componentDidUpdate(props, state, context);\n\t  \t\t}\n\t  \t\tif (callback) {\n\t  \t\t\tcallback.call(this);\n\t  \t\t}\n\t  \t\t$updater.isPending = false;\n\t  \t\t$updater.emitUpdate();\n\t  \t},\n\t  \tsetState: function setState(nextState, callback) {\n\t  \t\tvar $updater = this.$updater;\n\t\n\t  \t\t$updater.addCallback(callback);\n\t  \t\t$updater.addState(nextState);\n\t  \t},\n\t  \treplaceState: function replaceState(nextState, callback) {\n\t  \t\tvar $updater = this.$updater;\n\t\n\t  \t\t$updater.addCallback(callback);\n\t  \t\t$updater.replaceState(nextState);\n\t  \t},\n\t  \tgetDOMNode: function getDOMNode() {\n\t  \t\tvar node = this.$cache.node;\n\t  \t\treturn node && node.nodeName === '#comment' ? null : node;\n\t  \t},\n\t  \tisMounted: function isMounted() {\n\t  \t\treturn this.$cache.isMounted;\n\t  \t}\n\t  };\n\t\n\t  function shouldUpdate(component, nextProps, nextState, nextContext, callback) {\n\t  \tvar shouldComponentUpdate = true;\n\t  \tif (component.shouldComponentUpdate) {\n\t  \t\tshouldComponentUpdate = component.shouldComponentUpdate(nextProps, nextState, nextContext);\n\t  \t}\n\t  \tif (shouldComponentUpdate === false) {\n\t  \t\tcomponent.props = nextProps;\n\t  \t\tcomponent.state = nextState;\n\t  \t\tcomponent.context = nextContext || {};\n\t  \t\treturn;\n\t  \t}\n\t  \tvar cache = component.$cache;\n\t  \tcache.props = nextProps;\n\t  \tcache.state = nextState;\n\t  \tcache.context = nextContext || {};\n\t  \tcomponent.forceUpdate(callback);\n\t  }\n\t\n\t  // event config\n\t  var unbubbleEvents = {\n\t      /**\r\n\t       * should not bind mousemove in document scope\r\n\t       * even though mousemove event can bubble\r\n\t       */\n\t      onmousemove: 1,\n\t      ontouchmove: 1,\n\t      onmouseleave: 1,\n\t      onmouseenter: 1,\n\t      onload: 1,\n\t      onunload: 1,\n\t      onscroll: 1,\n\t      onfocus: 1,\n\t      onblur: 1,\n\t      onrowexit: 1,\n\t      onbeforeunload: 1,\n\t      onstop: 1,\n\t      ondragdrop: 1,\n\t      ondragenter: 1,\n\t      ondragexit: 1,\n\t      ondraggesture: 1,\n\t      ondragover: 1,\n\t      oncontextmenu: 1,\n\t      onerror: 1,\n\t\n\t      // media event\n\t      onabort: 1,\n\t      oncanplay: 1,\n\t      oncanplaythrough: 1,\n\t      ondurationchange: 1,\n\t      onemptied: 1,\n\t      onended: 1,\n\t      onloadeddata: 1,\n\t      onloadedmetadata: 1,\n\t      onloadstart: 1,\n\t      onencrypted: 1,\n\t      onpause: 1,\n\t      onplay: 1,\n\t      onplaying: 1,\n\t      onprogress: 1,\n\t      onratechange: 1,\n\t      onseeking: 1,\n\t      onseeked: 1,\n\t      onstalled: 1,\n\t      onsuspend: 1,\n\t      ontimeupdate: 1,\n\t      onvolumechange: 1,\n\t      onwaiting: 1\n\t  };\n\t\n\t  function getEventName(key) {\n\t      if (key === 'onDoubleClick') {\n\t          key = 'ondblclick';\n\t      } else if (key === 'onTouchTap') {\n\t          key = 'onclick';\n\t      }\n\t\n\t      return key.toLowerCase();\n\t  }\n\t\n\t  // Mobile Safari does not fire properly bubble click events on\n\t  // non-interactive elements, which means delegated click listeners do not\n\t  // fire. The workaround for this bug involves attaching an empty click\n\t  // listener on the target node.\n\t  var inMobile = ('ontouchstart' in document);\n\t  var emptyFunction = function emptyFunction() {};\n\t  var ON_CLICK_KEY = 'onclick';\n\t\n\t  var eventTypes = {};\n\t\n\t  function addEvent(elem, eventType, listener) {\n\t      eventType = getEventName(eventType);\n\t\n\t      var eventStore = elem.eventStore || (elem.eventStore = {});\n\t      eventStore[eventType] = listener;\n\t\n\t      if (unbubbleEvents[eventType] === 1) {\n\t          elem[eventType] = dispatchUnbubbleEvent;\n\t          return;\n\t      } else if (!eventTypes[eventType]) {\n\t          // onclick -> click\n\t          document.addEventListener(eventType.substr(2), dispatchEvent, false);\n\t          eventTypes[eventType] = true;\n\t      }\n\t\n\t      if (inMobile && eventType === ON_CLICK_KEY) {\n\t          elem.addEventListener('click', emptyFunction, false);\n\t          return;\n\t      }\n\t\n\t      var nodeName = elem.nodeName;\n\t\n\t      if (eventType === 'onchange' && supportInputEvent(elem)) {\n\t          addEvent(elem, 'oninput', listener);\n\t      }\n\t  }\n\t\n\t  function removeEvent(elem, eventType) {\n\t      eventType = getEventName(eventType);\n\t\n\t      var eventStore = elem.eventStore || (elem.eventStore = {});\n\t      delete eventStore[eventType];\n\t\n\t      if (unbubbleEvents[eventType] === 1) {\n\t          elem[eventType] = null;\n\t          return;\n\t      } else if (inMobile && eventType === ON_CLICK_KEY) {\n\t          elem.removeEventListener('click', emptyFunction, false);\n\t          return;\n\t      }\n\t\n\t      var nodeName = elem.nodeName;\n\t\n\t      if (eventType === 'onchange' && supportInputEvent(elem)) {\n\t          delete eventStore['oninput'];\n\t      }\n\t  }\n\t\n\t  function dispatchEvent(event) {\n\t      var target = event.target;\n\t      var type = event.type;\n\t\n\t      var eventType = 'on' + type;\n\t      var syntheticEvent = undefined;\n\t\n\t      updateQueue.isPending = true;\n\t      while (target) {\n\t          var _target = target;\n\t          var eventStore = _target.eventStore;\n\t\n\t          var listener = eventStore && eventStore[eventType];\n\t          if (!listener) {\n\t              target = target.parentNode;\n\t              continue;\n\t          }\n\t          if (!syntheticEvent) {\n\t              syntheticEvent = createSyntheticEvent(event);\n\t          }\n\t          syntheticEvent.currentTarget = target;\n\t          listener.call(target, syntheticEvent);\n\t          if (syntheticEvent.$cancelBubble) {\n\t              break;\n\t          }\n\t          target = target.parentNode;\n\t      }\n\t      updateQueue.isPending = false;\n\t      updateQueue.batchUpdate();\n\t  }\n\t\n\t  function dispatchUnbubbleEvent(event) {\n\t      var target = event.currentTarget || event.target;\n\t      var eventType = 'on' + event.type;\n\t      var syntheticEvent = createSyntheticEvent(event);\n\t\n\t      syntheticEvent.currentTarget = target;\n\t      updateQueue.isPending = true;\n\t\n\t      var eventStore = target.eventStore;\n\t\n\t      var listener = eventStore && eventStore[eventType];\n\t      if (listener) {\n\t          listener.call(target, syntheticEvent);\n\t      }\n\t\n\t      updateQueue.isPending = false;\n\t      updateQueue.batchUpdate();\n\t  }\n\t\n\t  function createSyntheticEvent(nativeEvent) {\n\t      var syntheticEvent = {};\n\t      var cancelBubble = function cancelBubble() {\n\t          return syntheticEvent.$cancelBubble = true;\n\t      };\n\t      syntheticEvent.nativeEvent = nativeEvent;\n\t      syntheticEvent.persist = noop;\n\t      for (var key in nativeEvent) {\n\t          if (typeof nativeEvent[key] !== 'function') {\n\t              syntheticEvent[key] = nativeEvent[key];\n\t          } else if (key === 'stopPropagation' || key === 'stopImmediatePropagation') {\n\t              syntheticEvent[key] = cancelBubble;\n\t          } else {\n\t              syntheticEvent[key] = nativeEvent[key].bind(nativeEvent);\n\t          }\n\t      }\n\t      return syntheticEvent;\n\t  }\n\t\n\t  function supportInputEvent(elem) {\n\t      var nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n\t      return nodeName !== 'select' && !(nodeName === 'input' && elem.type === 'file');\n\t  }\n\t\n\t  function setStyle(elemStyle, styles) {\n\t      for (var styleName in styles) {\n\t          if (styles.hasOwnProperty(styleName)) {\n\t              setStyleValue(elemStyle, styleName, styles[styleName]);\n\t          }\n\t      }\n\t  }\n\t\n\t  function removeStyle(elemStyle, styles) {\n\t      for (var styleName in styles) {\n\t          if (styles.hasOwnProperty(styleName)) {\n\t              elemStyle[styleName] = '';\n\t          }\n\t      }\n\t  }\n\t\n\t  function patchStyle(elemStyle, style, newStyle) {\n\t      if (style === newStyle) {\n\t          return;\n\t      }\n\t      if (!newStyle && style) {\n\t          removeStyle(elemStyle, style);\n\t          return;\n\t      } else if (newStyle && !style) {\n\t          setStyle(elemStyle, newStyle);\n\t          return;\n\t      }\n\t\n\t      for (var key in style) {\n\t          if (newStyle.hasOwnProperty(key)) {\n\t              if (newStyle[key] !== style[key]) {\n\t                  setStyleValue(elemStyle, key, newStyle[key]);\n\t              }\n\t          } else {\n\t              elemStyle[key] = '';\n\t          }\n\t      }\n\t      for (var key in newStyle) {\n\t          if (!style.hasOwnProperty(key)) {\n\t              setStyleValue(elemStyle, key, newStyle[key]);\n\t          }\n\t      }\n\t  }\n\t\n\t  /**\r\n\t   * CSS properties which accept numbers but are not in units of \"px\".\r\n\t   */\n\t  var isUnitlessNumber = {\n\t      animationIterationCount: 1,\n\t      borderImageOutset: 1,\n\t      borderImageSlice: 1,\n\t      borderImageWidth: 1,\n\t      boxFlex: 1,\n\t      boxFlexGroup: 1,\n\t      boxOrdinalGroup: 1,\n\t      columnCount: 1,\n\t      flex: 1,\n\t      flexGrow: 1,\n\t      flexPositive: 1,\n\t      flexShrink: 1,\n\t      flexNegative: 1,\n\t      flexOrder: 1,\n\t      gridRow: 1,\n\t      gridColumn: 1,\n\t      fontWeight: 1,\n\t      lineClamp: 1,\n\t      lineHeight: 1,\n\t      opacity: 1,\n\t      order: 1,\n\t      orphans: 1,\n\t      tabSize: 1,\n\t      widows: 1,\n\t      zIndex: 1,\n\t      zoom: 1,\n\t\n\t      // SVG-related properties\n\t      fillOpacity: 1,\n\t      floodOpacity: 1,\n\t      stopOpacity: 1,\n\t      strokeDasharray: 1,\n\t      strokeDashoffset: 1,\n\t      strokeMiterlimit: 1,\n\t      strokeOpacity: 1,\n\t      strokeWidth: 1\n\t  };\n\t\n\t  function prefixKey(prefix, key) {\n\t      return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n\t  }\n\t\n\t  var prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\t\n\t  Object.keys(isUnitlessNumber).forEach(function (prop) {\n\t      prefixes.forEach(function (prefix) {\n\t          isUnitlessNumber[prefixKey(prefix, prop)] = 1;\n\t      });\n\t  });\n\t\n\t  var RE_NUMBER = /^-?\\d+(\\.\\d+)?$/;\n\t  function setStyleValue(elemStyle, styleName, styleValue) {\n\t\n\t      if (!isUnitlessNumber[styleName] && RE_NUMBER.test(styleValue)) {\n\t          elemStyle[styleName] = styleValue + 'px';\n\t          return;\n\t      }\n\t\n\t      if (styleName === 'float') {\n\t          styleName = 'cssFloat';\n\t      }\n\t\n\t      if (styleValue == null || typeof styleValue === 'boolean') {\n\t          styleValue = '';\n\t      }\n\t\n\t      elemStyle[styleName] = styleValue;\n\t  }\n\t\n\t  var ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n\t  var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\uB7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\t\n\t  var VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\t\n\t  var isCustomAttribute = RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\n\t  // will merge some data in properties below\n\t  var properties = {};\n\t\n\t  /**\r\n\t   * Mapping from normalized, camelcased property names to a configuration that\r\n\t   * specifies how the associated DOM property should be accessed or rendered.\r\n\t   */\n\t  var MUST_USE_PROPERTY = 0x1;\n\t  var HAS_BOOLEAN_VALUE = 0x4;\n\t  var HAS_NUMERIC_VALUE = 0x8;\n\t  var HAS_POSITIVE_NUMERIC_VALUE = 0x10 | 0x8;\n\t  var HAS_OVERLOADED_BOOLEAN_VALUE = 0x20;\n\t\n\t  // html config\n\t  var HTMLDOMPropertyConfig = {\n\t      props: {\n\t          /**\r\n\t           * Standard Properties\r\n\t           */\n\t          accept: 0,\n\t          acceptCharset: 0,\n\t          accessKey: 0,\n\t          action: 0,\n\t          allowFullScreen: HAS_BOOLEAN_VALUE,\n\t          allowTransparency: 0,\n\t          alt: 0,\n\t          async: HAS_BOOLEAN_VALUE,\n\t          autoComplete: 0,\n\t          autoFocus: HAS_BOOLEAN_VALUE,\n\t          autoPlay: HAS_BOOLEAN_VALUE,\n\t          capture: HAS_BOOLEAN_VALUE,\n\t          cellPadding: 0,\n\t          cellSpacing: 0,\n\t          charSet: 0,\n\t          challenge: 0,\n\t          checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          cite: 0,\n\t          classID: 0,\n\t          className: 0,\n\t          cols: HAS_POSITIVE_NUMERIC_VALUE,\n\t          colSpan: 0,\n\t          content: 0,\n\t          contentEditable: 0,\n\t          contextMenu: 0,\n\t          controls: HAS_BOOLEAN_VALUE,\n\t          coords: 0,\n\t          crossOrigin: 0,\n\t          data: 0, // For `<object />` acts as `src`.\n\t          dateTime: 0,\n\t          'default': HAS_BOOLEAN_VALUE,\n\t          // not in regular react, they did it in other way\n\t          defaultValue: MUST_USE_PROPERTY,\n\t          // not in regular react, they did it in other way\n\t          defaultChecked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          defer: HAS_BOOLEAN_VALUE,\n\t          dir: 0,\n\t          disabled: HAS_BOOLEAN_VALUE,\n\t          download: HAS_OVERLOADED_BOOLEAN_VALUE,\n\t          draggable: 0,\n\t          encType: 0,\n\t          form: 0,\n\t          formAction: 0,\n\t          formEncType: 0,\n\t          formMethod: 0,\n\t          formNoValidate: HAS_BOOLEAN_VALUE,\n\t          formTarget: 0,\n\t          frameBorder: 0,\n\t          headers: 0,\n\t          height: 0,\n\t          hidden: HAS_BOOLEAN_VALUE,\n\t          high: 0,\n\t          href: 0,\n\t          hrefLang: 0,\n\t          htmlFor: 0,\n\t          httpEquiv: 0,\n\t          icon: 0,\n\t          id: 0,\n\t          inputMode: 0,\n\t          integrity: 0,\n\t          is: 0,\n\t          keyParams: 0,\n\t          keyType: 0,\n\t          kind: 0,\n\t          label: 0,\n\t          lang: 0,\n\t          list: 0,\n\t          loop: HAS_BOOLEAN_VALUE,\n\t          low: 0,\n\t          manifest: 0,\n\t          marginHeight: 0,\n\t          marginWidth: 0,\n\t          max: 0,\n\t          maxLength: 0,\n\t          media: 0,\n\t          mediaGroup: 0,\n\t          method: 0,\n\t          min: 0,\n\t          minLength: 0,\n\t          // Caution; `option.selected` is not updated if `select.multiple` is\n\t          // disabled with `removeAttribute`.\n\t          multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          name: 0,\n\t          nonce: 0,\n\t          noValidate: HAS_BOOLEAN_VALUE,\n\t          open: HAS_BOOLEAN_VALUE,\n\t          optimum: 0,\n\t          pattern: 0,\n\t          placeholder: 0,\n\t          poster: 0,\n\t          preload: 0,\n\t          profile: 0,\n\t          radioGroup: 0,\n\t          readOnly: HAS_BOOLEAN_VALUE,\n\t          referrerPolicy: 0,\n\t          rel: 0,\n\t          required: HAS_BOOLEAN_VALUE,\n\t          reversed: HAS_BOOLEAN_VALUE,\n\t          role: 0,\n\t          rows: HAS_POSITIVE_NUMERIC_VALUE,\n\t          rowSpan: HAS_NUMERIC_VALUE,\n\t          sandbox: 0,\n\t          scope: 0,\n\t          scoped: HAS_BOOLEAN_VALUE,\n\t          scrolling: 0,\n\t          seamless: HAS_BOOLEAN_VALUE,\n\t          selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n\t          shape: 0,\n\t          size: HAS_POSITIVE_NUMERIC_VALUE,\n\t          sizes: 0,\n\t          span: HAS_POSITIVE_NUMERIC_VALUE,\n\t          spellCheck: 0,\n\t          src: 0,\n\t          srcDoc: 0,\n\t          srcLang: 0,\n\t          srcSet: 0,\n\t          start: HAS_NUMERIC_VALUE,\n\t          step: 0,\n\t          style: 0,\n\t          summary: 0,\n\t          tabIndex: 0,\n\t          target: 0,\n\t          title: 0,\n\t          // Setting .type throws on non-<input> tags\n\t          type: 0,\n\t          useMap: 0,\n\t          value: MUST_USE_PROPERTY,\n\t          width: 0,\n\t          wmode: 0,\n\t          wrap: 0,\n\t\n\t          /**\r\n\t           * RDFa Properties\r\n\t           */\n\t          about: 0,\n\t          datatype: 0,\n\t          inlist: 0,\n\t          prefix: 0,\n\t          // property is also supported for OpenGraph in meta tags.\n\t          property: 0,\n\t          playsInline: HAS_BOOLEAN_VALUE,\n\t          resource: 0,\n\t          'typeof': 0,\n\t          vocab: 0,\n\t\n\t          /**\r\n\t           * Non-standard Properties\r\n\t           */\n\t          // autoCapitalize and autoCorrect are supported in Mobile Safari for\n\t          // keyboard hints.\n\t          autoCapitalize: 0,\n\t          autoCorrect: 0,\n\t          // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n\t          autoSave: 0,\n\t          // color is for Safari mask-icon link\n\t          color: 0,\n\t          // itemProp, itemScope, itemType are for\n\t          // Microdata support. See http://schema.org/docs/gs.html\n\t          itemProp: 0,\n\t          itemScope: HAS_BOOLEAN_VALUE,\n\t          itemType: 0,\n\t          // itemID and itemRef are for Microdata support as well but\n\t          // only specified in the WHATWG spec document. See\n\t          // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n\t          itemID: 0,\n\t          itemRef: 0,\n\t          // results show looking glass icon and recent searches on input\n\t          // search fields in WebKit/Blink\n\t          results: 0,\n\t          // IE-only attribute that specifies security restrictions on an iframe\n\t          // as an alternative to the sandbox attribute on IE<10\n\t          security: 0,\n\t          // IE-only attribute that controls focus behavior\n\t          unselectable: 0\n\t      },\n\t      attrNS: {},\n\t      domAttrs: {\n\t          acceptCharset: 'accept-charset',\n\t          className: 'class',\n\t          htmlFor: 'for',\n\t          httpEquiv: 'http-equiv'\n\t      },\n\t      domProps: {}\n\t  };\n\t\n\t  // svg config\n\t  var xlink = 'http://www.w3.org/1999/xlink';\n\t  var xml = 'http://www.w3.org/XML/1998/namespace';\n\t\n\t  // We use attributes for everything SVG so let's avoid some duplication and run\n\t  // code instead.\n\t  // The following are all specified in the HTML config already so we exclude here.\n\t  // - class (as className)\n\t  // - color\n\t  // - height\n\t  // - id\n\t  // - lang\n\t  // - max\n\t  // - media\n\t  // - method\n\t  // - min\n\t  // - name\n\t  // - style\n\t  // - target\n\t  // - type\n\t  // - width\n\t  var ATTRS = {\n\t      accentHeight: 'accent-height',\n\t      accumulate: 0,\n\t      additive: 0,\n\t      alignmentBaseline: 'alignment-baseline',\n\t      allowReorder: 'allowReorder',\n\t      alphabetic: 0,\n\t      amplitude: 0,\n\t      arabicForm: 'arabic-form',\n\t      ascent: 0,\n\t      attributeName: 'attributeName',\n\t      attributeType: 'attributeType',\n\t      autoReverse: 'autoReverse',\n\t      azimuth: 0,\n\t      baseFrequency: 'baseFrequency',\n\t      baseProfile: 'baseProfile',\n\t      baselineShift: 'baseline-shift',\n\t      bbox: 0,\n\t      begin: 0,\n\t      bias: 0,\n\t      by: 0,\n\t      calcMode: 'calcMode',\n\t      capHeight: 'cap-height',\n\t      clip: 0,\n\t      clipPath: 'clip-path',\n\t      clipRule: 'clip-rule',\n\t      clipPathUnits: 'clipPathUnits',\n\t      colorInterpolation: 'color-interpolation',\n\t      colorInterpolationFilters: 'color-interpolation-filters',\n\t      colorProfile: 'color-profile',\n\t      colorRendering: 'color-rendering',\n\t      contentScriptType: 'contentScriptType',\n\t      contentStyleType: 'contentStyleType',\n\t      cursor: 0,\n\t      cx: 0,\n\t      cy: 0,\n\t      d: 0,\n\t      decelerate: 0,\n\t      descent: 0,\n\t      diffuseConstant: 'diffuseConstant',\n\t      direction: 0,\n\t      display: 0,\n\t      divisor: 0,\n\t      dominantBaseline: 'dominant-baseline',\n\t      dur: 0,\n\t      dx: 0,\n\t      dy: 0,\n\t      edgeMode: 'edgeMode',\n\t      elevation: 0,\n\t      enableBackground: 'enable-background',\n\t      end: 0,\n\t      exponent: 0,\n\t      externalResourcesRequired: 'externalResourcesRequired',\n\t      fill: 0,\n\t      fillOpacity: 'fill-opacity',\n\t      fillRule: 'fill-rule',\n\t      filter: 0,\n\t      filterRes: 'filterRes',\n\t      filterUnits: 'filterUnits',\n\t      floodColor: 'flood-color',\n\t      floodOpacity: 'flood-opacity',\n\t      focusable: 0,\n\t      fontFamily: 'font-family',\n\t      fontSize: 'font-size',\n\t      fontSizeAdjust: 'font-size-adjust',\n\t      fontStretch: 'font-stretch',\n\t      fontStyle: 'font-style',\n\t      fontVariant: 'font-variant',\n\t      fontWeight: 'font-weight',\n\t      format: 0,\n\t      from: 0,\n\t      fx: 0,\n\t      fy: 0,\n\t      g1: 0,\n\t      g2: 0,\n\t      glyphName: 'glyph-name',\n\t      glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n\t      glyphOrientationVertical: 'glyph-orientation-vertical',\n\t      glyphRef: 'glyphRef',\n\t      gradientTransform: 'gradientTransform',\n\t      gradientUnits: 'gradientUnits',\n\t      hanging: 0,\n\t      horizAdvX: 'horiz-adv-x',\n\t      horizOriginX: 'horiz-origin-x',\n\t      ideographic: 0,\n\t      imageRendering: 'image-rendering',\n\t      'in': 0,\n\t      in2: 0,\n\t      intercept: 0,\n\t      k: 0,\n\t      k1: 0,\n\t      k2: 0,\n\t      k3: 0,\n\t      k4: 0,\n\t      kernelMatrix: 'kernelMatrix',\n\t      kernelUnitLength: 'kernelUnitLength',\n\t      kerning: 0,\n\t      keyPoints: 'keyPoints',\n\t      keySplines: 'keySplines',\n\t      keyTimes: 'keyTimes',\n\t      lengthAdjust: 'lengthAdjust',\n\t      letterSpacing: 'letter-spacing',\n\t      lightingColor: 'lighting-color',\n\t      limitingConeAngle: 'limitingConeAngle',\n\t      local: 0,\n\t      markerEnd: 'marker-end',\n\t      markerMid: 'marker-mid',\n\t      markerStart: 'marker-start',\n\t      markerHeight: 'markerHeight',\n\t      markerUnits: 'markerUnits',\n\t      markerWidth: 'markerWidth',\n\t      mask: 0,\n\t      maskContentUnits: 'maskContentUnits',\n\t      maskUnits: 'maskUnits',\n\t      mathematical: 0,\n\t      mode: 0,\n\t      numOctaves: 'numOctaves',\n\t      offset: 0,\n\t      opacity: 0,\n\t      operator: 0,\n\t      order: 0,\n\t      orient: 0,\n\t      orientation: 0,\n\t      origin: 0,\n\t      overflow: 0,\n\t      overlinePosition: 'overline-position',\n\t      overlineThickness: 'overline-thickness',\n\t      paintOrder: 'paint-order',\n\t      panose1: 'panose-1',\n\t      pathLength: 'pathLength',\n\t      patternContentUnits: 'patternContentUnits',\n\t      patternTransform: 'patternTransform',\n\t      patternUnits: 'patternUnits',\n\t      pointerEvents: 'pointer-events',\n\t      points: 0,\n\t      pointsAtX: 'pointsAtX',\n\t      pointsAtY: 'pointsAtY',\n\t      pointsAtZ: 'pointsAtZ',\n\t      preserveAlpha: 'preserveAlpha',\n\t      preserveAspectRatio: 'preserveAspectRatio',\n\t      primitiveUnits: 'primitiveUnits',\n\t      r: 0,\n\t      radius: 0,\n\t      refX: 'refX',\n\t      refY: 'refY',\n\t      renderingIntent: 'rendering-intent',\n\t      repeatCount: 'repeatCount',\n\t      repeatDur: 'repeatDur',\n\t      requiredExtensions: 'requiredExtensions',\n\t      requiredFeatures: 'requiredFeatures',\n\t      restart: 0,\n\t      result: 0,\n\t      rotate: 0,\n\t      rx: 0,\n\t      ry: 0,\n\t      scale: 0,\n\t      seed: 0,\n\t      shapeRendering: 'shape-rendering',\n\t      slope: 0,\n\t      spacing: 0,\n\t      specularConstant: 'specularConstant',\n\t      specularExponent: 'specularExponent',\n\t      speed: 0,\n\t      spreadMethod: 'spreadMethod',\n\t      startOffset: 'startOffset',\n\t      stdDeviation: 'stdDeviation',\n\t      stemh: 0,\n\t      stemv: 0,\n\t      stitchTiles: 'stitchTiles',\n\t      stopColor: 'stop-color',\n\t      stopOpacity: 'stop-opacity',\n\t      strikethroughPosition: 'strikethrough-position',\n\t      strikethroughThickness: 'strikethrough-thickness',\n\t      string: 0,\n\t      stroke: 0,\n\t      strokeDasharray: 'stroke-dasharray',\n\t      strokeDashoffset: 'stroke-dashoffset',\n\t      strokeLinecap: 'stroke-linecap',\n\t      strokeLinejoin: 'stroke-linejoin',\n\t      strokeMiterlimit: 'stroke-miterlimit',\n\t      strokeOpacity: 'stroke-opacity',\n\t      strokeWidth: 'stroke-width',\n\t      surfaceScale: 'surfaceScale',\n\t      systemLanguage: 'systemLanguage',\n\t      tableValues: 'tableValues',\n\t      targetX: 'targetX',\n\t      targetY: 'targetY',\n\t      textAnchor: 'text-anchor',\n\t      textDecoration: 'text-decoration',\n\t      textRendering: 'text-rendering',\n\t      textLength: 'textLength',\n\t      to: 0,\n\t      transform: 0,\n\t      u1: 0,\n\t      u2: 0,\n\t      underlinePosition: 'underline-position',\n\t      underlineThickness: 'underline-thickness',\n\t      unicode: 0,\n\t      unicodeBidi: 'unicode-bidi',\n\t      unicodeRange: 'unicode-range',\n\t      unitsPerEm: 'units-per-em',\n\t      vAlphabetic: 'v-alphabetic',\n\t      vHanging: 'v-hanging',\n\t      vIdeographic: 'v-ideographic',\n\t      vMathematical: 'v-mathematical',\n\t      values: 0,\n\t      vectorEffect: 'vector-effect',\n\t      version: 0,\n\t      vertAdvY: 'vert-adv-y',\n\t      vertOriginX: 'vert-origin-x',\n\t      vertOriginY: 'vert-origin-y',\n\t      viewBox: 'viewBox',\n\t      viewTarget: 'viewTarget',\n\t      visibility: 0,\n\t      widths: 0,\n\t      wordSpacing: 'word-spacing',\n\t      writingMode: 'writing-mode',\n\t      x: 0,\n\t      xHeight: 'x-height',\n\t      x1: 0,\n\t      x2: 0,\n\t      xChannelSelector: 'xChannelSelector',\n\t      xlinkActuate: 'xlink:actuate',\n\t      xlinkArcrole: 'xlink:arcrole',\n\t      xlinkHref: 'xlink:href',\n\t      xlinkRole: 'xlink:role',\n\t      xlinkShow: 'xlink:show',\n\t      xlinkTitle: 'xlink:title',\n\t      xlinkType: 'xlink:type',\n\t      xmlBase: 'xml:base',\n\t      xmlns: 0,\n\t      xmlnsXlink: 'xmlns:xlink',\n\t      xmlLang: 'xml:lang',\n\t      xmlSpace: 'xml:space',\n\t      y: 0,\n\t      y1: 0,\n\t      y2: 0,\n\t      yChannelSelector: 'yChannelSelector',\n\t      z: 0,\n\t      zoomAndPan: 'zoomAndPan'\n\t  };\n\t\n\t  var SVGDOMPropertyConfig = {\n\t      props: {},\n\t      attrNS: {\n\t          xlinkActuate: xlink,\n\t          xlinkArcrole: xlink,\n\t          xlinkHref: xlink,\n\t          xlinkRole: xlink,\n\t          xlinkShow: xlink,\n\t          xlinkTitle: xlink,\n\t          xlinkType: xlink,\n\t          xmlBase: xml,\n\t          xmlLang: xml,\n\t          xmlSpace: xml\n\t      },\n\t      domAttrs: {},\n\t      domProps: {}\n\t  };\n\t\n\t  Object.keys(ATTRS).map(function (key) {\n\t      SVGDOMPropertyConfig.props[key] = 0;\n\t      if (ATTRS[key]) {\n\t          SVGDOMPropertyConfig.domAttrs[key] = ATTRS[key];\n\t      }\n\t  });\n\t\n\t  // merge html and svg config into properties\n\t  mergeConfigToProperties(HTMLDOMPropertyConfig);\n\t  mergeConfigToProperties(SVGDOMPropertyConfig);\n\t\n\t  function mergeConfigToProperties(config) {\n\t      var\n\t      // all react/react-lite supporting property names in here\n\t      props = config.props;\n\t      var\n\t      // attributes namespace in here\n\t      attrNS = config.attrNS;\n\t      var\n\t      // propName in props which should use to be dom-attribute in here\n\t      domAttrs = config.domAttrs;\n\t      var\n\t      // propName in props which should use to be dom-property in here\n\t      domProps = config.domProps;\n\t\n\t      for (var propName in props) {\n\t          if (!props.hasOwnProperty(propName)) {\n\t              continue;\n\t          }\n\t          var propConfig = props[propName];\n\t          properties[propName] = {\n\t              attributeName: domAttrs.hasOwnProperty(propName) ? domAttrs[propName] : propName.toLowerCase(),\n\t              propertyName: domProps.hasOwnProperty(propName) ? domProps[propName] : propName,\n\t              attributeNamespace: attrNS.hasOwnProperty(propName) ? attrNS[propName] : null,\n\t              mustUseProperty: checkMask(propConfig, MUST_USE_PROPERTY),\n\t              hasBooleanValue: checkMask(propConfig, HAS_BOOLEAN_VALUE),\n\t              hasNumericValue: checkMask(propConfig, HAS_NUMERIC_VALUE),\n\t              hasPositiveNumericValue: checkMask(propConfig, HAS_POSITIVE_NUMERIC_VALUE),\n\t              hasOverloadedBooleanValue: checkMask(propConfig, HAS_OVERLOADED_BOOLEAN_VALUE)\n\t          };\n\t      }\n\t  }\n\t\n\t  function checkMask(value, bitmask) {\n\t      return (value & bitmask) === bitmask;\n\t  }\n\t\n\t  /**\r\n\t   * Sets the value for a property on a node.\r\n\t   *\r\n\t   * @param {DOMElement} node\r\n\t   * @param {string} name\r\n\t   * @param {*} value\r\n\t   */\n\t\n\t  function setPropValue(node, name, value) {\n\t      var propInfo = properties.hasOwnProperty(name) && properties[name];\n\t      if (propInfo) {\n\t          // should delete value from dom\n\t          if (value == null || propInfo.hasBooleanValue && !value || propInfo.hasNumericValue && isNaN(value) || propInfo.hasPositiveNumericValue && value < 1 || propInfo.hasOverloadedBooleanValue && value === false) {\n\t              removePropValue(node, name);\n\t          } else if (propInfo.mustUseProperty) {\n\t              node[propInfo.propertyName] = value;\n\t          } else {\n\t              var attributeName = propInfo.attributeName;\n\t              var namespace = propInfo.attributeNamespace;\n\t\n\t              // `setAttribute` with objects becomes only `[object]` in IE8/9,\n\t              // ('' + value) makes it output the correct toString()-value.\n\t              if (namespace) {\n\t                  node.setAttributeNS(namespace, attributeName, '' + value);\n\t              } else if (propInfo.hasBooleanValue || propInfo.hasOverloadedBooleanValue && value === true) {\n\t                  node.setAttribute(attributeName, '');\n\t              } else {\n\t                  node.setAttribute(attributeName, '' + value);\n\t              }\n\t          }\n\t      } else if (isCustomAttribute(name) && VALID_ATTRIBUTE_NAME_REGEX.test(name)) {\n\t          if (value == null) {\n\t              node.removeAttribute(name);\n\t          } else {\n\t              node.setAttribute(name, '' + value);\n\t          }\n\t      }\n\t  }\n\t\n\t  /**\r\n\t   * Deletes the value for a property on a node.\r\n\t   *\r\n\t   * @param {DOMElement} node\r\n\t   * @param {string} name\r\n\t   */\n\t\n\t  function removePropValue(node, name) {\n\t      var propInfo = properties.hasOwnProperty(name) && properties[name];\n\t      if (propInfo) {\n\t          if (propInfo.mustUseProperty) {\n\t              var propName = propInfo.propertyName;\n\t              if (propInfo.hasBooleanValue) {\n\t                  node[propName] = false;\n\t              } else {\n\t                  node[propName] = '';\n\t              }\n\t          } else {\n\t              node.removeAttribute(propInfo.attributeName);\n\t          }\n\t      } else if (isCustomAttribute(name)) {\n\t          node.removeAttribute(name);\n\t      }\n\t  }\n\t\n\t  function updateSelectOptions(select, multiple, propValue) {\n\t      var selectedValue, i;\n\t      var options = select.options;\n\t\n\t      if (multiple) {\n\t          select.multiple = true;\n\t          if (!Array.isArray(propValue)) {\n\t              throw new Error('The value prop supplied to <select> must be an array if `multiple` is true');\n\t          }\n\t          selectedValue = {};\n\t          for (i = 0; i < propValue.length; i++) {\n\t              selectedValue['' + propValue[i]] = true;\n\t          }\n\t          for (i = 0; i < options.length; i++) {\n\t              var selected = selectedValue.hasOwnProperty(options[i].value);\n\t              if (options[i].selected !== selected) {\n\t                  options[i].selected = selected;\n\t              }\n\t          }\n\t      } else {\n\t          select.multiple = false;\n\t          if (Array.isArray(propValue)) {\n\t              throw new Error('The value prop supplied to <select> must be a scalar value if `multiple` is false.');\n\t          }\n\t          // Do not set `select.value` as exact behavior isn't consistent across all\n\t          // browsers for all cases.\n\t          selectedValue = '' + propValue;\n\t          for (i = 0; i < options.length; i++) {\n\t              var option = options[i];\n\t              if (option.value === selectedValue) {\n\t                  if (!option.selected) {\n\t                      option.selected = true;\n\t                  }\n\t              } else {\n\t                  if (option.selected) {\n\t                      option.selected = false;\n\t                  }\n\t              }\n\t          }\n\t\n\t          if (options.selectedIndex < 0 && options.length) {\n\t              options[0].selected = true;\n\t          }\n\t      }\n\t  }\n\t\n\t  function isFn(obj) {\n\t      return typeof obj === 'function';\n\t  }\n\t\n\t  var isArr = Array.isArray;\n\t\n\t  function noop() {}\n\t\n\t  function identity(obj) {\n\t      return obj;\n\t  }\n\t\n\t  function pipe(fn1, fn2) {\n\t      return function () {\n\t          fn1.apply(this, arguments);\n\t          return fn2.apply(this, arguments);\n\t      };\n\t  }\n\t\n\t  function addItem(list, item) {\n\t      list[list.length] = item;\n\t  }\n\t\n\t  function flatEach(list, iteratee, a) {\n\t      var len = list.length;\n\t      var i = -1;\n\t\n\t      while (len--) {\n\t          var item = list[++i];\n\t          if (isArr(item)) {\n\t              flatEach(item, iteratee, a);\n\t          } else {\n\t              iteratee(item, a);\n\t          }\n\t      }\n\t  }\n\t\n\t  function extend(to, from) {\n\t      if (!from) {\n\t          return to;\n\t      }\n\t      var keys = Object.keys(from);\n\t      var i = keys.length;\n\t      while (i--) {\n\t          to[keys[i]] = from[keys[i]];\n\t      }\n\t      return to;\n\t  }\n\t\n\t  var uid = 0;\n\t\n\t  function getUid() {\n\t      return ++uid;\n\t  }\n\t\n\t  var EVENT_KEYS = /^on/i;\n\t\n\t  function setProp(elem, key, value, isCustomComponent) {\n\t      if (EVENT_KEYS.test(key)) {\n\t          addEvent(elem, key, value);\n\t      } else if (key === 'style') {\n\t          setStyle(elem.style, value);\n\t      } else if (key === HTML_KEY) {\n\t          if (value && value.__html != null) {\n\t              elem.innerHTML = value.__html;\n\t          }\n\t      } else if (isCustomComponent) {\n\t          if (value == null) {\n\t              elem.removeAttribute(key);\n\t          } else {\n\t              elem.setAttribute(key, '' + value);\n\t          }\n\t      } else {\n\t          setPropValue(elem, key, value);\n\t      }\n\t  }\n\t\n\t  function removeProp(elem, key, oldValue, isCustomComponent) {\n\t      if (EVENT_KEYS.test(key)) {\n\t          removeEvent(elem, key);\n\t      } else if (key === 'style') {\n\t          removeStyle(elem.style, oldValue);\n\t      } else if (key === HTML_KEY) {\n\t          elem.innerHTML = '';\n\t      } else if (isCustomComponent) {\n\t          elem.removeAttribute(key);\n\t      } else {\n\t          removePropValue(elem, key);\n\t      }\n\t  }\n\t\n\t  function patchProp(elem, key, value, oldValue, isCustomComponent) {\n\t      if (key === 'value' || key === 'checked') {\n\t          oldValue = elem[key];\n\t      }\n\t      if (value === oldValue) {\n\t          return;\n\t      }\n\t      if (value === undefined) {\n\t          removeProp(elem, key, oldValue, isCustomComponent);\n\t          return;\n\t      }\n\t      if (key === 'style') {\n\t          patchStyle(elem.style, oldValue, value);\n\t      } else {\n\t          setProp(elem, key, value, isCustomComponent);\n\t      }\n\t  }\n\t\n\t  function setProps(elem, props, isCustomComponent) {\n\t      var isSelect = elem.nodeName === 'SELECT';\n\t      for (var key in props) {\n\t          if (key !== 'children') {\n\t              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                  updateSelectOptions(elem, props.multiple, props[key]);\n\t              } else {\n\t                  setProp(elem, key, props[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t  }\n\t\n\t  function patchProps(elem, props, newProps, isCustomComponent) {\n\t      var isSelect = elem.nodeName === 'SELECT';\n\t      for (var key in props) {\n\t          if (key !== 'children') {\n\t              if (newProps.hasOwnProperty(key)) {\n\t                  if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                      updateSelectOptions(elem, newProps.multiple, newProps[key]);\n\t                  } else {\n\t                      patchProp(elem, key, newProps[key], props[key], isCustomComponent);\n\t                  }\n\t              } else {\n\t                  removeProp(elem, key, props[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t      for (var key in newProps) {\n\t          if (key !== 'children' && !props.hasOwnProperty(key)) {\n\t              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n\t                  updateSelectOptions(elem, newProps.multiple, newProps[key]);\n\t              } else {\n\t                  setProp(elem, key, newProps[key], isCustomComponent);\n\t              }\n\t          }\n\t      }\n\t  }\n\t\n\t  if (!Object.freeze) {\n\t      Object.freeze = identity;\n\t  }\n\t\n\t  function isValidContainer(node) {\n\t  \treturn !!(node && (node.nodeType === ELEMENT_NODE_TYPE || node.nodeType === DOC_NODE_TYPE || node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE));\n\t  }\n\t\n\t  var pendingRendering = {};\n\t  var vnodeStore = {};\n\t  function renderTreeIntoContainer(vnode, container, callback, parentContext) {\n\t  \tif (!vnode.vtype) {\n\t  \t\tthrow new Error('cannot render ' + vnode + ' to container');\n\t  \t}\n\t  \tif (!isValidContainer(container)) {\n\t  \t\tthrow new Error('container ' + container + ' is not a DOM element');\n\t  \t}\n\t  \tvar id = container[COMPONENT_ID] || (container[COMPONENT_ID] = getUid());\n\t  \tvar argsCache = pendingRendering[id];\n\t\n\t  \t// component lify cycle method maybe call root rendering\n\t  \t// should bundle them and render by only one time\n\t  \tif (argsCache) {\n\t  \t\tif (argsCache === true) {\n\t  \t\t\tpendingRendering[id] = argsCache = { vnode: vnode, callback: callback, parentContext: parentContext };\n\t  \t\t} else {\n\t  \t\t\targsCache.vnode = vnode;\n\t  \t\t\targsCache.parentContext = parentContext;\n\t  \t\t\targsCache.callback = argsCache.callback ? pipe(argsCache.callback, callback) : callback;\n\t  \t\t}\n\t  \t\treturn;\n\t  \t}\n\t\n\t  \tpendingRendering[id] = true;\n\t  \tvar oldVnode = null;\n\t  \tvar rootNode = null;\n\t  \tif (oldVnode = vnodeStore[id]) {\n\t  \t\trootNode = compareTwoVnodes(oldVnode, vnode, container.firstChild, parentContext);\n\t  \t} else {\n\t  \t\trootNode = initVnode(vnode, parentContext, container.namespaceURI);\n\t  \t\tvar childNode = null;\n\t  \t\twhile (childNode = container.lastChild) {\n\t  \t\t\tcontainer.removeChild(childNode);\n\t  \t\t}\n\t  \t\tcontainer.appendChild(rootNode);\n\t  \t}\n\t  \tvnodeStore[id] = vnode;\n\t  \tvar isPending = updateQueue.isPending;\n\t  \tupdateQueue.isPending = true;\n\t  \tclearPending();\n\t  \targsCache = pendingRendering[id];\n\t  \tdelete pendingRendering[id];\n\t\n\t  \tvar result = null;\n\t  \tif (typeof argsCache === 'object') {\n\t  \t\tresult = renderTreeIntoContainer(argsCache.vnode, container, argsCache.callback, argsCache.parentContext);\n\t  \t} else if (vnode.vtype === VELEMENT) {\n\t  \t\tresult = rootNode;\n\t  \t} else if (vnode.vtype === VCOMPONENT) {\n\t  \t\tresult = rootNode.cache[vnode.uid];\n\t  \t}\n\t\n\t  \tif (!isPending) {\n\t  \t\tupdateQueue.isPending = false;\n\t  \t\tupdateQueue.batchUpdate();\n\t  \t}\n\t\n\t  \tif (callback) {\n\t  \t\tcallback.call(result);\n\t  \t}\n\t\n\t  \treturn result;\n\t  }\n\t\n\t  function render(vnode, container, callback) {\n\t  \treturn renderTreeIntoContainer(vnode, container, callback);\n\t  }\n\t\n\t  function unstable_renderSubtreeIntoContainer(parentComponent, subVnode, container, callback) {\n\t  \tvar context = parentComponent.$cache.parentContext;\n\t  \treturn renderTreeIntoContainer(subVnode, container, callback, context);\n\t  }\n\t\n\t  function unmountComponentAtNode(container) {\n\t  \tif (!container.nodeName) {\n\t  \t\tthrow new Error('expect node');\n\t  \t}\n\t  \tvar id = container[COMPONENT_ID];\n\t  \tvar vnode = null;\n\t  \tif (vnode = vnodeStore[id]) {\n\t  \t\tdestroyVnode(vnode, container.firstChild);\n\t  \t\tcontainer.removeChild(container.firstChild);\n\t  \t\tdelete vnodeStore[id];\n\t  \t\treturn true;\n\t  \t}\n\t  \treturn false;\n\t  }\n\t\n\t  function findDOMNode(node) {\n\t  \tif (node == null) {\n\t  \t\treturn null;\n\t  \t}\n\t  \tif (node.nodeName) {\n\t  \t\treturn node;\n\t  \t}\n\t  \tvar component = node;\n\t  \t// if component.node equal to false, component must be unmounted\n\t  \tif (component.getDOMNode && component.$cache.isMounted) {\n\t  \t\treturn component.getDOMNode();\n\t  \t}\n\t  \tthrow new Error('findDOMNode can not find Node');\n\t  }\n\t\n\t  var ReactDOM = Object.freeze({\n\t  \trender: render,\n\t  \tunstable_renderSubtreeIntoContainer: unstable_renderSubtreeIntoContainer,\n\t  \tunmountComponentAtNode: unmountComponentAtNode,\n\t  \tfindDOMNode: findDOMNode\n\t  });\n\t\n\t  function createElement(type, props, children) {\n\t  \tvar vtype = null;\n\t  \tif (typeof type === 'string') {\n\t  \t\tvtype = VELEMENT;\n\t  \t} else if (typeof type === 'function') {\n\t  \t\tif (type.prototype && type.prototype.isReactComponent) {\n\t  \t\t\tvtype = VCOMPONENT;\n\t  \t\t} else {\n\t  \t\t\tvtype = VSTATELESS;\n\t  \t\t}\n\t  \t} else {\n\t  \t\tthrow new Error('React.createElement: unexpect type [ ' + type + ' ]');\n\t  \t}\n\t\n\t  \tvar key = null;\n\t  \tvar ref = null;\n\t  \tvar finalProps = {};\n\t  \tif (props != null) {\n\t  \t\tfor (var propKey in props) {\n\t  \t\t\tif (!props.hasOwnProperty(propKey)) {\n\t  \t\t\t\tcontinue;\n\t  \t\t\t}\n\t  \t\t\tif (propKey === 'key') {\n\t  \t\t\t\tif (props.key !== undefined) {\n\t  \t\t\t\t\tkey = '' + props.key;\n\t  \t\t\t\t}\n\t  \t\t\t} else if (propKey === 'ref') {\n\t  \t\t\t\tif (props.ref !== undefined) {\n\t  \t\t\t\t\tref = props.ref;\n\t  \t\t\t\t}\n\t  \t\t\t} else {\n\t  \t\t\t\tfinalProps[propKey] = props[propKey];\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t\n\t  \tvar defaultProps = type.defaultProps;\n\t\n\t  \tif (defaultProps) {\n\t  \t\tfor (var propKey in defaultProps) {\n\t  \t\t\tif (finalProps[propKey] === undefined) {\n\t  \t\t\t\tfinalProps[propKey] = defaultProps[propKey];\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t\n\t  \tvar argsLen = arguments.length;\n\t  \tvar finalChildren = children;\n\t\n\t  \tif (argsLen > 3) {\n\t  \t\tfinalChildren = Array(argsLen - 2);\n\t  \t\tfor (var i = 2; i < argsLen; i++) {\n\t  \t\t\tfinalChildren[i - 2] = arguments[i];\n\t  \t\t}\n\t  \t}\n\t\n\t  \tif (finalChildren !== undefined) {\n\t  \t\tfinalProps.children = finalChildren;\n\t  \t}\n\t\n\t  \treturn createVnode(vtype, type, finalProps, key, ref);\n\t  }\n\t\n\t  function isValidElement(obj) {\n\t  \treturn obj != null && !!obj.vtype;\n\t  }\n\t\n\t  function cloneElement(originElem, props) {\n\t  \tvar type = originElem.type;\n\t  \tvar key = originElem.key;\n\t  \tvar ref = originElem.ref;\n\t\n\t  \tvar newProps = extend(extend({ key: key, ref: ref }, originElem.props), props);\n\t\n\t  \tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n\t  \t\tchildren[_key - 2] = arguments[_key];\n\t  \t}\n\t\n\t  \tvar vnode = createElement.apply(undefined, [type, newProps].concat(children));\n\t  \tif (vnode.ref === originElem.ref) {\n\t  \t\tvnode.refs = originElem.refs;\n\t  \t}\n\t  \treturn vnode;\n\t  }\n\t\n\t  function createFactory(type) {\n\t  \tvar factory = function factory() {\n\t  \t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t  \t\t\targs[_key2] = arguments[_key2];\n\t  \t\t}\n\t\n\t  \t\treturn createElement.apply(undefined, [type].concat(args));\n\t  \t};\n\t  \tfactory.type = type;\n\t  \treturn factory;\n\t  }\n\t\n\t  var tagNames = 'a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan';\n\t  var DOM = {};\n\t  tagNames.split('|').forEach(function (tagName) {\n\t  \tDOM[tagName] = createFactory(tagName);\n\t  });\n\t\n\t  var check = function check() {\n\t      return check;\n\t  };\n\t  check.isRequired = check;\n\t  var PropTypes = {\n\t      \"array\": check,\n\t      \"bool\": check,\n\t      \"func\": check,\n\t      \"number\": check,\n\t      \"object\": check,\n\t      \"string\": check,\n\t      \"any\": check,\n\t      \"arrayOf\": check,\n\t      \"element\": check,\n\t      \"instanceOf\": check,\n\t      \"node\": check,\n\t      \"objectOf\": check,\n\t      \"oneOf\": check,\n\t      \"oneOfType\": check,\n\t      \"shape\": check\n\t  };\n\t\n\t  function only(children) {\n\t  \tif (isValidElement(children)) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tthrow new Error('expect only one child');\n\t  }\n\t\n\t  function forEach(children, iteratee, context) {\n\t  \tif (children == null) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tvar index = 0;\n\t  \tif (isArr(children)) {\n\t  \t\tflatEach(children, function (child) {\n\t  \t\t\t// from traverseAllChildrenImpl in react\n\t  \t\t\tvar type = typeof child;\n\t  \t\t\tif (type === 'undefined' || type === 'boolean') {\n\t  \t\t\t\t// All of the above are perceived as null.\n\t  \t\t\t\tchild = null;\n\t  \t\t\t}\n\t\n\t  \t\t\titeratee.call(context, child, index++);\n\t  \t\t});\n\t  \t} else {\n\t  \t\t// from traverseAllChildrenImpl in react\n\t  \t\tvar type = typeof children;\n\t  \t\tif (type === 'undefined' || type === 'boolean') {\n\t  \t\t\t// All of the above are perceived as null.\n\t  \t\t\tchildren = null;\n\t  \t\t}\n\t  \t\titeratee.call(context, children, index);\n\t  \t}\n\t  }\n\t\n\t  function map(children, iteratee, context) {\n\t  \tif (children == null) {\n\t  \t\treturn children;\n\t  \t}\n\t  \tvar store = [];\n\t  \tvar keyMap = {};\n\t  \tforEach(children, function (child, index) {\n\t  \t\tvar data = {};\n\t  \t\tdata.child = iteratee.call(context, child, index) || child;\n\t  \t\tdata.isEqual = data.child === child;\n\t  \t\tvar key = data.key = getKey(child, index);\n\t  \t\tif (keyMap.hasOwnProperty(key)) {\n\t  \t\t\tkeyMap[key] += 1;\n\t  \t\t} else {\n\t  \t\t\tkeyMap[key] = 0;\n\t  \t\t}\n\t  \t\tdata.index = keyMap[key];\n\t  \t\taddItem(store, data);\n\t  \t});\n\t  \tvar result = [];\n\t  \tstore.forEach(function (_ref) {\n\t  \t\tvar child = _ref.child;\n\t  \t\tvar key = _ref.key;\n\t  \t\tvar index = _ref.index;\n\t  \t\tvar isEqual = _ref.isEqual;\n\t\n\t  \t\tif (child == null || typeof child === 'boolean') {\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tif (!isValidElement(child) || key == null) {\n\t  \t\t\taddItem(result, child);\n\t  \t\t\treturn;\n\t  \t\t}\n\t  \t\tif (keyMap[key] !== 0) {\n\t  \t\t\tkey += ':' + index;\n\t  \t\t}\n\t  \t\tif (!isEqual) {\n\t  \t\t\tkey = escapeUserProvidedKey(child.key || '') + '/' + key;\n\t  \t\t}\n\t  \t\tchild = cloneElement(child, { key: key });\n\t  \t\taddItem(result, child);\n\t  \t});\n\t  \treturn result;\n\t  }\n\t\n\t  function count(children) {\n\t  \tvar count = 0;\n\t  \tforEach(children, function () {\n\t  \t\tcount++;\n\t  \t});\n\t  \treturn count;\n\t  }\n\t\n\t  function toArray(children) {\n\t  \treturn map(children, identity) || [];\n\t  }\n\t\n\t  function getKey(child, index) {\n\t  \tvar key = undefined;\n\t  \tif (isValidElement(child) && typeof child.key === 'string') {\n\t  \t\tkey = '.$' + child.key;\n\t  \t} else {\n\t  \t\tkey = '.' + index.toString(36);\n\t  \t}\n\t  \treturn key;\n\t  }\n\t\n\t  var userProvidedKeyEscapeRegex = /\\/(?!\\/)/g;\n\t  function escapeUserProvidedKey(text) {\n\t  \treturn ('' + text).replace(userProvidedKeyEscapeRegex, '//');\n\t  }\n\t\n\t  var Children = Object.freeze({\n\t  \tonly: only,\n\t  \tforEach: forEach,\n\t  \tmap: map,\n\t  \tcount: count,\n\t  \ttoArray: toArray\n\t  });\n\t\n\t  function eachMixin(mixins, iteratee) {\n\t  \tmixins.forEach(function (mixin) {\n\t  \t\tif (mixin) {\n\t  \t\t\tif (isArr(mixin.mixins)) {\n\t  \t\t\t\teachMixin(mixin.mixins, iteratee);\n\t  \t\t\t}\n\t  \t\t\titeratee(mixin);\n\t  \t\t}\n\t  \t});\n\t  }\n\t\n\t  function combineMixinToProto(proto, mixin) {\n\t  \tfor (var key in mixin) {\n\t  \t\tif (!mixin.hasOwnProperty(key)) {\n\t  \t\t\tcontinue;\n\t  \t\t}\n\t  \t\tvar value = mixin[key];\n\t  \t\tif (key === 'getInitialState') {\n\t  \t\t\taddItem(proto.$getInitialStates, value);\n\t  \t\t\tcontinue;\n\t  \t\t}\n\t  \t\tvar curValue = proto[key];\n\t  \t\tif (isFn(curValue) && isFn(value)) {\n\t  \t\t\tproto[key] = pipe(curValue, value);\n\t  \t\t} else {\n\t  \t\t\tproto[key] = value;\n\t  \t\t}\n\t  \t}\n\t  }\n\t\n\t  function combineMixinToClass(Component, mixin) {\n\t  \tif (mixin.propTypes) {\n\t  \t\tComponent.propTypes = Component.propTypes || {};\n\t  \t\textend(Component.propTypes, mixin.propTypes);\n\t  \t}\n\t  \tif (mixin.contextTypes) {\n\t  \t\tComponent.contextTypes = Component.contextTypes || {};\n\t  \t\textend(Component.contextTypes, mixin.contextTypes);\n\t  \t}\n\t  \textend(Component, mixin.statics);\n\t  \tif (isFn(mixin.getDefaultProps)) {\n\t  \t\tComponent.defaultProps = Component.defaultProps || {};\n\t  \t\textend(Component.defaultProps, mixin.getDefaultProps());\n\t  \t}\n\t  }\n\t\n\t  function bindContext(obj, source) {\n\t  \tfor (var key in source) {\n\t  \t\tif (source.hasOwnProperty(key)) {\n\t  \t\t\tif (isFn(source[key])) {\n\t  \t\t\t\tobj[key] = source[key].bind(obj);\n\t  \t\t\t}\n\t  \t\t}\n\t  \t}\n\t  }\n\t\n\t  var Facade = function Facade() {};\n\t  Facade.prototype = Component.prototype;\n\t\n\t  function getInitialState() {\n\t  \tvar _this = this;\n\t\n\t  \tvar state = {};\n\t  \tvar setState = this.setState;\n\t  \tthis.setState = Facade;\n\t  \tthis.$getInitialStates.forEach(function (getInitialState) {\n\t  \t\tif (isFn(getInitialState)) {\n\t  \t\t\textend(state, getInitialState.call(_this));\n\t  \t\t}\n\t  \t});\n\t  \tthis.setState = setState;\n\t  \treturn state;\n\t  }\n\t  function createClass(spec) {\n\t  \tif (!isFn(spec.render)) {\n\t  \t\tthrow new Error('createClass: spec.render is not function');\n\t  \t}\n\t  \tvar specMixins = spec.mixins || [];\n\t  \tvar mixins = specMixins.concat(spec);\n\t  \tspec.mixins = null;\n\t  \tfunction Klass(props, context) {\n\t  \t\tComponent.call(this, props, context);\n\t  \t\tthis.constructor = Klass;\n\t  \t\tspec.autobind !== false && bindContext(this, Klass.prototype);\n\t  \t\tthis.state = this.getInitialState() || this.state;\n\t  \t}\n\t  \tKlass.displayName = spec.displayName;\n\t  \tvar proto = Klass.prototype = new Facade();\n\t  \tproto.$getInitialStates = [];\n\t  \teachMixin(mixins, function (mixin) {\n\t  \t\tcombineMixinToProto(proto, mixin);\n\t  \t\tcombineMixinToClass(Klass, mixin);\n\t  \t});\n\t  \tproto.getInitialState = getInitialState;\n\t  \tspec.mixins = specMixins;\n\t  \treturn Klass;\n\t  }\n\t\n\t  function shallowEqual(objA, objB) {\n\t      if (objA === objB) {\n\t          return true;\n\t      }\n\t\n\t      if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n\t          return false;\n\t      }\n\t\n\t      var keysA = Object.keys(objA);\n\t      var keysB = Object.keys(objB);\n\t\n\t      if (keysA.length !== keysB.length) {\n\t          return false;\n\t      }\n\t\n\t      // Test for A's keys different from B.\n\t      for (var i = 0; i < keysA.length; i++) {\n\t          if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n\t              return false;\n\t          }\n\t      }\n\t\n\t      return true;\n\t  }\n\t\n\t  function PureComponent(props, context) {\n\t  \tComponent.call(this, props, context);\n\t  }\n\t\n\t  PureComponent.prototype = Object.create(Component.prototype);\n\t  PureComponent.prototype.constructor = PureComponent;\n\t  PureComponent.prototype.isPureReactComponent = true;\n\t  PureComponent.prototype.shouldComponentUpdate = shallowCompare;\n\t\n\t  function shallowCompare(nextProps, nextState) {\n\t  \treturn !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n\t  }\n\t\n\t  var React = extend({\n\t      version: '0.15.1',\n\t      cloneElement: cloneElement,\n\t      isValidElement: isValidElement,\n\t      createElement: createElement,\n\t      createFactory: createFactory,\n\t      Component: Component,\n\t      PureComponent: PureComponent,\n\t      createClass: createClass,\n\t      Children: Children,\n\t      PropTypes: PropTypes,\n\t      DOM: DOM\n\t  }, ReactDOM);\n\t\n\t  React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactDOM;\n\t\n\t  return React;\n\t\n\t}));\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _cockpit = __webpack_require__(2);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _packagekit = __webpack_require__(5);\n\t\n\tvar _packagekit2 = _interopRequireDefault(_packagekit);\n\t\n\tvar _utils = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Cockpit.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2017 Red Hat, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Cockpit is free software; you can redistribute it and/or modify it\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * under the terms of the GNU Lesser General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation; either version 2.1 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Cockpit is distributed in the hope that it will be useful, but\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Lesser General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar ApplicationRow = function (_React$Component) {\n\t    _inherits(ApplicationRow, _React$Component);\n\t\n\t    function ApplicationRow() {\n\t        _classCallCheck(this, ApplicationRow);\n\t\n\t        var _this = _possibleConstructorReturn(this, (ApplicationRow.__proto__ || Object.getPrototypeOf(ApplicationRow)).call(this));\n\t\n\t        _this.state = { progress: null };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(ApplicationRow, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            var _this2 = this;\n\t\n\t            var self = this;\n\t            var comp = self.props.comp;\n\t            var state = self.state;\n\t\n\t            function action(func, arg, progress_title) {\n\t                self.setState({ progress_title: progress_title });\n\t                func(arg, function (data) {\n\t                    return self.setState({ progress: data });\n\t                }).finally(function () {\n\t                    return self.setState({ progress: null });\n\t                }).catch(_utils.show_error);\n\t            }\n\t\n\t            function install() {\n\t                action(_packagekit2.default.install, comp.pkgname, _(\"Installing\"));\n\t            }\n\t\n\t            function remove() {\n\t                action(_packagekit2.default.remove, comp.file, _(\"Removing\"));\n\t            }\n\t\n\t            var name, summary_or_progress, button;\n\t\n\t            if (comp.installed) {\n\t                name = _react2.default.createElement(\n\t                    \"a\",\n\t                    { role: \"link\", tabIndex: \"0\", onClick: (0, _utils.left_click)(function () {\n\t                            return (0, _utils.launch)(comp);\n\t                        }) },\n\t                    comp.name\n\t                );\n\t            } else {\n\t                name = comp.name;\n\t            }\n\t\n\t            if (state.progress) {\n\t                summary_or_progress = _react2.default.createElement(_utils.ProgressBar, { title: state.progress_title, data: state.progress });\n\t                button = _react2.default.createElement(_utils.CancelButton, { data: state.progress });\n\t            } else {\n\t                if (state.error) {\n\t                    summary_or_progress = _react2.default.createElement(\n\t                        \"div\",\n\t                        null,\n\t                        comp.summary,\n\t                        _react2.default.createElement(\n\t                            \"div\",\n\t                            { className: \"alert alert-danger alert-dismissable\" },\n\t                            _react2.default.createElement(\n\t                                \"button\",\n\t                                { className: \"close\",\n\t                                    onClick: (0, _utils.left_click)(function () {\n\t                                        _this2.setState({ error: null });\n\t                                    }) },\n\t                                _react2.default.createElement(\"span\", { className: \"pficon pficon-close\" })\n\t                            ),\n\t                            _react2.default.createElement(\"span\", { className: \"pficon pficon-error-circle-o\" }),\n\t                            state.error\n\t                        )\n\t                    );\n\t                } else {\n\t                    summary_or_progress = comp.summary;\n\t                }\n\t\n\t                if (comp.installed) {\n\t                    button = _react2.default.createElement(\n\t                        \"button\",\n\t                        { className: \"btn btn-danger\", onClick: (0, _utils.left_click)(remove) },\n\t                        _(\"Remove\")\n\t                    );\n\t                } else {\n\t                    button = _react2.default.createElement(\n\t                        \"button\",\n\t                        { className: \"btn btn-default\", onClick: (0, _utils.left_click)(install) },\n\t                        _(\"Install\")\n\t                    );\n\t                }\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"tr\",\n\t                { onClick: (0, _utils.left_click)(function () {\n\t                        return _cockpit2.default.location.go(comp.id);\n\t                    }) },\n\t                _react2.default.createElement(\n\t                    \"td\",\n\t                    null,\n\t                    _react2.default.createElement(\"img\", { src: (0, _utils.icon_url)(comp.icon), role: \"presentation\" })\n\t                ),\n\t                _react2.default.createElement(\n\t                    \"td\",\n\t                    null,\n\t                    name\n\t                ),\n\t                _react2.default.createElement(\n\t                    \"td\",\n\t                    null,\n\t                    summary_or_progress\n\t                ),\n\t                _react2.default.createElement(\n\t                    \"td\",\n\t                    null,\n\t                    button\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ApplicationRow;\n\t}(_react2.default.Component);\n\t\n\tvar ApplicationList = function (_React$Component2) {\n\t    _inherits(ApplicationList, _React$Component2);\n\t\n\t    function ApplicationList() {\n\t        _classCallCheck(this, ApplicationList);\n\t\n\t        var _this3 = _possibleConstructorReturn(this, (ApplicationList.__proto__ || Object.getPrototypeOf(ApplicationList)).call(this));\n\t\n\t        _this3.state = { progress: false };\n\t        return _this3;\n\t    }\n\t\n\t    _createClass(ApplicationList, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            var self = this;\n\t            var comps = [];\n\t            for (var id in this.props.metainfo_db.components) {\n\t                comps.push(this.props.metainfo_db.components[id]);\n\t            }comps.sort(function (a, b) {\n\t                return a.name.localeCompare(b.name);\n\t            });\n\t\n\t            function refresh() {\n\t                var config = _cockpit2.default.manifests[\"apps\"].config || {};\n\t                _packagekit2.default.refresh(self.props.metainfo_db.origin_files, config.appstream_config_packages || [], config.appstream_data_packages || [], function (data) {\n\t                    return self.setState({ progress: data });\n\t                }).finally(function () {\n\t                    return self.setState({ progress: false });\n\t                }).catch(_utils.show_error);\n\t            }\n\t\n\t            var refresh_progress, refresh_button, empty_caption, tbody, table_classes;\n\t            if (this.state.progress) {\n\t                refresh_progress = _react2.default.createElement(_utils.ProgressBar, { title: _(\"Checking for new applications\"), data: this.state.progress });\n\t                refresh_button = _react2.default.createElement(_utils.CancelButton, { data: this.state.progress });\n\t            } else {\n\t                refresh_progress = null;\n\t                refresh_button = _react2.default.createElement(\"button\", { className: \"btn btn-default fa fa-refresh\", onClick: (0, _utils.left_click)(refresh) });\n\t            }\n\t\n\t            table_classes = \"table app-list\";\n\t            if (comps.length === 0) {\n\t                if (this.props.metainfo_db.ready) empty_caption = _(\"No applications installed or available\");else empty_caption = _react2.default.createElement(\"div\", { className: \"spinner spinner-sm\" });\n\t                tbody = _react2.default.createElement(\n\t                    \"tr\",\n\t                    { className: \"app-list-empty\" },\n\t                    _react2.default.createElement(\n\t                        \"td\",\n\t                        null,\n\t                        empty_caption\n\t                    )\n\t                );\n\t            } else {\n\t                table_classes += \" table-hover\";\n\t                tbody = comps.map(function (c) {\n\t                    return _react2.default.createElement(ApplicationRow, { comp: c, key: c.id });\n\t                });\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"table\",\n\t                { className: table_classes },\n\t                _react2.default.createElement(\n\t                    \"caption\",\n\t                    null,\n\t                    _react2.default.createElement(\n\t                        \"table\",\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            \"tbody\",\n\t                            null,\n\t                            _react2.default.createElement(\n\t                                \"tr\",\n\t                                null,\n\t                                _react2.default.createElement(\n\t                                    \"td\",\n\t                                    null,\n\t                                    _react2.default.createElement(\n\t                                        \"h2\",\n\t                                        null,\n\t                                        _(\"Applications\")\n\t                                    )\n\t                                ),\n\t                                _react2.default.createElement(\n\t                                    \"td\",\n\t                                    null,\n\t                                    refresh_progress\n\t                                ),\n\t                                _react2.default.createElement(\n\t                                    \"td\",\n\t                                    null,\n\t                                    refresh_button\n\t                                )\n\t                            )\n\t                        )\n\t                    )\n\t                ),\n\t                _react2.default.createElement(\n\t                    \"tbody\",\n\t                    null,\n\t                    tbody\n\t                )\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return ApplicationList;\n\t}(_react2.default.Component);\n\t\n\tmodule.exports = {\n\t    ApplicationList: ApplicationList\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _cockpit = __webpack_require__(2);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _packagekit = __webpack_require__(6);\n\t\n\tvar PK = _interopRequireWildcard(_packagekit);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tfunction progress_reporter(base, range, callback) {\n\t    if (callback) {\n\t        return function (data) {\n\t            if (data.percentage >= 0) data.percentage = base + data.percentage / 100 * range;\n\t            callback(data);\n\t        };\n\t    }\n\t}\n\t\n\tfunction resolve_many(method, filter, names, progress_cb) {\n\t    var ids = [];\n\t\n\t    return PK.cancellableTransaction(method, [filter, names], progress_cb, {\n\t        Package: function Package(info, package_id) {\n\t            return ids.push(package_id);\n\t        }\n\t    }).then(function () {\n\t        return ids;\n\t    });\n\t}\n\t\n\tfunction resolve(method, filter, name, progress_cb) {\n\t    return resolve_many(method, filter, [name], progress_cb).then(function (ids) {\n\t        if (ids.length === 0) return Promise.reject(new PK.TransactionError(\"not-found\", \"Can't resolve package\"));else return ids[0];\n\t    });\n\t}\n\t\n\tfunction reload_bridge_packages() {\n\t    return _cockpit2.default.dbus(null, { bus: \"internal\" }).call(\"/packages\", \"cockpit.Packages\", \"Reload\", []);\n\t}\n\t\n\tfunction install(name, progress_cb) {\n\t    return resolve(\"Resolve\", PK.Enum.FILTER_ARCH | PK.Enum.FILTER_NOT_SOURCE | PK.Enum.FILTER_NEWEST, name, progress_reporter(0, 1, progress_cb)).then(function (pkgid) {\n\t        return PK.cancellableTransaction(\"InstallPackages\", [0, [pkgid]], progress_reporter(1, 99, progress_cb)).then(reload_bridge_packages);\n\t    });\n\t}\n\t\n\tfunction remove(name, progress_cb) {\n\t    return resolve(\"SearchFiles\", PK.Enum.FILTER_INSTALLED, name, progress_reporter(0, 1, progress_cb)).then(function (pkgid) {\n\t        return PK.cancellableTransaction(\"RemovePackages\", [0, [pkgid], true, false], progress_reporter(1, 99, progress_cb)).then(reload_bridge_packages);\n\t    });\n\t}\n\t\n\tfunction refresh(origin_files, config_packages, data_packages, progress_cb) {\n\t    var origin_pkgs = {};\n\t    var update_ids = [];\n\t\n\t    /* In addition to refreshing the repository metadata, we also\n\t     * update all packages that contain AppStream collection metadata.\n\t     *\n\t     * AppStream collection metadata is arguably part of the\n\t     * repository metadata and should be updated during a regular\n\t     * refresh of the repositories.  On some distributions this is\n\t     * what happens, but on others (such as Fedora), the collection\n\t     * metadata is delivered in packages.  We find them and update\n\t     * them explicitly.\n\t     *\n\t     * Also, we have two explicit lists of packages, and we make sure\n\t     * that they are installed.  The first list contains packages that\n\t     * configure the system to retrieve AppStream data as part of\n\t     * repository metadata, and the second list contains packages that\n\t     * contain AppStream data themselves.\n\t     */\n\t\n\t    function search_origin_file_packages() {\n\t        return PK.cancellableTransaction(\"SearchFiles\", [PK.Enum.FILTER_INSTALLED, origin_files], progress_reporter(5, 1, progress_cb), {\n\t            Package: function Package(info, package_id) {\n\t                var pkg = package_id.split(\";\")[0];\n\t                origin_pkgs[pkg] = true;\n\t            }\n\t        });\n\t    }\n\t\n\t    function refresh_cache() {\n\t        return PK.cancellableTransaction(\"RefreshCache\", [true], progress_reporter(6, 69, progress_cb));\n\t    }\n\t\n\t    function maybe_update_origin_file_packages() {\n\t        return PK.cancellableTransaction(\"GetUpdates\", [0], progress_reporter(75, 5, progress_cb), {\n\t            Package: function Package(info, package_id) {\n\t                var pkg = package_id.split(\";\")[0];\n\t                if (pkg in origin_pkgs) update_ids.push(package_id);\n\t            }\n\t        }).then(function () {\n\t            if (update_ids.length > 0) return PK.cancellableTransaction(\"UpdatePackages\", [0, update_ids], progress_reporter(80, 15, progress_cb));\n\t        });\n\t    }\n\t\n\t    function ensure_packages(pkgs, start_progress) {\n\t        if (pkgs.length > 0) {\n\t            return resolve_many(\"Resolve\", PK.Enum.FILTER_ARCH | PK.Enum.FILTER_NOT_SOURCE | PK.Enum.FILTER_NEWEST | PK.Enum.FILTER_NOT_INSTALLED, pkgs, progress_reporter(start_progress, 1, progress_cb)).then(function (ids) {\n\t                if (ids.length > 0) {\n\t                    return PK.cancellableTransaction(\"InstallPackages\", [0, ids], progress_reporter(start_progress + 1, 4, progress_cb)).catch(function (ex) {\n\t                        if (ex.code != PK.Enum.ERROR_ALREADY_INSTALLED) return Promise.reject(ex);\n\t                    });\n\t                }\n\t            });\n\t        } else {\n\t            return Promise.resolve();\n\t        }\n\t    }\n\t\n\t    return ensure_packages(config_packages, 0).then(search_origin_file_packages).then(refresh_cache).then(maybe_update_origin_file_packages).then(function () {\n\t        return ensure_packages(data_packages, 95);\n\t    });\n\t}\n\t\n\tmodule.exports = {\n\t    install: install,\n\t    remove: remove,\n\t    refresh: refresh\n\t};\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.TransactionError = exports.transactionInterface = exports.Enum = undefined;\n\texports.call = call;\n\texports.detect = detect;\n\texports.watchTransaction = watchTransaction;\n\texports.transaction = transaction;\n\texports.cancellableTransaction = cancellableTransaction;\n\texports.getSeverityIcon = getSeverityIcon;\n\texports.watchRedHatSubscription = watchRedHatSubscription;\n\texports.check_missing_packages = check_missing_packages;\n\texports.install_missing_packages = install_missing_packages;\n\t\n\tvar _cockpit = __webpack_require__(2);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /*\n\t                                                                                                                                                                                                     * This file is part of Cockpit.\n\t                                                                                                                                                                                                     *\n\t                                                                                                                                                                                                     * Copyright (C) 2017, 2018 Red Hat, Inc.\n\t                                                                                                                                                                                                     *\n\t                                                                                                                                                                                                     * Cockpit is free software; you can redistribute it and/or modify it\n\t                                                                                                                                                                                                     * under the terms of the GNU Lesser General Public License as published by\n\t                                                                                                                                                                                                     * the Free Software Foundation; either version 2.1 of the License, or\n\t                                                                                                                                                                                                     * (at your option) any later version.\n\t                                                                                                                                                                                                     *\n\t                                                                                                                                                                                                     * Cockpit is distributed in the hope that it will be useful, but\n\t                                                                                                                                                                                                     * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t                                                                                                                                                                                                     * Lesser General Public License for more details.\n\t                                                                                                                                                                                                     *\n\t                                                                                                                                                                                                     * You should have received a copy of the GNU Lesser General Public License\n\t                                                                                                                                                                                                     * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                     */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\t// see https://github.com/hughsie/PackageKit/blob/master/lib/packagekit-glib2/pk-enum.h\n\tvar Enum = exports.Enum = {\n\t    EXIT_SUCCESS: 1,\n\t    EXIT_FAILED: 2,\n\t    EXIT_CANCELLED: 3,\n\t    ROLE_REFRESH_CACHE: 13,\n\t    ROLE_UPDATE_PACKAGES: 22,\n\t    INFO_UNKNOWN: -1,\n\t    INFO_LOW: 3,\n\t    INFO_ENHANCEMENT: 4,\n\t    INFO_NORMAL: 5,\n\t    INFO_BUGFIX: 6,\n\t    INFO_IMPORTANT: 7,\n\t    INFO_SECURITY: 8,\n\t    INFO_DOWNLOADING: 10,\n\t    INFO_UPDATING: 11,\n\t    INFO_INSTALLING: 12,\n\t    INFO_REMOVING: 13,\n\t    INFO_REINSTALLING: 19,\n\t    INFO_DOWNGRADING: 20,\n\t    STATUS_WAIT: 1,\n\t    STATUS_DOWNLOAD: 8,\n\t    STATUS_INSTALL: 9,\n\t    STATUS_UPDATE: 10,\n\t    STATUS_CLEANUP: 11,\n\t    STATUS_SIGCHECK: 14,\n\t    STATUS_WAITING_FOR_LOCK: 30,\n\t    FILTER_INSTALLED: 1 << 2,\n\t    FILTER_NOT_INSTALLED: 1 << 3,\n\t    FILTER_NEWEST: 1 << 16,\n\t    FILTER_ARCH: 1 << 18,\n\t    FILTER_NOT_SOURCE: 1 << 21,\n\t    ERROR_ALREADY_INSTALLED: 9,\n\t    TRANSACTION_FLAG_SIMULATE: 1 << 2\n\t};\n\t\n\tvar transactionInterface = exports.transactionInterface = \"org.freedesktop.PackageKit.Transaction\";\n\t\n\tvar _dbus_client = null;\n\t\n\t/**\n\t * Get PackageKit D-Bus client\n\t *\n\t * This will get lazily initialized and re-initialized after PackageKit\n\t * disconnects (due to a crash or idle timeout).\n\t */\n\tfunction dbus_client() {\n\t    if (_dbus_client === null) {\n\t        _dbus_client = _cockpit2.default.dbus(\"org.freedesktop.PackageKit\", { superuser: \"try\", \"track\": true });\n\t        _dbus_client.addEventListener(\"close\", function () {\n\t            console.log(\"PackageKit went away from D-Bus\");\n\t            _dbus_client = null;\n\t        });\n\t    }\n\t\n\t    return _dbus_client;\n\t}\n\t\n\t/**\n\t * Call a PackageKit method\n\t */\n\tfunction call(objectPath, iface, method, args, opts) {\n\t    return dbus_client().call(objectPath, iface, method, args, opts);\n\t}\n\t\n\t/**\n\t * Figure out whether PackageKit is available\n\t */\n\tfunction detect() {\n\t    return call(\"/org/freedesktop/PackageKit\", \"org.freedesktop.DBus.Properties\", \"Get\", [\"org.freedesktop.PackageKit\", \"VersionMajor\"]).then(function () {\n\t        return true;\n\t    }, function () {\n\t        return false;\n\t    });\n\t}\n\t\n\t/**\n\t * Watch a running PackageKit transaction\n\t *\n\t * transactionPath (string): D-Bus object path of the PackageKit transaction\n\t * signalHandlers, notifyHandler: As in method #transaction\n\t * Returns: If notifyHandler is set, Cockpit promise that resolves when the watch got set up\n\t */\n\tfunction watchTransaction(transactionPath, signalHandlers, notifyHandler) {\n\t    var subscriptions = [];\n\t    var notifyReturn;\n\t    var client = dbus_client();\n\t\n\t    // Listen for PackageKit crashes while the transaction runs\n\t    function onClose(event, ex) {\n\t        console.warn(\"PackageKit went away during transaction\", transactionPath, \":\", JSON.stringify(ex));\n\t        if (signalHandlers.ErrorCode) signalHandlers.ErrorCode(\"close\", _(\"PackageKit crashed\"));\n\t        if (signalHandlers.Finished) signalHandlers.Finished(Enum.EXIT_FAILED);\n\t    }\n\t    client.addEventListener(\"close\", onClose);\n\t\n\t    if (signalHandlers) {\n\t        Object.keys(signalHandlers).forEach(function (handler) {\n\t            return subscriptions.push(client.subscribe({ interface: transactionInterface, path: transactionPath, member: handler }, function (path, iface, signal, args) {\n\t                return signalHandlers[handler].apply(signalHandlers, _toConsumableArray(args));\n\t            }));\n\t        });\n\t    }\n\t\n\t    if (notifyHandler) {\n\t        notifyReturn = client.watch(transactionPath);\n\t        subscriptions.push(notifyReturn);\n\t        client.addEventListener(\"notify\", function (reply) {\n\t            if (transactionPath in reply.detail && transactionInterface in reply.detail[transactionPath]) notifyHandler(reply.detail[transactionPath][transactionInterface], transactionPath);\n\t        });\n\t    }\n\t\n\t    // unsubscribe when transaction finished\n\t    subscriptions.push(client.subscribe({ interface: transactionInterface, path: transactionPath, member: \"Finished\" }, function () {\n\t        subscriptions.map(function (s) {\n\t            return s.remove();\n\t        });\n\t        client.removeEventListener(\"close\", onClose);\n\t    }));\n\t\n\t    return notifyReturn;\n\t}\n\t\n\t/**\n\t * Run a PackageKit transaction\n\t *\n\t * method (string): D-Bus method name on the https://www.freedesktop.org/software/PackageKit/gtk-doc/Transaction.html interface\n\t *                  If undefined, only a transaction will be created without calling a method on it\n\t * arglist (array): \"in\" arguments of @method\n\t * signalHandlers (object): maps PackageKit.Transaction signal names to handlers\n\t * notifyHandler (function): handler for https://cockpit-project.org/guide/latest/cockpit-dbus.html#cockpit-dbus-onnotify\n\t *                           signals, called on property changes with (changed_properties, transaction_path)\n\t * Returns: Promise that resolves with transaction path on success, or rejects on an error\n\t *\n\t * Note that most often you don't really need the transaction path, but want to\n\t * listen to the \"Finished\" signal.\n\t *\n\t * Example:\n\t *     transaction(\"GetUpdates\", [0], {\n\t *             Package: (info, packageId, _summary) => { ... },\n\t *             ErrorCode: (code, details) => { ... },\n\t *         },\n\t *         changedProps => { ... }  // notify handler\n\t *     )\n\t *        .then(transactionPath => { ... })\n\t *        .catch(ex => { handle exception });\n\t */\n\tfunction transaction(method, arglist, signalHandlers, notifyHandler) {\n\t    return new Promise(function (resolve, reject) {\n\t        call(\"/org/freedesktop/PackageKit\", \"org.freedesktop.PackageKit\", \"CreateTransaction\", []).done(function (result) {\n\t            var transactionPath = result[0];\n\t            var watchPromise = void 0;\n\t            if (signalHandlers || notifyHandler) watchPromise = watchTransaction(transactionPath, signalHandlers, notifyHandler);\n\t            if (!watchPromise) watchPromise = _cockpit2.default.resolve();\n\t\n\t            watchPromise.done(function () {\n\t                if (method) {\n\t                    call(transactionPath, transactionInterface, method, arglist).done(function () {\n\t                        return resolve(transactionPath);\n\t                    }).fail(reject);\n\t                } else {\n\t                    resolve(transactionPath);\n\t                }\n\t            }).fail(reject);\n\t        }).fail(reject);\n\t    });\n\t}\n\t\n\tvar TransactionError = exports.TransactionError = function (_Error) {\n\t    _inherits(TransactionError, _Error);\n\t\n\t    function TransactionError(code, detail) {\n\t        _classCallCheck(this, TransactionError);\n\t\n\t        var _this = _possibleConstructorReturn(this, (TransactionError.__proto__ || Object.getPrototypeOf(TransactionError)).call(this, detail));\n\t\n\t        _this.detail = detail;\n\t        _this.code = code;\n\t        return _this;\n\t    }\n\t\n\t    return TransactionError;\n\t}(Error);\n\t\n\t/**\n\t * Run a long cancellable PackageKit transaction\n\t *\n\t * method (string): D-Bus method name on the https://www.freedesktop.org/software/PackageKit/gtk-doc/Transaction.html interface\n\t * arglist (array): \"in\" arguments of @method\n\t * progress_cb: Callback that receives a {waiting, percentage, cancel} object regularly; if cancel is not null, it can\n\t *              be called to cancel the current transaction. if wait is true, PackageKit is waiting for its lock (i. e.\n\t *              on another package operation)\n\t * signalHandlers, notifyHandler: As in method #transaction, but ErrorCode and Finished are handled internally\n\t * Returns: Promise that resolves when the transaction finished successfully, or rejects with TransactionError\n\t *          on failure.\n\t */\n\t\n\t\n\tfunction cancellableTransaction(method, arglist, progress_cb, signalHandlers) {\n\t    if (signalHandlers && (signalHandlers.ErrorCode || signalHandlers.Finished)) throw Error(\"cancellableTransaction handles ErrorCode and Finished signals internally\");\n\t\n\t    return new Promise(function (resolve, reject) {\n\t        var cancelled = false;\n\t        var status = void 0;\n\t        var allow_wait_status = false;\n\t        var progress_data = {\n\t            waiting: false,\n\t            percentage: 0,\n\t            cancel: null\n\t        };\n\t\n\t        function changed(props, transaction_path) {\n\t            function cancel() {\n\t                call(transaction_path, transactionInterface, \"Cancel\", []);\n\t                cancelled = true;\n\t            }\n\t\n\t            if (progress_cb) {\n\t                if (\"Status\" in props) status = props.Status;\n\t                progress_data.waiting = allow_wait_status && (status === Enum.STATUS_WAIT || status === Enum.STATUS_WAITING_FOR_LOCK);\n\t                if (\"Percentage\" in props && props.Percentage <= 100) progress_data.percentage = props.Percentage;\n\t                if (\"AllowCancel\" in props) progress_data.cancel = props.AllowCancel ? cancel : null;\n\t\n\t                progress_cb(progress_data);\n\t            }\n\t        }\n\t\n\t        // We ignore STATUS_WAIT and friends during the first second of a transaction.  They\n\t        // are always reported briefly even when a transaction doesn't really need to wait.\n\t        window.setTimeout(function () {\n\t            allow_wait_status = true;\n\t            changed({});\n\t        }, 1000);\n\t\n\t        transaction(method, arglist, Object.assign({\n\t            // avoid calling progress_cb after ending the transaction, to avoid flickering cancel buttons\n\t            ErrorCode: function ErrorCode(code, detail) {\n\t                progress_cb = null;\n\t                reject(new TransactionError(cancelled ? \"cancelled\" : code, detail));\n\t            },\n\t            Finished: function Finished(exit, runtime) {\n\t                progress_cb = null;\n\t                resolve(exit);\n\t            }\n\t        }, signalHandlers || {}), changed).catch(function (ex) {\n\t            progress_cb = null;\n\t            reject(ex);\n\t        });\n\t    });\n\t}\n\t\n\t/**\n\t * Get appropriate icon classes for an update severity\n\t *\n\t * info: An Enum.INFO_* level\n\t * secSeverity: If given, further classification of the severity of Enum.INFO_SECURITY from the vendor_urls;\n\t *              e. g. \"critical\", see https://access.redhat.com/security/updates/classification\n\t * Returns: Icon classes; put them into <span class=\"returnvalue\">&nbsp;</span>\n\t *\n\t */\n\tfunction getSeverityIcon(info, secSeverity) {\n\t    if (info == Enum.INFO_SECURITY) return \"pficon pficon-security\" + (secSeverity ? \" severity-\" + secSeverity : \"\");else if (info >= Enum.INFO_NORMAL) return \"fa fa-bug\";else return \"pficon pficon-enhancement\";\n\t}\n\t\n\t// possible Red Hat subscription manager status values:\n\t// https://github.com/candlepin/subscription-manager/blob/30c3b52320c3e73ebd7435b4fc8b0b6319985d19/src/rhsm_icon/rhsm_icon.c#L98\n\t// we accept RHSM_VALID(0), RHN_CLASSIC(3), and RHSM_PARTIALLY_VALID(4)\n\tvar validSubscriptionStates = [0, 3, 4];\n\t\n\t/**\n\t * Check Red Hat subscription-manager if if this is an unregistered RHEL\n\t * system. If subscription-manager is not installed, nothing happens.\n\t *\n\t * callback: Called with a boolean (true: registered, false: not registered)\n\t *           after querying subscription-manager once, and whenever the value\n\t *           changes.\n\t */\n\tfunction watchRedHatSubscription(callback) {\n\t    // check if this is an unregistered RHEL system; if subscription-manager is not installed, ignore\n\t    var sm = _cockpit2.default.dbus(\"com.redhat.SubscriptionManager\");\n\t    sm.subscribe({ path: \"/EntitlementStatus\",\n\t        interface: \"com.redhat.SubscriptionManager.EntitlementStatus\",\n\t        member: \"entitlement_status_changed\"\n\t    }, function (path, iface, signal, args) {\n\t        return callback(validSubscriptionStates.indexOf(args[0]) >= 0);\n\t    });\n\t    sm.call(\"/EntitlementStatus\", \"com.redhat.SubscriptionManager.EntitlementStatus\", \"check_status\").done(function (result) {\n\t        return callback(validSubscriptionStates.indexOf(result[0]) >= 0);\n\t    }).fail(function (ex) {\n\t        if (ex.problem != \"not-found\") console.warn(\"Failed to query RHEL subscription status:\", ex);\n\t    });\n\t}\n\t\n\t/* Support for installing missing packages.\n\t *\n\t * First call check_missing_packages to determine whether something\n\t * needs to be installed, then call install_missing_packages to\n\t * actually install them.\n\t *\n\t * check_missing_packages resolves to an object that can be passed to\n\t * install_missing_packages.  It contains these fields:\n\t *\n\t * - missing_names:     Packages that were requested, are currently not installed,\n\t *                      and can be installed.\n\t *\n\t * - unavailable_names: Packages that were requested, are currently not installed,\n\t *                      but can't be found in any repository.\n\t *\n\t * If unavailable_names is empty, a simulated installation of the missing packages\n\t * is done and the result also contains these fields:\n\t *\n\t * - extra_names:       Packages that need to be installed as dependencies of\n\t *                      missing_names.\n\t *\n\t * - remove_names:      Packages that need to be removed.\n\t *\n\t * - download_size:     Bytes that need to be downloaded.\n\t */\n\t\n\tfunction check_missing_packages(names, progress_cb) {\n\t    var data = {\n\t        missing_names: [],\n\t        unavailable_names: []\n\t    };\n\t\n\t    if (names.length === 0) return Promise.resolve(data);\n\t\n\t    function refresh() {\n\t        return cancellableTransaction(\"RefreshCache\", [false], progress_cb);\n\t    }\n\t\n\t    function resolve() {\n\t        data.missing_ids = [];\n\t\n\t        var installed_names = {};\n\t\n\t        return cancellableTransaction(\"Resolve\", [Enum.FILTER_ARCH | Enum.FILTER_NOT_SOURCE | Enum.FILTER_NEWEST, names], progress_cb, {\n\t            Package: function Package(info, package_id) {\n\t                var parts = package_id.split(\";\");\n\t                var repos = parts[3].split(\":\");\n\t                if (repos.indexOf(\"installed\") >= 0) {\n\t                    installed_names[parts[0]] = true;\n\t                } else {\n\t                    data.missing_ids.push(package_id);\n\t                    data.missing_names.push(parts[0]);\n\t                }\n\t            }\n\t        }).then(function () {\n\t            names.forEach(function (name) {\n\t                if (!installed_names[name] && data.missing_names.indexOf(name) == -1) data.unavailable_names.push(name);\n\t            });\n\t            return data;\n\t        });\n\t    }\n\t\n\t    function simulate(data) {\n\t        data.install_ids = [];\n\t        data.remove_ids = [];\n\t        data.extra_names = [];\n\t        data.remove_names = [];\n\t\n\t        if (data.missing_ids.length > 0 && data.unavailable_names.length === 0) {\n\t            return cancellableTransaction(\"InstallPackages\", [Enum.TRANSACTION_FLAG_SIMULATE, data.missing_ids], progress_cb, {\n\t                Package: function Package(info, package_id) {\n\t                    var name = package_id.split(\";\")[0];\n\t                    if (info == Enum.INFO_REMOVING) {\n\t                        data.remove_ids.push(package_id);\n\t                        data.remove_names.push(name);\n\t                    } else if (info == Enum.INFO_INSTALLING || info == Enum.INFO_UPDATING) {\n\t                        data.install_ids.push(package_id);\n\t                        if (data.missing_names.indexOf(name) == -1) data.extra_names.push(name);\n\t                    }\n\t                }\n\t            }).then(function () {\n\t                data.missing_names.sort();\n\t                data.extra_names.sort();\n\t                data.remove_names.sort();\n\t                return data;\n\t            });\n\t        } else {\n\t            return data;\n\t        }\n\t    }\n\t\n\t    function get_details(data) {\n\t        data.download_size = 0;\n\t        if (data.install_ids.length > 0) {\n\t            return cancellableTransaction(\"GetDetails\", [data.install_ids], progress_cb, {\n\t                Details: function Details(details) {\n\t                    if (details.size) data.download_size += details.size.v;\n\t                }\n\t            }).then(function () {\n\t                return data;\n\t            });\n\t        } else {\n\t            return data;\n\t        }\n\t    }\n\t\n\t    return refresh().then(resolve).then(simulate).then(get_details);\n\t}\n\t\n\t/* Carry out what check_missing_packages has planned.\n\t *\n\t * In addition to the usual \"waiting\", \"percentage\", and \"cancel\"\n\t * fields, the object reported by progress_cb also includes \"info\" and\n\t * \"package\" from the \"Package\" signal.\n\t */\n\t\n\tfunction install_missing_packages(data, progress_cb) {\n\t    if (!data || data.missing_ids.length === 0) return Promise.resolve();\n\t\n\t    var last_progress, last_info, last_name;\n\t\n\t    function report_progess() {\n\t        progress_cb({\n\t            waiting: last_progress.waiting,\n\t            percentage: last_progress.percentage,\n\t            cancel: last_progress.cancel,\n\t            info: last_info,\n\t            package: last_name\n\t        });\n\t    }\n\t\n\t    return cancellableTransaction(\"InstallPackages\", [0, data.missing_ids], function (p) {\n\t        last_progress = p;\n\t        report_progess();\n\t    }, {\n\t        Package: function Package(info, id) {\n\t            last_info = info;\n\t            last_name = id.split(\";\")[0];\n\t            report_progess();\n\t        }\n\t    });\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.launch = exports.show_error = exports.CancelButton = exports.ProgressBar = undefined;\n\texports.left_click = left_click;\n\texports.icon_url = icon_url;\n\t\n\tvar _cockpit = __webpack_require__(2);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cockpitComponentsDialog = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar _ = _cockpit2.default.gettext; /*\n\t                                    * This file is part of Cockpit.\n\t                                    *\n\t                                    * Copyright (C) 2017 Red Hat, Inc.\n\t                                    *\n\t                                    * Cockpit is free software; you can redistribute it and/or modify it\n\t                                    * under the terms of the GNU Lesser General Public License as published by\n\t                                    * the Free Software Foundation; either version 2.1 of the License, or\n\t                                    * (at your option) any later version.\n\t                                    *\n\t                                    * Cockpit is distributed in the hope that it will be useful, but\n\t                                    * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                    * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t                                    * Lesser General Public License for more details.\n\t                                    *\n\t                                    * You should have received a copy of the GNU Lesser General Public License\n\t                                    * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t                                    */\n\t\n\tfunction left_click(fun) {\n\t    return function (event) {\n\t        if (!event || event.button !== 0) return;\n\t        event.stopPropagation();\n\t        return fun(event);\n\t    };\n\t}\n\t\n\tfunction icon_url(path_or_url) {\n\t    if (!path_or_url) return \"default.png\";\n\t\n\t    if (path_or_url[0] != '/') return path_or_url;\n\t\n\t    var queryobj = {\n\t        payload: \"fsread1\",\n\t        binary: \"raw\",\n\t        path: path_or_url\n\t    };\n\t\n\t    if (path_or_url.endsWith(\".svg\")) {\n\t        queryobj.external = { \"content-type\": \"image/svg+xml\" };\n\t    }\n\t\n\t    var query = window.btoa(JSON.stringify(queryobj));\n\t    return \"/cockpit/channel/\" + _cockpit2.default.transport.csrf_token + '?' + query;\n\t}\n\t\n\tvar ProgressBar = exports.ProgressBar = function ProgressBar(_ref) {\n\t    var title = _ref.title,\n\t        data = _ref.data;\n\t\n\t    if (data.waiting) {\n\t        return _react2.default.createElement(\n\t            \"div\",\n\t            null,\n\t            _react2.default.createElement(\"div\", { className: \"pull-right spinner spinner-sm\" }),\n\t            _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"progress-title\" },\n\t                _(\"Waiting for other programs to finish using the package manager...\")\n\t            )\n\t        );\n\t    } else {\n\t        return _react2.default.createElement(\n\t            \"div\",\n\t            null,\n\t            _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"progress-title\" },\n\t                title\n\t            ),\n\t            _react2.default.createElement(\n\t                \"div\",\n\t                { className: \"progress\" },\n\t                _react2.default.createElement(\"div\", { className: \"progress-bar\", style: { \"width\": data.percentage + \"%\" } })\n\t            )\n\t        );\n\t    }\n\t};\n\t\n\tvar CancelButton = exports.CancelButton = function CancelButton(_ref2) {\n\t    var data = _ref2.data;\n\t\n\t    return _react2.default.createElement(\n\t        \"button\",\n\t        { className: \"btn btn-default\",\n\t            disabled: !data.cancel,\n\t            onClick: left_click(data.cancel) },\n\t        _(\"Cancel\")\n\t    );\n\t};\n\t\n\tvar show_error = exports.show_error = function show_error(ex) {\n\t    if (ex.code == \"cancelled\") return;\n\t\n\t    if (ex.code == \"not-found\") ex.detail = _(\"No installation package found for this application.\");\n\t\n\t    (0, _cockpitComponentsDialog.show_modal_dialog)({\n\t        title: _(\"Error\"),\n\t        body: _react2.default.createElement(\n\t            \"div\",\n\t            { className: \"modal-body\" },\n\t            _react2.default.createElement(\n\t                \"p\",\n\t                null,\n\t                ex.detail || ex\n\t            )\n\t        )\n\t    }, {\n\t        cancel_caption: _(\"Close\"),\n\t        actions: []\n\t    });\n\t};\n\t\n\tvar launch = exports.launch = function launch(comp) {\n\t    var i;\n\t    for (i = 0; i < comp.launchables.length; i++) {\n\t        if (comp.launchables[i].type == \"cockpit-manifest\") {\n\t            _cockpit2.default.jump([comp.launchables[i].name]);\n\t            return;\n\t        }\n\t    }\n\t};\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2016 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar cockpit = __webpack_require__(2);\n\tvar React = __webpack_require__(3);\n\tvar _ = cockpit.gettext;\n\t\n\t__webpack_require__(9);\n\t__webpack_require__(11);\n\t\n\t/*\n\t * React template for a Cockpit dialog footer\n\t * It can display an error, wait for an action to complete,\n\t * has a 'Cancel' button and an action button (defaults to 'OK')\n\t * Expected props:\n\t *  - cancel_clicked optional\n\t *     Callback called when the dialog is canceled\n\t *  - cancel_style\n\t *     css class used for the cancel button, defaults to 'cancel'\n\t *  - cancel_caption optional, defaults to 'Cancel'\n\t *  - list of actions, each an object with:\n\t *      - clicked\n\t *         Callback function that is expected to return a promise.\n\t *         parameter: callback to set the progress text (will be displayed next to spinner)\n\t *      - caption optional, defaults to 'Ok'\n\t *      - disabled optional, defaults to false\n\t *      - style defaults to 'default', other options: 'primary', 'danger'\n\t *  - static_error optional, always show this error\n\t *  - idle_message optional, always show this message on the last row when idle\n\t *  - dialog_done optional, callback when dialog is finished (param true if success, false on cancel)\n\t */\n\tvar DialogFooter = React.createClass({\n\t    displayName: \"DialogFooter\",\n\t\n\t    propTypes: {\n\t        cancel_clicked: React.PropTypes.func,\n\t        cancel_caption: React.PropTypes.string,\n\t        actions: React.PropTypes.array,\n\t        static_error: React.PropTypes.string,\n\t        dialog_done: React.PropTypes.func\n\t    },\n\t    getInitialState: function getInitialState() {\n\t        return {\n\t            action_in_progress: false,\n\t            action_in_progress_promise: null,\n\t            action_progress_message: '',\n\t            action_progress_cancel: null,\n\t            action_canceled: false,\n\t            error_message: null\n\t        };\n\t    },\n\t    keyUpHandler: function keyUpHandler(e) {\n\t        if (e.keyCode == 27) {\n\t            this.cancel_click();\n\t            e.stopPropagation();\n\t        }\n\t    },\n\t    componentDidMount: function componentDidMount() {\n\t        document.body.classList.add(\"modal-in\");\n\t        document.addEventListener('keyup', this.keyUpHandler.bind(this));\n\t    },\n\t    componentWillUnmount: function componentWillUnmount() {\n\t        document.body.classList.remove(\"modal-in\");\n\t        document.removeEventListener('keyup', this.keyUpHandler.bind(this));\n\t    },\n\t    update_progress: function update_progress(msg, cancel) {\n\t        this.setState({ action_progress_message: msg, action_progress_cancel: cancel });\n\t    },\n\t    action_click: function action_click(handler, e) {\n\t        // only consider clicks with the primary button\n\t        if (e && e.button !== 0) return;\n\t        var self = this;\n\t        this.setState({\n\t            error_message: null,\n\t            action_progress_message: '',\n\t            action_in_progress: true,\n\t            action_canceled: false\n\t        });\n\t\n\t        var p = handler(this.update_progress.bind(this)).then(function () {\n\t            self.setState({ action_in_progress: false, error_message: null });\n\t            if (self.props.dialog_done) self.props.dialog_done(true);\n\t        }).catch(function (error) {\n\t            if (self.state.action_canceled) {\n\t                if (self.props.dialog_done) self.props.dialog_done(false);\n\t            }\n\t\n\t            /* Always log global dialog errors for easier debugging */\n\t            if (error) console.warn(error);\n\t\n\t            self.setState({ action_in_progress: false, error_message: error });\n\t        });\n\t\n\t        if (p.progress) p.progress(this.update_progress.bind(this));\n\t\n\t        this.setState({ action_in_progress_promise: p });\n\t\n\t        if (e) e.stopPropagation();\n\t    },\n\t    cancel_click: function cancel_click(e) {\n\t        // only consider clicks with the primary button\n\t        if (e && e.button !== 0) return;\n\t\n\t        this.setState({ action_canceled: true });\n\t\n\t        if (this.props.cancel_clicked) this.props.cancel_clicked();\n\t\n\t        // an action might be in progress, let that handler decide what to do if they added a cancel function\n\t        if (this.state.action_in_progress && this.state.action_progress_cancel) {\n\t            this.state.action_progress_cancel();\n\t            return;\n\t        }\n\t        if (this.state.action_in_progress && 'cancel' in this.state.action_in_progress_promise) {\n\t            this.state.action_in_progress_promise.cancel();\n\t            return;\n\t        }\n\t\n\t        if (this.props.dialog_done) this.props.dialog_done(false);\n\t        if (e) e.stopPropagation();\n\t    },\n\t    render: function render() {\n\t        var cancel_caption, cancel_style;\n\t        if ('cancel_caption' in this.props) cancel_caption = this.props.cancel_caption;else cancel_caption = _(\"Cancel\");\n\t\n\t        if ('cancel_style' in this.props) cancel_style = this.props.cancel_style;else cancel_style = \"cancel\";\n\t        cancel_style = \"btn btn-default \" + cancel_style;\n\t\n\t        // If an action is in progress, show the spinner with its message and disable all actions.\n\t        // Cancel is only enabled when the action promise has a cancel method, or we get one\n\t        // via the progress reporting.\n\t\n\t        var wait_element;\n\t        var actions_disabled;\n\t        var cancel_disabled;\n\t        if (this.state.action_in_progress) {\n\t            actions_disabled = 'disabled';\n\t            if (!(this.state.action_in_progress_promise && this.state.action_in_progress_promise.cancel) && !this.state.action_progress_cancel) cancel_disabled = 'disabled';\n\t            wait_element = React.createElement(\n\t                \"div\",\n\t                { className: \"dialog-wait-ct pull-left\" },\n\t                React.createElement(\"div\", { className: \"spinner spinner-sm\" }),\n\t                React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    this.state.action_progress_message\n\t                )\n\t            );\n\t        } else if (this.props.idle_message) {\n\t            wait_element = React.createElement(\n\t                \"div\",\n\t                { className: \"dialog-wait-ct pull-left\" },\n\t                this.props.idle_message\n\t            );\n\t        }\n\t\n\t        var self = this;\n\t        var action_buttons = this.props.actions.map(function (action) {\n\t            var caption;\n\t            if ('caption' in action) caption = action.caption;else caption = _(\"Ok\");\n\t\n\t            var button_style = \"btn-default\";\n\t            var button_style_mapping = { 'primary': 'btn-primary', 'danger': 'btn-danger' };\n\t            if ('style' in action && action.style in button_style_mapping) button_style = button_style_mapping[action.style];\n\t            button_style = \"btn \" + button_style + \" apply\";\n\t            var action_disabled = actions_disabled || 'disabled' in action && action.disabled;\n\t            return React.createElement(\n\t                \"button\",\n\t                {\n\t                    key: caption,\n\t                    className: button_style,\n\t                    onClick: self.action_click.bind(self, action.clicked),\n\t                    disabled: action_disabled\n\t                },\n\t                caption\n\t            );\n\t        });\n\t\n\t        // If we have an error message, display the error\n\t        var error_element;\n\t        var error_message;\n\t        if (this.props.static_error !== undefined && this.props.static_error !== null) error_message = this.props.static_error;else error_message = this.state.error_message;\n\t        if (error_message) {\n\t            error_element = React.createElement(\n\t                \"div\",\n\t                { className: \"alert alert-danger dialog-error\" },\n\t                React.createElement(\"span\", { className: \"fa fa-exclamation-triangle\" }),\n\t                React.createElement(\n\t                    \"span\",\n\t                    null,\n\t                    React.isValidElement(error_message) ? error_message : error_message.toString()\n\t                )\n\t            );\n\t        }\n\t        return React.createElement(\n\t            \"div\",\n\t            { className: \"modal-footer\" },\n\t            error_element,\n\t            wait_element,\n\t            React.createElement(\n\t                \"button\",\n\t                {\n\t                    className: cancel_style,\n\t                    onClick: this.cancel_click.bind(this),\n\t                    disabled: cancel_disabled\n\t                },\n\t                cancel_caption\n\t            ),\n\t            action_buttons\n\t        );\n\t    }\n\t});\n\t\n\t/*\n\t * React template for a Cockpit dialog\n\t * The primary action button is disabled while its action is in progress (waiting for promise)\n\t * Removes focus on other elements on showing\n\t * Expected props:\n\t *  - title (string)\n\t *  - no_backdrop optional, skip backdrop if true\n\t *  - body (react element, top element should be of class modal-body)\n\t *      It is recommended for information gathering dialogs to pass references\n\t *      to the input components to the controller. That way, the controller can\n\t *      extract all necessary information (e.g. for input validation) when an\n\t *      action is triggered.\n\t *  - footer (react element, top element should be of class modal-footer)\n\t *  - id optional, id that is assigned to the top level dialog node, but not the backdrop\n\t */\n\tvar Dialog = React.createClass({\n\t    displayName: \"Dialog\",\n\t\n\t    propTypes: {\n\t        // TODO: fix following by refactoring the logic showing modal dialog (recently show_modal_dialog())\n\t        title: React.PropTypes.string, // is effectively required, but show_modal_dialog() provides initially no props and resets them later.\n\t        no_backdrop: React.PropTypes.bool,\n\t        body: React.PropTypes.element, // is effectively required, see above\n\t        footer: React.PropTypes.element, // is effectively required, see above\n\t        id: React.PropTypes.string\n\t    },\n\t    componentDidMount: function componentDidMount() {\n\t        // if we used a button to open this, make sure it's not focused anymore\n\t        if (document.activeElement) document.activeElement.blur();\n\t    },\n\t    render: function render() {\n\t        var backdrop;\n\t        if (!this.props.no_backdrop) {\n\t            backdrop = React.createElement(\"div\", { className: \"modal-backdrop fade in\" });\n\t        }\n\t        return React.createElement(\n\t            \"div\",\n\t            null,\n\t            backdrop,\n\t            React.createElement(\n\t                \"div\",\n\t                { className: \"modal fade in dialog-ct-visible\", tabIndex: \"-1\" },\n\t                React.createElement(\n\t                    \"div\",\n\t                    { id: this.props.id, className: \"modal-dialog\" },\n\t                    React.createElement(\n\t                        \"div\",\n\t                        { className: \"modal-content\" },\n\t                        React.createElement(\n\t                            \"div\",\n\t                            { className: \"modal-header\" },\n\t                            React.createElement(\n\t                                \"h4\",\n\t                                { className: \"modal-title\" },\n\t                                this.props.title\n\t                            )\n\t                        ),\n\t                        this.props.body,\n\t                        this.props.footer\n\t                    )\n\t                )\n\t            )\n\t        );\n\t    }\n\t});\n\t\n\t/* Create and show a dialog\n\t * For this, create a containing DOM node at the body level\n\t * The returned object has the following methods:\n\t *     - setFooterProps replace the current footerProps and render\n\t *     - setProps       replace the current props and render\n\t *     - render         render again using the stored props\n\t * The DOM node and React metadata are freed once the dialog has closed\n\t */\n\tvar show_modal_dialog = function show_modal_dialog(props, footerProps) {\n\t    var dialogName = 'cockpit_modal_dialog';\n\t    // don't allow nested dialogs, just close whatever is open\n\t    var curElement = document.getElementById(dialogName);\n\t    if (curElement) {\n\t        React.unmountComponentAtNode(curElement);\n\t        curElement.remove();\n\t    }\n\t    // create an element to render into\n\t    var rootElement = document.createElement(\"div\");\n\t    rootElement.id = dialogName;\n\t    document.body.appendChild(rootElement);\n\t\n\t    // register our own on-close callback\n\t    var origCallback;\n\t    var closeCallback = function closeCallback() {\n\t        if (origCallback) origCallback.apply(this, arguments);\n\t        React.unmountComponentAtNode(rootElement);\n\t        rootElement.remove();\n\t    };\n\t\n\t    var dialogObj = {};\n\t    dialogObj.props = null;\n\t    dialogObj.footerProps = null;\n\t    dialogObj.render = function () {\n\t        dialogObj.props.footer = React.createElement(DialogFooter, dialogObj.footerProps);\n\t        React.render(React.createElement(Dialog, dialogObj.props), rootElement);\n\t    };\n\t    function updateFooterAndRender() {\n\t        if (dialogObj.props === null || dialogObj.props === undefined) dialogObj.props = {};\n\t        dialogObj.props.footer = React.createElement(DialogFooter, dialogObj.footerProps);\n\t        dialogObj.render();\n\t    }\n\t    dialogObj.setFooterProps = function (footerProps) {\n\t        /* Always log error messages to console for easier debugging */\n\t        if (footerProps.static_error) console.warn(footerProps.static_error);\n\t        dialogObj.footerProps = footerProps;\n\t        if (dialogObj.footerProps === null || dialogObj.footerProps === undefined) dialogObj.footerProps = {};\n\t        if (dialogObj.footerProps.dialog_done != closeCallback) {\n\t            origCallback = dialogObj.footerProps.dialog_done;\n\t            dialogObj.footerProps.dialog_done = closeCallback;\n\t        }\n\t        updateFooterAndRender();\n\t    };\n\t    dialogObj.setProps = function (props) {\n\t        dialogObj.props = props;\n\t        updateFooterAndRender();\n\t    };\n\t    dialogObj.setFooterProps(footerProps);\n\t    dialogObj.setProps(props);\n\t\n\t    // now actually render\n\t    dialogObj.render();\n\t\n\t    return dialogObj;\n\t};\n\t\n\tmodule.exports = {\n\t    Dialog: Dialog,\n\t    DialogFooter: DialogFooter,\n\t    show_modal_dialog: show_modal_dialog\n\t};\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 10 */,\n/* 11 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _cockpit = __webpack_require__(2);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _packagekit = __webpack_require__(5);\n\t\n\tvar _packagekit2 = _interopRequireDefault(_packagekit);\n\t\n\tvar _utils = __webpack_require__(7);\n\t\n\t__webpack_require__(13);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * This file is part of Cockpit.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2017 Red Hat, Inc.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Cockpit is free software; you can redistribute it and/or modify it\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * under the terms of the GNU Lesser General Public License as published by\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * the Free Software Foundation; either version 2.1 of the License, or\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * (at your option) any later version.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Cockpit is distributed in the hope that it will be useful, but\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Lesser General Public License for more details.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * You should have received a copy of the GNU Lesser General Public License\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar _ = _cockpit2.default.gettext;\n\t\n\tvar Application = function (_React$Component) {\n\t    _inherits(Application, _React$Component);\n\t\n\t    function Application() {\n\t        _classCallCheck(this, Application);\n\t\n\t        var _this = _possibleConstructorReturn(this, (Application.__proto__ || Object.getPrototypeOf(Application)).call(this));\n\t\n\t        _this.state = { error: null, progress: null };\n\t        return _this;\n\t    }\n\t\n\t    _createClass(Application, [{\n\t        key: \"render\",\n\t        value: function render() {\n\t            var self = this;\n\t            var state = this.state;\n\t            var metainfo_db = this.props.metainfo_db;\n\t            var comp;\n\t\n\t            if (!this.props.id) return null;\n\t\n\t            comp = metainfo_db.components[this.props.id];\n\t\n\t            function action(func, arg, progress_title) {\n\t                self.setState({ progress_title: progress_title });\n\t                func(arg, function (data) {\n\t                    return self.setState({ progress: data });\n\t                }).finally(function () {\n\t                    return self.setState({ progress: null });\n\t                }).catch(_utils.show_error);\n\t            }\n\t\n\t            function install() {\n\t                action(_packagekit2.default.install, comp.pkgname, _(\"Installing\"));\n\t            }\n\t\n\t            function remove() {\n\t                action(_packagekit2.default.remove, comp.file, _(\"Removing\"));\n\t            }\n\t\n\t            function render_homepage_link(urls) {\n\t                return urls.map(function (url) {\n\t                    if (url.type == 'homepage') {\n\t                        return _react2.default.createElement(\n\t                            \"div\",\n\t                            { className: \"app-links\", key: url.link },\n\t                            _react2.default.createElement(\n\t                                \"a\",\n\t                                { href: url.link, target: \"_blank\", rel: \"noopener\", \"data-linkedhost\": url.link },\n\t                                \"View Project Website \",\n\t                                _react2.default.createElement(\"i\", { className: \"fa fa-external-link\", \"aria-hidden\": \"true\" })\n\t                            )\n\t                        );\n\t                    }\n\t                });\n\t            }\n\t\n\t            // Render a description in the form returned by the AppsSream\n\t            // parser, which is a list of paragraphs and lists.\n\t\n\t            function render_description(description) {\n\t                if (!description) return _react2.default.createElement(\n\t                    \"p\",\n\t                    null,\n\t                    _(\"No description provided.\")\n\t                );\n\t\n\t                return description.map(function (paragraph, index) {\n\t                    if (paragraph.tag == 'ul') {\n\t                        return _react2.default.createElement(\n\t                            \"ul\",\n\t                            { key: \"paragraph-\" + index },\n\t                            paragraph.items.map(function (item) {\n\t                                return _react2.default.createElement(\n\t                                    \"li\",\n\t                                    { key: item },\n\t                                    item\n\t                                );\n\t                            })\n\t                        );\n\t                    } else if (paragraph.tag == 'ol') {\n\t                        return _react2.default.createElement(\n\t                            \"ol\",\n\t                            { key: \"paragraph-\" + index },\n\t                            paragraph.items.map(function (item) {\n\t                                return _react2.default.createElement(\n\t                                    \"li\",\n\t                                    { key: item },\n\t                                    item\n\t                                );\n\t                            })\n\t                        );\n\t                    } else {\n\t                        return _react2.default.createElement(\n\t                            \"p\",\n\t                            { key: \"paragraph-\" + index },\n\t                            paragraph\n\t                        );\n\t                    }\n\t                });\n\t            }\n\t\n\t            // Render the icon, name, homepage link, summary, description, and screenshots of the component,\n\t            // plus the UI for installing and removing it.\n\t\n\t            function render_comp() {\n\t                if (!comp) {\n\t                    if (metainfo_db.ready) return _react2.default.createElement(\n\t                        \"div\",\n\t                        null,\n\t                        _(\"Unknown Application\")\n\t                    );else return _react2.default.createElement(\"div\", { className: \"spinner\" });\n\t                }\n\t\n\t                var progress_or_launch, button;\n\t                if (state.progress) {\n\t                    progress_or_launch = _react2.default.createElement(_utils.ProgressBar, { title: self.state.progress_title, data: self.state.progress });\n\t                    button = _react2.default.createElement(_utils.CancelButton, { data: self.state.progress });\n\t                } else if (comp.installed) {\n\t                    progress_or_launch = _react2.default.createElement(\n\t                        \"a\",\n\t                        { role: \"link\", tabIndex: \"0\", onClick: (0, _utils.left_click)(function () {\n\t                                return (0, _utils.launch)(comp);\n\t                            }) },\n\t                        _(\"Go to Application\")\n\t                    );\n\t                    button = _react2.default.createElement(\n\t                        \"button\",\n\t                        { className: \"btn btn-danger\", onClick: (0, _utils.left_click)(remove) },\n\t                        _(\"Remove\")\n\t                    );\n\t                } else {\n\t                    progress_or_launch = null;\n\t                    button = _react2.default.createElement(\n\t                        \"button\",\n\t                        { className: \"btn btn-default\", onClick: (0, _utils.left_click)(install) },\n\t                        _(\"Install\")\n\t                    );\n\t                }\n\t\n\t                return _react2.default.createElement(\n\t                    \"div\",\n\t                    null,\n\t                    _react2.default.createElement(\n\t                        \"table\",\n\t                        { className: \"table app\" },\n\t                        _react2.default.createElement(\n\t                            \"tbody\",\n\t                            null,\n\t                            _react2.default.createElement(\n\t                                \"tr\",\n\t                                null,\n\t                                _react2.default.createElement(\n\t                                    \"td\",\n\t                                    null,\n\t                                    _react2.default.createElement(\"img\", { src: (0, _utils.icon_url)(comp.icon), role: \"presentation\" })\n\t                                ),\n\t                                _react2.default.createElement(\n\t                                    \"td\",\n\t                                    null,\n\t                                    comp.summary\n\t                                ),\n\t                                _react2.default.createElement(\n\t                                    \"td\",\n\t                                    null,\n\t                                    progress_or_launch\n\t                                ),\n\t                                _react2.default.createElement(\n\t                                    \"td\",\n\t                                    null,\n\t                                    button\n\t                                )\n\t                            )\n\t                        )\n\t                    ),\n\t                    render_homepage_link(comp.urls),\n\t                    _react2.default.createElement(\n\t                        \"div\",\n\t                        { className: \"app-description\" },\n\t                        render_description(comp.description)\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"center\",\n\t                        null,\n\t                        comp.screenshots.map(function (s, index) {\n\t                            return _react2.default.createElement(\"img\", { key: \"comp-\" + index, className: \"app-screenshot\", role: \"presentation\", src: s.full });\n\t                        })\n\t                    )\n\t                );\n\t            }\n\t\n\t            function navigate_up() {\n\t                _cockpit2.default.location.go(\"/\");\n\t            }\n\t\n\t            return _react2.default.createElement(\n\t                \"div\",\n\t                null,\n\t                _react2.default.createElement(\n\t                    \"ol\",\n\t                    { className: \"breadcrumb\" },\n\t                    _react2.default.createElement(\n\t                        \"li\",\n\t                        null,\n\t                        _react2.default.createElement(\n\t                            \"a\",\n\t                            { role: \"link\", tabIndex: \"0\", onClick: (0, _utils.left_click)(navigate_up) },\n\t                            _(\"Applications\")\n\t                        )\n\t                    ),\n\t                    _react2.default.createElement(\n\t                        \"li\",\n\t                        { className: \"active\" },\n\t                        comp ? comp.name : this.props.id\n\t                    )\n\t                ),\n\t                render_comp()\n\t            );\n\t        }\n\t    }]);\n\t\n\t    return Application;\n\t}(_react2.default.Component);\n\t\n\tmodule.exports = {\n\t    Application: Application\n\t};\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 14 */,\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\t/*\n\t * This file is part of Cockpit.\n\t *\n\t * Copyright (C) 2017 Red Hat, Inc.\n\t *\n\t * Cockpit is free software; you can redistribute it and/or modify it\n\t * under the terms of the GNU Lesser General Public License as published by\n\t * the Free Software Foundation; either version 2.1 of the License, or\n\t * (at your option) any later version.\n\t *\n\t * Cockpit is distributed in the hope that it will be useful, but\n\t * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t * Lesser General Public License for more details.\n\t *\n\t * You should have received a copy of the GNU Lesser General Public License\n\t * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t */\n\t\n\tvar cockpit = __webpack_require__(2);\n\tvar python = __webpack_require__(16);\n\tvar inotify_py = __webpack_require__(17);\n\tvar watch_appstream_py = __webpack_require__(18);\n\t\n\tvar metainfo_db = null;\n\t\n\tfunction get_metainfo_db() {\n\t    if (!metainfo_db) {\n\t        metainfo_db = cockpit.event_target({\n\t            ready: false,\n\t            components: [ ],\n\t            origin_files: [ ]\n\t        });\n\t\n\t        var buf = \"\";\n\t        python.spawn([ inotify_py, watch_appstream_py ], [ ],\n\t                     { environ: [ \"LANGUAGE=\" + (cockpit.language || \"en\") ]\n\t                     })\n\t            .stream(function (data) {\n\t                var lines, metadata;\n\t\n\t                buf += data;\n\t                lines = buf.split(\"\\n\");\n\t                buf = lines[lines.length-1];\n\t                if (lines.length >= 2) {\n\t                    metadata = JSON.parse(lines[lines.length-2]);\n\t                    metainfo_db.components = metadata.components;\n\t                    metainfo_db.origin_files = metadata.origin_files;\n\t                    metainfo_db.ready = true;\n\t                    metainfo_db.dispatchEvent(\"changed\");\n\t                }\n\t            }).\n\t            fail(function (error) {\n\t                if (error != \"closed\") {\n\t                    console.warn(error);\n\t                }\n\t            });\n\t    }\n\t\n\t    return metainfo_db;\n\t}\n\t\n\tmodule.exports = {\n\t    get_metainfo_db: get_metainfo_db\n\t};\n\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.spawn = spawn;\n\t\n\tvar _cockpit = __webpack_require__(2);\n\t\n\tvar _cockpit2 = _interopRequireDefault(_cockpit);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// FIXME: eventually convert all images to python 3\n\tvar pyinvoke = [\"sh\", \"-ec\", \"exec $(which python3 2>/dev/null || which python) $@\", \"--\", \"-\"]; /*\n\t                                                                                                  * This file is part of Cockpit.\n\t                                                                                                  *\n\t                                                                                                  * Copyright (C) 2017 Red Hat, Inc.\n\t                                                                                                  *\n\t                                                                                                  * Cockpit is free software; you can redistribute it and/or modify it\n\t                                                                                                  * under the terms of the GNU Lesser General Public License as published by\n\t                                                                                                  * the Free Software Foundation; either version 2.1 of the License, or\n\t                                                                                                  * (at your option) any later version.\n\t                                                                                                  *\n\t                                                                                                  * Cockpit is distributed in the hope that it will be useful, but\n\t                                                                                                  * WITHOUT ANY WARRANTY; without even the implied warranty of\n\t                                                                                                  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n\t                                                                                                  * Lesser General Public License for more details.\n\t                                                                                                  *\n\t                                                                                                  * You should have received a copy of the GNU Lesser General Public License\n\t                                                                                                  * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n\t                                                                                                  */\n\t\n\tfunction spawn(script_pieces, args, options) {\n\t    var script;\n\t    if (typeof script_pieces == \"string\") script = script_pieces;else script = script_pieces.join(\"\\n\");\n\t\n\t    return _cockpit2.default.spawn(pyinvoke.concat(args), options).input(script);\n\t}\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"#\\n# This file is part of Cockpit.\\n#\\n# Copyright (C) 2017 Red Hat, Inc.\\n#\\n# Cockpit is free software; you can redistribute it and/or modify it\\n# under the terms of the GNU Lesser General Public License as published by\\n# the Free Software Foundation; either version 2.1 of the License, or\\n# (at your option) any later version.\\n#\\n# Cockpit is distributed in the hope that it will be useful, but\\n# WITHOUT ANY WARRANTY; without even the implied warranty of\\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\\n# Lesser General Public License for more details.\\n#\\n# You should have received a copy of the GNU Lesser General Public License\\n# along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\\n\\nimport os\\nimport ctypes\\nimport struct\\nimport subprocess\\nimport traceback\\n\\nIN_CLOSE_WRITE = 0x00000008\\nIN_MOVED_FROM  = 0x00000040\\nIN_MOVED_TO    = 0x00000080\\nIN_CREATE      = 0x00000100\\nIN_DELETE      = 0x00000200\\nIN_DELETE_SELF = 0x00000400\\nIN_MOVE_SELF   = 0x00000800\\nIN_IGNORED     = 0x00008000\\n\\nclass Inotify:\\n    def __init__(self):\\n        self._libc = ctypes.CDLL(None, use_errno=True)\\n        self._get_errno_func = ctypes.get_errno\\n\\n        self._libc.inotify_init.argtypes = []\\n        self._libc.inotify_init.restype = ctypes.c_int\\n        self._libc.inotify_add_watch.argtypes = [ctypes.c_int, ctypes.c_char_p,\\n                                                 ctypes.c_uint32]\\n        self._libc.inotify_add_watch.restype = ctypes.c_int\\n        self._libc.inotify_rm_watch.argtypes = [ctypes.c_int, ctypes.c_int]\\n        self._libc.inotify_rm_watch.restype = ctypes.c_int\\n\\n        self.fd = self._libc.inotify_init()\\n\\n    def add_watch(self, path, mask):\\n        path = ctypes.create_string_buffer(path.encode(sys.getfilesystemencoding()))\\n        wd = self._libc.inotify_add_watch(self.fd, path, mask)\\n        if wd < 0:\\n            sys.stderr.write(\\\"can't add watch for %s: %s\\\\n\\\" % (path, os.strerror(self._get_errno_func())))\\n        return wd\\n\\n    def rem_watch(self, wd):\\n        if self._libc.inotify_rm_watch(self.fd, wd) < 0:\\n            sys.stderr.write(\\\"can't remove watch: %s\\\\n\\\" % (os.strerror(self._get_errno_func())))\\n\\n    def process(self, callback):\\n        buf = os.read(self.fd, 4096)\\n        pos = 0\\n        while pos < len(buf):\\n            (wd, mask, cookie, name_len) = struct.unpack('iIII', buf[pos:pos+16])\\n            pos += 16\\n            (name,) = struct.unpack('%ds' % name_len, buf[pos:pos + name_len])\\n            pos += name_len\\n            callback(wd, mask, name.decode().rstrip('\\\\0'))\\n\\n    def run(self, callback):\\n        while True:\\n            self.process(callback)\\n\"\n\n/***/ },\n/* 18 */\n/***/ function(module, exports) {\n\n\tmodule.exports = \"import os\\nimport sys\\nimport time\\nimport traceback\\n\\nimport gzip\\nimport xml.etree.ElementTree as ET\\nimport json\\n\\n# Our own little abstraction on top of inotify.  This only supports\\n# watching directories non-recursively, but it also supports watching\\n# directories that come and go into and out of existence.\\n#\\n# We could use pyinotify for this, but it would only be able to\\n# replace the Inotify class; we would still need all the logic in the\\n# Watcher class.\\n\\nclass Watcher:\\n\\n    def __init__(self):\\n        self.inotify = Inotify()\\n        self.watches = { } # path -> wd\\n        self.handlers = { } # wd -> set of callbacks\\n\\n    def __add_watch(self, path, mask, handler):\\n        if path in self.watches:\\n            wd = self.watches[path]\\n            self.handlers[wd] = self.handlers[wd] | frozenset([ handler ])\\n        else:\\n            wd = self.inotify.add_watch(path, mask)\\n            if wd >= 0:\\n                self.watches[path] = wd\\n                self.handlers[wd] = frozenset([ handler ])\\n\\n    def __rem_watch(self, path, handler):\\n        wd = self.watches[path]\\n        self.handlers[wd] = self.handlers[wd] - frozenset([ handler ])\\n        if len(self.handlers[wd]) == 0:\\n            self.inotify.rem_watch(wd)\\n            del self.handlers[wd]\\n            del self.watches[path]\\n\\n    def watch_directory(self, path, callback):\\n\\n        events = (IN_CREATE |\\n                  IN_MOVED_TO |\\n                  IN_MOVED_FROM |\\n                  IN_DELETE_SELF |\\n                  IN_CLOSE_WRITE |\\n                  IN_DELETE |\\n                  IN_MOVE_SELF)\\n\\n        def handler(mask, name):\\n            if ((mask & IN_CREATE or mask & IN_MOVED_TO) and\\n                cur_wait and name == cur_wait):\\n                reset()\\n            elif mask & (IN_DELETE_SELF | IN_MOVE_SELF):\\n                reset()\\n            elif not cur_wait and len(name) > 0:\\n                if mask & (IN_CLOSE_WRITE | IN_MOVED_TO | IN_DELETE | IN_MOVED_FROM):\\n                    callback(os.path.join(path, name))\\n\\n        def reset():\\n            self.__rem_watch(cur_path, handler)\\n            self.watch_directory(path, callback)\\n\\n        cur_path = path\\n        cur_wait = None\\n        while not os.path.exists(cur_path):\\n            cur_wait = os.path.basename(cur_path)\\n            cur_path = os.path.dirname(cur_path)\\n\\n        self.__add_watch(cur_path, events, handler)\\n\\n        if not cur_wait:\\n            for f in os.listdir(cur_path):\\n                callback(os.path.join(cur_path, f))\\n\\n    def run(self):\\n        def event(wd, mask, name):\\n            if wd in self.handlers:\\n                for h in self.handlers[wd]:\\n                    h(mask, name)\\n        self.inotify.run(event)\\n\\nlang = os.environ.get('LANGUAGE')\\n\\ndef attr_lang(elt):\\n    return elt.attrib.get('{http://www.w3.org/XML/1998/namespace}lang')\\n\\ndef element(xml, tag):\\n    if lang:\\n        for elt in xml.iter(tag):\\n            if attr_lang(elt) == lang:\\n                return elt\\n    return xml.find(tag)\\n\\ndef element_value(xml, tag):\\n    elt = element(xml, tag)\\n    return elt.text if elt is not None else None\\n\\ndef convert_description(xml, use_lang = True):\\n    if xml is None:\\n        return None\\n\\n    want_lang = lang if use_lang else None\\n\\n    # Only the following constructs are allowed, and they all appear\\n    # at the top level:\\n    #\\n    # <p>text</p>\\n    # <ul><li>text</li>...</ul>\\n    # <ol><li>text</li>...</ol>\\n\\n    # A description can have 'lang' attributes both on the actual\\n    # <description> element and on the contained <p>, <ul>, and <ol>\\n    # elements, but probably not on the <li> elements.\\n\\n    def text(xml):\\n        return \\\" \\\".join(xml.itertext())\\n\\n    res = [ ]\\n    for c in xml:\\n        if attr_lang(c) != want_lang:\\n            continue\\n        if c.tag == 'p':\\n            res.append(text(c))\\n        elif c.tag == 'ul' or c.tag == 'ol':\\n            res.append({ 'tag': c.tag, 'items': list(map(text, c.findall('li'))) })\\n\\n    # If we found nothing that matches lang, fall back to default\\n    if lang is not None and len(res) == 0:\\n        res = convert_description(xml, False)\\n\\n    return res\\n\\ndef convert_cached_icon(dir, origin, xml):\\n    icon = xml.text\\n\\n    def try_size(sz):\\n        path = os.path.join(dir, \\\"..\\\", \\\"icons\\\", origin, sz, icon)\\n        return path if os.path.exists(path) else None\\n\\n    return try_size(\\\"64x64\\\") or try_size(\\\"128x128\\\")\\n\\ndef convert_remote_icon(xml):\\n    url = xml.text\\n    if url.startswith(\\\"http://\\\") or url.startswith(\\\"https://\\\"):\\n        return url\\n    return None\\n\\ndef convert_local_icon(xml):\\n    path = xml.text\\n    if path.startswith(\\\"/\\\"):\\n        return path\\n    return None\\n\\ndef find_and_convert_icon(dir, origin, xml):\\n    if xml is None:\\n        return None\\n\\n    # Just use the first icon.\\n    icon = xml.find('icon')\\n\\n    if icon is not None:\\n        if icon.attrib['type'] == 'cached':\\n            return convert_cached_icon(dir, origin, icon)\\n        elif icon.attrib['type'] == 'remote':\\n            return convert_remote_icon(icon)\\n        elif icon.attrib['type'] == 'local':\\n            return convert_local_icon(icon)\\n\\n    return None\\n\\ndef convert_screenshots(xml):\\n    if xml is None:\\n        return [ ]\\n\\n    shots = [ ]\\n    for sh in xml.iter('screenshot'):\\n        for img in sh.iter('image'):\\n            if img.attrib['type'] == 'source':\\n                shots.append({ 'full': img.text })\\n\\n    return shots\\n\\ndef convert_launchables(xml):\\n    ables = [ ]\\n\\n    for elt in xml.iter('launchable'):\\n        type = elt.attrib['type']\\n        if type == \\\"cockpit-manifest\\\":\\n            ables.append({ 'name': elt.text, 'type': type })\\n\\n    return ables\\n\\ndef convert_urls(xml):\\n    urls = [ ]\\n\\n    for url in xml.iter('url'):\\n        urls.append({ 'type': url.attrib['type'], 'link': url.text })\\n\\n    return urls\\n\\ndef convert_collection_component(dir, origin, xml):\\n    id = element_value(xml, 'id')\\n    pkgname = element_value(xml, 'pkgname')\\n    launchables = convert_launchables(xml)\\n    urls = convert_urls(xml)\\n\\n    if not id or not pkgname or len(launchables) == 0:\\n        return None\\n\\n    return {\\n        'id': id,\\n        'pkgname': pkgname,\\n        'name': element_value(xml, 'name'),\\n        'summary': element_value(xml, 'summary'),\\n        'description': convert_description(element(xml, 'description')),\\n        'icon': find_and_convert_icon(dir, origin, xml),\\n        'screenshots': convert_screenshots(element(xml, 'screenshots')),\\n        'launchables': launchables,\\n        'urls': urls\\n    }\\n\\ndef convert_upstream_component(file, xml):\\n    if xml.tag != 'component':\\n        return None\\n\\n    launchables = convert_launchables(xml)\\n    if len(launchables) ==  0:\\n        return None\\n\\n    urls = convert_urls(xml)\\n\\n    return {\\n        'id': element_value(xml, 'id'),\\n        'name': element_value(xml, 'name'),\\n        'summary': element_value(xml, 'summary'),\\n        'description': convert_description(element(xml, 'description')),\\n        'icon': find_and_convert_icon(dir, '', xml),\\n        'screenshots': convert_screenshots(element(xml, 'screenshots')),\\n        'launchables': launchables,\\n        'installed': True,\\n        'file': file,\\n        'urls': urls\\n    }\\n\\nclass MetainfoDB:\\n    def __init__(self):\\n        self.dumping = False\\n        self.installed_by_file = { }\\n        self.available_by_file = { }\\n\\n    def notice_installed(self, file, xml_root):\\n        if xml_root is not None:\\n            comp = convert_upstream_component(file, xml_root)\\n            if comp is not None:\\n                self.installed_by_file[file] = comp;\\n        elif file in self.installed_by_file:\\n            del self.installed_by_file[file];\\n        if self.dumping:\\n            self.dump()\\n\\n    def notice_available(self, file, xml_root):\\n        if xml_root is not None:\\n            info = { }\\n            origin = xml_root.attrib['origin']\\n            for xml_comp in xml_root.iter('component'):\\n                try:\\n                    comp = convert_collection_component(os.path.dirname(file), origin, xml_comp)\\n                    if comp is not None:\\n                        if comp['id'] in info:\\n                            pass # warning: duplicate id\\n                        else:\\n                            info[comp['id']] = comp\\n                except KeyError:\\n                    pass\\n            self.available_by_file[file] = info\\n        elif file in self.available_by_file:\\n            del self.available_by_file[file]\\n        if self.dumping:\\n            self.dump()\\n\\n    def dump(self):\\n        comps = { }\\n        for file in self.installed_by_file:\\n            comp = self.installed_by_file[file]\\n            if comp['id'] in comps:\\n                pass # warn dup\\n            else:\\n                comps[comp['id']] = comp;\\n        for file in self.available_by_file:\\n            for id in self.available_by_file[file]:\\n                comp = self.available_by_file[file][id]\\n                if not comp['id'] in comps:\\n                    comps[comp['id']] = comp;\\n                else:\\n                    z = comp.copy()\\n                    z.update(comps[comp['id']])\\n                    comps[comp['id']] = z;\\n\\n        data = {\\n            'components': comps,\\n            'origin_files': list(self.available_by_file.keys())\\n        }\\n\\n        sys.stdout.write(json.dumps(data) + '\\\\n')\\n        sys.stdout.flush()\\n\\n    def start_dumping(self):\\n        self.dump()\\n        self.dumping = True\\n\\ndef watch_db():\\n    watcher = Watcher()\\n\\n    db = MetainfoDB()\\n\\n    def process_file(path, callback):\\n        try:\\n            if not os.path.exists(path):\\n                callback(path, None)\\n            elif path.endswith('.xml'):\\n                callback(path, ET.parse(path).getroot())\\n            elif path.endswith('.xml.gz'):\\n                callback(path, ET.parse(gzip.open(path)).getroot())\\n        except:\\n            # If we hit an exception during handling a file, pretend\\n            # that it doesn't exist instead of keeping old data.  This\\n            # makes the behavior consistent across restarts of this\\n            # watcher.\\n            callback(path, None)\\n            sys.stderr.write(\\\"%s: \\\" % path)\\n            sys.stderr.write(\\\"\\\".join(traceback.format_exception_only(sys.exc_info()[0], sys.exc_info()[1])))\\n            sys.stderr.flush()\\n\\n    def installed_callback(path):\\n        process_file(path, lambda path, xml: db.notice_installed(path, xml))\\n\\n    def available_callback(path):\\n        process_file(path, lambda path, xml: db.notice_available(path, xml))\\n\\n    watcher.watch_directory('/usr/share/metainfo',      installed_callback)\\n    watcher.watch_directory('/usr/share/app-info/xmls', available_callback)\\n    watcher.watch_directory('/var/cache/app-info/xmls', available_callback)\\n    db.start_dumping()\\n    watcher.run()\\n\\nwatch_db()\\n\"\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// apps/apps.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b914a7d5da9f3d147378","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from \"cockpit\";\n\nimport React from \"react\";\nimport ApplicationList from \"./application-list.jsx\";\nimport Application from \"./application.jsx\";\nimport appstream from \"./appstream.js\";\n\nimport \"page.css\";\n\nvar metainfo_db = appstream.get_metainfo_db();\n\nfunction render_list() {\n    React.render(<ApplicationList.ApplicationList metainfo_db={metainfo_db} />,\n                 document.getElementById('list'));\n}\n\nfunction render_app() {\n    React.render(<Application.Application metainfo_db={metainfo_db} id={cockpit.location.path[0]} />,\n                 document.getElementById('app'));\n}\n\nfunction show(id) {\n    document.getElementById(id).style.display = 'block';\n}\n\nfunction hide(id) {\n    document.getElementById(id).style.display = 'none';\n}\n\nfunction navigate() {\n    var path = cockpit.location.path;\n\n    if (path.length === 0) {\n        show('list-page');\n        hide('app-page');\n    } else if (path.length === 1) {\n        render_app();\n        hide('list-page');\n        show('app-page');\n    } else { /* redirect */\n        console.warn(\"not a apps location: \" + path);\n        cockpit.location = '';\n    }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    cockpit.translate();\n\n    metainfo_db.addEventListener(\"changed\", () => {\n        render_list();\n        render_app();\n    });\n\n    render_list();\n    cockpit.addEventListener(\"locationchanged\", navigate);\n    navigate();\n\n    document.body.style.display = 'block';\n});\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/apps/index.jsx","module.exports = cockpit;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cockpit\"\n// module id = 2\n// module chunks = 0","/*!\n * react-lite.js v0.15.39\n * (c) 2017 Jade Gu\n * Released under the MIT License.\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  global.React = factory();\n}(this, function () { 'use strict';\n\n  var HTML_KEY = 'dangerouslySetInnerHTML';\n  var SVGNamespaceURI = 'http://www.w3.org/2000/svg';\n  var COMPONENT_ID = 'liteid';\n  var VELEMENT = 2;\n  var VSTATELESS = 3;\n  var VCOMPONENT = 4;\n  var VCOMMENT = 5;\n  var ELEMENT_NODE_TYPE = 1;\n  var DOC_NODE_TYPE = 9;\n  var DOCUMENT_FRAGMENT_NODE_TYPE = 11;\n\n  /**\r\n   * current stateful component's refs property\r\n   * will attach to every vnode created by calling component.render method\r\n   */\n  var refs = null;\n\n  function createVnode(vtype, type, props, key, ref) {\n      var vnode = {\n          vtype: vtype,\n          type: type,\n          props: props,\n          refs: refs,\n          key: key,\n          ref: ref\n      };\n      if (vtype === VSTATELESS || vtype === VCOMPONENT) {\n          vnode.uid = getUid();\n      }\n      return vnode;\n  }\n\n  function initVnode(vnode, parentContext, namespaceURI) {\n      var vtype = vnode.vtype;\n\n      var node = null;\n      if (!vtype) {\n          // init text\n          node = document.createTextNode(vnode);\n      } else if (vtype === VELEMENT) {\n          // init element\n          node = initVelem(vnode, parentContext, namespaceURI);\n      } else if (vtype === VCOMPONENT) {\n          // init stateful component\n          node = initVcomponent(vnode, parentContext, namespaceURI);\n      } else if (vtype === VSTATELESS) {\n          // init stateless component\n          node = initVstateless(vnode, parentContext, namespaceURI);\n      } else if (vtype === VCOMMENT) {\n          // init comment\n          node = document.createComment('react-text: ' + (vnode.uid || getUid()));\n      }\n      return node;\n  }\n\n  function updateVnode(vnode, newVnode, node, parentContext) {\n      var vtype = vnode.vtype;\n\n      if (vtype === VCOMPONENT) {\n          return updateVcomponent(vnode, newVnode, node, parentContext);\n      }\n\n      if (vtype === VSTATELESS) {\n          return updateVstateless(vnode, newVnode, node, parentContext);\n      }\n\n      // ignore VCOMMENT and other vtypes\n      if (vtype !== VELEMENT) {\n          return node;\n      }\n\n      var oldHtml = vnode.props[HTML_KEY] && vnode.props[HTML_KEY].__html;\n      if (oldHtml != null) {\n          updateVelem(vnode, newVnode, node, parentContext);\n          initVchildren(newVnode, node, parentContext);\n      } else {\n          updateVChildren(vnode, newVnode, node, parentContext);\n          updateVelem(vnode, newVnode, node, parentContext);\n      }\n      return node;\n  }\n\n  function updateVChildren(vnode, newVnode, node, parentContext) {\n      var patches = {\n          removes: [],\n          updates: [],\n          creates: []\n      };\n      diffVchildren(patches, vnode, newVnode, node, parentContext);\n      flatEach(patches.removes, applyDestroy);\n      flatEach(patches.updates, applyUpdate);\n      flatEach(patches.creates, applyCreate);\n  }\n\n  function applyUpdate(data) {\n      if (!data) {\n          return;\n      }\n      var vnode = data.vnode;\n      var newNode = data.node;\n\n      // update\n      if (!data.shouldIgnore) {\n          if (!vnode.vtype) {\n              newNode.replaceData(0, newNode.length, data.newVnode);\n          } else if (vnode.vtype === VELEMENT) {\n              updateVelem(vnode, data.newVnode, newNode, data.parentContext);\n          } else if (vnode.vtype === VSTATELESS) {\n              newNode = updateVstateless(vnode, data.newVnode, newNode, data.parentContext);\n          } else if (vnode.vtype === VCOMPONENT) {\n              newNode = updateVcomponent(vnode, data.newVnode, newNode, data.parentContext);\n          }\n      }\n\n      // re-order\n      var currentNode = newNode.parentNode.childNodes[data.index];\n      if (currentNode !== newNode) {\n          newNode.parentNode.insertBefore(newNode, currentNode);\n      }\n      return newNode;\n  }\n\n  function applyDestroy(data) {\n      destroyVnode(data.vnode, data.node);\n      data.node.parentNode.removeChild(data.node);\n  }\n\n  function applyCreate(data) {\n      var node = initVnode(data.vnode, data.parentContext, data.parentNode.namespaceURI);\n      data.parentNode.insertBefore(node, data.parentNode.childNodes[data.index]);\n  }\n\n  /**\r\n   * Only vnode which has props.children need to call destroy function\r\n   * to check whether subTree has component that need to call lify-cycle method and release cache.\r\n   */\n\n  function destroyVnode(vnode, node) {\n      var vtype = vnode.vtype;\n\n      if (vtype === VELEMENT) {\n          // destroy element\n          destroyVelem(vnode, node);\n      } else if (vtype === VCOMPONENT) {\n          // destroy state component\n          destroyVcomponent(vnode, node);\n      } else if (vtype === VSTATELESS) {\n          // destroy stateless component\n          destroyVstateless(vnode, node);\n      }\n  }\n\n  function initVelem(velem, parentContext, namespaceURI) {\n      var type = velem.type;\n      var props = velem.props;\n\n      var node = null;\n\n      if (type === 'svg' || namespaceURI === SVGNamespaceURI) {\n          node = document.createElementNS(SVGNamespaceURI, type);\n          namespaceURI = SVGNamespaceURI;\n      } else {\n          node = document.createElement(type);\n      }\n\n      initVchildren(velem, node, parentContext);\n\n      var isCustomComponent = type.indexOf('-') >= 0 || props.is != null;\n      setProps(node, props, isCustomComponent);\n\n      if (velem.ref != null) {\n          addItem(pendingRefs, velem);\n          addItem(pendingRefs, node);\n      }\n\n      return node;\n  }\n\n  function initVchildren(velem, node, parentContext) {\n      var vchildren = node.vchildren = getFlattenChildren(velem);\n      var namespaceURI = node.namespaceURI;\n      for (var i = 0, len = vchildren.length; i < len; i++) {\n          node.appendChild(initVnode(vchildren[i], parentContext, namespaceURI));\n      }\n  }\n\n  function getFlattenChildren(vnode) {\n      var children = vnode.props.children;\n\n      var vchildren = [];\n      if (isArr(children)) {\n          flatEach(children, collectChild, vchildren);\n      } else {\n          collectChild(children, vchildren);\n      }\n      return vchildren;\n  }\n\n  function collectChild(child, children) {\n      if (child != null && typeof child !== 'boolean') {\n          if (!child.vtype) {\n              // convert immutablejs data\n              if (child.toJS) {\n                  child = child.toJS();\n                  if (isArr(child)) {\n                      flatEach(child, collectChild, children);\n                  } else {\n                      collectChild(child, children);\n                  }\n                  return;\n              }\n              child = '' + child;\n          }\n          children[children.length] = child;\n      }\n  }\n\n  function diffVchildren(patches, vnode, newVnode, node, parentContext) {\n      if (!node.vchildren) return; // react-lite hasn't seen this DOM node before\n\n      var childNodes = node.childNodes;\n      var vchildren = node.vchildren;\n\n      var newVchildren = node.vchildren = getFlattenChildren(newVnode);\n      var vchildrenLen = vchildren.length;\n      var newVchildrenLen = newVchildren.length;\n\n      if (vchildrenLen === 0) {\n          if (newVchildrenLen > 0) {\n              for (var i = 0; i < newVchildrenLen; i++) {\n                  addItem(patches.creates, {\n                      vnode: newVchildren[i],\n                      parentNode: node,\n                      parentContext: parentContext,\n                      index: i\n                  });\n              }\n          }\n          return;\n      } else if (newVchildrenLen === 0) {\n          for (var i = 0; i < vchildrenLen; i++) {\n              addItem(patches.removes, {\n                  vnode: vchildren[i],\n                  node: childNodes[i]\n              });\n          }\n          return;\n      }\n\n      var updates = Array(newVchildrenLen);\n      var removes = null;\n      var creates = null;\n\n      // isEqual\n      for (var i = 0; i < vchildrenLen; i++) {\n          var _vnode = vchildren[i];\n          for (var j = 0; j < newVchildrenLen; j++) {\n              if (updates[j]) {\n                  continue;\n              }\n              var _newVnode = newVchildren[j];\n              if (_vnode === _newVnode) {\n                  updates[j] = {\n                      shouldIgnore: shouldIgnoreUpdate(node),\n                      vnode: _vnode,\n                      newVnode: _newVnode,\n                      node: childNodes[i],\n                      parentContext: parentContext,\n                      index: j\n                  };\n                  vchildren[i] = null;\n                  break;\n              }\n          }\n      }\n\n      // isSimilar\n      for (var i = 0; i < vchildrenLen; i++) {\n          var _vnode2 = vchildren[i];\n          if (_vnode2 === null) {\n              continue;\n          }\n          var shouldRemove = true;\n          for (var j = 0; j < newVchildrenLen; j++) {\n              if (updates[j]) {\n                  continue;\n              }\n              var _newVnode2 = newVchildren[j];\n              if (_newVnode2.type === _vnode2.type && _newVnode2.key === _vnode2.key && _newVnode2.refs === _vnode2.refs) {\n                  updates[j] = {\n                      vnode: _vnode2,\n                      newVnode: _newVnode2,\n                      node: childNodes[i],\n                      parentContext: parentContext,\n                      index: j\n                  };\n                  shouldRemove = false;\n                  break;\n              }\n          }\n          if (shouldRemove) {\n              if (!removes) {\n                  removes = [];\n              }\n              addItem(removes, {\n                  vnode: _vnode2,\n                  node: childNodes[i]\n              });\n          }\n      }\n\n      for (var i = 0; i < newVchildrenLen; i++) {\n          var item = updates[i];\n          if (!item) {\n              if (!creates) {\n                  creates = [];\n              }\n              addItem(creates, {\n                  vnode: newVchildren[i],\n                  parentNode: node,\n                  parentContext: parentContext,\n                  index: i\n              });\n          } else if (item.vnode.vtype === VELEMENT) {\n              diffVchildren(patches, item.vnode, item.newVnode, item.node, item.parentContext);\n          }\n      }\n\n      if (removes) {\n          addItem(patches.removes, removes);\n      }\n      if (creates) {\n          addItem(patches.creates, creates);\n      }\n      addItem(patches.updates, updates);\n  }\n\n  function updateVelem(velem, newVelem, node) {\n      var isCustomComponent = velem.type.indexOf('-') >= 0 || velem.props.is != null;\n      patchProps(node, velem.props, newVelem.props, isCustomComponent);\n      if (velem.ref !== newVelem.ref) {\n          detachRef(velem.refs, velem.ref, node);\n          attachRef(newVelem.refs, newVelem.ref, node);\n      }\n      return node;\n  }\n\n  function destroyVelem(velem, node) {\n      var props = velem.props;\n      var vchildren = node.vchildren;\n      var childNodes = node.childNodes;\n\n      if (vchildren) {\n          for (var i = 0, len = vchildren.length; i < len; i++) {\n              destroyVnode(vchildren[i], childNodes[i]);\n          }\n      }\n      detachRef(velem.refs, velem.ref, node);\n      node.eventStore = node.vchildren = null;\n  }\n\n  function initVstateless(vstateless, parentContext, namespaceURI) {\n      var vnode = renderVstateless(vstateless, parentContext);\n      var node = initVnode(vnode, parentContext, namespaceURI);\n      node.cache = node.cache || {};\n      node.cache[vstateless.uid] = vnode;\n      return node;\n  }\n\n  function updateVstateless(vstateless, newVstateless, node, parentContext) {\n      var uid = vstateless.uid;\n      var vnode = node.cache[uid];\n      delete node.cache[uid];\n      var newVnode = renderVstateless(newVstateless, parentContext);\n      var newNode = compareTwoVnodes(vnode, newVnode, node, parentContext);\n      newNode.cache = newNode.cache || {};\n      newNode.cache[newVstateless.uid] = newVnode;\n      if (newNode !== node) {\n          syncCache(newNode.cache, node.cache, newNode);\n      }\n      return newNode;\n  }\n\n  function destroyVstateless(vstateless, node) {\n      var uid = vstateless.uid;\n      var vnode = node.cache[uid];\n      delete node.cache[uid];\n      destroyVnode(vnode, node);\n  }\n\n  function renderVstateless(vstateless, parentContext) {\n      var factory = vstateless.type;\n      var props = vstateless.props;\n\n      var componentContext = getContextByTypes(parentContext, factory.contextTypes);\n      var vnode = factory(props, componentContext);\n      if (vnode && vnode.render) {\n          vnode = vnode.render();\n      }\n      if (vnode === null || vnode === false) {\n          vnode = createVnode(VCOMMENT);\n      } else if (!vnode || !vnode.vtype) {\n          throw new Error('@' + factory.name + '#render:You may have returned undefined, an array or some other invalid object');\n      }\n      return vnode;\n  }\n\n  function initVcomponent(vcomponent, parentContext, namespaceURI) {\n      var Component = vcomponent.type;\n      var props = vcomponent.props;\n      var uid = vcomponent.uid;\n\n      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n      var component = new Component(props, componentContext);\n      var updater = component.$updater;\n      var cache = component.$cache;\n\n      cache.parentContext = parentContext;\n      updater.isPending = true;\n      component.props = component.props || props;\n      component.context = component.context || componentContext;\n      if (component.componentWillMount) {\n          component.componentWillMount();\n          component.state = updater.getState();\n      }\n      var vnode = renderComponent(component);\n      var node = initVnode(vnode, getChildContext(component, parentContext), namespaceURI);\n      node.cache = node.cache || {};\n      node.cache[uid] = component;\n      cache.vnode = vnode;\n      cache.node = node;\n      cache.isMounted = true;\n      addItem(pendingComponents, component);\n\n      if (vcomponent.ref != null) {\n          addItem(pendingRefs, vcomponent);\n          addItem(pendingRefs, component);\n      }\n\n      return node;\n  }\n\n  function updateVcomponent(vcomponent, newVcomponent, node, parentContext) {\n      var uid = vcomponent.uid;\n      var component = node.cache[uid];\n      var updater = component.$updater;\n      var cache = component.$cache;\n      var Component = newVcomponent.type;\n      var nextProps = newVcomponent.props;\n\n      var componentContext = getContextByTypes(parentContext, Component.contextTypes);\n      delete node.cache[uid];\n      node.cache[newVcomponent.uid] = component;\n      cache.parentContext = parentContext;\n      if (component.componentWillReceiveProps) {\n          var needToggleIsPending = !updater.isPending;\n          if (needToggleIsPending) updater.isPending = true;\n          component.componentWillReceiveProps(nextProps, componentContext);\n          if (needToggleIsPending) updater.isPending = false;\n      }\n\n      if (vcomponent.ref !== newVcomponent.ref) {\n          detachRef(vcomponent.refs, vcomponent.ref, component);\n          attachRef(newVcomponent.refs, newVcomponent.ref, component);\n      }\n\n      updater.emitUpdate(nextProps, componentContext);\n\n      return cache.node;\n  }\n\n  function destroyVcomponent(vcomponent, node) {\n      var uid = vcomponent.uid;\n      var component = node.cache[uid];\n      var cache = component.$cache;\n      delete node.cache[uid];\n      detachRef(vcomponent.refs, vcomponent.ref, component);\n      component.setState = component.forceUpdate = noop;\n      if (component.componentWillUnmount) {\n          component.componentWillUnmount();\n      }\n      destroyVnode(cache.vnode, node);\n      delete component.setState;\n      cache.isMounted = false;\n      cache.node = cache.parentContext = cache.vnode = component.refs = component.context = null;\n  }\n\n  function getContextByTypes(curContext, contextTypes) {\n      var context = {};\n      if (!contextTypes || !curContext) {\n          return context;\n      }\n      for (var key in contextTypes) {\n          if (contextTypes.hasOwnProperty(key)) {\n              context[key] = curContext[key];\n          }\n      }\n      return context;\n  }\n\n  function renderComponent(component, parentContext) {\n      refs = component.refs;\n      var vnode = component.render();\n      if (vnode === null || vnode === false) {\n          vnode = createVnode(VCOMMENT);\n      } else if (!vnode || !vnode.vtype) {\n          throw new Error('@' + component.constructor.name + '#render:You may have returned undefined, an array or some other invalid object');\n      }\n      refs = null;\n      return vnode;\n  }\n\n  function getChildContext(component, parentContext) {\n      if (component.getChildContext) {\n          var curContext = component.getChildContext();\n          if (curContext) {\n              parentContext = extend(extend({}, parentContext), curContext);\n          }\n      }\n      return parentContext;\n  }\n\n  var pendingComponents = [];\n  function clearPendingComponents() {\n      var len = pendingComponents.length;\n      if (!len) {\n          return;\n      }\n      var components = pendingComponents;\n      pendingComponents = [];\n      var i = -1;\n      while (len--) {\n          var component = components[++i];\n          var updater = component.$updater;\n          if (component.componentDidMount) {\n              component.componentDidMount();\n          }\n          updater.isPending = false;\n          updater.emitUpdate();\n      }\n  }\n\n  var pendingRefs = [];\n  function clearPendingRefs() {\n      var len = pendingRefs.length;\n      if (!len) {\n          return;\n      }\n      var list = pendingRefs;\n      pendingRefs = [];\n      for (var i = 0; i < len; i += 2) {\n          var vnode = list[i];\n          var refValue = list[i + 1];\n          attachRef(vnode.refs, vnode.ref, refValue);\n      }\n  }\n\n  function clearPending() {\n      clearPendingRefs();\n      clearPendingComponents();\n  }\n\n  function compareTwoVnodes(vnode, newVnode, node, parentContext) {\n      var newNode = node;\n      if (newVnode == null) {\n          // remove\n          destroyVnode(vnode, node);\n          node.parentNode.removeChild(node);\n      } else if (vnode.type !== newVnode.type || vnode.key !== newVnode.key) {\n          // replace\n          destroyVnode(vnode, node);\n          newNode = initVnode(newVnode, parentContext, node.namespaceURI);\n          node.parentNode.replaceChild(newNode, node);\n      } else if (vnode !== newVnode || parentContext) {\n          // same type and same key -> update\n          newNode = updateVnode(vnode, newVnode, node, parentContext);\n      }\n      return newNode;\n  }\n\n  function getDOMNode() {\n      return this;\n  }\n\n  function attachRef(refs, refKey, refValue) {\n      if (refKey == null || !refValue) {\n          return;\n      }\n      if (refValue.nodeName && !refValue.getDOMNode) {\n          // support react v0.13 style: this.refs.myInput.getDOMNode()\n          refValue.getDOMNode = getDOMNode;\n      }\n      if (isFn(refKey)) {\n          refKey(refValue);\n      } else if (refs) {\n          refs[refKey] = refValue;\n      }\n  }\n\n  function detachRef(refs, refKey, refValue) {\n      if (refKey == null) {\n          return;\n      }\n      if (isFn(refKey)) {\n          refKey(null);\n      } else if (refs && refs[refKey] === refValue) {\n          delete refs[refKey];\n      }\n  }\n\n  function syncCache(cache, oldCache, node) {\n      for (var key in oldCache) {\n          if (!oldCache.hasOwnProperty(key)) {\n              continue;\n          }\n          var value = oldCache[key];\n          cache[key] = value;\n\n          // is component, update component.$cache.node\n          if (value.forceUpdate) {\n              value.$cache.node = node;\n          }\n      }\n  }\n\n  function shouldIgnoreUpdate(node) {\n      var vchildren = node.vchildren;\n      var children = node.children;\n\n      if (vchildren) {\n          for (var i = 0; i < vchildren.length; i++) {\n              var vchild = vchildren[i];\n              if (vchild.vtype === VCOMPONENT || vchild.vtype === VSTATELESS) {\n                  if (vchild.type.contextTypes) {\n                      return false;\n                  }\n              }\n          }\n      }\n\n      if (children) {\n          for (var i = 0; i < children.length; i++) {\n              if (!shouldIgnoreUpdate(children[i])) {\n                  return false;\n              }\n          }\n      }\n\n      return true;\n  }\n\n  var updateQueue = {\n  \tupdaters: [],\n  \tisPending: false,\n  \tadd: function add(updater) {\n  \t\taddItem(this.updaters, updater);\n  \t},\n  \tbatchUpdate: function batchUpdate() {\n  \t\tif (this.isPending) {\n  \t\t\treturn;\n  \t\t}\n  \t\tthis.isPending = true;\n  \t\t/*\r\n     each updater.update may add new updater to updateQueue\r\n     clear them with a loop\r\n     event bubbles from bottom-level to top-level\r\n     reverse the updater order can merge some props and state and reduce the refresh times\r\n     see Updater.update method below to know why\r\n    */\n  \t\tvar updaters = this.updaters;\n\n  \t\tvar updater = undefined;\n  \t\twhile (updater = updaters.pop()) {\n  \t\t\tupdater.updateComponent();\n  \t\t}\n  \t\tthis.isPending = false;\n  \t}\n  };\n\n  function Updater(instance) {\n  \tthis.instance = instance;\n  \tthis.pendingStates = [];\n  \tthis.pendingCallbacks = [];\n  \tthis.isPending = false;\n  \tthis.nextProps = this.nextContext = null;\n  \tthis.clearCallbacks = this.clearCallbacks.bind(this);\n  }\n\n  Updater.prototype = {\n  \temitUpdate: function emitUpdate(nextProps, nextContext) {\n  \t\tthis.nextProps = nextProps;\n  \t\tthis.nextContext = nextContext;\n  \t\t// receive nextProps!! should update immediately\n  \t\tnextProps || !updateQueue.isPending ? this.updateComponent() : updateQueue.add(this);\n  \t},\n  \tupdateComponent: function updateComponent() {\n  \t\tvar instance = this.instance;\n  \t\tvar pendingStates = this.pendingStates;\n  \t\tvar nextProps = this.nextProps;\n  \t\tvar nextContext = this.nextContext;\n\n  \t\tif (nextProps || pendingStates.length > 0) {\n  \t\t\tnextProps = nextProps || instance.props;\n  \t\t\tnextContext = nextContext || instance.context;\n  \t\t\tthis.nextProps = this.nextContext = null;\n  \t\t\t// merge the nextProps and nextState and update by one time\n  \t\t\tshouldUpdate(instance, nextProps, this.getState(), nextContext, this.clearCallbacks);\n  \t\t}\n  \t},\n  \taddState: function addState(nextState) {\n  \t\tif (nextState) {\n  \t\t\taddItem(this.pendingStates, nextState);\n  \t\t\tif (!this.isPending) {\n  \t\t\t\tthis.emitUpdate();\n  \t\t\t}\n  \t\t}\n  \t},\n  \treplaceState: function replaceState(nextState) {\n  \t\tvar pendingStates = this.pendingStates;\n\n  \t\tpendingStates.pop();\n  \t\t// push special params to point out should replace state\n  \t\taddItem(pendingStates, [nextState]);\n  \t},\n  \tgetState: function getState() {\n  \t\tvar instance = this.instance;\n  \t\tvar pendingStates = this.pendingStates;\n  \t\tvar state = instance.state;\n  \t\tvar props = instance.props;\n\n  \t\tif (pendingStates.length) {\n  \t\t\tstate = extend({}, state);\n  \t\t\tpendingStates.forEach(function (nextState) {\n  \t\t\t\tvar isReplace = isArr(nextState);\n  \t\t\t\tif (isReplace) {\n  \t\t\t\t\tnextState = nextState[0];\n  \t\t\t\t}\n  \t\t\t\tif (isFn(nextState)) {\n  \t\t\t\t\tnextState = nextState.call(instance, state, props);\n  \t\t\t\t}\n  \t\t\t\t// replace state\n  \t\t\t\tif (isReplace) {\n  \t\t\t\t\tstate = extend({}, nextState);\n  \t\t\t\t} else {\n  \t\t\t\t\textend(state, nextState);\n  \t\t\t\t}\n  \t\t\t});\n  \t\t\tpendingStates.length = 0;\n  \t\t}\n  \t\treturn state;\n  \t},\n  \tclearCallbacks: function clearCallbacks() {\n  \t\tvar pendingCallbacks = this.pendingCallbacks;\n  \t\tvar instance = this.instance;\n\n  \t\tif (pendingCallbacks.length > 0) {\n  \t\t\tthis.pendingCallbacks = [];\n  \t\t\tpendingCallbacks.forEach(function (callback) {\n  \t\t\t\treturn callback.call(instance);\n  \t\t\t});\n  \t\t}\n  \t},\n  \taddCallback: function addCallback(callback) {\n  \t\tif (isFn(callback)) {\n  \t\t\taddItem(this.pendingCallbacks, callback);\n  \t\t}\n  \t}\n  };\n  function Component(props, context) {\n  \tthis.$updater = new Updater(this);\n  \tthis.$cache = { isMounted: false };\n  \tthis.props = props;\n  \tthis.state = {};\n  \tthis.refs = {};\n  \tthis.context = context;\n  }\n\n  var ReactComponentSymbol = {};\n\n  Component.prototype = {\n  \tconstructor: Component,\n  \tisReactComponent: ReactComponentSymbol,\n  \t// getChildContext: _.noop,\n  \t// componentWillUpdate: _.noop,\n  \t// componentDidUpdate: _.noop,\n  \t// componentWillReceiveProps: _.noop,\n  \t// componentWillMount: _.noop,\n  \t// componentDidMount: _.noop,\n  \t// componentWillUnmount: _.noop,\n  \t// shouldComponentUpdate(nextProps, nextState) {\n  \t// \treturn true\n  \t// },\n  \tforceUpdate: function forceUpdate(callback) {\n  \t\tvar $updater = this.$updater;\n  \t\tvar $cache = this.$cache;\n  \t\tvar props = this.props;\n  \t\tvar state = this.state;\n  \t\tvar context = this.context;\n\n  \t\tif (!$cache.isMounted) {\n  \t\t\treturn;\n  \t\t}\n  \t\t// if updater is pending, add state to trigger nexttick update\n  \t\tif ($updater.isPending) {\n  \t\t\t$updater.addState(state);\n  \t\t\treturn;\n  \t\t}\n  \t\tvar nextProps = $cache.props || props;\n  \t\tvar nextState = $cache.state || state;\n  \t\tvar nextContext = $cache.context || context;\n  \t\tvar parentContext = $cache.parentContext;\n  \t\tvar node = $cache.node;\n  \t\tvar vnode = $cache.vnode;\n  \t\t$cache.props = $cache.state = $cache.context = null;\n  \t\t$updater.isPending = true;\n  \t\tif (this.componentWillUpdate) {\n  \t\t\tthis.componentWillUpdate(nextProps, nextState, nextContext);\n  \t\t}\n  \t\tthis.state = nextState;\n  \t\tthis.props = nextProps;\n  \t\tthis.context = nextContext;\n  \t\tvar newVnode = renderComponent(this);\n  \t\tvar newNode = compareTwoVnodes(vnode, newVnode, node, getChildContext(this, parentContext));\n  \t\tif (newNode !== node) {\n  \t\t\tnewNode.cache = newNode.cache || {};\n  \t\t\tsyncCache(newNode.cache, node.cache, newNode);\n  \t\t}\n  \t\t$cache.vnode = newVnode;\n  \t\t$cache.node = newNode;\n  \t\tclearPending();\n  \t\tif (this.componentDidUpdate) {\n  \t\t\tthis.componentDidUpdate(props, state, context);\n  \t\t}\n  \t\tif (callback) {\n  \t\t\tcallback.call(this);\n  \t\t}\n  \t\t$updater.isPending = false;\n  \t\t$updater.emitUpdate();\n  \t},\n  \tsetState: function setState(nextState, callback) {\n  \t\tvar $updater = this.$updater;\n\n  \t\t$updater.addCallback(callback);\n  \t\t$updater.addState(nextState);\n  \t},\n  \treplaceState: function replaceState(nextState, callback) {\n  \t\tvar $updater = this.$updater;\n\n  \t\t$updater.addCallback(callback);\n  \t\t$updater.replaceState(nextState);\n  \t},\n  \tgetDOMNode: function getDOMNode() {\n  \t\tvar node = this.$cache.node;\n  \t\treturn node && node.nodeName === '#comment' ? null : node;\n  \t},\n  \tisMounted: function isMounted() {\n  \t\treturn this.$cache.isMounted;\n  \t}\n  };\n\n  function shouldUpdate(component, nextProps, nextState, nextContext, callback) {\n  \tvar shouldComponentUpdate = true;\n  \tif (component.shouldComponentUpdate) {\n  \t\tshouldComponentUpdate = component.shouldComponentUpdate(nextProps, nextState, nextContext);\n  \t}\n  \tif (shouldComponentUpdate === false) {\n  \t\tcomponent.props = nextProps;\n  \t\tcomponent.state = nextState;\n  \t\tcomponent.context = nextContext || {};\n  \t\treturn;\n  \t}\n  \tvar cache = component.$cache;\n  \tcache.props = nextProps;\n  \tcache.state = nextState;\n  \tcache.context = nextContext || {};\n  \tcomponent.forceUpdate(callback);\n  }\n\n  // event config\n  var unbubbleEvents = {\n      /**\r\n       * should not bind mousemove in document scope\r\n       * even though mousemove event can bubble\r\n       */\n      onmousemove: 1,\n      ontouchmove: 1,\n      onmouseleave: 1,\n      onmouseenter: 1,\n      onload: 1,\n      onunload: 1,\n      onscroll: 1,\n      onfocus: 1,\n      onblur: 1,\n      onrowexit: 1,\n      onbeforeunload: 1,\n      onstop: 1,\n      ondragdrop: 1,\n      ondragenter: 1,\n      ondragexit: 1,\n      ondraggesture: 1,\n      ondragover: 1,\n      oncontextmenu: 1,\n      onerror: 1,\n\n      // media event\n      onabort: 1,\n      oncanplay: 1,\n      oncanplaythrough: 1,\n      ondurationchange: 1,\n      onemptied: 1,\n      onended: 1,\n      onloadeddata: 1,\n      onloadedmetadata: 1,\n      onloadstart: 1,\n      onencrypted: 1,\n      onpause: 1,\n      onplay: 1,\n      onplaying: 1,\n      onprogress: 1,\n      onratechange: 1,\n      onseeking: 1,\n      onseeked: 1,\n      onstalled: 1,\n      onsuspend: 1,\n      ontimeupdate: 1,\n      onvolumechange: 1,\n      onwaiting: 1\n  };\n\n  function getEventName(key) {\n      if (key === 'onDoubleClick') {\n          key = 'ondblclick';\n      } else if (key === 'onTouchTap') {\n          key = 'onclick';\n      }\n\n      return key.toLowerCase();\n  }\n\n  // Mobile Safari does not fire properly bubble click events on\n  // non-interactive elements, which means delegated click listeners do not\n  // fire. The workaround for this bug involves attaching an empty click\n  // listener on the target node.\n  var inMobile = ('ontouchstart' in document);\n  var emptyFunction = function emptyFunction() {};\n  var ON_CLICK_KEY = 'onclick';\n\n  var eventTypes = {};\n\n  function addEvent(elem, eventType, listener) {\n      eventType = getEventName(eventType);\n\n      var eventStore = elem.eventStore || (elem.eventStore = {});\n      eventStore[eventType] = listener;\n\n      if (unbubbleEvents[eventType] === 1) {\n          elem[eventType] = dispatchUnbubbleEvent;\n          return;\n      } else if (!eventTypes[eventType]) {\n          // onclick -> click\n          document.addEventListener(eventType.substr(2), dispatchEvent, false);\n          eventTypes[eventType] = true;\n      }\n\n      if (inMobile && eventType === ON_CLICK_KEY) {\n          elem.addEventListener('click', emptyFunction, false);\n          return;\n      }\n\n      var nodeName = elem.nodeName;\n\n      if (eventType === 'onchange' && supportInputEvent(elem)) {\n          addEvent(elem, 'oninput', listener);\n      }\n  }\n\n  function removeEvent(elem, eventType) {\n      eventType = getEventName(eventType);\n\n      var eventStore = elem.eventStore || (elem.eventStore = {});\n      delete eventStore[eventType];\n\n      if (unbubbleEvents[eventType] === 1) {\n          elem[eventType] = null;\n          return;\n      } else if (inMobile && eventType === ON_CLICK_KEY) {\n          elem.removeEventListener('click', emptyFunction, false);\n          return;\n      }\n\n      var nodeName = elem.nodeName;\n\n      if (eventType === 'onchange' && supportInputEvent(elem)) {\n          delete eventStore['oninput'];\n      }\n  }\n\n  function dispatchEvent(event) {\n      var target = event.target;\n      var type = event.type;\n\n      var eventType = 'on' + type;\n      var syntheticEvent = undefined;\n\n      updateQueue.isPending = true;\n      while (target) {\n          var _target = target;\n          var eventStore = _target.eventStore;\n\n          var listener = eventStore && eventStore[eventType];\n          if (!listener) {\n              target = target.parentNode;\n              continue;\n          }\n          if (!syntheticEvent) {\n              syntheticEvent = createSyntheticEvent(event);\n          }\n          syntheticEvent.currentTarget = target;\n          listener.call(target, syntheticEvent);\n          if (syntheticEvent.$cancelBubble) {\n              break;\n          }\n          target = target.parentNode;\n      }\n      updateQueue.isPending = false;\n      updateQueue.batchUpdate();\n  }\n\n  function dispatchUnbubbleEvent(event) {\n      var target = event.currentTarget || event.target;\n      var eventType = 'on' + event.type;\n      var syntheticEvent = createSyntheticEvent(event);\n\n      syntheticEvent.currentTarget = target;\n      updateQueue.isPending = true;\n\n      var eventStore = target.eventStore;\n\n      var listener = eventStore && eventStore[eventType];\n      if (listener) {\n          listener.call(target, syntheticEvent);\n      }\n\n      updateQueue.isPending = false;\n      updateQueue.batchUpdate();\n  }\n\n  function createSyntheticEvent(nativeEvent) {\n      var syntheticEvent = {};\n      var cancelBubble = function cancelBubble() {\n          return syntheticEvent.$cancelBubble = true;\n      };\n      syntheticEvent.nativeEvent = nativeEvent;\n      syntheticEvent.persist = noop;\n      for (var key in nativeEvent) {\n          if (typeof nativeEvent[key] !== 'function') {\n              syntheticEvent[key] = nativeEvent[key];\n          } else if (key === 'stopPropagation' || key === 'stopImmediatePropagation') {\n              syntheticEvent[key] = cancelBubble;\n          } else {\n              syntheticEvent[key] = nativeEvent[key].bind(nativeEvent);\n          }\n      }\n      return syntheticEvent;\n  }\n\n  function supportInputEvent(elem) {\n      var nodeName = elem.nodeName && elem.nodeName.toLowerCase();\n      return nodeName !== 'select' && !(nodeName === 'input' && elem.type === 'file');\n  }\n\n  function setStyle(elemStyle, styles) {\n      for (var styleName in styles) {\n          if (styles.hasOwnProperty(styleName)) {\n              setStyleValue(elemStyle, styleName, styles[styleName]);\n          }\n      }\n  }\n\n  function removeStyle(elemStyle, styles) {\n      for (var styleName in styles) {\n          if (styles.hasOwnProperty(styleName)) {\n              elemStyle[styleName] = '';\n          }\n      }\n  }\n\n  function patchStyle(elemStyle, style, newStyle) {\n      if (style === newStyle) {\n          return;\n      }\n      if (!newStyle && style) {\n          removeStyle(elemStyle, style);\n          return;\n      } else if (newStyle && !style) {\n          setStyle(elemStyle, newStyle);\n          return;\n      }\n\n      for (var key in style) {\n          if (newStyle.hasOwnProperty(key)) {\n              if (newStyle[key] !== style[key]) {\n                  setStyleValue(elemStyle, key, newStyle[key]);\n              }\n          } else {\n              elemStyle[key] = '';\n          }\n      }\n      for (var key in newStyle) {\n          if (!style.hasOwnProperty(key)) {\n              setStyleValue(elemStyle, key, newStyle[key]);\n          }\n      }\n  }\n\n  /**\r\n   * CSS properties which accept numbers but are not in units of \"px\".\r\n   */\n  var isUnitlessNumber = {\n      animationIterationCount: 1,\n      borderImageOutset: 1,\n      borderImageSlice: 1,\n      borderImageWidth: 1,\n      boxFlex: 1,\n      boxFlexGroup: 1,\n      boxOrdinalGroup: 1,\n      columnCount: 1,\n      flex: 1,\n      flexGrow: 1,\n      flexPositive: 1,\n      flexShrink: 1,\n      flexNegative: 1,\n      flexOrder: 1,\n      gridRow: 1,\n      gridColumn: 1,\n      fontWeight: 1,\n      lineClamp: 1,\n      lineHeight: 1,\n      opacity: 1,\n      order: 1,\n      orphans: 1,\n      tabSize: 1,\n      widows: 1,\n      zIndex: 1,\n      zoom: 1,\n\n      // SVG-related properties\n      fillOpacity: 1,\n      floodOpacity: 1,\n      stopOpacity: 1,\n      strokeDasharray: 1,\n      strokeDashoffset: 1,\n      strokeMiterlimit: 1,\n      strokeOpacity: 1,\n      strokeWidth: 1\n  };\n\n  function prefixKey(prefix, key) {\n      return prefix + key.charAt(0).toUpperCase() + key.substring(1);\n  }\n\n  var prefixes = ['Webkit', 'ms', 'Moz', 'O'];\n\n  Object.keys(isUnitlessNumber).forEach(function (prop) {\n      prefixes.forEach(function (prefix) {\n          isUnitlessNumber[prefixKey(prefix, prop)] = 1;\n      });\n  });\n\n  var RE_NUMBER = /^-?\\d+(\\.\\d+)?$/;\n  function setStyleValue(elemStyle, styleName, styleValue) {\n\n      if (!isUnitlessNumber[styleName] && RE_NUMBER.test(styleValue)) {\n          elemStyle[styleName] = styleValue + 'px';\n          return;\n      }\n\n      if (styleName === 'float') {\n          styleName = 'cssFloat';\n      }\n\n      if (styleValue == null || typeof styleValue === 'boolean') {\n          styleValue = '';\n      }\n\n      elemStyle[styleName] = styleValue;\n  }\n\n  var ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n  var ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\uB7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\n\n  var VALID_ATTRIBUTE_NAME_REGEX = new RegExp('^[' + ATTRIBUTE_NAME_START_CHAR + '][' + ATTRIBUTE_NAME_CHAR + ']*$');\n\n  var isCustomAttribute = RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\n  // will merge some data in properties below\n  var properties = {};\n\n  /**\r\n   * Mapping from normalized, camelcased property names to a configuration that\r\n   * specifies how the associated DOM property should be accessed or rendered.\r\n   */\n  var MUST_USE_PROPERTY = 0x1;\n  var HAS_BOOLEAN_VALUE = 0x4;\n  var HAS_NUMERIC_VALUE = 0x8;\n  var HAS_POSITIVE_NUMERIC_VALUE = 0x10 | 0x8;\n  var HAS_OVERLOADED_BOOLEAN_VALUE = 0x20;\n\n  // html config\n  var HTMLDOMPropertyConfig = {\n      props: {\n          /**\r\n           * Standard Properties\r\n           */\n          accept: 0,\n          acceptCharset: 0,\n          accessKey: 0,\n          action: 0,\n          allowFullScreen: HAS_BOOLEAN_VALUE,\n          allowTransparency: 0,\n          alt: 0,\n          async: HAS_BOOLEAN_VALUE,\n          autoComplete: 0,\n          autoFocus: HAS_BOOLEAN_VALUE,\n          autoPlay: HAS_BOOLEAN_VALUE,\n          capture: HAS_BOOLEAN_VALUE,\n          cellPadding: 0,\n          cellSpacing: 0,\n          charSet: 0,\n          challenge: 0,\n          checked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          cite: 0,\n          classID: 0,\n          className: 0,\n          cols: HAS_POSITIVE_NUMERIC_VALUE,\n          colSpan: 0,\n          content: 0,\n          contentEditable: 0,\n          contextMenu: 0,\n          controls: HAS_BOOLEAN_VALUE,\n          coords: 0,\n          crossOrigin: 0,\n          data: 0, // For `<object />` acts as `src`.\n          dateTime: 0,\n          'default': HAS_BOOLEAN_VALUE,\n          // not in regular react, they did it in other way\n          defaultValue: MUST_USE_PROPERTY,\n          // not in regular react, they did it in other way\n          defaultChecked: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          defer: HAS_BOOLEAN_VALUE,\n          dir: 0,\n          disabled: HAS_BOOLEAN_VALUE,\n          download: HAS_OVERLOADED_BOOLEAN_VALUE,\n          draggable: 0,\n          encType: 0,\n          form: 0,\n          formAction: 0,\n          formEncType: 0,\n          formMethod: 0,\n          formNoValidate: HAS_BOOLEAN_VALUE,\n          formTarget: 0,\n          frameBorder: 0,\n          headers: 0,\n          height: 0,\n          hidden: HAS_BOOLEAN_VALUE,\n          high: 0,\n          href: 0,\n          hrefLang: 0,\n          htmlFor: 0,\n          httpEquiv: 0,\n          icon: 0,\n          id: 0,\n          inputMode: 0,\n          integrity: 0,\n          is: 0,\n          keyParams: 0,\n          keyType: 0,\n          kind: 0,\n          label: 0,\n          lang: 0,\n          list: 0,\n          loop: HAS_BOOLEAN_VALUE,\n          low: 0,\n          manifest: 0,\n          marginHeight: 0,\n          marginWidth: 0,\n          max: 0,\n          maxLength: 0,\n          media: 0,\n          mediaGroup: 0,\n          method: 0,\n          min: 0,\n          minLength: 0,\n          // Caution; `option.selected` is not updated if `select.multiple` is\n          // disabled with `removeAttribute`.\n          multiple: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          muted: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          name: 0,\n          nonce: 0,\n          noValidate: HAS_BOOLEAN_VALUE,\n          open: HAS_BOOLEAN_VALUE,\n          optimum: 0,\n          pattern: 0,\n          placeholder: 0,\n          poster: 0,\n          preload: 0,\n          profile: 0,\n          radioGroup: 0,\n          readOnly: HAS_BOOLEAN_VALUE,\n          referrerPolicy: 0,\n          rel: 0,\n          required: HAS_BOOLEAN_VALUE,\n          reversed: HAS_BOOLEAN_VALUE,\n          role: 0,\n          rows: HAS_POSITIVE_NUMERIC_VALUE,\n          rowSpan: HAS_NUMERIC_VALUE,\n          sandbox: 0,\n          scope: 0,\n          scoped: HAS_BOOLEAN_VALUE,\n          scrolling: 0,\n          seamless: HAS_BOOLEAN_VALUE,\n          selected: MUST_USE_PROPERTY | HAS_BOOLEAN_VALUE,\n          shape: 0,\n          size: HAS_POSITIVE_NUMERIC_VALUE,\n          sizes: 0,\n          span: HAS_POSITIVE_NUMERIC_VALUE,\n          spellCheck: 0,\n          src: 0,\n          srcDoc: 0,\n          srcLang: 0,\n          srcSet: 0,\n          start: HAS_NUMERIC_VALUE,\n          step: 0,\n          style: 0,\n          summary: 0,\n          tabIndex: 0,\n          target: 0,\n          title: 0,\n          // Setting .type throws on non-<input> tags\n          type: 0,\n          useMap: 0,\n          value: MUST_USE_PROPERTY,\n          width: 0,\n          wmode: 0,\n          wrap: 0,\n\n          /**\r\n           * RDFa Properties\r\n           */\n          about: 0,\n          datatype: 0,\n          inlist: 0,\n          prefix: 0,\n          // property is also supported for OpenGraph in meta tags.\n          property: 0,\n          playsInline: HAS_BOOLEAN_VALUE,\n          resource: 0,\n          'typeof': 0,\n          vocab: 0,\n\n          /**\r\n           * Non-standard Properties\r\n           */\n          // autoCapitalize and autoCorrect are supported in Mobile Safari for\n          // keyboard hints.\n          autoCapitalize: 0,\n          autoCorrect: 0,\n          // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n          autoSave: 0,\n          // color is for Safari mask-icon link\n          color: 0,\n          // itemProp, itemScope, itemType are for\n          // Microdata support. See http://schema.org/docs/gs.html\n          itemProp: 0,\n          itemScope: HAS_BOOLEAN_VALUE,\n          itemType: 0,\n          // itemID and itemRef are for Microdata support as well but\n          // only specified in the WHATWG spec document. See\n          // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n          itemID: 0,\n          itemRef: 0,\n          // results show looking glass icon and recent searches on input\n          // search fields in WebKit/Blink\n          results: 0,\n          // IE-only attribute that specifies security restrictions on an iframe\n          // as an alternative to the sandbox attribute on IE<10\n          security: 0,\n          // IE-only attribute that controls focus behavior\n          unselectable: 0\n      },\n      attrNS: {},\n      domAttrs: {\n          acceptCharset: 'accept-charset',\n          className: 'class',\n          htmlFor: 'for',\n          httpEquiv: 'http-equiv'\n      },\n      domProps: {}\n  };\n\n  // svg config\n  var xlink = 'http://www.w3.org/1999/xlink';\n  var xml = 'http://www.w3.org/XML/1998/namespace';\n\n  // We use attributes for everything SVG so let's avoid some duplication and run\n  // code instead.\n  // The following are all specified in the HTML config already so we exclude here.\n  // - class (as className)\n  // - color\n  // - height\n  // - id\n  // - lang\n  // - max\n  // - media\n  // - method\n  // - min\n  // - name\n  // - style\n  // - target\n  // - type\n  // - width\n  var ATTRS = {\n      accentHeight: 'accent-height',\n      accumulate: 0,\n      additive: 0,\n      alignmentBaseline: 'alignment-baseline',\n      allowReorder: 'allowReorder',\n      alphabetic: 0,\n      amplitude: 0,\n      arabicForm: 'arabic-form',\n      ascent: 0,\n      attributeName: 'attributeName',\n      attributeType: 'attributeType',\n      autoReverse: 'autoReverse',\n      azimuth: 0,\n      baseFrequency: 'baseFrequency',\n      baseProfile: 'baseProfile',\n      baselineShift: 'baseline-shift',\n      bbox: 0,\n      begin: 0,\n      bias: 0,\n      by: 0,\n      calcMode: 'calcMode',\n      capHeight: 'cap-height',\n      clip: 0,\n      clipPath: 'clip-path',\n      clipRule: 'clip-rule',\n      clipPathUnits: 'clipPathUnits',\n      colorInterpolation: 'color-interpolation',\n      colorInterpolationFilters: 'color-interpolation-filters',\n      colorProfile: 'color-profile',\n      colorRendering: 'color-rendering',\n      contentScriptType: 'contentScriptType',\n      contentStyleType: 'contentStyleType',\n      cursor: 0,\n      cx: 0,\n      cy: 0,\n      d: 0,\n      decelerate: 0,\n      descent: 0,\n      diffuseConstant: 'diffuseConstant',\n      direction: 0,\n      display: 0,\n      divisor: 0,\n      dominantBaseline: 'dominant-baseline',\n      dur: 0,\n      dx: 0,\n      dy: 0,\n      edgeMode: 'edgeMode',\n      elevation: 0,\n      enableBackground: 'enable-background',\n      end: 0,\n      exponent: 0,\n      externalResourcesRequired: 'externalResourcesRequired',\n      fill: 0,\n      fillOpacity: 'fill-opacity',\n      fillRule: 'fill-rule',\n      filter: 0,\n      filterRes: 'filterRes',\n      filterUnits: 'filterUnits',\n      floodColor: 'flood-color',\n      floodOpacity: 'flood-opacity',\n      focusable: 0,\n      fontFamily: 'font-family',\n      fontSize: 'font-size',\n      fontSizeAdjust: 'font-size-adjust',\n      fontStretch: 'font-stretch',\n      fontStyle: 'font-style',\n      fontVariant: 'font-variant',\n      fontWeight: 'font-weight',\n      format: 0,\n      from: 0,\n      fx: 0,\n      fy: 0,\n      g1: 0,\n      g2: 0,\n      glyphName: 'glyph-name',\n      glyphOrientationHorizontal: 'glyph-orientation-horizontal',\n      glyphOrientationVertical: 'glyph-orientation-vertical',\n      glyphRef: 'glyphRef',\n      gradientTransform: 'gradientTransform',\n      gradientUnits: 'gradientUnits',\n      hanging: 0,\n      horizAdvX: 'horiz-adv-x',\n      horizOriginX: 'horiz-origin-x',\n      ideographic: 0,\n      imageRendering: 'image-rendering',\n      'in': 0,\n      in2: 0,\n      intercept: 0,\n      k: 0,\n      k1: 0,\n      k2: 0,\n      k3: 0,\n      k4: 0,\n      kernelMatrix: 'kernelMatrix',\n      kernelUnitLength: 'kernelUnitLength',\n      kerning: 0,\n      keyPoints: 'keyPoints',\n      keySplines: 'keySplines',\n      keyTimes: 'keyTimes',\n      lengthAdjust: 'lengthAdjust',\n      letterSpacing: 'letter-spacing',\n      lightingColor: 'lighting-color',\n      limitingConeAngle: 'limitingConeAngle',\n      local: 0,\n      markerEnd: 'marker-end',\n      markerMid: 'marker-mid',\n      markerStart: 'marker-start',\n      markerHeight: 'markerHeight',\n      markerUnits: 'markerUnits',\n      markerWidth: 'markerWidth',\n      mask: 0,\n      maskContentUnits: 'maskContentUnits',\n      maskUnits: 'maskUnits',\n      mathematical: 0,\n      mode: 0,\n      numOctaves: 'numOctaves',\n      offset: 0,\n      opacity: 0,\n      operator: 0,\n      order: 0,\n      orient: 0,\n      orientation: 0,\n      origin: 0,\n      overflow: 0,\n      overlinePosition: 'overline-position',\n      overlineThickness: 'overline-thickness',\n      paintOrder: 'paint-order',\n      panose1: 'panose-1',\n      pathLength: 'pathLength',\n      patternContentUnits: 'patternContentUnits',\n      patternTransform: 'patternTransform',\n      patternUnits: 'patternUnits',\n      pointerEvents: 'pointer-events',\n      points: 0,\n      pointsAtX: 'pointsAtX',\n      pointsAtY: 'pointsAtY',\n      pointsAtZ: 'pointsAtZ',\n      preserveAlpha: 'preserveAlpha',\n      preserveAspectRatio: 'preserveAspectRatio',\n      primitiveUnits: 'primitiveUnits',\n      r: 0,\n      radius: 0,\n      refX: 'refX',\n      refY: 'refY',\n      renderingIntent: 'rendering-intent',\n      repeatCount: 'repeatCount',\n      repeatDur: 'repeatDur',\n      requiredExtensions: 'requiredExtensions',\n      requiredFeatures: 'requiredFeatures',\n      restart: 0,\n      result: 0,\n      rotate: 0,\n      rx: 0,\n      ry: 0,\n      scale: 0,\n      seed: 0,\n      shapeRendering: 'shape-rendering',\n      slope: 0,\n      spacing: 0,\n      specularConstant: 'specularConstant',\n      specularExponent: 'specularExponent',\n      speed: 0,\n      spreadMethod: 'spreadMethod',\n      startOffset: 'startOffset',\n      stdDeviation: 'stdDeviation',\n      stemh: 0,\n      stemv: 0,\n      stitchTiles: 'stitchTiles',\n      stopColor: 'stop-color',\n      stopOpacity: 'stop-opacity',\n      strikethroughPosition: 'strikethrough-position',\n      strikethroughThickness: 'strikethrough-thickness',\n      string: 0,\n      stroke: 0,\n      strokeDasharray: 'stroke-dasharray',\n      strokeDashoffset: 'stroke-dashoffset',\n      strokeLinecap: 'stroke-linecap',\n      strokeLinejoin: 'stroke-linejoin',\n      strokeMiterlimit: 'stroke-miterlimit',\n      strokeOpacity: 'stroke-opacity',\n      strokeWidth: 'stroke-width',\n      surfaceScale: 'surfaceScale',\n      systemLanguage: 'systemLanguage',\n      tableValues: 'tableValues',\n      targetX: 'targetX',\n      targetY: 'targetY',\n      textAnchor: 'text-anchor',\n      textDecoration: 'text-decoration',\n      textRendering: 'text-rendering',\n      textLength: 'textLength',\n      to: 0,\n      transform: 0,\n      u1: 0,\n      u2: 0,\n      underlinePosition: 'underline-position',\n      underlineThickness: 'underline-thickness',\n      unicode: 0,\n      unicodeBidi: 'unicode-bidi',\n      unicodeRange: 'unicode-range',\n      unitsPerEm: 'units-per-em',\n      vAlphabetic: 'v-alphabetic',\n      vHanging: 'v-hanging',\n      vIdeographic: 'v-ideographic',\n      vMathematical: 'v-mathematical',\n      values: 0,\n      vectorEffect: 'vector-effect',\n      version: 0,\n      vertAdvY: 'vert-adv-y',\n      vertOriginX: 'vert-origin-x',\n      vertOriginY: 'vert-origin-y',\n      viewBox: 'viewBox',\n      viewTarget: 'viewTarget',\n      visibility: 0,\n      widths: 0,\n      wordSpacing: 'word-spacing',\n      writingMode: 'writing-mode',\n      x: 0,\n      xHeight: 'x-height',\n      x1: 0,\n      x2: 0,\n      xChannelSelector: 'xChannelSelector',\n      xlinkActuate: 'xlink:actuate',\n      xlinkArcrole: 'xlink:arcrole',\n      xlinkHref: 'xlink:href',\n      xlinkRole: 'xlink:role',\n      xlinkShow: 'xlink:show',\n      xlinkTitle: 'xlink:title',\n      xlinkType: 'xlink:type',\n      xmlBase: 'xml:base',\n      xmlns: 0,\n      xmlnsXlink: 'xmlns:xlink',\n      xmlLang: 'xml:lang',\n      xmlSpace: 'xml:space',\n      y: 0,\n      y1: 0,\n      y2: 0,\n      yChannelSelector: 'yChannelSelector',\n      z: 0,\n      zoomAndPan: 'zoomAndPan'\n  };\n\n  var SVGDOMPropertyConfig = {\n      props: {},\n      attrNS: {\n          xlinkActuate: xlink,\n          xlinkArcrole: xlink,\n          xlinkHref: xlink,\n          xlinkRole: xlink,\n          xlinkShow: xlink,\n          xlinkTitle: xlink,\n          xlinkType: xlink,\n          xmlBase: xml,\n          xmlLang: xml,\n          xmlSpace: xml\n      },\n      domAttrs: {},\n      domProps: {}\n  };\n\n  Object.keys(ATTRS).map(function (key) {\n      SVGDOMPropertyConfig.props[key] = 0;\n      if (ATTRS[key]) {\n          SVGDOMPropertyConfig.domAttrs[key] = ATTRS[key];\n      }\n  });\n\n  // merge html and svg config into properties\n  mergeConfigToProperties(HTMLDOMPropertyConfig);\n  mergeConfigToProperties(SVGDOMPropertyConfig);\n\n  function mergeConfigToProperties(config) {\n      var\n      // all react/react-lite supporting property names in here\n      props = config.props;\n      var\n      // attributes namespace in here\n      attrNS = config.attrNS;\n      var\n      // propName in props which should use to be dom-attribute in here\n      domAttrs = config.domAttrs;\n      var\n      // propName in props which should use to be dom-property in here\n      domProps = config.domProps;\n\n      for (var propName in props) {\n          if (!props.hasOwnProperty(propName)) {\n              continue;\n          }\n          var propConfig = props[propName];\n          properties[propName] = {\n              attributeName: domAttrs.hasOwnProperty(propName) ? domAttrs[propName] : propName.toLowerCase(),\n              propertyName: domProps.hasOwnProperty(propName) ? domProps[propName] : propName,\n              attributeNamespace: attrNS.hasOwnProperty(propName) ? attrNS[propName] : null,\n              mustUseProperty: checkMask(propConfig, MUST_USE_PROPERTY),\n              hasBooleanValue: checkMask(propConfig, HAS_BOOLEAN_VALUE),\n              hasNumericValue: checkMask(propConfig, HAS_NUMERIC_VALUE),\n              hasPositiveNumericValue: checkMask(propConfig, HAS_POSITIVE_NUMERIC_VALUE),\n              hasOverloadedBooleanValue: checkMask(propConfig, HAS_OVERLOADED_BOOLEAN_VALUE)\n          };\n      }\n  }\n\n  function checkMask(value, bitmask) {\n      return (value & bitmask) === bitmask;\n  }\n\n  /**\r\n   * Sets the value for a property on a node.\r\n   *\r\n   * @param {DOMElement} node\r\n   * @param {string} name\r\n   * @param {*} value\r\n   */\n\n  function setPropValue(node, name, value) {\n      var propInfo = properties.hasOwnProperty(name) && properties[name];\n      if (propInfo) {\n          // should delete value from dom\n          if (value == null || propInfo.hasBooleanValue && !value || propInfo.hasNumericValue && isNaN(value) || propInfo.hasPositiveNumericValue && value < 1 || propInfo.hasOverloadedBooleanValue && value === false) {\n              removePropValue(node, name);\n          } else if (propInfo.mustUseProperty) {\n              node[propInfo.propertyName] = value;\n          } else {\n              var attributeName = propInfo.attributeName;\n              var namespace = propInfo.attributeNamespace;\n\n              // `setAttribute` with objects becomes only `[object]` in IE8/9,\n              // ('' + value) makes it output the correct toString()-value.\n              if (namespace) {\n                  node.setAttributeNS(namespace, attributeName, '' + value);\n              } else if (propInfo.hasBooleanValue || propInfo.hasOverloadedBooleanValue && value === true) {\n                  node.setAttribute(attributeName, '');\n              } else {\n                  node.setAttribute(attributeName, '' + value);\n              }\n          }\n      } else if (isCustomAttribute(name) && VALID_ATTRIBUTE_NAME_REGEX.test(name)) {\n          if (value == null) {\n              node.removeAttribute(name);\n          } else {\n              node.setAttribute(name, '' + value);\n          }\n      }\n  }\n\n  /**\r\n   * Deletes the value for a property on a node.\r\n   *\r\n   * @param {DOMElement} node\r\n   * @param {string} name\r\n   */\n\n  function removePropValue(node, name) {\n      var propInfo = properties.hasOwnProperty(name) && properties[name];\n      if (propInfo) {\n          if (propInfo.mustUseProperty) {\n              var propName = propInfo.propertyName;\n              if (propInfo.hasBooleanValue) {\n                  node[propName] = false;\n              } else {\n                  node[propName] = '';\n              }\n          } else {\n              node.removeAttribute(propInfo.attributeName);\n          }\n      } else if (isCustomAttribute(name)) {\n          node.removeAttribute(name);\n      }\n  }\n\n  function updateSelectOptions(select, multiple, propValue) {\n      var selectedValue, i;\n      var options = select.options;\n\n      if (multiple) {\n          select.multiple = true;\n          if (!Array.isArray(propValue)) {\n              throw new Error('The value prop supplied to <select> must be an array if `multiple` is true');\n          }\n          selectedValue = {};\n          for (i = 0; i < propValue.length; i++) {\n              selectedValue['' + propValue[i]] = true;\n          }\n          for (i = 0; i < options.length; i++) {\n              var selected = selectedValue.hasOwnProperty(options[i].value);\n              if (options[i].selected !== selected) {\n                  options[i].selected = selected;\n              }\n          }\n      } else {\n          select.multiple = false;\n          if (Array.isArray(propValue)) {\n              throw new Error('The value prop supplied to <select> must be a scalar value if `multiple` is false.');\n          }\n          // Do not set `select.value` as exact behavior isn't consistent across all\n          // browsers for all cases.\n          selectedValue = '' + propValue;\n          for (i = 0; i < options.length; i++) {\n              var option = options[i];\n              if (option.value === selectedValue) {\n                  if (!option.selected) {\n                      option.selected = true;\n                  }\n              } else {\n                  if (option.selected) {\n                      option.selected = false;\n                  }\n              }\n          }\n\n          if (options.selectedIndex < 0 && options.length) {\n              options[0].selected = true;\n          }\n      }\n  }\n\n  function isFn(obj) {\n      return typeof obj === 'function';\n  }\n\n  var isArr = Array.isArray;\n\n  function noop() {}\n\n  function identity(obj) {\n      return obj;\n  }\n\n  function pipe(fn1, fn2) {\n      return function () {\n          fn1.apply(this, arguments);\n          return fn2.apply(this, arguments);\n      };\n  }\n\n  function addItem(list, item) {\n      list[list.length] = item;\n  }\n\n  function flatEach(list, iteratee, a) {\n      var len = list.length;\n      var i = -1;\n\n      while (len--) {\n          var item = list[++i];\n          if (isArr(item)) {\n              flatEach(item, iteratee, a);\n          } else {\n              iteratee(item, a);\n          }\n      }\n  }\n\n  function extend(to, from) {\n      if (!from) {\n          return to;\n      }\n      var keys = Object.keys(from);\n      var i = keys.length;\n      while (i--) {\n          to[keys[i]] = from[keys[i]];\n      }\n      return to;\n  }\n\n  var uid = 0;\n\n  function getUid() {\n      return ++uid;\n  }\n\n  var EVENT_KEYS = /^on/i;\n\n  function setProp(elem, key, value, isCustomComponent) {\n      if (EVENT_KEYS.test(key)) {\n          addEvent(elem, key, value);\n      } else if (key === 'style') {\n          setStyle(elem.style, value);\n      } else if (key === HTML_KEY) {\n          if (value && value.__html != null) {\n              elem.innerHTML = value.__html;\n          }\n      } else if (isCustomComponent) {\n          if (value == null) {\n              elem.removeAttribute(key);\n          } else {\n              elem.setAttribute(key, '' + value);\n          }\n      } else {\n          setPropValue(elem, key, value);\n      }\n  }\n\n  function removeProp(elem, key, oldValue, isCustomComponent) {\n      if (EVENT_KEYS.test(key)) {\n          removeEvent(elem, key);\n      } else if (key === 'style') {\n          removeStyle(elem.style, oldValue);\n      } else if (key === HTML_KEY) {\n          elem.innerHTML = '';\n      } else if (isCustomComponent) {\n          elem.removeAttribute(key);\n      } else {\n          removePropValue(elem, key);\n      }\n  }\n\n  function patchProp(elem, key, value, oldValue, isCustomComponent) {\n      if (key === 'value' || key === 'checked') {\n          oldValue = elem[key];\n      }\n      if (value === oldValue) {\n          return;\n      }\n      if (value === undefined) {\n          removeProp(elem, key, oldValue, isCustomComponent);\n          return;\n      }\n      if (key === 'style') {\n          patchStyle(elem.style, oldValue, value);\n      } else {\n          setProp(elem, key, value, isCustomComponent);\n      }\n  }\n\n  function setProps(elem, props, isCustomComponent) {\n      var isSelect = elem.nodeName === 'SELECT';\n      for (var key in props) {\n          if (key !== 'children') {\n              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                  updateSelectOptions(elem, props.multiple, props[key]);\n              } else {\n                  setProp(elem, key, props[key], isCustomComponent);\n              }\n          }\n      }\n  }\n\n  function patchProps(elem, props, newProps, isCustomComponent) {\n      var isSelect = elem.nodeName === 'SELECT';\n      for (var key in props) {\n          if (key !== 'children') {\n              if (newProps.hasOwnProperty(key)) {\n                  if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                      updateSelectOptions(elem, newProps.multiple, newProps[key]);\n                  } else {\n                      patchProp(elem, key, newProps[key], props[key], isCustomComponent);\n                  }\n              } else {\n                  removeProp(elem, key, props[key], isCustomComponent);\n              }\n          }\n      }\n      for (var key in newProps) {\n          if (key !== 'children' && !props.hasOwnProperty(key)) {\n              if (isSelect && (key === 'value' || key === 'defaultValue')) {\n                  updateSelectOptions(elem, newProps.multiple, newProps[key]);\n              } else {\n                  setProp(elem, key, newProps[key], isCustomComponent);\n              }\n          }\n      }\n  }\n\n  if (!Object.freeze) {\n      Object.freeze = identity;\n  }\n\n  function isValidContainer(node) {\n  \treturn !!(node && (node.nodeType === ELEMENT_NODE_TYPE || node.nodeType === DOC_NODE_TYPE || node.nodeType === DOCUMENT_FRAGMENT_NODE_TYPE));\n  }\n\n  var pendingRendering = {};\n  var vnodeStore = {};\n  function renderTreeIntoContainer(vnode, container, callback, parentContext) {\n  \tif (!vnode.vtype) {\n  \t\tthrow new Error('cannot render ' + vnode + ' to container');\n  \t}\n  \tif (!isValidContainer(container)) {\n  \t\tthrow new Error('container ' + container + ' is not a DOM element');\n  \t}\n  \tvar id = container[COMPONENT_ID] || (container[COMPONENT_ID] = getUid());\n  \tvar argsCache = pendingRendering[id];\n\n  \t// component lify cycle method maybe call root rendering\n  \t// should bundle them and render by only one time\n  \tif (argsCache) {\n  \t\tif (argsCache === true) {\n  \t\t\tpendingRendering[id] = argsCache = { vnode: vnode, callback: callback, parentContext: parentContext };\n  \t\t} else {\n  \t\t\targsCache.vnode = vnode;\n  \t\t\targsCache.parentContext = parentContext;\n  \t\t\targsCache.callback = argsCache.callback ? pipe(argsCache.callback, callback) : callback;\n  \t\t}\n  \t\treturn;\n  \t}\n\n  \tpendingRendering[id] = true;\n  \tvar oldVnode = null;\n  \tvar rootNode = null;\n  \tif (oldVnode = vnodeStore[id]) {\n  \t\trootNode = compareTwoVnodes(oldVnode, vnode, container.firstChild, parentContext);\n  \t} else {\n  \t\trootNode = initVnode(vnode, parentContext, container.namespaceURI);\n  \t\tvar childNode = null;\n  \t\twhile (childNode = container.lastChild) {\n  \t\t\tcontainer.removeChild(childNode);\n  \t\t}\n  \t\tcontainer.appendChild(rootNode);\n  \t}\n  \tvnodeStore[id] = vnode;\n  \tvar isPending = updateQueue.isPending;\n  \tupdateQueue.isPending = true;\n  \tclearPending();\n  \targsCache = pendingRendering[id];\n  \tdelete pendingRendering[id];\n\n  \tvar result = null;\n  \tif (typeof argsCache === 'object') {\n  \t\tresult = renderTreeIntoContainer(argsCache.vnode, container, argsCache.callback, argsCache.parentContext);\n  \t} else if (vnode.vtype === VELEMENT) {\n  \t\tresult = rootNode;\n  \t} else if (vnode.vtype === VCOMPONENT) {\n  \t\tresult = rootNode.cache[vnode.uid];\n  \t}\n\n  \tif (!isPending) {\n  \t\tupdateQueue.isPending = false;\n  \t\tupdateQueue.batchUpdate();\n  \t}\n\n  \tif (callback) {\n  \t\tcallback.call(result);\n  \t}\n\n  \treturn result;\n  }\n\n  function render(vnode, container, callback) {\n  \treturn renderTreeIntoContainer(vnode, container, callback);\n  }\n\n  function unstable_renderSubtreeIntoContainer(parentComponent, subVnode, container, callback) {\n  \tvar context = parentComponent.$cache.parentContext;\n  \treturn renderTreeIntoContainer(subVnode, container, callback, context);\n  }\n\n  function unmountComponentAtNode(container) {\n  \tif (!container.nodeName) {\n  \t\tthrow new Error('expect node');\n  \t}\n  \tvar id = container[COMPONENT_ID];\n  \tvar vnode = null;\n  \tif (vnode = vnodeStore[id]) {\n  \t\tdestroyVnode(vnode, container.firstChild);\n  \t\tcontainer.removeChild(container.firstChild);\n  \t\tdelete vnodeStore[id];\n  \t\treturn true;\n  \t}\n  \treturn false;\n  }\n\n  function findDOMNode(node) {\n  \tif (node == null) {\n  \t\treturn null;\n  \t}\n  \tif (node.nodeName) {\n  \t\treturn node;\n  \t}\n  \tvar component = node;\n  \t// if component.node equal to false, component must be unmounted\n  \tif (component.getDOMNode && component.$cache.isMounted) {\n  \t\treturn component.getDOMNode();\n  \t}\n  \tthrow new Error('findDOMNode can not find Node');\n  }\n\n  var ReactDOM = Object.freeze({\n  \trender: render,\n  \tunstable_renderSubtreeIntoContainer: unstable_renderSubtreeIntoContainer,\n  \tunmountComponentAtNode: unmountComponentAtNode,\n  \tfindDOMNode: findDOMNode\n  });\n\n  function createElement(type, props, children) {\n  \tvar vtype = null;\n  \tif (typeof type === 'string') {\n  \t\tvtype = VELEMENT;\n  \t} else if (typeof type === 'function') {\n  \t\tif (type.prototype && type.prototype.isReactComponent) {\n  \t\t\tvtype = VCOMPONENT;\n  \t\t} else {\n  \t\t\tvtype = VSTATELESS;\n  \t\t}\n  \t} else {\n  \t\tthrow new Error('React.createElement: unexpect type [ ' + type + ' ]');\n  \t}\n\n  \tvar key = null;\n  \tvar ref = null;\n  \tvar finalProps = {};\n  \tif (props != null) {\n  \t\tfor (var propKey in props) {\n  \t\t\tif (!props.hasOwnProperty(propKey)) {\n  \t\t\t\tcontinue;\n  \t\t\t}\n  \t\t\tif (propKey === 'key') {\n  \t\t\t\tif (props.key !== undefined) {\n  \t\t\t\t\tkey = '' + props.key;\n  \t\t\t\t}\n  \t\t\t} else if (propKey === 'ref') {\n  \t\t\t\tif (props.ref !== undefined) {\n  \t\t\t\t\tref = props.ref;\n  \t\t\t\t}\n  \t\t\t} else {\n  \t\t\t\tfinalProps[propKey] = props[propKey];\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tvar defaultProps = type.defaultProps;\n\n  \tif (defaultProps) {\n  \t\tfor (var propKey in defaultProps) {\n  \t\t\tif (finalProps[propKey] === undefined) {\n  \t\t\t\tfinalProps[propKey] = defaultProps[propKey];\n  \t\t\t}\n  \t\t}\n  \t}\n\n  \tvar argsLen = arguments.length;\n  \tvar finalChildren = children;\n\n  \tif (argsLen > 3) {\n  \t\tfinalChildren = Array(argsLen - 2);\n  \t\tfor (var i = 2; i < argsLen; i++) {\n  \t\t\tfinalChildren[i - 2] = arguments[i];\n  \t\t}\n  \t}\n\n  \tif (finalChildren !== undefined) {\n  \t\tfinalProps.children = finalChildren;\n  \t}\n\n  \treturn createVnode(vtype, type, finalProps, key, ref);\n  }\n\n  function isValidElement(obj) {\n  \treturn obj != null && !!obj.vtype;\n  }\n\n  function cloneElement(originElem, props) {\n  \tvar type = originElem.type;\n  \tvar key = originElem.key;\n  \tvar ref = originElem.ref;\n\n  \tvar newProps = extend(extend({ key: key, ref: ref }, originElem.props), props);\n\n  \tfor (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n  \t\tchildren[_key - 2] = arguments[_key];\n  \t}\n\n  \tvar vnode = createElement.apply(undefined, [type, newProps].concat(children));\n  \tif (vnode.ref === originElem.ref) {\n  \t\tvnode.refs = originElem.refs;\n  \t}\n  \treturn vnode;\n  }\n\n  function createFactory(type) {\n  \tvar factory = function factory() {\n  \t\tfor (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n  \t\t\targs[_key2] = arguments[_key2];\n  \t\t}\n\n  \t\treturn createElement.apply(undefined, [type].concat(args));\n  \t};\n  \tfactory.type = type;\n  \treturn factory;\n  }\n\n  var tagNames = 'a|abbr|address|area|article|aside|audio|b|base|bdi|bdo|big|blockquote|body|br|button|canvas|caption|cite|code|col|colgroup|data|datalist|dd|del|details|dfn|dialog|div|dl|dt|em|embed|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|head|header|hgroup|hr|html|i|iframe|img|input|ins|kbd|keygen|label|legend|li|link|main|map|mark|menu|menuitem|meta|meter|nav|noscript|object|ol|optgroup|option|output|p|param|picture|pre|progress|q|rp|rt|ruby|s|samp|script|section|select|small|source|span|strong|style|sub|summary|sup|table|tbody|td|textarea|tfoot|th|thead|time|title|tr|track|u|ul|var|video|wbr|circle|clipPath|defs|ellipse|g|image|line|linearGradient|mask|path|pattern|polygon|polyline|radialGradient|rect|stop|svg|text|tspan';\n  var DOM = {};\n  tagNames.split('|').forEach(function (tagName) {\n  \tDOM[tagName] = createFactory(tagName);\n  });\n\n  var check = function check() {\n      return check;\n  };\n  check.isRequired = check;\n  var PropTypes = {\n      \"array\": check,\n      \"bool\": check,\n      \"func\": check,\n      \"number\": check,\n      \"object\": check,\n      \"string\": check,\n      \"any\": check,\n      \"arrayOf\": check,\n      \"element\": check,\n      \"instanceOf\": check,\n      \"node\": check,\n      \"objectOf\": check,\n      \"oneOf\": check,\n      \"oneOfType\": check,\n      \"shape\": check\n  };\n\n  function only(children) {\n  \tif (isValidElement(children)) {\n  \t\treturn children;\n  \t}\n  \tthrow new Error('expect only one child');\n  }\n\n  function forEach(children, iteratee, context) {\n  \tif (children == null) {\n  \t\treturn children;\n  \t}\n  \tvar index = 0;\n  \tif (isArr(children)) {\n  \t\tflatEach(children, function (child) {\n  \t\t\t// from traverseAllChildrenImpl in react\n  \t\t\tvar type = typeof child;\n  \t\t\tif (type === 'undefined' || type === 'boolean') {\n  \t\t\t\t// All of the above are perceived as null.\n  \t\t\t\tchild = null;\n  \t\t\t}\n\n  \t\t\titeratee.call(context, child, index++);\n  \t\t});\n  \t} else {\n  \t\t// from traverseAllChildrenImpl in react\n  \t\tvar type = typeof children;\n  \t\tif (type === 'undefined' || type === 'boolean') {\n  \t\t\t// All of the above are perceived as null.\n  \t\t\tchildren = null;\n  \t\t}\n  \t\titeratee.call(context, children, index);\n  \t}\n  }\n\n  function map(children, iteratee, context) {\n  \tif (children == null) {\n  \t\treturn children;\n  \t}\n  \tvar store = [];\n  \tvar keyMap = {};\n  \tforEach(children, function (child, index) {\n  \t\tvar data = {};\n  \t\tdata.child = iteratee.call(context, child, index) || child;\n  \t\tdata.isEqual = data.child === child;\n  \t\tvar key = data.key = getKey(child, index);\n  \t\tif (keyMap.hasOwnProperty(key)) {\n  \t\t\tkeyMap[key] += 1;\n  \t\t} else {\n  \t\t\tkeyMap[key] = 0;\n  \t\t}\n  \t\tdata.index = keyMap[key];\n  \t\taddItem(store, data);\n  \t});\n  \tvar result = [];\n  \tstore.forEach(function (_ref) {\n  \t\tvar child = _ref.child;\n  \t\tvar key = _ref.key;\n  \t\tvar index = _ref.index;\n  \t\tvar isEqual = _ref.isEqual;\n\n  \t\tif (child == null || typeof child === 'boolean') {\n  \t\t\treturn;\n  \t\t}\n  \t\tif (!isValidElement(child) || key == null) {\n  \t\t\taddItem(result, child);\n  \t\t\treturn;\n  \t\t}\n  \t\tif (keyMap[key] !== 0) {\n  \t\t\tkey += ':' + index;\n  \t\t}\n  \t\tif (!isEqual) {\n  \t\t\tkey = escapeUserProvidedKey(child.key || '') + '/' + key;\n  \t\t}\n  \t\tchild = cloneElement(child, { key: key });\n  \t\taddItem(result, child);\n  \t});\n  \treturn result;\n  }\n\n  function count(children) {\n  \tvar count = 0;\n  \tforEach(children, function () {\n  \t\tcount++;\n  \t});\n  \treturn count;\n  }\n\n  function toArray(children) {\n  \treturn map(children, identity) || [];\n  }\n\n  function getKey(child, index) {\n  \tvar key = undefined;\n  \tif (isValidElement(child) && typeof child.key === 'string') {\n  \t\tkey = '.$' + child.key;\n  \t} else {\n  \t\tkey = '.' + index.toString(36);\n  \t}\n  \treturn key;\n  }\n\n  var userProvidedKeyEscapeRegex = /\\/(?!\\/)/g;\n  function escapeUserProvidedKey(text) {\n  \treturn ('' + text).replace(userProvidedKeyEscapeRegex, '//');\n  }\n\n  var Children = Object.freeze({\n  \tonly: only,\n  \tforEach: forEach,\n  \tmap: map,\n  \tcount: count,\n  \ttoArray: toArray\n  });\n\n  function eachMixin(mixins, iteratee) {\n  \tmixins.forEach(function (mixin) {\n  \t\tif (mixin) {\n  \t\t\tif (isArr(mixin.mixins)) {\n  \t\t\t\teachMixin(mixin.mixins, iteratee);\n  \t\t\t}\n  \t\t\titeratee(mixin);\n  \t\t}\n  \t});\n  }\n\n  function combineMixinToProto(proto, mixin) {\n  \tfor (var key in mixin) {\n  \t\tif (!mixin.hasOwnProperty(key)) {\n  \t\t\tcontinue;\n  \t\t}\n  \t\tvar value = mixin[key];\n  \t\tif (key === 'getInitialState') {\n  \t\t\taddItem(proto.$getInitialStates, value);\n  \t\t\tcontinue;\n  \t\t}\n  \t\tvar curValue = proto[key];\n  \t\tif (isFn(curValue) && isFn(value)) {\n  \t\t\tproto[key] = pipe(curValue, value);\n  \t\t} else {\n  \t\t\tproto[key] = value;\n  \t\t}\n  \t}\n  }\n\n  function combineMixinToClass(Component, mixin) {\n  \tif (mixin.propTypes) {\n  \t\tComponent.propTypes = Component.propTypes || {};\n  \t\textend(Component.propTypes, mixin.propTypes);\n  \t}\n  \tif (mixin.contextTypes) {\n  \t\tComponent.contextTypes = Component.contextTypes || {};\n  \t\textend(Component.contextTypes, mixin.contextTypes);\n  \t}\n  \textend(Component, mixin.statics);\n  \tif (isFn(mixin.getDefaultProps)) {\n  \t\tComponent.defaultProps = Component.defaultProps || {};\n  \t\textend(Component.defaultProps, mixin.getDefaultProps());\n  \t}\n  }\n\n  function bindContext(obj, source) {\n  \tfor (var key in source) {\n  \t\tif (source.hasOwnProperty(key)) {\n  \t\t\tif (isFn(source[key])) {\n  \t\t\t\tobj[key] = source[key].bind(obj);\n  \t\t\t}\n  \t\t}\n  \t}\n  }\n\n  var Facade = function Facade() {};\n  Facade.prototype = Component.prototype;\n\n  function getInitialState() {\n  \tvar _this = this;\n\n  \tvar state = {};\n  \tvar setState = this.setState;\n  \tthis.setState = Facade;\n  \tthis.$getInitialStates.forEach(function (getInitialState) {\n  \t\tif (isFn(getInitialState)) {\n  \t\t\textend(state, getInitialState.call(_this));\n  \t\t}\n  \t});\n  \tthis.setState = setState;\n  \treturn state;\n  }\n  function createClass(spec) {\n  \tif (!isFn(spec.render)) {\n  \t\tthrow new Error('createClass: spec.render is not function');\n  \t}\n  \tvar specMixins = spec.mixins || [];\n  \tvar mixins = specMixins.concat(spec);\n  \tspec.mixins = null;\n  \tfunction Klass(props, context) {\n  \t\tComponent.call(this, props, context);\n  \t\tthis.constructor = Klass;\n  \t\tspec.autobind !== false && bindContext(this, Klass.prototype);\n  \t\tthis.state = this.getInitialState() || this.state;\n  \t}\n  \tKlass.displayName = spec.displayName;\n  \tvar proto = Klass.prototype = new Facade();\n  \tproto.$getInitialStates = [];\n  \teachMixin(mixins, function (mixin) {\n  \t\tcombineMixinToProto(proto, mixin);\n  \t\tcombineMixinToClass(Klass, mixin);\n  \t});\n  \tproto.getInitialState = getInitialState;\n  \tspec.mixins = specMixins;\n  \treturn Klass;\n  }\n\n  function shallowEqual(objA, objB) {\n      if (objA === objB) {\n          return true;\n      }\n\n      if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n          return false;\n      }\n\n      var keysA = Object.keys(objA);\n      var keysB = Object.keys(objB);\n\n      if (keysA.length !== keysB.length) {\n          return false;\n      }\n\n      // Test for A's keys different from B.\n      for (var i = 0; i < keysA.length; i++) {\n          if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n              return false;\n          }\n      }\n\n      return true;\n  }\n\n  function PureComponent(props, context) {\n  \tComponent.call(this, props, context);\n  }\n\n  PureComponent.prototype = Object.create(Component.prototype);\n  PureComponent.prototype.constructor = PureComponent;\n  PureComponent.prototype.isPureReactComponent = true;\n  PureComponent.prototype.shouldComponentUpdate = shallowCompare;\n\n  function shallowCompare(nextProps, nextState) {\n  \treturn !shallowEqual(this.props, nextProps) || !shallowEqual(this.state, nextState);\n  }\n\n  var React = extend({\n      version: '0.15.1',\n      cloneElement: cloneElement,\n      isValidElement: isValidElement,\n      createElement: createElement,\n      createFactory: createFactory,\n      Component: Component,\n      PureComponent: PureComponent,\n      createClass: createClass,\n      Children: Children,\n      PropTypes: PropTypes,\n      DOM: DOM\n  }, ReactDOM);\n\n  React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = ReactDOM;\n\n  return React;\n\n}));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/react-lite/dist/react-lite.js\n// module id = 3\n// module chunks = 0","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from \"cockpit\";\nimport React from \"react\";\n\nimport PackageKit from \"./packagekit.es6\";\nimport { left_click, icon_url, show_error, launch, ProgressBar, CancelButton } from \"./utils.jsx\";\n\nconst _ = cockpit.gettext;\n\nclass ApplicationRow extends React.Component {\n    constructor() {\n        super();\n        this.state = { progress: null };\n    }\n\n    render() {\n        var self = this;\n        var comp = self.props.comp;\n        var state = self.state;\n\n        function action(func, arg, progress_title) {\n            self.setState({ progress_title: progress_title });\n            func(arg, (data) => self.setState({ progress: data }))\n                    .finally(() => self.setState({ progress: null }))\n                    .catch(show_error);\n        }\n\n        function install() {\n            action(PackageKit.install, comp.pkgname, _(\"Installing\"));\n        }\n\n        function remove() {\n            action(PackageKit.remove, comp.file, _(\"Removing\"));\n        }\n\n        var name, summary_or_progress, button;\n\n        if (comp.installed) {\n            name = <a role=\"link\" tabIndex=\"0\" onClick={left_click(() => launch(comp))}>{comp.name}</a>;\n        } else {\n            name = comp.name;\n        }\n\n        if (state.progress) {\n            summary_or_progress = <ProgressBar title={state.progress_title} data={state.progress} />;\n            button = <CancelButton data={state.progress} />;\n        } else {\n            if (state.error) {\n                summary_or_progress = (\n                    <div>\n                        {comp.summary}\n                        <div className=\"alert alert-danger alert-dismissable\">\n                            <button className=\"close\"\n                                    onClick={left_click(() => { this.setState({ error: null }) })}>\n                                <span className=\"pficon pficon-close\" />\n                            </button>\n                            <span className=\"pficon pficon-error-circle-o\" />\n                            {state.error}\n                        </div>\n                    </div>\n                );\n            } else {\n                summary_or_progress = comp.summary;\n            }\n\n            if (comp.installed) {\n                button = <button className=\"btn btn-danger\" onClick={left_click(remove)}>{_(\"Remove\")}</button>;\n            } else {\n                button = <button className=\"btn btn-default\" onClick={left_click(install)}>{_(\"Install\")}</button>;\n            }\n        }\n\n        return (\n            <tr onClick={left_click(() => cockpit.location.go(comp.id))}>\n                <td><img src={icon_url(comp.icon)} role=\"presentation\" /></td>\n                <td>{name}</td>\n                <td>{summary_or_progress}</td>\n                <td>{button}</td>\n            </tr>\n        );\n    }\n}\n\nclass ApplicationList extends React.Component {\n    constructor() {\n        super();\n        this.state = { progress: false };\n    }\n\n    render() {\n        var self = this;\n        var comps = [ ];\n        for (var id in this.props.metainfo_db.components)\n            comps.push(this.props.metainfo_db.components[id]);\n        comps.sort((a, b) => a.name.localeCompare(b.name));\n\n        function refresh() {\n            var config = cockpit.manifests[\"apps\"].config || { };\n            PackageKit.refresh(self.props.metainfo_db.origin_files,\n                               config.appstream_config_packages || [ ],\n                               config.appstream_data_packages || [ ],\n                               data => self.setState({ progress: data }))\n                    .finally(() => self.setState({ progress: false }))\n                    .catch(show_error);\n        }\n\n        var refresh_progress, refresh_button, empty_caption, tbody, table_classes;\n        if (this.state.progress) {\n            refresh_progress = <ProgressBar title={_(\"Checking for new applications\")} data={this.state.progress} />;\n            refresh_button = <CancelButton data={this.state.progress} />;\n        } else {\n            refresh_progress = null;\n            refresh_button = <button className=\"btn btn-default fa fa-refresh\" onClick={left_click(refresh)} />;\n        }\n\n        table_classes = \"table app-list\";\n        if (comps.length === 0) {\n            if (this.props.metainfo_db.ready)\n                empty_caption = _(\"No applications installed or available\");\n            else\n                empty_caption = <div className=\"spinner spinner-sm\" />;\n            tbody = <tr className=\"app-list-empty\"><td>{empty_caption}</td></tr>;\n        } else {\n            table_classes += \" table-hover\";\n            tbody = comps.map(c => <ApplicationRow comp={c} key={c.id} />);\n        }\n\n        return (\n            <table className={table_classes}>\n                <caption>\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td><h2>{_(\"Applications\")}</h2></td>\n                                <td>{refresh_progress}</td>\n                                <td>{refresh_button}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </caption>\n                <tbody>\n                    { tbody }\n                </tbody>\n            </table>\n        );\n    }\n}\n\nmodule.exports = {\n    ApplicationList: ApplicationList\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/apps/application-list.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from \"cockpit\";\nimport * as PK from \"packagekit.es6\";\n\nfunction progress_reporter(base, range, callback) {\n    if (callback) {\n        return function (data) {\n            if (data.percentage >= 0)\n                data.percentage = base + data.percentage / 100 * range;\n            callback(data);\n        };\n    }\n}\n\nfunction resolve_many(method, filter, names, progress_cb) {\n    var ids = [ ];\n\n    return PK.cancellableTransaction(method, [ filter, names ], progress_cb,\n                                     {\n                                         Package: (info, package_id) => ids.push(package_id),\n                                     })\n            .then(() => ids);\n}\n\nfunction resolve(method, filter, name, progress_cb) {\n    return resolve_many(method, filter, [ name ], progress_cb)\n            .then(function (ids) {\n                if (ids.length === 0)\n                    return Promise.reject(new PK.TransactionError(\"not-found\", \"Can't resolve package\"));\n                else\n                    return ids[0];\n            });\n}\n\nfunction reload_bridge_packages() {\n    return cockpit.dbus(null, { bus: \"internal\" }).call(\"/packages\", \"cockpit.Packages\", \"Reload\", [ ]);\n}\n\nfunction install(name, progress_cb) {\n    return resolve(\"Resolve\", PK.Enum.FILTER_ARCH | PK.Enum.FILTER_NOT_SOURCE | PK.Enum.FILTER_NEWEST, name,\n                   progress_reporter(0, 1, progress_cb))\n            .then(function (pkgid) {\n                return PK.cancellableTransaction(\"InstallPackages\", [ 0, [ pkgid ] ], progress_reporter(1, 99, progress_cb))\n                        .then(reload_bridge_packages);\n            });\n}\n\nfunction remove(name, progress_cb) {\n    return resolve(\"SearchFiles\", PK.Enum.FILTER_INSTALLED, name, progress_reporter(0, 1, progress_cb))\n            .then(function (pkgid) {\n                return PK.cancellableTransaction(\"RemovePackages\", [ 0, [ pkgid ], true, false ], progress_reporter(1, 99, progress_cb))\n                        .then(reload_bridge_packages);\n            });\n}\n\nfunction refresh(origin_files, config_packages, data_packages, progress_cb) {\n    var origin_pkgs = { };\n    var update_ids = [ ];\n\n    /* In addition to refreshing the repository metadata, we also\n     * update all packages that contain AppStream collection metadata.\n     *\n     * AppStream collection metadata is arguably part of the\n     * repository metadata and should be updated during a regular\n     * refresh of the repositories.  On some distributions this is\n     * what happens, but on others (such as Fedora), the collection\n     * metadata is delivered in packages.  We find them and update\n     * them explicitly.\n     *\n     * Also, we have two explicit lists of packages, and we make sure\n     * that they are installed.  The first list contains packages that\n     * configure the system to retrieve AppStream data as part of\n     * repository metadata, and the second list contains packages that\n     * contain AppStream data themselves.\n     */\n\n    function search_origin_file_packages() {\n        return PK.cancellableTransaction(\"SearchFiles\", [ PK.Enum.FILTER_INSTALLED, origin_files ],\n                                         progress_reporter(5, 1, progress_cb),\n                                         {\n                                             Package: (info, package_id) => {\n                                                 var pkg = package_id.split(\";\")[0];\n                                                 origin_pkgs[pkg] = true;\n                                             },\n                                         });\n    }\n\n    function refresh_cache() {\n        return PK.cancellableTransaction(\"RefreshCache\", [ true ], progress_reporter(6, 69, progress_cb));\n    }\n\n    function maybe_update_origin_file_packages() {\n        return PK.cancellableTransaction(\"GetUpdates\", [ 0 ], progress_reporter(75, 5, progress_cb),\n                                         {\n                                             Package: (info, package_id) => {\n                                                 let pkg = package_id.split(\";\")[0];\n                                                 if (pkg in origin_pkgs)\n                                                     update_ids.push(package_id);\n                                             },\n                                         })\n                .then(function () {\n                    if (update_ids.length > 0)\n                        return PK.cancellableTransaction(\"UpdatePackages\", [ 0, update_ids ],\n                                                         progress_reporter(80, 15, progress_cb));\n                });\n    }\n\n    function ensure_packages(pkgs, start_progress) {\n        if (pkgs.length > 0) {\n            return resolve_many(\"Resolve\",\n                                PK.Enum.FILTER_ARCH | PK.Enum.FILTER_NOT_SOURCE | PK.Enum.FILTER_NEWEST | PK.Enum.FILTER_NOT_INSTALLED,\n                                pkgs, progress_reporter(start_progress, 1, progress_cb))\n                    .then(function (ids) {\n                        if (ids.length > 0) {\n                            return PK.cancellableTransaction(\"InstallPackages\", [ 0, ids ],\n                                                             progress_reporter(start_progress + 1, 4, progress_cb))\n                                    .catch(ex => {\n                                        if (ex.code != PK.Enum.ERROR_ALREADY_INSTALLED)\n                                            return Promise.reject(ex);\n                                    });\n                        }\n                    });\n        } else {\n            return Promise.resolve();\n        }\n    }\n\n    return ensure_packages(config_packages, 0)\n            .then(search_origin_file_packages)\n            .then(refresh_cache)\n            .then(maybe_update_origin_file_packages)\n            .then(() => ensure_packages(data_packages, 95));\n}\n\nmodule.exports = {\n    install: install,\n    remove: remove,\n    refresh: refresh\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/apps/packagekit.es6","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017, 2018 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from \"cockpit\";\n\nconst _ = cockpit.gettext;\n\n// see https://github.com/hughsie/PackageKit/blob/master/lib/packagekit-glib2/pk-enum.h\nexport const Enum = {\n    EXIT_SUCCESS: 1,\n    EXIT_FAILED: 2,\n    EXIT_CANCELLED: 3,\n    ROLE_REFRESH_CACHE: 13,\n    ROLE_UPDATE_PACKAGES: 22,\n    INFO_UNKNOWN: -1,\n    INFO_LOW: 3,\n    INFO_ENHANCEMENT: 4,\n    INFO_NORMAL: 5,\n    INFO_BUGFIX: 6,\n    INFO_IMPORTANT: 7,\n    INFO_SECURITY: 8,\n    INFO_DOWNLOADING: 10,\n    INFO_UPDATING: 11,\n    INFO_INSTALLING: 12,\n    INFO_REMOVING: 13,\n    INFO_REINSTALLING: 19,\n    INFO_DOWNGRADING: 20,\n    STATUS_WAIT: 1,\n    STATUS_DOWNLOAD: 8,\n    STATUS_INSTALL: 9,\n    STATUS_UPDATE: 10,\n    STATUS_CLEANUP: 11,\n    STATUS_SIGCHECK: 14,\n    STATUS_WAITING_FOR_LOCK: 30,\n    FILTER_INSTALLED: (1 << 2),\n    FILTER_NOT_INSTALLED: (1 << 3),\n    FILTER_NEWEST: (1 << 16),\n    FILTER_ARCH: (1 << 18),\n    FILTER_NOT_SOURCE: (1 << 21),\n    ERROR_ALREADY_INSTALLED: 9,\n    TRANSACTION_FLAG_SIMULATE: (1 << 2),\n};\n\nexport const transactionInterface = \"org.freedesktop.PackageKit.Transaction\";\n\nvar _dbus_client = null;\n\n/**\n * Get PackageKit D-Bus client\n *\n * This will get lazily initialized and re-initialized after PackageKit\n * disconnects (due to a crash or idle timeout).\n */\nfunction dbus_client() {\n    if (_dbus_client === null) {\n        _dbus_client = cockpit.dbus(\"org.freedesktop.PackageKit\", { superuser: \"try\", \"track\": true });\n        _dbus_client.addEventListener(\"close\", () => {\n            console.log(\"PackageKit went away from D-Bus\");\n            _dbus_client = null;\n        });\n    }\n\n    return _dbus_client;\n}\n\n/**\n * Call a PackageKit method\n */\nexport function call(objectPath, iface, method, args, opts) {\n    return dbus_client().call(objectPath, iface, method, args, opts);\n}\n\n/**\n * Figure out whether PackageKit is available\n */\nexport function detect() {\n    return call(\"/org/freedesktop/PackageKit\", \"org.freedesktop.DBus.Properties\",\n                \"Get\", [ \"org.freedesktop.PackageKit\", \"VersionMajor\" ])\n            .then(() => true,\n                  () => false);\n}\n\n/**\n * Watch a running PackageKit transaction\n *\n * transactionPath (string): D-Bus object path of the PackageKit transaction\n * signalHandlers, notifyHandler: As in method #transaction\n * Returns: If notifyHandler is set, Cockpit promise that resolves when the watch got set up\n */\nexport function watchTransaction(transactionPath, signalHandlers, notifyHandler) {\n    var subscriptions = [];\n    var notifyReturn;\n    var client = dbus_client();\n\n    // Listen for PackageKit crashes while the transaction runs\n    function onClose(event, ex) {\n        console.warn(\"PackageKit went away during transaction\", transactionPath, \":\", JSON.stringify(ex));\n        if (signalHandlers.ErrorCode)\n            signalHandlers.ErrorCode(\"close\", _(\"PackageKit crashed\"));\n        if (signalHandlers.Finished)\n            signalHandlers.Finished(Enum.EXIT_FAILED);\n    }\n    client.addEventListener(\"close\", onClose);\n\n    if (signalHandlers) {\n        Object.keys(signalHandlers).forEach(handler => subscriptions.push(\n            client.subscribe({ interface: transactionInterface, path: transactionPath, member: handler },\n                             (path, iface, signal, args) => signalHandlers[handler](...args)))\n        );\n    }\n\n    if (notifyHandler) {\n        notifyReturn = client.watch(transactionPath);\n        subscriptions.push(notifyReturn);\n        client.addEventListener(\"notify\", reply => {\n            if (transactionPath in reply.detail && transactionInterface in reply.detail[transactionPath])\n                notifyHandler(reply.detail[transactionPath][transactionInterface], transactionPath);\n        });\n    }\n\n    // unsubscribe when transaction finished\n    subscriptions.push(client.subscribe(\n        { interface: transactionInterface, path: transactionPath, member: \"Finished\" },\n        () => {\n            subscriptions.map(s => s.remove());\n            client.removeEventListener(\"close\", onClose);\n        })\n    );\n\n    return notifyReturn;\n}\n\n/**\n * Run a PackageKit transaction\n *\n * method (string): D-Bus method name on the https://www.freedesktop.org/software/PackageKit/gtk-doc/Transaction.html interface\n *                  If undefined, only a transaction will be created without calling a method on it\n * arglist (array): \"in\" arguments of @method\n * signalHandlers (object): maps PackageKit.Transaction signal names to handlers\n * notifyHandler (function): handler for https://cockpit-project.org/guide/latest/cockpit-dbus.html#cockpit-dbus-onnotify\n *                           signals, called on property changes with (changed_properties, transaction_path)\n * Returns: Promise that resolves with transaction path on success, or rejects on an error\n *\n * Note that most often you don't really need the transaction path, but want to\n * listen to the \"Finished\" signal.\n *\n * Example:\n *     transaction(\"GetUpdates\", [0], {\n *             Package: (info, packageId, _summary) => { ... },\n *             ErrorCode: (code, details) => { ... },\n *         },\n *         changedProps => { ... }  // notify handler\n *     )\n *        .then(transactionPath => { ... })\n *        .catch(ex => { handle exception });\n */\nexport function transaction(method, arglist, signalHandlers, notifyHandler) {\n    return new Promise((resolve, reject) => {\n        call(\"/org/freedesktop/PackageKit\", \"org.freedesktop.PackageKit\", \"CreateTransaction\", [])\n                .done(result => {\n                    let transactionPath = result[0];\n                    let watchPromise;\n                    if (signalHandlers || notifyHandler)\n                        watchPromise = watchTransaction(transactionPath, signalHandlers, notifyHandler);\n                    if (!watchPromise)\n                        watchPromise = cockpit.resolve();\n\n                    watchPromise\n                            .done(() => {\n                                if (method) {\n                                    call(transactionPath, transactionInterface, method, arglist)\n                                            .done(() => resolve(transactionPath))\n                                            .fail(reject);\n                                } else {\n                                    resolve(transactionPath);\n                                }\n                            })\n                            .fail(reject);\n                })\n                .fail(reject);\n    });\n}\n\nexport class TransactionError extends Error {\n    constructor(code, detail) {\n        super(detail);\n        this.detail = detail;\n        this.code = code;\n    }\n}\n\n/**\n * Run a long cancellable PackageKit transaction\n *\n * method (string): D-Bus method name on the https://www.freedesktop.org/software/PackageKit/gtk-doc/Transaction.html interface\n * arglist (array): \"in\" arguments of @method\n * progress_cb: Callback that receives a {waiting, percentage, cancel} object regularly; if cancel is not null, it can\n *              be called to cancel the current transaction. if wait is true, PackageKit is waiting for its lock (i. e.\n *              on another package operation)\n * signalHandlers, notifyHandler: As in method #transaction, but ErrorCode and Finished are handled internally\n * Returns: Promise that resolves when the transaction finished successfully, or rejects with TransactionError\n *          on failure.\n */\nexport function cancellableTransaction(method, arglist, progress_cb, signalHandlers) {\n    if (signalHandlers && (signalHandlers.ErrorCode || signalHandlers.Finished))\n        throw Error(\"cancellableTransaction handles ErrorCode and Finished signals internally\");\n\n    return new Promise((resolve, reject) => {\n        let cancelled = false;\n        let status;\n        let allow_wait_status = false;\n        let progress_data = {\n            waiting: false,\n            percentage: 0,\n            cancel: null\n        };\n\n        function changed(props, transaction_path) {\n            function cancel() {\n                call(transaction_path, transactionInterface, \"Cancel\", []);\n                cancelled = true;\n            }\n\n            if (progress_cb) {\n                if (\"Status\" in props)\n                    status = props.Status;\n                progress_data.waiting = allow_wait_status && (status === Enum.STATUS_WAIT || status === Enum.STATUS_WAITING_FOR_LOCK);\n                if (\"Percentage\" in props && props.Percentage <= 100)\n                    progress_data.percentage = props.Percentage;\n                if (\"AllowCancel\" in props)\n                    progress_data.cancel = props.AllowCancel ? cancel : null;\n\n                progress_cb(progress_data);\n            }\n        }\n\n        // We ignore STATUS_WAIT and friends during the first second of a transaction.  They\n        // are always reported briefly even when a transaction doesn't really need to wait.\n        window.setTimeout(() => {\n            allow_wait_status = true;\n            changed({});\n        }, 1000);\n\n        transaction(method, arglist,\n                    Object.assign({\n                        // avoid calling progress_cb after ending the transaction, to avoid flickering cancel buttons\n                        ErrorCode: (code, detail) => {\n                            progress_cb = null;\n                            reject(new TransactionError(cancelled ? \"cancelled\" : code, detail));\n                        },\n                        Finished: (exit, runtime) => {\n                            progress_cb = null;\n                            resolve(exit);\n                        },\n                    }, signalHandlers || {}),\n                    changed)\n                .catch(ex => {\n                    progress_cb = null;\n                    reject(ex);\n                });\n    });\n}\n\n/**\n * Get appropriate icon classes for an update severity\n *\n * info: An Enum.INFO_* level\n * secSeverity: If given, further classification of the severity of Enum.INFO_SECURITY from the vendor_urls;\n *              e. g. \"critical\", see https://access.redhat.com/security/updates/classification\n * Returns: Icon classes; put them into <span class=\"returnvalue\">&nbsp;</span>\n *\n */\nexport function getSeverityIcon(info, secSeverity) {\n    if (info == Enum.INFO_SECURITY)\n        return \"pficon pficon-security\" + (secSeverity ? \" severity-\" + secSeverity : \"\");\n    else if (info >= Enum.INFO_NORMAL)\n        return \"fa fa-bug\";\n    else\n        return \"pficon pficon-enhancement\";\n}\n\n// possible Red Hat subscription manager status values:\n// https://github.com/candlepin/subscription-manager/blob/30c3b52320c3e73ebd7435b4fc8b0b6319985d19/src/rhsm_icon/rhsm_icon.c#L98\n// we accept RHSM_VALID(0), RHN_CLASSIC(3), and RHSM_PARTIALLY_VALID(4)\nconst validSubscriptionStates = [0, 3, 4];\n\n/**\n * Check Red Hat subscription-manager if if this is an unregistered RHEL\n * system. If subscription-manager is not installed, nothing happens.\n *\n * callback: Called with a boolean (true: registered, false: not registered)\n *           after querying subscription-manager once, and whenever the value\n *           changes.\n */\nexport function watchRedHatSubscription(callback) {\n    // check if this is an unregistered RHEL system; if subscription-manager is not installed, ignore\n    var sm = cockpit.dbus(\"com.redhat.SubscriptionManager\");\n    sm.subscribe(\n        { path: \"/EntitlementStatus\",\n          interface: \"com.redhat.SubscriptionManager.EntitlementStatus\",\n          member: \"entitlement_status_changed\"\n        },\n        (path, iface, signal, args) => callback(validSubscriptionStates.indexOf(args[0]) >= 0)\n    );\n    sm.call(\n        \"/EntitlementStatus\", \"com.redhat.SubscriptionManager.EntitlementStatus\", \"check_status\")\n            .done(result => callback(validSubscriptionStates.indexOf(result[0]) >= 0))\n            .fail(ex => {\n                if (ex.problem != \"not-found\")\n                    console.warn(\"Failed to query RHEL subscription status:\", ex);\n            }\n            );\n}\n\n/* Support for installing missing packages.\n *\n * First call check_missing_packages to determine whether something\n * needs to be installed, then call install_missing_packages to\n * actually install them.\n *\n * check_missing_packages resolves to an object that can be passed to\n * install_missing_packages.  It contains these fields:\n *\n * - missing_names:     Packages that were requested, are currently not installed,\n *                      and can be installed.\n *\n * - unavailable_names: Packages that were requested, are currently not installed,\n *                      but can't be found in any repository.\n *\n * If unavailable_names is empty, a simulated installation of the missing packages\n * is done and the result also contains these fields:\n *\n * - extra_names:       Packages that need to be installed as dependencies of\n *                      missing_names.\n *\n * - remove_names:      Packages that need to be removed.\n *\n * - download_size:     Bytes that need to be downloaded.\n */\n\nexport function check_missing_packages(names, progress_cb) {\n    var data = {\n        missing_names: [ ],\n        unavailable_names: [ ],\n    };\n\n    if (names.length === 0)\n        return Promise.resolve(data);\n\n    function refresh() {\n        return cancellableTransaction(\"RefreshCache\", [ false ], progress_cb);\n    }\n\n    function resolve() {\n        data.missing_ids = [ ];\n\n        var installed_names = { };\n\n        return cancellableTransaction(\"Resolve\",\n                                      [ Enum.FILTER_ARCH | Enum.FILTER_NOT_SOURCE | Enum.FILTER_NEWEST, names ],\n                                      progress_cb,\n                                      {\n                                          Package: (info, package_id) => {\n                                              let parts = package_id.split(\";\");\n                                              let repos = parts[3].split(\":\");\n                                              if (repos.indexOf(\"installed\") >= 0) {\n                                                  installed_names[parts[0]] = true;\n                                              } else {\n                                                  data.missing_ids.push(package_id);\n                                                  data.missing_names.push(parts[0]);\n                                              }\n                                          },\n                                      })\n                .then(() => {\n                    names.forEach(name => {\n                        if (!installed_names[name] && data.missing_names.indexOf(name) == -1)\n                            data.unavailable_names.push(name);\n                    });\n                    return data;\n                });\n    }\n\n    function simulate(data) {\n        data.install_ids = [ ];\n        data.remove_ids = [ ];\n        data.extra_names = [ ];\n        data.remove_names = [ ];\n\n        if (data.missing_ids.length > 0 && data.unavailable_names.length === 0) {\n            return cancellableTransaction(\"InstallPackages\",\n                                          [ Enum.TRANSACTION_FLAG_SIMULATE, data.missing_ids ],\n                                          progress_cb,\n                                          {\n                                              Package: (info, package_id) => {\n                                                  let name = package_id.split(\";\")[0];\n                                                  if (info == Enum.INFO_REMOVING) {\n                                                      data.remove_ids.push(package_id);\n                                                      data.remove_names.push(name);\n                                                  } else if (info == Enum.INFO_INSTALLING ||\n                                                             info == Enum.INFO_UPDATING) {\n                                                      data.install_ids.push(package_id);\n                                                      if (data.missing_names.indexOf(name) == -1)\n                                                          data.extra_names.push(name);\n                                                  }\n                                              }\n                                          })\n                    .then(() => {\n                        data.missing_names.sort();\n                        data.extra_names.sort();\n                        data.remove_names.sort();\n                        return data;\n                    });\n        } else {\n            return data;\n        }\n    }\n\n    function get_details(data) {\n        data.download_size = 0;\n        if (data.install_ids.length > 0) {\n            return cancellableTransaction(\"GetDetails\",\n                                          [ data.install_ids ],\n                                          progress_cb,\n                                          {\n                                              Details: details => {\n                                                  if (details.size)\n                                                      data.download_size += details.size.v;\n                                              }\n                                          })\n                    .then(() => data);\n        } else {\n            return data;\n        }\n    }\n\n    return refresh().then(resolve)\n            .then(simulate)\n            .then(get_details);\n}\n\n/* Carry out what check_missing_packages has planned.\n *\n * In addition to the usual \"waiting\", \"percentage\", and \"cancel\"\n * fields, the object reported by progress_cb also includes \"info\" and\n * \"package\" from the \"Package\" signal.\n */\n\nexport function install_missing_packages(data, progress_cb) {\n    if (!data || data.missing_ids.length === 0)\n        return Promise.resolve();\n\n    var last_progress, last_info, last_name;\n\n    function report_progess() {\n        progress_cb({\n            waiting: last_progress.waiting,\n            percentage: last_progress.percentage,\n            cancel: last_progress.cancel,\n            info: last_info,\n            package: last_name\n        });\n    }\n\n    return cancellableTransaction(\"InstallPackages\", [ 0, data.missing_ids ],\n                                  p => {\n                                      last_progress = p;\n                                      report_progess();\n                                  },\n                                  {\n                                      Package: (info, id) => {\n                                          last_info = info;\n                                          last_name = id.split(\";\")[0];\n                                          report_progess();\n                                      }\n                                  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/packagekit.es6","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from \"cockpit\";\nimport React from \"react\";\nimport { show_modal_dialog } from \"cockpit-components-dialog.jsx\";\n\nconst _ = cockpit.gettext;\n\nexport function left_click(fun) {\n    return function (event) {\n        if (!event || event.button !== 0)\n            return;\n        event.stopPropagation();\n        return fun(event);\n    };\n}\n\nexport function icon_url(path_or_url) {\n    if (!path_or_url)\n        return \"default.png\";\n\n    if (path_or_url[0] != '/')\n        return path_or_url;\n\n    var queryobj = {\n        payload: \"fsread1\",\n        binary: \"raw\",\n        path: path_or_url,\n    };\n\n    if (path_or_url.endsWith(\".svg\")) {\n        queryobj.external = {\"content-type\": \"image/svg+xml\"};\n    }\n\n    var query = window.btoa(JSON.stringify(queryobj));\n    return \"/cockpit/channel/\" + cockpit.transport.csrf_token + '?' + query;\n}\n\nexport const ProgressBar = ({ title, data }) => {\n    if (data.waiting) {\n        return (\n            <div>\n                <div className=\"pull-right spinner spinner-sm\" />\n                <div className=\"progress-title\">\n                    {_(\"Waiting for other programs to finish using the package manager...\")}\n                </div>\n            </div>\n        );\n    } else {\n        return (\n            <div>\n                <div className=\"progress-title\">\n                    {title}\n                </div>\n                <div className=\"progress\">\n                    <div className=\"progress-bar\" style={{ \"width\": data.percentage + \"%\" }} />\n                </div>\n            </div>\n        );\n    }\n};\n\nexport const CancelButton = ({ data }) => {\n    return (\n        <button className=\"btn btn-default\"\n                disabled={!data.cancel}\n                onClick={left_click(data.cancel)}>\n            {_(\"Cancel\")}\n        </button>\n    );\n};\n\nexport const show_error = ex => {\n    if (ex.code == \"cancelled\")\n        return;\n\n    if (ex.code == \"not-found\")\n        ex.detail = _(\"No installation package found for this application.\");\n\n    show_modal_dialog(\n        {\n            title: _(\"Error\"),\n            body: (\n                <div className=\"modal-body\">\n                    <p>{ex.detail || ex}</p>\n                </div>\n            )\n        },\n        {\n            cancel_caption: _(\"Close\"),\n            actions: [ ]\n        });\n};\n\nexport const launch = (comp) => {\n    var i;\n    for (i = 0; i < comp.launchables.length; i++) {\n        if (comp.launchables[i].type == \"cockpit-manifest\") {\n            cockpit.jump([ comp.launchables[i].name ]);\n            return;\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/apps/utils.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2016 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar cockpit = require(\"cockpit\");\nvar React = require(\"react\");\nvar _ = cockpit.gettext;\n\nrequire(\"page.css\");\nrequire(\"cockpit-components-dialog.css\");\n\n/*\n * React template for a Cockpit dialog footer\n * It can display an error, wait for an action to complete,\n * has a 'Cancel' button and an action button (defaults to 'OK')\n * Expected props:\n *  - cancel_clicked optional\n *     Callback called when the dialog is canceled\n *  - cancel_style\n *     css class used for the cancel button, defaults to 'cancel'\n *  - cancel_caption optional, defaults to 'Cancel'\n *  - list of actions, each an object with:\n *      - clicked\n *         Callback function that is expected to return a promise.\n *         parameter: callback to set the progress text (will be displayed next to spinner)\n *      - caption optional, defaults to 'Ok'\n *      - disabled optional, defaults to false\n *      - style defaults to 'default', other options: 'primary', 'danger'\n *  - static_error optional, always show this error\n *  - idle_message optional, always show this message on the last row when idle\n *  - dialog_done optional, callback when dialog is finished (param true if success, false on cancel)\n */\nvar DialogFooter = React.createClass({\n    propTypes: {\n        cancel_clicked: React.PropTypes.func,\n        cancel_caption: React.PropTypes.string,\n        actions: React.PropTypes.array,\n        static_error: React.PropTypes.string,\n        dialog_done: React.PropTypes.func,\n    },\n    getInitialState: function() {\n        return {\n            action_in_progress: false,\n            action_in_progress_promise: null,\n            action_progress_message: '',\n            action_progress_cancel: null,\n            action_canceled: false,\n            error_message: null,\n        };\n    },\n    keyUpHandler: function(e) {\n        if (e.keyCode == 27) {\n            this.cancel_click();\n            e.stopPropagation();\n        }\n    },\n    componentDidMount: function() {\n        document.body.classList.add(\"modal-in\");\n        document.addEventListener('keyup', this.keyUpHandler.bind(this));\n    },\n    componentWillUnmount: function() {\n        document.body.classList.remove(\"modal-in\");\n        document.removeEventListener('keyup', this.keyUpHandler.bind(this));\n    },\n    update_progress: function(msg, cancel) {\n        this.setState({ action_progress_message: msg, action_progress_cancel: cancel });\n    },\n    action_click: function(handler, e) {\n        // only consider clicks with the primary button\n        if (e && e.button !== 0)\n            return;\n        var self = this;\n        this.setState({\n            error_message: null,\n            action_progress_message: '',\n            action_in_progress: true,\n            action_canceled: false,\n        });\n\n        var p = handler(this.update_progress.bind(this))\n                .then(function() {\n                    self.setState({ action_in_progress: false, error_message: null });\n                    if (self.props.dialog_done)\n                        self.props.dialog_done(true);\n                })\n                .catch(function(error) {\n                    if (self.state.action_canceled) {\n                        if (self.props.dialog_done)\n                            self.props.dialog_done(false);\n                    }\n\n                    /* Always log global dialog errors for easier debugging */\n                    if (error)\n                        console.warn(error);\n\n                    self.setState({ action_in_progress: false, error_message: error });\n                });\n\n        if (p.progress)\n            p.progress(this.update_progress.bind(this));\n\n        this.setState({ action_in_progress_promise: p });\n\n        if (e)\n            e.stopPropagation();\n    },\n    cancel_click: function(e) {\n        // only consider clicks with the primary button\n        if (e && e.button !== 0)\n            return;\n\n        this.setState({ action_canceled: true });\n\n        if (this.props.cancel_clicked)\n            this.props.cancel_clicked();\n\n        // an action might be in progress, let that handler decide what to do if they added a cancel function\n        if (this.state.action_in_progress && this.state.action_progress_cancel) {\n            this.state.action_progress_cancel();\n            return;\n        }\n        if (this.state.action_in_progress && 'cancel' in this.state.action_in_progress_promise) {\n            this.state.action_in_progress_promise.cancel();\n            return;\n        }\n\n        if (this.props.dialog_done)\n            this.props.dialog_done(false);\n        if (e)\n            e.stopPropagation();\n    },\n    render: function() {\n        var cancel_caption, cancel_style;\n        if ('cancel_caption' in this.props)\n            cancel_caption = this.props.cancel_caption;\n        else\n            cancel_caption = _(\"Cancel\");\n\n        if ('cancel_style' in this.props)\n            cancel_style = this.props.cancel_style;\n        else\n            cancel_style = \"cancel\";\n        cancel_style = \"btn btn-default \" + cancel_style;\n\n        // If an action is in progress, show the spinner with its message and disable all actions.\n        // Cancel is only enabled when the action promise has a cancel method, or we get one\n        // via the progress reporting.\n\n        var wait_element;\n        var actions_disabled;\n        var cancel_disabled;\n        if (this.state.action_in_progress) {\n            actions_disabled = 'disabled';\n            if (!(this.state.action_in_progress_promise && this.state.action_in_progress_promise.cancel) && !this.state.action_progress_cancel)\n                cancel_disabled = 'disabled';\n            wait_element = <div className=\"dialog-wait-ct pull-left\">\n                <div className=\"spinner spinner-sm\" />\n                <span>{ this.state.action_progress_message }</span>\n            </div>;\n        } else if (this.props.idle_message) {\n            wait_element = <div className=\"dialog-wait-ct pull-left\">\n                { this.props.idle_message }\n            </div>;\n        }\n\n        var self = this;\n        var action_buttons = this.props.actions.map(function(action) {\n            var caption;\n            if ('caption' in action)\n                caption = action.caption;\n            else\n                caption = _(\"Ok\");\n\n            var button_style = \"btn-default\";\n            var button_style_mapping = { 'primary': 'btn-primary', 'danger': 'btn-danger' };\n            if ('style' in action && action.style in button_style_mapping)\n                button_style = button_style_mapping[action.style];\n            button_style = \"btn \" + button_style + \" apply\";\n            var action_disabled = actions_disabled || ('disabled' in action && action.disabled);\n            return (<button\n                key={ caption }\n                className={ button_style }\n                onClick={ self.action_click.bind(self, action.clicked) }\n                disabled={ action_disabled }\n            >{ caption }</button>\n            );\n        });\n\n        // If we have an error message, display the error\n        var error_element;\n        var error_message;\n        if (this.props.static_error !== undefined && this.props.static_error !== null)\n            error_message = this.props.static_error;\n        else\n            error_message = this.state.error_message;\n        if (error_message) {\n            error_element = <div className=\"alert alert-danger dialog-error\">\n                <span className=\"fa fa-exclamation-triangle\" />\n                <span>{ React.isValidElement(error_message) ? error_message : error_message.toString() }</span>\n            </div>;\n        }\n        return (\n            <div className=\"modal-footer\">\n                { error_element }\n                { wait_element }\n                <button\n                    className={ cancel_style }\n                    onClick={ this.cancel_click.bind(this) }\n                    disabled={ cancel_disabled }\n                >{ cancel_caption }</button>\n                { action_buttons }\n            </div>\n        );\n    }\n});\n\n/*\n * React template for a Cockpit dialog\n * The primary action button is disabled while its action is in progress (waiting for promise)\n * Removes focus on other elements on showing\n * Expected props:\n *  - title (string)\n *  - no_backdrop optional, skip backdrop if true\n *  - body (react element, top element should be of class modal-body)\n *      It is recommended for information gathering dialogs to pass references\n *      to the input components to the controller. That way, the controller can\n *      extract all necessary information (e.g. for input validation) when an\n *      action is triggered.\n *  - footer (react element, top element should be of class modal-footer)\n *  - id optional, id that is assigned to the top level dialog node, but not the backdrop\n */\nvar Dialog = React.createClass({\n    propTypes: {\n        // TODO: fix following by refactoring the logic showing modal dialog (recently show_modal_dialog())\n        title: React.PropTypes.string, // is effectively required, but show_modal_dialog() provides initially no props and resets them later.\n        no_backdrop: React.PropTypes.bool,\n        body: React.PropTypes.element, // is effectively required, see above\n        footer: React.PropTypes.element, // is effectively required, see above\n        id: React.PropTypes.string,\n    },\n    componentDidMount: function() {\n        // if we used a button to open this, make sure it's not focused anymore\n        if (document.activeElement)\n            document.activeElement.blur();\n    },\n    render: function() {\n        var backdrop;\n        if (!this.props.no_backdrop) {\n            backdrop = <div className=\"modal-backdrop fade in\" />;\n        }\n        return (\n            <div>\n                { backdrop }\n                <div className=\"modal fade in dialog-ct-visible\" tabIndex=\"-1\">\n                    <div id={this.props.id} className=\"modal-dialog\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\">\n                                <h4 className=\"modal-title\">{ this.props.title }</h4>\n                            </div>\n                            { this.props.body }\n                            { this.props.footer }\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n});\n\n/* Create and show a dialog\n * For this, create a containing DOM node at the body level\n * The returned object has the following methods:\n *     - setFooterProps replace the current footerProps and render\n *     - setProps       replace the current props and render\n *     - render         render again using the stored props\n * The DOM node and React metadata are freed once the dialog has closed\n */\nvar show_modal_dialog = function(props, footerProps) {\n    var dialogName = 'cockpit_modal_dialog';\n    // don't allow nested dialogs, just close whatever is open\n    var curElement = document.getElementById(dialogName);\n    if (curElement) {\n        React.unmountComponentAtNode(curElement);\n        curElement.remove();\n    }\n    // create an element to render into\n    var rootElement = document.createElement(\"div\");\n    rootElement.id = dialogName;\n    document.body.appendChild(rootElement);\n\n    // register our own on-close callback\n    var origCallback;\n    var closeCallback = function() {\n        if (origCallback)\n            origCallback.apply(this, arguments);\n        React.unmountComponentAtNode(rootElement);\n        rootElement.remove();\n    };\n\n    var dialogObj = { };\n    dialogObj.props = null;\n    dialogObj.footerProps = null;\n    dialogObj.render = function() {\n        dialogObj.props.footer = <DialogFooter {...dialogObj.footerProps} />;\n        React.render(<Dialog {...dialogObj.props} />, rootElement);\n    };\n    function updateFooterAndRender() {\n        if (dialogObj.props === null || dialogObj.props === undefined)\n            dialogObj.props = { };\n        dialogObj.props.footer = <DialogFooter {...dialogObj.footerProps} />;\n        dialogObj.render();\n    }\n    dialogObj.setFooterProps = function(footerProps) {\n        /* Always log error messages to console for easier debugging */\n        if (footerProps.static_error)\n            console.warn(footerProps.static_error);\n        dialogObj.footerProps = footerProps;\n        if (dialogObj.footerProps === null || dialogObj.footerProps === undefined)\n            dialogObj.footerProps = { };\n        if (dialogObj.footerProps.dialog_done != closeCallback) {\n            origCallback = dialogObj.footerProps.dialog_done;\n            dialogObj.footerProps.dialog_done = closeCallback;\n        }\n        updateFooterAndRender();\n    };\n    dialogObj.setProps = function(props) {\n        dialogObj.props = props;\n        updateFooterAndRender();\n    };\n    dialogObj.setFooterProps(footerProps);\n    dialogObj.setProps(props);\n\n    // now actually render\n    dialogObj.render();\n\n    return dialogObj;\n};\n\nmodule.exports = {\n    Dialog: Dialog,\n    DialogFooter: DialogFooter,\n    show_modal_dialog: show_modal_dialog,\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/cockpit-components-dialog.jsx","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from \"cockpit\";\nimport React from \"react\";\n\nimport PackageKit from \"./packagekit.es6\";\nimport { left_click, icon_url, show_error, launch, ProgressBar, CancelButton } from \"./utils.jsx\";\n\nimport \"./application.css\";\n\nvar _ = cockpit.gettext;\n\nclass Application extends React.Component {\n    constructor() {\n        super();\n        this.state = { error: null, progress: null };\n    }\n\n    render() {\n        var self = this;\n        var state = this.state;\n        var metainfo_db = this.props.metainfo_db;\n        var comp;\n\n        if (!this.props.id)\n            return null;\n\n        comp = metainfo_db.components[this.props.id];\n\n        function action(func, arg, progress_title) {\n            self.setState({ progress_title: progress_title });\n            func(arg, data => self.setState({ progress: data }))\n                    .finally(() => self.setState({ progress: null }))\n                    .catch(show_error);\n        }\n\n        function install() {\n            action(PackageKit.install, comp.pkgname, _(\"Installing\"));\n        }\n\n        function remove() {\n            action(PackageKit.remove, comp.file, _(\"Removing\"));\n        }\n\n        function render_homepage_link(urls) {\n            return urls.map(url => {\n                if (url.type == 'homepage') {\n                    return (<div className=\"app-links\" key={url.link}>\n                        <a href={url.link} target=\"_blank\" rel=\"noopener\" data-linkedhost={url.link}>\n                                    View Project Website <i className=\"fa fa-external-link\" aria-hidden=\"true\" />\n                        </a>\n                    </div>);\n                }\n            });\n        }\n\n        // Render a description in the form returned by the AppsSream\n        // parser, which is a list of paragraphs and lists.\n\n        function render_description(description) {\n            if (!description)\n                return <p>{_(\"No description provided.\")}</p>;\n\n            return description.map((paragraph, index) => {\n                if (paragraph.tag == 'ul') {\n                    return <ul key={`paragraph-${index}`}>{paragraph.items.map(item => <li key={item}>{item}</li>)}</ul>;\n                } else if (paragraph.tag == 'ol') {\n                    return <ol key={`paragraph-${index}`}>{paragraph.items.map(item => <li key={item}>{item}</li>)}</ol>;\n                } else {\n                    return <p key={`paragraph-${index}`}>{paragraph}</p>;\n                }\n            });\n        }\n\n        // Render the icon, name, homepage link, summary, description, and screenshots of the component,\n        // plus the UI for installing and removing it.\n\n        function render_comp() {\n            if (!comp) {\n                if (metainfo_db.ready)\n                    return <div>{_(\"Unknown Application\")}</div>;\n                else\n                    return <div className=\"spinner\" />;\n            }\n\n            var progress_or_launch, button;\n            if (state.progress) {\n                progress_or_launch = <ProgressBar title={self.state.progress_title} data={self.state.progress} />;\n                button = <CancelButton data={self.state.progress} />;\n            } else if (comp.installed) {\n                progress_or_launch = <a role=\"link\" tabIndex=\"0\" onClick={left_click(() => launch(comp))}>{_(\"Go to Application\")}</a>;\n                button = <button className=\"btn btn-danger\" onClick={left_click(remove)}>{_(\"Remove\")}</button>;\n            } else {\n                progress_or_launch = null;\n                button = <button className=\"btn btn-default\" onClick={left_click(install)}>{_(\"Install\")}</button>;\n            }\n\n            return (\n                <div>\n                    <table className=\"table app\">\n                        <tbody>\n                            <tr>\n                                <td><img src={icon_url(comp.icon)} role=\"presentation\" /></td>\n                                <td>{comp.summary}</td>\n                                <td>{progress_or_launch}</td>\n                                <td>{button}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    {render_homepage_link(comp.urls)}\n                    <div className=\"app-description\">{render_description(comp.description)}</div>\n                    <center>\n                        { comp.screenshots.map((s, index) => <img key={`comp-${index}`} className=\"app-screenshot\" role=\"presentation\" src={s.full} />) }\n                    </center>\n                </div>\n            );\n        }\n\n        function navigate_up() {\n            cockpit.location.go(\"/\");\n        }\n\n        return (\n            <div>\n                <ol className=\"breadcrumb\">\n                    <li><a role=\"link\" tabIndex=\"0\" onClick={left_click(navigate_up)}>{_(\"Applications\")}</a></li>\n                    <li className=\"active\">{comp ? comp.name : this.props.id}</li>\n                </ol>\n                {render_comp()}\n            </div>\n        );\n    }\n}\n\nmodule.exports = {\n    Application: Application\n};\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/apps/application.jsx","'use strict';\n\n/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nvar cockpit = require(\"cockpit\");\nvar python = require(\"python.jsx\");\nvar inotify_py = require(\"raw!inotify.py\");\nvar watch_appstream_py = require(\"raw!./watch-appstream.py\");\n\nvar metainfo_db = null;\n\nfunction get_metainfo_db() {\n    if (!metainfo_db) {\n        metainfo_db = cockpit.event_target({\n            ready: false,\n            components: [ ],\n            origin_files: [ ]\n        });\n\n        var buf = \"\";\n        python.spawn([ inotify_py, watch_appstream_py ], [ ],\n                     { environ: [ \"LANGUAGE=\" + (cockpit.language || \"en\") ]\n                     })\n            .stream(function (data) {\n                var lines, metadata;\n\n                buf += data;\n                lines = buf.split(\"\\n\");\n                buf = lines[lines.length-1];\n                if (lines.length >= 2) {\n                    metadata = JSON.parse(lines[lines.length-2]);\n                    metainfo_db.components = metadata.components;\n                    metainfo_db.origin_files = metadata.origin_files;\n                    metainfo_db.ready = true;\n                    metainfo_db.dispatchEvent(\"changed\");\n                }\n            }).\n            fail(function (error) {\n                if (error != \"closed\") {\n                    console.warn(error);\n                }\n            });\n    }\n\n    return metainfo_db;\n}\n\nmodule.exports = {\n    get_metainfo_db: get_metainfo_db\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../pkg/apps/appstream.js\n// module id = 15\n// module chunks = 0","/*\n * This file is part of Cockpit.\n *\n * Copyright (C) 2017 Red Hat, Inc.\n *\n * Cockpit is free software; you can redistribute it and/or modify it\n * under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation; either version 2.1 of the License, or\n * (at your option) any later version.\n *\n * Cockpit is distributed in the hope that it will be useful, but\n * WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\n * Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport cockpit from \"cockpit\";\n\n// FIXME: eventually convert all images to python 3\nconst pyinvoke = [ \"sh\", \"-ec\", \"exec $(which python3 2>/dev/null || which python) $@\", \"--\", \"-\" ];\n\nexport function spawn (script_pieces, args, options) {\n    var script;\n    if (typeof script_pieces == \"string\")\n        script = script_pieces;\n    else\n        script = script_pieces.join(\"\\n\");\n\n    return cockpit.spawn(pyinvoke.concat(args), options).input(script);\n}\n\n\n\n// WEBPACK FOOTER //\n// ../pkg/lib/python.jsx","module.exports = \"#\\n# This file is part of Cockpit.\\n#\\n# Copyright (C) 2017 Red Hat, Inc.\\n#\\n# Cockpit is free software; you can redistribute it and/or modify it\\n# under the terms of the GNU Lesser General Public License as published by\\n# the Free Software Foundation; either version 2.1 of the License, or\\n# (at your option) any later version.\\n#\\n# Cockpit is distributed in the hope that it will be useful, but\\n# WITHOUT ANY WARRANTY; without even the implied warranty of\\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU\\n# Lesser General Public License for more details.\\n#\\n# You should have received a copy of the GNU Lesser General Public License\\n# along with Cockpit; If not, see <http://www.gnu.org/licenses/>.\\n\\nimport os\\nimport ctypes\\nimport struct\\nimport subprocess\\nimport traceback\\n\\nIN_CLOSE_WRITE = 0x00000008\\nIN_MOVED_FROM  = 0x00000040\\nIN_MOVED_TO    = 0x00000080\\nIN_CREATE      = 0x00000100\\nIN_DELETE      = 0x00000200\\nIN_DELETE_SELF = 0x00000400\\nIN_MOVE_SELF   = 0x00000800\\nIN_IGNORED     = 0x00008000\\n\\nclass Inotify:\\n    def __init__(self):\\n        self._libc = ctypes.CDLL(None, use_errno=True)\\n        self._get_errno_func = ctypes.get_errno\\n\\n        self._libc.inotify_init.argtypes = []\\n        self._libc.inotify_init.restype = ctypes.c_int\\n        self._libc.inotify_add_watch.argtypes = [ctypes.c_int, ctypes.c_char_p,\\n                                                 ctypes.c_uint32]\\n        self._libc.inotify_add_watch.restype = ctypes.c_int\\n        self._libc.inotify_rm_watch.argtypes = [ctypes.c_int, ctypes.c_int]\\n        self._libc.inotify_rm_watch.restype = ctypes.c_int\\n\\n        self.fd = self._libc.inotify_init()\\n\\n    def add_watch(self, path, mask):\\n        path = ctypes.create_string_buffer(path.encode(sys.getfilesystemencoding()))\\n        wd = self._libc.inotify_add_watch(self.fd, path, mask)\\n        if wd < 0:\\n            sys.stderr.write(\\\"can't add watch for %s: %s\\\\n\\\" % (path, os.strerror(self._get_errno_func())))\\n        return wd\\n\\n    def rem_watch(self, wd):\\n        if self._libc.inotify_rm_watch(self.fd, wd) < 0:\\n            sys.stderr.write(\\\"can't remove watch: %s\\\\n\\\" % (os.strerror(self._get_errno_func())))\\n\\n    def process(self, callback):\\n        buf = os.read(self.fd, 4096)\\n        pos = 0\\n        while pos < len(buf):\\n            (wd, mask, cookie, name_len) = struct.unpack('iIII', buf[pos:pos+16])\\n            pos += 16\\n            (name,) = struct.unpack('%ds' % name_len, buf[pos:pos + name_len])\\n            pos += name_len\\n            callback(wd, mask, name.decode().rstrip('\\\\0'))\\n\\n    def run(self, callback):\\n        while True:\\n            self.process(callback)\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/lib/inotify.py\n// module id = 17\n// module chunks = 0","module.exports = \"import os\\nimport sys\\nimport time\\nimport traceback\\n\\nimport gzip\\nimport xml.etree.ElementTree as ET\\nimport json\\n\\n# Our own little abstraction on top of inotify.  This only supports\\n# watching directories non-recursively, but it also supports watching\\n# directories that come and go into and out of existence.\\n#\\n# We could use pyinotify for this, but it would only be able to\\n# replace the Inotify class; we would still need all the logic in the\\n# Watcher class.\\n\\nclass Watcher:\\n\\n    def __init__(self):\\n        self.inotify = Inotify()\\n        self.watches = { } # path -> wd\\n        self.handlers = { } # wd -> set of callbacks\\n\\n    def __add_watch(self, path, mask, handler):\\n        if path in self.watches:\\n            wd = self.watches[path]\\n            self.handlers[wd] = self.handlers[wd] | frozenset([ handler ])\\n        else:\\n            wd = self.inotify.add_watch(path, mask)\\n            if wd >= 0:\\n                self.watches[path] = wd\\n                self.handlers[wd] = frozenset([ handler ])\\n\\n    def __rem_watch(self, path, handler):\\n        wd = self.watches[path]\\n        self.handlers[wd] = self.handlers[wd] - frozenset([ handler ])\\n        if len(self.handlers[wd]) == 0:\\n            self.inotify.rem_watch(wd)\\n            del self.handlers[wd]\\n            del self.watches[path]\\n\\n    def watch_directory(self, path, callback):\\n\\n        events = (IN_CREATE |\\n                  IN_MOVED_TO |\\n                  IN_MOVED_FROM |\\n                  IN_DELETE_SELF |\\n                  IN_CLOSE_WRITE |\\n                  IN_DELETE |\\n                  IN_MOVE_SELF)\\n\\n        def handler(mask, name):\\n            if ((mask & IN_CREATE or mask & IN_MOVED_TO) and\\n                cur_wait and name == cur_wait):\\n                reset()\\n            elif mask & (IN_DELETE_SELF | IN_MOVE_SELF):\\n                reset()\\n            elif not cur_wait and len(name) > 0:\\n                if mask & (IN_CLOSE_WRITE | IN_MOVED_TO | IN_DELETE | IN_MOVED_FROM):\\n                    callback(os.path.join(path, name))\\n\\n        def reset():\\n            self.__rem_watch(cur_path, handler)\\n            self.watch_directory(path, callback)\\n\\n        cur_path = path\\n        cur_wait = None\\n        while not os.path.exists(cur_path):\\n            cur_wait = os.path.basename(cur_path)\\n            cur_path = os.path.dirname(cur_path)\\n\\n        self.__add_watch(cur_path, events, handler)\\n\\n        if not cur_wait:\\n            for f in os.listdir(cur_path):\\n                callback(os.path.join(cur_path, f))\\n\\n    def run(self):\\n        def event(wd, mask, name):\\n            if wd in self.handlers:\\n                for h in self.handlers[wd]:\\n                    h(mask, name)\\n        self.inotify.run(event)\\n\\nlang = os.environ.get('LANGUAGE')\\n\\ndef attr_lang(elt):\\n    return elt.attrib.get('{http://www.w3.org/XML/1998/namespace}lang')\\n\\ndef element(xml, tag):\\n    if lang:\\n        for elt in xml.iter(tag):\\n            if attr_lang(elt) == lang:\\n                return elt\\n    return xml.find(tag)\\n\\ndef element_value(xml, tag):\\n    elt = element(xml, tag)\\n    return elt.text if elt is not None else None\\n\\ndef convert_description(xml, use_lang = True):\\n    if xml is None:\\n        return None\\n\\n    want_lang = lang if use_lang else None\\n\\n    # Only the following constructs are allowed, and they all appear\\n    # at the top level:\\n    #\\n    # <p>text</p>\\n    # <ul><li>text</li>...</ul>\\n    # <ol><li>text</li>...</ol>\\n\\n    # A description can have 'lang' attributes both on the actual\\n    # <description> element and on the contained <p>, <ul>, and <ol>\\n    # elements, but probably not on the <li> elements.\\n\\n    def text(xml):\\n        return \\\" \\\".join(xml.itertext())\\n\\n    res = [ ]\\n    for c in xml:\\n        if attr_lang(c) != want_lang:\\n            continue\\n        if c.tag == 'p':\\n            res.append(text(c))\\n        elif c.tag == 'ul' or c.tag == 'ol':\\n            res.append({ 'tag': c.tag, 'items': list(map(text, c.findall('li'))) })\\n\\n    # If we found nothing that matches lang, fall back to default\\n    if lang is not None and len(res) == 0:\\n        res = convert_description(xml, False)\\n\\n    return res\\n\\ndef convert_cached_icon(dir, origin, xml):\\n    icon = xml.text\\n\\n    def try_size(sz):\\n        path = os.path.join(dir, \\\"..\\\", \\\"icons\\\", origin, sz, icon)\\n        return path if os.path.exists(path) else None\\n\\n    return try_size(\\\"64x64\\\") or try_size(\\\"128x128\\\")\\n\\ndef convert_remote_icon(xml):\\n    url = xml.text\\n    if url.startswith(\\\"http://\\\") or url.startswith(\\\"https://\\\"):\\n        return url\\n    return None\\n\\ndef convert_local_icon(xml):\\n    path = xml.text\\n    if path.startswith(\\\"/\\\"):\\n        return path\\n    return None\\n\\ndef find_and_convert_icon(dir, origin, xml):\\n    if xml is None:\\n        return None\\n\\n    # Just use the first icon.\\n    icon = xml.find('icon')\\n\\n    if icon is not None:\\n        if icon.attrib['type'] == 'cached':\\n            return convert_cached_icon(dir, origin, icon)\\n        elif icon.attrib['type'] == 'remote':\\n            return convert_remote_icon(icon)\\n        elif icon.attrib['type'] == 'local':\\n            return convert_local_icon(icon)\\n\\n    return None\\n\\ndef convert_screenshots(xml):\\n    if xml is None:\\n        return [ ]\\n\\n    shots = [ ]\\n    for sh in xml.iter('screenshot'):\\n        for img in sh.iter('image'):\\n            if img.attrib['type'] == 'source':\\n                shots.append({ 'full': img.text })\\n\\n    return shots\\n\\ndef convert_launchables(xml):\\n    ables = [ ]\\n\\n    for elt in xml.iter('launchable'):\\n        type = elt.attrib['type']\\n        if type == \\\"cockpit-manifest\\\":\\n            ables.append({ 'name': elt.text, 'type': type })\\n\\n    return ables\\n\\ndef convert_urls(xml):\\n    urls = [ ]\\n\\n    for url in xml.iter('url'):\\n        urls.append({ 'type': url.attrib['type'], 'link': url.text })\\n\\n    return urls\\n\\ndef convert_collection_component(dir, origin, xml):\\n    id = element_value(xml, 'id')\\n    pkgname = element_value(xml, 'pkgname')\\n    launchables = convert_launchables(xml)\\n    urls = convert_urls(xml)\\n\\n    if not id or not pkgname or len(launchables) == 0:\\n        return None\\n\\n    return {\\n        'id': id,\\n        'pkgname': pkgname,\\n        'name': element_value(xml, 'name'),\\n        'summary': element_value(xml, 'summary'),\\n        'description': convert_description(element(xml, 'description')),\\n        'icon': find_and_convert_icon(dir, origin, xml),\\n        'screenshots': convert_screenshots(element(xml, 'screenshots')),\\n        'launchables': launchables,\\n        'urls': urls\\n    }\\n\\ndef convert_upstream_component(file, xml):\\n    if xml.tag != 'component':\\n        return None\\n\\n    launchables = convert_launchables(xml)\\n    if len(launchables) ==  0:\\n        return None\\n\\n    urls = convert_urls(xml)\\n\\n    return {\\n        'id': element_value(xml, 'id'),\\n        'name': element_value(xml, 'name'),\\n        'summary': element_value(xml, 'summary'),\\n        'description': convert_description(element(xml, 'description')),\\n        'icon': find_and_convert_icon(dir, '', xml),\\n        'screenshots': convert_screenshots(element(xml, 'screenshots')),\\n        'launchables': launchables,\\n        'installed': True,\\n        'file': file,\\n        'urls': urls\\n    }\\n\\nclass MetainfoDB:\\n    def __init__(self):\\n        self.dumping = False\\n        self.installed_by_file = { }\\n        self.available_by_file = { }\\n\\n    def notice_installed(self, file, xml_root):\\n        if xml_root is not None:\\n            comp = convert_upstream_component(file, xml_root)\\n            if comp is not None:\\n                self.installed_by_file[file] = comp;\\n        elif file in self.installed_by_file:\\n            del self.installed_by_file[file];\\n        if self.dumping:\\n            self.dump()\\n\\n    def notice_available(self, file, xml_root):\\n        if xml_root is not None:\\n            info = { }\\n            origin = xml_root.attrib['origin']\\n            for xml_comp in xml_root.iter('component'):\\n                try:\\n                    comp = convert_collection_component(os.path.dirname(file), origin, xml_comp)\\n                    if comp is not None:\\n                        if comp['id'] in info:\\n                            pass # warning: duplicate id\\n                        else:\\n                            info[comp['id']] = comp\\n                except KeyError:\\n                    pass\\n            self.available_by_file[file] = info\\n        elif file in self.available_by_file:\\n            del self.available_by_file[file]\\n        if self.dumping:\\n            self.dump()\\n\\n    def dump(self):\\n        comps = { }\\n        for file in self.installed_by_file:\\n            comp = self.installed_by_file[file]\\n            if comp['id'] in comps:\\n                pass # warn dup\\n            else:\\n                comps[comp['id']] = comp;\\n        for file in self.available_by_file:\\n            for id in self.available_by_file[file]:\\n                comp = self.available_by_file[file][id]\\n                if not comp['id'] in comps:\\n                    comps[comp['id']] = comp;\\n                else:\\n                    z = comp.copy()\\n                    z.update(comps[comp['id']])\\n                    comps[comp['id']] = z;\\n\\n        data = {\\n            'components': comps,\\n            'origin_files': list(self.available_by_file.keys())\\n        }\\n\\n        sys.stdout.write(json.dumps(data) + '\\\\n')\\n        sys.stdout.flush()\\n\\n    def start_dumping(self):\\n        self.dump()\\n        self.dumping = True\\n\\ndef watch_db():\\n    watcher = Watcher()\\n\\n    db = MetainfoDB()\\n\\n    def process_file(path, callback):\\n        try:\\n            if not os.path.exists(path):\\n                callback(path, None)\\n            elif path.endswith('.xml'):\\n                callback(path, ET.parse(path).getroot())\\n            elif path.endswith('.xml.gz'):\\n                callback(path, ET.parse(gzip.open(path)).getroot())\\n        except:\\n            # If we hit an exception during handling a file, pretend\\n            # that it doesn't exist instead of keeping old data.  This\\n            # makes the behavior consistent across restarts of this\\n            # watcher.\\n            callback(path, None)\\n            sys.stderr.write(\\\"%s: \\\" % path)\\n            sys.stderr.write(\\\"\\\".join(traceback.format_exception_only(sys.exc_info()[0], sys.exc_info()[1])))\\n            sys.stderr.flush()\\n\\n    def installed_callback(path):\\n        process_file(path, lambda path, xml: db.notice_installed(path, xml))\\n\\n    def available_callback(path):\\n        process_file(path, lambda path, xml: db.notice_available(path, xml))\\n\\n    watcher.watch_directory('/usr/share/metainfo',      installed_callback)\\n    watcher.watch_directory('/usr/share/app-info/xmls', available_callback)\\n    watcher.watch_directory('/var/cache/app-info/xmls', available_callback)\\n    db.start_dumping()\\n    watcher.run()\\n\\nwatch_db()\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../~/raw-loader!../pkg/apps/watch-appstream.py\n// module id = 18\n// module chunks = 0"],"sourceRoot":""}