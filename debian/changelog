cockpit (151-1) unstable; urgency=medium

  * New upstream release:
    - Support loading SSH keys from arbitrary paths
  * Ignore PhantomJS crashes in avocado autopkgtest
    checklogin-basic.py causes a PhantomJS crash on Ubuntu artful on amd64
    which does not reproduce in QEMU. (Closes: #873241)
  * Add smoke autopkgtest that can run in containers.
    Add a simple test of cockpit-bridge and the login page to ensure that
    packages have the right dependencies and contents, and that the systemd
    units are set up correctly to get a login page on
    https://localhost:9090.
    This can also run in a container and thus in Debian's CI and on all
    Ubuntu architectures.

 -- Martin Pitt <mpitt@debian.org>  Thu, 21 Sep 2017 10:25:46 +0200

cockpit (150-2) unstable; urgency=medium

  * Drop nodejs-legacy autopkgtest dependency. That package ceased to exist,
    and the tests don't need the /usr/bin/node binary.

 -- Martin Pitt <mpitt@debian.org>  Mon, 11 Sep 2017 08:28:22 +0200

cockpit (150-1) unstable; urgency=medium

  * New upstream release 149:
    - Support sending non-maskable interrupt to VMs
    - Add information about non-met conditions for systemd services
    - Clear cockpit cookie on logout
  * New upstream release 150:
    - Automatically enable and start newly created timers on the Services page

 -- Martin Pitt <mpitt@debian.org>  Fri, 08 Sep 2017 12:42:10 +0200

cockpit (148-1) unstable; urgency=medium

  * New upstream release:
    - Fix navigation and various JavaScript errors with Internet Explorer
    - Detect unregistered RHEL systems on Software Updates page
    - debian/copryight: Add missing copyrights and licenses (Closes: #869934)

 -- Martin Pitt <mpitt@debian.org>  Fri, 04 Aug 2017 13:07:47 +0200

cockpit (147-1) unstable; urgency=medium

  * New upstream release:
    - Add configuration of account locking and password expiry to Accounts
      page
    - Consistently ignore loopback traffic on all network load graphs
    - Fix the Kdump page in Internet Exporer

 -- Martin Pitt <mpitt@debian.org>  Thu, 27 Jul 2017 15:27:28 +0200

cockpit (146-1) unstable; urgency=medium

  * New upstream release:
    - Show recent updates and live update log on Software Updates page
    - Improve available Software Updates table layout for small/mobile screens
    - Support OAuth Kubernetes logins to work with Google Compute Engine
    - Fix reporting ABRT crashes that are already known to the server
    - Scroll the virtual machine VNC console into view automatically

 -- Martin Pitt <mpitt@debian.org>  Fri, 21 Jul 2017 11:25:26 +0200

cockpit (145-1) unstable; urgency=medium

  * New upstream release:
    - Resize the terminal dynamically to use all available space
    - Let the Machines page update immediately after changes
    - Add delete VM functionality to the Machines page
    - Retire support for external Machines provider API
    - Always recommend rebooting after applying Software Updates
    - Group D-Bus channels to avoid hitting connection limits
    - Fix building on Fedora Rawhide/glibc 2.25.90

 -- Martin Pitt <mpitt@debian.org>  Mon, 10 Jul 2017 14:23:51 +0200

cockpit (144-1) unstable; urgency=medium

  * New upstream release:
    - Add ability to cancel software updates while it is safe
    - Show progress of "Refreshing package information" on the Software Updates
      page
    - Add ABRT integration to the System page
    - Fix Machines page to only react to primary mouse button clicks on Firefox

 -- Martin Pitt <mpitt@debian.org>  Thu, 29 Jun 2017 22:53:27 +0200

cockpit (143-1) unstable; urgency=medium

  * New upstream release:
    - Add "Software Updates" page for package (rpm/deb) based operating
      systems
    - Fix cockpit-machines package to make inline VNC console actually work

 -- Martin Pitt <mpitt@debian.org>  Mon, 19 Jun 2017 16:44:35 +0200

cockpit (142-1) unstable; urgency=medium

  * New upstream release:
    - Virtual machines display an interactive console, either in browser, or a
      popup viewer
    - Fix Virtual Machines operations on non-English locales
    - Add documentation explaining how to grant/restrict access via polkit
      rules

 -- Martin Pitt <mpitt@debian.org>  Fri, 09 Jun 2017 17:33:22 +0200

cockpit (141-2) unstable; urgency=medium

  * Fix autopkgtest:
    - Latest avocado now requires python-libvirt, add it as test dependency.
    - Use the packaged phantomjs instead of phantomjs-prebuilt as that is only
      available for x86_64; this should make the tests work on other
      architectures too. The Debian/Ubuntu phantomjs package is built with Qt
      support, so run under $QT_QPA_PLATFORM=offscreen to work in a headless
      test environment.
    - Drop stray "sudo" command. The test already runs as root, this was a
      copy&paste leftover.

 -- Martin Pitt <mpitt@debian.org>  Fri, 02 Jun 2017 08:47:31 +0200

cockpit (141-1) unstable; urgency=medium

  * New upstream release:
    - Attempt to tear down used partitions when formatting disks
    - Show the correct known_hosts path on missing/mismatching host keys
    - Set HTML content type when serving login page, for better reverse proxy
      operation
    - Fix Kubernetes page incompatibility with recent Firefox versions
    - Set the system:authenticated role on anonymous Kubernetes projects

 -- Martin Pitt <mpitt@debian.org>  Thu, 01 Jun 2017 15:33:33 +0200

cockpit (140-1) unstable; urgency=medium

  * New upstream release:
    - Use SSCG to generate SSL certificates if available
    - Add a "cockpit-bridge --rules" option to output the rules
    - Allow auth commands to store credentials for future challenges
    - Allow users to change Docker container environment variables
    - Disable shutdown/reboot button for unprivileged users on the System page
    - Fix binary channel data for child iframes, used e. g. in Docker terminals
    - Don't install broken branding symlinks. (Closes: #859870)
  * Drop cockpit-pcp package. It wasn't meant to be packaged as long as pcp is
    not in testing.

 -- Martin Pitt <mpitt@debian.org>  Mon, 08 May 2017 23:26:30 +0200

cockpit (139-1) unstable; urgency=medium

  * New upstream release:
    - Show more information about virtual machines, such as boot order
    - Fix enablement of timer systemd units created on Services page
    - Fix Storage crash on multiple iSCSI sessions
    - cockpit-docker is now installable with docker-ce or other alternatives
    - Hide docker push commands on Registry image pages for  "pull" roles

 -- Martin Pitt <mpitt@debian.org>  Sun, 23 Apr 2017 22:13:20 +0200

cockpit (138-1) unstable; urgency=medium

  * New upstream release:
    - Only allow mdraid disk removal when it won't destroy data
    - Allow DN style usernames in the Kubernetes dashboard
    - Simplify protocol that cockpit talks to session authentication processes
  * Sync packaging with upstream.

 -- Martin Pitt <mpitt@debian.org>  Mon, 10 Apr 2017 14:53:33 +0200

cockpit (137-3) unstable; urgency=medium

  * Build with autoreconf.
    This will make the previous patches actually effective, and also ensure
    good architecture support.

 -- Martin Pitt <mpitt@debian.org>  Thu, 06 Apr 2017 14:06:31 +0200

cockpit (137-2) unstable; urgency=medium

  * Cherry-pick upstream patches to fix build with inaccessible home directory.
    Fixes FTBFS on most architectures.

 -- Martin Pitt <mpitt@debian.org>  Thu, 06 Apr 2017 12:22:03 +0200

cockpit (137-1) unstable; urgency=medium

  * New upstream release:
    - Does not use kernel keyring any more, thus this should fix the FTBFS on
      mips/mipsel and Ubuntu armhf.
  * Update packaging for moving from pam_reauthorize.so and cockpit-polkit
    to cockpit-askpass helper.
  * Fix autopkgtest on Ubuntu
  * Run cockpit-ws unprivileged under cockpit-ws user
  * Lower cockpit-docker Recommends to Suggests
  * Upload to unstable, with the above fixes it should be good enough for more
    wide-scale testing.

 -- Martin Pitt <mpitt@debian.org>  Thu, 06 Apr 2017 09:53:43 +0200

cockpit (134-1) experimental; urgency=medium

  * Initial release. (Closes: #820107)

 -- Martin Pitt <mpitt@debian.org>  Fri, 10 Mar 2017 14:43:06 +0100
