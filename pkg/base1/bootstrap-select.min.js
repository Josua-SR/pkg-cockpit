(function(e,t){if(typeof define==="function"&&define.amd){define(["jquery"],function(e){return t(e)})}else if(typeof exports==="object"){module.exports=t(require("jquery"))}else{t(jQuery)}})(this,function(){(function(e){"use strict";if(!String.prototype.includes){(function(){"use strict";var e={}.toString;var t=function(){try{var e={};var t=Object.defineProperty;var i=t(e,e,e)&&t}catch(n){}return i}();var i="".indexOf;var n=function(t){if(this==null){throw TypeError()}var n=String(this);if(t&&e.call(t)=="[object RegExp]"){throw TypeError()}var s=n.length;var o=String(t);var a=o.length;var l=arguments.length>1?arguments[1]:undefined;var r=l?Number(l):0;if(r!=r){r=0}var d=Math.min(Math.max(r,0),s);if(a+d>s){return false}return i.call(n,o,r)!=-1};if(t){t(String.prototype,"includes",{value:n,configurable:true,writable:true})}else{String.prototype.includes=n}})()}if(!String.prototype.startsWith){(function(){"use strict";var e=function(){try{var e={};var t=Object.defineProperty;var i=t(e,e,e)&&t}catch(n){}return i}();var t={}.toString;var i=function(e){if(this==null){throw TypeError()}var i=String(this);if(e&&t.call(e)=="[object RegExp]"){throw TypeError()}var n=i.length;var s=String(e);var o=s.length;var a=arguments.length>1?arguments[1]:undefined;var l=a?Number(a):0;if(l!=l){l=0}var r=Math.min(Math.max(l,0),n);if(o+r>n){return false}var d=-1;while(++d<o){if(i.charCodeAt(r+d)!=s.charCodeAt(d)){return false}}return true};if(e){e(String.prototype,"startsWith",{value:i,configurable:true,writable:true})}else{String.prototype.startsWith=i}})()}if(!Object.keys){Object.keys=function(e,t,i){i=[];for(t in e)i.hasOwnProperty.call(e,t)&&i.push(t);return i}}e.fn.triggerNative=function(e){var t=this[0],i;if(t.dispatchEvent){if(typeof Event==="function"){i=new Event(e,{bubbles:true})}else{i=document.createEvent("Event");i.initEvent(e,true,false)}t.dispatchEvent(i)}else{if(t.fireEvent){i=document.createEventObject();i.eventType=e;t.fireEvent("on"+e,i)}this.trigger(e)}};e.expr[":"].icontains=function(t,i,n){var s=e(t);var o=(s.data("tokens")||s.text()).toUpperCase();return o.includes(n[3].toUpperCase())};e.expr[":"].ibegins=function(t,i,n){var s=e(t);var o=(s.data("tokens")||s.text()).toUpperCase();return o.startsWith(n[3].toUpperCase())};e.expr[":"].aicontains=function(t,i,n){var s=e(t);var o=(s.data("tokens")||s.data("normalizedText")||s.text()).toUpperCase();return o.includes(n[3].toUpperCase())};e.expr[":"].aibegins=function(t,i,n){var s=e(t);var o=(s.data("tokens")||s.data("normalizedText")||s.text()).toUpperCase();return o.startsWith(n[3].toUpperCase())};function t(t){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];e.each(i,function(){t=t.replace(this.re,this.ch)});return t}function i(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var i="(?:"+Object.keys(t).join("|")+")",n=new RegExp(i),s=new RegExp(i,"g"),o=e==null?"":""+e;return n.test(o)?o.replace(s,function(e){return t[e]}):o}var n=function(t,i,s){if(s){s.stopPropagation();s.preventDefault()}this.$element=e(t);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=i;if(this.options.title===null){this.options.title=this.$element.attr("title")}this.val=n.prototype.val;this.render=n.prototype.render;this.refresh=n.prototype.refresh;this.setStyle=n.prototype.setStyle;this.selectAll=n.prototype.selectAll;this.deselectAll=n.prototype.deselectAll;this.destroy=n.prototype.remove;this.remove=n.prototype.remove;this.show=n.prototype.show;this.hide=n.prototype.hide;this.init()};n.VERSION="1.7.2";n.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return e==1?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[e==1?"Limit reached ({n} item max)":"Limit reached ({n} items max)",t==1?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:false,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,liveSearchPlaceholder:null,liveSearchNormalize:false,liveSearchStyle:"contains",actionsBox:false,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false};n.prototype={constructor:n,init:function(){var t=this,i=this.$element.attr("id");this.$element.addClass("bs-select-hidden");this.liObj={};this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$button=this.$newElement.children("button");this.$menu=this.$newElement.children(".dropdown-menu");this.$menuInner=this.$menu.children(".inner");this.$searchbox=this.$menu.find("input");if(this.options.dropdownAlignRight)this.$menu.addClass("dropdown-menu-right");if(typeof i!=="undefined"){this.$button.attr("data-id",i);e('label[for="'+i+'"]').click(function(e){e.preventDefault();t.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch)this.liveSearchListener();this.render();this.setStyle();this.setWidth();if(this.options.container)this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile)this.mobile();this.$newElement.on("hide.bs.dropdown",function(e){t.$element.trigger("hide.bs.select",e)});this.$newElement.on("hidden.bs.dropdown",function(e){t.$element.trigger("hidden.bs.select",e)});this.$newElement.on("show.bs.dropdown",function(e){t.$element.trigger("show.bs.select",e)});this.$newElement.on("shown.bs.dropdown",function(e){t.$element.trigger("shown.bs.select",e)});setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple?" show-tick":"",n=this.$element.parent().hasClass("input-group")?" input-group-btn":"",s=this.autofocus?" autofocus":"";var o=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var a=this.options.liveSearch?'<div class="bs-searchbox">'+'<input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+i(this.options.liveSearchPlaceholder)+'"')+">"+"</div>":"";var l=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox">'+'<div class="btn-group btn-group-sm btn-block">'+'<button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+"</button>"+'<button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button>"+"</div>"+"</div>":"";var r=this.multiple&&this.options.doneButton?'<div class="bs-donebutton">'+'<div class="btn-group btn-block">'+'<button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button>"+"</div>"+"</div>":"";var d='<div class="btn-group bootstrap-select'+t+n+'">'+'<button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+s+">"+'<span class="filter-option pull-left"></span>&nbsp;'+'<span class="caret"></span>'+"</button>"+'<div class="dropdown-menu open">'+o+a+l+'<ul class="dropdown-menu inner" role="menu">'+"</ul>"+r+"</div>"+"</div>";return e(d)},createView:function(){var e=this.createDropdown(),t=this.createLi();e.find("ul")[0].innerHTML=t;return e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var n=this,s=[],o=0,a=document.createElement("option"),l=-1;var r=function(e,t,i,n){return"<li"+(typeof i!=="undefined"&""!==i?' class="'+i+'"':"")+(typeof t!=="undefined"&null!==t?' data-original-index="'+t+'"':"")+(typeof n!=="undefined"&null!==n?'data-optgroup="'+n+'"':"")+">"+e+"</li>"};var d=function(e,s,o,a){return'<a tabindex="0"'+(typeof s!=="undefined"?' class="'+s+'"':"")+(typeof o!=="undefined"?' style="'+o+'"':"")+(n.options.liveSearchNormalize?' data-normalized-text="'+t(i(e))+'"':"")+(typeof a!=="undefined"||a!==null?' data-tokens="'+a+'"':"")+">"+e+'<span class="'+n.options.iconBase+" "+n.options.tickIcon+' check-mark"></span>'+"</a>"};if(this.options.title&&!this.multiple){l--;if(!this.$element.find(".bs-title-option").length){var h=this.$element[0];a.className="bs-title-option";a.appendChild(document.createTextNode(this.options.title));a.value="";h.insertBefore(a,h.firstChild);if(e(h.options[h.selectedIndex]).attr("selected")===undefined)a.selected=true}}this.$element.find("option").each(function(t){var i=e(this);l++;if(i.hasClass("bs-title-option"))return;var a=this.className||"",h=this.style.cssText,c=i.data("content")?i.data("content"):i.html(),p=i.data("tokens")?i.data("tokens"):null,u=typeof i.data("subtext")!=="undefined"?'<small class="text-muted">'+i.data("subtext")+"</small>":"",f=typeof i.data("icon")!=="undefined"?'<span class="'+n.options.iconBase+" "+i.data("icon")+'"></span> ':"",m=this.disabled||this.parentElement.tagName==="OPTGROUP"&&this.parentElement.disabled;if(f!==""&&m){f="<span>"+f+"</span>"}if(n.options.hideDisabled&&m){l--;return}if(!i.data("content")){c=f+'<span class="text">'+c+u+"</span>"}if(this.parentElement.tagName==="OPTGROUP"&&i.data("divider")!==true){var v=" "+this.parentElement.className||"";if(i.index()===0){o+=1;var g=this.parentElement.label,b=typeof i.parent().data("subtext")!=="undefined"?'<small class="text-muted">'+i.parent().data("subtext")+"</small>":"",$=i.parent().data("icon")?'<span class="'+n.options.iconBase+" "+i.parent().data("icon")+'"></span> ':"";g=$+'<span class="text">'+g+b+"</span>";if(t!==0&&s.length>0){l++;s.push(r("",null,"divider",o+"div"))}l++;s.push(r(g,null,"dropdown-header"+v,o))}s.push(r(d(c,"opt "+a+v,h,p),t,"",o))}else if(i.data("divider")===true){s.push(r("",t,"divider"))}else if(i.data("hidden")===true){s.push(r(d(c,a,h,p),t,"hidden is-hidden"))}else{if(this.previousElementSibling&&this.previousElementSibling.tagName==="OPTGROUP"){l++;s.push(r("",null,"divider",o+"div"))}s.push(r(d(c,a,h,p),t))}n.liObj[t]=l});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return s.join("")},findLis:function(){if(this.$lis==null)this.$lis=this.$menu.find("li");return this.$lis},render:function(t){var i=this,n;if(t!==false){this.$element.find("option").each(function(e){var t=i.findLis().eq(i.liObj[e]);i.setDisabled(e,this.disabled||this.parentElement.tagName==="OPTGROUP"&&this.parentElement.disabled,t);i.setSelected(e,this.selected,t)})}this.tabIndex();var s=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||this.parentElement.tagName==="OPTGROUP"&&this.parentElement.disabled))return false;var t=e(this),n=t.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+t.data("icon")+'"></i> ':"",s;if(i.options.showSubtext&&t.data("subtext")&&!i.multiple){s=' <small class="text-muted">'+t.data("subtext")+"</small>"}else{s=""}if(typeof t.attr("title")!=="undefined"){return t.attr("title")}else if(t.data("content")&&i.options.showContent){return t.data("content")}else{return n+t.html()+s}}}).toArray();var o=!this.multiple?s[0]:s.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&s.length>a[1]||a.length==1&&s.length>=2){n=this.options.hideDisabled?", [disabled]":"";var l=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+n).length,r=typeof this.options.countSelectedText==="function"?this.options.countSelectedText(s.length,l):this.options.countSelectedText;o=r.replace("{0}",s.length.toString()).replace("{1}",l.toString())}}if(this.options.title==undefined){this.options.title=this.$element.attr("title")}if(this.options.selectedTextFormat=="static"){o=this.options.title}if(!o){o=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",e.trim(o.replace(/<[^>]*>?/g,"")));this.$button.children(".filter-option").html(o);this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""))}var i=e?e:this.options.style;if(t=="add"){this.$button.addClass(i)}else if(t=="remove"){this.$button.removeClass(i)}else{this.$button.removeClass(this.options.style);this.$button.addClass(i)}},liHeight:function(t){if(!t&&(this.options.size===false||this.sizeInfo))return;var i=document.createElement("div"),n=document.createElement("div"),s=document.createElement("ul"),o=document.createElement("li"),a=document.createElement("li"),l=document.createElement("a"),r=document.createElement("span"),d=this.options.header?this.$menu.find(".popover-title")[0].cloneNode(true):null,h=this.options.liveSearch?document.createElement("div"):null,c=this.options.actionsBox&&this.multiple?this.$menu.find(".bs-actionsbox")[0].cloneNode(true):null,p=this.options.doneButton&&this.multiple?this.$menu.find(".bs-donebutton")[0].cloneNode(true):null;r.className="text";i.className=this.$menu[0].parentNode.className+" open";n.className="dropdown-menu open";s.className="dropdown-menu inner";o.className="divider";r.appendChild(document.createTextNode("Inner text"));l.appendChild(r);a.appendChild(l);s.appendChild(a);s.appendChild(o);if(d)n.appendChild(d);if(h){var u=document.createElement("span");h.className="bs-searchbox";u.className="form-control";h.appendChild(u);n.appendChild(h)}if(c)n.appendChild(c);n.appendChild(s);if(p)n.appendChild(p);i.appendChild(n);document.body.appendChild(i);var f=l.offsetHeight,m=d?d.offsetHeight:0,v=h?h.offsetHeight:0,g=c?c.offsetHeight:0,b=p?p.offsetHeight:0,$=e(o).outerHeight(true),x=typeof getComputedStyle==="function"?getComputedStyle(n):false,y=x?null:e(n),w=parseInt(x?x.paddingTop:y.css("paddingTop"))+parseInt(x?x.paddingBottom:y.css("paddingBottom"))+parseInt(x?x.borderTopWidth:y.css("borderTopWidth"))+parseInt(x?x.borderBottomWidth:y.css("borderBottomWidth")),C=w+parseInt(x?x.marginTop:y.css("marginTop"))+parseInt(x?x.marginBottom:y.css("marginBottom"))+2;document.body.removeChild(i);this.sizeInfo={liHeight:f,headerHeight:m,searchHeight:v,actionsHeight:g,doneButtonHeight:b,dividerHeight:$,menuPadding:w,menuExtras:C}},setSize:function(){this.findLis();this.liHeight();if(this.options.header)this.$menu.css("padding-top",0);if(this.options.size===false)return;var t=this,i=this.$menu,n=this.$menuInner,s=e(window),o=this.$newElement[0].offsetHeight,a=this.sizeInfo["liHeight"],l=this.sizeInfo["headerHeight"],r=this.sizeInfo["searchHeight"],d=this.sizeInfo["actionsHeight"],h=this.sizeInfo["doneButtonHeight"],c=this.sizeInfo["dividerHeight"],p=this.sizeInfo["menuPadding"],u=this.sizeInfo["menuExtras"],f=this.options.hideDisabled?".disabled":"",m,v,g,b,$=function(){g=t.$newElement.offset().top-s.scrollTop();b=s.height()-g-o};$();if(this.options.size==="auto"){var x=function(){var s,o=function(t,i){return function(n){if(i){return n.classList?n.classList.contains(t):e(n).hasClass(t)}else{return!(n.classList?n.classList.contains(t):e(n).hasClass(t))}}},c=t.$menuInner[0].getElementsByTagName("li"),f=Array.prototype.filter?Array.prototype.filter.call(c,o("hidden",false)):t.$lis.not(".hidden"),x=Array.prototype.filter?Array.prototype.filter.call(f,o("dropdown-header",true)):f.filter(".dropdown-header");$();m=b-u;if(t.options.container){if(!i.data("height"))i.data("height",i.height());v=i.data("height")}else{v=i.height()}if(t.options.dropupAuto){t.$newElement.toggleClass("dropup",g>b&&m-u<v)}if(t.$newElement.hasClass("dropup")){m=g-u}if(f.length+x.length>3){s=a*3+u-2}else{s=0}i.css({"max-height":m+"px",overflow:"hidden","min-height":s+l+r+d+h+"px"});n.css({"max-height":m-l-r-d-h-p+"px","overflow-y":"auto","min-height":Math.max(s-p,0)+"px"})};x();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",x);s.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",x)}else if(this.options.size&&this.options.size!="auto"&&this.$lis.not(f).length>this.options.size){var y=this.$lis.not(".divider").not(f).children().slice(0,this.options.size).last().parent().index(),w=this.$lis.slice(0,y+1).filter(".divider").length;m=a*this.options.size+w*c+p;if(t.options.container){if(!i.data("height"))i.data("height",i.height());v=i.data("height")}else{v=i.height()}if(t.options.dropupAuto){this.$newElement.toggleClass("dropup",g>b&&m-u<v)}i.css({"max-height":m+l+r+d+h+"px",overflow:"hidden","min-height":""});n.css({"max-height":m-p+"px","overflow-y":"auto","min-height":""})}},setWidth:function(){if(this.options.width==="auto"){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,i=e.children(".dropdown-menu").outerWidth(),n=t.css("width","auto").children("button").outerWidth();e.remove();t.remove();this.$newElement.css("width",Math.max(i,n)+"px")}else if(this.options.width==="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){var t=this,i="<div />",n=e(i),s,o,a=function(e){n.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup"));s=e.offset();o=e.hasClass("dropup")?0:e[0].offsetHeight;n.css({top:s.top+o,left:s.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){if(t.isDisabled()){return}a(e(this));n.appendTo(t.options.container);n.toggleClass("open",!e(this).hasClass("open"));n.append(t.$menu)});e(window).on("resize scroll",function(){a(t.$newElement)});this.$element.on("hide.bs.select",function(){t.$menu.data("height",t.$menu.height());n.detach()})},setSelected:function(e,t,i){if(!i){var i=this.findLis().eq(this.liObj[e])}i.toggleClass("selected",t)},setDisabled:function(e,t,i){if(!i){var i=this.findLis().eq(this.liObj[e])}if(t){i.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1)}else{i.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)}},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;if(this.isDisabled()){this.$newElement.addClass("disabled");this.$button.addClass("disabled").attr("tabindex",-1)}else{if(this.$button.hasClass("disabled")){this.$newElement.removeClass("disabled");this.$button.removeClass("disabled")}if(this.$button.attr("tabindex")==-1&&!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){if(this.$element.is("[tabindex]")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}},clickListener:function(){var t=this,i=e(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()});i.data("spaceSelect",false);this.$button.on("keyup",function(e){if(/(32)/.test(e.keyCode.toString(10))&&i.data("spaceSelect")){e.preventDefault();i.data("spaceSelect",false)}});this.$newElement.on("click",function(){t.setSize();t.$element.on("shown.bs.select",function(){if(!t.options.liveSearch&&!t.multiple){t.$menu.find(".selected a").focus()}else if(!t.multiple){var e=t.liObj[t.$element[0].selectedIndex];if(typeof e!=="number"||t.options.size===false)return;var i=t.$lis.eq(e)[0].offsetTop-t.$menuInner[0].offsetTop;i=i-t.$menuInner[0].offsetHeight/2+t.sizeInfo.liHeight/2;t.$menuInner[0].scrollTop=i}})});this.$menu.on("click","li a",function(i){var n=e(this),s=n.parent().data("originalIndex"),o=t.$element.val(),a=t.$element.prop("selectedIndex");if(t.multiple){i.stopPropagation()}i.preventDefault();if(!t.isDisabled()&&!n.parent().hasClass("disabled")){var l=t.$element.find("option"),r=l.eq(s),d=r.prop("selected"),h=r.parent("optgroup"),c=t.options.maxOptions,p=h.data("maxOptions")||false;if(!t.multiple){l.prop("selected",false);r.prop("selected",true);t.$menu.find(".selected").removeClass("selected");t.setSelected(s,true)}else{r.prop("selected",!d);t.setSelected(s,!d);n.blur();if(c!==false||p!==false){var u=c<l.filter(":selected").length,f=p<h.find("option:selected").length;if(c&&u||p&&f){if(c&&c==1){l.prop("selected",false);r.prop("selected",true);t.$menu.find(".selected").removeClass("selected");t.setSelected(s,true)}else if(p&&p==1){h.find("option:selected").prop("selected",false);r.prop("selected",true);var m=n.parent().data("optgroup");t.$menu.find('[data-optgroup="'+m+'"]').removeClass("selected");t.setSelected(s,true)}else{var v=typeof t.options.maxOptionsText==="function"?t.options.maxOptionsText(c,p):t.options.maxOptionsText,g=v[0].replace("{n}",c),b=v[1].replace("{n}",p),$=e('<div class="notify"></div>');if(v[2]){g=g.replace("{var}",v[2][c>1?0:1]);b=b.replace("{var}",v[2][p>1?0:1])}r.prop("selected",false);t.$menu.append($);if(c&&u){$.append(e("<div>"+g+"</div>"));t.$element.trigger("maxReached.bs.select")}if(p&&f){$.append(e("<div>"+b+"</div>"));t.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){t.setSelected(s,false)},10);$.delay(750).fadeOut(300,function(){e(this).remove()})}}}}if(!t.multiple){t.$button.focus()}else if(t.options.liveSearch){t.$searchbox.focus()}if(o!=t.$element.val()&&t.multiple||a!=t.$element.prop("selectedIndex")&&!t.multiple){t.$element.triggerNative("change");t.$element.trigger("changed.bs.select",[s,r.prop("selected"),d])}}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(i){if(i.currentTarget==this){i.preventDefault();i.stopPropagation();if(t.options.liveSearch&&!e(i.target).hasClass("close")){t.$searchbox.focus()}else{t.$button.focus()}}});this.$menu.on("click","li.divider, li.dropdown-header",function(e){e.preventDefault();e.stopPropagation();if(t.options.liveSearch){t.$searchbox.focus()}else{t.$button.focus()}});this.$menu.on("click",".popover-title .close",function(){t.$button.click()});this.$searchbox.on("click",function(e){e.stopPropagation()});this.$menu.on("click",".actions-btn",function(i){if(t.options.liveSearch){t.$searchbox.focus()}else{t.$button.focus()}i.preventDefault();i.stopPropagation();if(e(this).hasClass("bs-select-all")){t.selectAll()}else{t.deselectAll()}t.$element.triggerNative("change")});this.$element.change(function(){t.render(false)})},liveSearchListener:function(){var n=this,s=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){n.$menuInner.find(".active").removeClass("active");if(!!n.$searchbox.val()){n.$searchbox.val("");n.$lis.not(".is-hidden").removeClass("hidden");if(!!s.parent().length)s.remove()}if(!n.multiple)n.$menuInner.find(".selected").addClass("active");setTimeout(function(){n.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(n.$searchbox.val()){var o=n.$lis.not(".is-hidden").removeClass("hidden").children("a");if(n.options.liveSearchNormalize){o=o.not(":a"+n._searchStyle()+'("'+t(n.$searchbox.val())+'")')}else{o=o.not(":"+n._searchStyle()+'("'+n.$searchbox.val()+'")')}o.parent().addClass("hidden");n.$lis.filter(".dropdown-header").each(function(){var t=e(this),i=t.data("optgroup");if(n.$lis.filter("[data-optgroup="+i+"]").not(t).not(".hidden").length===0){t.addClass("hidden");n.$lis.filter("[data-optgroup="+i+"div]").addClass("hidden")}});var a=n.$lis.not(".hidden");a.each(function(t){var i=e(this);if(i.hasClass("divider")&&(i.index()===a.eq(0).index()||i.index()===a.last().index()||a.eq(t+1).hasClass("divider"))){i.addClass("hidden")}});if(!n.$lis.not(".hidden, .no-results").length){if(!!s.parent().length){s.remove()}s.html(n.options.noneResultsText.replace("{0}",'"'+i(n.$searchbox.val())+'"')).show();n.$menuInner.append(s)}else if(!!s.parent().length){s.remove()}}else{n.$lis.not(".is-hidden").removeClass("hidden");if(!!s.parent().length){s.remove()}}n.$lis.filter(".active").removeClass("active");if(n.$searchbox.val())n.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus();e(this).focus()})},_searchStyle:function(){var e="icontains";switch(this.options.liveSearchStyle){case"begins":case"startsWith":e="ibegins";break;case"contains":default:break}return e},val:function(e){if(typeof e!=="undefined"){this.$element.val(e);this.render();return this.$element}else{return this.$element.val()}},selectAll:function(){this.findLis();this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",true);this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").addClass("selected");this.render(false)},deselectAll:function(){this.findLis();this.$element.find("option:enabled").not("[data-divider], [data-hidden]").prop("selected",false);this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").removeClass("selected");this.render(false)},keydown:function(i){var n=e(this),s=n.is("input")?n.parent().parent():n.parent(),o,a=s.data("this"),l,r,d,h,c,p,u,f,m=":not(.disabled, .hidden, .dropdown-header, .divider)",v={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(a.options.liveSearch)s=n.parent().parent();if(a.options.container)s=a.$menu;o=e("[role=menu] li a",s);f=a.$menu.parent().hasClass("open");if(!f&&(i.keyCode>=48&&i.keyCode<=57||i.keyCode>=65&&i.keyCode<=90)){if(!a.options.container){a.setSize();a.$menu.parent().addClass("open");f=true}else{a.$newElement.trigger("click")}a.$searchbox.focus()}if(a.options.liveSearch){if(/(^9$|27)/.test(i.keyCode.toString(10))&&f&&a.$menu.find(".active").length===0){i.preventDefault();a.$menu.parent().removeClass("open");if(a.options.container)a.$newElement.removeClass("open");a.$button.focus()}o=e("[role=menu] li:not(.disabled, .hidden, .dropdown-header, .divider)",s);if(!n.val()&&!/(38|40)/.test(i.keyCode.toString(10))){if(o.filter(".active").length===0){o=a.$newElement.find("li");if(a.options.liveSearchNormalize){o=o.filter(":a"+a._searchStyle()+"("+t(v[i.keyCode])+")")}else{o=o.filter(":"+a._searchStyle()+"("+v[i.keyCode]+")")}}}}if(!o.length)return;if(/(38|40)/.test(i.keyCode.toString(10))){l=o.index(o.filter(":focus"));d=o.parent(m).first().data("originalIndex");h=o.parent(m).last().data("originalIndex");r=o.eq(l).parent().nextAll(m).eq(0).data("originalIndex");c=o.eq(l).parent().prevAll(m).eq(0).data("originalIndex");p=o.eq(r).parent().prevAll(m).eq(0).data("originalIndex");if(a.options.liveSearch){o.each(function(t){if(!e(this).hasClass("disabled")){e(this).data("index",t)}});l=o.index(o.filter(".active"));d=o.first().data("index");h=o.last().data("index");r=o.eq(l).nextAll().eq(0).data("index");c=o.eq(l).prevAll().eq(0).data("index");p=o.eq(r).prevAll().eq(0).data("index")}u=n.data("prevIndex");if(i.keyCode==38){if(a.options.liveSearch)l-=1;if(l!=p&&l>c)l=c;if(l<d)l=d;if(l==u)l=h}else if(i.keyCode==40){if(a.options.liveSearch)l+=1;if(l==-1)l=0;if(l!=p&&l<r)l=r;if(l>h)l=h;if(l==u)l=d}n.data("prevIndex",l);if(!a.options.liveSearch){o.eq(l).focus()}else{i.preventDefault();if(!n.hasClass("dropdown-toggle")){o.removeClass("active").eq(l).addClass("active").children("a").focus();n.focus()}}}else if(!n.is("input")){var g=[],b,$;o.each(function(){if(!e(this).parent().hasClass("disabled")){if(e.trim(e(this).text().toLowerCase()).substring(0,1)==v[i.keyCode]){g.push(e(this).parent().index())}}});b=e(document).data("keycount");b++;e(document).data("keycount",b);$=e.trim(e(":focus").text().toLowerCase()).substring(0,1);if($!=v[i.keyCode]){b=1;e(document).data("keycount",b)}else if(b>=g.length){e(document).data("keycount",0);if(b>g.length)b=1}o.eq(g[b-1]).focus()}if((/(13|32)/.test(i.keyCode.toString(10))||/(^9$)/.test(i.keyCode.toString(10))&&a.options.selectOnTab)&&f){if(!/(32)/.test(i.keyCode.toString(10)))i.preventDefault();if(!a.options.liveSearch){var x=e(":focus");x.click();x.focus();i.preventDefault();e(document).data("spaceSelect",true)}else if(!/(32)/.test(i.keyCode.toString(10))){a.$menu.find(".active a").click();n.focus()}e(document).data("keycount",0)}if(/(^9$|27)/.test(i.keyCode.toString(10))&&f&&(a.multiple||a.options.liveSearch)||/(27)/.test(i.keyCode.toString(10))&&!f){a.$menu.parent().removeClass("open");if(a.options.container)a.$newElement.removeClass("open");a.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);if(this.options.container)this.$menu.hide()},refresh:function(){this.$lis=null;this.liObj={};this.reloadLi();this.render();this.checkDisabled();this.liHeight(true);this.setStyle();this.setWidth();if(this.$lis)this.$searchbox.trigger("propertychange");this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};function s(t,i){var s=arguments;var o=t,a=i;[].shift.apply(s);var l;var r=this.each(function(){var t=e(this);if(t.is("select")){var i=t.data("selectpicker"),r=typeof o=="object"&&o;if(!i){var d=e.extend({},n.DEFAULTS,e.fn.selectpicker.defaults||{},t.data(),r);t.data("selectpicker",i=new n(this,d,a))}else if(r){for(var h in r){if(r.hasOwnProperty(h)){i.options[h]=r[h]}}}if(typeof o=="string"){if(i[o]instanceof Function){l=i[o].apply(i,s)}else{l=i.options[o]}}}});if(typeof l!=="undefined"){return l}else{return r}}var o=e.fn.selectpicker;e.fn.selectpicker=s;e.fn.selectpicker.Constructor=n;e.fn.selectpicker.noConflict=function(){e.fn.selectpicker=o;return this};e(document).data("keycount",0).on("keydown",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',n.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()});e(window).on("load.bs.select.data-api",function(){e(".selectpicker").each(function(){var t=e(this);s.call(t,t.data())})})})(jQuery)});
