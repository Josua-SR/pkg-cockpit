
(function(){"use strict";var e="/api/v1";var n="/oapi/v1";var t={api:e,create:0};var r=p([{kind:"DeploymentConfig",type:"deploymentconfigs",api:n},{kind:"Endpoints",type:"endpoints",api:e},{kind:"Group",type:"groups",api:n,global:true},{kind:"Image",type:"images",api:n,global:true},{kind:"ImageStream",type:"imagestreams",api:n},{kind:"ImageStreamImage",type:"imagestreamimages",api:n},{kind:"ImageStreamTag",type:"imagestreamtags",api:n},{kind:"Namespace",type:"namespaces",api:e,global:true,create:-100},{kind:"Node",type:"nodes",api:e,global:true},{kind:"Pod",type:"pods",api:e,create:-20},{kind:"PolicyBinding",type:"policybindings",api:n},{kind:"RoleBinding",type:"rolebindings",api:n},{kind:"Route",type:"routes",api:n},{kind:"Project",type:"projects",api:n,global:true,create:-90},{kind:"ProjectRequest",type:"projectrequests",api:n,global:true,create:-90},{kind:"ReplicationController",type:"replicationcontrollers",api:e,create:-60},{kind:"Service",type:"services",api:e,create:-80},{kind:"User",type:"users",api:n,global:true}]);var a=/^[a-z0-9]([-a-z0-9]*[a-z0-9])?$/;var i="120s";function u(){if(window.debugging=="all"||window.debugging=="kube")console.debug.apply(console,arguments)}function o(e){var n,t,r,a;if(e.length===0)return 0;for(n=0,t=0,a=e.length;t<a;t++){r=e.charCodeAt(t);n=(n<<5)-n+r;n|=0}return Math.abs(n)}function l(e,n){var t=0;var r=e.length-1;var a,i;while(t<=r){a=(t+r)/2|0;i=e[a];if(i<n)t=a+1;else if(i>n)r=a-1;else return a}return t}function c(e){var n=this;var t=[];n.add=function r(n,a){var i,u,c,f,s=n.length;for(u=0;u<s;u++){i=o(""+n[u])%e;c=t[i];if(c===undefined)c=t[i]=[];f=l(c,a);if(c[f]!=a)c.splice(f,0,a)}};n.get=function a(n){var r=t[o(""+n)%e];if(!r)return[];return r.slice()};n.all=function i(n){var r,a,i,u,l;var c,f,s,d,p;for(a=0,l=n.length;a<l;a++){r=o(""+n[a])%e;i=t[r];if(!i){u=[];break}if(!u){u=i.slice()}else{for(d=0,p=0,c=u.length;d<c;){f=u[d];s=i[d+p];if(s<f){p+=1}else if(f!==s){u.splice(d,1);c-=1}else{d+=1}}}}return u||[]}}var f=Math.random().toString(36).slice(2);var s=1;function d(){var e="weakmap"+s;s+=1;var n=this;n.delete=function t(n){var t,r=n[f];if(r)delete r[e]};n.has=function r(n){var t=n[f];return t&&e in t};n.get=function a(n){var t=n[f];if(!t)return undefined;return t[e]};n.set=function i(n,t){var r=n[f];if(!r){r=function a(){};Object.defineProperty(n,f,{enumerable:false,configurable:false,writable:false,value:r})}r[e]=t}}function p(e){var n,r,a={"":t};for(n=0,r=e.length;n<r;n++){a[e[n].type]=e[n];a[e[n].kind]=e[n]}return a}function v(e){var n=e[0];if(n&&typeof n==="object"){if(n.metadata){if(n.metadata.selfLink)return n.metadata.selfLink;e=[n.kind,n.metadata.name,n.metadata.namespace]}else if(n.name&&n.kind){e=[n.kind,n.name,n.namespace]}}else if(n&&n[0]=="/"){return n}var t=r[e[0]]||r[""];var a=t.api;if(!t.global&&e[2])a+="/namespaces/"+e[2];a+="/"+t.type;if(e[1])a+="/"+e[1];return a}angular.module("kubeClient",[]).value("KUBE_SCHEMA",r).factory("kubeLoader",["$q","$exceptionHandler","$timeout","KubeWatch","KubeRequest","KUBE_SCHEMA",function(e,n,t,a,i,u){var o=[];var l={namespace:null};var c={};var f={};var s=null;var d=null;function p(e,n){var t=r[e]||r[""];var i=t.api;if(!t.global&&n)i+="/namespaces/"+n;i+="/"+t.type;if(!(e in c)){c[i]=new a(i,m);c[i].params={what:e,global:t.global,namespace:n}}return c[i]}function g(n){var t,r=l.namespace;if(angular.isArray(r)){t=[];angular.forEach(r,function(e){t.push(p(n,e))});return e.all(t)}else{return p(n,r)}}function m(e){if(s===null)s=e;else s.push.apply(s,e);if(e.length>0){if(d===null)d=window.setTimeout(y,150);else return}h(b)}function h(e){var n=s;s=null;if(!n)return;var t={};var r={};var a,i,u,o,l,c;for(a=0,i=n.length;a<i;a++){l=n[a].object;if(l){o=v([l]);if(n[a].type=="DELETED"){delete f[o];r[o]=l}else{t[o]=l;f[o]=l}}}e(t,r)}function b(){var e,t,r;for(e=0,t=o.length;e<t;e++){r=o[e];try{if(r)r.apply(E,arguments)}catch(a){n(a)}}}function y(){d=null;h(b)}function k(){var e,n;window.clearTimeout(d);d=null;s=null;var t=c;c={};angular.forEach(t,function(e){e.cancel()});for(e in f)delete f[e];for(e in l)delete l[e];l.namespace=null;b()}function K(e,n,t){m(e.map(function(e){if(t)e.kind=t;return{type:n?"DELETED":"ADDED",object:e}}));h(b)}function w(){var n=v(arguments);var t=new i("GET",n);var r=t.then(function(e){t=null;var n=e.data;if(!n||!n.kind){return null}else if(n.kind.indexOf("List")===n.kind.length-4){K(n.items,false,n.kind.slice(0,-4));return n.items}else{K([n]);return n}},function(n){t=null;return e.reject(n)});r.cancel=function a(e){t.cancel(e)};return r}function S(e){window.clearTimeout(d);d=null;var n,t,r={};if(e===null){r=null}else if(angular.isArray(e)){angular.forEach(e,function(e){r[e]=true})}else{r[e]=true}l.namespace=e;var a={},i={};h(function(e,n){a=e;i=n});var u,o;for(o in f){u=f[o].metadata;if(r&&u.namespace&&!(u.namespace in r)){i[o]=f[o];delete f[o];delete a[o]}}var s,p,v=[];for(s in c){p=c[s];if(!r&&p.params.namespace||r&&!p.params.global&&!(p.params.namespace in r)){c[s].cancel();v.push(p)}}b(a,i);angular.forEach(v,function(e){g(e.params.what)})}var E={watch:g,load:function j(){return w.apply(this,arguments)},limit:function D(e){if("namespace"in e)S(e.namespace)},reset:k,listen:function T(e,n){if(n)o.unshift(e);else o.push(e);var r=t(function(){r=null;e.call(E,f)},0);return{cancel:function(){var n,a;t.cancel(r);r=null;for(n=0,a=o.length;n<a;n++){if(o[n]===e)o[n]=null}}}},handle:function M(e,n,t){if(!angular.isArray(e))e=[e];K(e,n,t)},resolve:function q(){return v(arguments)},objects:f,limits:l};return E}]).factory("kubeSelect",["kubeLoader",function(e){var n={};var t=null;var r=null;var a=new d;var i=1;e.listen(function(e,n){i+=1;if(!e){t=null}else if(t){o(e)}},true);function u(){var n,r;t=new c(262139);o(e.objects)}function o(e){var r,a,i,u,o,l;for(r in e){a=e[r];for(i in n){l=n[i];if(l.digest){u=l.digest.call(null,a);if(u)t.add([u],r)}else if(l.digests){o=l.digests.call(null,a);if(o.length)t.add(o,r)}}}}function l(e){var n=a.get(e);if(!n||n.version!==i){n={version:i,length:n?n.length:undefined};a.set(e,n)}return n}function f(e){return function(){var n=l(this);var r=Array.prototype.slice.call(arguments);var a=e.name+": "+JSON.stringify(r);if(a in n)return n[a];var i;if(e.filter){i=e.filter.apply(this,r)}else{if(!t)u();if(!n.indexed){o(this);n.indexed=true}if(e.digests){i=g(e,this,r)}else if(e.digest){i=v(e,this,r)}else{console.warn("invalid filter: "+e.name);i={}}}n[a]=i;return i}}function s(){var e,t={length:{enumerable:false,configurable:true,get:function(){return l(this).length}}};for(e in n){t[e]={enumerable:false,configurable:true,value:f(n[e])}}return t}function p(e,n,t){var a,i;if(n===undefined){n=0;for(a in e)n+=1}r=r||s();Object.defineProperties(e,r);i=l(e);i.length=n;i.selection=e;i.indexed=t;return e}function v(e,n,r){var a,i,u,o,l,c,f;var s={},d=0;u=e.digest.apply(null,r);if(u!==null&&u!==undefined){l=t.get(u)}else{l=[]}for(a=0,i=l.length;a<i;a++){c=l[a];f=n[c];if(f){if(u===e.digest.call(null,f)){s[c]=f;d+=1}}}return p(s,d,true)}function g(e,n,r){var a,i,u,o,l,c,f,s;var d,v,g,m;var h={},b=0;a=e.digests.apply(null,r);i=a.length;if(i>0){s=t.all(a);a.sort()}else{s=[]}for(d=0,v=s.length;d<v;d++){l=s[d];f=n[l];if(f){u=e.digests.call(null,f);u.sort();c=false;for(g=0,m=u.length;!c&&g<m;g++){if(a[0]===u[g]){c=true;for(o=0;c&&o<i;o++){if(a[o]!==u[g+o])c=false}}}if(c){h[l]=f;b+=1}}}return p(h,b,true)}function m(e,a){if(typeof a=="function"){e={name:e,filter:a}}n[e.name]=e;t=null;r=null;i+=1}m("one",function(){var e;for(e in this)return this[e];return null});m("extend",function(e){var n;for(n in this)e[n]=this[n];return e});m({name:"label",digests:function(e){var n,t=[],r=e.metadata;var a=r?r.labels:e;for(n in a||[])t.push(n+"="+a[n]);return t}});m({name:"namespace",digest:function(e){if(typeof e==="string")return e;var n=e.metadata;return n?n.namespace:null}});m({name:"name",digest:function(e){if(typeof e==="string")return e;var n=e.metadata;return n?n.name:null}});m({name:"kind",digest:function(e){if(typeof e==="string")return e;return e.kind}});m({name:"host",digest:function(e){if(typeof e==="string")return e;var n=e.spec;return n?n.nodeName:null}});var h={};function b(n){var t,r=false;if(n===undefined){n=e.objects;r=true}else if(!n){n=h}if(typeof n!=="object"){console.warn("Pass resources or resource dicts or null to kubeSelect()");n=h}t=l(n);if(t.selection)return t.selection;var a,i;if(typeof n.kind==="string"){if(!t.single){a=n.meta||{};i={};i[a.selfLink||1]=n;t.single=p(i,undefined,false)}return t.single}return p(n,undefined,r)}b.register=m;return b}]).factory("kubeMethods",["$q","KUBE_SCHEMA","KubeRequest","kubeLoader",function(e,n,t,o){function l(e,t){var r=n[e.kind].create||0;var a=n[t.kind].create||0;return r-a}function c(n,a){var c=e.defer();var f=c.promise;var s=null;if(!angular.isArray(n)){if(n.kind=="List")n=n.items;else n=[n]}var d=false;var p=false;n.forEach(function(e){var n=e.metadata||{};if((e.kind=="Namespace"||e.kind=="Project")&&n.name===a)d=true;var t=r[e.kind]||r[""];if(!t.global)p=true});n=n.slice();if(a&&p&&!d){n.unshift({apiVersion:"v1",kind:"Namespace",metadata:{name:a}})}n.sort(l);function g(){var e=n.shift();if(!e){c.resolve();return}var r=v([e.kind,null,a||"default"]);r+="?timeout="+i;s=new t("POST",r,JSON.stringify(e)).then(function(e){var n;u("created resource:",r,e.data);if(e.data.kind){if(e.data.kind=="Project"){n=e.data.metadata||{};delete n.selfLink}o.handle(e.data)}g()},function(n){var t=n.data;if(e.kind=="Namespace"&&t&&(t.code===409||t.code===403)){u("skipping namespace creation");g()}else{u("create failed:",r,t||n);c.reject(t||n)}})}g();f.cancel=function m(){if(s)s.cancel()};return f}function f(){var n=v(arguments);var r=o.objects[n];n+="?timeout="+i;var a=new t("DELETE",n);return a.then(function(){u("deleted resource:",n,r);if(r)o.handle(r,true)},function(n){var t=n.data;return e.reject(t||n)})}function s(n,r){var a=v([n]);a+="?timeout="+i;var l=JSON.stringify(r);var c={headers:{"Content-Type":"application/strategic-merge-patch+json"}};var f=new t("PATCH",a,l,c);return f.then(function(e){u("patched resource:",a,e.data);if(e.data.kind)o.handle(e.data)},function(n){var t=n.data;return e.reject(t||n)})}function d(n,t){var r=e.defer();var i,u=[];if(!t)t={};var o=n.metadata;if(o){i=null;if(o.name!==undefined){if(!o.name)i=new Error("The name cannot be empty");else if(!a.test(o.name))i=new Error("The name contains invalid characters")}if(i){i.target=t["metadata.name"];u.push(i)}i=null;if(o.namespace!==undefined){if(!o.namespace)i=new Error("The namespace cannot be empty");else if(!a.test(o.namespace))i=new Error("The name contains invalid characters")}if(i){i.target=t["metadata.namespace"];u.push(i)}}if(u.length)r.reject(u);else r.resolve();return r.promise}return{create:c,"delete":f,check:d,patch:s}}]).provider("KubeRequest",[function(){var e=this;e.KubeRequestFactory="MissingKubeRequest";function n(e,n){if(angular.isString(n))return e.get(n,"KubeRequest");else return e.invoke(n)}e.$get=["$injector",function(t){return n(t,e.KubeRequestFactory)}]}]).factory("MissingKubeRequest",[function(){return function e(n,t){throw"no KubeRequestFactory set"}}]).provider("KubeSocket",[function(){var e=this;e.KubeSocketFactory="MissingKubeSocket";function n(e,n){if(angular.isString(n))return e.get(n,"KubeSocket");else return e.invoke(n)}e.$get=["$injector",function(t){return n(t,e.KubeSocketFactory)}]}]).factory("MissingKubeSocket",[function(){return function e(n,t){throw"no KubeSocketFactory set"}}]).provider("KubeWatch",[function(){var e=this;e.KubeWatchFactory="MissingKubeWatch";function n(e,n){if(angular.isString(n))return e.get(n,"KubeWatch");else return e.invoke(n)}e.$get=["$injector",function(t){return n(t,e.KubeWatchFactory)}]}]).factory("MissingKubeWatch",[function(){return function e(n,t){throw"no KubeWatchFactory set"}}]).provider("KubeDiscoverSettings",[function(){var e=this;e.KubeDiscoverSettingsFactory="MissingKubeDiscoverSettings";function n(e,n){if(angular.isString(n))return e.get(n,"KubeDiscoverSettings");else return e.invoke(n)}e.$get=["$injector",function(t){return n(t,e.KubeDiscoverSettingsFactory)}]}]).factory("MissingKubeDiscoverSettings",[function(){return function e(n,t){throw"no KubeDiscoverSettingsFactory set"}}])})();

//# sourceURL=kubernetes/scripts/kube-client.min.js

(function(){"use strict";function e(){if(window.debugging=="all"||window.debugging=="kube")console.debug.apply(console,arguments)}function n(e){if(!e)return;var n;try{n=JSON.parse(e.data)}catch(t){return}if(n&&n.message)e.message=e.statusText=n.message}function t(e,n){var t,r,o=e[n+"-data"];if(o!==undefined)return{data:window.atob(o)};var i=e[n];if(i!==undefined)return{file:i};return undefined}function r(e,n){return window.btoa(window.unescape(encodeURIComponent(e+":"+n)))}function o(n,o){var i,a,c;var s={port:8080,headers:{}};try{i=JSON.parse(n)}catch(u){console.warn("received invalid kubectl config",u);return null}if(!o)o=i["current-context"];var l=i["contexts"]||[];var f,v;l.forEach(function(e){if(e.name===o){var n=e.context||{};f=n.user;v=n.cluster}});var d,p=i["users"]||[];p.forEach(function(e){if(e.name===f)d=e.user});var m,b=i["clusters"]||[];b.forEach(function(e){if(e.name==v)m=e.cluster});if(m){if(m.server){c=document.createElement("a");c.href=m.server;if(c.hostname)s.address=c.hostname;if(c.port)s.port=parseInt(c.port,10);if(c.protocol=="https:"){if(!c.port||c.port==="0")s.port=c.href==m.server?6443:443;s.tls={};s.tls.authority=t(m,"certificate-authority");s.tls.validate=!m["insecure-skip-tls-verify"]}}}if(d){if(d.token)s.headers["Authorization"]="Bearer "+d.token;if(d.username)s.headers["Authorization"]="Basic "+r(d.username,d.password||"");if(s.tls){s.tls.certificate=t(d,"client-certificate");s.tls.key=t(d,"client-key")}}e("parsed kube config",s);return s}angular.module("kubeClient.cockpit",["kubeClient","kubeUtils"]).factory("CockpitKubeWatch",["$q","KUBE_SCHEMA","cockpitKubeDiscover",function(t,r,o){return function i(r,a){e("creating watch:",r);var c;var s=false;var u=null;var l=null;var f=null;var v=t.defer();var d=v.promise;var p=false;var m={};var b;var h;function g(e){if(e){b=m;m={}}else{b=null}k(true)}function k(e){if(e||h!==undefined){window.clearTimeout(h);h=window.setTimeout(w,100)}}function w(e){if(p)return;p=true;var n,t,r=[];t=b;b=null;for(n in t){if(!(n in m))r.push({type:"DELETED",object:t[n]})}if(r.length)a(r);a([]);if(e)v.reject(e);else v.resolve()}var E;function y(n){if(E)n=E+n;var t=n.split("\n");var r,o=t.length-1;E=t[o];var i=[];var s,l;for(r=0;r<o;r++){try{s=JSON.parse(t[r])}catch(f){console.warn(t[r],f);u.close();continue}l=s.object;if(!l){console.warn("invalid watch without object",s);continue}if(s.type=="ERROR"){if(c){c=null;C()}continue}var v=l.metadata;if(!v||!v.uid||!l.kind){console.warn("invalid kube object: ",l);continue}c=v.resourceVersion;var d=v.uid;if(s.type=="DELETED")delete m[d];else m[d]=l;e(s.type,l.kind,v.uid);i.push(s)}a(i);k()}function C(){if(u)return;var t=true;var o=r+"?watch=true";if(c){o+="&resourceVersion="+encodeURIComponent(c);t=false}var i=false;window.setTimeout(function(){i=true},1e3);var a=angular.extend({},l,{path:o,method:"GET"});u=cockpit.channel(a);var f={};var v=false;u.addEventListener("control",function(e,n){if(n.command=="response"){f=n;if(f.status>299)v=true;g(t)}});u.addEventListener("message",function(e,n){if(v)f.data=(f.data||"")+n;else y(n)});u.addEventListener("close",function(t,o){u=null;h=false;if(s)return;var a="watching "+r+" failed: ";var c=o.problem;var l=f.status;if(c){a+=c;if(c=="disconnected")e(a);else console.warn(a);f.problem=c;f.status=999;w(f)}else if(v){n(f);a+=f.message||f.reason||l;if(l===404||l===410||l===403){e(a);w(f);return}else{console.warn(a)}w(f)}else if(!i){console.warn("watching kube "+r+" didn't block")}else{C();return}S()});u.control({command:"done"})}function S(){if(!f){f=window.setTimeout(function(){f=null;C()},5e3)}}t.when(o(),function(e){l=e;C()},function(e){w(e)});d.cancel=function T(e){s=true;var n;if(u){if(e)n=e.problem;u.close(n||"disconnected");u=null}window.clearTimeout(f);f=null;l=null;w(e)};return d}}]).factory("CockpitKubectlWebSocket",[function(){function e(e,n){var t=e.indexOf("?");var r=e;var o;if(t===-1)r=e;else r=e.substr(0,t);o=r.split("/").map(decodeURIComponent);if(t!==-1){angular.forEach(e.substring(t+1).split("&"),function(e){var t,r=e.split("=");var o=decodeURIComponent(r[0]);var i=decodeURIComponent(r[1]);if(n.hasOwnProperty(o)){t=n[o];if(!angular.isArray(t))t=n[o]=[t];t.push(i)}else{n[o]=i}})}return o}function n(n){var t={};var r=e(n,t);var o=[];var i=[];var a="default";var c=null;var s="log";var u="";var l,f;for(l=0,f=r.length;l<f;l++){if(r[l]==="namespaces"){a=r[++l]}else if(r[l]==="pods"){u=r[++l];if(r[l+1]=="exec")s="exec";else if(r[l+1]=="log")s="logs"}}for(l in t){if(l=="container"){c=t[l]}else if(l=="command"){if(angular.isArray(t[l]))o=t[l];else o.push(t[l])}else if(l=="stdin"||l=="tty"||l=="follow"){i.push("--"+l)}}var v=["kubectl",s,"--namespace="+a];if(c)v.push("--container="+c);v.push.apply(v,i);v.push(u,"--");v.push.apply(v,o);return v}return function t(e,r){var o=n(e);var i=false;var a;var c=0;var s={};cockpit.event_target(s);function u(){a=cockpit.channel({payload:"stream",spawn:o,pty:true});a.addEventListener("close",function(e,n){var t=n.problem||"";a=null;c=3;var r=document.createEvent("Event");r.initEvent("close",false,false,!!t,1e3,t);s.dispatchEvent(r)});a.addEventListener("message",function(e,n){if(i)n="1"+window.btoa(n);var t=document.createEvent("MessageEvent");if(!t.initMessageEvent)t=new window.MessageEvent("message",{data:n});else t.initMessageEvent("message",false,false,n,null,null,window,null);s.dispatchEvent(t)});c=1;var e=document.createEvent("Event");e.initEvent("open",false,false);s.dispatchEvent(e)}function l(){var e=document.createEvent("Event");e.initEvent("close",false,false,false,1002,"protocol-error");s.dispatchEvent(e)}function f(e,n){if(a)a.close(n)}function v(e){if(i)e=window.atob(e.slice(1));if(a)a.send(e)}Object.defineProperties(s,{binaryType:{value:"arraybuffer"},bufferedAmount:{value:0},extensions:{value:""},protocol:{value:i?"base64.channel.k8s.io":""},readyState:{get:function(){return c}},url:{value:e},close:{value:f},send:{value:v}});var d=true;if(r){if(angular.isArray(r))d=i=r.indexOf("base64.channel.k8s.io")!==-1;else d=i="base64.channel.k8s.io"}if(d){window.setTimeout(u)}else{console.warn("Unsupported kubernetes container WebSocket subprotocol: "+r);window.setTimeout(l)}return s}}]).factory("CockpitKubeSocket",["$q","$injector",function(e,n){return function t(r,o){var i;var a=0;var c={};var s;var u=[];if(o&&o.protocols){u=o.protocols;if(!angular.isArray(u))u=[String(o.protocols)]}if(o&&o.port)i=o;else i=n.get("cockpitKubeDiscover")();function l(){var e=document.createEvent("Event");e.initEvent("close",false,false,false,1002,"protocol-error");c.dispatchEvent(e)}function f(e,n){if(s)s.close(n)}function v(e){if(s)s.send(e)}Object.defineProperties(c,{binaryType:{value:"arraybuffer"},bufferedAmount:{value:0},extensions:{value:""},protocol:{value:u[0]},readyState:{get:function(){return a}},url:{value:r},close:{value:f},send:{value:v}});e.when(i,function d(e){cockpit.event_target(c);s=cockpit.channel(angular.extend({},e,{payload:"websocket-stream1",path:r,protocols:u}));s.addEventListener("close",function(e,n){var t=n.problem||"";s=null;a=3;var r=document.createEvent("Event");r.initEvent("close",false,false,!!t,1e3,t);c.dispatchEvent(r)});s.addEventListener("message",function(e,n){var t=document.createEvent("MessageEvent");if(!t.initMessageEvent)t=new window.MessageEvent("message",{data:n});else t.initMessageEvent("message",false,false,n,null,null,window,null);c.dispatchEvent(t)});a=1;var n=document.createEvent("Event");n.initEvent("open",false,false);c.dispatchEvent(n)});return c}}]).factory("CockpitKubeRequest",["$q","$injector",function(e,t){var r="Content-Type";var o="application/json";return function i(a,c,s,u){var l=e.defer();var f=l.promise;var v,d;var p={};if(s&&typeof s=="object"){s=JSON.stringify(s);p[r]=o}if(!u)u={};if(u&&u.port)v=u;else v=t.get("cockpitKubeDiscover")();e.when(v,function m(e){var t=angular.extend({},u,e,{path:c,method:a,payload:"http-stream2"});t.headers=angular.extend(p,u.headers||{},e.headers||{});d=cockpit.channel(t);var i={};d.addEventListener("control",function(e,n){if(n.command=="response"){i=n;i.statusText=i.reason}});d.addEventListener("message",function(e,n){i.data=(i.data||"")+n});d.addEventListener("close",function(e,t){var a;d=null;if(t.problem){i.problem=i.statusText=t.problem;i.status=999}var c=i.headers||{};if(c[r]==o){try{i.data=JSON.parse(i.data)}catch(s){}}if(i.status>299){n(i);l.reject(i)}else{l.resolve(i)}});if(s)d.send(s);d.control({command:"done"})},function b(e){l.reject(e)});f.cancel=function h(){if(v.cancel)v.cancel();if(d)d.close("cancelled")};return f}}]).factory("cockpitKubectlConfig",["$q",function(e){return function n(){var n=e.defer();var t=n.promise;var r=cockpit.channel({payload:"stream",spawn:["kubectl","config","view","--output=json","--raw"],err:"message"});var o="";r.addEventListener("message",function(e,n){o+=n});r.addEventListener("close",function(e,t){r=null;if(t.problem)n.reject(t);else n.resolve(o)});t.cancel=function i(e){if(r)r.close(e||"cancelled")};return t}}]).factory("cockpitKubeDiscover",["$q","CockpitKubeRequest","cockpitKubectlConfig","cockpitConnectionInfo",function(n,t,r,i){var a=null;return function c(s){if(!s&&a)return a.promise;var u,l,f,v;var d=window.sessionStorage.getItem("login-data");a=n.defer();var p=[{port:8080},{port:8443,tls:{}},{port:6443,tls:{}}];function m(n,r){if(!n)n=p.shift();if(!n){u.statusText="Couldn't find running API server";u.problem="not-found";a.reject(u);return}if(typeof n==="function"){n();return}n.payload="http-stream2";e("trying kube at:",n);l=new t("GET","/api","",n);l.then(function(t){l=null;var o=t.data;if(o&&o.versions){e("discovered kube api",o);if(r){i.kubeConfig=r;if(f)i.type="kubectl";else i.type="sessionData"}else{i.type="open"}a.resolve(n)}else{e("not an api endpoint:",n);u=t;f=null;m()}}).catch(function(t){l=null;f=null;u=t;if(t.problem==="not-found"){e("api endpoint not found on:",n);m()}else{e("connecting to kube failed:",t);a.reject(t)}})}function b(){f=r().then(function(e){var n=o(e);m(n,n?e:null)}).catch(function(e){console.warn("kubectl failed: "+(e.message||e.problem));m()})}p.unshift(b);if(d)v=o(d);m(v,v?d:null);a.promise.cancel=function h(){if(f&&f.cancel)f.cancel("cancelled");if(l)l.close("cancelled")};return a.promise}}]).factory("CockpitEnvironment",["$q",function(e){var n=e.defer();var t=null;return function r(){if(t!==null)return n.promise;var e=cockpit.channel({payload:"dbus-json3",bus:"internal"});e.addEventListener("close",function(e,r){if(r.problem){console.warn("couldn't retrieve environment:",r.problem);n.reject(r)}else{n.resolve(t)}});e.addEventListener("message",function(n,r){var o=JSON.parse(r);if(o.reply){t=o.reply[0][0].Variables.v;e.close(null)}else if(o.error){console.warn("error retrieving environment:",o.error);e.close("internal-error")}});e.send(JSON.stringify({id:"cookie",call:["/environment","org.freedesktop.DBus.Properties","GetAll",["cockpit.Environment"]]}));return n.promise}}]).factory("cockpitKubeDiscoverSettings",["$q","CockpitKubeRequest","cockpitKubeDiscover","CockpitEnvironment","kubeLoader",function(e,n,t,r,o){var i=null;return function a(c){if(!c&&i)return i;var s={registry:{},flavor:"kubernetes",isAdmin:false};var u=r().then(function(e){var n=e["REGISTRY_HOST"];if(n)s.registry.host=n},function(e){});var l=t(c).then(function(t){var r=new n("GET","/oapi","",t).then(function(){s.flavor="openshift"},function(){s.flavor="kubernetes"});var i=o.watch("namespaces").then(function(){s.isAdmin=true},function(){s.isAdmin=false});var a;if(t.headers){a=(t.headers["Authorization"]||"").trim();if(a.toLowerCase().indexOf("bearer ")===0)s.registry.password=a.substr(7).trim()}return e.all([i,r])});i=e.all([l,u]).then(function(){return s});return i}}]).factory("cockpitConnectionInfo",function(){return{type:null,kubeConfig:null}}).factory("cockpitContainerWebSocket",["CockpitKubeSocket","CockpitKubectlWebSocket","cockpitConnectionInfo",function(e,n,t){return function(r,o){if(t.type=="kubectl")return n(r,o);else return e(r,o)}}]).factory("CockpitFormat",function(){return{formatBytes:cockpit.format_bytes,formatBitsPerSec:cockpit.format_bits_per_sec,format:cockpit.format}}).factory("CockpitMetrics",function(){return{grid:cockpit.grid,series:cockpit.series}}).factory("CockpitTranslate",function(){return{gettext:function(e,n){if(arguments.length>1)return n;else return e}}})})();

//# sourceURL=kubernetes/scripts/kube-client-cockpit.min.js

(function(){"use strict";angular.module("kubernetes.date",[]).filter("dateRelative",function(){return function(e){if(!e){return e}return moment(e).fromNow()}})})();

//# sourceURL=kubernetes/scripts/date.min.js

(function(){"use strict";angular.module("ui.cockpit",["ui.bootstrap"]).directive("modalDialog",["$q",function(e){return{restrict:"E",transclude:true,template:"<ng-transclude></ng-transclude>",link:function(a,t,l){var i=null;function o(){if(i)i.detach();i=null}a.complete=function(n){o();if(!n||!n.then)n=e(n);i=new r(t,n,a)};a.failure=function(){var n;var r=arguments.length;if(r===0){n=null}else if(r===1){n=arguments[0]}else{n=[];n.push.apply(n,arguments)}if(!n){o();return}var t=e.defer();t.reject(n);a.complete(t.promise)};function u(){a.$dismiss()}var f=n(t,".btn-cancel");f.on("click",u);a.$on("$destroy",function(){f.off("click",u);o()})}}}]);function e(e,n){var r,a=[];var t,l,i,o=e.length;for(l=0;l<o;l++){r=e[l].querySelectorAll(n);if(r){for(t=0,i=r.length;t<i;t++)a.push(r[l])}}return angular.element(a)}function n(e,n){var r=null;var a,t=e.length;for(a=0;!r&&a<t;a++)r=e[a].querySelector(n);return angular.element(r)}function r(r,a,t){var l=null;var i=null;var o=false;var u=false;var f=[];var c=angular.element("<div class='dialog-wait pull-left'>");c.append(angular.element("<div class='spinner spinner-sm'>"));var s=angular.element("<span>");c.append(s);this.detach=g;if(!a){g();return}a.then(function(e){i=e;if(a)d(true)},function(e){i=e;if(a)d(false)},function(e){if(a)w(e)});window.setTimeout(function(){if(a&&t&&l===null){d(null);t.$digest()}},0);function d(e){if(u)return;l=e;if(o){t.$dismiss();return}else if(l===null){k();x()}else if(l===true){k();t.$close(i)}else if(l===false){$();p(i)}else{console.warn("invalid dialog state",l)}}function g(){t=null;a=null;k();$()}function p(e){k();if(!angular.isArray(e))e=[e];e.forEach(function(e){var a=null;if(e.target)a=n(r,e.target);if(a&&a[0])m(a,e);else v(e)})}function v(e){var a=angular.element("<div class='alert alert-danger dialog-error'>");a.text(e.message||e.toString());a.prepend(angular.element("<span class='fa fa-exclamation-triangle'>"));var t=n(r,".modal-footer");if(t.length)t.prepend(a);else r.append(a)}function m(e,n){var r=angular.element("<div class='dialog-error help-block'>");r.text(n.message||n.toString());var a=e.parent();a.addClass("has-error");e.after(r);a.on("keypress change",h)}function h(e){var n=e.target;while(n!==this){b(angular.element(n));n=n.parentNode}}function b(n){var r=n.parent();e(r,".dialog-error").remove();r.removeClass("has-error");r.off("keypress change",h)}function k(){var n=e(r,".dialog-error");angular.forEach(n,function(e){b(angular.element(e))})}function y(e){if(a.cancel)a.cancel();o=true;e.stopPropagation();e.preventDefault();return false}function w(e){var n=e.message||e;if(typeof n=="string"||typeof n=="number")s.text(n);else if(!n)s.text("")}function $(){var e;while(true){e=f.pop();if(!e)break;e.removeAttr("disabled")}c.remove();n(r,".btn-cancel").off("click",y)}function x(){$();n(r,".modal-footer").prepend(c);function t(e){var n=angular.element(e);if(n.attr("disabled")||a.cancel&&n.hasClass("btn-cancel"))return;f.push(n);n.attr("disabled","disabled")}angular.forEach(e(r,".form-control"),t);angular.forEach(e(r,".btn"),t);n(r,".btn-cancel").on("click",y)}}})();

//# sourceURL=kubernetes/scripts/dialog.min.js

(function(){"use strict";function e(e,a,t){var n,r,i;var m,o,l=(e.status||{}).tags||[];for(m=0,o=l.length;m<o;m++){i=l[m].items||[];for(n=0,r=i.length;n<r;n++)a.call(t||null,l[m],i[n])}}angular.module("registry.images",["ngRoute","ui.cockpit","kubeClient","kubernetes.date","kubernetes.listing","registry.layers"]).config(["$routeProvider",function(e){e.when("/images/:namespace?",{templateUrl:"views/images-page.html",controller:"ImagesCtrl"}).when("/images/:namespace/:target",{controller:"ImageCtrl",templateUrl:function(e){var a=e["target"]||"";if(a.indexOf(":")===-1)return"views/imagestream-page.html";else return"views/image-page.html"}})}]).controller("ImagesCtrl",["$scope","$location","imageData","imageActions","ListingState","filterService",function(e,a,t,n,r){e.imagestreams=t.allStreams;angular.extend(e,t);e.listing=new r(e);t.watchImages();e.$on("activate",function(t,n){if(!e.listing.expandable){t.preventDefault();a.path("/images/"+n)}});angular.extend(e,n)}]).controller("ImageCtrl",["$scope","$location","$routeParams","kubeSelect","kubeLoader","imageData","imageActions","ListingState",function(a,t,n,r,i,m,o,l){var s=n["target"]||"";var g=s.indexOf(":");var c=n["namespace"]||"";var u,f;if(g===-1){a.kind="ImageStream";u=s;f=null}else{a.kind="Image";u=s.substr(0,g);f=s.substr(g+1)}m.watchImages();var d=i.listen(function(){a.stream=r().kind("ImageStream").namespace(c).name(u).one();a.image=a.config=a.layers=a.labels=a.tag=null;e(a.stream||{},function(e,t){if(e.tag===f)a.tag=e});if(a.tag)a.image=r().kind("Image").taggedBy(a.tag).one();if(a.image){a.names=m.imageTagNames(a.image);a.config=m.imageConfig(a.image);a.layers=m.imageLayers(a.image);a.labels=m.imageLabels(a.image)}});a.listing=new l(a);a.listing.inline=true;a.imagestreams=function(){if(a.stream)return{"/":a.stream};return{}};a.$on("$destroy",function(){d.cancel()});angular.extend(a,m);angular.extend(a,o);a.deleteImageStream=function(e){var n=o.deleteImageStream(e);n.then(function(){t.path(a.viewUrl("images"))});return n};a.deleteTag=function(e,a){var n=o.deleteTag(e,a);n.then(function(){var a=["images",e.metadata.namespace,e.metadata.name];t.path("/"+a.map(encodeURIComponent).join("/"))});return n}}]).directive("imagePanel",["kubeLoader","imageData",function(e,a){return{restrict:"A",scope:true,link:function(t,n,r){var i="main";t.tab=function(e,a){if(a){i=e;a.stopPropagation()}return i===e};var m=e.listen(function(){t.names=t.config=t.layers=t.labels=null;if(t.image){t.names=a.imageTagNames(t.image);t.config=a.imageConfig(t.image);t.layers=a.imageLayers(t.image);t.labels=a.imageLabels(t.image)}});t.$on("$destroy",function(){m.cancel()})},templateUrl:"views/image-panel.html"}}]).directive("imageBody",function(){return{restrict:"A",templateUrl:"views/image-body.html"}}).directive("imageConfig",function(){return{restrict:"A",templateUrl:"views/image-config.html"}}).directive("imageMeta",function(){return{restrict:"A",templateUrl:"views/image-meta.html"}}).directive("imagestreamBody",function(){return{restrict:"A",templateUrl:"views/imagestream-body.html"}}).directive("imagestreamMeta",function(){return{restrict:"A",templateUrl:"views/imagestream-meta.html"}}).directive("imageListing",function(){return{restrict:"A",templateUrl:"views/image-listing.html"}}).factory("imageData",["kubeSelect","kubeLoader",function(a,t){function n(e){for(var a in e){if(e[a].kind==="ImageStream")r(e[a])}}function r(e){var a=e.metadata||{};var n=e.status||{};angular.forEach(n.tags||[],function(e){angular.forEach(e.items||[],function(e){var n=t.resolve("Image",e.image);if(n in t.objects)return;var r={kind:"Image",apiVersion:"v1",metadata:{name:e.image}};t.handle(r);var i=a.name+"@"+e.image;t.load("ImageStreamImage",i,a.namespace).then(function(e){var a=e.image;if(a){a.kind="Image";t.handle(a)}},function(e){console.warn("couldn't load image: "+e.statusText);r.metadata.resourceVersion="invalid"})})})}var i=null;function m(){t.watch("images");if(!i)i=t.watch("imagestreams");return i}t.listen(n);a.register("taggedBy",function(e){var t,n,r={};for(t=0,n=e.items.length;t<n;t++)this.name(e.items[t].image).extend(r);return a(r)});a.register({name:"containsTagImage",digests:function(a){var t=[];if(typeof a=="string"){t.push(a)}else{e(a,function(e,a){t.push(a.image+"")})}return t}});a.register("listTagNames",function(a){var t=[];angular.forEach(this.containsTagImage(a),function(n){e(n,function(e,r){if(!a||r.image==a)t.push(n.metadata.namespace+"/"+n.metadata.name+":"+e.tag)})});return t});a.register("dockerImageManifest",function(){var e={};angular.forEach(this,function(a,t){var n,r=a.dockerImageManifest;if(r){r=JSON.parse(r);angular.forEach(r.history||[],function(e){if(typeof e.v1Compatibility=="string")e.v1Compatibility=JSON.parse(e.v1Compatibility)});e[t]=r}});return a(e)});a.register("dockerImageConfig",function(){var e={};angular.forEach(this,function(a,t){var n,r=o(a)||{};if(r[0]){n=r[0].v1Compatibility;if(n&&n.config){e[t]=n.config;return}}var i=a.dockerImageMetadata||{};if(i.Config)e[t]=i.Config});return a(e)});a.register("dockerConfigLabels",function(){var e={};angular.forEach(this,function(a,t){var n;if(a)n=a.Labels;if(n)e[t]=n});return a(e)});function o(e){if(!e)return null;var t=a(e).dockerImageManifest().one();if(!t||t.schemaVersion!==1)return null;return t.history}function l(e){var a=[];if(!e)return"";if(e.Entrypoint)a.push.apply(a,e.Entrypoint);if(e.Cmd)a.push.apply(a,e.Cmd);var t=a.join(" ");if(e.User&&e.User.split(":")[0]!="root")return"$ "+t;else return"# "+t}return{watchImages:m,allStreams:function s(){return a().kind("ImageStream")},imagesByTag:function g(e){return a().kind("Image").taggedBy(e)},imageLayers:o,imageConfig:function c(e){return a(e).dockerImageConfig().one()||{}},imageTagNames:function u(e){return a().kind("ImageStream").listTagNames(e.metadata.name)},imageLabels:function f(e){return a(e).dockerImageConfig().dockerConfigLabels().one()},configCommand:l}}]).factory("imageActions",["$modal",function(e){function a(a){return e.open({animation:false,controller:"ImageStreamDeleteCtrl",templateUrl:"views/imagestream-delete.html",resolve:{dialogData:function(){return{stream:a}}}}).result}function t(){return e.open({animation:false,controller:"ImageStreamModifyCtrl",templateUrl:"views/imagestream-modify.html",resolve:{dialogData:function(){return{}}}}).result}function n(a){return e.open({animation:false,controller:"ImageStreamModifyCtrl",templateUrl:"views/imagestream-modify.html",resolve:{dialogData:function(){return{stream:a}}}}).result}function r(a,t){var n=e.open({animation:false,controller:"ImageDeleteCtrl",templateUrl:"views/image-delete.html",resolve:{dialogData:function(){return{stream:a,tag:t}}}});return n.result}return{createImageStream:t,modifyImageStream:n,deleteImageStream:a,deleteTag:r}}]).controller("ImageStreamDeleteCtrl",["$scope","$modalInstance","dialogData","kubeMethods",function(e,a,t,n){angular.extend(e,t);e.performDelete=function r(){return n.delete(e.stream)}}]).controller("ImageStreamModifyCtrl",["$scope","$modalInstance","dialogData","kubeMethods","filterService",function(e,a,t,n,r){var i=t.stream||{};var m=i.metadata||{};var o=i.spec||{};var l={name:m.name||"",project:m.namespace||r.namespace()||"",populate:o.dockerImageRepository?"pull":"none",pull:o.dockerImageRepository||""};e.fields=l;e.labels={populate:{none:"Don't pull images automatically",pull:"Pull all tags from another image repository"}};function s(){var e={spec:{dockerImageRepository:null,tags:null}};if(l.populate!="none")e.spec.dockerImageRepository=l.pull.trim();return n.patch(i,e)}function g(){var e={kind:"ImageStream",metadata:{name:l.name.trim(),namespace:l.project.trim()}};if(l.populate!="none"){e.spec={dockerImageRepository:l.pull.trim()}}return n.check(e,{"metadata.name":"#imagestream-modify-name","metadata.namespace":"#imagestream-modify-project"}).then(function(){return n.create(e,l.project)})}e.performCreate=g;e.performModify=s;e.projects=r.namespaces;angular.extend(e,t)}]).controller("ImageDeleteCtrl",["$scope","$modalInstance","dialogData","kubeMethods",function(e,a,t,n){angular.extend(e,t);e.performDelete=function r(){var a=e.stream.metadata.name+":"+e.tag.tag;return n.delete("ImageStreamTag",a,e.stream.metadata.namespace)}}])})();

//# sourceURL=kubernetes/scripts/images.min.js

(function(){"use strict";function t(t,e){var n=d3.select(t);var a=[];var i={height:125,width:null,bar:14,gap:2,max:90,title:"Image layers"};var r;var l=null;var s;var u;var o=n.append("svg").attr("class","image-layers").on("click",function(){var t=d3.select(d3.event.target).datum()||{id:null};p(t.id)});var c=o.append("text").attr("class","label");var d=o.append("text").attr("text-anchor","end").attr("y","1em");var f=o.append("polyline").attr("class","line");function p(t){if(t===null)return;s=t;var e="";var n=null;o.selectAll("g").classed("selected",function(a,i){if(a.id===t){e=a.label;n=i;return true}return false});c.text(e).attr("y",i.height);var a=i.max+15;var r=[];r.push("0,"+a);if(n!==null){r.push(n*i.bar+","+a);r.push(n*i.bar+i.bar/2+","+(a-5));r.push((n+1)*i.bar+","+a)}r.push(u+","+a);f.attr("points",r.join(" "))}function v(){r=null;u=i.width;if(u===null)u=n.node().clientWidth;o.attr("width",u).attr("height",i.height);var t=d3.max(a,function(t){return t.size});l=d3.scale.linear().domain([0,t]).range([2,i.max]);var e=o.selectAll("g").data(a).enter().append("g").attr("transform",function(t,e){return"translate("+e*i.bar+",0)"});e.append("rect").attr("class","layer").attr("x",i.gap).attr("y",function(e){return l(t-e.size)}).attr("width",i.bar-i.gap*2).attr("height",function(t){return l(t.size)});e.append("rect").attr("class","column").attr("width",i.bar).attr("height",l(t)+15);d.text(i.title).attr("x",u-5);p(s)}function g(){window.clearTimeout(r);r=window.setTimeout(v,150)}window.addEventListener("resize",g);v();g();return{data:function(t,e){if(!t)t=[];a=t.slice();a.reverse();if(s===undefined&&a.length)s=a[0].id;angular.extend(i,e);v()},close:function(){window.removeEventListener("resize",g);window.clearTimeout(r)}}}function e(t,e){var n,a={};for(n in t){if(!angular.equals(t[n],e[n]))a[n]=t[n]}return a}function n(t,e){var n,a;if(t.v1Compatibility.container_config){n=t.v1Compatibility.container_config.Cmd;if(n){a=n[n.length-1];if(a.indexOf("#(nop)")===0)return a.substring(6)}}return t.v1Compatibility.id}function a(t,e,a){if(t.v1Compatibility){return{id:t.v1Compatibility.id,size:t.v1Compatibility.Size||0,label:n(t,a[e+1])}}else if(t.name&&t.size){return{id:t.name,size:t.size||0,label:t.name}}else{return{size:0,id:e,label:"Unknown layer"}}}return angular.module("registry.layers",[]).directive("imageLayers",[function(){return{restrict:"E",scope:{layers:"=",settings:"=",prevent:"="},link:function(e,n,i){n.css("display","block");var r=angular.element("<div/>");n.append(r);var l;function s(t,e){if(t&&t.length)t=t.map(a);l.data(t,e)}e.$watchCollection("[layers, settings]",function(t){if(l)s(t[0],t[1]||{})});e.$watch("prevent",function(n){if(!n&&!l){l=t(r[0]);s(e.layers,e.settings||{})}});n.on("$destroy",function(){l.close()})}}}])})();

//# sourceURL=kubernetes/scripts/layers.min.js

(function(){"use strict";function e(n,t,i){return n&&n.classList&&n.classList.contains(t)||n&&n.tagName===i||n&&e(n.parentNode,t,i)}angular.module("kubernetes.listing",[]).directive("listingTable",[function(){return{restrict:"A",link:function(e,n,t){}}}]).factory("ListingState",[function(){return function n(t){var i=this;var r={};function a(n){return!(n&&e(n.target,"btn","li"))}i.forceInline=false;i.only=false;i.expanded=function l(e){if(angular.isUndefined(e)){for(e in r)return true;return false}else{return e in r}};i.toggle=function u(e,n){var t;if(e){t=!(e in r);if(t)i.expand(e,n);else i.collapse(e,n)}};i.expand=function f(e,n){var i;if(a(n)){i=t.$emit("activate",e);if(!i.defaultPrevented){r[e]=true}}};i.collapse=function o(e,n){if(a(n)){if(e){delete r[e]}else{Object.keys(r).forEach(function(e){delete r[e]});i.only=false}}}}}]).directive("listingPanel",[function(){return{restrict:"A",scope:true,link:function(e,n,t){var i="main";e.tab=function(e,n){if(n){i=e;n.stopPropagation()}return i===e}},templateUrl:function(e,n){var t=n.kind;return"views/"+t.toLowerCase()+"-panel.html"}}}])})();

//# sourceURL=kubernetes/scripts/listing.min.js

(function(){"use strict";angular.module("registry.projects",["ngRoute","ui.cockpit","kubeClient","kubernetes.listing","ui.cockpit"]).config(["$routeProvider",function(e){e.when("/projects/:namespace?",{controller:"ProjectsCtrl",templateUrl:function(e){if(!e["namespace"])return"views/projects-page.html";else return"views/project-page.html"}})}]).controller("ProjectsCtrl",["$scope","$routeParams","$location","kubeSelect","kubeLoader","projectData","projectActions","ListingState",function(e,t,n,r,i,a,o,c){i.watch("users");i.watch("groups");i.watch("policybindings");var u=t["namespace"]||"";if(u){e.listing=new c(e);e.project=function(){return r().kind("Project").name(u).one()}}else{e.listing=new c(e);e.projects=function(){return r().kind("Project")};e.$on("activate",function(t,r){if(!e.listing.expandable){t.preventDefault();n.path("/projects/"+r)}})}angular.extend(e,a);angular.extend(e,o);e.users=function(){return r().kind("User")};e.groups=function(){return r().kind("Group")}}]).factory("projectData",["kubeSelect","kubeLoader",function(e,t){t.listen(function(e,t){var i;for(i in t){if(t[i].kind=="PolicyBinding")n(t[i].roleBindings,true)}for(i in e){if(e[i].kind=="PolicyBinding")n(e[i].roleBindings,false);else if(e[i].kind=="RoleBinding")r(e[i].subjects||[])}});function n(e,n){angular.forEach(e||[],function(e){t.handle(e.roleBinding,n,"RoleBinding")})}function r(e){angular.forEach(e,function(e){var n=t.resolve(e.kind,e.name,e.namespace);if(n in t.objects)return;var r={kind:e.kind,apiVersion:"v1",metadata:{name:e.name}};if(e.namespace)r.metadata.namespace=e.namespace;t.handle(r)})}e.register({name:"containsSubject",digests:function(e){var t,n,r,i,a=[];if(typeof e=="string"){a.push(e)}else if(e.kind=="User"||e.kind=="Group"){t=e.metadata||{};a.push(t.name+":"+e.kind)}else if(e.kind=="RoleBinding"){i=e.subjects||[];for(n=0,r=i.length;n<r;n++){a.push(i[n].name);a.push(i[n].name+":"+i[n].kind)}}return a}});function i(t,n){return e().kind("RoleBinding").namespace(n).containsSubject(t)}function a(e,t){return i(e,t).one()?true:false}function o(e,t){var n="";var r;if(!e||e.length===0)return n;if(e.length<=3){for(r=e.length-1;r>=0;r--){n+=e[r]+","}}else{if(t==="Groups"){n=e.length+" "+t}else if(t==="Users"){n=e.length+" "+t}}return n}return{subjectRoleBindings:i,subjectIsMember:a,formatMembers:o}}]).directive("projectPanel",["kubeLoader","kubeSelect",function(e,t){return{restrict:"A",scope:true,link:function(n,r,i){var a="main";n.tab=function(e,t){if(t){a=e;t.stopPropagation()}return a===e};var o=n.id;e.load("Project",null,null);n.project=function(){return t().kind("Project").name(o).one()}},templateUrl:"views/project-panel.html"}}]).directive("projectListing",function(){return{restrict:"A",templateUrl:"views/project-listing.html"}}).factory("projectActions",["$modal",function(e){function t(){return e.open({controller:"ProjectModifyCtrl",templateUrl:"views/project-modify.html",resolve:{dialogData:function(){return{}}}}).result}function n(t){return e.open({animation:false,controller:"ProjectModifyCtrl",templateUrl:"views/project-modify.html",resolve:{dialogData:function(){return{project:t}}}}).result}function r(){return e.open({controller:"UserNewCtrl",templateUrl:"views/add-user-dialog.html"})}function i(){return e.open({controller:"GroupNewCtrl",templateUrl:"views/add-group-dialog.html"})}return{createProject:t,modifyProject:n,createGroup:i,createUser:r}}]).controller("ProjectModifyCtrl",["$q","$scope","dialogData","kubeMethods",function(e,t,n,r){var i=n.project||{};var a=i.metadata||{};var o=a.annotations||{};var c="openshift.io/display-name";var u="openshift.io/description";var s={name:a.name||"",display:o[c]||"",description:o[u]||""};t.fields=s;t.performCreate=function l(){var e;var t={kind:"ProjectRequest",apiVersion:"v1",metadata:{name:s.name.trim()},displayName:s.display.trim(),description:s.description.trim()};return r.check(t,{"metadata.name":"#project-new-name"}).then(function(){return r.create(t)})};t.performModify=function d(){var e={};var t={metadata:{annotations:e}};var n=s.display.trim();if(n!==o[c])e[c]=n;n=s.description.trim();if(n!==o[u])e[u]=n;return r.check(t,{}).then(function(){return r.patch(i,t)})};angular.extend(t,n)}]).controller("UserNewCtrl",["$q","$scope","kubeMethods",function(e,t,n){var r={name:"",identities:""};t.fields=r;t.performCreate=function i(){var e;var t=[];if(r.identities.trim()!=="")t=[r.identities.trim()];var i={kind:"User",apiVersion:"v1",metadata:{name:r.name.trim()},identities:t};return n.check(i,{"metadata.name":"#user_name"}).then(function(){return n.create(i)})}}]).controller("GroupNewCtrl",["$q","$scope","kubeMethods",function(e,t,n){var r={name:""};t.fields=r;t.performCreate=function i(){var e;var t={kind:"Group",apiVersion:"v1",metadata:{name:r.name.trim()}};return n.check(t,{"metadata.name":"#group_name"}).then(function(){return n.create(t)})}}])})();

//# sourceURL=kubernetes/scripts/projects.min.js

(function(){"use strict";angular.module("kubernetes.app",["ui.bootstrap","kubeClient","kubeClient.cockpit"]).controller("MainCtrl",["$scope","$location","$rootScope","$timeout","kubeLoader","kubeSelect","KubeDiscoverSettings","filterService",function(e,t,n,r,i,u,a,o){e.settings={};e.viewActive=function(e){var n=t.url()||"/";var r=n.split("?")[0].split("/");if(!e&&!r[1])return true;if(e===r[1])return true;return false};e.viewUrl=function(e){var t,n=i.limits.namespace;if(angular.isArray(n))n=null;if(!e){if(n)return"/?namespace="+encodeURIComponent(n);else return"/"}else{t=[e];if(n)t.push(n);return"/"+t.map(encodeURIComponent).join("/")}};e.console=console;function c(){document.getElementsByTagName("body")[0].removeAttribute("hidden")}r(c,3e3);function s(t){e.curtains={};a(t).then(function(t){e.settings=t;e.curtains=null;o.globals(t.isAdmin);o.load().then(c)},function(t){e.curtains={status:t.status,message:t.message||t.statusText};e.settings=null;c()})}s();e.reconnect=function(){a(true);i.reset();s()};i.listen(function(){n.$applyAsync()})}]).directive("filterBar",["filterService",function(e){return{restrict:"E",scope:true,link:function(t,n,r){t.filter=e},templateUrl:"views/filter-bar.html"}}]).directive("filterProject",["filterService",function(e){return{restrict:"E",scope:true,link:function(t,n,r){t.filter=e},templateUrl:"views/filter-project.html"}}]).factory("filterService",["$q","$route","$rootScope","kubeLoader","kubeSelect","KubeDiscoverSettings",function(e,t,n,r,i,u){var a=true;var o=u().then(function(t){var n;if(t.flavor==="openshift")n=r.load("projects");if(t.isAdmin)n=r.watch("namespaces");return n||e.when([])});r.listen(function(e){var n,r,i;for(n in e){i=e[n];if(i.kind=="Namespace"||i.kind=="Project"){s(t.current);return}}});function c(){var e;if(a)e=i().kind("Namespace");if(!e||e.length===0)e=i().kind("Project");var t,n,r=[];for(t in e){n=e[t].metadata||{};if(n.name)r.push(n.name)}return r}function s(e){var t=null;if(e)t=e.params["namespace"]||null;if(t===null&&!a){t=c();if(t.length<1)t=null}if(!angular.equals(t,r.limit.namespaces)){r.limit({namespace:t})}}n.$on("$routeChangeSuccess",function(e,t,n){s(t)});n.$on("$routeUpdate",function(e,t,n){s(t)});if(t.current)s(t.current);return{load:function(){return o},globals:function(e){if(arguments.length===0)return a;e=!!e;if(a!==e){a=e;s(t.current)}},namespaces:c,namespace:function(e){if(arguments.length===0)return t.current.params["namespace"];var n=angular.copy(t.current.params);n["namespace"]=e||undefined;n["target"]=null;t.updateParams(n)}}}]).filter("orderObjectBy",function(){return function(e,t){var n,r=[];for(n in e)r.push(e[n]);if(!angular.isArray(t))t=[String(i)];var i=t.map(function(e){return e.split(".")});function u(e,t){return e?e[t]:undefined}r.sort(function(e,t){var n,r,a,o=i.length;for(a=0;a<o;a++){n=i[a].reduce(u,e);r=i[a].reduce(u,t);if(n===r)continue;return n>r?1:-1}return 0});return r}}).filter("formatBytes",["KubeFormat",function(e){return function(t){if(typeof t=="number")return e.formatBytes(t);return t}}])})();

//# sourceURL=kubernetes/scripts/app.min.js

(function(){"use strict";angular.module("kubeUtils",[]).provider("KubeFormat",[function(){var t=this;t.KubeFormatFactory="MissingFormat";function r(t,r){if(angular.isString(r))return t.get(r,"KubeFormat");else return t.invoke(r)}t.$get=["$injector",function(n){return r(n,t.KubeFormatFactory)}]}]).factory("MissingFormat",[function(){return function t(r){throw"no KubeFormatFactory set"}}]).provider("KubeTranslate",[function(){var t=this;t.KubeTranslateFactory="KubeTranslate";function r(t,r){if(angular.isString(r))return t.get(r,"MissingKubeTranslate");else return t.invoke(r)}t.$get=["$injector",function(n){return r(n,t.KubeTranslateFactory)}]}]).factory("MissingKubeTranslate",[function(){function t(){throw"no KubeTranslateFactory set"}return{gettext:t,ngettext:t}}])})();

//# sourceURL=kubernetes/scripts/utils.min.js

(function(){"use strict";var e=e||function(){};angular.module("kubernetes.containers",["ngRoute","ui.cockpit","kubernetesUI","kubeClient","kubernetes.listing"]).config(["$routeProvider",function(e){e.when("/pods/:pod_namespace?",{templateUrl:"views/containers-page.html",controller:"ContainersCtrl"})}]).controller("ContainersCtrl",["$scope","KubeContainers","kubeLoader","kubeSelect","ListingState","$routeParams","$location",function(e,n,t,r,o,a,i){var l={};var s=i.search();for(var c in s){if(c!=="namespace")l[c]=s[c]}var u=t.listen(function(){var n=r().kind("Pod");if(a.pod_namespace)n.namespace(a.pod_namespace);if(!angular.equals({},l))n.label(l);e.pods=n});e.$on("$destroy",function(){u.cancel()});t.watch("Pod");e.listing=new o(e);e.listing.forceInline=true;e.containers=n;e.should_mask=function(e){return e.toLowerCase().indexOf("password")!==-1}}]).factory("KubeContainers",["kubeSelect",function(e){function n(e){var n={};var t,r;if(e){for(t=0,r=e.length;t<r;t++)n[e[t].name]=e[t]}return n}return function(e){var t,r,o;if(!e.containers){o=e.metadata.namespace+"/pod/"+e.metadata.name;if(e.spec)t=n(e.spec.containers);else t={};if(e.status)r=n(e.status.containerStatuses);else r={};e.containers=Object.keys(t).map(function(e){var n=o+"/"+e;return{spec:t[e],status:r[e],key:n}})}return e.containers}}]).directive("kubeContainerBody",function(){return{restrict:"E",templateUrl:"views/container-body.html"}}).directive("kubePodBody",function(){return{restrict:"E",templateUrl:"views/pod-body.html"}}).directive("kubeConsole",["kubernetesContainerSocket",function(n){return{restrict:"E",scope:{pod:"&",container:"&",command:"@",prevent:"="},link:function(t,r,o){var a=64*1024;var i=angular.element("<div>");i.addClass("console");r.append(i);var l=angular.element("<pre>");l.addClass("logs");i.append(l);var s=null;var c=null;function u(){l.empty();var r="",o=t.pod();if(o.metadata)r+=o.metadata.selfLink;else r+=o;r+="/log";if(r.indexOf("?")===-1)r+="?";r+="follow=1";var i=t.container?t.container():null;if(i)r+="&container="+encodeURIComponent(i);var u=[];var d=0;function p(){s=null;var n=l[0].scrollHeight-l[0].scrollTop<=l[0].offsetHeight;var t=u.join("");d+=t.length;var r,o,i;while(d>a){r=l.children();if(r.length<1)break;o=angular.element(r[0]);i=o.text().length;o.remove();d-=i}var c=angular.element("<span>").text(t);u.length=0;l.append(c);if(n)l[0].scrollTop=l[0].scrollHeight;e()}c=n(r);c.onclose=function(e){u.push(e.reason);p();f();c=null};c.onmessage=function(e){u.push(e.data);if(s===null)s=window.setTimeout(p,50)}}function f(){if(c){c.onopen=c.onmessage=c.onerror=c.onclose=null;if(c.readyState<2)c.close();c=null}window.clearTimeout(s);s=null}t.$watch("prevent",function(e){if(!e&&!c)u()});t.$on("$destroy",f)}}}]).filter("kubeIdentifier",function(){var e=/docker:\/\/([\w]{12})\w+/;return function(n){var t=e.exec(n);if(t)return t[1];return n}})})();

//# sourceURL=kubernetes/scripts/containers.min.js

(function(e,n){if(typeof define==="function"&&define.amd)define("kubernetes/scripts/container-terminal", ["base1/angular","base1/term"],n);else n(e.angular,e.Terminal)})(this,function(e,n){"use strict";try{e.module("kubernetesUI")}catch(t){e.module("kubernetesUI",[])}return e.module("kubernetesUI").provider("kubernetesContainerSocket",function(){var n=this;n.WebSocketFactory=function(){return function e(n,t){if(n.indexOf("/")===0){if(window.location.protocol==="http:")n="ws://"+window.location.host+n;else n="wss://"+window.location.host+n}return new window.WebSocket(n,t)}};function t(n,t){if(!t)throw"no WebSocketFactory set";else if(e.isString(t))return n.get(t,"kubernetesContainerSocket");else return n.invoke(t)}n.$get=["$injector",function(e){return t(e,n.WebSocketFactory)}]}).directive("kubernetesContainerTerminal",["$q","kubernetesContainerSocket",function(t,o){return{restrict:"E",scope:{pod:"&",container:"&",command:"@",prevent:"="},link:function(i,r,a){var s=e.element("<div class='terminal-wrapper'>");r.append(s);var c=e.element("<div class='spinner spinner-white hidden'>");var d=e.element("<button class='btn btn-default fa fa-refresh'>");d.on("click",m).attr("title","Connect");r.append(e.element("<div class='terminal-actions'>").append(c).append(d));var f=null;var l=null;var u=new n({cols:80,rows:24,screenKeys:true});s.empty();u.open(s[0]);u.cursorHidden=true;u.refresh(u.x,u.y);u.on("data",function(e){if(l&&l.readyState===1)l.send("0"+window.btoa(e))});function m(){p();u.reset();var e="";var n=i.pod();if(n.metadata)e+=n.metadata.selfLink;else e+=n;e+="/exec";if(e.indexOf("?")===-1)e+="?";e+="stdout=1&stdin=1&stderr=1&tty=1";var r=i.container?i.container():null;if(r)e+="&container="+encodeURIComponent(r);var a=i.command;if(!a)a=["/bin/sh","-i"];if(typeof a==="string")a=[a];a.forEach(function(n){e+="&command="+encodeURIComponent(n)});var s=true;c.removeClass("hidden");d.addClass("hidden");function m(e){if(!e&&s)e="Could not connect to the container. Do you have sufficient privileges?";if(!e)e="disconnected";if(!s)e="\r\n"+e;u.write("[31m"+e+"[m\r\n");i.$apply(p)}t.when(o(e,"base64.channel.k8s.io"),function w(e){l=e;l.onopen=function(e){f=window.setInterval(function(){l.send("0")},30*1e3)};l.onmessage=function(e){var n=e.data.slice(1);switch(e.data[0]){case"1":case"2":case"3":u.write(window.atob(n));break}if(s){s=false;c.addClass("hidden");d.addClass("hidden");u.cursorHidden=false;u.showCursor();u.refresh(u.y,u.y)}};l.onclose=function(e){m(e.reason)}},function h(e){m(e.message)})}function p(){c.addClass("hidden");d.removeClass("hidden");if(u){u.cursorHidden=true;u.refresh(u.x,u.y)}if(l){l.onopen=l.onmessage=l.onerror=l.onclose=null;if(l.readyState<2)l.close();l=null}window.clearInterval(f);f=null}i.$watch("prevent",function(e){if(!e)m()});i.$on("$destroy",function(){if(u)u.destroy();p()})}}}])});

//# sourceURL=kubernetes/scripts/container-terminal.min.js

(function(){"use strict";angular.module("kubernetes.dashboard",["ngRoute","ui.cockpit","kubernetes.details","kubernetes.app","kubernetes.graph"]).config(["$routeProvider",function(e){e.when("/",{templateUrl:"views/dashboard-page.html",controller:"DashboardCtrl",reloadOnSearch:false})}]).controller("DashboardCtrl",["$scope","kubeLoader","kubeSelect","dashboardActions","itemActions","$location",function(e,t,a,n,r,i){var o=t.listen(function(){e.services=a().kind("Service");e.nodes=a().kind("Node");e.pods=a().kind("Pod")});e.$on("$destroy",function(){o.cancel()});t.watch("Node");t.watch("Service");t.watch("ReplicationController");t.watch("Pod");e.editServices=false;e.toggleServiceChange=function s(){e.editServices=!e.editServices};e.serviceContainers=function c(e){var t=e.spec||{};var n=e.metadata||{};var r=0;var i=0;var o=a().kind("Pod").namespace(n.namespace||"").label(t.selector||{});angular.forEach(o,function(e){if(!e.status||!e.status.phase)return;var t=e.spec||{};var a=1;if(t.containers)a=t.containers.length;switch(e.status.phase){case"Pending":i+=a;break;case"Running":r+=a;i+=a;break;case"Succeeded":break;case"Unknown":i+=a;break;case"Failed":default:i+=a;break}});if(r!=i)return r+" of "+i;else return""+r};e.serviceStatus=function l(e){var t=e.spec||{};var n=e.metadata||{};var r="";var i=a().kind("Pod").namespace(n.namespace||"").label(t.selector||{});angular.forEach(i,function(e){if(!e.status||!e.status.phase)return;switch(e.status.phase){case"Pending":if(!r)r="wait";break;case"Running":break;case"Succeeded":break;case"Unknown":break;case"Failed":default:r="fail";break}});return r};e.nodeContainers=function d(e){var t=0;var n=e.metadata||{};angular.forEach(a().kind("Pod").host(n.name),function(e){var a=e.spec||{};var n=1;if(a.containers)n=a.containers.length;t+=n});return t};e.nodeStatus=function f(e){var t=e.status||{};var a=t.conditions;var n="";if(!a){n="wait"}else{a.forEach(function(e){if(e.type=="Ready"){if(e.status!="True")n="fail"}})}return n};e.jumpService=function u(t,a){if(e.editServices)return;var n=a.metadata||{};var r=a.spec||{};if(r.selector&&!angular.equals({},r.selector)&&n.namespace)i.path("/pods/"+encodeURIComponent(n.namespace)).search(r.selector)};angular.extend(e,n);e.modifyService=r.modifyService;e.highlighted=null;e.$on("highlight",function(t,a){e.highlighted=a});e.highlight=function p(t){e.$broadcast("highlight",t)};e.servicesState=function m(){if(e.failure)return"failed";var t;for(t in e.services)break;return t?"ready":"empty"}}]).directive("kubernetesStatusIcon",function(){return{restrict:"A",link:function(e,t,a){e.$watch(a["status"],function(e){t.toggleClass("spinner spinner-sm",e=="wait").toggleClass("fa fa-exclamation-triangle fa-failed",e=="fail")})}}}).directive("kubernetesAddress",function(){return{restrict:"E",link:function(e,t,a){e.$watchGroup(["item.spec.clusterIP","item.spec.ports"],function(e){var a=e[0];var n=e[1];var r=null;var i=null;if(!n||!n.length){i=a}else if(n.length==1){i=a+":"+n[0].port;if(n[0].protocol==="TCP"){if(n[0].port===80)r="http://"+encodeURIComponent(a);else if(n[0].port===443)r="https://"+encodeURIComponent(a)}else{i+="/"+n[0].protocol}}else{i=" "+a+" "+n.map(function(e){if(e.protocol==="TCP")return e.port;else return e.port+"/"+e.protocol}).join(" ")}var o;t.empty();if(r){o=angular.element("<a>").attr("href",r).attr("target","_blank").on("click",function(e){e.stopPropagation()});t.append(o)}else{o=t}o.text(i)})}}}).factory("dashboardActions",["$modal",function(e){function t(){return e.open({animation:false,controller:"DeployCtrl",templateUrl:"views/deploy.html",resolve:{}}).result}function a(){return e.open({animation:false,controller:"AddNodeCtrl",templateUrl:"views/node-add.html",resolve:{}}).result}return{addNode:a,deploy:t}}]).controller("AddNodeCtrl",["$q","$scope","$modalInstance","kubeMethods","KubeTranslate",function(e,t,a,n,r){var i=r.gettext;var o={address:"",name:""};var s=false;t.fields=o;function c(){var t=/^[a-z0-9.-]+$/i;var a=e.defer();var n=o.address.trim();var r=o.name.trim();var s;var c=[];var l;if(!n)s=new Error(i("Please type an address"));else if(!t.test(n))s=new Error(i("The address contains invalid characters"));if(s){s.target="#node-address";c.push(s)}if(r&&!t.test(r)){s=new Error(i("The name contains invalid characters"));s.target="#node-name";c.push(s)}if(c.length>0){a.reject(c)}else{l={kind:"Node",apiVersion:"v1",metadata:{name:r?r:n},spec:{externalID:n}};a.resolve(l)}return a.promise}t.nameKeyUp=function l(e){s=true;if(e.keyCode==13)t.performAdd()};t.addressKeyUp=function d(e){if(e.keyCode==13)t.performAdd();else if(!s)o.name=e.target.value};t.performAdd=function f(){return c().then(function(e){return n.create(e)})}}]).controller("DeployCtrl",["$q","$scope","$timeout","$modalInstance","filterService","kubeMethods","KubeFormat","KubeTranslate",function(e,t,a,n,r,i,o,s){var c=s.gettext;var l;var d={filename:"",namespace:r.namespace()};function f(){var t=e.defer();var a,n,r=[];var i=d.namespace;if(!i)a=new Error(c("Namespace cannot be empty."));else if(!/^[a-z0-9]+$/i.test(i))a=new Error(c("Please provide a valid namespace."));if(a){a.target="#deploy-app-namespace-group";r.push(a);a=null}if(!l)a=new Error(c("No metadata file was selected. Please select a Kubernetes metadata file."));else if(l.type&&!l.type.match("json.*"))a=new Error(c("The selected file is not a valid Kubernetes application manifest."));if(a){a.target="#deploy-app-manifest-file-button";r.push(a);a=null}var s;if(r.length){t.reject(r)}else{s=new window.FileReader;s.onerror=function(e){a=new Error(o.format(c("Unable to read the Kubernetes application manifest. Code $0."),e.target.error.code));a.target="#deploy-app-manifest-file-button";t.reject(a)};s.onload=function(){try{t.resolve({objects:JSON.parse(s.result),namespace:i})}catch(e){a=new Error(o.format(c("Unable to decode Kubernetes application manifest.")));a.target="#deploy-app-manifest-file-button";t.reject(a)}};s.readAsText(l)}return t.promise}function u(){var a=e.defer();f().then(function(e){i.create(e.objects,e.namespace).then(function(){if(t.namespace&&e.namespace!=t.namespace)r.namespace(e.namespace);a.resolve()}).catch(function(e){var t;var n;var r=e.data;if(e&&e.code===409){n=new Error(o.format(c('Please create another namespace for $0 "$1"'),e.details.kind,e.details.id));n.target="#deploy-app-namespace-field"}else{n=r?r:e}a.reject(n)})},function(e){a.reject(e)});return a.promise}t.types=[{name:c("Manifest"),type:"manifest"}];t.selected=t.types[0];t.fields=d;t.namespaces=r.namespaces();t.namespace=r.namespace();t.$on("file",function(e,a){t.$applyAsync(function(){l=a;d.filename=l?l.name:""})});t.performDeploy=function p(){if(t.selected.type=="manifest"){return u()}};t.select=function(e){t.selected=e}}]).directive("fileButton",function(){return{templateUrl:"views/file-button.html",restrict:"A",link:function(e,t,a){var n,r;if(t[0].children.length==2){n=t[0].children[1];r=t[0].children[0];n.onclick=function(){r.click()};r.onchange=function(){var t=r.files||[];e.$emit("file",t[0])}}t.on("$destroy",function(){if(r)r.onchange=null;if(n)n.onclick=null})}}})})();

//# sourceURL=kubernetes/scripts/dashboard.min.js

(function(){"use strict";function e(e,t){var r=e&&(!t||e.kind===t)&&e.spec&&e.metadata;var n=t?t:"Object";if(!r)console.warn("Invalid "+n,e);return r}function t(e){var t={E:1e18,P:1e15,T:1e12,G:1e9,M:1e6,K:1e3,m:.001,Ei:0x1000000000000000,Pi:0x4000000000000,Ti:1099511627776,Gi:1073741824,Mi:1048576,Ki:1024};for(var r in t){if(e.length>r.length&&e.slice(-r.length)===r){var n=Number(e.slice(0,-r.length));if(!isNaN(n))return n*t[r]}}return e}function r(e,t){var r=e.join(", ");if(t&&t.length){r=r+":"+t.map(function(e){if(e.protocol==="TCP")return e.port;else return e.port+"/"+e.protocol}).join(", ")}return r}angular.module("kubernetes.details",["ngRoute","ui.cockpit","kubernetesUI","kubeClient","kubernetes.listing","kubernetes.date"]).config(["$routeProvider",function(e){e.when("/list",{templateUrl:"views/details-page.html",controller:"DetailsCtrl"})}]).controller("DetailsCtrl",["$scope","KubeContainers","kubeLoader","kubeSelect","KubeDiscoverSettings","ListingState","$routeParams","$location","itemActions",function(e,t,r,n,a,i,o,l,c){var s=r.listen(function(){e.pods=n().kind("Pod");e.services=n().kind("Service");e.nodes=n().kind("Node");e.replicationcontrollers=n().kind("ReplicationController");e.deploymentconfigs=n().kind("DeploymentConfig");e.routes=n().kind("Route")});r.watch("Pod");r.watch("Service");r.watch("Node");r.watch("ReplicationController");r.watch("Endpoints");e.$on("$destroy",function(){s.cancel()});a().then(function(e){if(e.flavor==="openshift"){r.watch("DeploymentConfig");r.watch("Route")}});e.listing=new i(e);e.listing.forceInline=true;e.containers=t;e.itemIdentifier=function u(e){var t=e.metadata||{};var r=e.kind.toLowerCase()+"s/";if(t.namespace)r=r+t.namespace+"/";return r+t.name};e.serviceEndpoint=function f(e){return n().kind("Endpoints").namespace(e.metadata.namespace).name(e.metadata.name).one()};e.replicationcontrollerPods=function m(e){var t=e.metadata||{};var r=e.spec||{};return n().kind("Pod").namespace(t.namespace||"").label(r.selector||{})};e.nodePods=function d(e){var t=e.metadata||{};return n().kind("Pod").host(t.name)};e.nodeReadyCondition=function p(e){var t={};if(e){e.forEach(function(e){if(e.type=="Ready"){t=e;return false}})}return t};e.podStatus=function(e){var t=e.status||{};var r=e.metadata||{};if(r.deletionTimestamp)return"Terminating";else return t.phase};angular.extend(e,c)}]).filter("nodeStatus",["KubeTranslate",function(e){return function(t){var r=false;var n=e.gettext;if(t){t.forEach(function(e){if(e.type=="Ready"){r=e.status=="True";return false}})}return r?n("Ready"):n("Not Ready")}}]).filter("nodeExternalIP",["KubeTranslate",function(e){return function(t){var r=null;var n=e.gettext;if(t){t.forEach(function(e){if(e.type=="LegacyHostIP"||r.type=="ExternalIP"){r=e.address;return false}})}return r?r:n("Unknown")}}]).filter("formatCapacityName",function(){return function(e){var t;if(e=="cpu"){t="CPUs"}else{e=e.replace(/-/g," ");t=e.charAt(0).toUpperCase()+e.substr(1)}return t}}).filter("formatCapacityValue",["KubeFormat",function(e){return function(r,n){var a;if(n=="memory"){var i=t(r);r=e.formatBytes(i)}return r}}]).directive("kubernetesServiceCluster",function(){return{restrict:"E",link:function(e,t,n){e.$watchGroup(["item.spec.clusterIP","item.spec.ports"],function(e){var n=r([e[0]],e[1]);t.text(n)})}}}).factory("itemActions",["$modal",function(e){function t(t){return e.open({animation:false,controller:"ItemDeleteCtrl",templateUrl:"views/item-delete.html",resolve:{dialogData:function(){return{item:t}}}}).result}function r(t){return e.open({animation:false,controller:"RouteModifyCtrl",templateUrl:"views/route-modify.html",resolve:{dialogData:function(){return{item:t}}}}).result}function n(t){return e.open({animation:false,controller:"RCModifyCtrl",templateUrl:"views/replicationcontroller-modify.html",resolve:{dialogData:function(){return{item:t}}}}).result}function a(t){return e.open({animation:false,controller:"ServiceModifyCtrl",templateUrl:"views/service-modify.html",resolve:{dialogData:function(){return{item:t}}}}).result}return{modifyRC:n,modifyRoute:r,deleteItem:t,modifyService:a}}]).controller("ItemDeleteCtrl",["$scope","$modalInstance","dialogData","kubeMethods",function(e,t,r,n){angular.extend(e,r);e.performDelete=function a(){return n.delete(e.item)}}]).controller("RCModifyCtrl",["$q","$scope","$modalInstance","dialogData","kubeMethods","KubeTranslate",function(t,r,n,a,i,o){var l=o.gettext;var c={};if(!e(a.item,"ReplicationController")){r.$applyAsync(function(){r.$dismiss()});return}function s(){var e=t.defer();var r=Number(c.replicas.trim());var n;if(isNaN(r)||r<0)n=new Error(l("Not a valid number of replicas"));else if(r>128)n=new Error(l("The maximum number of replicas is 128"));if(n){n.target="#replicas";e.reject(n)}else{e.resolve({spec:{replicas:r}})}return e.promise}r.fields=c;angular.extend(r,a);r.performModify=function u(){return s().then(function(e){return i.patch(r.item,e)})}}]).controller("RouteModifyCtrl",["$q","$scope","$modalInstance","dialogData","kubeMethods","KubeTranslate",function(t,r,n,a,i,o){var l=o.gettext;var c={};if(!e(a.item,"Route")){r.$applyAsync(function(){r.$dismiss()});return}c.host=a.item.spec.host;function s(){var e=t.defer();var r=c.host.trim();var n;if(!r){n=new Error(l("Not a valid value for Host"));n.target="#host-value";e.reject(n)}else{e.resolve({spec:{host:c.host.trim()}})}return e.promise}r.fields=c;angular.extend(r,a);r.performModify=function u(){return s().then(function(e){return i.patch(r.item,e)})}}]).controller("ServiceModifyCtrl",["$q","$scope","$modalInstance","dialogData","kubeLoader","kubeSelect","KubeRequest","KubeTranslate","KubeFormat",function(t,r,n,a,i,o,l,c,s){var u=c.gettext;var f={};var m;if(!e(a.item,"Service")){r.$applyAsync(function(){r.$dismiss()});return}r.rcs=o().kind("ReplicationController").namespace(a.item.metadata.namespace||"").label(a.item.spec.selector||{});for(m in r.rcs){var d=r.rcs[m];f[m]={name:d.metadata.name,replicas:d.spec.replicas}}r.service=a.item;r.fields=f;angular.extend(r,a);function p(){var e=t.defer();var r;var n=[];var a=[];for(r in f){var i;var o=Number(f[r].replicas);var l=f[r].name;if(isNaN(o)||o<0)i=new Error(u("Not a valid number of replicas"));else if(o>128)i=new Error(u("The maximum number of replicas is 128"));if(i){i.target="#"+l;a.push(i)}else{n.push({link:r,name:l,data:{spec:{replicas:o}}})}}if(a.length>0){e.reject(a)}else e.resolve(n);return e.promise}r.performModify=function v(){var e=t.defer();var r;var n;p().then(function(t){function r(){var n=t.shift();if(!n){e.resolve();return}e.notify(s.format(u("Updating $0..."),n.name));var a={headers:{"Content-Type":"application/strategic-merge-patch+json"}};new l("PATCH",n.link,JSON.stringify(n.data),a).then(function(e){r()},function(t){var r=t.data;return e.reject(r||t)})}r()}).catch(function(t){e.reject(t)});var a=e.promise;a.cancel=function i(){if(n&&n.cancel)n.cancel()};return a}}])})();

//# sourceURL=kubernetes/scripts/details.min.js

(function(){"use strict";angular.module("kubernetes.graph",["kubeClient","kubeClient.cockpit","kubeUtils"]).factory("CAdvisorSeries",["KubeRequest","CockpitMetrics","$exceptionHandler","$timeout",function(e,t,n,r){function a(a){var i=this;var o=[];var u=1e3;var c={};var f=0;var s={};i.specs={};function l(e){var t,n,r,a,o;var f,s,l,v,m;var h=null;for(t in e){v=e[t];if(v.stats){o=v.stats.length;for(a=0;a<o;a++){l=v.stats[a].timestamp;if(l){if(h===null||l<h)h=l}}}}if(h===null)return;var p=Math.floor(new Date(h).getTime()/u);var g=[];var w,k={};var y=[];var b;var x={};for(t in e){v=e[t];w=v.name;if(!w)continue;x[w]=w;k[w]={"":w};b=w;if(v.aliases){r=v.aliases.length;for(n=0;n<r;n++){k[v.aliases[n]]={"":w};if(v.aliases[n].length===64)b=v.aliases[n]}}if(b&&v.spec){if(!i.specs[b]){i.specs[b]=v.spec;y.push(b)}}if(v.stats){o=v.stats.length;for(a=0;a<o;a++){m=v.stats[a];if(!m.timestamp)continue;s=Math.floor(new Date(m.timestamp).getTime()/u);f=g[s-p];if(!f)f=g[s-p]={};f[w]=m}}}if(y.length>0)d(y);o=g.length;for(a=0;a<o;a++){if(g[a]===undefined)g[a]={}}for(w in x){o=g.length;for(a=0;a<o;a++){if(g[a][w]===undefined)g[a][w]=c[w];else c[w]=g[a][w]}}i.series.input(p,g,k)}function v(t){var n=JSON.stringify(t);if(n in s)return;var r="/api/v1/proxy/nodes/"+encodeURIComponent(a)+":4194/api/v1.2/docker";var i=e("POST",r,t);s[n]=i;i.then(function(e){delete s[n];l(e.data)}).catch(function(e){delete s[n];if(e.status!=503)console.warn(e)})}function d(){var e,t,r;for(e=0,t=o.length;e<t;e++){r=o[e];try{if(r)r.apply(i,arguments)}catch(a){n(a)}}}i.fetch=function h(e,t){var n;if(!e||!t){n={num_stats:60}}else{n={start:new Date((e-1)*u).toISOString(),end:new Date(t*u).toISOString()}}v(n)};i.close=function p(){var e,t;for(t in s){e=s[t];if(e&&e.cancel)e.cancel()}};i.watch=function g(e){var t;var n;o.push(e);if(i.specs){t=Object.keys(i.specs);if(t.length>0){n=r(function(){n=null;e.call(i,t)},0)}}return{cancel:function(){var t,a;r.cancel(n);n=null;for(t=0,a=o.length;t<a;t++){if(o[t]===e)o[t]=null}}}};var m="cadv1-"+(a||null);i.series=t.series(u,m,i.fetch)}return{new_cadvisor:function(e){return new a(e)}}}]).factory("ServiceGrid",["CAdvisorSeries","CockpitMetrics","kubeSelect","kubeLoader",function e(t,n,r,a){function i(){var e=n.grid(1e3,0,0);var i={};var o={};e.rows=[];e.events=[];var u=false;var c=null;var f={cpu:{},memory:{},network:{}};var s={};var l={};var v={};var d={};var m=a.listen(function(){var t=false;var n={};var a={};angular.forEach(r().kind("Service"),function(e){var u=e.spec;var c=e.metadata;var f=c.name;if(!u||!u.selector||f==="kubernetes"||f==="kubernetes-ro")return;var s=c.uid;var l=r().kind("Pod").namespace(c.namespace||"").label(u.selector||{});n[s]=true;if(!o[s])w(s);angular.forEach(l,function(e){var n=e.status||{};var r=e.spec||{};var u=r.nodeName;var c={};var f=n.containerStatuses||[];var l;var v=o[s];a[u]=true;if(u&&!i[u]){p(u)}for(l=0;l<f.length;l++){var d=f[l];var m=d.containerID;if(m&&m.indexOf("docker://")===0){c[m]=m;m=m.substring(9);c[m]=m;if(!v||!v[m])t=true}}o[s]=c})});var u;for(u in o){if(!n[u]){k(u);t=true}}for(u in i){if(!a[u]){g(u);t=true}}if(t)e.sync()});a.watch("Pod");a.watch("Service");function h(t,n){var r=e.add(t,[n,"cpu","usage","total"]);s[n]=e.add(function(e,t,n){b(r,e,t,n)},true);l[n]=e.add(t,[n,"memory","usage"]);var a=e.add(t,[n,"network","rx_bytes"]);v[n]=e.add(function(e,t,n){b(a,e,t,n)},true);var i=e.add(t,[n,"network","tx_bytes"]);d[n]=e.add(function(e,t,n){b(i,e,t,n)},true);e.sync()}function p(n){var r=t.new_cadvisor(n);r.watch(function(e){var t;for(t=0;t<e.length;t++)h(r,e[t])});e.add(r,["unused-dummy"]);i[n]=r}function g(e){var t=i[e];if(t){delete i[e];t.close();t=null;u=true}}function w(t){f.cpu[t]=e.add(function(e,n,r){x(t,s,e,n,r)});f.memory[t]=e.add(function(e,n,r){x(t,l,e,n,r)});var n=e.add(function(e,n,r){x(t,d,e,n,r)});var r=e.add(function(e,n,r){x(t,v,e,n,r)});f.network[t]=e.add(function(e,t,a){y([n,r],e,t,a)});u=true}function k(e){delete o[e];delete f.network[e];delete f.cpu[e];delete f.memory[e];u=true}function y(e,t,n,r){var a=t.maximum||0;var i,o,c,f,s=e.length;for(o=0;o<r;o++){i=undefined;for(f=0;f<s;f++){c=e[f][n+o];if(c!==undefined){if(i===undefined)i=c;else i+=c}}if(i!==undefined&&i>a){t.maximum=a=i;u=true}t[n+o]=i}}function b(e,t,n,r){var a,i,o,c;if(n>0)i=e[n-1];var f=t.maximum||1;for(a=0;a<r;a++){c=e[n+a];if(i===undefined||c===undefined){o=undefined}else{o=c-i;if(o<0){o=undefined}else if(o>f){t.maximum=f=o;u=true}}t[n+a]=o;i=c}}function x(e,t,n,r,a){var i,u,c=[];var f=o[e];if(f){for(i in f){u=t[i];if(u)c.push(u)}}y(c,n,r,a)}e.metric=function E(t){if(t===undefined)return c;if(f[t]===undefined)throw"unsupported metric type";e.rows=[];c=t;var n=Object.keys(o);var r,a,i=n.length;for(a=0;a<i;a++){r=f[t][n[a]];if(r!==undefined){e.rows.push(r);r.uid=n[a]}}var u=document.createEvent("CustomEvent");u.initCustomEvent("changed",false,false,null);e.dispatchEvent(u,null)};var S=e.close;e.close=function M(){var t=Object.keys(i);var n;for(n=0;n<t.length;n++){var r=t[n];var a=i[r];if(a){delete i[r];a.close();a=null}}m.cancel();S.apply(e)};e.addEventListener("notify",function(){if(u){u=false;e.metric(c)}});return e}return{new_grid:function(){return new i}}}]).directive("kubernetesServiceGraph",["ServiceGrid","KubeTranslate","KubeFormat",function t(e,n,r){var a=n.gettext;function i(t,n){var i=e.new_grid();var o=d3.select(t);var u=null;var c={cpu:{label:a("CPU"),step:1e3*1e3*1e3,formatter:function(e){return e/(10*1e3*1e3)+"%"}},memory:{label:a("Memory"),step:1024*1024*64,formatter:function(e){return r.formatBytes(e)}},network:{label:a("Network"),step:1e3*1e3,formatter:function(e){return r.formatBitsPerSec(e,"Mbps")}}};o.append("ul").attr("class","nav nav-tabs").selectAll("li").data(Object.keys(c)).enter().append("li").attr("data-metric",function(e){return e}).append("a").text(function(e){return c[e].label});function f(e){o.selectAll("ul li").attr("class",function(t){return e===t?"active":null});i.metric(e)}o.selectAll("ul li").on("click",function(){f(d3.select(this).attr("data-metric"))});f("cpu");var s={top:12,right:15,bottom:40,left:60};var l=d3.scale.category20();var v=d3.select(t).append("svg");var d=v.append("g").attr("transform","translate("+s.left+","+s.top+")");var m=d3.scale.linear();var h=d3.svg.axis().scale(m).ticks(5).orient("left");var p=d.append("g").attr("class","y axis");var g=d3.scale.linear();var w=d3.svg.axis().scale(g).orient("bottom");var k=d.append("g").attr("class","x axis");var y=0;var b=d3.svg.line().defined(function(e){return e!==undefined}).x(function(e,t){return g(i.beg+t-y)}).y(function(e,t){return m(e)});var x=3e5/1024;var S=300;var E=300;var M=false;var C=false;window.setTimeout(function(){C=true;L()},1);function O(e,t){var n=e%t;if(e===0||n!==0)e+=t-n;return e}function A(){var e=i.interval;var t=S-s.right-s.left;var n=(new Date).getTime();var r=Math.floor(n/e);var a=r-Math.floor(x*t/e);y=a;i.move(a,r)}function L(){if(!C)return;v.attr("width",S).attr("height",E);var e=S-s.right-s.left;var t=E-s.top-s.bottom;var n=i.metric();var r=i.interval;var a=i.rows,o=0;var u,f,l=a.length;for(u=0;u<l;u++){if(a[u].maximum!==undefined)f=a[u].maximum;else f=d3.max(a[u]);if(f>o)o=Math.ceil(f)}var d=Math.floor(x*e/r);g.domain([0,d]).range([0,e]);m.domain([0,O(o,c[n].step)]).range([t,0]);var y=d3.scale.linear().domain([0,d]).range([d,0]);var b=[];for(u=60;u<d;u+=60)b.push(Math.round(y(u)));w.tickValues(b).tickSize(-t,-t).tickFormat(function(e){e=Math.round(y.invert(e));return e/60+" min"});k.attr("transform","translate(0,"+t+")").call(w).selectAll("text").attr("y","10px");h.tickSize(-e,-e).tickFormat(c[n].formatter);p.call(h).selectAll("text").attr("x","-10px");A()}function _(){var e=i.rows;var t=d.selectAll("path.line").data(e,function(e,t){return t});var r=t.style("stroke",function(e,t){return l(t)}).attr("d",function(e){return b(e)}).classed("highlight",function(e){return e.uid===u});t.enter().append("path").attr("class","line").on("mouseover",function(){n(d3.select(this).datum().uid)}).on("mouseout",function(){n(null)});t.exit().remove()}i.addEventListener("notify",_);function D(){L();_()}i.addEventListener("changed",D);function T(){S=t.offsetWidth-10;if(S<0)S=0;L()}window.addEventListener("resize",T);T();var $=window.setInterval(A,i.interval);return{highlight:function I(e){u=e;_()},close:function P(){window.removeEventListener("resize",T);i.removeEventListener("notify",_);i.removeEventListener("changed",D);i.close()}}}return{restrict:"E",link:function(e,t,n){var r=i(t[0],function(t){e.$broadcast("highlight",t);e.$digest()});e.$on("highlight",function(e,t){r.highlight(t)});t.on("$destroy",function(){r.close();r=null})}}}])})();

//# sourceURL=kubernetes/scripts/graphs.min.js

(function(){"use strict";angular.module("kubernetes",["ngRoute","ui.bootstrap","kubeClient","kubeClient.cockpit","kubernetes.app","kubernetes.graph","kubernetes.dashboard","kubernetes.containers","kubernetes.details","kubernetes.topology","registry.images","registry.projects","kubernetesUI"]).config(["$routeProvider","KubeWatchProvider","KubeRequestProvider","KubeSocketProvider","KubeTranslateProvider","KubeFormatProvider","kubernetesContainerSocketProvider","KubeDiscoverSettingsProvider","$provide",function(e,t,o,r,i,n,c,u,a){e.otherwise({redirectTo:"/"});t.KubeWatchFactory="CockpitKubeWatch";o.KubeRequestFactory="CockpitKubeRequest";r.KubeSocketFactory="CockpitKubeSocket";i.KubeTranslateFactory="CockpitTranslate";n.KubeFormatFactory="CockpitFormat";u.KubeDiscoverSettingsFactory="cockpitKubeDiscoverSettings";c.WebSocketFactory="cockpitContainerWebSocket";a.decorator("$exceptionHandler",["$delegate","$log",function(e,t){return function(t,o){if(window.parent!==window&&window.name.indexOf("cockpit1:")===0)window.parent.postMessage('\n{ "command": "oops" }',"*");e(t,o)}}])}])})();

//# sourceURL=kubernetes/scripts/main.min.js

"use strict";try{angular.module("kubernetesUI")}catch(e){angular.module("kubernetesUI",[])}angular.module("kubernetesUI").factory("KubernetesObjectDescriber",[function(){function e(){this.kinds={Pod:{templateUrl:"views/pod.html"},Service:{templateUrl:"views/service.html"},ReplicationController:{templateUrl:"views/replication-controller.html"}}}e.prototype.registerKind=function(e,t,n){if(this.kinds[e]&&!n){throw"KubernetesObjectDescriber.registerKind :: kind "+e+" is already registered."}if(!t){throw"KubernetesObjectDescriber.registerKind :: templateUrl is required."}this.kinds[e]={templateUrl:t}};e.prototype.templateUrlForKind=function(e){if(e&&this.kinds[e]){return this.kinds[e].templateUrl}return"views/default-describer.html"};return new e}]).directive("kubernetesObjectDescriber",["KubernetesObjectDescriber","$templateCache","$compile",function(e,t,n){return{restrict:"E",scope:{resource:"=",kind:"@",moreDetailsLink:"@"},link:function(s,r,a){var d=function(){var a=e.templateUrlForKind(s.kind);r.html(t.get(a));n(r.contents())(s)};d();s.$watch("kind",function(e,t){if(e!=t){d()}})}}}]).directive("kubernetesObjectDescribeLabels",function(){return{restrict:"E",scope:{resource:"="},templateUrl:"views/labels.html"}}).directive("kubernetesObjectDescribeAnnotations",function(){return{restrict:"E",scope:{resource:"="},templateUrl:"views/annotations.html"}}).directive("kubernetesObjectDescribeMetadata",function(){return{restrict:"E",scope:{resource:"="},templateUrl:"views/metadata.html"}}).directive("kubernetesObjectDescribeHeader",function(){return{restrict:"E",scope:{resource:"=",kind:"="},templateUrl:"views/header.html"}}).directive("kubernetesObjectDescribeFooter",function(){return{restrict:"E",scope:{resource:"="},templateUrl:"views/footer.html"}}).directive("kubernetesObjectDescribePodTemplate",function(){return{restrict:"E",scope:{template:"="},templateUrl:"views/pod-template.html"}}).directive("kubernetesObjectDescribeVolumes",function(){return{restrict:"E",scope:{volumes:"="},templateUrl:"views/volumes.html"}}).directive("kubernetesObjectDescribeContainers",function(){return{restrict:"E",scope:{containers:"="},templateUrl:"views/containers.html"}}).directive("kubernetesObjectDescribeContainerStatuses",function(){return{restrict:"E",scope:{containerStatuses:"="},templateUrl:"views/container-statuses.html"}}).directive("kubernetesObjectDescribeContainerState",function(){return{restrict:"E",scope:{containerState:"="},templateUrl:"views/container-state.html"}}).directive("collapseLongText",function(){return{restrict:"A",scope:{value:"@",enableCollapse:"=?"},controller:["$scope",function(e){e.enableCollapse=!!window.$}],link:function(e,t,n){if(e.enableCollapse){$(".reveal-contents-link",t).click(function(e){$(this).hide();$(".reveal-contents",t).show()})}},templateUrl:"views/_collapse-long-text.html"}}).filter("isEmptyObj",function(){return function(e){return angular.equals({},e)}});angular.module("kubernetesUI").run(["$templateCache",function(e){"use strict";e.put("views/_collapse-long-text.html",'<span ng-hide="enableCollapse && value.length > 120">{{value}}</span>\n'+'<span ng-show="enableCollapse && value.length > 120">\n'+'  <span class="reveal-contents-link" style="cursor: pointer;" title="Expand">{{value.substring(0, 120)}}<a href="javascript:;">...</a></span>\n'+'  <span style="display: none;" class="reveal-contents">{{value}}</span>\n'+"</span>");e.put("views/annotations.html","  <h3>Annotations</h3>\n"+'  <span ng-if="!resource.metadata.annotations"><em>none</em></span>\n'+'  <dl class="dl-horizontal" ng-if="resource.metadata.annotations">\n'+'    <dt ng-repeat-start="(annotationKey, annotationValue) in resource.metadata.annotations" title="{{annotationKey}}">{{annotationKey}}</dt>\n'+'    <dd ng-repeat-end collapse-long-text value="{{annotationValue}}"></dd>\n'+"  </dl>");e.put("views/container-state.html",'<span ng-if="containerState | isEmptyObj"><em>none</em></span>\n'+'<span ng-repeat="(state, stateDescription) in containerState | limitTo: 1">\n'+'  <span ng-switch="state">\n'+'    <span ng-switch-when="waiting">\n'+"      Waiting\n"+'      <span ng-if="stateDescription.reason">({{stateDescription.reason}})</span>\n'+"    </span>\n"+'    <span ng-switch-when="running">\n'+"      Running\n"+"      <span ng-if=\"stateDescription.startedAt\">since {{stateDescription.startedAt | date:'medium'}}</span>\n"+"    </span>\n"+'    <span ng-switch-when="terminated">\n'+"      Terminated\n"+"      <span ng-if=\"stateDescription.finishedAt\">at {{stateDescription.finishedAt | date:'medium'}}</span>\n"+'      <span ng-if="stateDescription.exitCode">with exit code {{stateDescription.exitCode}}</span>\n'+'      <span ng-if="stateDescription.reason">({{stateDescription.reason}})</span>\n'+"    </span>\n"+"    <span ng-switch-default>{{state}}</span>\n"+"  </span>\n"+"</span>\n");e.put("views/container-statuses.html",'<div ng-if="!containerStatuses"><em>none</em></div>\n'+'<dl ng-repeat="containerStatus in containerStatuses | orderBy:\'name\'" class="dl-horizontal">\n'+"  <dt>Name</dt>\n"+"  <dd>{{containerStatus.name}}</dd>\n"+"  <dt>State</dt>\n"+"  <dd>\n"+'    <kubernetes-object-describe-container-state container-state="containerStatus.state"></container-state>\n'+"  </dd>\n"+'  <dt ng-if="!(containerStatus.lastState | isEmptyObj)">Last State</dt>\n'+'  <dd ng-if="!(containerStatus.lastState | isEmptyObj)">\n'+'    <kubernetes-object-describe-container-state container-state="containerStatus.lastState"></container-state>\n'+"  </dd>\n"+"  <dt>Ready</dt>\n"+"  <dd>{{containerStatus.ready}}</dd>\n"+"  <dt>Restart Count</dt>\n"+"  <dd>{{containerStatus.restartCount}}</dd>\n"+"</dl>\n");e.put("views/containers.html",'<div ng-if="!containers.length"><em>none</em></div>\n'+'<dl class="dl-horizontal" ng-repeat="container in containers">\n'+"<dt>Name</dt>\n"+"<dd>{{container.name}}</dd>\n"+"<dt>Image</dt>\n"+'<dd ng-if="container.image">{{container.image}}</dd>\n'+'<dd ng-if="!container.image"><em>none</em></dd>\n'+"<dt>Ports</dt>\n"+"<dd>\n"+'  <div ng-if="!container.ports.length"><em>none</em></div>\n'+"  <div ng-repeat=\"port in container.ports | orderBy:'containerPort'\">\n"+'    {{port.containerPort}}/{{port.protocol}}<span ng-if="port.hostPort"> to host port {{port.hostPort}}</span>\n'+"  </div>\n"+"</dd>\n"+"<dt>Env vars</dt>\n"+"<dd>\n"+'  <div ng-if="!container.env.length"><em>none</em></div>\n'+'  <div ng-repeat="env in container.env | orderBy:\'name\'" collapse-long-text value="{{env.name}}={{env.value}}"></div>\n'+"</dd>\n"+"</dl>\n"+'<div ng-if="$index != 0" style="margin-bottom: 10px;"></div>\n');e.put("views/default-describer.html","<div>\n"+'  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n'+'  <kubernetes-object-describe-metadata resource="resource"></kubernetes-object-describe-metadata>\n'+'  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n'+"</div>");e.put("views/footer.html",'<div style="margin-top: 10px;">\n'+'  <a ng-if="moreDetailsLink" href="{{moreDetailsLink}}">More details...</a>  \n'+"</div>");e.put("views/header.html","<h3>{{kind || resource.kind || 'Resource'}}</h3>");e.put("views/labels.html","<h3>Labels</h3>\n"+'<span ng-if="!resource.metadata.labels"><em>none</em></span>\n'+'<dl class="dl-horizontal" ng-if="resource.metadata.labels">\n'+'  <dt ng-repeat-start="(labelKey, labelValue) in resource.metadata.labels" title="{{labelKey}}">{{labelKey}}</dt>\n'+"  <dd ng-repeat-end>{{labelValue}}</dd>\n"+"</dl>");e.put("views/metadata.html",'<dl class="dl-horizontal">\n'+"  <dt>Name</dt>\n"+"  <dd>{{resource.metadata.name}}</dd>\n"+'  <dt ng-if="resource.metadata.namespace">Namespace</dt>\n'+'  <dd ng-if="resource.metadata.namespace">{{resource.metadata.namespace}}</dd>\n'+"  <dt>Created</dt>\n"+"  <dd>{{resource.metadata.creationTimestamp | date:'medium'}}</dd>    \n"+"</dl>\n"+'<kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n'+'<kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n');e.put("views/pod-template.html","<h3>Pod Template</h3>\n"+'<dl class="dl-horizontal">\n'+"  <dt>Restart policy</dt>\n"+"  <dd>{{template.restartPolicy}}</dd>\n"+"  <dt>DNS policy</dt>\n"+"  <dd>{{template.dnsPolicy}}</dd>\n"+'  <dt ng-if="template.serviceAccountName">Service account</dt>\n'+'  <dd ng-if="template.serviceAccountName">{{template.serviceAccountName}}</dd>\n'+"</dl>  \n"+"<h4>Containers</h4>\n"+'<kubernetes-object-describe-containers containers="template.containers"></kubernetes-object-describe-containers>\n'+"<h4>Volumes</h4>\n"+'<kubernetes-object-describe-volumes volumes="template.volumes"></kubernetes-object-describe-volumes> \n');e.put("views/pod.html","<div>\n"+'  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n'+'  <dl class="dl-horizontal">\n'+"    <dt>Name</dt>\n"+"    <dd>{{resource.metadata.name}}</dd>\n"+"    <dt>Namespace</dt>\n"+"    <dd>{{resource.metadata.namespace}}</dd>\n"+"    <dt>Created</dt>\n"+"    <dd>{{resource.metadata.creationTimestamp | date:'medium'}}</dd>\n"+"    <dt>Restart policy</dt>\n"+"    <dd>{{resource.spec.restartPolicy || 'Always'}}</dd>\n"+'    <dt ng-if="resource.spec.serviceAccountName">Service account</dt>\n'+'    <dd ng-if="resource.spec.serviceAccountName">{{resource.spec.serviceAccountName}}</dd>\n'+"  </dl>\n"+"  <h3>Status</h3>\n"+'  <dl class="dl-horizontal">\n'+"    <dt>Phase</dt>\n"+"    <dd>{{resource.status.phase}}</dd>\n"+"    <dt>Node</dt>\n"+"    <dd>{{resource.spec.nodeName || 'unknown'}}\n"+'      <span ng-if="resource.status.hostIP && resource.spec.nodeName != resource.status.hostIP">({{resource.status.hostIP}})</span></dd>\n'+"    <dt>IP on node</dt>\n"+"    <dd>\n"+"      {{resource.status.podIP}}\n"+'      <span ng-if="!resource.status.podIP"><em>none</em></span>\n'+"    </dd>\n"+"  </dl>\n"+"  <h3>Container Statuses</h3>\n"+'  <kubernetes-object-describe-container-statuses container-statuses="resource.status.containerStatuses"></kubernetes-object-describe-container-statuses>\n'+"  <h3>Containers</h3>\n"+'  <kubernetes-object-describe-containers containers="resource.spec.containers"></kubernetes-object-describe-containers>\n'+"  <h3>Volumes</h3>\n"+'  <kubernetes-object-describe-volumes volumes="resource.spec.volumes"></kubernetes-object-describe-volumes>\n'+'  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n'+'  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n'+'  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n'+"</div>\n");e.put("views/replication-controller.html","<div>\n"+'  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n'+'  <dl class="dl-horizontal">\n'+"    <dt>Name</dt>\n"+"    <dd>{{resource.metadata.name}}</dd>\n"+"    <dt>Namespace</dt>\n"+"    <dd>{{resource.metadata.namespace}}</dd>\n"+"    <dt>Created</dt>\n"+"    <dd>{{resource.metadata.creationTimestamp | date:'medium'}}</dd>\n"+"    <dt>Replicas</dt>\n"+"    <dd>{{(resource.spec.replicas === undefined) ? 1 : resource.spec.replicas}}</dd>\n"+"  </dl>\n"+"  <h3>Selector</h3>\n"+'  <dl class="dl-horizontal">\n'+'    <dt ng-repeat-start="(selectorKey, selectorValue) in resource.spec.selector" title="{{selectorKey}}">{{selectorKey}}</dt>\n'+"    <dd ng-repeat-end>{{selectorValue}}</dd>\n"+"  </dl>\n"+'  <kubernetes-object-describe-pod-template template="resource.spec.template.spec"></kubernetes-object-describe-pod-template>\n'+'  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n'+'  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n'+'  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n'+"</div>\n");e.put("views/service.html","<div>\n"+'  <kubernetes-object-describe-header resource="resource" kind="kind"></kubernetes-object-describe-header>\n'+'  <dl class="dl-horizontal">\n'+"    <dt>Name</dt>\n"+"    <dd>{{resource.metadata.name}}</dd>\n"+"    <dt>Namespace</dt>\n"+"    <dd>{{resource.metadata.namespace}}</dd>\n"+"    <dt>Created</dt>\n"+"    <dd>{{resource.metadata.creationTimestamp | date:'medium'}}</dd>\n"+"    <dt>Type</dt>\n"+"    <dd>{{resource.spec.type}}</dd>\n"+"    <dt>IP</dt>\n"+"    <dd>{{resource.spec.clusterIP}}</dd>\n"+"    <dt>Ports</dt>\n"+"    <dd>\n"+'      <div ng-if="!resource.spec.ports.length">None</div>\n'+"      <div ng-repeat=\"portMapping in resource.spec.ports | orderBy:'port'\">\n"+"        {{portMapping.port}} &#8594; {{portMapping.targetPort}} ({{portMapping.protocol}})\n"+"      </div>\n"+"    </dd>\n"+"    <dt>Session affinity</dt>\n"+"    <dd>{{resource.spec.sessionAffinity}}</dd>    \n"+'    <dt ng-if="resource.status.loadBalancer.ingress.length">Ingress points</dt>\n'+'    <dd ng-if="resource.status.loadBalancer.ingress.length">\n'+'      <span ng-repeat="ingress in resource.status.loadBalancer.ingress"\n'+'        >{{ingress.ip}}<span ng-if="!$last">, </span></span>\n'+"    </dd>\n"+"  </dl>\n"+"  <h3>Selector</h3>\n"+'  <dl class="dl-horizontal">\n'+'    <dt ng-repeat-start="(selectorKey, selectorValue) in resource.spec.selector">{{selectorKey}}</dt>\n'+"    <dd ng-repeat-end>{{selectorValue}}</dd>\n"+"  </dl>\n"+'  <kubernetes-object-describe-labels resource="resource"></kubernetes-object-describe-labels>\n'+'  <kubernetes-object-describe-annotations resource="resource"></kubernetes-object-describe-annotations>\n'+'  <kubernetes-object-describe-footer resource="resource"></kubernetes-object-describe-footer>\n'+"</div>\n");e.put("views/volumes.html",'<div ng-if="!volumes.length"><em>none</em></div>\n'+'<dl class="dl-horizontal" ng-repeat="volume in volumes">\n'+"<dt>Name</dt>\n"+"<dd>{{volume.name}}</dd>\n"+"<!-- Type = host path -->\n"+'<dt ng-if-start="volume.hostPath">Type</dt>\n'+"<dd>host path</dd>\n"+"<dt>Path</dt>\n"+"<dd ng-if-end>{{volume.hostPath.path}}</dd>\n"+"<!-- Type = empty dir -->\n"+'<dt ng-if-start="volume.emptyDir">Type</dt>\n'+"<dd ng-if-end>empty directory</dd>\n"+"<!-- Type = GCE persistent disk - TODO fill out details -->\n"+'<dt ng-if-start="volume.gcePersistentDisk">Type</dt>\n'+"<dd ng-if-end>GCE persistent disk</dd>\n"+"<!-- Type = git repo -->\n"+'<dt ng-if-start="volume.gitRepo">Type</dt>\n'+"<dd>Git repository</dd>\n"+"<dt>Repository</dt>\n"+"<dd>{{volume.gitRepo.repository}}</dd>\n"+"<dt>Revision</dt>\n"+"<dd ng-if-end>\n"+'  <span ng-if="volume.gitRepo.revision">{{volume.gitRepo.revision}}</span>\n'+'  <span ng-if="!volume.gitRepo.revision"><em>not specified</em></span>\n'+"</dd>\n"+"</dl>")}]);

//# sourceURL=kubernetes/scripts/object-describer.min.js

(function(){"use strict";var e={Pod:"#vertex-Pod",ReplicationController:"#vertex-ReplicationController",Node:"#vertex-Node",Service:"#vertex-Service",DeploymentConfig:"#vertex-DeploymentConfig",Route:"#vertex-Route"};angular.module("kubernetes.topology",["ngRoute","kubernetesUI","kubeClient","kubernetes.details"]).config(["$routeProvider",function(e){e.when("/topology",{templateUrl:"views/topology-page.html",controller:"TopologyCtrl"})}]).controller("TopologyCtrl",["$scope","$window","kubeLoader","kubeSelect","KubeDiscoverSettings","itemActions",function(t,n,a,o,i,r){t.items={};t.relations=[];t.selected=null;var c=false;function l(e,t,n){var a=o().kind(e).name(n).namespace(t).one();if(a)return a.metadata.selfLink}function s(e){var t={};var n,a;var i;if(e.kind==="Node"){t=o().kind("Pod").host(e.metadata.name)}else if(e.kind==="Service"){n=o().kind("Endpoints").namespace(e.metadata.namespace).name(e.metadata.name).one()||{};a=n.subsets||[];a.forEach(function(e){var n=e.addresses||[];n.forEach(function(e){if(e.targetRef&&e.targetRef.kind=="Pod")i=l("Pod",e.targetRef.namespace,e.targetRef.name);if(i)t[i]={}})})}else if(e.kind==="ReplicationController"){t=o().kind("Pod").namespace(e.metadata.namespace);if(e.spec.selector)t=t.label(e.spec.selector)}else if(e.kind==="DeploymentConfig"){t=o().kind("ReplicationController").namespace(e.metadata.namespace).label({"openshift.io/deployment-config.name":e.metadata.name})}else if(e.kind==="Route"&&e.spec.to){i=l(e.spec.to.kind,e.metadata.namespace,e.spec.to.name);if(i)t[i]={}}return t}a.watch("Node");a.watch("Pod");a.watch("ReplicationController");a.watch("Service");a.watch("Endpoints");i().then(function(e){if(e.flavor==="openshift"){a.watch("DeploymentConfig");a.watch("Route")}});var d=a.listen(function(e,n){var a;var i=[];var r;var c;t.items=o();if(t.selected){a=t.selected.metadata||{};r=o().kind(t.selected.kind).name(a.name);if(a.namespace)r=r.namespace(a.namespace);t.selected=r.one()}for(c in t.items){var l;var d=s(t.items[c]);for(l in d)i.push({source:c,target:l})}t.relations=i});t.$on("$destroy",function(){d.cancel()});t.$on("select",function(e,n){t.$applyAsync(function(){t.selected=n})});t.kinds=angular.copy(e);angular.extend(t,r);function f(){t.height={height:window.innerHeight-55+"px"};if(c)t.$digest()}angular.element(n).bind("resize",f);f();c=true}])})();

//# sourceURL=kubernetes/scripts/topology.min.js

(function(e,t){if(typeof define==="function"&&define.amd)define("kubernetes/scripts/topology-graph", ["angular","d3"],t);else t(e.angular,e.d3)})(this,function(e,t){"use strict";var n={};function i(e,i,r){var a=t.select(e);var o=null;var c={};var s=[];var u;var l;var d=20;var f;var v=[];var k=[];var m={};var x=null;if(!i){i=t.layout.force().charge(-800).gravity(.2).linkDistance(80)}var p=i.drag();var g=a.append("svg").attr("viewBox","0 0 1600 1200").attr("preserveAspectRatio","xMidYMid meet").attr("class","kube-topology");var h=t.select();var y=t.select();i.on("tick",function(){y.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y});h.attr("cx",function(e){e.x=e.fixed?e.x:Math.max(d,Math.min(u-d,e.x));return e.x}).attr("cy",function(e){e.y=e.fixed?e.y:Math.max(d,Math.min(l-d,e.y));return e.y}).attr("transform",function(e){return"translate("+e.x+","+e.y+")"})});p.on("dragstart",function(e){r(e.item);if(e.fixed!==true)e.floatpoint=[e.x,e.y];e.fixed=true;t.select(this).classed("fixed",true)}).on("dragend",function(e){var n=true;if(e.floatpoint){n=e.x<e.floatpoint[0]-5||e.x>e.floatpoint[0]+5||(e.y<e.floatpoint[1]-5||e.y>e.floatpoint[1]+5);delete e.floatpoint}e.fixed=n&&e.x>3&&e.x<u-3&&e.y>=3&&e.y<l-3;t.select(this).classed("fixed",e.fixed)});g.on("dblclick",function(){g.selectAll("g").classed("fixed",false).each(function(e){e.fixed=false});i.start()}).on("click",function(e){if(!t.select(t.event.target).datum()){r(null)}});function w(e){x=e;g.selectAll("g").classed("selected",function(t){return t.item===e})}function $(){f=null;u=a.node().clientWidth;l=a.node().clientHeight;i.size([u,l]);g.attr("viewBox","0 0 "+u+" "+l);b()}function b(){y=g.selectAll("line").data(k);y.exit().remove();y.enter().insert("line",":first-child");y.attr("class",function(e){return e.kinds});h=g.selectAll("g").data(v,function(e){return e.id});h.exit().remove();var e=h.enter().append("g").call(p);w(x);i.nodes(v).links(k).start();return e}function A(){var e=v;var i=m;v=[];k=[];m={};var r,a,d,f;for(a in c){r=c[a];d=r.kind;if(o&&!o[d])continue;f=e[i[a]];if(!f){f=n[a];delete n[a];if(!f)f={}}f.id=a;f.item=r;m[a]=v.length;v.push(f)}var x,p,g,h,y;for(x=0,p=s.length;x<p;x++){g=s[x];h=m[g.source];y=m[g.target];if(h===undefined||y===undefined)continue;k.push({source:h,target:y,kinds:v[h].item.kind+v[y].item.kind})}if(u&&l)return b();else return t.select()}function M(){window.clearTimeout(f);f=window.setTimeout($,150)}window.addEventListener("resize",M);$();M();return{select:w,kinds:function(e){o=e;var t=A();return[h,t]},data:function(e,t){c=e||{};s=t||[];var n=A();return[h,n]},close:function(){window.removeEventListener("resize",M);window.clearTimeout(f);var e,t;n={};for(e in m){t=v[m[e]];delete t.item;n[e]=t}v=[];m={}}}}try{e.module("kubernetesUI")}catch(r){e.module("kubernetesUI",[])}return e.module("kubernetesUI").directive("kubernetesTopologyGraph",[function(){return{restrict:"E",scope:{items:"=",relations:"=",kinds:"=",selection:"=",force:"="},link:function(e,t,n){t.css("display","block");function r(t){var i=e.$emit("select",t);if(n["selection"]===undefined&&!i.defaultPrevented)u.select(t)}function a(t){var n;var i=e.kinds;if(i)n=i[t.item.kind];return n||""}function o(e){var t=e.item.status;if(t&&t.phase&&t.phase!=="Running")return true;return false}function c(e){return e.item.metadata.name}function s(t){var n=t[0];var i=t[1];var r=e.$emit("render",n,i);if(!r.defaultPrevented){i.attr("class",function(e){return e.item.kind});i.append("use").attr("xlink:href",a);i.append("title");n.selectAll("title").text(function(e){return e.item.metadata.name});n.classed("weak",o)}}var u=i(t[0],e.force,r);e.$watchCollection("kinds",function(e){s(u.kinds(e))});e.$watchCollection("[items, relations]",function(e){s(u.data(e[0],e[1]))});e.$watch("selection",function(e){u.select(e)});t.on("$destroy",function(){u.close()})}}}]).directive("kubernetesTopologyIcon",function(){return{restrict:"E",transclude:true,template:"<ng-transclude></ng-transclude>",link:function(e,t,n){var i=n.kind;var r=e.kinds[i];e.$watchCollection("kinds",function(){t.toggleClass("active",i in e.kinds)});t.on("click",function(){if(i in e.kinds){r=e.kinds[i];delete e.kinds[i]}else{e.kinds[i]=r}if(e.$parent)e.$parent.$digest();e.$digest()})}}})});

//# sourceURL=kubernetes/scripts/topology-graph.min.js

(function(){angular.module("kubernetes").run(["$templateCache", function($templateCache) {
$templateCache.put("views/filter-bar.html", "<div class=\"btn-group filter-menu pull-right\" ng-if=\"listing\" dropdown> <button class=\"btn btn-default fa fa-th-list\"></button> <button class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" dropdown-toggle> <span class=\"caret\"></span> </button> <ul class=\"dropdown-menu\"> <li ng-if=\"!listing.forceInline\" ng-class=\"{ checked: listing.expandable }\"> <a ng-click=\"listing.expandable = !listing.expandable\" translatable=\"yes\">Expand items inline</a> </li> <li ng-class=\"{ checked: listing.only, disabled: !listing.expanded() }\"> <a ng-click=\"listing.only = !listing.only\" translatable=\"yes\">Only expanded items</a> </li> <li> <a ng-click=\"listing.collapse()\" translatable=\"yes\">Collapse all</a> </li> </ul> </div> <filter-project> </filter-project>");
$templateCache.put("views/filter-project.html", "<div class=\"btn-group bootstrap-select namespace-filter\" dropdown> <button class=\"btn btn-default dropdown-toggle\" type=\"button\" dropdown-toggle> <span class=\"pull-left\"> <span ng-if=\"!filter.namespace()\" translatable=\"yes\">All Projects</span> <span ng-if=\"filter.namespace()\"><span class=\"namespace-meta\" translatable=\"yes\">Project:</span> {{filter.namespace()}}</span> </span> <span class=\"caret\"></span> </button> <ul class=\"dropdown-menu\"> <li ng-class=\"{ checked: !filter.namespace() }\"> <a ng-click=\"filter.namespace(null)\" value=\"\">All Projects</a> </li> <li ng-repeat=\"name in filter.namespaces() track by name\" ng-class=\"{ checked: name == filter.namespace() }\"> <a ng-click=\"filter.namespace(name)\" value=\"{{name}}\">{{name}}</a> </li> </ul> </div>");
$templateCache.put("views/image-body.html", "<dl> <dt ng-if=\"labels.summary\" translatable=\"yes\">Summary</dt> <dd ng-if=\"labels.summary\">{{ labels.summary }}</dd> <dt ng-if=\"labels.description\" translatable=\"yes\">Description</dt> <dd ng-if=\"labels.description\">{{ labels.description }}</dd> <dt ng-if=\"labels.url\" translatable=\"yes\">Source URL</dt> <dd ng-if=\"labels.url\" translatable=\"yes\"> <a href=\"labels.url\"><i class=\"fa fa-external-link\"></i> {{ labels.url }}</a> </dd> <dt translatable=\"yes\">Author</dt> <dd ng-if=\"config.author\">{{config.author}}</dd> <dd ng-if=\"!config.author && image.dockerImageMetadata.Author\">{{image.dockerImageMetadata.Author}}</dd> <dd ng-if=\"!config.author && !image.dockerImageMetadata.Author\"><em translatable=\"yes\">Unknown</em></dd> <dt translatable=\"yes\">Built</dt> <dd ng-if=\"labels['build-date']\" title=\"{{labels['build-date']}}\">{{ labels['build-date'] | dateRelative}}</dd> <dd ng-if=\"!labels['build-date'] && layers[0].v1Compatibility.created\" title=\"{{layer.v1Compatibility.created}}\">{{ layer.v1Compatibility.created | dateRelative}}</dd> <dd ng-if=\"!labels['build-date'] && !layers[0].v1Compatibility.created\" title=\"{{image.dockerImageMetadata.Created}}\">{{image.dockerImageMetadata.Created | dateRelative}}</dd> <dt translatable=\"yes\">Digest</dt> <dd><tt>{{ image.metadata.name }}</tt></dd> <dt translatable=\"yes\">Identifier</dt> <dd><tt>{{ config.Image }}</tt></dd> </dl> <dl class=\"image-tags\"> <dt translatable=\"yes\">Tags</dt> <dd><span class=\"image-tag\" ng-repeat=\"name in names\">{{name}}</span></dd> </dl> <p> <i class=\"fa fa-info-circle\"></i> <span translatable=\"yes\">To pull this image:</span> </p> <pre>$ sudo docker pull {{stream.status.dockerImageRepository}}:{{tag.tag}}</pre>");
$templateCache.put("views/image-config.html", "<pre>{{ configCommand(config) }}</pre> <div class=\"row\"> <dl class=\"col-xs-12 col-sm-12 col-md-4\"> <dt translatable=\"yes\">Run as</dt> <dd ng-if=\"config.User\">{{config.User}}</dd> <dd ng-if=\"!config.User\"><em translatable=\"yes\">Default</em></dd> <dt translatable=\"yes\">Directory</dt> <dd ng-if=\"config.WorkingDir\">{{config.WorkingDir}}</dd> <dd ng-if=\"!config.WorkingDir\">/</dd> <dt ng-if=\"config.StopSignal\" translatable=\"yes\">Stop with</dt> <dd ng-if=\"config.StopSignal\">{{config.StopSignal}}</dd> <dt translatable=\"yes\">Architecture</dt> <dd ng-if=\"config.architecture\">{{config.architecture}}</dd> <dd ng-if=\"!config.architecture\">{{image.dockerImageMetadata.Architecture}}</dd> </dl> <dl class=\"col-xs-12 col-sm-12 col-md-8 full-width\"> <dt ng-if=\"config.Env.length\" translatable=\"yes\">Environment</dt> <dd ng-repeat=\"env in config.Env\"><tt>{{env}}</tt></dd> </dl> </div> <div class=\"row\"> <dl class=\"col-xs-12 col-sm-12 col-md-4\"> <dt translatable=\"yes\">Ports</dt> <dd ng-repeat=\"(port, data) in config.ExposedPorts\">{{port}}</dd> <dd ng-if=\"!config.ExposedPorts\"><em translatable=\"yes\">None</em></dd> </dl> <dl class=\"col-xs-12 col-sm-12 col-md-8 full-width\"> <dt ng-if=\"config.Volumes\" translatable=\"yes\">Volumes</dt> <dd ng-repeat=\"(volume, data) in config.Volumes\">{{volume}}</dd> </dl> </div>");
$templateCache.put("views/image-delete.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Remove image tag</h3> </div> <div class=\"modal-body\" translatable=\"yes\">Do you want to remove the image tagged as '{{stream.metadata.namespace}}/{{stream.metadata.name}}:{{tag.tag}}'?</div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-danger\" translatable=\"yes\" ng-click=\"complete(performDelete())\">Delete</button> </div> </modal-dialog>");
$templateCache.put("views/image-meta.html", "<div> <image-layers layers=\"imageLayers(image)\"> </image-layers> <dl> <dt ng-if=\"labels\" translatable=\"yes\">Labels</dt> <dd ng-repeat=\"(name, value) in labels\" ng-show=\"name != 'description' && name != 'name'\"> <tt>{{name}}={{value}}</tt> </dd> <dt ng-if=\"config.OnBuild.length\" translatable=\"yes\">On Build</dt> <dd ng-repeat=\"line in config.OnBuild\"><tt>{{line}}</tt></dd> <dt ng-if=\"image.metadata.annotations\" translatable=\"yes\">Annotations</dt> <dd ng-repeat=\"(name, value) in image.metadata.annotations\">{{name}}: {{value}}</dd> <dt translatable=\"yes\">Docker Version</dt> <dd>{{image.dockerImageMetadata.DockerVersion}}</dd> </dl> </div>");
$templateCache.put("views/image-listing.html", "<table listing-table class=\"listing images-listing\"> <thead> <tr ng-if=\"!listing.inline\"> <td colspan=\"4\"> <a class=\"pull-right\" ng-click=\"createImageStream()\"> <i translatable=\"yes\" class=\"pficon pficon-add-circle-o\"></i> <span translatable=\"yes\">New image stream</span> </a> <h3 translatable=\"yes\">Images</h3> </td> </tr> <tr> <th translatable=\"yes\">Tags</th> <th translatable=\"yes\">Author</th> <th translatable=\"yes\">Last Updated</th> </tr> </thead> <tbody ng-repeat-start=\"stream in imagestreams() track by stream.metadata.name\" ng-init=\"sid = stream.metadata.namespace + '/' + stream.metadata.name\" data-id=\"{{ sid }}\" class=\"active\" ng-class=\"{open: listing.expanded(sid)}\"> <tr class=\"listing-item imagestream-item\" ng-click=\"listing.toggle(sid)\"> <th ng-if=\"!listing.inline\" colspan=\"4\">{{ sid }}</th> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(sid)\" ng-init=\"id = sid\"> <td listing-panel kind=\"ImageStream\" colspan=\"3\"></td> </tr> </tbody> <tbody ng-repeat=\"tag in stream.status.tags track by tag.tag\" ng-init=\"iid = sid + ':' + tag.tag\" data-id=\"{{ iid }}\" class=\"active\" ng-class=\"{open: listing.expanded(iid), last: $last, first: $first}\"> <tr class=\"listing-item tag-item\" ng-click=\"listing.toggle(iid)\" ng-repeat-start=\"image in imagesByTag(tag) track by image.metadata.name\"> <td><span class=\"image-tag\">:{{ tag.tag }}</span></td> <td colspan=\"3\"><tt>{{ image.metadata.name }}</tt></td> </tr> <tr class=\"listing-item image-item\" ng-click=\"listing.toggle(iid)\" ng-init=\"conf = imageConfig(image); layer = imageLayers(image)[0]\"> <td></td> <td ng-if=\"conf.author\">{{ conf.author }}</td> <td ng-if=\"!conf.author\">{{ image.dockerImageMetadata.Author }}</td> <td title=\"{{ tag.items[0].created }}\">{{ tag.items[0].created | dateRelative }}</td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(iid)\" ng-init=\"id = iid\" ng-repeat-end=\"\"> <td image-panel colspan=\"3\"></td> </tr> </tbody> <tbody data-ng-rubbish=\"\" ng-if=\"0\" ng-repeat-end> </tbody> <thead class=\"listing-empty\" ng-if=\"!quiet\"> <tr> <td colspan=\"3\" ng-if=\"!failure\" translatable=\"yes\">No image streams are present.</td> <td colspan=\"3\" ng-if=\"failure\">{{failure}}</td> </tr> </thead> </table>");
$templateCache.put("views/image-page.html", "<div class=\"content-filter\"> <div class=\"listing-actions\"> <button class=\"btn btn-danger btn-delete pficon pficon-delete\" ng-click=\"deleteTag(stream, tag)\"></button> </div> <h3> <i class=\"pficon pficon-image\"></i> <span ng-if=\"labels.name\">{{ labels.name }}</span> <span ng-if=\"!labels.name\">{{ names[0] }}</span> </h3> <a ng-href=\"#/images/{{ stream.metadata.namespace }}/{{ stream.metadata.name }}\" translatable=\"yes\" class=\"hidden-xs\">Show all images</a> </div> <div class=\"listing-inline\"> <h3 translatable=\"yes\">Image</h3> <div class=\"listing-body container-fluid\" image-body></div> <h3 translatable=\"yes\">Container</h3> <div class=\"listing-body container-fluid\" image-config></div> <h3 translatable=\"yes\">Metadata</h3> <div class=\"listing-body container-fluid\" image-meta></div> </div>");
$templateCache.put("views/image-panel.html", "<div> <div class=\"listing-head\" ng-click=\"listing.collapse(id, $event)\"> <div class=\"listing-actions\"> <button class=\"btn btn-danger btn-delete pficon pficon-delete\" ng-click=\"deleteTag(stream, tag)\"></button> </div> <h3> <i class=\"pficon pficon-image\"></i> <span ng-if=\"labels.name\">{{ labels.name }}</span> <span ng-if=\"!labels.name\">{{ names[0] }}</span> </h3> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"> <a ng-click=\"tab('main', $event)\" translatable=\"yes\">Image</a> </li> <li ng-class=\"{active: tab('config')}\"> <a ng-click=\"tab('config', $event)\" translatable=\"yes\">Container</a> </li> <li ng-class=\"{active: tab('meta')}\"> <a ng-click=\"tab('meta', $event)\" translatable=\"yes\">Metadata</a> </li> </ul> </div> <div image-body class=\"listing-body\" ng-show=\"tab('main')\"> </div> <div image-config class=\"listing-body\" ng-show=\"tab('config')\"> </div> <div image-meta class=\"listing-body\" ng-if=\"tab('meta')\"> </div> </div>");
$templateCache.put("views/images-page.html", "<filter-bar class=\"content-filter\"> </filter-bar> <div image-listing> </div>");
$templateCache.put("views/imagestream-body.html", "<dl> <dt translatable=\"yes\">Pull repository</dt> <dd ng-if=\"stream.spec.dockerImageRepository\"><tt>{{stream.spec.dockerImageRepository}}</tt></dd> <dd ng-if=\"!stream.spec.dockerImageRepository\"><em translatable=\"yes\">None</em></dd> <dt translatable=\"yes\">Image count</dt> <dd translatable=\"yes\">{{stream.status.tags.length}}</dd> </dl> <p> <i class=\"fa fa-info-circle\"></i> <span translatable=\"yes\">To push to an image to this image stream:</span> </p> <pre>$ sudo docker tag <em>myimage</em> {{stream.status.dockerImageRepository}}:<em>tag</em>\n$ sudo docker push {{stream.status.dockerImageRepository}}</pre>");
$templateCache.put("views/imagestream-delete.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Delete image stream</h3> </div> <div class=\"modal-body\" translatable=\"yes\">Do you want to delete the '{{stream.metadata.namespace}}/{{stream.metadata.name}}' image stream?</div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-danger\" translatable=\"yes\" ng-click=\"complete(performDelete())\">Delete</button> </div> </modal-dialog>");
$templateCache.put("views/imagestream-meta.html", "<dl> <dt ng-if=\"stream.metadata.annotations\" translatable=\"yes\">Annotations</dt> <dd ng-repeat=\"(name, value) in stream.metadata.annotations\"><tt>{{name}}: {{value}}</tt></dd> </dl>");
$templateCache.put("views/imagestream-modify.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" ng-if=\"!stream\" translatable=\"yes\">Create image stream</h3> <h3 class=\"modal-title\" ng-if=\"stream\" translatable=\"yes\">Change image stream</h3> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr> <td> <label class=\"control-label\" for=\"imagestream-modify-name\" translatable=\"yes\">Name</label> </td> <td> <input id=\"imagestream-modify-name\" class=\"form-control\" ng-if=\"!stream\" ng-model=\"fields.name\" placeholder=\"eg: my-image-stream\" autofocus> <span id=\"imagestream-modify-name\" ng-if=\"stream\">{{ fields.name }}</span> </td> </tr> <tr> <td> <label class=\"control-label\" for=\"imagestream-modify-project-text\" translatable=\"yes\">Project</label> </td> <td> <div ng-if=\"!stream\" id=\"imagestream-modify-project\" class=\"input-group input-combo\"> <input class=\"form-control\" id=\"imagestream-modify-project-text\" ng-model=\"fields.project\"> <span class=\"input-group-btn\" dropdown> <button class=\"btn btn-default dropdown-toggle\" dropdown-toggle type=\"button\"> <span class=\"caret\"></span> </button> <ul dropdown-menu class=\"dropdown-menu\" role=\"menu\"> <li ng-repeat=\"name in projects() track by name\" ng-class=\"{ checked: name == fields.project }\"> <a ng-click=\"fields.project = name\" value=\"{{name}}\">{{ name }}</a> </li> </ul> </span> </div> <span id=\"imagestream-modify-project\" ng-if=\"stream\">{{ fields.project }}</span> </td> </tr> <tr> <td> <label class=\"control-label\" for=\"imagestream-modify-populate\" translatable=\"yes\">Populate</label> </td> <td> <div class=\"btn-group bootstrap-select form-control\" dropdown id=\"imagestream-modify-populate\"> <button class=\"btn btn-default dropdown-toggle\" dropdown-toggle> <span class=\"pull-left\">{{ labels.populate[fields.populate] }}</span> <span class=\"caret\"></span> </button> <ul class=\"dropdown-menu\"> <li ng-repeat=\"(value, label) in labels.populate\" ng-class=\"{checked: value == fields.populate}\"> <a ng-click=\"fields.populate = value\" value=\"{{value}}\">{{ label }}</a> </li> </ul> </div> </td> </tr> <tr ng-show=\"fields.populate != 'none'\"> <td> <label class=\"control-label\" for=\"imagestream-modify-pull\" translatable=\"yes\">Pull from</label> </td> <td> <input id=\"imagestream-modify-pull\" class=\"form-control\" ng-model=\"fields.pull\" placeholder=\"eg: docker.io/library/fedora\"> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" ng-if=\"stream\" ng-click=\"complete(performModify())\">Change</button> <button class=\"btn btn-primary\" ng-if=\"!stream\" ng-click=\"complete(performCreate())\">Create</button> </div> </modal-dialog>");
$templateCache.put("views/imagestream-page.html", "<div class=\"content-filter\"> <div class=\"listing-actions\"> <button class=\"btn btn-danger btn-delete pficon pficon-delete\" ng-click=\"deleteImageStream(stream)\"></button> <button class=\"btn btn-default pficon pficon-edit\" ng-click=\"modifyImageStream(stream)\"></button> </div> <h3> <i class=\"fa fa-folder\"></i> {{ stream.metadata.namespace }}/{{ stream.metadata.name}} </h3> <a ng-href=\"#{{ viewUrl('images') }}\" translatable=\"yes\">Show all image streams</a> </div> <div class=\"listing-inline\"> <h3 translatable=\"yes\">Image Stream</h3> <div class=\"listing-body\" imagestream-body></div> <h3 translatable=\"yes\">Images</h3> </div> <div image-listing> </div> <div class=\"listing-inline\"> <h3 translatable=\"yes\" ng-if=\"stream.metadata.annotations\">Metadata</h3> <div class=\"listing-body\" imagestream-meta></div> </div>");
$templateCache.put("views/imagestream-panel.html", "<div> <div class=\"listing-head\" ng-click=\"listing.collapse(id, $event)\"> <div class=\"listing-actions\"> <button class=\"btn btn-danger btn-delete pficon pficon-delete\" ng-click=\"deleteImageStream(stream)\"></button> <button class=\"btn btn-default pficon pficon-edit\" ng-click=\"modifyImageStream(stream)\"></button> </div> <h3><i class=\"fa fa-th-list\"></i>{{ stream.metadata.namespace}}/{{ stream.metadata.name }}</h3> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"><a ng-click=\"tab('main', $event)\">Image stream</a></li> <li ng-class=\"{active: tab('meta')}\"><a ng-click=\"tab('meta', $event)\">Metadata</a></li> </ul> </div> <div imagestream-body class=\"listing-body\" ng-show=\"tab('main')\"> </div> <div imagestream-meta class=\"listing-body\" ng-show=\"tab('meta')\"> </div> </div>");
$templateCache.put("views/add-group-dialog.html", "<modal-dialog> <div class=\"modal-header\"> <h4 class=\"modal-title\" translatable=\"yes\">Add Group</h4> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"group_name\" translatable=\"yes\"> Name </label> </td> <td> <input id=\"group_name\" ng-model=\"fields.name\" class=\"form-control\"> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" translatable=\"yes\" ng-click=\"complete(performCreate())\">Create</button> </div> </modal-dialog>");
$templateCache.put("views/add-user-dialog.html", "<modal-dialog> <div class=\"modal-header\"> <h4 class=\"modal-title\" translatable=\"yes\">Add User</h4> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"user_name\" translatable=\"yes\"> Name </label> </td> <td> <input id=\"user_name\" ng-model=\"fields.name\" class=\"form-control\"> </td> </tr> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"identities\" translatable=\"yes\"> Identity </label> </td> <td> <input id=\"identities\" ng-model=\"fields.identities\" class=\"form-control\"> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" translatable=\"yes\" ng-click=\"complete(performCreate())\">Add</button> </div> </modal-dialog>");
$templateCache.put("views/projects-page.html", "<filter-bar class=\"content-filter\"> </filter-bar> <div project-listing> </div>");
$templateCache.put("views/project-modify.html", "<modal-dialog> <div class=\"modal-header\"> <h4 class=\"modal-title\" ng-if=\"!project\" translatable=\"yes\">New project</h4> <h3 class=\"modal-title\" ng-if=\"project\" translatable=\"yes\">Change project</h3> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"project-new-name\" translatable=\"yes\">Name</label> </td> <td> <input id=\"project-new-name\" class=\"form-control\" ng-if=\"!project\" ng-model=\"fields.name\" autofocus> <span id=\"project-new-name\" ng-if=\"project\">{{ fields.name }}</span> </td> </tr> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"project-new-display\" translatable=\"yes\">Display name</label> </td> <td> <input id=\"project-new-display\" class=\"form-control\" ng-model=\"fields.display\"> </td> </tr> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"project-new-description\" translatable=\"yes\">Description</label> </td> <td> <input id=\"project-new-description\" class=\"form-control\" ng-model=\"fields.description\"> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" ng-if=\"!project\" ng-click=\"complete(performCreate())\" translatable=\"yes\">Create</button> <button class=\"btn btn-primary\" ng-if=\"project\" ng-click=\"complete(performModify())\" translatable=\"yes\">Change</button> </div> </modal-dialog>");
$templateCache.put("views/project-page.html", "<div class=\"content-filter\"> <div class=\"listing-actions\"> <button class=\"btn btn-danger btn-delete pficon pficon-delete\" disabled></button> <button class=\"btn btn-default pficon pficon-edit\" ng-click=\"modifyProject(project())\"></button> </div> <h3> <i class=\"pficon pficon-project\"></i> <span ng-if=\"project().metadata.annotations['openshift.io/display-name']\"> {{ project().metadata.annotations['openshift.io/display-name'] }} ({{ project().metadata.name }}) </span> <span ng-if=\"!project().metadata.annotations['openshift.io/display-name']\"> {{ project().metadata.name }} </span> </h3> <a ng-href=\"#/projects\" translatable=\"yes\">Show all projects</a> </div> <div class=\"listing-inline\"> <p class=\"project-description\" ng-if=\"project().metadata.annotations['openshift.io/description']\"> {{ project().metadata.annotations['openshift.io/description'] }} </p> <h3 translatable=\"yes\">Membership</h3> <table listing-table class=\"listing projects-listing\"> <thead> <tr> <th translatable=\"yes\">Project Members</th> <th translatable=\"yes\">Roles</th> <th translatable=\"yes\"></th> </tr> </thead> <tbody ng-repeat=\"user in users()\" ng-if=\"subjectIsMember(user, project().metadata.name)\"> <tr class=\"listing-item\"> <td>{{ user.metadata.name }}</td> <td> <span ng-repeat=\"role in subjectRoleBindings(user, project().metadata.name)\">{{ role.metadata.name }} </span> </td> <td></td> </tr> </tbody> <tbody ng-repeat=\"group in groups()\" ng-if=\"subjectIsMember(group, project().metadata.name)\"> <tr class=\"listing-item\"> <td>{{ group.metadata.name }}</td> <td> <span ng-repeat=\"role in subjectRoleBindings(group, project().metadata.name)\">{{ role.metadata.name }} </span> </td> <td></td> </tr> </tbody> <thead> <tr> <td colspan=\"3\"> <a class=\"pull-left\" disabled> <i translatable=\"yes\" class=\"pficon pficon-add-circle-o\"></i> <span translatable=\"yes\">Add Member</span> </a> </td> </tr> </thead> </table> </div>");
$templateCache.put("views/project-panel.html", "<div class=\"listing-head\" ng-click=\"listing.collapse(id, $event)\"> <div class=\"listing-actions\"> <button class=\"btn btn-danger btn-delete pficon pficon-delete\" disabled></button> <button class=\"btn btn-default pficon pficon-edit\" ng-click=\"modifyProject(project())\"></button> </div> <h3><i class=\"pficon pficon-project\"></i> <span ng-if=\"project().metadata.annotations['openshift.io/description']\"> {{ project().metadata.annotations['openshift.io/display-name'] }} ({{ project().metadata.name }}) </span> <span ng-if=\"!project().metadata.annotations['openshift.io/description']\"> {{ project().metadata.name }} </span> <span class=\"project-description\" ng-if=\"project().metadata.annotations['openshift.io/description']\"> <br>{{ project().metadata.annotations['openshift.io/description'] }} </span> </h3> </div> <div class=\"listing-body project-panel\" ng-show=\"tab('main')\"> <div> <table listing-table class=\"listing project-body\"> <thead> <tr> <th translatable=\"yes\">Project Members</th> <th translatable=\"yes\">Roles</th> <th translatable=\"yes\"></th> </tr> </thead> <tbody colspan=\"3\" ng-repeat=\"user in users()\" ng-if=\"subjectIsMember(user, project().metadata.name)\"> <tr class=\"listing-item inner-project-listing\"> <td>{{ user.metadata.name }}</td> <td> <span ng-repeat=\"role in subjectRoleBindings(user, project().metadata.name)\">{{ role.metadata.name }} </span> </td> <td></td> </tr> </tbody> <tbody colspan=\"3\" ng-repeat=\"group in groups()\" ng-if=\"subjectIsMember(group, project().metadata.name)\"> <tr class=\"listing-item inner-project-listing\"> <td>{{ group.metadata.name }}</td> <td> <span ng-repeat=\"role in subjectRoleBindings(group, project().metadata.name)\">{{ role.metadata.name }} </span> </td> <td></td> </tr> </tbody> <thead> <tr> <td colspan=\"3\"> <a class=\"pull-left\" disabled> <i translatable=\"yes\" class=\"pficon pficon-add-circle-o\"></i> <span translatable=\"yes\">Add Member</span> </a> </td> </tr> </thead> </table> </div> </div>");
$templateCache.put("views/project-listing.html", "<table listing-table class=\"listing projects-listing\"> <thead> <tr> <td colspan=\"3\"> <a class=\"pull-right\" ng-click=\"createProject()\"> <i translatable=\"yes\" class=\"pficon pficon-add-circle-o\"></i> <span translatable=\"yes\">New Project</span> </a> <h3 translatable=\"yes\">Projects</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\">Description</th> <th translatable=\"yes\">Members</th> </tr> </thead> <tbody ng-repeat-start=\"item in projects() track by item.metadata.name\" ng-init=\"sid = item.metadata.name\" data-id=\"{{ sid }}\" class=\"active\" ng-class=\"{ open: listing.expanded(sid) }\"> <tr class=\"listing-item\" ng-click=\"listing.toggle(sid)\"> <th>{{ item.metadata.name }}</th> <td>{{ item.metadata.annotations[\"openshift.io/description\"] }}</td> <td></td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(sid)\" ng-init=\"id = sid\"> <td project-panel colspan=\"3\"></td> </tr> </tbody> <tbody data-ng-rubbish=\"\" ng-if=\"0\" ng-repeat-end></tbody> <thead> <tr> <td colspan=\"3\"> <a class=\"pull-right\" id=\"add-group\" ng-click=\"createGroup()\"> <i translatable=\"yes\" class=\"pficon pficon-add-circle-o\"></i> <span translatable=\"yes\">New Group</span> </a> <h3 translatable=\"yes\">Groups</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\">Description</th> <th translatable=\"yes\">Members</th> </tr> </thead> <tbody ng-repeat=\"item in groups()\" class=\"active\"> <tr class=\"listing-item\"> <th>{{ item.metadata.name }}</th> <td></td> <td>{{ formatMembers(item.users, 'Users') }}</td> </tr> <tr class=\"listing-panel\" ng-if=\"selected(id)\"></tr> </tbody> <thead> <tr> <td colspan=\"3\"> <a class=\"pull-right\" id=\"add-user\" ng-click=\"createUser()\"> <i translatable=\"yes\" class=\"pficon pficon-add-circle-o\"></i> <span translatable=\"yes\">Add User</span> </a> <h3 translatable=\"yes\">Users</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\">Identity</th> <th translatable=\"yes\">Member of</th> </tr> </thead> <tbody ng-repeat=\"item in users()\" class=\"active\"> <tr class=\"listing-item\"> <th>{{ item.metadata.name }}</th> <td>{{ formatMembers(item.identities, 'Identities') }}</td> <td>{{ formatMembers(item.groups, 'Groups') }}</td> </tr> <tr class=\"listing-panel\" ng-if=\"selected(id)\"></tr> </tbody> </table>");
$templateCache.put("views/containers-page.html", "<filter-bar class=\"content-filter\"> </filter-bar> <div> <table listing-table class=\"listing containers-listing\"> <thead> <tr ng-if=\"!listing.only\"> <td colspan=\"4\"> <h3 translatable=\"yes\">Containers</h3> </td> </tr> <tr> </tr><tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\">Pod</th> <th translatable=\"yes\" ng-if=\"settings.flavor == 'openshift'\">Project</th> <th translatable=\"yes\" ng-if=\"settings.flavor != 'openshift'\">Namespace</th> <th translatable=\"yes\">Node</th> <th translatable=\"yes\">Status</th> </tr>  </thead> <tbody data-ng-rubbish=\"\" ng-if=\"0\" ng-repeat-start=\"item in pods | orderObjectBy:['metadata.namespace', 'metadata.name'] track by item.metadata.uid\"> </tbody> <tbody ng-repeat=\"container in containers(item) track by container.key\" class=\"active\" ng-class=\"{open: listing.expanded(container.key)}\"> <tr class=\"listing-item\" ng-click=\"listing.toggle(container.key)\" ng-if=\"!listing.only\"> <th>{{container.spec.name}}</th> <td>{{item.metadata.name}}</td> <td>{{item.metadata.namespace}}</td> <td>{{item.spec.nodeName}}</td> <td><span ng-repeat=\"(name, value) in container.status.state\">{{name}}</span></td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(id)\"> <td listing-panel kind=\"Container\" colspan=\"5\" ng-init=\"id = container.key\"></td> </tr> </tbody> <tbody data-ng-rubbish=\"\" ng-if=\"0\" ng-repeat-end> </tbody> </table> </div>");
$templateCache.put("views/container-body.html", "<div class=\"row\"> <div class=\"col-sm-6\"> <dl> <dt ng-if=\"item !== container\" translatable=\"yes\">Container</dt> <dd ng-if=\"item !== container\">{{container.spec.name}}</dd> <dt translatable=\"yes\">Image</dt> <dd>{{container.spec.image}}</dd> <dt ng-if=\"container.status.imageID\" translatable=\"yes\">Image ID</dt> <dd ng-if=\"container.status.imageID\"><tt>{{container.status.imageID | kubeIdentifier }}</tt></dd> <dt ng-if=\"container.status.containerID\" translatable=\"yes\">Container ID</dt> <dd ng-if=\"container.status.containerID\" revealable-text><tt>{{container.status.containerID | kubeIdentifier }}</tt></dd> <dt translatable=\"yes\">Ports</dt> <dd> <span ng-repeat=\"port in container.spec.ports\">{{port.containerPort}}/{{port.protocol}}</span> </dd> <dt ng-repeat-start=\"(state, args) in container.status.state\" translatable=\"yes\">State</dt> <dd>{{state}}</dd> <dt translatable=\"yes\">Since</dt> <dd ng-repeat-end>{{args.startedAt}}</dd> <dt ng-if=\"container.status\" translatable=\"yes\">Restart Count</dt> <dd ng-if=\"container.status\">{{container.status.restartCount}}</dd> </dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt ng-if=\"container.spec.env.length\" translatable=\"yes\">Environment</dt> <dd revealable-text ng-repeat=\"env in container.spec.env\"><tt>{{env.name}}=<span ng-class=\"{masked: should_mask(env.name)}\">{{env.value}}</span></tt> </dd> </dl> </div> </div>");
$templateCache.put("views/container-panel.html", "<div class=\"listing-head\" ng-click=\"listing.toggle(container.key)\"> <div class=\"listing-actions\"> </div> <h3><i class=\"fa fa-cube\"></i>{{container.spec.name}}</h3> <div class=\"listing-status\"> <span ng-repeat=\"(state, value) in container.status.state\">{{state}}</span> </div> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"> <a ng-click=\"tab('main', $event)\" translatable=\"yes\">Container</a></li> <li ng-class=\"{active: tab('logs')}\"> <a class=\"logs\" ng-click=\"tab('logs', $event); tabbed = true\" translatable=\"yes\">Logs</a></li> <li ng-class=\"{active: tab('shell')}\" ng-if=\"item.status.phase == 'Running' && container.status.state.running\"> <a class=\"shell\" ng-click=\"tab('shell', $event); tabbed = true\" translatable=\"yes\">Shell</a></li> </ul> </div> <div class=\"listing-body\" ng-show=\"tab('main')\"> <kube-container-body></kube-container-body> </div> <div class=\"listing-body\" ng-show=\"tab('logs')\"> <kube-console pod=\"item\" container=\"container.spec.name\" prevent=\"!tabbed\"> </kube-console> </div> <div class=\"listing-body\" ng-show=\"tab('shell')\" ng-if=\"item.status.phase == 'Running' && container.status.state.running\"> <kubernetes-container-terminal pod=\"item\" container=\"container.spec.name\" prevent=\"!tabbed\"> </kubernetes-container-terminal> </div>");
$templateCache.put("views/dashboard-page.html", "<filter-bar class=\"content-filter\"> </filter-bar> <div class=\"dashboard\"> <kubernetes-service-graph id=\"graphs\" ng-if=\"settings.flavor != 'openshift'\"></kubernetes-service-graph> <div class=\"row\" ng-class=\"{'dashboard-openshift': settings.flavor == 'openshift'}\"> <div class=\"col-md-8\"> <div id=\"service-list\" class=\"panel panel-default dashboard-list\" ng-class=\"{editable: editServices}\"> <div class=\"panel-heading\"> <div style=\"float: right\"> <button class=\"btn btn-default fa fa-check\" id=\"services-enable-change\" title=\"Change\" ng-click=\"toggleServiceChange()\" ng-class=\"{ active: editServices }\"></button> <button class=\"btn btn-primary\" id=\"deploy-app\" ng-click=\"deploy(namespaces(), namespace)\" translatable=\"yes\">Deploy</button> </div> <span translatable=\"yes\">Kubernetes Services</span> </div> <div class=\"well blank-slate-pf spacious\" ng-if=\"servicesState() == 'failed'\"> <div class=\"blank-slate-pf-icon\"> <i ng-if=\"failure.status == 403\" class=\"fa fa-lock\"></i> <i ng-if=\"failure.status != 403\" class=\"fa fa-exclamation-circle\"></i> </div> <h3 translatable=\"yes\">Could not list services</h3> <p>{{failure.message}}</p> </div> <div class=\"well blank-slate-pf spacious\" ng-if=\"servicesState() == 'empty'\"> <div class=\"blank-slate-pf-icon\"> <i class=\"fa fa-rocket\"></i> </div> <h3>No services present</h3> <p translatable=\"yes\">You can deploy an application to your cluster.</p> </div> <table class=\"table table-hover\" ng-if=\"servicesState() == 'ready'\"> <thead> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\">Address</th> <th translatable=\"yes\">Containers</th> <th translatable=\"yes\" ng-if=\"settings.flavor == 'openshift'\">Project</th> <th translatable=\"yes\" ng-if=\"settings.flavor != 'openshift'\">Namespace</th> <th class=\"status\"></th> </tr> </thead> <tbody> <tr ng-repeat=\"service in services track by service.metadata.uid\" data-name=\"{{service.metadata.name}}\" ng-class=\"{highlight: service.metadata.uid == highlighted}\" ng-click=\"jumpService($event, service)\" ng-mouseover=\"highlight(service.metadata.uid)\" ng-mouseout=\"highlight(null)\" ng-if=\"!(service.metadata.namespace == 'default' && service.metadata.name == 'kubernetes')\"> <td>{{service.metadata.name}}</td> <td><kubernetes-address ng-init=\"item = service\"></kubernetes-address></td> <td class=\"containers\">{{serviceContainers(service)}}</td> <td>{{service.metadata.namespace}}</td> <td class=\"status\"> <button title=\"Adjust\" class=\"btn btn-default adjust-service pficon pficon-edit\" data-id=\"{{id}}\" ng-click=\"modifyService(service)\"></button> <span kubernetes-status-icon status=\"serviceStatus(service)\"></span> </td> </tr> </tbody> </table> </div> </div> <div class=\"col-md-4\"> <div id=\"node-list\" class=\"panel panel-default dashboard-list\"> <div class=\"panel-heading\"> <span style=\"float: right\"> <button title=\"Add Kubernetes Node\" id=\"add-node\" class=\"btn btn-primary fa fa-plus\" ng-click=\"addNode()\"></button> </span> <span translatable=\"yes\">Kubernetes Nodes</span> </div> <table class=\"table table-hover\"> <thead> <tr> <th translatable=\"yes\">Machines</th> <th translatable=\"yes\">Address</th> <th translatable=\"yes\">Containers</th> <th class=\"status\"></th> </tr> </thead> <tbody> <tr ng-repeat=\"node in nodes\"> <td>{{node.metadata.name}}</td> <td>{{node.spec.externalID}}</td> <td class=\"containers\">{{nodeContainers(node)}}</td> <td class=\"status\"> <span kubernetes-status-icon status=\"nodeStatus(node)\"></span> </td> </tr> </tbody> </table> </div> </div> </div> </div>");
$templateCache.put("views/default-panel.html", "<div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <h3>{{ item.metadata.name }}</h3> </div> <div class=\"listing-body\"> </div>");
$templateCache.put("views/deploy.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Deploy Application</h3> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"deploy-app-type-label\" translatable=\"yes\">Type</label> </td> <td id=\"deploy-app-type-field\" class=\"dialog-wrapper\"> <div class=\"btn-group bootstrap-select deploy-type form-control\" dropdown> <button class=\"btn btn-default dropdown-toggle\" type=\"button\" dropdown-toggle> <span class=\"pull-left\">{{ selected.name }}</span> <span class=\"caret\"></span> </button> <ul class=\"dropdown-menu\"> <li ng-repeat=\"type in types\" ng-class=\"{ checked: selected.name == type.name }\"> <a ng-click=\"select(type)\">{{type.name}}</a> </li> </ul> </div> </td> </tr> <tr> <td class=\"top\"> <label class=\"control-label\" for=\"deploy-app-file\" translatable=\"yes\">{{ selected.name }}</label> </td> <td class=\"dialog-wrapper\"> <div ng-if=\"selected.type == 'manifest'\" file-button> </div> <input id=\"deploy-app-nulecule-image\" class=\"form-control\" placeholder=\"eg: docker/image\" ng-if=\"selected.type == 'nulecule'\"> </td> </tr> <tr> <td class=\"top\"> <label ng-if=\"flavor == 'openshift'\" class=\"control-label top\" for=\"deploy-app-namespace\" id=\"deploy-app-namespace-label\">Project</label> <label ng-if=\"flavor != 'openshift'\" class=\"control-label top\" for=\"deploy-app-namespace\" id=\"deploy-app-namespace-label\">Namespace</label> </td> <td class=\"dialog-wrapper\"> <div class=\"input-group bootstrap-select form-control\" id=\"deploy-app-namespace-group\" dropdown> <input id=\"deploy-app-namespace\" class=\"form-control\" placeholder=\"eg: myapplication\" ng-model=\"fields.namespace\"> <span class=\"input-group-btn\" dropdown style=\"position: relative\"> <button class=\"btn btn-default dropdown-toggle\" type=\"button\" dropdown-toggle> <span class=\"caret\"></span></button> <ul span ng-if=\"!namespace\" class=\"dropdown-menu dropdown-menu-right\"> <li ng-repeat=\"name in namespaces track by name\" ng-class=\"{ checked: fields.namespace == name }\"> <a ng-click=\"fields.namespace = name\">{{name}}</a> </li> </ul> </span></div> </td></tr></table></div>     <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" translatable=\"yes\" ng-click=\"complete(performDeploy())\">Deploy</button> </div> </modal-dialog>");
$templateCache.put("views/deploymentconfig-panel.html", "<div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <div class=\"listing-actions\"> <button title=\"Delete\" class=\"deployment-delete btn btn-danger btn-delete pficon pficon-delete delete-entity\" ng-click=\"deleteItem(item)\"></button> </div> <h3><i class=\"fa fa-gear\"></i>{{ item.metadata.name }}</h3> <div class=\"listing-status\"> {{item.status.conditions | nodeStatus}} </div> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"> <a ng-click=\"tab('main', $event)\" translatable=\"yes\">Deployment Config</a></li> <li ng-class=\"{active: tab('template')}\" ng-if=\"item.spec.template\"> <a ng-click=\"tab('template', $event)\" translatable=\"yes\">Template</a></li> </ul> </div> <div class=\"listing-body\" ng-show=\"tab('main')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <dl> <dt ng-if=\"settings.flavor == 'openshift'\" translatable=\"yes\">Project</dt> <dt ng-if=\"settings.flavor != 'openshift'\" translatable=\"yes\">Namespace</dt> <dd>{{ item.metadata.namespace }}</dd> <dt translatable=\"yes\">Created</dt> <dd title=\"{{ item.metadata.creationTimestamp }}\">{{ item.metadata.creationTimestamp | dateRelative }}</dd> <dt translatable=\"yes\">Replicas</dt> <dd>{{ item.spec.replicas }}</dd> <dt ng-if=\"item.spec.strategy.type\" translatable=\"yes\">Strategy <dd ng-if=\"item.spec.strategy.type\">{{item.spec.strategy.type}}</dd> </dt><dt translatable=\"yes\">Latest Version</dt> <dd ng-if=\"item.status.latestVersion\">{{ item.status.latestVersion }}</dd> <dd ng-if=\"!item.status.latestVersion\" translatable=\"yes\">Not deployed </dd></dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\" ng-if=\"item.status.details\">Deployment Causes</dt> <dd ng-if=\"item.status.details.message\">{{ item.status.details.message }}</dd> <dd ng-repeat=\"cause in item.status.details.causes\"> {{ cause.type }} <span ng-if=\"cause.imageTrigger.from\"> - {{ cause.imageTrigger.from.name }} <span> </span></span></dd> </dl> <dl class=\"full-width\"> <dt translatable=\"yes\" ng-if=\"item.spec.triggers\">Triggers</dt> <dd class=\"full\" ng-repeat=\"trigger in item.spec.triggers\"> {{ trigger.type }} <span ng-if=\"trigger.imageChangeParams.from\"> - {{ trigger.imageChangeParams.from.name }} </span> </dd> </dl> <dl class=\"full-width\"> <dt translatable=\"yes\">Labels</dt> <dd ng-if=\"!item.metadata.labels\">none </dd><dd ng-repeat=\"(key, value) in item.metadata.labels\">{{key}}={{value}}</dd> </dl> </div> </div> </div> <div class=\"listing-body\" ng-show=\"tab('template')\" ng-if=\"item.spec.template\"> <kube-pod-body ng-init=\"pod = item.spec.template\"> </kube-pod-body> <kube-container-body ng-repeat=\"container in containers(item.spec.template)\"> </kube-container-body> </div>");
$templateCache.put("views/details-page.html", "<filter-bar class=\"content-filter\"> </filter-bar> <div> <table listing-table class=\"listing details-listing\"> <thead ng-if=\"!listing.only\"> <tr> <td colspan=\"4\"> <h3 translatable=\"yes\">Nodes</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\">Operating System</th> <th translatable=\"yes\">Address</th> <th translatable=\"yes\">Status</th> </tr> </thead> <tbody ng-repeat=\"item in nodes track by itemIdentifier(item)\" class=\"active\" ng-init=\"id = itemIdentifier(item)\" ng-class=\"{open: listing.expanded(id)}\" data-id=\"{{id}}\"> <tr ng-click=\"listing.toggle(id)\" ng-if=\"!listing.only\" class=\"listing-item\"> <th>{{item.metadata.name}}</th> <td> <div ng-if=\"item.status.nodeInfo.osImage\">{{item.status.nodeInfo.osImage}}</div> </td> <td>{{item.spec.externalID}}</td> <td>{{item.status.conditions | nodeStatus}}</td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(id)\"> <td listing-panel kind=\"Node\" colspan=\"4\"></td> </tr> </tbody> <thead ng-if=\"!listing.only\"> <tr> <td colspan=\"4\"> <h3 translatable=\"yes\">Services</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\" ng-if=\"settings.flavor == 'openshift'\">Project</th> <th translatable=\"yes\" ng-if=\"settings.flavor != 'openshift'\">Namespace</th> <th translatable=\"yes\">Addresses</th> <th translatable=\"yes\">State</th> </tr> </thead> <tbody ng-repeat=\"item in services | orderObjectBy:['metadata.namespace', 'metadata.name'] as filtered_result track by itemIdentifier(item)\" ng-init=\"id = itemIdentifier(item)\" class=\"active\" data-id=\"{{id}}\" ng-class=\"{open: listing.expanded(id)}\"> <tr ng-click=\"listing.toggle(id)\" ng-if=\"!listing.only\" class=\"listing-item\"> <th>{{item.metadata.name}}</th> <td>{{item.metadata.namespace}}</td> <td><kubernetes-service-cluster></kubernetes-service-cluster></td> <td> <span ng-if=\"serviceEndpoint(item).subsets.length !== 0\" translatable=\"yes\">Ready</span> <span ng-if=\"serviceEndpoint(item).subsets.length === 0\" translatable=\"yes\">Not Ready</span> </td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(id)\"> <td listing-panel kind=\"Service\" colspan=\"4\"> </td> </tr> </tbody> <thead id=\"routes\" ng-if=\"!listing.only && settings.flavor == 'openshift'\"> <tr> <td colspan=\"4\"> <h3 translatable=\"yes\">Routes</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\" ng-if=\"settings.flavor == 'openshift'\">Project</th> <th translatable=\"yes\" ng-if=\"settings.flavor != 'openshift'\">Namespace</th> <th translatable=\"yes\">Host</th> <th translatable=\"yes\"></th> </tr> </thead> <tbody ng-repeat=\"item in routes | orderObjectBy:['metadata.namespace', 'metadata.name']  as filtered_result track by itemIdentifier(item)\" class=\"active\" ng-class=\"{open: listing.expanded(id)}\" ng-init=\"id = itemIdentifier(item)\" data-id=\"{{id}}\"> <tr ng-click=\"listing.toggle(id)\" ng-if=\"!listing.only\" class=\"listing-item\"> <th>{{item.metadata.name}}</th> <td>{{item.metadata.namespace}}</td> <td>{{item.spec.host}}</td> <td></td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(id)\"> <td listing-panel kind=\"Route\" colspan=\"4\"></td> </tr> </tbody> <thead id=\"deployment-configs\" ng-if=\"!listing.only && settings.flavor == 'openshift'\"> <tr> <td colspan=\"4\"> <h3 translatable=\"yes\">Deployment Configs</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\" ng-if=\"settings.flavor == 'openshift'\">Project</th> <th translatable=\"yes\" ng-if=\"settings.flavor != 'openshift'\">Namespace</th> <th translatable=\"yes\"></th> <th translatable=\"yes\">Latest Version</th> </tr> </thead> <tbody ng-repeat=\"item in deploymentconfigs | orderObjectBy:['metadata.namespace', 'metadata.name'] as filtered_result track by itemIdentifier(item)\" class=\"active\" ng-class=\"{open: listing.expanded(id)}\" ng-init=\"id = itemIdentifier(item)\" data-id=\"{{id}}\"> <tr ng-click=\"listing.toggle(id)\" ng-if=\"!listing.only\" class=\"listing-item\"> <th>{{item.metadata.name}}</th> <td>{{item.metadata.namespace}}</td> <td></td> <td ng-if=\"item.status.latestVersion\">{{ item.status.latestVersion }}</td> <td ng-if=\"!item.status.latestVersion\" translatable=\"yes\">Not deployed</td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(id)\"> <td listing-panel kind=\"DeploymentConfig\" colspan=\"4\"></td> </tr> </tbody> <thead ng-if=\"!listing.only\"> <tr> <td colspan=\"4\"> <h3 translatable=\"yes\">Replication Controllers</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\" ng-if=\"settings.flavor == 'openshift'\">Project</th> <th translatable=\"yes\" ng-if=\"settings.flavor != 'openshift'\">Namespace</th> <th translatable=\"yes\"></th> <th translatable=\"yes\">Replicas</th> </tr> </thead> <tbody ng-repeat=\"item in replicationcontrollers | orderObjectBy:['metadata.namespace', 'metadata.name'] as filtered_result track by itemIdentifier(item)\" ng-init=\"id = itemIdentifier(item)\" class=\"active\" data-id=\"{{id}}\" ng-class=\"{open: listing.expanded(id)}\"> <tr ng-click=\"listing.toggle(id)\" ng-if=\"!listing.only\" class=\"listing-item\"> <th>{{item.metadata.name}}</th> <td>{{item.metadata.namespace}}</td> <td></td> <td ng-if=\"item.spec.replicas == item.status.replicas\">{{ item.spec.replicas }}</td> <td ng-if=\"item.spec.replicas != item.status.replicas\">{{ item.status.replicas }} of {{ item.spec.replicas }}</td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(id)\"> <td listing-panel kind=\"ReplicationController\" colspan=\"4\"></td> </tr> </tbody> <thead ng-if=\"!listing.only\"> <tr> <td colspan=\"4\"> <h3 translatable=\"yes\">Pods</h3> </td> </tr> <tr> <th translatable=\"yes\">Name</th> <th translatable=\"yes\" ng-if=\"settings.flavor == 'openshift'\">Project</th> <th translatable=\"yes\" ng-if=\"settings.flavor != 'openshift'\">Namespace</th> <th translatable=\"yes\">Address</th> <th translatable=\"yes\">State</th> </tr> </thead> <tbody ng-repeat=\"item in pods | orderObjectBy:['metadata.namespace', 'metadata.name'] as filtered_result track by itemIdentifier(item)\" ng-init=\"id = itemIdentifier(item)\" class=\"active\" data-id=\"{{id}}\" ng-class=\"{open: listing.expanded(id)}\"> <tr ng-click=\"listing.toggle(id)\" ng-if=\"!listing.only\" class=\"listing-item\"> <th>{{item.metadata.name}}</th> <td>{{item.metadata.namespace}}</td> <td>{{item.status.podIP}}</td> <td>{{ podStatus(item) }}</td> </tr> <tr class=\"listing-panel\" ng-if=\"listing.expanded(id)\"> <td listing-panel kind=\"Pod\" colspan=\"4\"></td> </tr> </tbody> </table> </div>");
$templateCache.put("views/file-button.html", "<input id=\"deploy-app-manifest-file\" type=\"file\"> <button id=\"deploy-app-manifest-file-button\" class=\"btn btn-default form-control\" type=\"button\" ng-class=\"{manifest_file_default: !fields.filename, manifest_file: fields.filename}\"> <span ng-if=\"!fields.filename\" translatable=\"yes\">Select Manifest File...</span> <span ng-if=\"fields.filename\">{{ fields.filename }}</span> </button>");
$templateCache.put("views/item-delete.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Delete {{ item.kind }}</h3> </div> <div class=\"modal-body\"> <p translatable=\"yes\">Do you want to delete the {{ item.kind }} '{{item.metadata.name}}'?</p> <p ng-if=\"item.kind === 'Pod'\" translatable=\"yes\">Deleting a Pod will kill all associated containers. Pods may be automatically created again in some cases.</p> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-danger\" translatable=\"yes\" ng-click=\"complete(performDelete())\">Delete</button> </div> </modal-dialog>");
$templateCache.put("views/imagerepository-panel.html", "<div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <div class=\"listing-actions\"> <button class=\"btn btn-danger btn-delete pficon pficon-delete\" disabled></button> </div> <h3><i class=\"pficon pficon-image\"></i>{{ item.name }}</h3> <dl><dt translatable=\"yes\">From:</dt><dd>{{ item.source }}</dd></dl> <dl><dt translatable=\"yes\">Projects:</dt><dd>{{ item.imagestreams | imagesNamespaces }}</dd></dl> </div> <div class=\"listing-body\"> <table> <thead> <th translatable=\"yes\">Tags</th> <th translatable=\"yes\">Author</th> <th translatable=\"yes\">Docker</th> <th translatable=\"yes\">Architecture</th> <th translatable=\"yes\">Size</th> <th translatable=\"yes\">Last Updated</th> </thead> <tbody> <tr ng-repeat-start=\"image in item.images\" class=\"images-docker-reference\"> <td colspan=\"6\">{{image.dockerImageReference}}</td> </tr> <tr ng-repeat-end> <td>{{item.tags(image) | imagesTags:true}}</td> <td>{{image.dockerImageMetadata.Author}}</td> <td>{{image.dockerImageMetadata.DockerVersion}}</td> <td>{{image.dockerImageMetadata.Architecture}}</td> <td>{{image.dockerImageMetadata.Size | formatBytes}}</td> <td title=\"image.dockerImageMetadata.Created\">{{image.dockerImageMetadata.Created | dateRelative}}</td> </tr> </tbody> </table> </div>");
$templateCache.put("views/pod-body.html", "<div class=\"row\"> <div class=\"col-sm-6\"> <dl> <dt ng-if=\"item === pod && settings.flavor == 'openshift'\" translatable=\"yes\">Project</dt> <dt ng-if=\"item === pod && settings.flavor != 'openshift'\" translatable=\"yes\">Namespace</dt> <dd ng-if=\"item === pod\">{{ pod.metadata.namespace }}</dd> <dt ng-if=\"pod.metadata.creationTimestamp\" translatable=\"yes\">Created</dt> <dd ng-if=\"pod.metadata.creationTimestamp\" title=\"{{ pod.metadata.creationTimestamp }}\">{{ pod.metadata.creationTimestamp | dateRelative }}</dd> <dt translatable=\"yes\">Restart Policy</dt> <dd>{{ pod.spec.restartPolicy }}</dd> <dt translatable=\"yes\">Service Account</dt> <dd>{{ pod.spec.serviceAccountName }}</dd> <dt translatable=\"yes\">DNS Policy</dt> <dd>{{ pod.spec.dnsPolicy }}</dd> <dt ng-if=\"pod.status\" translatable=\"yes\">Phase</dt> <dd ng-if=\"pod.status\">{{pod.status.phase}}</dd> <dt ng-if=\"pod.spec.host\" translatable=\"yes\">Node</dt> <dd ng-if=\"pod.spec.host\">{{pod.spec.host}}</dd> <dt ng-if=\"pod.status\" translatable=\"yes\">Pod Address</dt> <dd ng-if=\"pod.status\">{{pod.status.podIP}}</dd> </dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Labels</dt> <dd ng-repeat=\"(key, value) in pod.metadata.labels\">{{key}}={{value}}</dd> </dl> </div> </div>");
$templateCache.put("views/pod-panel.html", "<div> <div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <div class=\"listing-actions\"> <button title=\"Delete\" class=\"delete-pod btn btn-danger btn-delete pficon pficon-delete\" ng-click=\"deleteItem(item)\"></button> </div> <h3><i class=\"fa fa-cubes\"></i>{{ item.metadata.name }}</h3> <div class=\"listing-status\"> <span>{{ podStatus(item) }}</span> </div> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"><a ng-click=\"tab('main', $event)\">Pod</a></li> <li ng-class=\"{active: tab('containers')}\"><a ng-click=\"tab('containers', $event)\">Containers</a></li> <li ng-class=\"{active: tab('logs')}\"> <a ng-click=\"tab('logs', $event); tabbed = true\">Logs</a></li> <li ng-class=\"{active: tab('shell')}\"> <a ng-click=\"tab('shell', $event); tabbed = true\">Shell</a></li> </ul> </div> <div class=\"listing-body\" ng-show=\"tab('main')\"> <kube-pod-body ng-init=\"pod = item\"> </kube-pod-body> </div> <div class=\"listing-body\" ng-show=\"tab('containers')\"> <kube-container-body ng-repeat=\"container in containers(item)\"> </kube-container-body> </div> <div class=\"listing-body\" ng-show=\"tab('logs')\"> <div class=\"container-fluid\" ng-repeat=\"container in containers(item)\" ng-class=\"{'container-more': !$first}\"> <p ng-if=\"!($first && $last)\">{{ container.spec.name }}</p> <kube-console pod=\"item\" container=\"container.spec.name\" prevent=\"!tabbed\"> </kube-console> </div> </div> <div class=\"listing-body\" ng-show=\"tab('shell')\"> <div class=\"container-fluid\" ng-repeat=\"container in containers(item)\" ng-if=\"item.status.phase == 'Running' && container.status.state.running\" ng-class=\"{'container-more': !$first}\"> <p ng-if=\"!($first && $last)\">{{ container.spec.name }}</p> <kubernetes-container-terminal pod=\"item\" container=\"container.spec.name\" prevent=\"!tabbed\"> </kubernetes-container-terminal> </div> </div> </div>");
$templateCache.put("views/node-add.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Add Cluster Node</h3> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr> <td class=\"top\"><label class=\"control-label\" for=\"node-name\" translatable=\"yes\" placeholder=\"eg: 198.51.10.25\">Address</label></td> <td class=\"top\"> <input id=\"node-address\" class=\"form-control\" ng-keyup=\"addressKeyUp($event)\" ng-model=\"fields.address\"> </td> </tr> <tr> <td class=\"top\"><label class=\"control-label\" for=\"node-name\" translatable=\"yes\" placeholder=\"eg: node-1\">Name</label></td> <td class=\"top\"> <input id=\"node-name\" class=\"form-control\" ng-keyup=\"nameKeyUp($event)\" ng-model=\"fields.name\"> </td> </tr> <tr class=\"node-configure-header\"> <td colspan=\"2\" class=\"header\" translatable=\"yes\">Configuration</td> </tr> <tr class=\"configure-option\"> <td></td> <td> <label> <!-- We don't support configuration for now --> <input type=\"checkbox\" ng-model=\"fields.proxy\" disabled> <span translatable=\"yes\">Configure Kubelet and Proxy</span> </label> </td> </tr> <tr class=\"configure-option\"> <td></td> <td> <label> <!-- We don't support configuration for now --> <input type=\"checkbox\" ng-model=\"fields.networking\" disabled> <span translatable=\"yes\">Configure Flannel networking</span> </label> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" translatable=\"yes\" ng-click=\"complete(performAdd())\">Add</button> </div> </modal-dialog>");
$templateCache.put("views/node-panel.html", "<div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <div class=\"listing-actions\"> </div> <h3><i class=\"fa fa-server\"></i>{{ item.metadata.name }}</h3> <div class=\"listing-status\"> {{item.status.conditions | nodeStatus}} </div> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"><a ng-click=\"tab('main', $event)\">Node</a></li> <li ng-class=\"{active: tab('capacity')}\"><a ng-click=\"tab('capacity', $event)\">Capacity</a></li> </ul> </div> <div class=\"listing-body\" ng-show=\"tab('main')\"> <div class=\"row\"> <div class=\"col-xs-12 col-md-6\"> <dl> <dt translatable=\"yes\">Created</dt> <dd title=\"{{ item.metadata.creationTimestamp }}\">{{ item.metadata.creationTimestamp | dateRelative }}</dd> <dt translatable=\"yes\">Address</dt> <dd>{{item.spec.externalID}}</dd> <dt translatable=\"yes\">IP</dt> <dd>{{item.status.addresses | nodeExternalIP }}</dd> <dt ng-if=\"item.status.nodeInfo.osImage\" translatable=\"yes\">OS</dt> <dd ng-if=\"item.status.nodeInfo.osImage\">{{item.status.nodeInfo.osImage}}</dd> <dt ng-if=\"item.status.nodeInfo.machineID\" translatable=\"yes\">Machine ID</dt> <dd ng-if=\"item.status.nodeInfo.machineID\"><tt>{{item.status.nodeInfo.machineID}}</tt></dd> <dt ng-if=\"item.status.nodeInfo.containerRuntimeVersion\" translatable=\"yes\">Container Runtime Version</dt> <dd ng-if=\"item.status.nodeInfo.containerRuntimeVersion\">{{item.status.nodeInfo.containerRuntimeVersion}}</dd> <dt ng-if=\"item.status.nodeInfo.kubeletVersion\" translatable=\"yes\">Kubelet Version</dt> <dd ng-if=\"item.status.nodeInfo.kubeletVersion\">{{item.status.nodeInfo.kubeletVersion}}</dd> <dt ng-if=\"item.status.nodeInfo.kubeProxyVersion\" translatable=\"yes\">Proxy Version</dt> <dd ng-if=\"item.status.nodeInfo.kubeProxyVersion\">{{item.status.nodeInfo.kubeProxyVersion}}</dd> </dl> </div> <div class=\"col-xs-12 col-md-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Labels</dt> <dd ng-repeat=\"(key, value) in item.metadata.labels\">{{key}}={{value}}</dd> <dd ng-if=\"!item.metadata.labels\" translatable=\"yes\">none</dd> </dl> </div> <div class=\"clearfix visible-md-block\"></div> <div class=\"col-xs-12 col-md-6\"> <dl ng-init=\"ready = nodeReadyCondition(item.status.conditions)\"> <dt translatable=\"yes\">Status</dt> <dd class=\"status\" ng-switch=\"ready.status\"> <span ng-switch-when=\"True\" translatable=\"yes\">Ready</span> <span ng-switch-when=\"False\" translatable=\"yes\">Not Ready</span> <span ng-switch-default translatable=\"yes\">Unknown</span> </dd> <dt translatable=\"yes\" ng-if=\"ready.reason\">Reason</dt> <dd ng-if=\"ready.reason\">{{ready.reason }}</dd> <dt translatable=\"yes\" ng-if=\"ready.message\">Message</dt> <dd ng-if=\"ready.message\">{{ready.reason }}</dd> <dt translatable=\"yes\" ng-if=\"ready.lastHeartbeatTime\">Last Heartbeat</dt> <dd ng-if=\"ready.lastHeartbeatTime\">{{ready.lastHeartbeatTime | dateRelative }}</dd> <dt translatable=\"yes\" ng-if=\"ready.lastTransitionTime\">Last Status Change</dt> <dd ng-if=\"ready.lastTransitionTime\">{{ready.lastTransitionTime | dateRelative }}</dd> </dl> </div> <div class=\"col-xs-12 col-md-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Annotations</dt> <dd ng-repeat=\"(key, value) in item.metadata.annotations\">{{key}}={{value}}</dd> <dd ng-if=\"!item.metadata.annotations\" translatable=\"yes\">none</dd> </dl> </div> </div> </div> <div class=\"listing-body\" ng-show=\"tab('capacity')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <dl> <dt ng-repeat-start=\"(key, value) in item.status.capacity\">{{ key | formatCapacityName }}</dt> <dd ng-repeat-end>{{ value | formatCapacityValue:key }}</dd> </dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\" ng-init=\"pods = nodePods(item)\"> <dt translatable=\"yes\">Scheduled Pods</dt> <dd ng-repeat=\"pod in pods\">{{ pod.metadata.name }}</dd> <dd ng-if=\"!pods.length\" translatable=\"yes\">No pods scheduled</dd> </dl> </div> </div> </div>");
$templateCache.put("views/replicationcontroller-panel.html", "<div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <div class=\"listing-actions\"> <button title=\"Delete\" class=\"delete-entity btn btn-danger btn-delete pficon pficon-delete\" ng-click=\"deleteItem(item)\"></button> <button title=\"Adjust\" class=\"adjust-entity btn btn-default pficon pficon-edit\" ng-click=\"modifyRC(item)\"></button> </div> <h3><i class=\"fa pficon-replicator\"></i>{{ item.metadata.name }}</h3> <div class=\"listing-status\"> <span ng-if=\"item.spec.replicas === item.status.replicas\">{{ item.spec.replicas }}</span> <span ng-if=\"item.spec.replicas !== item.status.replicas\">{{ item.status.replicas }} of {{ item.spec.replicas }}</span> </div> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"> <a ng-click=\"tab('main', $event)\" translatable=\"yes\">Replication Controller</a></li> <li ng-class=\"{active: tab('pods')}\"> <a ng-click=\"tab('pods', $event)\" translatable=\"yes\">Pods</a></li> <li ng-class=\"{active: tab('template')}\"> <a ng-click=\"tab('template', $event)\" translatable=\"yes\">Template</a></li> </ul> </div> <div class=\"listing-body\" ng-show=\"tab('main')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <dl> <dt ng-if=\"settings.flavor == 'openshift'\" translatable=\"yes\">Project</dt> <dt ng-if=\"settings.flavor != 'openshift'\" translatable=\"yes\">Namespace</dt> <dd>{{ item.metadata.namespace }}</dd> <dt translatable=\"yes\">Created</dt> <dd title=\"{{ item.metadata.creationTimestamp }}\">{{ item.metadata.creationTimestamp | dateRelative }}</dd> <dt translatable=\"yes\">Replicas</dt> <dd>{{ item.spec.replicas }}</dd> </dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Labels</dt> <dd ng-repeat=\"(key, value) in item.metadata.labels\">{{key}}={{value}}</dd> </dl> </div> </div> </div> <div class=\"listing-body\" ng-show=\"tab('pods')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <dl class=\"full-width\" ng-init=\"pods = replicationcontrollerPods(item)\"> <dt translatable=\"yes\">Pod Replicated</dt> <dd ng-repeat=\"pod in pods\">{{ pod.metadata.name }}</dd> <dd ng-if=\"!pods.length\" translatable=\"yes\">No pods replicated</dd> </dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Pod Selector</dt> <dd ng-repeat=\"(key, value) in item.spec.selector\">{{key}}={{value}}</dd> </dl> </div> </div> </div> <div class=\"listing-body\" ng-show=\"tab('template')\"> <kube-pod-body ng-init=\"pod = item.spec.template\"> </kube-pod-body> <kube-container-body ng-repeat=\"container in containers(item.spec.template)\"> </kube-container-body> </div>");
$templateCache.put("views/replicationcontroller-modify.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Adjust Replication Controller {{ item.metadata.name }}</h3> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr class=\"adjust-replicas-header\"> <td class=\"top\"><label class=\"control-label\" translatable=\"yes\">Replicas</label></td> <td> <input class=\"form-control adjust-replica\" id=\"replicas\" ng-model=\"fields.replicas\"> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" translatable=\"yes\" ng-click=\"complete(performModify())\">Change</button> </div> </modal-dialog>");
$templateCache.put("views/route-panel.html", "<div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <div class=\"listing-actions\"> <button title=\"Adjust\" class=\"btn btn-default pficon pficon-edit\" ng-click=\"modifyRoute(item)\"></button> <button title=\"Delete\" class=\"route-delete btn btn-danger btn-delete pficon pficon-delete\" ng-click=\"deleteItem(item)\"> </button> </div> <h3><i class=\"pficon pficon-route\"></i>{{ item.metadata.name }}</h3> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"><a ng-click=\"tab('main', $event)\">Route</a></li> </ul> </div> <div class=\"listing-body\" ng-show=\"tab('main')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <dl> <dt ng-if=\"settings.flavor == 'openshift'\" translatable=\"yes\">Project</dt> <dt ng-if=\"settings.flavor != 'openshift'\" translatable=\"yes\">Namespace</dt> <dd>{{ item.metadata.namespace }}</dd> <dt translatable=\"yes\">Created</dt> <dd title=\"{{ item.metadata.creationTimestamp }}\">{{ item.metadata.creationTimestamp | dateRelative }}</dd> <dt translatable=\"yes\">Host</dt> <dd>{{ item.spec.host }}</dd> <dt translatable=\"yes\">TLS Termination</dt> <dd ng-if=\"item.spec.tls.termination\" translatable=\"yes\">yes</dd> <dd ng-if=\"!item.spec.tls.termination\" translatable=\"yes\">no</dd> <dt ng-if=\"item.spec.to\">{{ item.spec.to.kind }} <dd ng-if=\"item.spec.to\">{{item.spec.to.name}}</dd> </dt></dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Labels</dt> <dd ng-repeat=\"(key, value) in item.metadata.labels\">{{key}}={{value}}</dd> <dd ng-if=\"!item.metadata.labels\" translatable=\"yes\">none</dd> </dl> <dl class=\"full-width\"> <dt translatable=\"yes\">Annotations</dt> <dd ng-repeat=\"(key, value) in item.metadata.annotations\">{{key}}={{value}}</dd> <dd ng-if=\"!item.metadata.annotations\" translatable=\"yes\">none</dd> </dl> </div> </div> </div>");
$templateCache.put("views/route-modify.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Adjust Route</h3> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr class=\"adjust-host-header\"> <td class=\"top\"><label class=\"control-label\" translatable=\"yes\">Host</label></td> <td> <input class=\"form-control adjust-host\" id=\"host-value\" ng-model=\"fields.host\"> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" translatable=\"yes\" ng-click=\"complete(performModify())\">Change</button> </div> </modal-dialog>");
$templateCache.put("views/service-modify.html", "<modal-dialog> <div class=\"modal-header\"> <h3 class=\"modal-title\" translatable=\"yes\">Adjust Service</h3> </div> <div class=\"modal-body\"> <table class=\"cockpit-form-table\"> <tr> <!-- We can't edit the name for now --> <td><label class=\"control-label\" for=\"adjust-name\" translatable=\"yes\">Name</label></td> <td><input id=\"adjust-name\" class=\"form-control\" disabled value=\"{{ service.metadata.name}}\"></td> </tr> <tr class=\"adjust-replicas-header\"> <td colspan=\"2\" class=\"header\">Replicas</td> </tr> <tr ng-repeat=\"item in fields track by item.name\" class=\"adjust-replicas\"> <td class=\"top\"><label class=\"control-label\" for=\"{{ item.name }}\" translatable=\"yes\">{{ item.name }}</label></td> <td> <input class=\"form-control adjust-replica\" id=\"{{ item.name }}\" ng-model=\"item.replicas\"> </td> </tr> </table> </div> <div class=\"modal-footer\"> <button class=\"btn btn-default btn-cancel\" translatable=\"yes\">Cancel</button> <button class=\"btn btn-primary\" translatable=\"yes\" ng-click=\"complete(performModify())\" ng-class=\"{disabled: rcs.length < 1}\">Adjust</button> </div> </modal-dialog>");
$templateCache.put("views/service-panel.html", "<div> <div class=\"listing-head\" ng-click=\"listing.toggle(id)\"> <div class=\"listing-actions\"> <button title=\"Delete\" class=\"btn btn-danger btn-delete pficon pficon-delete delete-entity\" ng-click=\"deleteItem(item)\"></button> </div> <h3><i class=\"fa pficon-service\"></i>{{ item.metadata.name }}</h3> <div class=\"listing-status\"> <span ng-if=\"serviceEndpoint(item).subsets.length !== 0\" translatable=\"yes\">Ready</span> <span ng-if=\"serviceEndpoint(item).subsets.length === 0\" translatable=\"yes\">Not Ready</span> </div> <ul class=\"nav nav-tabs nav-tabs-pf\"> <li ng-class=\"{active: tab('main')}\"><a ng-click=\"tab('main', $event)\">Service</a></li> <li ng-class=\"{active: tab('endpoints')}\"><a ng-click=\"tab('endpoints', $event)\">Endpoints</a></li> </ul> </div> <div class=\"listing-body\" ng-show=\"tab('main')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <dl> <dt ng-if=\"settings.flavor == 'openshift'\" translatable=\"yes\">Project</dt> <dt ng-if=\"settings.flavor != 'openshift'\" translatable=\"yes\">Namespace</dt> <dd>{{ item.metadata.namespace }}</dd> <dt translatable=\"yes\">Created</dt> <dd title=\"{{ item.metadata.creationTimestamp }}\">{{ item.metadata.creationTimestamp | dateRelative }}</dd> <dt translatable=\"yes\">IP</dt> <dd>{{ item.spec.clusterIP }}</dd> <dt translatable=\"yes\">Type</dt> <dd>{{ item.spec.type }}</dd> <dt translatable=\"yes\">Ports</dt> <dd> <div ng-if=\"!item.spec.ports.length\" translatable=\"yes\">None</div> <div ng-repeat=\"portMapping in item.spec.ports | orderBy:'port'\"> {{portMapping.port}} &#8594; {{portMapping.targetPort}} ({{portMapping.protocol}})</div> </dd> <dt translatable=\"yes\">Session Affinity</dt> <dd>{{ item.spec.sessionAffinity }}</dd> </dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Labels</dt> <dd ng-repeat=\"(key, value) in item.metadata.labels\">{{key}}={{value}}</dd> </dl> </div> </div> </div> <div class=\"listing-body\" ng-show=\"tab('endpoints')\"> <div class=\"row\"> <div class=\"col-sm-6\"> <dl class=\"full-width\" ng-repeat=\"subset in serviceEndpoint(item).subsets\"> <dt translatable=\"yes\">Pod Endpoints</dt> <dd ng-repeat=\"address in subset.addresses\"> {{ address.ip }} &#8594; {{ address.targetRef.name }}</dd> </dl> <dl ng-if=\"!serviceEndpoint(item).subsets.length\"> <dt translatable=\"yes\">Pod Endpoints</dt> <dd translatable=\"yes\">No pods selected</dd> </dl> </div> <div class=\"col-sm-6\"> <dl class=\"full-width\"> <dt translatable=\"yes\">Pod Selector</dt> <dd ng-repeat=\"(key, value) in item.spec.selector\">{{key}}={{value}}</dd> </dl> </div> </div> </div> </div>");
$templateCache.put("views/topology-page.html", "<filter-bar class=\"content-filter\"> </filter-bar> <div class=\"kube-pane\"> <div class=\"sidebar-pf sidebar-pf-right\"> <div class=\"sidebar-help\" ng-if=\"!selected\"> <p translatable=\"yes\">Select an object to see more details.</p> <kubernetes-topology-icon kind=\"Pod\"> <svg class=\"kube-topology\"> <use xlink:href=\"#vertex-Pod\" x=\"16\" y=\"16\"></use> </svg> </kubernetes-topology-icon> <h3 translatable=\"yes\">Pod</h3> <p translatable=\"yes\">Pods contain one or more containers that run together on a node, containing your application code.</p> <kubernetes-topology-icon kind=\"ReplicationController\"> <svg class=\"kube-topology\"> <use xlink:href=\"#vertex-ReplicationController\" x=\"16\" y=\"16\"></use> </svg> </kubernetes-topology-icon> <h3 translatable=\"yes\">Replication Controller</h3> <p translatable=\"yes\">Replication controllers dynamically create instances of pods from templates, and remove pods when necessary.</p> <kubernetes-topology-icon kind=\"Service\"> <svg class=\"kube-topology\"> <use xlink:href=\"#vertex-Service\" x=\"16\" y=\"16\"></use> </svg> </kubernetes-topology-icon> <h3 translatable=\"yes\">Service</h3> <p translatable=\"yes\">Services group pods and provide a common DNS name and an optional, load-balanced IP address to access them.</p> <kubernetes-topology-icon kind=\"Node\"> <svg class=\"kube-topology\"> <use xlink:href=\"#vertex-Node\" x=\"16\" y=\"16\"></use> </svg> </kubernetes-topology-icon> <h3 translatable=\"yes\">Node</h3> <p translatable=\"yes\">Nodes are the machines that run your containers.</p> </div> <div class=\"topology-actions\" ng-if=\"selected && !(selected.kind === &quot;Node&quot;)\"> <div ng-if=\"selected.kind === &quot;Pod&quot;\"> <button title=\"Delete\" class=\"btn btn-danger btn-delete pficon pficon-delete delete-entity\" ng-click=\"deleteItem(selected)\"></button> </div> <div ng-if=\"selected.kind === &quot;Route&quot;\"> <button title=\"Delete\" class=\"btn btn-danger btn-delete pficon pficon-delete delete-entity\" ng-click=\"deleteItem(selected)\"></button> <button title=\"Adjust\" class=\"btn btn-default pficon pficon-edit adjust-entity\" ng-click=\"modifyRoute(selected)\"></button> </div> <div ng-if=\"selected.kind === &quot;ReplicationController&quot;\"> <button title=\"Delete\" class=\"btn btn-danger btn-delete pficon pficon-delete delete-entity\" ng-click=\"deleteItem(selected)\"></button> <button id=\"adjust-entity-btn\" title=\"Adjust\" class=\"btn btn-default pficon pficon-edit adjust-entity\" ng-click=\"modifyRC(selected)\"></button> </div> <div ng-if=\"selected.kind === &quot;Service&quot; || selected.kind === &quot;DeploymentConfig&quot;\"> <button title=\"Delete\" class=\"btn btn-danger btn-delete pficon pficon-delete delete-entity\" ng-click=\"deleteItem(selected)\"></button> </div> </div> <kubernetes-object-describer ng-if=\"selected\" resource=\"selected\" kind=\"{{ selected.kind }}\" more-details-link=\"optional/path/to/more/details.html\"></kubernetes-object-describer> </div> </div> <svg class=\"kube-topology\" hidden> <defs> <g class=\"Node\" id=\"vertex-Node\"> <circle r=\"15\"></circle> <text y=\"9\">&#xe621;</text> </g> <g class=\"Pod\" id=\"vertex-Pod\"> <circle r=\"15\"></circle> <text y=\"6\" x=\"0.5\">&#xf1b3;</text> </g> <g class=\"Service\" id=\"vertex-Service\"> <circle r=\"15\"></circle> <text y=\"10\" x=\"1\">&#xe61e;</text> </g> <g class=\"ReplicationController\" id=\"vertex-ReplicationController\"> <circle r=\"15\"></circle> <text y=\"9\">&#xe624;</text> </g> <g class=\"DeploymentConfig\" id=\"vertex-DeploymentConfig\"> <circle r=\"15\"></circle> <text y=\"8\">&#xf013;</text> </g> <g class=\"Route\" id=\"vertex-Route\"> <circle r=\"15\"></circle> <text y=\"9\">&#xe625;</text> </g> </defs> </svg> <kubernetes-topology-graph items=\"items\" relations=\"relations\" kinds=\"kinds\" ng-style=\"height\"> </kubernetes-topology-graph>");
}]);})();
//# sourceURL=kubernetes/kubernetes-templates.js
